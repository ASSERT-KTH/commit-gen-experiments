BLEU SCORE: 0.519087769811935

TEST MSG: [ maven - release - plugin ] prepare for next development iteration
GENERATED MSG: [ maven - release - plugin ] prepare release checkstyle - 8 . 2

TEST DIFF (one line): diff - - git a / pom . xml b / pom . xml <nl> index 3b4c07f . . f9df7e0 100644 <nl> - - - a / pom . xml <nl> + + + b / pom . xml <nl> @ @ - 22 , 7 + 22 , 7 @ @ <nl> <nl> < groupId > com . puppycrawl . tools < / groupId > <nl> < artifactId > checkstyle < / artifactId > <nl> - < version > 8 . 2 < / version > <nl> + < version > 8 . 3 - SNAPSHOT < / version > <nl> < packaging > jar < / packaging > <nl> <nl> < name > checkstyle < / name >
NEAREST DIFF (one line): diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / doclets / TokenTypesDoclet . java b / src / main / java / com / puppycrawl / tools / checkstyle / doclets / TokenTypesDoclet . java <nl> index df7cce8 . . e752da6 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / doclets / TokenTypesDoclet . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / doclets / TokenTypesDoclet . java <nl> @ @ - 73 , 7 + 73 , 11 @ @ public final class TokenTypesDoclet { <nl> for ( final FieldDoc field : fields ) { <nl> if ( field . isStatic ( ) & & field . isPublic ( ) & & field . isFinal ( ) <nl> & & " int " . equals ( field . type ( ) . qualifiedTypeName ( ) ) ) { <nl> - if ( field . firstSentenceTags ( ) . length ! = 1 ) { <nl> + / / We have to filter " Text " tags because of jdk parsing bug <nl> + / / till Oracle reference id : 9050448 <nl> + if ( field . firstSentenceTags ( ) . length ! = 1 <nl> + & & Arrays . stream ( field . firstSentenceTags ( ) ) <nl> + . filter ( tag - > ! " Text " . equals ( tag . name ( ) ) ) . count ( ) ! = 1 ) { <nl> final List < Tag > tags = Arrays . asList ( field . firstSentenceTags ( ) ) ; <nl> final String joinedTags = tags <nl> . stream ( ) <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / doclets / TokenTypesDocletTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / doclets / TokenTypesDocletTest . java <nl> index d640838 . . 4c5ab42 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / doclets / TokenTypesDocletTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / doclets / TokenTypesDocletTest . java <nl> @ @ - 158 , 6 + 158 , 22 @ @ public class TokenTypesDocletTest extends AbstractPathTestSupport { <nl> <nl> } <nl> <nl> + @ Test <nl> + public void testJavadocTagPassValidation ( ) throws Exception { <nl> + final ListBuffer < String [ ] > options = new ListBuffer < > ( ) ; <nl> + options . add ( new String [ ] { " - destfile " , " target / tokentypes . properties " } ) ; <nl> + <nl> + final ListBuffer < String > names = new ListBuffer < > ( ) ; <nl> + names . add ( getPath ( " InputTokenTypesDocletJavadocParseError . java " ) ) ; <nl> + <nl> + final Context context = new Context ( ) ; <nl> + new TestMessager ( context ) ; <nl> + final JavadocTool javadocTool = JavadocTool . make0 ( context ) ; <nl> + final RootDoc rootDoc = getRootDoc ( javadocTool , options , names ) ; <nl> + <nl> + assertTrue ( " Should process valid root doc " , TokenTypesDoclet . start ( rootDoc ) ) ; <nl> + } <nl> + <nl> private static RootDoc getRootDoc ( JavadocTool javadocTool , ListBuffer < String [ ] > options , <nl> ListBuffer < String > names ) throws Exception { <nl> final Method getRootDocImpl = getMethodGetRootDocImplByReflection ( ) ; <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / doclets / InputTokenTypesDocletJavadocParseError . java b / src / test / resources / com / puppycrawl / tools / checkstyle / doclets / InputTokenTypesDocletJavadocParseError . java <nl> new file mode 100644 <nl> index 0000000 . . 73596ec <nl> - - - / dev / null <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / doclets / InputTokenTypesDocletJavadocParseError . java <nl> @ @ - 0 , 0 + 1 , 22 @ @ <nl> + package com . puppycrawl . tools . checkstyle . doclets ; <nl> + <nl> + public final class InputTokenTypesDocletJavadocParseError { <nl> + <nl> + private InputTokenTypesDocletJavadocParseError ( ) { <nl> + } <nl> + <nl> + / * * <nl> + * The < code > + < / code > ( unary plus ) operator . <nl> + * * / <nl> + public static final int CONSTANT1 = 1 ; <nl> + <nl> + / * * <nl> + * The { @ code + + } ( postfix increment ) operator . <nl> + * / <nl> + public static final int CONSTANT2 = 2 ; <nl> + <nl> + / * * <nl> + * Here you can see sentence without html or javadoc tags . <nl> + * * / <nl> + public static final int CONSTANT3 = 3 ; <nl> + }

TEST DIFF:
diff - - git a / pom . xml b / pom . xml 
 index 3b4c07f . . f9df7e0 100644 
 - - - a / pom . xml 
 + + + b / pom . xml 
 @ @ - 22 , 7 + 22 , 7 @ @ 
 
 < groupId > com . puppycrawl . tools < / groupId > 
 < artifactId > checkstyle < / artifactId > 
 - < version > 8 . 2 < / version > 
 + < version > 8 . 3 - SNAPSHOT < / version > 
 < packaging > jar < / packaging > 
 
 < name > checkstyle < / name >

NEAREST DIFF:
diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / doclets / TokenTypesDoclet . java b / src / main / java / com / puppycrawl / tools / checkstyle / doclets / TokenTypesDoclet . java 
 index df7cce8 . . e752da6 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / doclets / TokenTypesDoclet . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / doclets / TokenTypesDoclet . java 
 @ @ - 73 , 7 + 73 , 11 @ @ public final class TokenTypesDoclet { 
 for ( final FieldDoc field : fields ) { 
 if ( field . isStatic ( ) & & field . isPublic ( ) & & field . isFinal ( ) 
 & & " int " . equals ( field . type ( ) . qualifiedTypeName ( ) ) ) { 
 - if ( field . firstSentenceTags ( ) . length ! = 1 ) { 
 + / / We have to filter " Text " tags because of jdk parsing bug 
 + / / till Oracle reference id : 9050448 
 + if ( field . firstSentenceTags ( ) . length ! = 1 
 + & & Arrays . stream ( field . firstSentenceTags ( ) ) 
 + . filter ( tag - > ! " Text " . equals ( tag . name ( ) ) ) . count ( ) ! = 1 ) { 
 final List < Tag > tags = Arrays . asList ( field . firstSentenceTags ( ) ) ; 
 final String joinedTags = tags 
 . stream ( ) 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / doclets / TokenTypesDocletTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / doclets / TokenTypesDocletTest . java 
 index d640838 . . 4c5ab42 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / doclets / TokenTypesDocletTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / doclets / TokenTypesDocletTest . java 
 @ @ - 158 , 6 + 158 , 22 @ @ public class TokenTypesDocletTest extends AbstractPathTestSupport { 
 
 } 
 
 + @ Test 
 + public void testJavadocTagPassValidation ( ) throws Exception { 
 + final ListBuffer < String [ ] > options = new ListBuffer < > ( ) ; 
 + options . add ( new String [ ] { " - destfile " , " target / tokentypes . properties " } ) ; 
 + 
 + final ListBuffer < String > names = new ListBuffer < > ( ) ; 
 + names . add ( getPath ( " InputTokenTypesDocletJavadocParseError . java " ) ) ; 
 + 
 + final Context context = new Context ( ) ; 
 + new TestMessager ( context ) ; 
 + final JavadocTool javadocTool = JavadocTool . make0 ( context ) ; 
 + final RootDoc rootDoc = getRootDoc ( javadocTool , options , names ) ; 
 + 
 + assertTrue ( " Should process valid root doc " , TokenTypesDoclet . start ( rootDoc ) ) ; 
 + } 
 + 
 private static RootDoc getRootDoc ( JavadocTool javadocTool , ListBuffer < String [ ] > options , 
 ListBuffer < String > names ) throws Exception { 
 final Method getRootDocImpl = getMethodGetRootDocImplByReflection ( ) ; 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / doclets / InputTokenTypesDocletJavadocParseError . java b / src / test / resources / com / puppycrawl / tools / checkstyle / doclets / InputTokenTypesDocletJavadocParseError . java 
 new file mode 100644 
 index 0000000 . . 73596ec 
 - - - / dev / null 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / doclets / InputTokenTypesDocletJavadocParseError . java 
 @ @ - 0 , 0 + 1 , 22 @ @ 
 + package com . puppycrawl . tools . checkstyle . doclets ; 
 + 
 + public final class InputTokenTypesDocletJavadocParseError { 
 + 
 + private InputTokenTypesDocletJavadocParseError ( ) { 
 + } 
 + 
 + / * * 
 + * The < code > + < / code > ( unary plus ) operator . 
 + * * / 
 + public static final int CONSTANT1 = 1 ; 
 + 
 + / * * 
 + * The { @ code + + } ( postfix increment ) operator . 
 + * / 
 + public static final int CONSTANT2 = 2 ; 
 + 
 + / * * 
 + * Here you can see sentence without html or javadoc tags . 
 + * * / 
 + public static final int CONSTANT3 = 3 ; 
 + }
