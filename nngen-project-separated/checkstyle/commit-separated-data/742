BLEU SCORE: 0.07593603555191142

TEST MSG: Issue # 4500 : suppress pmd violations for it package
GENERATED MSG: PMD rules SwitchDensity and AvoidReassigningParameters are activated . Issue # 744

TEST DIFF (one line): diff - - git a / config / pmd - main . xml b / config / pmd - main . xml <nl> index c936bda . . 82fd133 100644 <nl> - - - a / config / pmd - main . xml <nl> + + + b / config / pmd - main . xml <nl> @ @ - 7 , 6 + 7 , 7 @ @ <nl> < description > <nl> PMD ruleset for Checkstyle main code <nl> < / description > <nl> + < exclude - pattern > . * / src / it / . * < / exclude - pattern > <nl> < exclude - pattern > . * / src / test / . * < / exclude - pattern > <nl> < rule ref = " config / pmd . xml " / > <nl> < / ruleset > <nl> diff - - git a / config / pmd - test . xml b / config / pmd - test . xml <nl> index 86fdc26 . . 6b59cd5 100644 <nl> - - - a / config / pmd - test . xml <nl> + + + b / config / pmd - test . xml <nl> @ @ - 55 , 6 + 55 , 10 @ @ <nl> < exclude name = " ShortMethodName " / > <nl> < ! - - tentative - - > <nl> < exclude name = " AvoidCatchingGenericException " / > <nl> + < ! - - tentative - - > <nl> + < exclude name = " NonThreadSafeSingleton " / > <nl> + < ! - - tentative - - > <nl> + < exclude name = " UseVarargs " / > <nl> < / rule > <nl> <nl> < rule ref = " rulesets / java / codesize . xml / NcssMethodCount " > <nl> @ @ - 69 , 6 + 73 , 8 @ @ <nl> < exclude name = " JUnitTestsShouldIncludeAssert " / > <nl> < ! - - tentative - - > <nl> < exclude name = " JUnitAssertionsShouldIncludeMessage " / > <nl> + < ! - - tentative - - > <nl> + < exclude name = " TestClassWithoutTestCases " / > <nl> < / rule > <nl> <nl> < rule ref = " config / pmd . xml / ConfusingTernary " > <nl> diff - - git a / pom . xml b / pom . xml <nl> index 4240b62 . . a025c91 100644 <nl> - - - a / pom . xml <nl> + + + b / pom . xml <nl> @ @ - 356 , 7 + 356 , 7 @ @ <nl> < ruleset > config / pmd - test . xml < / ruleset > <nl> < / rulesets > <nl> < excludeRoots > <nl> - < excludeRoot > src / it < / excludeRoot > <nl> + < excludeRoot > src / it / resources < / excludeRoot > <nl> < excludeRoot > src / test / resources < / excludeRoot > <nl> < excludeRoot > target / generated - sources / antlr < / excludeRoot > <nl> < excludeRoot > target / generated - sources / antlr / com / puppycrawl / tools / checkstyle / grammars / javadoc < / excludeRoot >
NEAREST DIFF (one line): diff - - git a / config / findbugs - exclude . xml b / config / findbugs - exclude . xml <nl> index d86604d . . 5a76127 100644 <nl> - - - a / config / findbugs - exclude . xml <nl> + + + b / config / findbugs - exclude . xml <nl> @ @ - 34 , 4 + 34 , 10 @ @ <nl> < Class name = " com . puppycrawl . tools . checkstyle . checks . indentation . LineWrappingHandler " / > <nl> < Bug pattern = " RCN _ REDUNDANT _ NULLCHECK _ OF _ NONNULL _ VALUE " / > <nl> < / Match > <nl> + < Match > <nl> + < ! - - till # 922 - - > <nl> + < Class name = " com . puppycrawl . tools . checkstyle . Checker " / > <nl> + < Method name = " setClassloader " / > <nl> + < Bug pattern = " NM _ CONFUSING " / > <nl> + < / Match > <nl> < / FindBugsFilter > <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / TreeWalker . java b / src / main / java / com / puppycrawl / tools / checkstyle / TreeWalker . java <nl> index ef7e40f . . a435366 100755 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / TreeWalker . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / TreeWalker . java <nl> @ @ - 467 , 7 + 467 , 7 @ @ public final class TreeWalker <nl> final String fullText = contents . getText ( ) . getFullText ( ) . toString ( ) ; <nl> final Reader sr = new StringReader ( fullText ) ; <nl> final GeneratedJavaLexer lexer = new GeneratedJavaLexer ( sr ) ; <nl> - lexer . setFilename ( contents . getFilename ( ) ) ; <nl> + lexer . setFilename ( contents . getFileName ( ) ) ; <nl> lexer . setCommentListener ( contents ) ; <nl> lexer . setTreatAssertAsKeyword ( true ) ; <nl> lexer . setTreatEnumAsKeyword ( true ) ; <nl> @ @ - 480 , 7 + 480 , 7 @ @ public final class TreeWalker <nl> <nl> final GeneratedJavaRecognizer parser = <nl> new GeneratedJavaRecognizer ( filter ) ; <nl> - parser . setFilename ( contents . getFilename ( ) ) ; <nl> + parser . setFilename ( contents . getFileName ( ) ) ; <nl> parser . setASTNodeClass ( DetailAST . class . getName ( ) ) ; <nl> parser . compilationUnit ( ) ; <nl> <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / api / FileContents . java b / src / main / java / com / puppycrawl / tools / checkstyle / api / FileContents . java <nl> index 5cdd084 . . 8b27e28 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / api / FileContents . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / api / FileContents . java <nl> @ @ - 47 , 7 + 47 , 7 @ @ public final class FileContents implements CommentListener <nl> . compile ( MATCH _ SINGLELINE _ COMMENT _ PAT ) ; <nl> <nl> / * * the file name * / <nl> - private final String filename ; <nl> + private final String fileName ; <nl> <nl> / * * the text * / <nl> private final FileText text ; <nl> @ @ - 76 , 7 + 76 , 7 @ @ public final class FileContents implements CommentListener <nl> * / <nl> @ Deprecated public FileContents ( String filename , String [ ] lines ) <nl> { <nl> - this . filename = filename ; <nl> + this . fileName = filename ; <nl> text = FileText . fromLines ( new File ( filename ) , Arrays . asList ( lines ) ) ; <nl> } <nl> <nl> @ @ - 87 , 7 + 87 , 7 @ @ public final class FileContents implements CommentListener <nl> * / <nl> public FileContents ( FileText text ) <nl> { <nl> - filename = text . getFile ( ) . toString ( ) ; <nl> + fileName = text . getFile ( ) . toString ( ) ; <nl> this . text = text ; <nl> } <nl> <nl> @ @ - 261 , 9 + 261 , 9 @ @ public final class FileContents implements CommentListener <nl> } <nl> <nl> / * * @ return the name of the file * / <nl> - public String getFilename ( ) <nl> + public String getFileName ( ) <nl> { <nl> - return filename ; <nl> + return fileName ; <nl> } <nl> <nl> / * * <nl> @ @ - 332 , 6 + 332 , 6 @ @ public final class FileContents implements CommentListener <nl> * / <nl> public boolean inPackageInfo ( ) <nl> { <nl> - return this . getFilename ( ) . endsWith ( " package - info . java " ) ; <nl> + return this . getFileName ( ) . endsWith ( " package - info . java " ) ; <nl> } <nl> } <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / OuterTypeFilenameCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / OuterTypeFilenameCheck . java <nl> index 0f7eb28 . . 80b611c 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / OuterTypeFilenameCheck . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / OuterTypeFilenameCheck . java <nl> @ @ - 111 , 7 + 111 , 7 @ @ public class OuterTypeFilenameCheck extends Check <nl> * / <nl> private String getFileName ( ) <nl> { <nl> - String fname = getFileContents ( ) . getFilename ( ) ; <nl> + String fname = getFileContents ( ) . getFileName ( ) ; <nl> fname = fname . substring ( fname . lastIndexOf ( File . separatorChar ) + 1 ) ; <nl> fname = fname . replaceAll ( " \ \ . [ ^ \ \ . ] * $ " , " " ) ; <nl> return fname ; <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / HtmlTag . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / HtmlTag . java <nl> index de50655 . . d175d7f 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / HtmlTag . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / HtmlTag . java <nl> @ @ - 111 , 7 + 111 , 7 @ @ class HtmlTag <nl> * Used for displaying a Checkstyle error . <nl> * @ return an int line number . <nl> * / <nl> - public int getLineno ( ) <nl> + public int getLineNo ( ) <nl> { <nl> return lineNo ; <nl> } <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocStyleCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocStyleCheck . java <nl> index 10c89f8 . . b9a2312 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocStyleCheck . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocStyleCheck . java <nl> @ @ - 371 , 8 + 371 , 8 @ @ public class JavadocStyleCheck <nl> final HtmlTag tag = parser . nextTag ( ) ; <nl> <nl> if ( tag . isIncompleteTag ( ) ) { <nl> - log ( tag . getLineno ( ) , INCOMPLETE _ TAG , <nl> - text [ tag . getLineno ( ) - lineno ] ) ; <nl> + log ( tag . getLineNo ( ) , INCOMPLETE _ TAG , <nl> + text [ tag . getLineNo ( ) - lineno ] ) ; <nl> return ; <nl> } <nl> if ( tag . isClosedTag ( ) ) { <nl> @ @ - 389 , 7 + 389 , 7 @ @ public class JavadocStyleCheck <nl> / / We have found a close tag . <nl> if ( isExtraHtml ( tag . getId ( ) , htmlStack ) ) { <nl> / / No corresponding open tag was found on the stack . <nl> - log ( tag . getLineno ( ) , <nl> + log ( tag . getLineNo ( ) , <nl> tag . getPosition ( ) , <nl> EXTRA _ HTML , <nl> tag ) ; <nl> @ @ - 409 , 7 + 409 , 7 @ @ public class JavadocStyleCheck <nl> & & ! htag . getId ( ) . equals ( lastFound ) <nl> & & ! typeParameters . contains ( htag . getId ( ) ) ) <nl> { <nl> - log ( htag . getLineno ( ) , htag . getPosition ( ) , UNCLOSED _ HTML , htag ) ; <nl> + log ( htag . getLineNo ( ) , htag . getPosition ( ) , UNCLOSED _ HTML , htag ) ; <nl> lastFound = htag . getId ( ) ; <nl> } <nl> } <nl> @ @ - 448 , 7 + 448 , 7 @ @ public class JavadocStyleCheck <nl> continue ; <nl> } <nl> lastFound = lastOpenTag . getId ( ) ; <nl> - log ( lastOpenTag . getLineno ( ) , <nl> + log ( lastOpenTag . getLineNo ( ) , <nl> lastOpenTag . getPosition ( ) , <nl> UNCLOSED _ HTML , <nl> lastOpenTag ) ;

TEST DIFF:
diff - - git a / config / pmd - main . xml b / config / pmd - main . xml 
 index c936bda . . 82fd133 100644 
 - - - a / config / pmd - main . xml 
 + + + b / config / pmd - main . xml 
 @ @ - 7 , 6 + 7 , 7 @ @ 
 < description > 
 PMD ruleset for Checkstyle main code 
 < / description > 
 + < exclude - pattern > . * / src / it / . * < / exclude - pattern > 
 < exclude - pattern > . * / src / test / . * < / exclude - pattern > 
 < rule ref = " config / pmd . xml " / > 
 < / ruleset > 
 diff - - git a / config / pmd - test . xml b / config / pmd - test . xml 
 index 86fdc26 . . 6b59cd5 100644 
 - - - a / config / pmd - test . xml 
 + + + b / config / pmd - test . xml 
 @ @ - 55 , 6 + 55 , 10 @ @ 
 < exclude name = " ShortMethodName " / > 
 < ! - - tentative - - > 
 < exclude name = " AvoidCatchingGenericException " / > 
 + < ! - - tentative - - > 
 + < exclude name = " NonThreadSafeSingleton " / > 
 + < ! - - tentative - - > 
 + < exclude name = " UseVarargs " / > 
 < / rule > 
 
 < rule ref = " rulesets / java / codesize . xml / NcssMethodCount " > 
 @ @ - 69 , 6 + 73 , 8 @ @ 
 < exclude name = " JUnitTestsShouldIncludeAssert " / > 
 < ! - - tentative - - > 
 < exclude name = " JUnitAssertionsShouldIncludeMessage " / > 
 + < ! - - tentative - - > 
 + < exclude name = " TestClassWithoutTestCases " / > 
 < / rule > 
 
 < rule ref = " config / pmd . xml / ConfusingTernary " > 
 diff - - git a / pom . xml b / pom . xml 
 index 4240b62 . . a025c91 100644 
 - - - a / pom . xml 
 + + + b / pom . xml 
 @ @ - 356 , 7 + 356 , 7 @ @ 
 < ruleset > config / pmd - test . xml < / ruleset > 
 < / rulesets > 
 < excludeRoots > 
 - < excludeRoot > src / it < / excludeRoot > 
 + < excludeRoot > src / it / resources < / excludeRoot > 
 < excludeRoot > src / test / resources < / excludeRoot > 
 < excludeRoot > target / generated - sources / antlr < / excludeRoot > 
 < excludeRoot > target / generated - sources / antlr / com / puppycrawl / tools / checkstyle / grammars / javadoc < / excludeRoot >

NEAREST DIFF:
diff - - git a / config / findbugs - exclude . xml b / config / findbugs - exclude . xml 
 index d86604d . . 5a76127 100644 
 - - - a / config / findbugs - exclude . xml 
 + + + b / config / findbugs - exclude . xml 
 @ @ - 34 , 4 + 34 , 10 @ @ 
 < Class name = " com . puppycrawl . tools . checkstyle . checks . indentation . LineWrappingHandler " / > 
 < Bug pattern = " RCN _ REDUNDANT _ NULLCHECK _ OF _ NONNULL _ VALUE " / > 
 < / Match > 
 + < Match > 
 + < ! - - till # 922 - - > 
 + < Class name = " com . puppycrawl . tools . checkstyle . Checker " / > 
 + < Method name = " setClassloader " / > 
 + < Bug pattern = " NM _ CONFUSING " / > 
 + < / Match > 
 < / FindBugsFilter > 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / TreeWalker . java b / src / main / java / com / puppycrawl / tools / checkstyle / TreeWalker . java 
 index ef7e40f . . a435366 100755 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / TreeWalker . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / TreeWalker . java 
 @ @ - 467 , 7 + 467 , 7 @ @ public final class TreeWalker 
 final String fullText = contents . getText ( ) . getFullText ( ) . toString ( ) ; 
 final Reader sr = new StringReader ( fullText ) ; 
 final GeneratedJavaLexer lexer = new GeneratedJavaLexer ( sr ) ; 
 - lexer . setFilename ( contents . getFilename ( ) ) ; 
 + lexer . setFilename ( contents . getFileName ( ) ) ; 
 lexer . setCommentListener ( contents ) ; 
 lexer . setTreatAssertAsKeyword ( true ) ; 
 lexer . setTreatEnumAsKeyword ( true ) ; 
 @ @ - 480 , 7 + 480 , 7 @ @ public final class TreeWalker 
 
 final GeneratedJavaRecognizer parser = 
 new GeneratedJavaRecognizer ( filter ) ; 
 - parser . setFilename ( contents . getFilename ( ) ) ; 
 + parser . setFilename ( contents . getFileName ( ) ) ; 
 parser . setASTNodeClass ( DetailAST . class . getName ( ) ) ; 
 parser . compilationUnit ( ) ; 
 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / api / FileContents . java b / src / main / java / com / puppycrawl / tools / checkstyle / api / FileContents . java 
 index 5cdd084 . . 8b27e28 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / api / FileContents . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / api / FileContents . java 
 @ @ - 47 , 7 + 47 , 7 @ @ public final class FileContents implements CommentListener 
 . compile ( MATCH _ SINGLELINE _ COMMENT _ PAT ) ; 
 
 / * * the file name * / 
 - private final String filename ; 
 + private final String fileName ; 
 
 / * * the text * / 
 private final FileText text ; 
 @ @ - 76 , 7 + 76 , 7 @ @ public final class FileContents implements CommentListener 
 * / 
 @ Deprecated public FileContents ( String filename , String [ ] lines ) 
 { 
 - this . filename = filename ; 
 + this . fileName = filename ; 
 text = FileText . fromLines ( new File ( filename ) , Arrays . asList ( lines ) ) ; 
 } 
 
 @ @ - 87 , 7 + 87 , 7 @ @ public final class FileContents implements CommentListener 
 * / 
 public FileContents ( FileText text ) 
 { 
 - filename = text . getFile ( ) . toString ( ) ; 
 + fileName = text . getFile ( ) . toString ( ) ; 
 this . text = text ; 
 } 
 
 @ @ - 261 , 9 + 261 , 9 @ @ public final class FileContents implements CommentListener 
 } 
 
 / * * @ return the name of the file * / 
 - public String getFilename ( ) 
 + public String getFileName ( ) 
 { 
 - return filename ; 
 + return fileName ; 
 } 
 
 / * * 
 @ @ - 332 , 6 + 332 , 6 @ @ public final class FileContents implements CommentListener 
 * / 
 public boolean inPackageInfo ( ) 
 { 
 - return this . getFilename ( ) . endsWith ( " package - info . java " ) ; 
 + return this . getFileName ( ) . endsWith ( " package - info . java " ) ; 
 } 
 } 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / OuterTypeFilenameCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / OuterTypeFilenameCheck . java 
 index 0f7eb28 . . 80b611c 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / OuterTypeFilenameCheck . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / OuterTypeFilenameCheck . java 
 @ @ - 111 , 7 + 111 , 7 @ @ public class OuterTypeFilenameCheck extends Check 
 * / 
 private String getFileName ( ) 
 { 
 - String fname = getFileContents ( ) . getFilename ( ) ; 
 + String fname = getFileContents ( ) . getFileName ( ) ; 
 fname = fname . substring ( fname . lastIndexOf ( File . separatorChar ) + 1 ) ; 
 fname = fname . replaceAll ( " \ \ . [ ^ \ \ . ] * $ " , " " ) ; 
 return fname ; 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / HtmlTag . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / HtmlTag . java 
 index de50655 . . d175d7f 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / HtmlTag . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / HtmlTag . java 
 @ @ - 111 , 7 + 111 , 7 @ @ class HtmlTag 
 * Used for displaying a Checkstyle error . 
 * @ return an int line number . 
 * / 
 - public int getLineno ( ) 
 + public int getLineNo ( ) 
 { 
 return lineNo ; 
 } 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocStyleCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocStyleCheck . java 
 index 10c89f8 . . b9a2312 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocStyleCheck . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocStyleCheck . java 
 @ @ - 371 , 8 + 371 , 8 @ @ public class JavadocStyleCheck 
 final HtmlTag tag = parser . nextTag ( ) ; 
 
 if ( tag . isIncompleteTag ( ) ) { 
 - log ( tag . getLineno ( ) , INCOMPLETE _ TAG , 
 - text [ tag . getLineno ( ) - lineno ] ) ; 
 + log ( tag . getLineNo ( ) , INCOMPLETE _ TAG , 
 + text [ tag . getLineNo ( ) - lineno ] ) ; 
 return ; 
 } 
 if ( tag . isClosedTag ( ) ) { 
 @ @ - 389 , 7 + 389 , 7 @ @ public class JavadocStyleCheck 
 / / We have found a close tag . 
 if ( isExtraHtml ( tag . getId ( ) , htmlStack ) ) { 
 / / No corresponding open tag was found on the stack . 
 - log ( tag . getLineno ( ) , 
 + log ( tag . getLineNo ( ) , 
 tag . getPosition ( ) , 
 EXTRA _ HTML , 
 tag ) ; 
 @ @ - 409 , 7 + 409 , 7 @ @ public class JavadocStyleCheck 
 & & ! htag . getId ( ) . equals ( lastFound ) 
 & & ! typeParameters . contains ( htag . getId ( ) ) ) 
 { 
 - log ( htag . getLineno ( ) , htag . getPosition ( ) , UNCLOSED _ HTML , htag ) ; 
 + log ( htag . getLineNo ( ) , htag . getPosition ( ) , UNCLOSED _ HTML , htag ) ; 
 lastFound = htag . getId ( ) ; 
 } 
 } 
 @ @ - 448 , 7 + 448 , 7 @ @ public class JavadocStyleCheck 
 continue ; 
 } 
 lastFound = lastOpenTag . getId ( ) ; 
 - log ( lastOpenTag . getLineno ( ) , 
 + log ( lastOpenTag . getLineNo ( ) , 
 lastOpenTag . getPosition ( ) , 
 UNCLOSED _ HTML , 
 lastOpenTag ) ;
