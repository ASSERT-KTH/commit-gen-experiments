BLEU SCORE: 0.027611988917697356

TEST MSG: Issue # 4100 : enable PackageDeclarationCheck on resources
GENERATED MSG: Upgrade to ANTLR 2 . 7 . 6

TEST DIFF (one line): diff - - git a / config / ant - phase - verify . xml b / config / ant - phase - verify . xml <nl> index ddffe66 . . a0f9797 100644 <nl> - - - a / config / ant - phase - verify . xml <nl> + + + b / config / ant - phase - verify . xml <nl> @ @ - 16 , 6 + 16 , 8 @ @ <nl> < property name = " check . config " location = " config / checkstyle _ checks . xml " / > <nl> < property name = " check . config _ non _ main " <nl> location = " config / checkstyle _ non _ main _ files _ checks . xml " / > <nl> + < property name = " check . config _ resources " <nl> + location = " config / checkstyle _ resources _ checks . xml " / > <nl> <nl> < tstamp > <nl> < format property = " STARTED " pattern = " dd / MM / yyyy hh : mm : ss aa " / > <nl> @ @ - 117 , 6 + 119 , 64 @ @ <nl> < / tstamp > <nl> < echo > Checkstyle finished ( checkstyle _ non _ main _ files _ checks . xml ) : $ { FINISHED } < / echo > <nl> <nl> + < tstamp > <nl> + < format property = " STARTED " pattern = " dd / MM / yyyy hh : mm : ss aa " / > <nl> + < / tstamp > <nl> + < echo > Checkstyle started ( checkstyle _ resources _ checks . xml ) : $ { STARTED } < / echo > <nl> + <nl> + < checkstyle config = " $ { check . config _ resources } " <nl> + failOnViolation = " true " <nl> + failureProperty = " checkstyle . failure . property " <nl> + executeIgnoredModules = " true " <nl> + > <nl> + < path > <nl> + < fileset dir = " src " includes = " test / resources / * * / * , test / resources - noncompilable / * * / * " > <nl> + < ! - - bad syntax , permanent exclude - - > <nl> + < exclude name = " * * / InputAstTreeStringPrinter . java " / > <nl> + < exclude name = " * * / InputSuppressionsStringPrinter . java " / > <nl> + < exclude name = " * * / InputMainIncorrectClass . java " / > <nl> + < exclude name = " * * / InputJavadocPropertiesGeneratorParseError . java " / > <nl> + < exclude name = " * * / InputMainFrameModelIncorrectClass . java " / > <nl> + < exclude name = " * * / InputBeforeExecutionExclusionFileFilterIncorrectClass . java " / > <nl> + < ! - - till https : / / github . com / checkstyle / checkstyle / issues / 4100 - - > <nl> + < exclude name = " * * / InputPackageDeclarationWithCommentOnly . java " / > <nl> + < exclude name = " * * / InputJava9TryWithResources . java " / > <nl> + < exclude name = " * * / InputIllegalInstantiationLang . java " / > <nl> + < exclude name = " * * / InputIllegalInstantiationNoPackage . java " / > <nl> + < exclude name = " * * / InputPackageDeclarationDiffDirectory . java " / > <nl> + < exclude name = " * * / InputPackageDeclarationDiffDirectoryAtParent . java " / > <nl> + < exclude name = " * * / InputPackageDeclarationDiffDirectoryAtSubpackage . java " / > <nl> + < exclude name = " * * / InputPackageDeclarationNoPackage . java " / > <nl> + < exclude <nl> + name = " * * / InputFinalClassClassWithPrivateCtorWithNestedExtendingClassWithoutPackage . java " / > <nl> + < exclude name = " * * / InputCustomImportOrderDefaultPackage . java " / > <nl> + < exclude name = " * * / InputCustomImportOrderNoPackage . java " / > <nl> + < exclude name = " * * / InputCustomImportOrderNoPackage2 . java " / > <nl> + < exclude name = " * * / InputCustomImportOrderSamePackage . java " / > <nl> + < exclude name = " * * / InputCustomImportOrderSamePackageDepth25 . java " / > <nl> + < exclude name = " * * / InputImportOrderEclipseStatic . java " / > <nl> + < exclude name = " * * / InputImportOrderEclipseStaticCaseSensitive . java " / > <nl> + < exclude name = " * * / InputImportOrderEclipseStaticRepetition . java " / > <nl> + < exclude name = " * * / InputImportOrderGetGroupNumber . java " / > <nl> + < exclude name = " * * / InputImportOrder _ MultiplePatternMatches . java " / > <nl> + < exclude name = " * * / InputRedundantImport _ UnnamedPackage . java " / > <nl> + < exclude name = " * * / InputUnusedImportsAnnotations . java " / > <nl> + < exclude name = " * * / InputUnusedImportsFileInUnnamedPackage . java " / > <nl> + < exclude name = " * * / InputIndentationPackageDeclaration2 . java " / > <nl> + < exclude name = " * * / InputLineLengthLongPackageStatement . java " / > <nl> + < exclude name = " * * / outertypefilename / package - info . java " / > <nl> + < / fileset > <nl> + < / path > <nl> + < formatter type = " plain " / > <nl> + < formatter type = " xml " toFile = " $ { mvn . project . build . directory } / cs _ resources _ errors . xml " / > <nl> + < classpath path = " $ { mvn . runtime _ classpath } " / > <nl> + < / checkstyle > <nl> + <nl> + < tstamp > <nl> + < format property = " FINISHED " pattern = " dd / MM / yyyy hh : mm : ss aa " / > <nl> + < / tstamp > <nl> + < echo > Checkstyle finished ( checkstyle _ resources _ checks . xml ) : $ { FINISHED } < / echo > <nl> + <nl> < fail if = " checkstyle . failure . property " <nl> message = " Checkstyle failed : $ { checkstyle . failure . property } " <nl> / > <nl> diff - - git a / config / checkstyle _ resources _ checks . xml b / config / checkstyle _ resources _ checks . xml <nl> new file mode 100644 <nl> index 0000000 . . cf1e648 <nl> - - - / dev / null <nl> + + + b / config / checkstyle _ resources _ checks . xml <nl> @ @ - 0 , 0 + 1 , 16 @ @ <nl> + < ? xml version = " 1 . 0 " ? > <nl> + < ! DOCTYPE module PUBLIC <nl> + " - / / Checkstyle / / DTD Checkstyle Configuration 1 . 3 / / EN " <nl> + " https : / / checkstyle . org / dtds / configuration _ 1 _ 3 . dtd " > <nl> + <nl> + < module name = " Checker " > <nl> + < property name = " charset " value = " UTF - 8 " / > <nl> + < property name = " haltOnException " value = " false " / > <nl> + <nl> + < ! - - Hard coded until https : / / issues . apache . org / jira / browse / MCHECKSTYLE - 332 is released . - - > <nl> + < property name = " cacheFile " value = " target / cache _ resources " / > <nl> + <nl> + < module name = " TreeWalker " > <nl> + < module name = " PackageDeclarationCheck " / > <nl> + < / module > <nl> + < / module >
NEAREST DIFF (one line): diff - - git a / src / checkstyle / com / puppycrawl / tools / checkstyle / checks / coding / MagicNumberCheck . java b / src / checkstyle / com / puppycrawl / tools / checkstyle / checks / coding / MagicNumberCheck . java <nl> index 3a6943a . . 2433317 100644 <nl> - - - a / src / checkstyle / com / puppycrawl / tools / checkstyle / checks / coding / MagicNumberCheck . java <nl> + + + b / src / checkstyle / com / puppycrawl / tools / checkstyle / checks / coding / MagicNumberCheck . java <nl> @ @ - 116 , 7 + 116 , 8 @ @ public class MagicNumberCheck extends Check <nl> { <nl> DetailAST varDefAST = aAST ; <nl> while ( varDefAST ! = null <nl> - & & varDefAST . getType ( ) ! = TokenTypes . VARIABLE _ DEF ) <nl> + & & varDefAST . getType ( ) ! = TokenTypes . VARIABLE _ DEF <nl> + & & varDefAST . getType ( ) ! = TokenTypes . ENUM _ CONSTANT _ DEF ) <nl> { <nl> varDefAST = varDefAST . getParent ( ) ; <nl> } <nl> @ @ - 127 , 7 + 128 , 9 @ @ public class MagicNumberCheck extends Check <nl> } <nl> <nl> / / implicit constant ? <nl> - if ( ScopeUtils . inInterfaceOrAnnotationBlock ( varDefAST ) ) { <nl> + if ( ScopeUtils . inInterfaceOrAnnotationBlock ( varDefAST ) <nl> + | | varDefAST . getType ( ) = = TokenTypes . ENUM _ CONSTANT _ DEF ) <nl> + { <nl> return varDefAST ; <nl> } <nl> <nl> diff - - git a / src / tests / com / puppycrawl / tools / checkstyle / checks / coding / MagicNumberCheckTest . java b / src / tests / com / puppycrawl / tools / checkstyle / checks / coding / MagicNumberCheckTest . java <nl> index 46df72e . . e556817 100644 <nl> - - - a / src / tests / com / puppycrawl / tools / checkstyle / checks / coding / MagicNumberCheckTest . java <nl> + + + b / src / tests / com / puppycrawl / tools / checkstyle / checks / coding / MagicNumberCheckTest . java <nl> @ @ - 43 , 8 + 43 , 6 @ @ public class MagicNumberCheckTest <nl> " 115 : 37 : ' 020000000000 ' is a magic number . " , <nl> " 116 : 38 : ' 01000000000000000000000L ' is a magic number . " , <nl> " 131 : 20 : ' 378 ' is a magic number . " , <nl> - " 148 : 7 : ' 3 ' is a magic number . " , <nl> - " 149 : 7 : ' 54 ' is a magic number . " , <nl> } ; <nl> verify ( checkConfig , getPath ( " InputMagicNumber . java " ) , expected ) ; <nl> } <nl> @ @ - 84 , 7 + 82 , 6 @ @ public class MagicNumberCheckTest <nl> " 115 : 37 : ' 020000000000 ' is a magic number . " , <nl> " 116 : 38 : ' 01000000000000000000000L ' is a magic number . " , <nl> " 131 : 20 : ' 378 ' is a magic number . " , <nl> - " 149 : 7 : ' 54 ' is a magic number . " , <nl> } ; <nl> verify ( checkConfig , getPath ( " InputMagicNumber . java " ) , expected ) ; <nl> } <nl> @ @ - 152 , 8 + 149 , 6 @ @ public class MagicNumberCheckTest <nl> " 115 : 37 : ' 020000000000 ' is a magic number . " , <nl> " 116 : 38 : ' 01000000000000000000000L ' is a magic number . " , <nl> " 131 : 20 : ' 378 ' is a magic number . " , <nl> - " 148 : 7 : ' 3 ' is a magic number . " , <nl> - " 149 : 7 : ' 54 ' is a magic number . " , <nl> } ; <nl> verify ( checkConfig , getPath ( " InputMagicNumber . java " ) , expected ) ; <nl> } <nl> @ @ - 192 , 8 + 187 , 6 @ @ public class MagicNumberCheckTest <nl> " 115 : 37 : ' 020000000000 ' is a magic number . " , <nl> " 116 : 38 : ' 01000000000000000000000L ' is a magic number . " , <nl> " 131 : 20 : ' 378 ' is a magic number . " , <nl> - " 148 : 7 : ' 3 ' is a magic number . " , <nl> - " 149 : 7 : ' 54 ' is a magic number . " , <nl> } ; <nl> verify ( checkConfig , getPath ( " InputMagicNumber . java " ) , expected ) ; <nl> } <nl> @ @ - 229 , 8 + 222 , 6 @ @ public class MagicNumberCheckTest <nl> " 100 : 30 : ' + 3 ' is a magic number . " , <nl> " 101 : 29 : ' - 2 ' is a magic number . " , <nl> " 131 : 20 : ' 378 ' is a magic number . " , <nl> - " 148 : 7 : ' 3 ' is a magic number . " , <nl> - " 149 : 7 : ' 54 ' is a magic number . " , <nl> } ; <nl> verify ( checkConfig , getPath ( " InputMagicNumber . java " ) , expected ) ; <nl> } <nl> diff - - git a / src / xdocs / releasenotes . xml b / src / xdocs / releasenotes . xml <nl> index 79e8840 . . 5e33263 100755 <nl> - - - a / src / xdocs / releasenotes . xml <nl> + + + b / src / xdocs / releasenotes . xml <nl> @ @ - 30 , 6 + 30 , 9 @ @ <nl> < li > Fixed package name for modifiers checks in documentation <nl> ( bug 1275988 ) < / li > <nl> <nl> + < li > MagicNumber allows use numeric constants in enum constant <nl> + definition ( bug 1284682 ) < / li > <nl> + <nl> < / ul > <nl> <nl> < p > Other improvements : < / p >

TEST DIFF:
diff - - git a / config / ant - phase - verify . xml b / config / ant - phase - verify . xml 
 index ddffe66 . . a0f9797 100644 
 - - - a / config / ant - phase - verify . xml 
 + + + b / config / ant - phase - verify . xml 
 @ @ - 16 , 6 + 16 , 8 @ @ 
 < property name = " check . config " location = " config / checkstyle _ checks . xml " / > 
 < property name = " check . config _ non _ main " 
 location = " config / checkstyle _ non _ main _ files _ checks . xml " / > 
 + < property name = " check . config _ resources " 
 + location = " config / checkstyle _ resources _ checks . xml " / > 
 
 < tstamp > 
 < format property = " STARTED " pattern = " dd / MM / yyyy hh : mm : ss aa " / > 
 @ @ - 117 , 6 + 119 , 64 @ @ 
 < / tstamp > 
 < echo > Checkstyle finished ( checkstyle _ non _ main _ files _ checks . xml ) : $ { FINISHED } < / echo > 
 
 + < tstamp > 
 + < format property = " STARTED " pattern = " dd / MM / yyyy hh : mm : ss aa " / > 
 + < / tstamp > 
 + < echo > Checkstyle started ( checkstyle _ resources _ checks . xml ) : $ { STARTED } < / echo > 
 + 
 + < checkstyle config = " $ { check . config _ resources } " 
 + failOnViolation = " true " 
 + failureProperty = " checkstyle . failure . property " 
 + executeIgnoredModules = " true " 
 + > 
 + < path > 
 + < fileset dir = " src " includes = " test / resources / * * / * , test / resources - noncompilable / * * / * " > 
 + < ! - - bad syntax , permanent exclude - - > 
 + < exclude name = " * * / InputAstTreeStringPrinter . java " / > 
 + < exclude name = " * * / InputSuppressionsStringPrinter . java " / > 
 + < exclude name = " * * / InputMainIncorrectClass . java " / > 
 + < exclude name = " * * / InputJavadocPropertiesGeneratorParseError . java " / > 
 + < exclude name = " * * / InputMainFrameModelIncorrectClass . java " / > 
 + < exclude name = " * * / InputBeforeExecutionExclusionFileFilterIncorrectClass . java " / > 
 + < ! - - till https : / / github . com / checkstyle / checkstyle / issues / 4100 - - > 
 + < exclude name = " * * / InputPackageDeclarationWithCommentOnly . java " / > 
 + < exclude name = " * * / InputJava9TryWithResources . java " / > 
 + < exclude name = " * * / InputIllegalInstantiationLang . java " / > 
 + < exclude name = " * * / InputIllegalInstantiationNoPackage . java " / > 
 + < exclude name = " * * / InputPackageDeclarationDiffDirectory . java " / > 
 + < exclude name = " * * / InputPackageDeclarationDiffDirectoryAtParent . java " / > 
 + < exclude name = " * * / InputPackageDeclarationDiffDirectoryAtSubpackage . java " / > 
 + < exclude name = " * * / InputPackageDeclarationNoPackage . java " / > 
 + < exclude 
 + name = " * * / InputFinalClassClassWithPrivateCtorWithNestedExtendingClassWithoutPackage . java " / > 
 + < exclude name = " * * / InputCustomImportOrderDefaultPackage . java " / > 
 + < exclude name = " * * / InputCustomImportOrderNoPackage . java " / > 
 + < exclude name = " * * / InputCustomImportOrderNoPackage2 . java " / > 
 + < exclude name = " * * / InputCustomImportOrderSamePackage . java " / > 
 + < exclude name = " * * / InputCustomImportOrderSamePackageDepth25 . java " / > 
 + < exclude name = " * * / InputImportOrderEclipseStatic . java " / > 
 + < exclude name = " * * / InputImportOrderEclipseStaticCaseSensitive . java " / > 
 + < exclude name = " * * / InputImportOrderEclipseStaticRepetition . java " / > 
 + < exclude name = " * * / InputImportOrderGetGroupNumber . java " / > 
 + < exclude name = " * * / InputImportOrder _ MultiplePatternMatches . java " / > 
 + < exclude name = " * * / InputRedundantImport _ UnnamedPackage . java " / > 
 + < exclude name = " * * / InputUnusedImportsAnnotations . java " / > 
 + < exclude name = " * * / InputUnusedImportsFileInUnnamedPackage . java " / > 
 + < exclude name = " * * / InputIndentationPackageDeclaration2 . java " / > 
 + < exclude name = " * * / InputLineLengthLongPackageStatement . java " / > 
 + < exclude name = " * * / outertypefilename / package - info . java " / > 
 + < / fileset > 
 + < / path > 
 + < formatter type = " plain " / > 
 + < formatter type = " xml " toFile = " $ { mvn . project . build . directory } / cs _ resources _ errors . xml " / > 
 + < classpath path = " $ { mvn . runtime _ classpath } " / > 
 + < / checkstyle > 
 + 
 + < tstamp > 
 + < format property = " FINISHED " pattern = " dd / MM / yyyy hh : mm : ss aa " / > 
 + < / tstamp > 
 + < echo > Checkstyle finished ( checkstyle _ resources _ checks . xml ) : $ { FINISHED } < / echo > 
 + 
 < fail if = " checkstyle . failure . property " 
 message = " Checkstyle failed : $ { checkstyle . failure . property } " 
 / > 
 diff - - git a / config / checkstyle _ resources _ checks . xml b / config / checkstyle _ resources _ checks . xml 
 new file mode 100644 
 index 0000000 . . cf1e648 
 - - - / dev / null 
 + + + b / config / checkstyle _ resources _ checks . xml 
 @ @ - 0 , 0 + 1 , 16 @ @ 
 + < ? xml version = " 1 . 0 " ? > 
 + < ! DOCTYPE module PUBLIC 
 + " - / / Checkstyle / / DTD Checkstyle Configuration 1 . 3 / / EN " 
 + " https : / / checkstyle . org / dtds / configuration _ 1 _ 3 . dtd " > 
 + 
 + < module name = " Checker " > 
 + < property name = " charset " value = " UTF - 8 " / > 
 + < property name = " haltOnException " value = " false " / > 
 + 
 + < ! - - Hard coded until https : / / issues . apache . org / jira / browse / MCHECKSTYLE - 332 is released . - - > 
 + < property name = " cacheFile " value = " target / cache _ resources " / > 
 + 
 + < module name = " TreeWalker " > 
 + < module name = " PackageDeclarationCheck " / > 
 + < / module > 
 + < / module >

NEAREST DIFF:
diff - - git a / src / checkstyle / com / puppycrawl / tools / checkstyle / checks / coding / MagicNumberCheck . java b / src / checkstyle / com / puppycrawl / tools / checkstyle / checks / coding / MagicNumberCheck . java 
 index 3a6943a . . 2433317 100644 
 - - - a / src / checkstyle / com / puppycrawl / tools / checkstyle / checks / coding / MagicNumberCheck . java 
 + + + b / src / checkstyle / com / puppycrawl / tools / checkstyle / checks / coding / MagicNumberCheck . java 
 @ @ - 116 , 7 + 116 , 8 @ @ public class MagicNumberCheck extends Check 
 { 
 DetailAST varDefAST = aAST ; 
 while ( varDefAST ! = null 
 - & & varDefAST . getType ( ) ! = TokenTypes . VARIABLE _ DEF ) 
 + & & varDefAST . getType ( ) ! = TokenTypes . VARIABLE _ DEF 
 + & & varDefAST . getType ( ) ! = TokenTypes . ENUM _ CONSTANT _ DEF ) 
 { 
 varDefAST = varDefAST . getParent ( ) ; 
 } 
 @ @ - 127 , 7 + 128 , 9 @ @ public class MagicNumberCheck extends Check 
 } 
 
 / / implicit constant ? 
 - if ( ScopeUtils . inInterfaceOrAnnotationBlock ( varDefAST ) ) { 
 + if ( ScopeUtils . inInterfaceOrAnnotationBlock ( varDefAST ) 
 + | | varDefAST . getType ( ) = = TokenTypes . ENUM _ CONSTANT _ DEF ) 
 + { 
 return varDefAST ; 
 } 
 
 diff - - git a / src / tests / com / puppycrawl / tools / checkstyle / checks / coding / MagicNumberCheckTest . java b / src / tests / com / puppycrawl / tools / checkstyle / checks / coding / MagicNumberCheckTest . java 
 index 46df72e . . e556817 100644 
 - - - a / src / tests / com / puppycrawl / tools / checkstyle / checks / coding / MagicNumberCheckTest . java 
 + + + b / src / tests / com / puppycrawl / tools / checkstyle / checks / coding / MagicNumberCheckTest . java 
 @ @ - 43 , 8 + 43 , 6 @ @ public class MagicNumberCheckTest 
 " 115 : 37 : ' 020000000000 ' is a magic number . " , 
 " 116 : 38 : ' 01000000000000000000000L ' is a magic number . " , 
 " 131 : 20 : ' 378 ' is a magic number . " , 
 - " 148 : 7 : ' 3 ' is a magic number . " , 
 - " 149 : 7 : ' 54 ' is a magic number . " , 
 } ; 
 verify ( checkConfig , getPath ( " InputMagicNumber . java " ) , expected ) ; 
 } 
 @ @ - 84 , 7 + 82 , 6 @ @ public class MagicNumberCheckTest 
 " 115 : 37 : ' 020000000000 ' is a magic number . " , 
 " 116 : 38 : ' 01000000000000000000000L ' is a magic number . " , 
 " 131 : 20 : ' 378 ' is a magic number . " , 
 - " 149 : 7 : ' 54 ' is a magic number . " , 
 } ; 
 verify ( checkConfig , getPath ( " InputMagicNumber . java " ) , expected ) ; 
 } 
 @ @ - 152 , 8 + 149 , 6 @ @ public class MagicNumberCheckTest 
 " 115 : 37 : ' 020000000000 ' is a magic number . " , 
 " 116 : 38 : ' 01000000000000000000000L ' is a magic number . " , 
 " 131 : 20 : ' 378 ' is a magic number . " , 
 - " 148 : 7 : ' 3 ' is a magic number . " , 
 - " 149 : 7 : ' 54 ' is a magic number . " , 
 } ; 
 verify ( checkConfig , getPath ( " InputMagicNumber . java " ) , expected ) ; 
 } 
 @ @ - 192 , 8 + 187 , 6 @ @ public class MagicNumberCheckTest 
 " 115 : 37 : ' 020000000000 ' is a magic number . " , 
 " 116 : 38 : ' 01000000000000000000000L ' is a magic number . " , 
 " 131 : 20 : ' 378 ' is a magic number . " , 
 - " 148 : 7 : ' 3 ' is a magic number . " , 
 - " 149 : 7 : ' 54 ' is a magic number . " , 
 } ; 
 verify ( checkConfig , getPath ( " InputMagicNumber . java " ) , expected ) ; 
 } 
 @ @ - 229 , 8 + 222 , 6 @ @ public class MagicNumberCheckTest 
 " 100 : 30 : ' + 3 ' is a magic number . " , 
 " 101 : 29 : ' - 2 ' is a magic number . " , 
 " 131 : 20 : ' 378 ' is a magic number . " , 
 - " 148 : 7 : ' 3 ' is a magic number . " , 
 - " 149 : 7 : ' 54 ' is a magic number . " , 
 } ; 
 verify ( checkConfig , getPath ( " InputMagicNumber . java " ) , expected ) ; 
 } 
 diff - - git a / src / xdocs / releasenotes . xml b / src / xdocs / releasenotes . xml 
 index 79e8840 . . 5e33263 100755 
 - - - a / src / xdocs / releasenotes . xml 
 + + + b / src / xdocs / releasenotes . xml 
 @ @ - 30 , 6 + 30 , 9 @ @ 
 < li > Fixed package name for modifiers checks in documentation 
 ( bug 1275988 ) < / li > 
 
 + < li > MagicNumber allows use numeric constants in enum constant 
 + definition ( bug 1284682 ) < / li > 
 + 
 < / ul > 
 
 < p > Other improvements : < / p >
