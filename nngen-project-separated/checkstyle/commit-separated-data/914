BLEU SCORE: 0.038292061380205016

TEST MSG: Issue # 3896 : Test failed due to locale message settings . ( with non - English locale settings )
GENERATED MSG: Issue # 26 SuppressionCommentFilter does not suppress StrictDuplicateCode Warnings

TEST DIFF (one line): diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / Checker . java b / src / main / java / com / puppycrawl / tools / checkstyle / Checker . java <nl> index 00f6241 . . ea8591c 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / Checker . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / Checker . java <nl> @ @ - 62 , 12 + 62 , 12 @ @ import com . puppycrawl . tools . checkstyle . utils . CommonUtils ; <nl> * @ author Andrei Selkin <nl> * / <nl> public class Checker extends AutomaticBean implements MessageDispatcher , RootModule { <nl> + / * * Message to use when an exception occurs and should be printed as a violation . * / <nl> + public static final String EXCEPTION _ MSG = " general . exception " ; <nl> + <nl> / * * Logger for Checker . * / <nl> private static final Log LOG = LogFactory . getLog ( Checker . class ) ; <nl> <nl> - / * * Message to use when an exception occurs and should be printed as a violation . * / <nl> - private static final String EXCEPTION _ MSG = " general . exception " ; <nl> - <nl> / * * Maintains error count . * / <nl> private final SeverityLevelCounter counter = new SeverityLevelCounter ( <nl> SeverityLevel . ERROR ) ; <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / api / LocalizedMessage . java b / src / main / java / com / puppycrawl / tools / checkstyle / api / LocalizedMessage . java <nl> index 3669112 . . 5792a62 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / api / LocalizedMessage . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / api / LocalizedMessage . java <nl> @ @ - 361 , 6 + 361 , 7 @ @ public final class LocalizedMessage <nl> * @ param locale the locale to use for localization <nl> * / <nl> public static void setLocale ( Locale locale ) { <nl> + BUNDLE _ CACHE . clear ( ) ; <nl> if ( Locale . ENGLISH . getLanguage ( ) . equals ( locale . getLanguage ( ) ) ) { <nl> sLocale = Locale . ROOT ; <nl> } <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / CheckerTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / CheckerTest . java <nl> index 15f2457 . . 2c09133 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / CheckerTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / CheckerTest . java <nl> @ @ - 19 , 6 + 19 , 7 @ @ <nl> <nl> package com . puppycrawl . tools . checkstyle ; <nl> <nl> + import static com . puppycrawl . tools . checkstyle . Checker . EXCEPTION _ MSG ; <nl> import static org . hamcrest . CoreMatchers . instanceOf ; <nl> import static org . junit . Assert . assertEquals ; <nl> import static org . junit . Assert . assertFalse ; <nl> @ @ - 766 , 13 + 767 , 16 @ @ public class CheckerTest extends BaseCheckTestSupport { <nl> checkerConfig . addAttribute ( " haltOnException " , " false " ) ; <nl> <nl> final Checker checker = new Checker ( ) ; <nl> + final Locale locale = Locale . ROOT ; <nl> + checker . setLocaleCountry ( locale . getCountry ( ) ) ; <nl> + checker . setLocaleLanguage ( locale . getLanguage ( ) ) ; <nl> checker . setModuleClassLoader ( Thread . currentThread ( ) . getContextClassLoader ( ) ) ; <nl> checker . configure ( checkerConfig ) ; <nl> checker . addListener ( new BriefUtLogger ( stream ) ) ; <nl> <nl> final String filePath = getPath ( " InputMain . java " ) ; <nl> final String [ ] expected = { <nl> - " 0 : Got an exception - java . lang . IndexOutOfBoundsException : test " , <nl> + " 0 : " + getCheckMessage ( EXCEPTION _ MSG , " java . lang . IndexOutOfBoundsException : test " ) , <nl> } ; <nl> <nl> verify ( checker , filePath , filePath , expected ) ; <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / DetailNodeTreeStringPrinterTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / DetailNodeTreeStringPrinterTest . java <nl> index bd85701 . . 65cd0fb 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / DetailNodeTreeStringPrinterTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / DetailNodeTreeStringPrinterTest . java <nl> @ @ - 25 , 10 + 25 , 13 @ @ import java . io . File ; <nl> import java . nio . charset . StandardCharsets ; <nl> import java . nio . file . Files ; <nl> import java . nio . file . Paths ; <nl> + import java . util . Locale ; <nl> <nl> import org . junit . Assert ; <nl> import org . junit . Test ; <nl> <nl> + import com . puppycrawl . tools . checkstyle . api . LocalizedMessage ; <nl> + <nl> public class DetailNodeTreeStringPrinterTest { <nl> <nl> private static String getPath ( String filename ) { <nl> @ @ - 53 , 6 + 56 , 7 @ @ public class DetailNodeTreeStringPrinterTest { <nl> <nl> @ Test <nl> public void testParseFileWithError ( ) throws Exception { <nl> + LocalizedMessage . setLocale ( Locale . ROOT ) ; <nl> try { <nl> DetailNodeTreeStringPrinter . printFileAst ( <nl> new File ( getPath ( " InputJavadocWithError . javadoc " ) ) ) ; <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / checks / header / HeaderCheckTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / checks / header / HeaderCheckTest . java <nl> index 4ab4979 . . 3052945 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / checks / header / HeaderCheckTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / checks / header / HeaderCheckTest . java <nl> @ @ - 30 , 6 + 30 , 7 @ @ import java . io . File ; <nl> import java . io . IOException ; <nl> import java . lang . reflect . InvocationTargetException ; <nl> import java . lang . reflect . Method ; <nl> + import java . util . Locale ; <nl> <nl> import org . junit . Rule ; <nl> import org . junit . Test ; <nl> @ @ - 254 , 6 + 255 , 9 @ @ public class HeaderCheckTest extends BaseFileSetCheckTestSupport { <nl> checkerConfig . addAttribute ( " cacheFile " , temporaryFolder . newFile ( ) . getPath ( ) ) ; <nl> <nl> final Checker checker = new Checker ( ) ; <nl> + final Locale locale = Locale . ROOT ; <nl> + checker . setLocaleCountry ( locale . getCountry ( ) ) ; <nl> + checker . setLocaleLanguage ( locale . getLanguage ( ) ) ; <nl> checker . setModuleClassLoader ( Thread . currentThread ( ) . getContextClassLoader ( ) ) ; <nl> checker . configure ( checkerConfig ) ; <nl> checker . addListener ( new BriefUtLogger ( stream ) ) ; <nl> @ @ - 278 , 6 + 282 , 9 @ @ public class HeaderCheckTest extends BaseFileSetCheckTestSupport { <nl> checkerConfig . addAttribute ( " cacheFile " , temporaryFolder . newFile ( ) . getPath ( ) ) ; <nl> <nl> final Checker checker = new Checker ( ) ; <nl> + final Locale locale = Locale . ROOT ; <nl> + checker . setLocaleCountry ( locale . getCountry ( ) ) ; <nl> + checker . setLocaleLanguage ( locale . getLanguage ( ) ) ; <nl> checker . setModuleClassLoader ( Thread . currentThread ( ) . getContextClassLoader ( ) ) ; <nl> checker . configure ( checkerConfig ) ; <nl> checker . addListener ( new BriefUtLogger ( stream ) ) ;
NEAREST DIFF (one line): diff - - git a / config / checkstyle _ checks . xml b / config / checkstyle _ checks . xml <nl> index 347afc8 . . 2caf5c2 100644 <nl> - - - a / config / checkstyle _ checks . xml <nl> + + + b / config / checkstyle _ checks . xml <nl> @ @ - 57 , 7 + 57 , 9 @ @ <nl> <nl> < module name = " AvoidStarImport " / > <nl> < module name = " ConstantName " / > <nl> - < module name = " EmptyBlock " / > <nl> + < module name = " EmptyBlock " > <nl> + < property name = " option " value = " text " / > <nl> + < / module > <nl> < module name = " EmptyForIteratorPad " / > <nl> < module name = " EqualsHashCode " / > <nl> < module name = " OneStatementPerLine " / > <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / ConfigurationLoader . java b / src / main / java / com / puppycrawl / tools / checkstyle / ConfigurationLoader . java <nl> index 5d00478 . . 612f55f 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / ConfigurationLoader . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / ConfigurationLoader . java <nl> @ @ - 193 , 7 + 193 , 6 @ @ public final class ConfigurationLoader <nl> } <nl> catch ( final CheckstyleException e ) { <nl> / / severity not set - > ignore <nl> - ; <nl> } <nl> <nl> / / omit this module if these should be omitted and the module <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / PackageObjectFactory . java b / src / main / java / com / puppycrawl / tools / checkstyle / PackageObjectFactory . java <nl> index 5378933 . . 2078a64 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / PackageObjectFactory . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / PackageObjectFactory . java <nl> @ @ - 80 , 7 + 80 , 7 @ @ class PackageObjectFactory implements ModuleFactory <nl> return createObject ( name ) ; <nl> } <nl> catch ( final CheckstyleException ex ) { <nl> - ; / / keep looking <nl> + / / keep looking <nl> } <nl> <nl> / / now try packages <nl> @ @ - 91 , 7 + 91 , 7 @ @ class PackageObjectFactory implements ModuleFactory <nl> return createObject ( className ) ; <nl> } <nl> catch ( final CheckstyleException ex ) { <nl> - ; / / keep looking <nl> + / / keep looking <nl> } <nl> } <nl> <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / api / JavadocTagInfo . java b / src / main / java / com / puppycrawl / tools / checkstyle / api / JavadocTagInfo . java <nl> index 8fce990 . . 4676590 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / api / JavadocTagInfo . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / api / JavadocTagInfo . java <nl> @ @ - 639 , 6 + 639 , 6 @ @ public enum JavadocTagInfo <nl> BLOCK , <nl> <nl> / * * inline type . * * / <nl> - INLINE ; <nl> + INLINE <nl> } <nl> } <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / api / Utils . java b / src / main / java / com / puppycrawl / tools / checkstyle / api / Utils . java <nl> index f3e0000 . . 1afc0c2 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / api / Utils . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / api / Utils . java <nl> @ @ - 284 , 7 + 284 , 7 @ @ public final class Utils <nl> shutting . close ( ) ; <nl> } <nl> catch ( IOException e ) { <nl> - ; / / ignore <nl> + / / ignore <nl> } <nl> } <nl> } <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / BlockOption . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / BlockOption . java <nl> index 5ca2b11 . . 84ee956 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / BlockOption . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / BlockOption . java <nl> @ @ - 46 , 5 + 46 , 5 @ @ public enum BlockOption <nl> * } <nl> * < / pre > <nl> * / <nl> - STMT ; <nl> + STMT <nl> } <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / LeftCurlyCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / LeftCurlyCheck . java <nl> index ccace32 . . f7feb42 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / LeftCurlyCheck . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / LeftCurlyCheck . java <nl> @ @ - 307 , 7 + 307 , 7 @ @ public class LeftCurlyCheck <nl> if ( braceLine . length ( ) > brace . getColumnNo ( ) + 1 <nl> & & braceLine . charAt ( brace . getColumnNo ( ) + 1 ) = = ' } ' ) <nl> { <nl> - ; / / ignore <nl> + / / ignore <nl> } <nl> else if ( getAbstractOption ( ) = = LeftCurlyOption . NL ) { <nl> if ( ! Utils . whitespaceBefore ( brace . getColumnNo ( ) , braceLine ) ) { <nl> @ @ - 328 , 7 + 328 , 7 @ @ public class LeftCurlyCheck <nl> } <nl> else if ( getAbstractOption ( ) = = LeftCurlyOption . NLOW ) { <nl> if ( startToken . getLineNo ( ) = = brace . getLineNo ( ) ) { <nl> - ; / / all ok as on the same line <nl> + / / all ok as on the same line <nl> } <nl> else if ( startToken . getLineNo ( ) + 1 = = brace . getLineNo ( ) ) { <nl> if ( ! Utils . whitespaceBefore ( brace . getColumnNo ( ) , braceLine ) ) { <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / LeftCurlyOption . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / LeftCurlyOption . java <nl> index 5437dcb . . b7e2b1f 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / LeftCurlyOption . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / LeftCurlyOption . java <nl> @ @ - 69 , 5 + 69 , 5 @ @ public enum LeftCurlyOption <nl> * . . . <nl> * < / pre > <nl> * / <nl> - NL ; <nl> + NL <nl> } <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / RightCurlyOption . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / RightCurlyOption . java <nl> index 7c548d3 . . 8feaa0c 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / RightCurlyOption . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / RightCurlyOption . java <nl> @ @ - 48 , 5 + 48 , 5 @ @ public enum RightCurlyOption <nl> * } finally { <nl> * < / pre > <nl> * * / <nl> - SAME ; <nl> + SAME <nl> } <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / VariableDeclarationUsageDistanceCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / VariableDeclarationUsageDistanceCheck . java <nl> index 9f9377d . . f1f6ec5 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / VariableDeclarationUsageDistanceCheck . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / VariableDeclarationUsageDistanceCheck . java <nl> @ @ - 267 , 7 + 267 , 7 @ @ public class VariableDeclarationUsageDistanceCheck extends Check <nl> if ( ignoreFinal & & modifiers . branchContains ( TokenTypes . FINAL ) <nl> | | parentType = = TokenTypes . OBJBLOCK ) <nl> { <nl> - ; / / no code <nl> + / / no code <nl> } <nl> else { <nl> final DetailAST variable = ast . findFirstToken ( TokenTypes . IDENT ) ; <nl> @ @ - 593 , 7 + 593 , 7 @ @ public class VariableDeclarationUsageDistanceCheck extends Check <nl> else if ( currentNodeType = = TokenTypes . VARIABLE _ DEF <nl> | | currentNodeType = = TokenTypes . EXPR ) <nl> { <nl> - ; / / no code <nl> + / / no code <nl> } <nl> else { <nl> firstNodeInsideBlock = currentNode ; <nl> @ @ - 856 , 7 + 856 , 7 @ @ public class VariableDeclarationUsageDistanceCheck extends Check <nl> break ; <nl> <nl> default : <nl> - ; / / no code <nl> + / / no code <nl> } <nl> } <nl> } <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / imports / ImportOrderOption . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / imports / ImportOrderOption . java <nl> index a4f5205 . . 0d823f8 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / imports / ImportOrderOption . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / imports / ImportOrderOption . java <nl> @ @ - 102 , 5 + 102 , 5 @ @ public enum ImportOrderOption <nl> import static javax . swing . WindowConstants . * ; <nl> * < / pre > <nl> * / <nl> - BOTTOM ; <nl> + BOTTOM <nl> } <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocUtils . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocUtils . java <nl> index 4d898d4 . . 061b0cf 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocUtils . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocUtils . java <nl> @ @ - 195 , 7 + 195 , 7 @ @ public final class JavadocUtils <nl> / * * inline type . * / <nl> INLINE , <nl> / * * all validTags . * / <nl> - ALL ; <nl> + ALL <nl> } <nl> <nl> / * * <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / sizes / MethodCountCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / sizes / MethodCountCheck . java <nl> index 7606553 . . d82c8ab 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / sizes / MethodCountCheck . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / sizes / MethodCountCheck . java <nl> @ @ - 119 , 7 + 119 , 7 @ @ public final class MethodCountCheck extends Check <nl> { <nl> return total ; <nl> } <nl> - } ; <nl> + } <nl> <nl> / * * default maximum number of methods * / <nl> private static final int DEFAULT _ MAX _ METHODS = 100 ; <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / whitespace / PadOption . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / whitespace / PadOption . java <nl> index cf72d39 . . 93e315c 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / whitespace / PadOption . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / whitespace / PadOption . java <nl> @ @ - 37 , 5 + 37 , 5 @ @ public enum PadOption <nl> * Represents mandatory spacing following a left parenthesis <nl> * and preceeing a right one . <nl> * / <nl> - SPACE ; <nl> + SPACE <nl> } <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / whitespace / WrapOption . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / whitespace / WrapOption . java <nl> index 8bfcf69 . . 31874fa 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / whitespace / WrapOption . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / whitespace / WrapOption . java <nl> @ @ - 28 , 5 + 28 , 5 @ @ public enum WrapOption <nl> / * * Require that the token is on a new line . * / <nl> NL , <nl> / * * Require that the token is at the end of the line . * / <nl> - EOL ; <nl> + EOL <nl> } <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilter . java b / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilter . java <nl> index 2f4cd2f . . 724108a 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilter . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilter . java <nl> @ @ - 453 , 7 + 453 , 7 @ @ public class SuppressionCommentFilter <nl> if ( tag . isMatch ( event ) ) { <nl> result = tag ; <nl> } <nl> - } ; <nl> + } <nl> return result ; <nl> } <nl>

TEST DIFF:
diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / Checker . java b / src / main / java / com / puppycrawl / tools / checkstyle / Checker . java 
 index 00f6241 . . ea8591c 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / Checker . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / Checker . java 
 @ @ - 62 , 12 + 62 , 12 @ @ import com . puppycrawl . tools . checkstyle . utils . CommonUtils ; 
 * @ author Andrei Selkin 
 * / 
 public class Checker extends AutomaticBean implements MessageDispatcher , RootModule { 
 + / * * Message to use when an exception occurs and should be printed as a violation . * / 
 + public static final String EXCEPTION _ MSG = " general . exception " ; 
 + 
 / * * Logger for Checker . * / 
 private static final Log LOG = LogFactory . getLog ( Checker . class ) ; 
 
 - / * * Message to use when an exception occurs and should be printed as a violation . * / 
 - private static final String EXCEPTION _ MSG = " general . exception " ; 
 - 
 / * * Maintains error count . * / 
 private final SeverityLevelCounter counter = new SeverityLevelCounter ( 
 SeverityLevel . ERROR ) ; 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / api / LocalizedMessage . java b / src / main / java / com / puppycrawl / tools / checkstyle / api / LocalizedMessage . java 
 index 3669112 . . 5792a62 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / api / LocalizedMessage . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / api / LocalizedMessage . java 
 @ @ - 361 , 6 + 361 , 7 @ @ public final class LocalizedMessage 
 * @ param locale the locale to use for localization 
 * / 
 public static void setLocale ( Locale locale ) { 
 + BUNDLE _ CACHE . clear ( ) ; 
 if ( Locale . ENGLISH . getLanguage ( ) . equals ( locale . getLanguage ( ) ) ) { 
 sLocale = Locale . ROOT ; 
 } 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / CheckerTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / CheckerTest . java 
 index 15f2457 . . 2c09133 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / CheckerTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / CheckerTest . java 
 @ @ - 19 , 6 + 19 , 7 @ @ 
 
 package com . puppycrawl . tools . checkstyle ; 
 
 + import static com . puppycrawl . tools . checkstyle . Checker . EXCEPTION _ MSG ; 
 import static org . hamcrest . CoreMatchers . instanceOf ; 
 import static org . junit . Assert . assertEquals ; 
 import static org . junit . Assert . assertFalse ; 
 @ @ - 766 , 13 + 767 , 16 @ @ public class CheckerTest extends BaseCheckTestSupport { 
 checkerConfig . addAttribute ( " haltOnException " , " false " ) ; 
 
 final Checker checker = new Checker ( ) ; 
 + final Locale locale = Locale . ROOT ; 
 + checker . setLocaleCountry ( locale . getCountry ( ) ) ; 
 + checker . setLocaleLanguage ( locale . getLanguage ( ) ) ; 
 checker . setModuleClassLoader ( Thread . currentThread ( ) . getContextClassLoader ( ) ) ; 
 checker . configure ( checkerConfig ) ; 
 checker . addListener ( new BriefUtLogger ( stream ) ) ; 
 
 final String filePath = getPath ( " InputMain . java " ) ; 
 final String [ ] expected = { 
 - " 0 : Got an exception - java . lang . IndexOutOfBoundsException : test " , 
 + " 0 : " + getCheckMessage ( EXCEPTION _ MSG , " java . lang . IndexOutOfBoundsException : test " ) , 
 } ; 
 
 verify ( checker , filePath , filePath , expected ) ; 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / DetailNodeTreeStringPrinterTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / DetailNodeTreeStringPrinterTest . java 
 index bd85701 . . 65cd0fb 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / DetailNodeTreeStringPrinterTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / DetailNodeTreeStringPrinterTest . java 
 @ @ - 25 , 10 + 25 , 13 @ @ import java . io . File ; 
 import java . nio . charset . StandardCharsets ; 
 import java . nio . file . Files ; 
 import java . nio . file . Paths ; 
 + import java . util . Locale ; 
 
 import org . junit . Assert ; 
 import org . junit . Test ; 
 
 + import com . puppycrawl . tools . checkstyle . api . LocalizedMessage ; 
 + 
 public class DetailNodeTreeStringPrinterTest { 
 
 private static String getPath ( String filename ) { 
 @ @ - 53 , 6 + 56 , 7 @ @ public class DetailNodeTreeStringPrinterTest { 
 
 @ Test 
 public void testParseFileWithError ( ) throws Exception { 
 + LocalizedMessage . setLocale ( Locale . ROOT ) ; 
 try { 
 DetailNodeTreeStringPrinter . printFileAst ( 
 new File ( getPath ( " InputJavadocWithError . javadoc " ) ) ) ; 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / checks / header / HeaderCheckTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / checks / header / HeaderCheckTest . java 
 index 4ab4979 . . 3052945 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / checks / header / HeaderCheckTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / checks / header / HeaderCheckTest . java 
 @ @ - 30 , 6 + 30 , 7 @ @ import java . io . File ; 
 import java . io . IOException ; 
 import java . lang . reflect . InvocationTargetException ; 
 import java . lang . reflect . Method ; 
 + import java . util . Locale ; 
 
 import org . junit . Rule ; 
 import org . junit . Test ; 
 @ @ - 254 , 6 + 255 , 9 @ @ public class HeaderCheckTest extends BaseFileSetCheckTestSupport { 
 checkerConfig . addAttribute ( " cacheFile " , temporaryFolder . newFile ( ) . getPath ( ) ) ; 
 
 final Checker checker = new Checker ( ) ; 
 + final Locale locale = Locale . ROOT ; 
 + checker . setLocaleCountry ( locale . getCountry ( ) ) ; 
 + checker . setLocaleLanguage ( locale . getLanguage ( ) ) ; 
 checker . setModuleClassLoader ( Thread . currentThread ( ) . getContextClassLoader ( ) ) ; 
 checker . configure ( checkerConfig ) ; 
 checker . addListener ( new BriefUtLogger ( stream ) ) ; 
 @ @ - 278 , 6 + 282 , 9 @ @ public class HeaderCheckTest extends BaseFileSetCheckTestSupport { 
 checkerConfig . addAttribute ( " cacheFile " , temporaryFolder . newFile ( ) . getPath ( ) ) ; 
 
 final Checker checker = new Checker ( ) ; 
 + final Locale locale = Locale . ROOT ; 
 + checker . setLocaleCountry ( locale . getCountry ( ) ) ; 
 + checker . setLocaleLanguage ( locale . getLanguage ( ) ) ; 
 checker . setModuleClassLoader ( Thread . currentThread ( ) . getContextClassLoader ( ) ) ; 
 checker . configure ( checkerConfig ) ; 
 checker . addListener ( new BriefUtLogger ( stream ) ) ;

NEAREST DIFF:
diff - - git a / config / checkstyle _ checks . xml b / config / checkstyle _ checks . xml 
 index 347afc8 . . 2caf5c2 100644 
 - - - a / config / checkstyle _ checks . xml 
 + + + b / config / checkstyle _ checks . xml 
 @ @ - 57 , 7 + 57 , 9 @ @ 
 
 < module name = " AvoidStarImport " / > 
 < module name = " ConstantName " / > 
 - < module name = " EmptyBlock " / > 
 + < module name = " EmptyBlock " > 
 + < property name = " option " value = " text " / > 
 + < / module > 
 < module name = " EmptyForIteratorPad " / > 
 < module name = " EqualsHashCode " / > 
 < module name = " OneStatementPerLine " / > 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / ConfigurationLoader . java b / src / main / java / com / puppycrawl / tools / checkstyle / ConfigurationLoader . java 
 index 5d00478 . . 612f55f 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / ConfigurationLoader . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / ConfigurationLoader . java 
 @ @ - 193 , 7 + 193 , 6 @ @ public final class ConfigurationLoader 
 } 
 catch ( final CheckstyleException e ) { 
 / / severity not set - > ignore 
 - ; 
 } 
 
 / / omit this module if these should be omitted and the module 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / PackageObjectFactory . java b / src / main / java / com / puppycrawl / tools / checkstyle / PackageObjectFactory . java 
 index 5378933 . . 2078a64 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / PackageObjectFactory . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / PackageObjectFactory . java 
 @ @ - 80 , 7 + 80 , 7 @ @ class PackageObjectFactory implements ModuleFactory 
 return createObject ( name ) ; 
 } 
 catch ( final CheckstyleException ex ) { 
 - ; / / keep looking 
 + / / keep looking 
 } 
 
 / / now try packages 
 @ @ - 91 , 7 + 91 , 7 @ @ class PackageObjectFactory implements ModuleFactory 
 return createObject ( className ) ; 
 } 
 catch ( final CheckstyleException ex ) { 
 - ; / / keep looking 
 + / / keep looking 
 } 
 } 
 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / api / JavadocTagInfo . java b / src / main / java / com / puppycrawl / tools / checkstyle / api / JavadocTagInfo . java 
 index 8fce990 . . 4676590 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / api / JavadocTagInfo . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / api / JavadocTagInfo . java 
 @ @ - 639 , 6 + 639 , 6 @ @ public enum JavadocTagInfo 
 BLOCK , 
 
 / * * inline type . * * / 
 - INLINE ; 
 + INLINE 
 } 
 } 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / api / Utils . java b / src / main / java / com / puppycrawl / tools / checkstyle / api / Utils . java 
 index f3e0000 . . 1afc0c2 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / api / Utils . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / api / Utils . java 
 @ @ - 284 , 7 + 284 , 7 @ @ public final class Utils 
 shutting . close ( ) ; 
 } 
 catch ( IOException e ) { 
 - ; / / ignore 
 + / / ignore 
 } 
 } 
 } 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / BlockOption . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / BlockOption . java 
 index 5ca2b11 . . 84ee956 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / BlockOption . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / BlockOption . java 
 @ @ - 46 , 5 + 46 , 5 @ @ public enum BlockOption 
 * } 
 * < / pre > 
 * / 
 - STMT ; 
 + STMT 
 } 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / LeftCurlyCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / LeftCurlyCheck . java 
 index ccace32 . . f7feb42 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / LeftCurlyCheck . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / LeftCurlyCheck . java 
 @ @ - 307 , 7 + 307 , 7 @ @ public class LeftCurlyCheck 
 if ( braceLine . length ( ) > brace . getColumnNo ( ) + 1 
 & & braceLine . charAt ( brace . getColumnNo ( ) + 1 ) = = ' } ' ) 
 { 
 - ; / / ignore 
 + / / ignore 
 } 
 else if ( getAbstractOption ( ) = = LeftCurlyOption . NL ) { 
 if ( ! Utils . whitespaceBefore ( brace . getColumnNo ( ) , braceLine ) ) { 
 @ @ - 328 , 7 + 328 , 7 @ @ public class LeftCurlyCheck 
 } 
 else if ( getAbstractOption ( ) = = LeftCurlyOption . NLOW ) { 
 if ( startToken . getLineNo ( ) = = brace . getLineNo ( ) ) { 
 - ; / / all ok as on the same line 
 + / / all ok as on the same line 
 } 
 else if ( startToken . getLineNo ( ) + 1 = = brace . getLineNo ( ) ) { 
 if ( ! Utils . whitespaceBefore ( brace . getColumnNo ( ) , braceLine ) ) { 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / LeftCurlyOption . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / LeftCurlyOption . java 
 index 5437dcb . . b7e2b1f 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / LeftCurlyOption . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / LeftCurlyOption . java 
 @ @ - 69 , 5 + 69 , 5 @ @ public enum LeftCurlyOption 
 * . . . 
 * < / pre > 
 * / 
 - NL ; 
 + NL 
 } 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / RightCurlyOption . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / RightCurlyOption . java 
 index 7c548d3 . . 8feaa0c 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / RightCurlyOption . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / RightCurlyOption . java 
 @ @ - 48 , 5 + 48 , 5 @ @ public enum RightCurlyOption 
 * } finally { 
 * < / pre > 
 * * / 
 - SAME ; 
 + SAME 
 } 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / VariableDeclarationUsageDistanceCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / VariableDeclarationUsageDistanceCheck . java 
 index 9f9377d . . f1f6ec5 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / VariableDeclarationUsageDistanceCheck . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / VariableDeclarationUsageDistanceCheck . java 
 @ @ - 267 , 7 + 267 , 7 @ @ public class VariableDeclarationUsageDistanceCheck extends Check 
 if ( ignoreFinal & & modifiers . branchContains ( TokenTypes . FINAL ) 
 | | parentType = = TokenTypes . OBJBLOCK ) 
 { 
 - ; / / no code 
 + / / no code 
 } 
 else { 
 final DetailAST variable = ast . findFirstToken ( TokenTypes . IDENT ) ; 
 @ @ - 593 , 7 + 593 , 7 @ @ public class VariableDeclarationUsageDistanceCheck extends Check 
 else if ( currentNodeType = = TokenTypes . VARIABLE _ DEF 
 | | currentNodeType = = TokenTypes . EXPR ) 
 { 
 - ; / / no code 
 + / / no code 
 } 
 else { 
 firstNodeInsideBlock = currentNode ; 
 @ @ - 856 , 7 + 856 , 7 @ @ public class VariableDeclarationUsageDistanceCheck extends Check 
 break ; 
 
 default : 
 - ; / / no code 
 + / / no code 
 } 
 } 
 } 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / imports / ImportOrderOption . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / imports / ImportOrderOption . java 
 index a4f5205 . . 0d823f8 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / imports / ImportOrderOption . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / imports / ImportOrderOption . java 
 @ @ - 102 , 5 + 102 , 5 @ @ public enum ImportOrderOption 
 import static javax . swing . WindowConstants . * ; 
 * < / pre > 
 * / 
 - BOTTOM ; 
 + BOTTOM 
 } 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocUtils . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocUtils . java 
 index 4d898d4 . . 061b0cf 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocUtils . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocUtils . java 
 @ @ - 195 , 7 + 195 , 7 @ @ public final class JavadocUtils 
 / * * inline type . * / 
 INLINE , 
 / * * all validTags . * / 
 - ALL ; 
 + ALL 
 } 
 
 / * * 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / sizes / MethodCountCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / sizes / MethodCountCheck . java 
 index 7606553 . . d82c8ab 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / sizes / MethodCountCheck . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / sizes / MethodCountCheck . java 
 @ @ - 119 , 7 + 119 , 7 @ @ public final class MethodCountCheck extends Check 
 { 
 return total ; 
 } 
 - } ; 
 + } 
 
 / * * default maximum number of methods * / 
 private static final int DEFAULT _ MAX _ METHODS = 100 ; 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / whitespace / PadOption . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / whitespace / PadOption . java 
 index cf72d39 . . 93e315c 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / whitespace / PadOption . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / whitespace / PadOption . java 
 @ @ - 37 , 5 + 37 , 5 @ @ public enum PadOption 
 * Represents mandatory spacing following a left parenthesis 
 * and preceeing a right one . 
 * / 
 - SPACE ; 
 + SPACE 
 } 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / whitespace / WrapOption . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / whitespace / WrapOption . java 
 index 8bfcf69 . . 31874fa 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / whitespace / WrapOption . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / whitespace / WrapOption . java 
 @ @ - 28 , 5 + 28 , 5 @ @ public enum WrapOption 
 / * * Require that the token is on a new line . * / 
 NL , 
 / * * Require that the token is at the end of the line . * / 
 - EOL ; 
 + EOL 
 } 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilter . java b / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilter . java 
 index 2f4cd2f . . 724108a 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilter . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilter . java 
 @ @ - 453 , 7 + 453 , 7 @ @ public class SuppressionCommentFilter 
 if ( tag . isMatch ( event ) ) { 
 result = tag ; 
 } 
 - } ; 
 + } 
 return result ; 
 } 

