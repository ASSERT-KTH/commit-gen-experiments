BLEU SCORE: 0.32466791547509893

TEST MSG: doc : release notes for 7 . 1 . 2
GENERATED MSG: doc : release notes 6 . 16 . 1

TEST DIFF (one line): diff - - git a / src / xdocs / releasenotes . xml b / src / xdocs / releasenotes . xml <nl> index dfa1de2 . . 4f78112 100644 <nl> - - - a / src / xdocs / releasenotes . xml <nl> + + + b / src / xdocs / releasenotes . xml <nl> @ @ - 17 , 6 + 17 , 63 @ @ <nl> <nl> < ! - - placeholder for a new section - - > <nl> <nl> + < section name = " Release 7 . 1 . 2 " > <nl> + < p > Bug fixes : < / p > <nl> + < ul > <nl> + < li > <nl> + Wrong order of & quot ; default & quot ; method modifier . Author : alberto . cuda < a href = " https : / / github . com / checkstyle / checkstyle / issues / 3471 " > # 3471 < / a > <nl> + < / li > <nl> + < li > <nl> + EqualsHashCode : hashCode without equals is not a violation . Author : rnveach < a href = " https : / / github . com / checkstyle / checkstyle / issues / 3308 " > # 3308 < / a > <nl> + < / li > <nl> + < / ul > <nl> + < p > Notes : < / p > <nl> + < ul > <nl> + < li > <nl> + Revert & quot ; Pull # 3162 : Update version of commons - collections to 3 . 2 . 2 to fix security vulnerability CVE - 2015 - 6420 & quot ; . Author : Roman Ivanov <nl> + < / li > <nl> + < li > <nl> + Cut down on Checkstyle & # 39 ; s dependencies on Guava . Author : Andrei Selkin < a href = " https : / / github . com / checkstyle / checkstyle / issues / 3433 " > # 3433 < / a > <nl> + < / li > <nl> + < li > <nl> + doc : fixed the wording in javadoc for TrailingCommentCheck . Author : Jos é Castro <nl> + < / li > <nl> + < li > <nl> + doc : added missing slash to backport documentation url ( # 3457 ) . Author : rnveach <nl> + < / li > <nl> + < li > <nl> + doc : added links to cs backport jre6
NEAREST DIFF (one line): diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / PropertiesExpander . java b / src / main / java / com / puppycrawl / tools / checkstyle / PropertiesExpander . java <nl> index 6c5c97b . . be15b70 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / PropertiesExpander . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / PropertiesExpander . java <nl> @ @ - 19 , 6 + 19 , 9 @ @ <nl> <nl> package com . puppycrawl . tools . checkstyle ; <nl> <nl> + import java . util . Enumeration ; <nl> + import java . util . HashMap ; <nl> + import java . util . Map ; <nl> import java . util . Properties ; <nl> <nl> / * * <nl> @ @ - 29 , 25 + 32 , 28 @ @ import java . util . Properties ; <nl> * / <nl> public final class PropertiesExpander <nl> implements PropertyResolver { <nl> - / * * The underlying Properties object . * / <nl> - private final Properties properties = new Properties ( ) ; <nl> + / * * The underlying values . * / <nl> + private final Map < String , String > values ; <nl> <nl> / * * <nl> * Creates a new PropertiesExpander . <nl> * @ param properties the underlying properties to use for <nl> * property resolution . <nl> * @ throws IllegalArgumentException indicates null was passed <nl> - * @ noinspection CollectionDeclaredAsConcreteClass <nl> * / <nl> public PropertiesExpander ( Properties properties ) { <nl> if ( properties = = null ) { <nl> throw new IllegalArgumentException ( " cannot pass null " ) ; <nl> } <nl> - this . properties . putAll ( properties ) ; <nl> + values = new HashMap < > ( properties . size ( ) ) ; <nl> + for ( Enumeration < ? > e = properties . propertyNames ( ) ; e . hasMoreElements ( ) ; ) { <nl> + final String name = ( String ) e . nextElement ( ) ; <nl> + values . put ( name , properties . getProperty ( name ) ) ; <nl> + } <nl> } <nl> <nl> @ Override <nl> public String resolve ( String name ) { <nl> - return properties . getProperty ( name ) ; <nl> + return values . get ( name ) ; <nl> } <nl> } <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / PropertiesExpanderTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / PropertiesExpanderTest . java <nl> index cc73780 . . 8745c29 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / PropertiesExpanderTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / PropertiesExpanderTest . java <nl> @ @ - 19 , 6 + 19 , 9 @ @ <nl> <nl> package com . puppycrawl . tools . checkstyle ; <nl> <nl> + import java . util . Properties ; <nl> + <nl> + import org . junit . Assert ; <nl> import org . junit . Test ; <nl> <nl> public class PropertiesExpanderTest { <nl> @ @ - 28 , 4 + 31 , 15 @ @ public class PropertiesExpanderTest { <nl> new PropertiesExpander ( null ) ; <nl> } <nl> <nl> + @ Test <nl> + public void testDefaultProperties ( ) { <nl> + final Properties properties = new Properties ( System . getProperties ( ) ) ; <nl> + properties . setProperty ( " test " , " checkstyle " ) ; <nl> + Assert . assertEquals ( System . getProperty ( " user . home " ) , properties . getProperty ( " user . home " ) ) ; <nl> + Assert . assertEquals ( " checkstyle " , properties . getProperty ( " test " ) ) ; <nl> + <nl> + final PropertiesExpander expander = new PropertiesExpander ( properties ) ; <nl> + Assert . assertEquals ( System . getProperty ( " user . home " ) , expander . resolve ( " user . home " ) ) ; <nl> + Assert . assertEquals ( " checkstyle " , expander . resolve ( " test " ) ) ; <nl> + } <nl> }

TEST DIFF:
diff - - git a / src / xdocs / releasenotes . xml b / src / xdocs / releasenotes . xml 
 index dfa1de2 . . 4f78112 100644 
 - - - a / src / xdocs / releasenotes . xml 
 + + + b / src / xdocs / releasenotes . xml 
 @ @ - 17 , 6 + 17 , 63 @ @ 
 
 < ! - - placeholder for a new section - - > 
 
 + < section name = " Release 7 . 1 . 2 " > 
 + < p > Bug fixes : < / p > 
 + < ul > 
 + < li > 
 + Wrong order of & quot ; default & quot ; method modifier . Author : alberto . cuda < a href = " https : / / github . com / checkstyle / checkstyle / issues / 3471 " > # 3471 < / a > 
 + < / li > 
 + < li > 
 + EqualsHashCode : hashCode without equals is not a violation . Author : rnveach < a href = " https : / / github . com / checkstyle / checkstyle / issues / 3308 " > # 3308 < / a > 
 + < / li > 
 + < / ul > 
 + < p > Notes : < / p > 
 + < ul > 
 + < li > 
 + Revert & quot ; Pull # 3162 : Update version of commons - collections to 3 . 2 . 2 to fix security vulnerability CVE - 2015 - 6420 & quot ; . Author : Roman Ivanov 
 + < / li > 
 + < li > 
 + Cut down on Checkstyle & # 39 ; s dependencies on Guava . Author : Andrei Selkin < a href = " https : / / github . com / checkstyle / checkstyle / issues / 3433 " > # 3433 < / a > 
 + < / li > 
 + < li > 
 + doc : fixed the wording in javadoc for TrailingCommentCheck . Author : Jos é Castro 
 + < / li > 
 + < li > 
 + doc : added missing slash to backport documentation url ( # 3457 ) . Author : rnveach 
 + < / li > 
 + < li > 
 + doc : added links to cs backport jre6

NEAREST DIFF:
diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / PropertiesExpander . java b / src / main / java / com / puppycrawl / tools / checkstyle / PropertiesExpander . java 
 index 6c5c97b . . be15b70 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / PropertiesExpander . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / PropertiesExpander . java 
 @ @ - 19 , 6 + 19 , 9 @ @ 
 
 package com . puppycrawl . tools . checkstyle ; 
 
 + import java . util . Enumeration ; 
 + import java . util . HashMap ; 
 + import java . util . Map ; 
 import java . util . Properties ; 
 
 / * * 
 @ @ - 29 , 25 + 32 , 28 @ @ import java . util . Properties ; 
 * / 
 public final class PropertiesExpander 
 implements PropertyResolver { 
 - / * * The underlying Properties object . * / 
 - private final Properties properties = new Properties ( ) ; 
 + / * * The underlying values . * / 
 + private final Map < String , String > values ; 
 
 / * * 
 * Creates a new PropertiesExpander . 
 * @ param properties the underlying properties to use for 
 * property resolution . 
 * @ throws IllegalArgumentException indicates null was passed 
 - * @ noinspection CollectionDeclaredAsConcreteClass 
 * / 
 public PropertiesExpander ( Properties properties ) { 
 if ( properties = = null ) { 
 throw new IllegalArgumentException ( " cannot pass null " ) ; 
 } 
 - this . properties . putAll ( properties ) ; 
 + values = new HashMap < > ( properties . size ( ) ) ; 
 + for ( Enumeration < ? > e = properties . propertyNames ( ) ; e . hasMoreElements ( ) ; ) { 
 + final String name = ( String ) e . nextElement ( ) ; 
 + values . put ( name , properties . getProperty ( name ) ) ; 
 + } 
 } 
 
 @ Override 
 public String resolve ( String name ) { 
 - return properties . getProperty ( name ) ; 
 + return values . get ( name ) ; 
 } 
 } 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / PropertiesExpanderTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / PropertiesExpanderTest . java 
 index cc73780 . . 8745c29 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / PropertiesExpanderTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / PropertiesExpanderTest . java 
 @ @ - 19 , 6 + 19 , 9 @ @ 
 
 package com . puppycrawl . tools . checkstyle ; 
 
 + import java . util . Properties ; 
 + 
 + import org . junit . Assert ; 
 import org . junit . Test ; 
 
 public class PropertiesExpanderTest { 
 @ @ - 28 , 4 + 31 , 15 @ @ public class PropertiesExpanderTest { 
 new PropertiesExpander ( null ) ; 
 } 
 
 + @ Test 
 + public void testDefaultProperties ( ) { 
 + final Properties properties = new Properties ( System . getProperties ( ) ) ; 
 + properties . setProperty ( " test " , " checkstyle " ) ; 
 + Assert . assertEquals ( System . getProperty ( " user . home " ) , properties . getProperty ( " user . home " ) ) ; 
 + Assert . assertEquals ( " checkstyle " , properties . getProperty ( " test " ) ) ; 
 + 
 + final PropertiesExpander expander = new PropertiesExpander ( properties ) ; 
 + Assert . assertEquals ( System . getProperty ( " user . home " ) , expander . resolve ( " user . home " ) ) ; 
 + Assert . assertEquals ( " checkstyle " , expander . resolve ( " test " ) ) ; 
 + } 
 }
