BLEU SCORE: 0.25965358893403384

TEST MSG: Issue # 2815 : change ' dependencies ' section on circleCI
GENERATED MSG: Issue # 2815 : improve cache in ' CircleCI '

TEST DIFF (one line): diff - - git a / circle . yml b / circle . yml <nl> index 975ba84 . . ded9d25 100644 <nl> - - - a / circle . yml <nl> + + + b / circle . yml <nl> @ @ - 2 , 20 + 2 , 21 @ @ checkout : <nl> post : <nl> - git clone https : / / github . com / checkstyle / contribution <nl> dependencies : <nl> - post : <nl> - - ( cd contribution / checkstyle - tester & & mvn dependency : go - offline ) <nl> + override : <nl> + - mvn install - Passembly <nl> + - eval $ TESTER _ DEPENDENCIES <nl> machine : <nl> java : <nl> version : oraclejdk8 <nl> environment : <nl> CMD1 : " cd contribution / checkstyle - tester " <nl> + DEP1 : " & & sed - i . ' ' ' s / ^ guava / # guava / ' projects - to - test - on . properties " <nl> + DEP2 : " & & echo ' class ClassEmpty { } ' > src / main / java / EmptyClass . java " <nl> + DEP3 : " & & . / launch . sh - Dcheckstyle . config . location = my _ check . xml " <nl> + TESTER _ DEPENDENCIES : $ CMD1 $ DEP1 $ DEP2 $ DEP3 <nl> CMD2 : " & & sed - i . ' ' ' s / ^ openjdk / # openjdk / ' projects - for - circle . properties " <nl> CMD3 : " & & sed - i . ' ' s / projects - to - test - on . properties / projects - for - circle . properties / launch . sh " <nl> - CMD4 : " & & cd . . / . . / & & mvn clean install - DskipTests - DskipITs - Dcobertura . skip = true " <nl> - CMD5 : " - Dpmd . skip = true - Dfindbugs . skip = true " <nl> - CMD6 : " - Dcheckstyle . ant . skip = true - Dcheckstyle . skip = true " <nl> - CMD7 : " & & cd contribution / checkstyle - tester " <nl> - CMD8 : " & & . / launch . sh - Dcheckstyle . config . location = checks - nonjavadoc - error . xml " <nl> + CMD4 : " & & . / launch . sh - Dcheckstyle . config . location = checks - nonjavadoc - error . xml " <nl> OPENJDK : " & & sed - i . ' ' ' s / # openjdk / openjdk / ' projects - for - circle . properties " <nl> INFINISPAN : " & & sed - i . ' ' ' s / # infinispan / infinispan / ' projects - for - circle . properties " <nl> PROTONPACK : " & & sed - i . ' ' ' s / # protonpack / protonpack / ' projects - for - circle . properties " <nl> @ @ - 29 , 13 + 30 , 13 @ @ machine : <nl> SCOUTER : " & & sed - i . ' ' ' s / # scouter / scouter / ' projects - for - circle . properties " <nl> GROOVY : " & & sed - i . ' ' ' s / # groovy / groovy / ' projects - for - circle . properties " <nl> # Test over openjdk7 <nl> - TEST _ 1 : $ CMD1 $ CMD2 $ OPENJDK $ CMD3 $ CMD4 $ CMD5 $ CMD6 $ CMD7 $ CMD8 <nl> + TEST _ 1 : $ CMD1 $ CMD2 $ OPENJDK $ CMD3 $ CMD4 <nl> # Test over infinispan , protonpack , jOOL , lucene - solr <nl> - TEST _ 2 : $ CMD1 $ CMD2 $ INFINISPAN $ PROTONPACK $ JOOL $ LUCENE $ CMD3 $ CMD4 $ CMD5 $ CMD6 $ CMD7 $ CMD8 <nl> + TEST _ 2 : $ CMD1 $ CMD2 $ INFINISPAN $ PROTONPACK $ JOOL $ LUCENE $ CMD3 $ CMD4 <nl> # Test over tapestry5 , storm , cassandra <nl> - TEST _ 3 : $ CMD1 $ CMD2 $ TAPESTRY $ STORM $ CASSANDRA $ CMD3 $ CMD4 $ CMD5 $ CMD6 $ CMD7 $ CMD8 <nl> + TEST _ 3 : $ CMD1 $ CMD2 $ TAPESTRY $ STORM $ CASSANDRA $ CMD3 $ CMD4 <nl> # Test over apache - commons , hadoop , scouter , groovy <nl> - TEST _ 4 : $ CMD1 $ CMD2 $ COMMONS $ HADOOP $ SCOUTER $ GROOVY $ CMD3 $ CMD4 $ CMD5 $ CMD6 $ CMD7 $ CMD8 <nl> + TEST _ 4 : $ CMD1 $ CMD2 $ COMMONS $ HADOOP $ SCOUTER $ GROOVY $ CMD3 $ CMD4 <nl> test : <nl> override : <nl> - case $ CIRCLE _ NODE _ INDEX in 0 ) eval $ TEST _ 1 ; ; 1 ) eval $ TEST _ 2 ; ; 2 ) eval $ TEST _ 3 ; ; 3 ) eval $ TEST _ 4 ; ; esac :
NEAREST DIFF (one line): diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / OneStatementPerLineCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / OneStatementPerLineCheck . java <nl> index d613fef . . c1b9911 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / OneStatementPerLineCheck . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / OneStatementPerLineCheck . java <nl> @ @ - 117 , 7 + 117 , 10 @ @ public final class OneStatementPerLineCheck extends Check { <nl> switch ( ast . getType ( ) ) { <nl> case TokenTypes . SEMI : <nl> DetailAST currentStatement = ast ; <nl> - if ( isMultilineStatement ( currentStatement ) ) { <nl> + final boolean hasResourcesPrevSibling = <nl> + currentStatement . getPreviousSibling ( ) ! = null <nl> + & & currentStatement . getPreviousSibling ( ) . getType ( ) = = TokenTypes . RESOURCES ; <nl> + if ( ! hasResourcesPrevSibling & & isMultilineStatement ( currentStatement ) ) { <nl> currentStatement = ast . getPreviousSibling ( ) ; <nl> } <nl> if ( isOnTheSameLine ( currentStatement , lastStatementEnd , <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / checks / coding / OneStatementPerLineCheckTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / checks / coding / OneStatementPerLineCheckTest . java <nl> index 36919ea . . b742885 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / checks / coding / OneStatementPerLineCheckTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / checks / coding / OneStatementPerLineCheckTest . java <nl> @ @ - 79 , 6 + 79 , 8 @ @ public class OneStatementPerLineCheckTest extends BaseCheckTestSupport { <nl> " 81 : 10 : " + getCheckMessage ( MSG _ KEY ) , <nl> " 90 : 28 : " + getCheckMessage ( MSG _ KEY ) , <nl> " 135 : 39 : " + getCheckMessage ( MSG _ KEY ) , <nl> + " 168 : 110 : " + getCheckMessage ( MSG _ KEY ) , <nl> + " 179 : 107 : " + getCheckMessage ( MSG _ KEY ) , <nl> } ; <nl> <nl> verify ( checkConfig , <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / coding / InputOneStatementPerLine2 . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / coding / InputOneStatementPerLine2 . java <nl> index 9bbd91f . . 161dcdf 100644 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / coding / InputOneStatementPerLine2 . java <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / coding / InputOneStatementPerLine2 . java <nl> @ @ - 134 , 4 + 134 , 50 @ @ public class InputOneStatementPerLine2 { <nl> ; <nl> n + + , k - - ) { var1 + + ; var2 + + ; } <nl> } <nl> + <nl> + / * * <nl> + * Multiple statements within try - with - resource on a separate line is legal . <nl> + * @ see < a href = " https : / / github . com / checkstyle / checkstyle / issues / 2211 " > OneStatementPerLine : false match with try - with - resources < / a > <nl> + * / <nl> + private void issue2211pass ( ) { <nl> + try ( <nl> + AutoCloseable i = new java . io . StringReader ( " " ) ; <nl> + AutoCloseable k = new java . io . StringReader ( " " ) ; <nl> + ) { <nl> + } catch ( Exception e1 ) { <nl> + } <nl> + } <nl> + <nl> + / * * <nl> + * Multiple statements within try - with - resource on a separate line is legal . Added per PR comment : <nl> + * @ see < a href = " https : / / github . com / checkstyle / checkstyle / pull / 2750 # issuecomment - 166032327 " > Please add UT cases < / a > <nl> + * / <nl> + private void issue2211pass2 ( ) { <nl> + try ( AutoCloseable i = new java . io . StringReader ( " " ) ; <nl> + AutoCloseable k = new java . io . StringReader ( " " ) ; ) { <nl> + } catch ( Exception e1 ) { <nl> + } <nl> + } <nl> + <nl> + / * * <nl> + * Multiple statements within try - with - resource on next line after try is illegal . <nl> + * @ see < a href = " https : / / github . com / checkstyle / checkstyle / issues / 2211 " > OneStatementPerLine : false match with try - with - resources < / a > <nl> + * / <nl> + private void issue2211fail ( ) { <nl> + try ( <nl> + AutoCloseable i = new java . io . StringReader ( " " ) ; AutoCloseable k = new java . io . StringReader ( " " ) ; <nl> + ) { <nl> + } catch ( Exception e1 ) { <nl> + } <nl> + } <nl> + <nl> + / * * <nl> + * Multiple statements within try - with - resource on a same line as try is illegal . Added per PR comment : <nl> + * @ see < a href = " https : / / github . com / checkstyle / checkstyle / pull / 2750 # issuecomment - 166032327 " > Please add UT cases < / a > <nl> + * / <nl> + private void issue2211fail2 ( ) { <nl> + try ( AutoCloseable i = new java . io . StringReader ( " " ) ; AutoCloseable k = new java . io . StringReader ( " " ) ; ) { <nl> + } catch ( Exception e1 ) { <nl> + } <nl> + } <nl> }

TEST DIFF:
diff - - git a / circle . yml b / circle . yml 
 index 975ba84 . . ded9d25 100644 
 - - - a / circle . yml 
 + + + b / circle . yml 
 @ @ - 2 , 20 + 2 , 21 @ @ checkout : 
 post : 
 - git clone https : / / github . com / checkstyle / contribution 
 dependencies : 
 - post : 
 - - ( cd contribution / checkstyle - tester & & mvn dependency : go - offline ) 
 + override : 
 + - mvn install - Passembly 
 + - eval $ TESTER _ DEPENDENCIES 
 machine : 
 java : 
 version : oraclejdk8 
 environment : 
 CMD1 : " cd contribution / checkstyle - tester " 
 + DEP1 : " & & sed - i . ' ' ' s / ^ guava / # guava / ' projects - to - test - on . properties " 
 + DEP2 : " & & echo ' class ClassEmpty { } ' > src / main / java / EmptyClass . java " 
 + DEP3 : " & & . / launch . sh - Dcheckstyle . config . location = my _ check . xml " 
 + TESTER _ DEPENDENCIES : $ CMD1 $ DEP1 $ DEP2 $ DEP3 
 CMD2 : " & & sed - i . ' ' ' s / ^ openjdk / # openjdk / ' projects - for - circle . properties " 
 CMD3 : " & & sed - i . ' ' s / projects - to - test - on . properties / projects - for - circle . properties / launch . sh " 
 - CMD4 : " & & cd . . / . . / & & mvn clean install - DskipTests - DskipITs - Dcobertura . skip = true " 
 - CMD5 : " - Dpmd . skip = true - Dfindbugs . skip = true " 
 - CMD6 : " - Dcheckstyle . ant . skip = true - Dcheckstyle . skip = true " 
 - CMD7 : " & & cd contribution / checkstyle - tester " 
 - CMD8 : " & & . / launch . sh - Dcheckstyle . config . location = checks - nonjavadoc - error . xml " 
 + CMD4 : " & & . / launch . sh - Dcheckstyle . config . location = checks - nonjavadoc - error . xml " 
 OPENJDK : " & & sed - i . ' ' ' s / # openjdk / openjdk / ' projects - for - circle . properties " 
 INFINISPAN : " & & sed - i . ' ' ' s / # infinispan / infinispan / ' projects - for - circle . properties " 
 PROTONPACK : " & & sed - i . ' ' ' s / # protonpack / protonpack / ' projects - for - circle . properties " 
 @ @ - 29 , 13 + 30 , 13 @ @ machine : 
 SCOUTER : " & & sed - i . ' ' ' s / # scouter / scouter / ' projects - for - circle . properties " 
 GROOVY : " & & sed - i . ' ' ' s / # groovy / groovy / ' projects - for - circle . properties " 
 # Test over openjdk7 
 - TEST _ 1 : $ CMD1 $ CMD2 $ OPENJDK $ CMD3 $ CMD4 $ CMD5 $ CMD6 $ CMD7 $ CMD8 
 + TEST _ 1 : $ CMD1 $ CMD2 $ OPENJDK $ CMD3 $ CMD4 
 # Test over infinispan , protonpack , jOOL , lucene - solr 
 - TEST _ 2 : $ CMD1 $ CMD2 $ INFINISPAN $ PROTONPACK $ JOOL $ LUCENE $ CMD3 $ CMD4 $ CMD5 $ CMD6 $ CMD7 $ CMD8 
 + TEST _ 2 : $ CMD1 $ CMD2 $ INFINISPAN $ PROTONPACK $ JOOL $ LUCENE $ CMD3 $ CMD4 
 # Test over tapestry5 , storm , cassandra 
 - TEST _ 3 : $ CMD1 $ CMD2 $ TAPESTRY $ STORM $ CASSANDRA $ CMD3 $ CMD4 $ CMD5 $ CMD6 $ CMD7 $ CMD8 
 + TEST _ 3 : $ CMD1 $ CMD2 $ TAPESTRY $ STORM $ CASSANDRA $ CMD3 $ CMD4 
 # Test over apache - commons , hadoop , scouter , groovy 
 - TEST _ 4 : $ CMD1 $ CMD2 $ COMMONS $ HADOOP $ SCOUTER $ GROOVY $ CMD3 $ CMD4 $ CMD5 $ CMD6 $ CMD7 $ CMD8 
 + TEST _ 4 : $ CMD1 $ CMD2 $ COMMONS $ HADOOP $ SCOUTER $ GROOVY $ CMD3 $ CMD4 
 test : 
 override : 
 - case $ CIRCLE _ NODE _ INDEX in 0 ) eval $ TEST _ 1 ; ; 1 ) eval $ TEST _ 2 ; ; 2 ) eval $ TEST _ 3 ; ; 3 ) eval $ TEST _ 4 ; ; esac :

NEAREST DIFF:
diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / OneStatementPerLineCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / OneStatementPerLineCheck . java 
 index d613fef . . c1b9911 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / OneStatementPerLineCheck . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / OneStatementPerLineCheck . java 
 @ @ - 117 , 7 + 117 , 10 @ @ public final class OneStatementPerLineCheck extends Check { 
 switch ( ast . getType ( ) ) { 
 case TokenTypes . SEMI : 
 DetailAST currentStatement = ast ; 
 - if ( isMultilineStatement ( currentStatement ) ) { 
 + final boolean hasResourcesPrevSibling = 
 + currentStatement . getPreviousSibling ( ) ! = null 
 + & & currentStatement . getPreviousSibling ( ) . getType ( ) = = TokenTypes . RESOURCES ; 
 + if ( ! hasResourcesPrevSibling & & isMultilineStatement ( currentStatement ) ) { 
 currentStatement = ast . getPreviousSibling ( ) ; 
 } 
 if ( isOnTheSameLine ( currentStatement , lastStatementEnd , 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / checks / coding / OneStatementPerLineCheckTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / checks / coding / OneStatementPerLineCheckTest . java 
 index 36919ea . . b742885 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / checks / coding / OneStatementPerLineCheckTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / checks / coding / OneStatementPerLineCheckTest . java 
 @ @ - 79 , 6 + 79 , 8 @ @ public class OneStatementPerLineCheckTest extends BaseCheckTestSupport { 
 " 81 : 10 : " + getCheckMessage ( MSG _ KEY ) , 
 " 90 : 28 : " + getCheckMessage ( MSG _ KEY ) , 
 " 135 : 39 : " + getCheckMessage ( MSG _ KEY ) , 
 + " 168 : 110 : " + getCheckMessage ( MSG _ KEY ) , 
 + " 179 : 107 : " + getCheckMessage ( MSG _ KEY ) , 
 } ; 
 
 verify ( checkConfig , 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / coding / InputOneStatementPerLine2 . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / coding / InputOneStatementPerLine2 . java 
 index 9bbd91f . . 161dcdf 100644 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / coding / InputOneStatementPerLine2 . java 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / coding / InputOneStatementPerLine2 . java 
 @ @ - 134 , 4 + 134 , 50 @ @ public class InputOneStatementPerLine2 { 
 ; 
 n + + , k - - ) { var1 + + ; var2 + + ; } 
 } 
 + 
 + / * * 
 + * Multiple statements within try - with - resource on a separate line is legal . 
 + * @ see < a href = " https : / / github . com / checkstyle / checkstyle / issues / 2211 " > OneStatementPerLine : false match with try - with - resources < / a > 
 + * / 
 + private void issue2211pass ( ) { 
 + try ( 
 + AutoCloseable i = new java . io . StringReader ( " " ) ; 
 + AutoCloseable k = new java . io . StringReader ( " " ) ; 
 + ) { 
 + } catch ( Exception e1 ) { 
 + } 
 + } 
 + 
 + / * * 
 + * Multiple statements within try - with - resource on a separate line is legal . Added per PR comment : 
 + * @ see < a href = " https : / / github . com / checkstyle / checkstyle / pull / 2750 # issuecomment - 166032327 " > Please add UT cases < / a > 
 + * / 
 + private void issue2211pass2 ( ) { 
 + try ( AutoCloseable i = new java . io . StringReader ( " " ) ; 
 + AutoCloseable k = new java . io . StringReader ( " " ) ; ) { 
 + } catch ( Exception e1 ) { 
 + } 
 + } 
 + 
 + / * * 
 + * Multiple statements within try - with - resource on next line after try is illegal . 
 + * @ see < a href = " https : / / github . com / checkstyle / checkstyle / issues / 2211 " > OneStatementPerLine : false match with try - with - resources < / a > 
 + * / 
 + private void issue2211fail ( ) { 
 + try ( 
 + AutoCloseable i = new java . io . StringReader ( " " ) ; AutoCloseable k = new java . io . StringReader ( " " ) ; 
 + ) { 
 + } catch ( Exception e1 ) { 
 + } 
 + } 
 + 
 + / * * 
 + * Multiple statements within try - with - resource on a same line as try is illegal . Added per PR comment : 
 + * @ see < a href = " https : / / github . com / checkstyle / checkstyle / pull / 2750 # issuecomment - 166032327 " > Please add UT cases < / a > 
 + * / 
 + private void issue2211fail2 ( ) { 
 + try ( AutoCloseable i = new java . io . StringReader ( " " ) ; AutoCloseable k = new java . io . StringReader ( " " ) ; ) { 
 + } catch ( Exception e1 ) { 
 + } 
 + } 
 }
