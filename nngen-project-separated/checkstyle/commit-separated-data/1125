BLEU SCORE: 0.02637407736896916

TEST MSG: minor : fix hardcoded messages in UTs and spelling mistakes in FinalLocalVariable
GENERATED MSG: Solution to wrong variable reported because of name shadowing in FinalLocalVariableCheck . solves # 1142

TEST DIFF (one line): diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / FinalLocalVariableCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / FinalLocalVariableCheck . java <nl> index 3ec540e . . 4bf09d7 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / FinalLocalVariableCheck . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / FinalLocalVariableCheck . java <nl> @ @ - 485 , 7 + 485 , 7 @ @ public class FinalLocalVariableCheck extends AbstractCheck { <nl> } <nl> <nl> / * * <nl> - * Checks whether a variable which is declared ouside loop is used inside loop . <nl> + * Checks whether a variable which is declared outside loop is used inside loop . <nl> * For example : <nl> * < p > <nl> * { @ code <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / checks / coding / FinalLocalVariableCheckTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / checks / coding / FinalLocalVariableCheckTest . java <nl> index 019247d . . 8d18498 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / checks / coding / FinalLocalVariableCheckTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / checks / coding / FinalLocalVariableCheckTest . java <nl> @ @ - 135 , 8 + 135 , 8 @ @ public class FinalLocalVariableCheckTest <nl> checkConfig . addAttribute ( " tokens " , " VARIABLE _ DEF , PARAMETER _ DEF " ) ; <nl> checkConfig . addAttribute ( " validateEnhancedForLoopVariable " , " true " ) ; <nl> final String [ ] expected = { <nl> - " 8 : 20 : " + " Variable ' a ' should be declared final . " , <nl> - " 15 : 13 : " + " Variable ' x ' should be declared final . " , <nl> + " 8 : 20 : " + getCheckMessage ( MSG _ KEY , " a " ) , <nl> + " 15 : 13 : " + getCheckMessage ( MSG _ KEY , " x " ) , <nl> } ; <nl> verify ( checkConfig , getPath ( " InputFinalLocalVariableEnhancedForLoopVariable . java " ) , <nl> expected ) ; <nl> @ @ - 148 , 7 + 148 , 7 @ @ public class FinalLocalVariableCheckTest <nl> createCheckConfig ( FinalLocalVariableCheck . class ) ; <nl> checkConfig . addAttribute ( " tokens " , " VARIABLE _ DEF , PARAMETER _ DEF " ) ; <nl> final String [ ] expected = { <nl> - " 15 : 13 : " + " Variable ' x ' should be declared final . " , <nl> + " 15 : 13 : " + getCheckMessage ( MSG _ KEY , " x " ) , <nl> } ; <nl> verify ( checkConfig , getPath ( " InputFinalLocalVariableEnhancedForLoopVariable . java " ) , <nl> expected ) ; <nl> @ @ - 161 , 7 + 161 , 7 @ @ public class FinalLocalVariableCheckTest <nl> createCheckConfig ( FinalLocalVariableCheck . class ) ; <nl> checkConfig . addAttribute ( " tokens " , " PARAMETER _ DEF , VARIABLE _ DEF " ) ; <nl> final String [ ] expected = { <nl> - " 32 : 16 : " + " Variable ' result ' should be declared final . " , <nl> + " 32 : 16 : " + getCheckMessage ( MSG _ KEY , " result " ) , <nl> } ; <nl> verify ( checkConfig , getPath ( " InputFinalLocalVariableNameLambda . java " ) , <nl> expected ) ; <nl> @ @ - 175 , 8 + 175 , 8 @ @ public class FinalLocalVariableCheckTest <nl> checkConfig . addAttribute ( " tokens " , " PARAMETER _ DEF , VARIABLE _ DEF " ) ; <nl> <nl> final String [ ] expected = { <nl> - " 4 : 28 : " + " Variable ' text ' should be declared final . " , <nl> - " 17 : 13 : " + " Variable ' x ' should be declared final . " , <nl> + " 4 : 28 : " + getCheckMessage ( MSG _ KEY , " text " ) , <nl> + " 17 : 13 : " + getCheckMessage ( MSG _ KEY , " x " ) , <nl> } ; <nl> verify ( checkConfig , getPath ( " InputFinalLocalVariableNameShadowing . java " ) , expected ) ; <nl> } <nl> @ @ - 198 , 16 + 198 , 16 @ @ public class FinalLocalVariableCheckTest <nl> } <nl> <nl> @ Test <nl> - public void testVariavleWhichIsAssignedMultipleTimes ( ) throws Exception { <nl> + public void testVariableWhichIsAssignedMultipleTimes ( ) throws Exception { <nl> final DefaultConfiguration checkConfig = createCheckConfig ( FinalLocalVariableCheck . class ) ; <nl> <nl> final String [ ] expected = { <nl> - " 49 : 13 : " + " Variable ' i ' should be declared final . " , <nl> - " 122 : 16 : " + " Variable ' path ' should be declared final . " , <nl> - " 126 : 20 : " + " Variable ' relativePath ' should be declared final . " , <nl> - " 202 : 17 : " + " Variable ' kind ' should be declared final . " , <nl> - " 207 : 24 : " + " Variable ' m ' should be declared final . " , <nl> - " 409 : 17 : " + " Variable ' increment ' should be declared final . " , <nl> + " 49 : 13 : " + getCheckMessage ( MSG _ KEY , " i " ) , <nl> + " 122 : 16 : " + getCheckMessage ( MSG _ KEY , " path " ) , <nl> + " 126 : 20 : " + getCheckMessage ( MSG _ KEY , " relativePath " ) , <nl> + " 202 : 17 : " + getCheckMessage ( MSG _ KEY , " kind " ) , <nl> + " 207 : 24 : " + getCheckMessage ( MSG _ KEY , " m " ) , <nl> + " 409 : 17 : " + getCheckMessage ( MSG _ KEY , " increment " ) , <nl> } ; <nl> verify ( checkConfig , getPath ( " InputFinalLocalVariableAssignedMultipleTimes . java " ) , expected ) ; <nl> }
NEAREST DIFF (one line): diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / Main . java b / src / main / java / com / puppycrawl / tools / checkstyle / Main . java <nl> index 62e372a . . 4860010 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / Main . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / Main . java <nl> @ @ - 139 , 10 + 139 , 13 @ @ public final class Main { <nl> private static List < String > validateCli ( CommandLine cmdLine ) { <nl> final List < String > result = new ArrayList < > ( ) ; <nl> / / ensure a configuration file is specified <nl> - if ( ! cmdLine . hasOption ( " c " ) ) { <nl> - result . add ( " Must specify a config XML file . " ) ; <nl> - } <nl> - else { <nl> + if ( cmdLine . hasOption ( " c " ) ) { <nl> + final String configLocation = cmdLine . getOptionValue ( " c " ) ; <nl> + final File configFile = new File ( configLocation ) ; <nl> + if ( ! configFile . exists ( ) ) { <nl> + result . add ( String . format ( " unable to find ' % s ' . " , configLocation ) ) ; <nl> + } <nl> + <nl> / / validate optional parameters <nl> if ( cmdLine . hasOption ( " f " ) ) { <nl> final String format = cmdLine . getOptionValue ( " f " ) ; <nl> @ @ - 151 , 6 + 154 , 7 @ @ public final class Main { <nl> + " Found ' % s ' but expected ' plain ' or ' xml ' . " , format ) ) ; <nl> } <nl> } <nl> + <nl> if ( cmdLine . hasOption ( " p " ) ) { <nl> final String propertiesLocation = cmdLine . getOptionValue ( " p " ) ; <nl> final File file = new File ( propertiesLocation ) ; <nl> @ @ - 158 , 6 + 162 , 7 @ @ public final class Main { <nl> result . add ( String . format ( " Could not find file ' % s ' . " , propertiesLocation ) ) ; <nl> } <nl> } <nl> + <nl> if ( cmdLine . hasOption ( " o " ) ) { <nl> final String outputLocation = cmdLine . getOptionValue ( " o " ) ; <nl> final File file = new File ( outputLocation ) ; <nl> @ @ - 165 , 11 + 170 , 15 @ @ public final class Main { <nl> result . add ( String . format ( " Permission denied : ' % s ' . " , outputLocation ) ) ; <nl> } <nl> } <nl> + <nl> final List < File > files = getFilesToProcess ( cmdLine . getArgs ( ) ) ; <nl> if ( files . isEmpty ( ) ) { <nl> result . add ( " Must specify files to process , found 0 . " ) ; <nl> } <nl> } <nl> + else { <nl> + result . add ( " Must specify a config XML file . " ) ; <nl> + } <nl> <nl> return result ; <nl> } <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / MainTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / MainTest . java <nl> index 42baba1 . . 8e1b64d 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / MainTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / MainTest . java <nl> @ @ - 105 , 7 + 105 , 8 @ @ public class MainTest { <nl> assertEquals ( " " , errorLog . getLog ( ) ) ; <nl> } <nl> } ) ; <nl> - Main . main ( " - c " , " / google _ checks . xml " , " NonexistingFile . java " ) ; <nl> + Main . main ( " - c " , " src / test / resources / com / puppycrawl / tools / checkstyle / config - classname . xml " , <nl> + " NonexistingFile . java " ) ; <nl> } <nl> <nl> @ Test <nl> @ @ - 114 , 8 + 115 , 7 @ @ public class MainTest { <nl> exit . expectSystemExitWithStatus ( 1 ) ; <nl> exit . checkAssertionAfterwards ( new Assertion ( ) { <nl> public void checkAssertion ( ) { <nl> - assertEquals ( String . format ( " unable to find src / main / resources / non _ existing _ config . xml % n " <nl> - + " Checkstyle ends with 1 errors . % n " ) , <nl> + assertEquals ( String . format ( " unable to find ' src / main / resources / non _ existing _ config . xml ' . % n " ) , <nl> standardLog . getLog ( ) ) ; <nl> assertEquals ( " " , errorLog . getLog ( ) ) ; <nl> } <nl> @ @ - 135 , 7 + 135 , 7 @ @ public class MainTest { <nl> assertEquals ( " " , errorLog . getLog ( ) ) ; <nl> } <nl> } ) ; <nl> - Main . main ( " - c " , " / google _ checks . xml " , " - f " , " xmlp " , <nl> + Main . main ( " - c " , " src / test / resources / com / puppycrawl / tools / checkstyle / config - classname . xml " , " - f " , " xmlp " , <nl> " src / test / resources / com / puppycrawl / tools / checkstyle / InputMain . java " ) ; <nl> } <nl>

TEST DIFF:
diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / FinalLocalVariableCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / FinalLocalVariableCheck . java 
 index 3ec540e . . 4bf09d7 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / FinalLocalVariableCheck . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / FinalLocalVariableCheck . java 
 @ @ - 485 , 7 + 485 , 7 @ @ public class FinalLocalVariableCheck extends AbstractCheck { 
 } 
 
 / * * 
 - * Checks whether a variable which is declared ouside loop is used inside loop . 
 + * Checks whether a variable which is declared outside loop is used inside loop . 
 * For example : 
 * < p > 
 * { @ code 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / checks / coding / FinalLocalVariableCheckTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / checks / coding / FinalLocalVariableCheckTest . java 
 index 019247d . . 8d18498 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / checks / coding / FinalLocalVariableCheckTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / checks / coding / FinalLocalVariableCheckTest . java 
 @ @ - 135 , 8 + 135 , 8 @ @ public class FinalLocalVariableCheckTest 
 checkConfig . addAttribute ( " tokens " , " VARIABLE _ DEF , PARAMETER _ DEF " ) ; 
 checkConfig . addAttribute ( " validateEnhancedForLoopVariable " , " true " ) ; 
 final String [ ] expected = { 
 - " 8 : 20 : " + " Variable ' a ' should be declared final . " , 
 - " 15 : 13 : " + " Variable ' x ' should be declared final . " , 
 + " 8 : 20 : " + getCheckMessage ( MSG _ KEY , " a " ) , 
 + " 15 : 13 : " + getCheckMessage ( MSG _ KEY , " x " ) , 
 } ; 
 verify ( checkConfig , getPath ( " InputFinalLocalVariableEnhancedForLoopVariable . java " ) , 
 expected ) ; 
 @ @ - 148 , 7 + 148 , 7 @ @ public class FinalLocalVariableCheckTest 
 createCheckConfig ( FinalLocalVariableCheck . class ) ; 
 checkConfig . addAttribute ( " tokens " , " VARIABLE _ DEF , PARAMETER _ DEF " ) ; 
 final String [ ] expected = { 
 - " 15 : 13 : " + " Variable ' x ' should be declared final . " , 
 + " 15 : 13 : " + getCheckMessage ( MSG _ KEY , " x " ) , 
 } ; 
 verify ( checkConfig , getPath ( " InputFinalLocalVariableEnhancedForLoopVariable . java " ) , 
 expected ) ; 
 @ @ - 161 , 7 + 161 , 7 @ @ public class FinalLocalVariableCheckTest 
 createCheckConfig ( FinalLocalVariableCheck . class ) ; 
 checkConfig . addAttribute ( " tokens " , " PARAMETER _ DEF , VARIABLE _ DEF " ) ; 
 final String [ ] expected = { 
 - " 32 : 16 : " + " Variable ' result ' should be declared final . " , 
 + " 32 : 16 : " + getCheckMessage ( MSG _ KEY , " result " ) , 
 } ; 
 verify ( checkConfig , getPath ( " InputFinalLocalVariableNameLambda . java " ) , 
 expected ) ; 
 @ @ - 175 , 8 + 175 , 8 @ @ public class FinalLocalVariableCheckTest 
 checkConfig . addAttribute ( " tokens " , " PARAMETER _ DEF , VARIABLE _ DEF " ) ; 
 
 final String [ ] expected = { 
 - " 4 : 28 : " + " Variable ' text ' should be declared final . " , 
 - " 17 : 13 : " + " Variable ' x ' should be declared final . " , 
 + " 4 : 28 : " + getCheckMessage ( MSG _ KEY , " text " ) , 
 + " 17 : 13 : " + getCheckMessage ( MSG _ KEY , " x " ) , 
 } ; 
 verify ( checkConfig , getPath ( " InputFinalLocalVariableNameShadowing . java " ) , expected ) ; 
 } 
 @ @ - 198 , 16 + 198 , 16 @ @ public class FinalLocalVariableCheckTest 
 } 
 
 @ Test 
 - public void testVariavleWhichIsAssignedMultipleTimes ( ) throws Exception { 
 + public void testVariableWhichIsAssignedMultipleTimes ( ) throws Exception { 
 final DefaultConfiguration checkConfig = createCheckConfig ( FinalLocalVariableCheck . class ) ; 
 
 final String [ ] expected = { 
 - " 49 : 13 : " + " Variable ' i ' should be declared final . " , 
 - " 122 : 16 : " + " Variable ' path ' should be declared final . " , 
 - " 126 : 20 : " + " Variable ' relativePath ' should be declared final . " , 
 - " 202 : 17 : " + " Variable ' kind ' should be declared final . " , 
 - " 207 : 24 : " + " Variable ' m ' should be declared final . " , 
 - " 409 : 17 : " + " Variable ' increment ' should be declared final . " , 
 + " 49 : 13 : " + getCheckMessage ( MSG _ KEY , " i " ) , 
 + " 122 : 16 : " + getCheckMessage ( MSG _ KEY , " path " ) , 
 + " 126 : 20 : " + getCheckMessage ( MSG _ KEY , " relativePath " ) , 
 + " 202 : 17 : " + getCheckMessage ( MSG _ KEY , " kind " ) , 
 + " 207 : 24 : " + getCheckMessage ( MSG _ KEY , " m " ) , 
 + " 409 : 17 : " + getCheckMessage ( MSG _ KEY , " increment " ) , 
 } ; 
 verify ( checkConfig , getPath ( " InputFinalLocalVariableAssignedMultipleTimes . java " ) , expected ) ; 
 }

NEAREST DIFF:
diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / Main . java b / src / main / java / com / puppycrawl / tools / checkstyle / Main . java 
 index 62e372a . . 4860010 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / Main . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / Main . java 
 @ @ - 139 , 10 + 139 , 13 @ @ public final class Main { 
 private static List < String > validateCli ( CommandLine cmdLine ) { 
 final List < String > result = new ArrayList < > ( ) ; 
 / / ensure a configuration file is specified 
 - if ( ! cmdLine . hasOption ( " c " ) ) { 
 - result . add ( " Must specify a config XML file . " ) ; 
 - } 
 - else { 
 + if ( cmdLine . hasOption ( " c " ) ) { 
 + final String configLocation = cmdLine . getOptionValue ( " c " ) ; 
 + final File configFile = new File ( configLocation ) ; 
 + if ( ! configFile . exists ( ) ) { 
 + result . add ( String . format ( " unable to find ' % s ' . " , configLocation ) ) ; 
 + } 
 + 
 / / validate optional parameters 
 if ( cmdLine . hasOption ( " f " ) ) { 
 final String format = cmdLine . getOptionValue ( " f " ) ; 
 @ @ - 151 , 6 + 154 , 7 @ @ public final class Main { 
 + " Found ' % s ' but expected ' plain ' or ' xml ' . " , format ) ) ; 
 } 
 } 
 + 
 if ( cmdLine . hasOption ( " p " ) ) { 
 final String propertiesLocation = cmdLine . getOptionValue ( " p " ) ; 
 final File file = new File ( propertiesLocation ) ; 
 @ @ - 158 , 6 + 162 , 7 @ @ public final class Main { 
 result . add ( String . format ( " Could not find file ' % s ' . " , propertiesLocation ) ) ; 
 } 
 } 
 + 
 if ( cmdLine . hasOption ( " o " ) ) { 
 final String outputLocation = cmdLine . getOptionValue ( " o " ) ; 
 final File file = new File ( outputLocation ) ; 
 @ @ - 165 , 11 + 170 , 15 @ @ public final class Main { 
 result . add ( String . format ( " Permission denied : ' % s ' . " , outputLocation ) ) ; 
 } 
 } 
 + 
 final List < File > files = getFilesToProcess ( cmdLine . getArgs ( ) ) ; 
 if ( files . isEmpty ( ) ) { 
 result . add ( " Must specify files to process , found 0 . " ) ; 
 } 
 } 
 + else { 
 + result . add ( " Must specify a config XML file . " ) ; 
 + } 
 
 return result ; 
 } 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / MainTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / MainTest . java 
 index 42baba1 . . 8e1b64d 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / MainTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / MainTest . java 
 @ @ - 105 , 7 + 105 , 8 @ @ public class MainTest { 
 assertEquals ( " " , errorLog . getLog ( ) ) ; 
 } 
 } ) ; 
 - Main . main ( " - c " , " / google _ checks . xml " , " NonexistingFile . java " ) ; 
 + Main . main ( " - c " , " src / test / resources / com / puppycrawl / tools / checkstyle / config - classname . xml " , 
 + " NonexistingFile . java " ) ; 
 } 
 
 @ Test 
 @ @ - 114 , 8 + 115 , 7 @ @ public class MainTest { 
 exit . expectSystemExitWithStatus ( 1 ) ; 
 exit . checkAssertionAfterwards ( new Assertion ( ) { 
 public void checkAssertion ( ) { 
 - assertEquals ( String . format ( " unable to find src / main / resources / non _ existing _ config . xml % n " 
 - + " Checkstyle ends with 1 errors . % n " ) , 
 + assertEquals ( String . format ( " unable to find ' src / main / resources / non _ existing _ config . xml ' . % n " ) , 
 standardLog . getLog ( ) ) ; 
 assertEquals ( " " , errorLog . getLog ( ) ) ; 
 } 
 @ @ - 135 , 7 + 135 , 7 @ @ public class MainTest { 
 assertEquals ( " " , errorLog . getLog ( ) ) ; 
 } 
 } ) ; 
 - Main . main ( " - c " , " / google _ checks . xml " , " - f " , " xmlp " , 
 + Main . main ( " - c " , " src / test / resources / com / puppycrawl / tools / checkstyle / config - classname . xml " , " - f " , " xmlp " , 
 " src / test / resources / com / puppycrawl / tools / checkstyle / InputMain . java " ) ; 
 } 

