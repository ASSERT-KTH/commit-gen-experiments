BLEU SCORE: 0.09080027618567452

TEST MSG: Issue # 3573 : resovle design problem of FileContentsHolder
GENERATED MSG: Issue # 4714 : Make SuppressionCommentFilter and SuppressWithNearbyCommentFilter children of TreeWalker

TEST DIFF (one line): diff - - git a / config / checkstyle _ checks . xml b / config / checkstyle _ checks . xml <nl> index 2b88ede . . 65f8c2a 100644 <nl> - - - a / config / checkstyle _ checks . xml <nl> + + + b / config / checkstyle _ checks . xml <nl> @ @ - 374 , 7 + 374 , 6 @ @ <nl> < / module > <nl> < module name = " CommentsIndentation " / > <nl> < module name = " DescendantToken " / > <nl> - < module name = " FileContentsHolder " / > <nl> < module name = " FinalParameters " > <nl> < ! - - <nl> we will not use that fanatic validation , extra modifiers pollute a code <nl> diff - - git a / config / checkstyle _ sevntu _ checks . xml b / config / checkstyle _ sevntu _ checks . xml <nl> index 1cfed6c . . 34fb743 100644 <nl> - - - a / config / checkstyle _ sevntu _ checks . xml <nl> + + + b / config / checkstyle _ sevntu _ checks . xml <nl> @ @ - 21 , 7 + 21 , 6 @ @ <nl> < property name = " checkFormat " value = " $ 1 " / > <nl> < property name = " influenceFormat " value = " 3 " / > <nl> < / module > <nl> - < module name = " FileContentsHolder " / > <nl> < module name = " StaticMethodCandidate " / > <nl> < module name = " UselessSingleCatchCheck " / > <nl> < module name = " NestedSwitchCheck " / > <nl> diff - - git a / config / findbugs - exclude . xml b / config / findbugs - exclude . xml <nl> index f75bac2 . . d0340a8 100644 <nl> - - - a / config / findbugs - exclude . xml <nl> + + + b / config / findbugs - exclude . xml <nl> @ @ - 97 , 10 + 97 , 4 @ @ <nl> < Method name = " makeCodeSelection " / > <nl> < Bug pattern = " RV _ RETURN _ VALUE _ IGNORED _ NO _ SIDE _ EFFECT " / > <nl> < / Match > <nl> - < Match > <nl> - < ! - - Until https : / / github . com / checkstyle / checkstyle / issues / 3573 - - > <nl> - < Class name = " com . puppycrawl . tools . checkstyle . checks . FileContentsHolder " / > <nl> - < Method name = " beginTree " / > <nl> - < Bug pattern = " ST _ WRITE _ TO _ STATIC _ FROM _ INSTANCE _ METHOD " / > <nl> - < / Match > <nl> < / FindBugsFilter > <nl> diff - - git a / config / intellij - idea - inspections . xml b / config / intellij - idea - inspections . xml <nl> index 87850e0 . . 94908dd 100644 <nl> - - - a / config / intellij - idea - inspections . xml <nl> + + + b / config / intellij - idea - inspections . xml <nl> @ @ - 2124 , 8 + 2124 , 6 @ @ <nl> < option value = " NonFinalFieldReferenceInEquals " / > <nl> < ! - - till # 4734 - - > <nl> < option value = " NonFinalFieldReferencedInHashCode " / > <nl> - < ! - - FileContentsHolder # getContence ( ) getter is deprecated - - > <nl> - < option value = " CallToSimpleGetterFromWithinClass " / > <nl> < ! - - violations in DetailAST will be addressed further - - > <nl> < option value = " FieldNotUsedInToString " / > <nl> < ! - - till # 4805 - - > <nl> diff - - git a / pom . xml b / pom . xml <nl> index 91c1f33 . . dcaa096 100644 <nl> - - - a / pom . xml <nl> + + + b / pom . xml <nl> @ @ - 1590 , 7 + 1590 , 6 @ @ <nl> < param > com . puppycrawl . tools . checkstyle . checks . ArrayTypeStyleCheck < / param > <nl> < param > com . puppycrawl . tools . checkstyle . checks . AvoidEscapedUnicodeCharactersCheck < / param > <nl> < param > com . puppycrawl . tools . checkstyle . checks . DescendantTokenCheck < / param > <nl> - < param > com . puppycrawl . tools . checkstyle . checks . FileContentsHolder < / param > <nl> < param > com . puppycrawl . tools . checkstyle . checks . FileSetCheckLifecycle < / param > <nl> < param > com . puppycrawl . tools . checkstyle . checks . FinalParametersCheck < / param > <nl> < param > com . puppycrawl . tools . checkstyle . checks . NewlineAtEndOfFileCheck < / param > <nl> @ @ - 1607 , 7 + 1606 , 6 @ @ <nl> < param > com . puppycrawl . tools . checkstyle . checks . ArrayTypeStyleCheckTest < / param > <nl> < param > com . puppycrawl . tools . checkstyle . checks . AvoidEscapedUnicodeCharactersCheckTest < / param > <nl> < param > com . puppycrawl . tools . checkstyle . checks . DescendantTokenCheckTest < / param > <nl> - < param > com . puppycrawl . tools . checkstyle . checks . FileContentsHolderTest < / param > <nl> < param > com . puppycrawl . tools . checkstyle . checks . FileSetCheckLifecycleTest < / param > <nl> < param > com . puppycrawl . tools . checkstyle . checks . FinalParametersCheckTest < / param > <nl> < param > com . puppycrawl . tools . checkstyle . checks . NewlineAtEndOfFileCheckTest < / param > <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / PackageObjectFactory . java b / src / main / java / com / puppycrawl / tools / checkstyle / PackageObjectFactory . java <nl> index 87c288d . . 644b3e0 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / PackageObjectFactory . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / PackageObjectFactory . java <nl> @ @ - 706 , 8 + 706 , 6 @ @ public class PackageObjectFactory implements ModuleFactory { <nl> BASE _ PACKAGE + " . checks . AvoidEscapedUnicodeCharactersCheck " ) ; <nl> NAME _ TO _ FULL _ MODULE _ NAME . put ( " DescendantTokenCheck " , <nl> BASE _ PACKAGE + " . checks . DescendantTokenCheck " ) ; <nl> - NAME _ TO _ FULL _ MODULE _ NAME . put ( " FileContentsHolder " , <nl> - BASE _ PACKAGE + " . checks . FileContentsHolder " ) ; <nl> NAME _ TO _ FULL _ MODULE _ NAME . put ( " FinalParametersCheck " , <nl> BASE _ PACKAGE + " . checks . FinalParametersCheck " ) ; <nl> NAME _ TO _ FULL _ MODULE _ NAME . put ( " NewlineAtEndOfFileCheck " , <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / FileContentsHolder . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / FileContentsHolder . java <nl> deleted file mode 100644 <nl> index ed33e7d . . 0000000 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / FileContentsHolder . java <nl> + + + / dev / null <nl> @ @ - 1 , 81 + 0 , 0 @ @ <nl> - / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / <nl> - / / checkstyle : Checks Java source code for adherence to a set of rules . <nl> - / / Copyright ( C ) 2001 - 2017 the original author or authors . <nl> - / / <nl> - / / This library is free software ; you can redistribute it and / or <nl> - / / modify it under the terms of the GNU Lesser General Public <nl> - / / License as published by the Free Software Foundation ; either <nl> - / / version 2 . 1 of the License , or ( at your option ) any later version . <nl> - / / <nl> - / / This library is distributed in the hope that it will be useful , <nl> - / / but WITHOUT ANY WARRANTY ; without even the implied warranty of <nl> - / / MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE . See the GNU <nl> - / / Lesser General Public License for more details . <nl> - / / <nl> - / / You should have received a copy of the GNU Lesser General Public <nl> - / / License along with this library ; if not , write to the Free Software <nl> - / / Foundation , Inc . , 59 Temple Place , Suite 330 , Boston , MA 02111 - 1307 USA <nl> - / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / <nl> - <nl> - package com . puppycrawl . tools . checkstyle . checks ; <nl> - <nl> - import com . puppycrawl . tools . checkstyle . api . AbstractCheck ; <nl> - import com . puppycrawl . tools . checkstyle . api . DetailAST ; <nl> - import com . puppycrawl . tools . checkstyle . api . FileContents ; <nl> - import com . puppycrawl . tools . checkstyle . utils . CommonUtils ; <nl> - <nl> - / * * <nl> - * Holds the current file contents for global access when configured <nl> - * as a TreeWalker sub - module . For example , <nl> - * a filter can access the current file contents through this module . <nl> - * @ author Mike McMahon <nl> - * @ author Rick Giles <nl> - * @ noinspection StaticVariableMayNotBeInitialized , StaticVariableUsedBeforeInitialization <nl> - * / <nl> - public class FileContentsHolder extends AbstractCheck { <nl> - / * * The current file contents . * / <nl> - private static FileContents currentFileContents ; <nl> - <nl> - / * * <nl> - * Returns content of current file . <nl> - * @ return the current file contents . <nl> - * / <nl> - public static FileContents getCurrentFileContents ( ) { <nl> - return currentFileContents ; <nl> - } <nl> - <nl> - / * * <nl> - * Returns content of current file . <nl> - * @ return the current file contents . <nl> - * @ deprecated use getCurrentFileContents ( ) instead . <nl> - * @ noinspection CallToSimpleGetterFromWithinClass <nl> - * / <nl> - @ Deprecated <nl> - public static FileContents getContents ( ) { <nl> - return getCurrentFileContents ( ) ; <nl> - } <nl> - <nl> - @ Override <nl> - public int [ ] getDefaultTokens ( ) { <nl> - return CommonUtils . EMPTY _ INT _ ARRAY ; <nl> - } <nl> - <nl> - @ Override <nl> - public int [ ] getAcceptableTokens ( ) { <nl> - return CommonUtils . EMPTY _ INT _ ARRAY ; <nl> - } <nl> - <nl> - @ Override <nl> - public int [ ] getRequiredTokens ( ) { <nl> - return getAcceptableTokens ( ) ; <nl> - } <nl> - <nl> - / * * <nl> - * { @ inheritDoc } Initializes file contents . <nl> - * @ noinspection AssignmentToStaticFieldFromInstanceMethod <nl> - * / <nl> - @ Override <nl> - public void beginTree ( DetailAST rootAST ) { <nl> - currentFileContents = getFileContents ( ) ; <nl> - } <nl> - } <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithNearbyCommentFilter . java b / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithNearbyCommentFilter . java <nl> index c1fafdd . . ea6eb59 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithNearbyCommentFilter . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithNearbyCommentFilter . java <nl> @ @ - 110 , 8 + 110 , 8 @ @ public class SuppressWithNearbyCommentFilter <nl> * References the current FileContents for this filter . <nl> * Since this is a weak reference to the FileContents , the FileContents <nl> * can be reclaimed as soon as the strong references in TreeWalker <nl> - * and FileContentsHolder are reassigned to the next FileContents , <nl> - * at which time filtering for the current FileContents is finished . <nl> + * are reassigned to the next FileContents , at which time filtering for <nl> + * the current FileContents is finished . <nl> * / <nl> private WeakReference < FileContents > fileContentsReference = new WeakReference < > ( null ) ; <nl> <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilter . java b / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilter . java <nl> index b2e4b09 . . 015a384 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilter . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilter . java <nl> @ @ - 49 , 12 + 49 , 6 @ @ import com . puppycrawl . tools . checkstyle . utils . CommonUtils ; <nl> * This is sometimes superior to a separate suppressions file , which <nl> * must be kept up - to - date as the source file is edited . <nl> * < / p > <nl> - * < p > <nl> - * Usage : <nl> - * This check only works in conjunction with the FileContentsHolder module <nl> - * since that module makes the suppression comments in the . java <nl> - * files available < i > sub rosa < / i > . <nl> - * < / p > <nl> * @ author Mike McMahon <nl> * @ author Rick Giles <nl> * / <nl> @ @ - 112 , 8 + 106 , 8 @ @ public class SuppressionCommentFilter <nl> * References the current FileContents for this filter . <nl> * Since this is a weak reference to the FileContents , the FileContents <nl> * can be reclaimed as soon as the strong references in TreeWalker <nl> - * and FileContentsHolder are reassigned to the next FileContents , <nl> - * at which time filtering for the current FileContents is finished . <nl> + * are reassigned to the next FileContents , at which time filtering for <nl> + * the current FileContents is finished . <nl> * / <nl> private WeakReference < FileContents > fileContentsReference = new WeakReference < > ( null ) ; <nl> <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / checks / FileContentsHolderTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / checks / FileContentsHolderTest . java <nl> deleted file mode 100644 <nl> index c7f4d3a . . 0000000 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / checks / FileContentsHolderTest . java <nl> + + + / dev / null <nl> @ @ - 1 , 34 + 0 , 0 @ @ <nl> - / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / <nl> - / / checkstyle : Checks Java source code for adherence to a set of rules . <nl> - / / Copyright ( C ) 2001 - 2017 the original author or authors . <nl> - / / <nl> - / / This library is free software ; you can redistribute it and / or <nl> - / / modify it under the terms of the GNU Lesser General Public <nl> - / / License as published by the Free Software Foundation ; either <nl> - / / version 2 . 1 of the License , or ( at your option ) any later version . <nl> - / / <nl> - / / This library is distributed in the hope that it will be useful , <nl> - / / but WITHOUT ANY WARRANTY ; without even the implied warranty of <nl> - / / MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE . See the GNU <nl> - / / Lesser General Public License for more details . <nl> - / / <nl> - / / You should have received a copy of the GNU Lesser General Public <nl> - / / License along with this library ; if not , write to the Free Software <nl> - / / Foundation , Inc . , 59 Temple Place , Suite 330 , Boston , MA 02111 - 1307 USA <nl> - / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / <nl> - <nl> - package com . puppycrawl . tools . checkstyle . checks ; <nl> - <nl> - import static org . junit . Assert . assertSame ; <nl> - <nl> - import org . junit . Test ; <nl> - <nl> - public class FileContentsHolderTest { <nl> - <nl> - @ Test <nl> - @ SuppressWarnings ( " deprecation " ) <nl> - public void testGetContents ( ) { <nl> - assertSame ( " Invalid file content " , FileContentsHolder . getCurrentFileContents ( ) , <nl> - FileContentsHolder . getContents ( ) ) ; <nl> - } <nl> - } <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / checks / FileSetCheckLifecycleTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / checks / FileSetCheckLifecycleTest . java <nl> index 65bf52b . . b397d75 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / checks / FileSetCheckLifecycleTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / checks / FileSetCheckLifecycleTest . java <nl> @ @ - 19 , 7 + 19 , 6 @ @ <nl> <nl> package com . puppycrawl . tools . checkstyle . checks ; <nl> <nl> - import static org . junit . Assert . assertArrayEquals ; <nl> import static org . junit . Assert . assertTrue ; <nl> <nl> import java . io . File ; <nl> @ @ - 33 , 6 + 32 , 7 @ @ import com . puppycrawl . tools . checkstyle . DefaultConfiguration ; <nl> import com . puppycrawl . tools . checkstyle . TreeWalker ; <nl> import com . puppycrawl . tools . checkstyle . api . AbstractFileSetCheck ; <nl> import com . puppycrawl . tools . checkstyle . api . Configuration ; <nl> + import com . puppycrawl . tools . checkstyle . api . FileContents ; <nl> import com . puppycrawl . tools . checkstyle . api . FileText ; <nl> import com . puppycrawl . tools . checkstyle . checks . imports . AvoidStarImportCheck ; <nl> import com . puppycrawl . tools . checkstyle . utils . CommonUtils ; <nl> @ @ - 45 , 13 + 45 , 6 @ @ public class FileSetCheckLifecycleTest <nl> } <nl> <nl> @ Test <nl> - public void testGetRequiredTokens ( ) { <nl> - final FileContentsHolder checkObj = new FileContentsHolder ( ) ; <nl> - assertArrayEquals ( " Required tokens array is not empty " , <nl> - CommonUtils . EMPTY _ INT _ ARRAY , checkObj . getRequiredTokens ( ) ) ; <nl> - } <nl> - <nl> - @ Test <nl> public void testTranslation ( ) throws Exception { <nl> final Configuration checkConfig = <nl> createModuleConfig ( TestFileSetCheck . class ) ; <nl> @ @ - 68 , 7 + 61 , 6 @ @ public class FileSetCheckLifecycleTest <nl> final DefaultConfiguration twConf = createModuleConfig ( TreeWalker . class ) ; <nl> dc . addAttribute ( " charset " , " UTF - 8 " ) ; <nl> dc . addChild ( twConf ) ; <nl> - twConf . addChild ( new DefaultConfiguration ( FileContentsHolder . class . getName ( ) ) ) ; <nl> twConf . addChild ( new DefaultConfiguration ( AvoidStarImportCheck . class . getName ( ) ) ) ; <nl> <nl> final Checker checker = new Checker ( ) ; <nl> @ @ - 92 , 6 + 84 , 7 @ @ public class FileSetCheckLifecycleTest <nl> private static class TestFileSetCheck extends AbstractFileSetCheck { <nl> private static boolean destroyed ; <nl> private static boolean fileContentAvailable ; <nl> + private static FileContents contents ; <nl> <nl> @ Override <nl> public void destroy ( ) { <nl> @ @ - 108 , 12 + 101 , 12 @ @ public class FileSetCheckLifecycleTest <nl> <nl> @ Override <nl> protected void processFiltered ( File file , FileText fileText ) { <nl> - / / dummy method <nl> + contents = new FileContents ( fileText ) ; <nl> } <nl> <nl> @ Override <nl> public void finishProcessing ( ) { <nl> - fileContentAvailable = FileContentsHolder . getCurrentFileContents ( ) ! = null ; <nl> + fileContentAvailable = contents ! = null ; <nl> } <nl> } <nl> } <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithNearbyCommentFilterTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithNearbyCommentFilterTest . java <nl> index 2233b71 . . 120daef 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithNearbyCommentFilterTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithNearbyCommentFilterTest . java <nl> @ @ - 40 , 7 + 40 , 6 @ @ import com . puppycrawl . tools . checkstyle . api . CheckstyleException ; <nl> import com . puppycrawl . tools . checkstyle . api . Configuration ; <nl> import com . puppycrawl . tools . checkstyle . api . FileContents ; <nl> import com . puppycrawl . tools . checkstyle . api . LocalizedMessage ; <nl> - import com . puppycrawl . tools . checkstyle . checks . FileContentsHolder ; <nl> import com . puppycrawl . tools . checkstyle . checks . coding . IllegalCatchCheck ; <nl> import com . puppycrawl . tools . checkstyle . checks . naming . ConstantNameCheck ; <nl> import com . puppycrawl . tools . checkstyle . checks . naming . MemberNameCheck ; <nl> @ @ - 213 , 7 + 212 , 6 @ @ public class SuppressWithNearbyCommentFilterTest <nl> final DefaultConfiguration checkerConfig = <nl> new DefaultConfiguration ( " configuration " ) ; <nl> final DefaultConfiguration checksConfig = createModuleConfig ( TreeWalker . class ) ; <nl> - checksConfig . addChild ( createModuleConfig ( FileContentsHolder . class ) ) ; <nl> final DefaultConfiguration memberNameCheckConfig = <nl> createModuleConfig ( MemberNameCheck . class ) ; <nl> memberNameCheckConfig . addAttribute ( " id " , " ignore " ) ; <nl> @ @ - 351 , 20 + 349 , 15 @ @ public class SuppressWithNearbyCommentFilterTest <nl> public void testTagsAreClearedEachRun ( ) { <nl> final SuppressWithNearbyCommentFilter suppressionCommentFilter = <nl> new SuppressWithNearbyCommentFilter ( ) ; <nl> - final FileContentsHolder fileContentsHolder = new FileContentsHolder ( ) ; <nl> final FileContents contents = <nl> new FileContents ( " filename " , " / / SUPPRESS CHECKSTYLE ignore " , " line2 " ) ; <nl> contents . reportSingleLineComment ( 1 , 0 ) ; <nl> - fileContentsHolder . setFileContents ( contents ) ; <nl> - fileContentsHolder . beginTree ( null ) ; <nl> final TreeWalkerAuditEvent dummyEvent = new TreeWalkerAuditEvent ( contents , " filename " , <nl> new LocalizedMessage ( 1 , null , null , null , null , Object . class , null ) ) ; <nl> suppressionCommentFilter . accept ( dummyEvent ) ; <nl> final FileContents contents2 = <nl> new FileContents ( " filename2 " , " some line " , " / / SUPPRESS CHECKSTYLE ignore " ) ; <nl> contents2 . reportSingleLineComment ( 2 , 0 ) ; <nl> - fileContentsHolder . setFileContents ( contents2 ) ; <nl> - fileContentsHolder . beginTree ( null ) ; <nl> final TreeWalkerAuditEvent dummyEvent2 = new TreeWalkerAuditEvent ( contents2 , " filename " , <nl> new LocalizedMessage ( 1 , null , null , null , null , Object . class , null ) ) ; <nl> suppressionCommentFilter . accept ( dummyEvent2 ) ; <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilterTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilterTest . java <nl> index 136aadc . . e27bada 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilterTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilterTest . java <nl> @ @ - 41 , 7 + 41 , 6 @ @ import com . puppycrawl . tools . checkstyle . api . CheckstyleException ; <nl> import com . puppycrawl . tools . checkstyle . api . Configuration ; <nl> import com . puppycrawl . tools . checkstyle . api . FileContents ; <nl> import com . puppycrawl . tools . checkstyle . api . LocalizedMessage ; <nl> - import com . puppycrawl . tools . checkstyle . checks . FileContentsHolder ; <nl> import com . puppycrawl . tools . checkstyle . checks . coding . IllegalCatchCheck ; <nl> import com . puppycrawl . tools . checkstyle . checks . naming . ConstantNameCheck ; <nl> import com . puppycrawl . tools . checkstyle . checks . naming . MemberNameCheck ; <nl> @ @ - 214 , 7 + 213 , 6 @ @ public class SuppressionCommentFilterTest <nl> final DefaultConfiguration checkerConfig = <nl> new DefaultConfiguration ( " configuration " ) ; <nl> final DefaultConfiguration checksConfig = createModuleConfig ( TreeWalker . class ) ; <nl> - checksConfig . addChild ( createModuleConfig ( FileContentsHolder . class ) ) ; <nl> final DefaultConfiguration memberNameCheckConfig = <nl> createModuleConfig ( MemberNameCheck . class ) ; <nl> memberNameCheckConfig . addAttribute ( " id " , " ignore " ) ; <nl> @ @ - 330 , 12 + 328 , 9 @ @ public class SuppressionCommentFilterTest <nl> @ Test <nl> public void testFindNearestMatchDontAllowSameColumn ( ) { <nl> final SuppressionCommentFilter suppressionCommentFilter = new SuppressionCommentFilter ( ) ; <nl> - final FileContentsHolder fileContentsHolder = new FileContentsHolder ( ) ; <nl> final FileContents contents = <nl> new FileContents ( " filename " , " / / CHECKSTYLE : OFF : ConstantNameCheck " , " line2 " ) ; <nl> contents . reportSingleLineComment ( 1 , 0 ) ; <nl> - fileContentsHolder . setFileContents ( contents ) ; <nl> - fileContentsHolder . beginTree ( null ) ; <nl> final TreeWalkerAuditEvent dummyEvent = new TreeWalkerAuditEvent ( contents , " filename " , <nl> new LocalizedMessage ( 1 , null , null , null , null , Object . class , null ) ) ; <nl> final boolean result = suppressionCommentFilter . accept ( dummyEvent ) ; <nl> @ @ - 345 , 20 + 340 , 15 @ @ public class SuppressionCommentFilterTest <nl> @ Test <nl> public void testTagsAreClearedEachRun ( ) { <nl> final SuppressionCommentFilter suppressionCommentFilter = new SuppressionCommentFilter ( ) ; <nl> - final FileContentsHolder fileContentsHolder = new FileContentsHolder ( ) ; <nl> final FileContents contents = <nl> new FileContents ( " filename " , " / / CHECKSTYLE : OFF " , " line2 " ) ; <nl> contents . reportSingleLineComment ( 1 , 0 ) ; <nl> - fileContentsHolder . setFileContents ( contents ) ; <nl> - fileContentsHolder . beginTree ( null ) ; <nl> final TreeWalkerAuditEvent dummyEvent = new TreeWalkerAuditEvent ( contents , " filename " , <nl> new LocalizedMessage ( 1 , null , null , null , null , Object . class , null ) ) ; <nl> suppressionCommentFilter . accept ( dummyEvent ) ; <nl> final FileContents contents2 = <nl> new FileContents ( " filename2 " , " some line " , " / / CHECKSTYLE : OFF " ) ; <nl> contents2 . reportSingleLineComment ( 2 , 0 ) ; <nl> - fileContentsHolder . setFileContents ( contents2 ) ; <nl> - fileContentsHolder . beginTree ( null ) ; <nl> final TreeWalkerAuditEvent dummyEvent2 = new TreeWalkerAuditEvent ( contents2 , " filename " , <nl> new LocalizedMessage ( 1 , null , null , null , null , Object . class , null ) ) ; <nl> suppressionCommentFilter . accept ( dummyEvent2 ) ; <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / internal / AllChecksTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / internal / AllChecksTest . java <nl> index 3c67cd1 . . 4690ad3 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / internal / AllChecksTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / internal / AllChecksTest . java <nl> @ @ - 437 , 16 + 437 , 9 @ @ public class AllChecksTest extends AbstractModuleTestSupport { <nl> for ( Class < ? > module : CheckUtil . getCheckstyleChecks ( ) ) { <nl> final String name = module . getSimpleName ( ) ; <nl> <nl> - if ( " FileContentsHolder " . equals ( name ) ) { <nl> - Assert . assertTrue ( name <nl> - + " should not have any ' MSG _ * ' field for error messages " , CheckUtil <nl> - . getCheckMessages ( module ) . isEmpty ( ) ) ; <nl> - } <nl> - else { <nl> - Assert . assertFalse ( name <nl> - + " should have at least one ' MSG _ * ' field for error messages " , CheckUtil <nl> - . getCheckMessages ( module ) . isEmpty ( ) ) ; <nl> - } <nl> + Assert . assertFalse ( name <nl> + + " should have at least one ' MSG _ * ' field for error messages " , CheckUtil <nl> + . getCheckMessages ( module ) . isEmpty ( ) ) ; <nl> } <nl> } <nl> <nl> diff - - git a / src / xdocs / checks . xml b / src / xdocs / checks . xml <nl> index 359a307 . . f8e9914 100644 <nl> - - - a / src / xdocs / checks . xml <nl> + + + b / src / xdocs / checks . xml <nl> @ @ - 809 , 11 + 809 , 6 @ @ <nl> <nl> < table > <nl> < tr > <nl> - < td > < a href = " config _ misc . html # FileContentsHolder " > FileContentsHolder < / a > < / td > <nl> - < td > Holds the current file contents for global access when configured as a <nl> - TreeWalker sub - module . < / td > <nl> - < / tr > <nl> - < tr > <nl> < td > < a href = " config _ annotation . html # SuppressWarningsHolder " > SuppressWarningsHolder < / a > < / td > <nl> < td > <nl> Maintains a set of check suppressions from < code > SuppressWarnings < / code > annotations . <nl> diff - - git a / src / xdocs / config _ misc . xml b / src / xdocs / config _ misc . xml <nl> index 10e5ec3 . . 73baca3 100644 <nl> - - - a / src / xdocs / config _ misc . xml <nl> + + + b / src / xdocs / config _ misc . xml <nl> @ @ - 845 , 46 + 845 , 6 @ @ String unitAbbrev = " \ u03bc \ u03bc \ u03bc " ; <nl> < / subsection > <nl> < / section > <nl> <nl> - < section name = " FileContentsHolder " > <nl> - < subsection name = " Description " > <nl> - < p > Since Checkstyle 3 . 5 < / p > <nl> - < p > <nl> - Holds the current file contents for global access when configured <nl> - as a TreeWalker sub - module . For example , a filter can access <nl> - the current file contents through this module . <nl> - < / p > <nl> - < / subsection > <nl> - <nl> - < subsection name = " Examples " > <nl> - < p > <nl> - This check should not be used by itself , as it does no reporting . <nl> - It is to be used in conjunction with other checks . <nl> - No checks use < code > FileContentsHolder < / code > currently . <nl> - < / p > <nl> - < / subsection > <nl> - <nl> - < subsection name = " Example of Usage " > <nl> - < ul > <nl> - < li > <nl> - < a href = " https : / / github . com / search ? q = path % 3Aconfig + filename % 3Acheckstyle _ checks . xml + repo % 3Acheckstyle % 2Fcheckstyle + FileContentsHolder " > <nl> - Checkstyle Style < / a > <nl> - < / li > <nl> - < / ul > <nl> - < / subsection > <nl> - <nl> - < subsection name = " Package " > <nl> - < p > <nl> - com . puppycrawl . tools . checkstyle . checks <nl> - < / p > <nl> - < / subsection > <nl> - <nl> - < subsection name = " Parent Module " > <nl> - < p > <nl> - < a href = " config . html # TreeWalker " > TreeWalker < / a > <nl> - < / p > <nl> - < / subsection > <nl> - < / section > <nl> - <nl> < section name = " FinalParameters " > <nl> < subsection name = " Description " > <nl> < p > Since Checkstyle 3 . 0 < / p > <nl> diff - - git a / wercker . yml b / wercker . yml <nl> index f4ba78d . . 93b36cd 100644 <nl> - - - a / wercker . yml <nl> + + + b / wercker . yml <nl> @ @ - 47 , 7 + 47 , 7 @ @ build : <nl> echo CS _ version : $ { CS _ POM _ VERSION } <nl> for i in 1 2 3 4 5 ; do git clone https : / / github . com / pgjdbc / pgjdbc . git & & break | | sleep 15 ; done <nl> cd pgjdbc / pgjdbc <nl> - wget https : / / gist . githubusercontent . com / timurt / a981d094cbbbe746ecd400424f5f3af8 / raw / a5ebab4302107751e62d2da5a90adb8341173c98 / pgjdbc . patch <nl> + wget https : / / gist . githubusercontent . com / timurt / a981d094cbbbe746ecd400424f5f3af8 / raw / 6e5d28a83b0d63a880f897d839f7f536b64f0979 / pgjdbc . patch <nl> git apply pgjdbc . patch <nl> mvn compile checkstyle : check - Dcheckstyle . version = $ { CS _ POM _ VERSION } <nl> cd . . / . . / <nl> @ @ - 72 , 7 + 72 , 7 @ @ build : <nl> for i in 1 2 3 4 5 ; do git clone https : / / github . com / CS - SI / Orekit . git & & break | | sleep 15 ; done <nl> cd Orekit <nl> git checkout f7abe7ea0c7fbf6d138ed7eaf9487510dfbbcaac <nl> - wget https : / / gist . githubusercontent . com / timurt / 7c45454a233ce775a7e5acaa1231d845 / raw / b24028f9d807008c64f0fa7b4e51db35678746dd / orekit . patch <nl> + wget https : / / gist . githubusercontent . com / timurt / 7c45454a233ce775a7e5acaa1231d845 / raw / 225ef24f84e671b501caeef8279dc1363869d5ae / orekit . patch <nl> git apply orekit . patch <nl> mvn compile checkstyle : check - Dorekit . checkstyle . version = $ { CS _ POM _ VERSION } <nl> cd . . / <nl> @ @ - 194 , 6 + 194 , 8 @ @ build : <nl> cd contribution / checkstyle - tester <nl> sed - i ' ' ' s / ^ guava / # guava / ' projects - for - wercker . properties <nl> sed - i ' ' ' s / # apache - struts / apache - struts / ' projects - for - wercker . properties <nl> + wget https : / / gist . githubusercontent . com / timurt / dedda143b7a4984006af4731f3a236ec / raw / 9c19f6f5cacfb21089efa0f6bc0cbbf966c81e13 / checkstyle - tester . patch <nl> + git apply checkstyle - tester . patch <nl> groovy . / launch . groovy - - listOfProjects projects - for - wercker . properties - - config checks - nonjavadoc - error . xml <nl> cd . . / . . / <nl> rm - rf contribution <nl> @ @ - 212 , 6 + 214 , 8 @ @ build : <nl> sed - i ' ' ' s / ^ guava / # guava / ' projects - for - wercker . properties <nl> sed - i ' ' ' s / # checkstyle / checkstyle / ' projects - for - wercker . properties <nl> sed - i ' ' ' s / # sevntu - checkstyle / sevntu - checkstyle / ' projects - for - wercker . properties <nl> + wget https : / / gist . githubusercontent . com / timurt / dedda143b7a4984006af4731f3a236ec / raw / 9c19f6f5cacfb21089efa0f6bc0cbbf966c81e13 / checkstyle - tester . patch <nl> + git apply checkstyle - tester . patch <nl> groovy . / launch . groovy - - listOfProjects projects - for - wercker . properties - - config checks - nonjavadoc - error . xml <nl> cd . . / . . / <nl> rm - rf contribution <nl> @ @ - 229 , 6 + 233 , 8 @ @ build : <nl> cd contribution / checkstyle - tester <nl> sed - i ' ' ' s / ^ guava / # guava / ' projects - for - wercker . properties <nl> sed - i ' ' ' s / # guava / guava / ' projects - for - wercker . properties <nl> + wget https : / / gist . githubusercontent . com / timurt / dedda143b7a4984006af4731f3a236ec / raw / 9c19f6f5cacfb21089efa0f6bc0cbbf966c81e13 / checkstyle - tester . patch <nl> + git apply checkstyle - tester . patch <nl> groovy . / launch . groovy - - listOfProjects projects - for - wercker . properties - - config checks - nonjavadoc - error . xml <nl> cd . . / . . / <nl> rm - rf contribution <nl> @ @ - 246 , 6 + 252 , 8 @ @ build : <nl> cd contribution / checkstyle - tester <nl> sed - i ' ' ' s / ^ guava / # guava / ' projects - for - wercker . properties <nl> sed - i ' ' ' s / # hibernate - orm / hibernate - orm / ' projects - for - wercker . properties <nl> + wget https : / / gist . githubusercontent . com / timurt / dedda143b7a4984006af4731f3a236ec / raw / 9c19f6f5cacfb21089efa0f6bc0cbbf966c81e13 / checkstyle - tester . patch <nl> + git apply checkstyle - tester . patch <nl> groovy . / launch . groovy - - listOfProjects projects - for - wercker . properties - - config checks - nonjavadoc - error . xml <nl> cd . . / . . / <nl> rm - rf contribution <nl> @ @ - 264 , 6 + 272 , 8 @ @ build : <nl> cd contribution / checkstyle - tester <nl> sed - i ' ' ' s / ^ guava / # guava / ' projects - for - wercker . properties <nl> sed - i ' ' ' s / # findbugs / findbugs / ' projects - for - wercker . properties <nl> + wget https : / / gist . githubusercontent . com / timurt / dedda143b7a4984006af4731f3a236ec / raw / 9c19f6f5cacfb21089efa0f6bc0cbbf966c81e13 / checkstyle - tester . patch <nl> + git apply checkstyle - tester . patch <nl> groovy . / launch . groovy - - listOfProjects projects - for - wercker . properties - - config checks - nonjavadoc - error . xml <nl> cd . . / . . / <nl> rm - rf contribution <nl> @ @ - 281 , 6 + 291 , 8 @ @ build : <nl> cd contribution / checkstyle - tester <nl> sed - i ' ' ' s / ^ guava / # guava / ' projects - for - wercker . properties <nl> sed - i ' ' ' s / # spring - framework / spring - framework / ' projects - for - wercker . properties <nl> + wget https : / / gist . githubusercontent . com / timurt / dedda143b7a4984006af4731f3a236ec / raw / 9c19f6f5cacfb21089efa0f6bc0cbbf966c81e13 / checkstyle - tester . patch <nl> + git apply checkstyle - tester . patch <nl> groovy . / launch . groovy - - listOfProjects projects - for - wercker . properties - - config checks - nonjavadoc - error . xml <nl> cd . . / . . / <nl> rm - rf contribution <nl> @ @ - 298 , 6 + 310 , 8 @ @ build : <nl> cd contribution / checkstyle - tester <nl> sed - i ' ' ' s / ^ guava / # guava / ' projects - for - wercker . properties <nl> sed - i ' ' ' s / # Hbase / Hbase / ' projects - for - wercker . properties <nl> + wget https : / / gist . githubusercontent . com / timurt / dedda143b7a4984006af4731f3a236ec / raw / 9c19f6f5cacfb21089efa0f6bc0cbbf966c81e13 / checkstyle - tester . patch <nl> + git apply checkstyle - tester . patch <nl> groovy . / launch . groovy - - listOfProjects projects - for - wercker . properties - - config checks - nonjavadoc - error . xml <nl> cd . . / . . / <nl> rm - rf contribution <nl> @ @ - 317 , 6 + 331 , 8 @ @ build : <nl> sed - i ' ' ' s / # pmd / pmd / ' projects - for - wercker . properties <nl> sed - i ' ' ' s / # elasticsearch / elasticsearch / ' projects - for - wercker . properties <nl> sed - i ' ' ' s / # lombok - ast / lombok - ast / ' projects - for - wercker . properties <nl> + wget https : / / gist . githubusercontent . com / timurt / dedda143b7a4984006af4731f3a236ec / raw / 9c19f6f5cacfb21089efa0f6bc0cbbf966c81e13 / checkstyle - tester . patch <nl> + git apply checkstyle - tester . patch <nl> groovy . / launch . groovy - - listOfProjects projects - for - wercker . properties - - config checks - nonjavadoc - error . xml <nl> cd . . / . . / <nl> rm - rf contribution <nl> @ @ - 340 , 6 + 356 , 8 @ @ build : <nl> sed - i ' ' ' s / # apache - ant / apache - ant / ' projects - for - wercker . properties <nl> sed - i ' ' ' s / # apache - jsecurity / apache - jsecurity / ' projects - for - wercker . properties <nl> sed - i ' ' ' s / # android - launcher / android - launcher / ' projects - for - wercker . properties <nl> + wget https : / / gist . githubusercontent . com / timurt / dedda143b7a4984006af4731f3a236ec / raw / 9c19f6f5cacfb21089efa0f6bc0cbbf966c81e13 / checkstyle - tester . patch <nl> + git apply checkstyle - tester . patch <nl> groovy . / launch . groovy - - listOfProjects projects - for - wercker . properties - - config checks - nonjavadoc - error . xml <nl> cd . . / . . / <nl> rm - rf contribution
NEAREST DIFF (one line): diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / config - custom - root - module . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / config - custom - root - module . xml <nl> deleted file mode 100644 <nl> index 20e6f58 . . 0000000 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / config - custom - root - module . xml <nl> + + + / dev / null <nl> @ @ - 1 , 8 + 0 , 0 @ @ <nl> - < ? xml version = " 1 . 0 " ? > <nl> - < ! DOCTYPE module PUBLIC <nl> - " - / / Puppy Crawl / / DTD Check Configuration 1 . 3 / / EN " <nl> - " http : / / checkstyle . sourceforge . net / dtds / configuration _ 1 _ 3 . dtd " > <nl> - <nl> - < module name = " com . puppycrawl . tools . checkstyle . TestRootModuleChecker " > <nl> - < property name = " property " value = " $ { lineLength . severity } " default = " " / > <nl> - < / module > <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / package - info . java b / src / test / resources / com / puppycrawl / tools / checkstyle / package - info . java <nl> deleted file mode 100644 <nl> index 7d353d6 . . 0000000 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / package - info . java <nl> + + + / dev / null <nl> @ @ - 1 + 0 , 0 @ @ <nl> - package com . puppycrawl . tools . checkstyle ;

TEST DIFF:
diff - - git a / config / checkstyle _ checks . xml b / config / checkstyle _ checks . xml 
 index 2b88ede . . 65f8c2a 100644 
 - - - a / config / checkstyle _ checks . xml 
 + + + b / config / checkstyle _ checks . xml 
 @ @ - 374 , 7 + 374 , 6 @ @ 
 < / module > 
 < module name = " CommentsIndentation " / > 
 < module name = " DescendantToken " / > 
 - < module name = " FileContentsHolder " / > 
 < module name = " FinalParameters " > 
 < ! - - 
 we will not use that fanatic validation , extra modifiers pollute a code 
 diff - - git a / config / checkstyle _ sevntu _ checks . xml b / config / checkstyle _ sevntu _ checks . xml 
 index 1cfed6c . . 34fb743 100644 
 - - - a / config / checkstyle _ sevntu _ checks . xml 
 + + + b / config / checkstyle _ sevntu _ checks . xml 
 @ @ - 21 , 7 + 21 , 6 @ @ 
 < property name = " checkFormat " value = " $ 1 " / > 
 < property name = " influenceFormat " value = " 3 " / > 
 < / module > 
 - < module name = " FileContentsHolder " / > 
 < module name = " StaticMethodCandidate " / > 
 < module name = " UselessSingleCatchCheck " / > 
 < module name = " NestedSwitchCheck " / > 
 diff - - git a / config / findbugs - exclude . xml b / config / findbugs - exclude . xml 
 index f75bac2 . . d0340a8 100644 
 - - - a / config / findbugs - exclude . xml 
 + + + b / config / findbugs - exclude . xml 
 @ @ - 97 , 10 + 97 , 4 @ @ 
 < Method name = " makeCodeSelection " / > 
 < Bug pattern = " RV _ RETURN _ VALUE _ IGNORED _ NO _ SIDE _ EFFECT " / > 
 < / Match > 
 - < Match > 
 - < ! - - Until https : / / github . com / checkstyle / checkstyle / issues / 3573 - - > 
 - < Class name = " com . puppycrawl . tools . checkstyle . checks . FileContentsHolder " / > 
 - < Method name = " beginTree " / > 
 - < Bug pattern = " ST _ WRITE _ TO _ STATIC _ FROM _ INSTANCE _ METHOD " / > 
 - < / Match > 
 < / FindBugsFilter > 
 diff - - git a / config / intellij - idea - inspections . xml b / config / intellij - idea - inspections . xml 
 index 87850e0 . . 94908dd 100644 
 - - - a / config / intellij - idea - inspections . xml 
 + + + b / config / intellij - idea - inspections . xml 
 @ @ - 2124 , 8 + 2124 , 6 @ @ 
 < option value = " NonFinalFieldReferenceInEquals " / > 
 < ! - - till # 4734 - - > 
 < option value = " NonFinalFieldReferencedInHashCode " / > 
 - < ! - - FileContentsHolder # getContence ( ) getter is deprecated - - > 
 - < option value = " CallToSimpleGetterFromWithinClass " / > 
 < ! - - violations in DetailAST will be addressed further - - > 
 < option value = " FieldNotUsedInToString " / > 
 < ! - - till # 4805 - - > 
 diff - - git a / pom . xml b / pom . xml 
 index 91c1f33 . . dcaa096 100644 
 - - - a / pom . xml 
 + + + b / pom . xml 
 @ @ - 1590 , 7 + 1590 , 6 @ @ 
 < param > com . puppycrawl . tools . checkstyle . checks . ArrayTypeStyleCheck < / param > 
 < param > com . puppycrawl . tools . checkstyle . checks . AvoidEscapedUnicodeCharactersCheck < / param > 
 < param > com . puppycrawl . tools . checkstyle . checks . DescendantTokenCheck < / param > 
 - < param > com . puppycrawl . tools . checkstyle . checks . FileContentsHolder < / param > 
 < param > com . puppycrawl . tools . checkstyle . checks . FileSetCheckLifecycle < / param > 
 < param > com . puppycrawl . tools . checkstyle . checks . FinalParametersCheck < / param > 
 < param > com . puppycrawl . tools . checkstyle . checks . NewlineAtEndOfFileCheck < / param > 
 @ @ - 1607 , 7 + 1606 , 6 @ @ 
 < param > com . puppycrawl . tools . checkstyle . checks . ArrayTypeStyleCheckTest < / param > 
 < param > com . puppycrawl . tools . checkstyle . checks . AvoidEscapedUnicodeCharactersCheckTest < / param > 
 < param > com . puppycrawl . tools . checkstyle . checks . DescendantTokenCheckTest < / param > 
 - < param > com . puppycrawl . tools . checkstyle . checks . FileContentsHolderTest < / param > 
 < param > com . puppycrawl . tools . checkstyle . checks . FileSetCheckLifecycleTest < / param > 
 < param > com . puppycrawl . tools . checkstyle . checks . FinalParametersCheckTest < / param > 
 < param > com . puppycrawl . tools . checkstyle . checks . NewlineAtEndOfFileCheckTest < / param > 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / PackageObjectFactory . java b / src / main / java / com / puppycrawl / tools / checkstyle / PackageObjectFactory . java 
 index 87c288d . . 644b3e0 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / PackageObjectFactory . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / PackageObjectFactory . java 
 @ @ - 706 , 8 + 706 , 6 @ @ public class PackageObjectFactory implements ModuleFactory { 
 BASE _ PACKAGE + " . checks . AvoidEscapedUnicodeCharactersCheck " ) ; 
 NAME _ TO _ FULL _ MODULE _ NAME . put ( " DescendantTokenCheck " , 
 BASE _ PACKAGE + " . checks . DescendantTokenCheck " ) ; 
 - NAME _ TO _ FULL _ MODULE _ NAME . put ( " FileContentsHolder " , 
 - BASE _ PACKAGE + " . checks . FileContentsHolder " ) ; 
 NAME _ TO _ FULL _ MODULE _ NAME . put ( " FinalParametersCheck " , 
 BASE _ PACKAGE + " . checks . FinalParametersCheck " ) ; 
 NAME _ TO _ FULL _ MODULE _ NAME . put ( " NewlineAtEndOfFileCheck " , 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / FileContentsHolder . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / FileContentsHolder . java 
 deleted file mode 100644 
 index ed33e7d . . 0000000 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / FileContentsHolder . java 
 + + + / dev / null 
 @ @ - 1 , 81 + 0 , 0 @ @ 
 - / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / 
 - / / checkstyle : Checks Java source code for adherence to a set of rules . 
 - / / Copyright ( C ) 2001 - 2017 the original author or authors . 
 - / / 
 - / / This library is free software ; you can redistribute it and / or 
 - / / modify it under the terms of the GNU Lesser General Public 
 - / / License as published by the Free Software Foundation ; either 
 - / / version 2 . 1 of the License , or ( at your option ) any later version . 
 - / / 
 - / / This library is distributed in the hope that it will be useful , 
 - / / but WITHOUT ANY WARRANTY ; without even the implied warranty of 
 - / / MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE . See the GNU 
 - / / Lesser General Public License for more details . 
 - / / 
 - / / You should have received a copy of the GNU Lesser General Public 
 - / / License along with this library ; if not , write to the Free Software 
 - / / Foundation , Inc . , 59 Temple Place , Suite 330 , Boston , MA 02111 - 1307 USA 
 - / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / 
 - 
 - package com . puppycrawl . tools . checkstyle . checks ; 
 - 
 - import com . puppycrawl . tools . checkstyle . api . AbstractCheck ; 
 - import com . puppycrawl . tools . checkstyle . api . DetailAST ; 
 - import com . puppycrawl . tools . checkstyle . api . FileContents ; 
 - import com . puppycrawl . tools . checkstyle . utils . CommonUtils ; 
 - 
 - / * * 
 - * Holds the current file contents for global access when configured 
 - * as a TreeWalker sub - module . For example , 
 - * a filter can access the current file contents through this module . 
 - * @ author Mike McMahon 
 - * @ author Rick Giles 
 - * @ noinspection StaticVariableMayNotBeInitialized , StaticVariableUsedBeforeInitialization 
 - * / 
 - public class FileContentsHolder extends AbstractCheck { 
 - / * * The current file contents . * / 
 - private static FileContents currentFileContents ; 
 - 
 - / * * 
 - * Returns content of current file . 
 - * @ return the current file contents . 
 - * / 
 - public static FileContents getCurrentFileContents ( ) { 
 - return currentFileContents ; 
 - } 
 - 
 - / * * 
 - * Returns content of current file . 
 - * @ return the current file contents . 
 - * @ deprecated use getCurrentFileContents ( ) instead . 
 - * @ noinspection CallToSimpleGetterFromWithinClass 
 - * / 
 - @ Deprecated 
 - public static FileContents getContents ( ) { 
 - return getCurrentFileContents ( ) ; 
 - } 
 - 
 - @ Override 
 - public int [ ] getDefaultTokens ( ) { 
 - return CommonUtils . EMPTY _ INT _ ARRAY ; 
 - } 
 - 
 - @ Override 
 - public int [ ] getAcceptableTokens ( ) { 
 - return CommonUtils . EMPTY _ INT _ ARRAY ; 
 - } 
 - 
 - @ Override 
 - public int [ ] getRequiredTokens ( ) { 
 - return getAcceptableTokens ( ) ; 
 - } 
 - 
 - / * * 
 - * { @ inheritDoc } Initializes file contents . 
 - * @ noinspection AssignmentToStaticFieldFromInstanceMethod 
 - * / 
 - @ Override 
 - public void beginTree ( DetailAST rootAST ) { 
 - currentFileContents = getFileContents ( ) ; 
 - } 
 - } 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithNearbyCommentFilter . java b / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithNearbyCommentFilter . java 
 index c1fafdd . . ea6eb59 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithNearbyCommentFilter . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithNearbyCommentFilter . java 
 @ @ - 110 , 8 + 110 , 8 @ @ public class SuppressWithNearbyCommentFilter 
 * References the current FileContents for this filter . 
 * Since this is a weak reference to the FileContents , the FileContents 
 * can be reclaimed as soon as the strong references in TreeWalker 
 - * and FileContentsHolder are reassigned to the next FileContents , 
 - * at which time filtering for the current FileContents is finished . 
 + * are reassigned to the next FileContents , at which time filtering for 
 + * the current FileContents is finished . 
 * / 
 private WeakReference < FileContents > fileContentsReference = new WeakReference < > ( null ) ; 
 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilter . java b / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilter . java 
 index b2e4b09 . . 015a384 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilter . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilter . java 
 @ @ - 49 , 12 + 49 , 6 @ @ import com . puppycrawl . tools . checkstyle . utils . CommonUtils ; 
 * This is sometimes superior to a separate suppressions file , which 
 * must be kept up - to - date as the source file is edited . 
 * < / p > 
 - * < p > 
 - * Usage : 
 - * This check only works in conjunction with the FileContentsHolder module 
 - * since that module makes the suppression comments in the . java 
 - * files available < i > sub rosa < / i > . 
 - * < / p > 
 * @ author Mike McMahon 
 * @ author Rick Giles 
 * / 
 @ @ - 112 , 8 + 106 , 8 @ @ public class SuppressionCommentFilter 
 * References the current FileContents for this filter . 
 * Since this is a weak reference to the FileContents , the FileContents 
 * can be reclaimed as soon as the strong references in TreeWalker 
 - * and FileContentsHolder are reassigned to the next FileContents , 
 - * at which time filtering for the current FileContents is finished . 
 + * are reassigned to the next FileContents , at which time filtering for 
 + * the current FileContents is finished . 
 * / 
 private WeakReference < FileContents > fileContentsReference = new WeakReference < > ( null ) ; 
 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / checks / FileContentsHolderTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / checks / FileContentsHolderTest . java 
 deleted file mode 100644 
 index c7f4d3a . . 0000000 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / checks / FileContentsHolderTest . java 
 + + + / dev / null 
 @ @ - 1 , 34 + 0 , 0 @ @ 
 - / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / 
 - / / checkstyle : Checks Java source code for adherence to a set of rules . 
 - / / Copyright ( C ) 2001 - 2017 the original author or authors . 
 - / / 
 - / / This library is free software ; you can redistribute it and / or 
 - / / modify it under the terms of the GNU Lesser General Public 
 - / / License as published by the Free Software Foundation ; either 
 - / / version 2 . 1 of the License , or ( at your option ) any later version . 
 - / / 
 - / / This library is distributed in the hope that it will be useful , 
 - / / but WITHOUT ANY WARRANTY ; without even the implied warranty of 
 - / / MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE . See the GNU 
 - / / Lesser General Public License for more details . 
 - / / 
 - / / You should have received a copy of the GNU Lesser General Public 
 - / / License along with this library ; if not , write to the Free Software 
 - / / Foundation , Inc . , 59 Temple Place , Suite 330 , Boston , MA 02111 - 1307 USA 
 - / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / 
 - 
 - package com . puppycrawl . tools . checkstyle . checks ; 
 - 
 - import static org . junit . Assert . assertSame ; 
 - 
 - import org . junit . Test ; 
 - 
 - public class FileContentsHolderTest { 
 - 
 - @ Test 
 - @ SuppressWarnings ( " deprecation " ) 
 - public void testGetContents ( ) { 
 - assertSame ( " Invalid file content " , FileContentsHolder . getCurrentFileContents ( ) , 
 - FileContentsHolder . getContents ( ) ) ; 
 - } 
 - } 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / checks / FileSetCheckLifecycleTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / checks / FileSetCheckLifecycleTest . java 
 index 65bf52b . . b397d75 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / checks / FileSetCheckLifecycleTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / checks / FileSetCheckLifecycleTest . java 
 @ @ - 19 , 7 + 19 , 6 @ @ 
 
 package com . puppycrawl . tools . checkstyle . checks ; 
 
 - import static org . junit . Assert . assertArrayEquals ; 
 import static org . junit . Assert . assertTrue ; 
 
 import java . io . File ; 
 @ @ - 33 , 6 + 32 , 7 @ @ import com . puppycrawl . tools . checkstyle . DefaultConfiguration ; 
 import com . puppycrawl . tools . checkstyle . TreeWalker ; 
 import com . puppycrawl . tools . checkstyle . api . AbstractFileSetCheck ; 
 import com . puppycrawl . tools . checkstyle . api . Configuration ; 
 + import com . puppycrawl . tools . checkstyle . api . FileContents ; 
 import com . puppycrawl . tools . checkstyle . api . FileText ; 
 import com . puppycrawl . tools . checkstyle . checks . imports . AvoidStarImportCheck ; 
 import com . puppycrawl . tools . checkstyle . utils . CommonUtils ; 
 @ @ - 45 , 13 + 45 , 6 @ @ public class FileSetCheckLifecycleTest 
 } 
 
 @ Test 
 - public void testGetRequiredTokens ( ) { 
 - final FileContentsHolder checkObj = new FileContentsHolder ( ) ; 
 - assertArrayEquals ( " Required tokens array is not empty " , 
 - CommonUtils . EMPTY _ INT _ ARRAY , checkObj . getRequiredTokens ( ) ) ; 
 - } 
 - 
 - @ Test 
 public void testTranslation ( ) throws Exception { 
 final Configuration checkConfig = 
 createModuleConfig ( TestFileSetCheck . class ) ; 
 @ @ - 68 , 7 + 61 , 6 @ @ public class FileSetCheckLifecycleTest 
 final DefaultConfiguration twConf = createModuleConfig ( TreeWalker . class ) ; 
 dc . addAttribute ( " charset " , " UTF - 8 " ) ; 
 dc . addChild ( twConf ) ; 
 - twConf . addChild ( new DefaultConfiguration ( FileContentsHolder . class . getName ( ) ) ) ; 
 twConf . addChild ( new DefaultConfiguration ( AvoidStarImportCheck . class . getName ( ) ) ) ; 
 
 final Checker checker = new Checker ( ) ; 
 @ @ - 92 , 6 + 84 , 7 @ @ public class FileSetCheckLifecycleTest 
 private static class TestFileSetCheck extends AbstractFileSetCheck { 
 private static boolean destroyed ; 
 private static boolean fileContentAvailable ; 
 + private static FileContents contents ; 
 
 @ Override 
 public void destroy ( ) { 
 @ @ - 108 , 12 + 101 , 12 @ @ public class FileSetCheckLifecycleTest 
 
 @ Override 
 protected void processFiltered ( File file , FileText fileText ) { 
 - / / dummy method 
 + contents = new FileContents ( fileText ) ; 
 } 
 
 @ Override 
 public void finishProcessing ( ) { 
 - fileContentAvailable = FileContentsHolder . getCurrentFileContents ( ) ! = null ; 
 + fileContentAvailable = contents ! = null ; 
 } 
 } 
 } 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithNearbyCommentFilterTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithNearbyCommentFilterTest . java 
 index 2233b71 . . 120daef 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithNearbyCommentFilterTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithNearbyCommentFilterTest . java 
 @ @ - 40 , 7 + 40 , 6 @ @ import com . puppycrawl . tools . checkstyle . api . CheckstyleException ; 
 import com . puppycrawl . tools . checkstyle . api . Configuration ; 
 import com . puppycrawl . tools . checkstyle . api . FileContents ; 
 import com . puppycrawl . tools . checkstyle . api . LocalizedMessage ; 
 - import com . puppycrawl . tools . checkstyle . checks . FileContentsHolder ; 
 import com . puppycrawl . tools . checkstyle . checks . coding . IllegalCatchCheck ; 
 import com . puppycrawl . tools . checkstyle . checks . naming . ConstantNameCheck ; 
 import com . puppycrawl . tools . checkstyle . checks . naming . MemberNameCheck ; 
 @ @ - 213 , 7 + 212 , 6 @ @ public class SuppressWithNearbyCommentFilterTest 
 final DefaultConfiguration checkerConfig = 
 new DefaultConfiguration ( " configuration " ) ; 
 final DefaultConfiguration checksConfig = createModuleConfig ( TreeWalker . class ) ; 
 - checksConfig . addChild ( createModuleConfig ( FileContentsHolder . class ) ) ; 
 final DefaultConfiguration memberNameCheckConfig = 
 createModuleConfig ( MemberNameCheck . class ) ; 
 memberNameCheckConfig . addAttribute ( " id " , " ignore " ) ; 
 @ @ - 351 , 20 + 349 , 15 @ @ public class SuppressWithNearbyCommentFilterTest 
 public void testTagsAreClearedEachRun ( ) { 
 final SuppressWithNearbyCommentFilter suppressionCommentFilter = 
 new SuppressWithNearbyCommentFilter ( ) ; 
 - final FileContentsHolder fileContentsHolder = new FileContentsHolder ( ) ; 
 final FileContents contents = 
 new FileContents ( " filename " , " / / SUPPRESS CHECKSTYLE ignore " , " line2 " ) ; 
 contents . reportSingleLineComment ( 1 , 0 ) ; 
 - fileContentsHolder . setFileContents ( contents ) ; 
 - fileContentsHolder . beginTree ( null ) ; 
 final TreeWalkerAuditEvent dummyEvent = new TreeWalkerAuditEvent ( contents , " filename " , 
 new LocalizedMessage ( 1 , null , null , null , null , Object . class , null ) ) ; 
 suppressionCommentFilter . accept ( dummyEvent ) ; 
 final FileContents contents2 = 
 new FileContents ( " filename2 " , " some line " , " / / SUPPRESS CHECKSTYLE ignore " ) ; 
 contents2 . reportSingleLineComment ( 2 , 0 ) ; 
 - fileContentsHolder . setFileContents ( contents2 ) ; 
 - fileContentsHolder . beginTree ( null ) ; 
 final TreeWalkerAuditEvent dummyEvent2 = new TreeWalkerAuditEvent ( contents2 , " filename " , 
 new LocalizedMessage ( 1 , null , null , null , null , Object . class , null ) ) ; 
 suppressionCommentFilter . accept ( dummyEvent2 ) ; 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilterTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilterTest . java 
 index 136aadc . . e27bada 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilterTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilterTest . java 
 @ @ - 41 , 7 + 41 , 6 @ @ import com . puppycrawl . tools . checkstyle . api . CheckstyleException ; 
 import com . puppycrawl . tools . checkstyle . api . Configuration ; 
 import com . puppycrawl . tools . checkstyle . api . FileContents ; 
 import com . puppycrawl . tools . checkstyle . api . LocalizedMessage ; 
 - import com . puppycrawl . tools . checkstyle . checks . FileContentsHolder ; 
 import com . puppycrawl . tools . checkstyle . checks . coding . IllegalCatchCheck ; 
 import com . puppycrawl . tools . checkstyle . checks . naming . ConstantNameCheck ; 
 import com . puppycrawl . tools . checkstyle . checks . naming . MemberNameCheck ; 
 @ @ - 214 , 7 + 213 , 6 @ @ public class SuppressionCommentFilterTest 
 final DefaultConfiguration checkerConfig = 
 new DefaultConfiguration ( " configuration " ) ; 
 final DefaultConfiguration checksConfig = createModuleConfig ( TreeWalker . class ) ; 
 - checksConfig . addChild ( createModuleConfig ( FileContentsHolder . class ) ) ; 
 final DefaultConfiguration memberNameCheckConfig = 
 createModuleConfig ( MemberNameCheck . class ) ; 
 memberNameCheckConfig . addAttribute ( " id " , " ignore " ) ; 
 @ @ - 330 , 12 + 328 , 9 @ @ public class SuppressionCommentFilterTest 
 @ Test 
 public void testFindNearestMatchDontAllowSameColumn ( ) { 
 final SuppressionCommentFilter suppressionCommentFilter = new SuppressionCommentFilter ( ) ; 
 - final FileContentsHolder fileContentsHolder = new FileContentsHolder ( ) ; 
 final FileContents contents = 
 new FileContents ( " filename " , " / / CHECKSTYLE : OFF : ConstantNameCheck " , " line2 " ) ; 
 contents . reportSingleLineComment ( 1 , 0 ) ; 
 - fileContentsHolder . setFileContents ( contents ) ; 
 - fileContentsHolder . beginTree ( null ) ; 
 final TreeWalkerAuditEvent dummyEvent = new TreeWalkerAuditEvent ( contents , " filename " , 
 new LocalizedMessage ( 1 , null , null , null , null , Object . class , null ) ) ; 
 final boolean result = suppressionCommentFilter . accept ( dummyEvent ) ; 
 @ @ - 345 , 20 + 340 , 15 @ @ public class SuppressionCommentFilterTest 
 @ Test 
 public void testTagsAreClearedEachRun ( ) { 
 final SuppressionCommentFilter suppressionCommentFilter = new SuppressionCommentFilter ( ) ; 
 - final FileContentsHolder fileContentsHolder = new FileContentsHolder ( ) ; 
 final FileContents contents = 
 new FileContents ( " filename " , " / / CHECKSTYLE : OFF " , " line2 " ) ; 
 contents . reportSingleLineComment ( 1 , 0 ) ; 
 - fileContentsHolder . setFileContents ( contents ) ; 
 - fileContentsHolder . beginTree ( null ) ; 
 final TreeWalkerAuditEvent dummyEvent = new TreeWalkerAuditEvent ( contents , " filename " , 
 new LocalizedMessage ( 1 , null , null , null , null , Object . class , null ) ) ; 
 suppressionCommentFilter . accept ( dummyEvent ) ; 
 final FileContents contents2 = 
 new FileContents ( " filename2 " , " some line " , " / / CHECKSTYLE : OFF " ) ; 
 contents2 . reportSingleLineComment ( 2 , 0 ) ; 
 - fileContentsHolder . setFileContents ( contents2 ) ; 
 - fileContentsHolder . beginTree ( null ) ; 
 final TreeWalkerAuditEvent dummyEvent2 = new TreeWalkerAuditEvent ( contents2 , " filename " , 
 new LocalizedMessage ( 1 , null , null , null , null , Object . class , null ) ) ; 
 suppressionCommentFilter . accept ( dummyEvent2 ) ; 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / internal / AllChecksTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / internal / AllChecksTest . java 
 index 3c67cd1 . . 4690ad3 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / internal / AllChecksTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / internal / AllChecksTest . java 
 @ @ - 437 , 16 + 437 , 9 @ @ public class AllChecksTest extends AbstractModuleTestSupport { 
 for ( Class < ? > module : CheckUtil . getCheckstyleChecks ( ) ) { 
 final String name = module . getSimpleName ( ) ; 
 
 - if ( " FileContentsHolder " . equals ( name ) ) { 
 - Assert . assertTrue ( name 
 - + " should not have any ' MSG _ * ' field for error messages " , CheckUtil 
 - . getCheckMessages ( module ) . isEmpty ( ) ) ; 
 - } 
 - else { 
 - Assert . assertFalse ( name 
 - + " should have at least one ' MSG _ * ' field for error messages " , CheckUtil 
 - . getCheckMessages ( module ) . isEmpty ( ) ) ; 
 - } 
 + Assert . assertFalse ( name 
 + + " should have at least one ' MSG _ * ' field for error messages " , CheckUtil 
 + . getCheckMessages ( module ) . isEmpty ( ) ) ; 
 } 
 } 
 
 diff - - git a / src / xdocs / checks . xml b / src / xdocs / checks . xml 
 index 359a307 . . f8e9914 100644 
 - - - a / src / xdocs / checks . xml 
 + + + b / src / xdocs / checks . xml 
 @ @ - 809 , 11 + 809 , 6 @ @ 
 
 < table > 
 < tr > 
 - < td > < a href = " config _ misc . html # FileContentsHolder " > FileContentsHolder < / a > < / td > 
 - < td > Holds the current file contents for global access when configured as a 
 - TreeWalker sub - module . < / td > 
 - < / tr > 
 - < tr > 
 < td > < a href = " config _ annotation . html # SuppressWarningsHolder " > SuppressWarningsHolder < / a > < / td > 
 < td > 
 Maintains a set of check suppressions from < code > SuppressWarnings < / code > annotations . 
 diff - - git a / src / xdocs / config _ misc . xml b / src / xdocs / config _ misc . xml 
 index 10e5ec3 . . 73baca3 100644 
 - - - a / src / xdocs / config _ misc . xml 
 + + + b / src / xdocs / config _ misc . xml 
 @ @ - 845 , 46 + 845 , 6 @ @ String unitAbbrev = " \ u03bc \ u03bc \ u03bc " ; 
 < / subsection > 
 < / section > 
 
 - < section name = " FileContentsHolder " > 
 - < subsection name = " Description " > 
 - < p > Since Checkstyle 3 . 5 < / p > 
 - < p > 
 - Holds the current file contents for global access when configured 
 - as a TreeWalker sub - module . For example , a filter can access 
 - the current file contents through this module . 
 - < / p > 
 - < / subsection > 
 - 
 - < subsection name = " Examples " > 
 - < p > 
 - This check should not be used by itself , as it does no reporting . 
 - It is to be used in conjunction with other checks . 
 - No checks use < code > FileContentsHolder < / code > currently . 
 - < / p > 
 - < / subsection > 
 - 
 - < subsection name = " Example of Usage " > 
 - < ul > 
 - < li > 
 - < a href = " https : / / github . com / search ? q = path % 3Aconfig + filename % 3Acheckstyle _ checks . xml + repo % 3Acheckstyle % 2Fcheckstyle + FileContentsHolder " > 
 - Checkstyle Style < / a > 
 - < / li > 
 - < / ul > 
 - < / subsection > 
 - 
 - < subsection name = " Package " > 
 - < p > 
 - com . puppycrawl . tools . checkstyle . checks 
 - < / p > 
 - < / subsection > 
 - 
 - < subsection name = " Parent Module " > 
 - < p > 
 - < a href = " config . html # TreeWalker " > TreeWalker < / a > 
 - < / p > 
 - < / subsection > 
 - < / section > 
 - 
 < section name = " FinalParameters " > 
 < subsection name = " Description " > 
 < p > Since Checkstyle 3 . 0 < / p > 
 diff - - git a / wercker . yml b / wercker . yml 
 index f4ba78d . . 93b36cd 100644 
 - - - a / wercker . yml 
 + + + b / wercker . yml 
 @ @ - 47 , 7 + 47 , 7 @ @ build : 
 echo CS _ version : $ { CS _ POM _ VERSION } 
 for i in 1 2 3 4 5 ; do git clone https : / / github . com / pgjdbc / pgjdbc . git & & break | | sleep 15 ; done 
 cd pgjdbc / pgjdbc 
 - wget https : / / gist . githubusercontent . com / timurt / a981d094cbbbe746ecd400424f5f3af8 / raw / a5ebab4302107751e62d2da5a90adb8341173c98 / pgjdbc . patch 
 + wget https : / / gist . githubusercontent . com / timurt / a981d094cbbbe746ecd400424f5f3af8 / raw / 6e5d28a83b0d63a880f897d839f7f536b64f0979 / pgjdbc . patch 
 git apply pgjdbc . patch 
 mvn compile checkstyle : check - Dcheckstyle . version = $ { CS _ POM _ VERSION } 
 cd . . / . . / 
 @ @ - 72 , 7 + 72 , 7 @ @ build : 
 for i in 1 2 3 4 5 ; do git clone https : / / github . com / CS - SI / Orekit . git & & break | | sleep 15 ; done 
 cd Orekit 
 git checkout f7abe7ea0c7fbf6d138ed7eaf9487510dfbbcaac 
 - wget https : / / gist . githubusercontent . com / timurt / 7c45454a233ce775a7e5acaa1231d845 / raw / b24028f9d807008c64f0fa7b4e51db35678746dd / orekit . patch 
 + wget https : / / gist . githubusercontent . com / timurt / 7c45454a233ce775a7e5acaa1231d845 / raw / 225ef24f84e671b501caeef8279dc1363869d5ae / orekit . patch 
 git apply orekit . patch 
 mvn compile checkstyle : check - Dorekit . checkstyle . version = $ { CS _ POM _ VERSION } 
 cd . . / 
 @ @ - 194 , 6 + 194 , 8 @ @ build : 
 cd contribution / checkstyle - tester 
 sed - i ' ' ' s / ^ guava / # guava / ' projects - for - wercker . properties 
 sed - i ' ' ' s / # apache - struts / apache - struts / ' projects - for - wercker . properties 
 + wget https : / / gist . githubusercontent . com / timurt / dedda143b7a4984006af4731f3a236ec / raw / 9c19f6f5cacfb21089efa0f6bc0cbbf966c81e13 / checkstyle - tester . patch 
 + git apply checkstyle - tester . patch 
 groovy . / launch . groovy - - listOfProjects projects - for - wercker . properties - - config checks - nonjavadoc - error . xml 
 cd . . / . . / 
 rm - rf contribution 
 @ @ - 212 , 6 + 214 , 8 @ @ build : 
 sed - i ' ' ' s / ^ guava / # guava / ' projects - for - wercker . properties 
 sed - i ' ' ' s / # checkstyle / checkstyle / ' projects - for - wercker . properties 
 sed - i ' ' ' s / # sevntu - checkstyle / sevntu - checkstyle / ' projects - for - wercker . properties 
 + wget https : / / gist . githubusercontent . com / timurt / dedda143b7a4984006af4731f3a236ec / raw / 9c19f6f5cacfb21089efa0f6bc0cbbf966c81e13 / checkstyle - tester . patch 
 + git apply checkstyle - tester . patch 
 groovy . / launch . groovy - - listOfProjects projects - for - wercker . properties - - config checks - nonjavadoc - error . xml 
 cd . . / . . / 
 rm - rf contribution 
 @ @ - 229 , 6 + 233 , 8 @ @ build : 
 cd contribution / checkstyle - tester 
 sed - i ' ' ' s / ^ guava / # guava / ' projects - for - wercker . properties 
 sed - i ' ' ' s / # guava / guava / ' projects - for - wercker . properties 
 + wget https : / / gist . githubusercontent . com / timurt / dedda143b7a4984006af4731f3a236ec / raw / 9c19f6f5cacfb21089efa0f6bc0cbbf966c81e13 / checkstyle - tester . patch 
 + git apply checkstyle - tester . patch 
 groovy . / launch . groovy - - listOfProjects projects - for - wercker . properties - - config checks - nonjavadoc - error . xml 
 cd . . / . . / 
 rm - rf contribution 
 @ @ - 246 , 6 + 252 , 8 @ @ build : 
 cd contribution / checkstyle - tester 
 sed - i ' ' ' s / ^ guava / # guava / ' projects - for - wercker . properties 
 sed - i ' ' ' s / # hibernate - orm / hibernate - orm / ' projects - for - wercker . properties 
 + wget https : / / gist . githubusercontent . com / timurt / dedda143b7a4984006af4731f3a236ec / raw / 9c19f6f5cacfb21089efa0f6bc0cbbf966c81e13 / checkstyle - tester . patch 
 + git apply checkstyle - tester . patch 
 groovy . / launch . groovy - - listOfProjects projects - for - wercker . properties - - config checks - nonjavadoc - error . xml 
 cd . . / . . / 
 rm - rf contribution 
 @ @ - 264 , 6 + 272 , 8 @ @ build : 
 cd contribution / checkstyle - tester 
 sed - i ' ' ' s / ^ guava / # guava / ' projects - for - wercker . properties 
 sed - i ' ' ' s / # findbugs / findbugs / ' projects - for - wercker . properties 
 + wget https : / / gist . githubusercontent . com / timurt / dedda143b7a4984006af4731f3a236ec / raw / 9c19f6f5cacfb21089efa0f6bc0cbbf966c81e13 / checkstyle - tester . patch 
 + git apply checkstyle - tester . patch 
 groovy . / launch . groovy - - listOfProjects projects - for - wercker . properties - - config checks - nonjavadoc - error . xml 
 cd . . / . . / 
 rm - rf contribution 
 @ @ - 281 , 6 + 291 , 8 @ @ build : 
 cd contribution / checkstyle - tester 
 sed - i ' ' ' s / ^ guava / # guava / ' projects - for - wercker . properties 
 sed - i ' ' ' s / # spring - framework / spring - framework / ' projects - for - wercker . properties 
 + wget https : / / gist . githubusercontent . com / timurt / dedda143b7a4984006af4731f3a236ec / raw / 9c19f6f5cacfb21089efa0f6bc0cbbf966c81e13 / checkstyle - tester . patch 
 + git apply checkstyle - tester . patch 
 groovy . / launch . groovy - - listOfProjects projects - for - wercker . properties - - config checks - nonjavadoc - error . xml 
 cd . . / . . / 
 rm - rf contribution 
 @ @ - 298 , 6 + 310 , 8 @ @ build : 
 cd contribution / checkstyle - tester 
 sed - i ' ' ' s / ^ guava / # guava / ' projects - for - wercker . properties 
 sed - i ' ' ' s / # Hbase / Hbase / ' projects - for - wercker . properties 
 + wget https : / / gist . githubusercontent . com / timurt / dedda143b7a4984006af4731f3a236ec / raw / 9c19f6f5cacfb21089efa0f6bc0cbbf966c81e13 / checkstyle - tester . patch 
 + git apply checkstyle - tester . patch 
 groovy . / launch . groovy - - listOfProjects projects - for - wercker . properties - - config checks - nonjavadoc - error . xml 
 cd . . / . . / 
 rm - rf contribution 
 @ @ - 317 , 6 + 331 , 8 @ @ build : 
 sed - i ' ' ' s / # pmd / pmd / ' projects - for - wercker . properties 
 sed - i ' ' ' s / # elasticsearch / elasticsearch / ' projects - for - wercker . properties 
 sed - i ' ' ' s / # lombok - ast / lombok - ast / ' projects - for - wercker . properties 
 + wget https : / / gist . githubusercontent . com / timurt / dedda143b7a4984006af4731f3a236ec / raw / 9c19f6f5cacfb21089efa0f6bc0cbbf966c81e13 / checkstyle - tester . patch 
 + git apply checkstyle - tester . patch 
 groovy . / launch . groovy - - listOfProjects projects - for - wercker . properties - - config checks - nonjavadoc - error . xml 
 cd . . / . . / 
 rm - rf contribution 
 @ @ - 340 , 6 + 356 , 8 @ @ build : 
 sed - i ' ' ' s / # apache - ant / apache - ant / ' projects - for - wercker . properties 
 sed - i ' ' ' s / # apache - jsecurity / apache - jsecurity / ' projects - for - wercker . properties 
 sed - i ' ' ' s / # android - launcher / android - launcher / ' projects - for - wercker . properties 
 + wget https : / / gist . githubusercontent . com / timurt / dedda143b7a4984006af4731f3a236ec / raw / 9c19f6f5cacfb21089efa0f6bc0cbbf966c81e13 / checkstyle - tester . patch 
 + git apply checkstyle - tester . patch 
 groovy . / launch . groovy - - listOfProjects projects - for - wercker . properties - - config checks - nonjavadoc - error . xml 
 cd . . / . . / 
 rm - rf contribution

NEAREST DIFF:
diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / config - custom - root - module . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / config - custom - root - module . xml 
 deleted file mode 100644 
 index 20e6f58 . . 0000000 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / config - custom - root - module . xml 
 + + + / dev / null 
 @ @ - 1 , 8 + 0 , 0 @ @ 
 - < ? xml version = " 1 . 0 " ? > 
 - < ! DOCTYPE module PUBLIC 
 - " - / / Puppy Crawl / / DTD Check Configuration 1 . 3 / / EN " 
 - " http : / / checkstyle . sourceforge . net / dtds / configuration _ 1 _ 3 . dtd " > 
 - 
 - < module name = " com . puppycrawl . tools . checkstyle . TestRootModuleChecker " > 
 - < property name = " property " value = " $ { lineLength . severity } " default = " " / > 
 - < / module > 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / package - info . java b / src / test / resources / com / puppycrawl / tools / checkstyle / package - info . java 
 deleted file mode 100644 
 index 7d353d6 . . 0000000 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / package - info . java 
 + + + / dev / null 
 @ @ - 1 + 0 , 0 @ @ 
 - package com . puppycrawl . tools . checkstyle ;
