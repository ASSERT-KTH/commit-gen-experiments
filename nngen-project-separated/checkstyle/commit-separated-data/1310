BLEU SCORE: 0.04932351569489709

TEST MSG: Issue # 2887 : Fix VisibilityModifier . allowPublicImmutableFields work in enums
GENERATED MSG: Fix various typos . # 1555

TEST DIFF (one line): diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / design / VisibilityModifierCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / design / VisibilityModifierCheck . java <nl> index 4b29208 . . 019947b 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / design / VisibilityModifierCheck . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / design / VisibilityModifierCheck . java <nl> @ @ - 575 , 7 + 575 , 8 @ @ public class VisibilityModifierCheck <nl> private boolean isImmutableFieldDefinedInFinalClass ( DetailAST variableDef ) { <nl> final DetailAST classDef = variableDef . getParent ( ) . getParent ( ) ; <nl> final Set < String > classModifiers = getModifiers ( classDef ) ; <nl> - return classModifiers . contains ( FINAL _ KEYWORD ) & & isImmutableField ( variableDef ) ; <nl> + return ( classModifiers . contains ( FINAL _ KEYWORD ) | | classDef . getType ( ) = = TokenTypes . ENUM _ DEF ) <nl> + & & isImmutableField ( variableDef ) ; <nl> } <nl> <nl> / * * <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / InputSimple . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / InputSimple . java <nl> index fc137db . . 5516015 100644 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / InputSimple . java <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / InputSimple . java <nl> @ @ - 222 , 4 + 222 , 6 @ @ enum MyEnum1 <nl> <nl> / * * Should be mSomeMemeber * / <nl> private int someMember ; <nl> + <nl> + public final int blah = 5 ; <nl> }
NEAREST DIFF (one line): diff - - git a / src / it / java / com / google / checkstyle / test / base / ConfigValidationTest . java b / src / it / java / com / google / checkstyle / test / base / ConfigValidationTest . java <nl> index 2bfce71 . . f461cdb 100644 <nl> - - - a / src / it / java / com / google / checkstyle / test / base / ConfigValidationTest . java <nl> + + + b / src / it / java / com / google / checkstyle / test / base / ConfigValidationTest . java <nl> @ @ - 1 , 5 + 1 , 7 @ @ <nl> package com . google . checkstyle . test . base ; <nl> <nl> + import static org . apache . commons . lang3 . ArrayUtils . EMPTY _ STRING _ ARRAY ; <nl> + <nl> import java . io . File ; <nl> import java . util . List ; <nl> <nl> @ @ - 22 , 6 + 24 , 6 @ @ public class ConfigValidationTest extends BaseCheckTestSupport { <nl> <nl> / / runs over all input files ; <nl> / / as severity level is " warning " , no errors expected <nl> - verify ( checker , files . toArray ( new File [ files . size ( ) ] ) , " " , new String [ 0 ] , null ) ; <nl> + verify ( checker , files . toArray ( new File [ files . size ( ) ] ) , " " , EMPTY _ STRING _ ARRAY , null ) ; <nl> } <nl> } <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / PackageNamesLoaderTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / PackageNamesLoaderTest . java <nl> index 37d6caf . . 44a98ff 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / PackageNamesLoaderTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / PackageNamesLoaderTest . java <nl> @ @ - 19 , 6 + 19 , 7 @ @ <nl> <nl> package com . puppycrawl . tools . checkstyle ; <nl> <nl> + import static org . apache . commons . lang3 . ArrayUtils . EMPTY _ BYTE _ ARRAY ; <nl> import static org . junit . Assert . assertEquals ; <nl> import static org . junit . Assert . assertNotEquals ; <nl> import static org . junit . Assert . assertTrue ; <nl> @ @ - 115 , 7 + 116 , 7 @ @ public class PackageNamesLoaderTest { <nl> <nl> final URLConnection mockConnection = Mockito . mock ( URLConnection . class ) ; <nl> when ( mockConnection . getInputStream ( ) ) . thenReturn ( <nl> - new ByteArrayInputStream ( new byte [ ] { } ) ) ; <nl> + new ByteArrayInputStream ( EMPTY _ BYTE _ ARRAY ) ) ; <nl> <nl> URL url = getMockUrl ( mockConnection ) ; <nl> <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / api / LocalizedMessageTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / api / LocalizedMessageTest . java <nl> index f57183f . . 509c333 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / api / LocalizedMessageTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / api / LocalizedMessageTest . java <nl> @ @ - 19 , 6 + 19 , 8 @ @ <nl> <nl> package com . puppycrawl . tools . checkstyle . api ; <nl> <nl> + import static org . apache . commons . lang3 . ArrayUtils . EMPTY _ BYTE _ ARRAY ; <nl> + import static org . apache . commons . lang3 . ArrayUtils . EMPTY _ OBJECT _ ARRAY ; <nl> import static org . junit . Assert . assertEquals ; <nl> import static org . powermock . api . mockito . PowerMockito . mock ; <nl> import static org . powermock . api . mockito . PowerMockito . when ; <nl> @ @ - 74 , 7 + 76 , 7 @ @ public class LocalizedMessageTest { <nl> ClassLoader classloader = mock ( ClassLoader . class ) ; <nl> final URLConnection mockConnection = Mockito . mock ( URLConnection . class ) ; <nl> when ( mockConnection . getInputStream ( ) ) . thenReturn ( <nl> - new ByteArrayInputStream ( new byte [ ] { } ) ) ; <nl> + new ByteArrayInputStream ( EMPTY _ BYTE _ ARRAY ) ) ; <nl> <nl> URL url = getMockUrl ( mockConnection ) ; <nl> String resource = " com / puppycrawl / tools / checkstyle / checks / coding / messages _ en . properties " ; <nl> @ @ - 139 , 7 + 141 , 7 @ @ public class LocalizedMessageTest { <nl> <nl> private static LocalizedMessage createSampleLocalizedMessage ( ) { <nl> return new LocalizedMessage ( 0 , " com . puppycrawl . tools . checkstyle . checks . coding . messages " , <nl> - " empty . statement " , new Object [ ] { } , " module " , LocalizedMessage . class , null ) ; <nl> + " empty . statement " , EMPTY _ OBJECT _ ARRAY , " module " , LocalizedMessage . class , null ) ; <nl> } <nl> <nl> @ After

TEST DIFF:
diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / design / VisibilityModifierCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / design / VisibilityModifierCheck . java 
 index 4b29208 . . 019947b 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / design / VisibilityModifierCheck . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / design / VisibilityModifierCheck . java 
 @ @ - 575 , 7 + 575 , 8 @ @ public class VisibilityModifierCheck 
 private boolean isImmutableFieldDefinedInFinalClass ( DetailAST variableDef ) { 
 final DetailAST classDef = variableDef . getParent ( ) . getParent ( ) ; 
 final Set < String > classModifiers = getModifiers ( classDef ) ; 
 - return classModifiers . contains ( FINAL _ KEYWORD ) & & isImmutableField ( variableDef ) ; 
 + return ( classModifiers . contains ( FINAL _ KEYWORD ) | | classDef . getType ( ) = = TokenTypes . ENUM _ DEF ) 
 + & & isImmutableField ( variableDef ) ; 
 } 
 
 / * * 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / InputSimple . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / InputSimple . java 
 index fc137db . . 5516015 100644 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / InputSimple . java 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / InputSimple . java 
 @ @ - 222 , 4 + 222 , 6 @ @ enum MyEnum1 
 
 / * * Should be mSomeMemeber * / 
 private int someMember ; 
 + 
 + public final int blah = 5 ; 
 }

NEAREST DIFF:
diff - - git a / src / it / java / com / google / checkstyle / test / base / ConfigValidationTest . java b / src / it / java / com / google / checkstyle / test / base / ConfigValidationTest . java 
 index 2bfce71 . . f461cdb 100644 
 - - - a / src / it / java / com / google / checkstyle / test / base / ConfigValidationTest . java 
 + + + b / src / it / java / com / google / checkstyle / test / base / ConfigValidationTest . java 
 @ @ - 1 , 5 + 1 , 7 @ @ 
 package com . google . checkstyle . test . base ; 
 
 + import static org . apache . commons . lang3 . ArrayUtils . EMPTY _ STRING _ ARRAY ; 
 + 
 import java . io . File ; 
 import java . util . List ; 
 
 @ @ - 22 , 6 + 24 , 6 @ @ public class ConfigValidationTest extends BaseCheckTestSupport { 
 
 / / runs over all input files ; 
 / / as severity level is " warning " , no errors expected 
 - verify ( checker , files . toArray ( new File [ files . size ( ) ] ) , " " , new String [ 0 ] , null ) ; 
 + verify ( checker , files . toArray ( new File [ files . size ( ) ] ) , " " , EMPTY _ STRING _ ARRAY , null ) ; 
 } 
 } 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / PackageNamesLoaderTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / PackageNamesLoaderTest . java 
 index 37d6caf . . 44a98ff 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / PackageNamesLoaderTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / PackageNamesLoaderTest . java 
 @ @ - 19 , 6 + 19 , 7 @ @ 
 
 package com . puppycrawl . tools . checkstyle ; 
 
 + import static org . apache . commons . lang3 . ArrayUtils . EMPTY _ BYTE _ ARRAY ; 
 import static org . junit . Assert . assertEquals ; 
 import static org . junit . Assert . assertNotEquals ; 
 import static org . junit . Assert . assertTrue ; 
 @ @ - 115 , 7 + 116 , 7 @ @ public class PackageNamesLoaderTest { 
 
 final URLConnection mockConnection = Mockito . mock ( URLConnection . class ) ; 
 when ( mockConnection . getInputStream ( ) ) . thenReturn ( 
 - new ByteArrayInputStream ( new byte [ ] { } ) ) ; 
 + new ByteArrayInputStream ( EMPTY _ BYTE _ ARRAY ) ) ; 
 
 URL url = getMockUrl ( mockConnection ) ; 
 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / api / LocalizedMessageTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / api / LocalizedMessageTest . java 
 index f57183f . . 509c333 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / api / LocalizedMessageTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / api / LocalizedMessageTest . java 
 @ @ - 19 , 6 + 19 , 8 @ @ 
 
 package com . puppycrawl . tools . checkstyle . api ; 
 
 + import static org . apache . commons . lang3 . ArrayUtils . EMPTY _ BYTE _ ARRAY ; 
 + import static org . apache . commons . lang3 . ArrayUtils . EMPTY _ OBJECT _ ARRAY ; 
 import static org . junit . Assert . assertEquals ; 
 import static org . powermock . api . mockito . PowerMockito . mock ; 
 import static org . powermock . api . mockito . PowerMockito . when ; 
 @ @ - 74 , 7 + 76 , 7 @ @ public class LocalizedMessageTest { 
 ClassLoader classloader = mock ( ClassLoader . class ) ; 
 final URLConnection mockConnection = Mockito . mock ( URLConnection . class ) ; 
 when ( mockConnection . getInputStream ( ) ) . thenReturn ( 
 - new ByteArrayInputStream ( new byte [ ] { } ) ) ; 
 + new ByteArrayInputStream ( EMPTY _ BYTE _ ARRAY ) ) ; 
 
 URL url = getMockUrl ( mockConnection ) ; 
 String resource = " com / puppycrawl / tools / checkstyle / checks / coding / messages _ en . properties " ; 
 @ @ - 139 , 7 + 141 , 7 @ @ public class LocalizedMessageTest { 
 
 private static LocalizedMessage createSampleLocalizedMessage ( ) { 
 return new LocalizedMessage ( 0 , " com . puppycrawl . tools . checkstyle . checks . coding . messages " , 
 - " empty . statement " , new Object [ ] { } , " module " , LocalizedMessage . class , null ) ; 
 + " empty . statement " , EMPTY _ OBJECT _ ARRAY , " module " , LocalizedMessage . class , null ) ; 
 } 
 
 @ After
