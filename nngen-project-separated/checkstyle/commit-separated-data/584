BLEU SCORE: 0.030165524927300753

TEST MSG: Issue # 5027 : remove use of javax . xml . bind . DatatypeConverter
GENERATED MSG: Pull # 3093 : Use DatatypeConverter # printHexBinary to convert byte array to hex String in PropertyCacheFile

TEST DIFF (one line): diff - - git a / config / import - control . xml b / config / import - control . xml <nl> index d3fbe8e . . cab9f3d 100644 <nl> - - - a / config / import - control . xml <nl> + + + b / config / import - control . xml <nl> @ @ - 34 , 7 + 34 , 6 @ @ <nl> < allow pkg = " java . nio " local - only = " true " / > <nl> < allow class = " java . security . MessageDigest " local - only = " true " / > <nl> < allow class = " java . security . NoSuchAlgorithmException " local - only = " true " / > <nl> - < allow class = " javax . xml . bind . DatatypeConverter " local - only = " true " / > <nl> < allow pkg = " com . puppycrawl . tools . checkstyle . utils " local - only = " true " / > <nl> < allow pkg = " com . puppycrawl . tools . checkstyle . grammars " local - only = " true " / > <nl> < allow pkg = " org . apache . commons . cli " local - only = " true " / > <nl> @ @ - 44 , 6 + 43 , 7 @ @ <nl> <nl> < ! - - allowed till https : / / github . com / checkstyle / checkstyle / issues / 3455 - - > <nl> < allow class = " com . google . common . base . CaseFormat " local - only = " true " / > <nl> + < allow class = " com . google . common . io . BaseEncoding " local - only = " true " / > <nl> < allow class = " com . google . common . io . Closeables " local - only = " true " / > <nl> < allow class = " com . google . common . io . Flushables " local - only = " true " / > <nl> < allow class = " com . google . common . collect . HashMultimap " local - only = " true " / > <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / PropertyCacheFile . java b / src / main / java / com / puppycrawl / tools / checkstyle / PropertyCacheFile . java <nl> index b6523ea . . 2a0ae4d 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / PropertyCacheFile . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / PropertyCacheFile . java <nl> @ @ - 39 , 8 + 39 , 7 @ @ import java . util . Objects ; <nl> import java . util . Properties ; <nl> import java . util . Set ; <nl> <nl> - import javax . xml . bind . DatatypeConverter ; <nl> - <nl> + import com . google . common . io . BaseEncoding ; <nl> import com . google . common . io . ByteStreams ; <nl> import com . google . common . io . Closeables ; <nl> import com . google . common . io . Flushables ; <nl> @ @ - 230 , 7 + 229 , 7 @ @ final class PropertyCacheFile { <nl> final MessageDigest digest = MessageDigest . getInstance ( " SHA - 1 " ) ; <nl> digest . update ( outputStream . toByteArray ( ) ) ; <nl> <nl> - return DatatypeConverter . printHexBinary ( digest . digest ( ) ) ; <nl> + return BaseEncoding . base16 ( ) . upperCase ( ) . encode ( digest . digest ( ) ) ; <nl> } <nl> catch ( final IOException | NoSuchAlgorithmException ex ) { <nl> / / rethrow as unchecked exception <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / PropertyCacheFileTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / PropertyCacheFileTest . java <nl> index 165e269 . . 66a9cce 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / PropertyCacheFileTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / PropertyCacheFileTest . java <nl> @ @ - 53 , 8 + 53 , 6 @ @ import java . util . Locale ; <nl> import java . util . Properties ; <nl> import java . util . Set ; <nl> <nl> - import javax . xml . bind . DatatypeConverter ; <nl> - <nl> import org . junit . Rule ; <nl> import org . junit . Test ; <nl> import org . junit . rules . TemporaryFolder ; <nl> @ @ - 63 , 6 + 61 , 7 @ @ import org . mockito . Matchers ; <nl> import org . powermock . core . classloader . annotations . PrepareForTest ; <nl> import org . powermock . modules . junit4 . PowerMockRunner ; <nl> <nl> + import com . google . common . io . BaseEncoding ; <nl> import com . google . common . io . ByteStreams ; <nl> import com . google . common . io . Closeables ; <nl> import com . google . common . io . Flushables ; <nl> @ @ - 232 , 7 + 231 , 7 @ @ public class PropertyCacheFileTest { <nl> oos . writeObject ( input ) ; <nl> } <nl> digest . update ( out . toByteArray ( ) ) ; <nl> - final String expected = DatatypeConverter . printHexBinary ( digest . digest ( ) ) ; <nl> + final String expected = BaseEncoding . base16 ( ) . upperCase ( ) . encode ( digest . digest ( ) ) ; <nl> <nl> assertEquals ( " Hashes are not equal " , expected , <nl> cache . get ( " module - resource * ? : " + pathToResource ) ) ;
NEAREST DIFF (one line): diff - - git a / src / xdocs / index . xml . vm b / src / xdocs / index . xml . vm <nl> index 65ab244 . . 9200a86 100644 <nl> - - - a / src / xdocs / index . xml . vm <nl> + + + b / src / xdocs / index . xml . vm <nl> @ @ - 216 , 6 + 216 , 12 @ @ <nl> < td > < a href = " http : / / maven . apache . org / plugins / maven - checkstyle - plugin / checkstyle . html " > example report < / a > < / td > <nl> < / tr > <nl> < tr > <nl> + < td > < a href = " http : / / tide . olympe . in / " > tIDE < / a > < / td > <nl> + < td / > <nl> + < td > Built in < / td > <nl> + < td / > <nl> + < / tr > <nl> + < tr > <nl> < td > < a href = " https : / / netbeans . org / " > NetBeans < / a > < / td > <nl> < td > Petr Hejl < / td > <nl> < td >

TEST DIFF:
diff - - git a / config / import - control . xml b / config / import - control . xml 
 index d3fbe8e . . cab9f3d 100644 
 - - - a / config / import - control . xml 
 + + + b / config / import - control . xml 
 @ @ - 34 , 7 + 34 , 6 @ @ 
 < allow pkg = " java . nio " local - only = " true " / > 
 < allow class = " java . security . MessageDigest " local - only = " true " / > 
 < allow class = " java . security . NoSuchAlgorithmException " local - only = " true " / > 
 - < allow class = " javax . xml . bind . DatatypeConverter " local - only = " true " / > 
 < allow pkg = " com . puppycrawl . tools . checkstyle . utils " local - only = " true " / > 
 < allow pkg = " com . puppycrawl . tools . checkstyle . grammars " local - only = " true " / > 
 < allow pkg = " org . apache . commons . cli " local - only = " true " / > 
 @ @ - 44 , 6 + 43 , 7 @ @ 
 
 < ! - - allowed till https : / / github . com / checkstyle / checkstyle / issues / 3455 - - > 
 < allow class = " com . google . common . base . CaseFormat " local - only = " true " / > 
 + < allow class = " com . google . common . io . BaseEncoding " local - only = " true " / > 
 < allow class = " com . google . common . io . Closeables " local - only = " true " / > 
 < allow class = " com . google . common . io . Flushables " local - only = " true " / > 
 < allow class = " com . google . common . collect . HashMultimap " local - only = " true " / > 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / PropertyCacheFile . java b / src / main / java / com / puppycrawl / tools / checkstyle / PropertyCacheFile . java 
 index b6523ea . . 2a0ae4d 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / PropertyCacheFile . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / PropertyCacheFile . java 
 @ @ - 39 , 8 + 39 , 7 @ @ import java . util . Objects ; 
 import java . util . Properties ; 
 import java . util . Set ; 
 
 - import javax . xml . bind . DatatypeConverter ; 
 - 
 + import com . google . common . io . BaseEncoding ; 
 import com . google . common . io . ByteStreams ; 
 import com . google . common . io . Closeables ; 
 import com . google . common . io . Flushables ; 
 @ @ - 230 , 7 + 229 , 7 @ @ final class PropertyCacheFile { 
 final MessageDigest digest = MessageDigest . getInstance ( " SHA - 1 " ) ; 
 digest . update ( outputStream . toByteArray ( ) ) ; 
 
 - return DatatypeConverter . printHexBinary ( digest . digest ( ) ) ; 
 + return BaseEncoding . base16 ( ) . upperCase ( ) . encode ( digest . digest ( ) ) ; 
 } 
 catch ( final IOException | NoSuchAlgorithmException ex ) { 
 / / rethrow as unchecked exception 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / PropertyCacheFileTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / PropertyCacheFileTest . java 
 index 165e269 . . 66a9cce 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / PropertyCacheFileTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / PropertyCacheFileTest . java 
 @ @ - 53 , 8 + 53 , 6 @ @ import java . util . Locale ; 
 import java . util . Properties ; 
 import java . util . Set ; 
 
 - import javax . xml . bind . DatatypeConverter ; 
 - 
 import org . junit . Rule ; 
 import org . junit . Test ; 
 import org . junit . rules . TemporaryFolder ; 
 @ @ - 63 , 6 + 61 , 7 @ @ import org . mockito . Matchers ; 
 import org . powermock . core . classloader . annotations . PrepareForTest ; 
 import org . powermock . modules . junit4 . PowerMockRunner ; 
 
 + import com . google . common . io . BaseEncoding ; 
 import com . google . common . io . ByteStreams ; 
 import com . google . common . io . Closeables ; 
 import com . google . common . io . Flushables ; 
 @ @ - 232 , 7 + 231 , 7 @ @ public class PropertyCacheFileTest { 
 oos . writeObject ( input ) ; 
 } 
 digest . update ( out . toByteArray ( ) ) ; 
 - final String expected = DatatypeConverter . printHexBinary ( digest . digest ( ) ) ; 
 + final String expected = BaseEncoding . base16 ( ) . upperCase ( ) . encode ( digest . digest ( ) ) ; 
 
 assertEquals ( " Hashes are not equal " , expected , 
 cache . get ( " module - resource * ? : " + pathToResource ) ) ;

NEAREST DIFF:
diff - - git a / src / xdocs / index . xml . vm b / src / xdocs / index . xml . vm 
 index 65ab244 . . 9200a86 100644 
 - - - a / src / xdocs / index . xml . vm 
 + + + b / src / xdocs / index . xml . vm 
 @ @ - 216 , 6 + 216 , 12 @ @ 
 < td > < a href = " http : / / maven . apache . org / plugins / maven - checkstyle - plugin / checkstyle . html " > example report < / a > < / td > 
 < / tr > 
 < tr > 
 + < td > < a href = " http : / / tide . olympe . in / " > tIDE < / a > < / td > 
 + < td / > 
 + < td > Built in < / td > 
 + < td / > 
 + < / tr > 
 + < tr > 
 < td > < a href = " https : / / netbeans . org / " > NetBeans < / a > < / td > 
 < td > Petr Hejl < / td > 
 < td >
