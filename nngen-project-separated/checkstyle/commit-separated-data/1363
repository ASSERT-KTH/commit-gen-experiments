BLEU SCORE: 0.10552670315936319

TEST MSG: minor : release notes 6 . 14 . 1
GENERATED MSG: Added release notes .

TEST DIFF (one line): diff - - git a / src / xdocs / releasenotes . xml b / src / xdocs / releasenotes . xml <nl> index 4daf0d3 . . 63c82cb 100644 <nl> - - - a / src / xdocs / releasenotes . xml <nl> + + + b / src / xdocs / releasenotes . xml <nl> @ @ - 15 , 6 + 15 , 24 @ @ <nl> <nl> < body > <nl> <nl> + < section name = " Release 6 . 14 . 1 " > <nl> + < p > Bug fixes : < / p > <nl> + < ul > <nl> + < li > <nl> + JavaNCSSCheck : unknown format type : numero inteiro . Author : Roman Ivanov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 2728 " > # 2728 < / a > <nl> + < / li > <nl> + < li > <nl> + StringIndexOutOfBoundsException in getCheckShortName method of AuditEventDefaultFormatter . Author : Andrei Selkin < a href = " https : / / github . com / checkstyle / checkstyle / issues / 2780 " > # 2780 < / a > <nl> + < / li > <nl> + < / ul > <nl> + < p > Notes : < / p > <nl> + < ul > <nl> + < li > <nl> + spelling : fix typo in AuditEventFormatter class name . Author : Andrei Selkin <nl> + < / li > <nl> + < / ul > <nl> + < / section > <nl> + <nl> < section name = " Release 6 . 14 " > <nl> < p > Breaking backward compatibility : < / p > <nl> < ul >
NEAREST DIFF (one line): diff - - git a / checkstyle _ checks . xml b / checkstyle _ checks . xml <nl> index 97d8393 . . 9af0c88 100755 <nl> - - - a / checkstyle _ checks . xml <nl> + + + b / checkstyle _ checks . xml <nl> @ @ - 159 , 6 + 159 , 9 @ @ <nl> < property name = " severity " value = " ignore " / > <nl> < / module > <nl> <nl> + < module name = " NestedForDepth " > <nl> + < property name = " max " value = " 2 " / > <nl> + < / module > <nl> < module name = " NestedIfDepth " > <nl> < property name = " max " value = " 3 " / > <nl> < / module > <nl> diff - - git a / pom . xml b / pom . xml <nl> index 98488a1 . . 04fbd64 100755 <nl> - - - a / pom . xml <nl> + + + b / pom . xml <nl> @ @ - 8 , 7 + 8 , 7 @ @ <nl> < groupId > org . sonatype . oss < / groupId > <nl> < version > 5 < / version > <nl> < / parent > <nl> - <nl> + <nl> < modelVersion > 4 . 0 . 0 < / modelVersion > <nl> < groupId > com . puppycrawl . tools < / groupId > <nl> < artifactId > checkstyle < / artifactId > <nl> diff - - git a / src / checkstyle / com / puppycrawl / tools / checkstyle / checks / coding / NestedForDepthCheck . java b / src / checkstyle / com / puppycrawl / tools / checkstyle / checks / coding / NestedForDepthCheck . java <nl> new file mode 100644 <nl> index 0000000 . . 584d8df <nl> - - - / dev / null <nl> + + + b / src / checkstyle / com / puppycrawl / tools / checkstyle / checks / coding / NestedForDepthCheck . java <nl> @ @ - 0 , 0 + 1 , 75 @ @ <nl> + / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / <nl> + / / checkstyle : Checks Java source code for adherence to a set of rules . <nl> + / / Copyright ( C ) 2001 - 2010 Oliver Burn <nl> + / / <nl> + / / This library is free software ; you can redistribute it and / or <nl> + / / modify it under the terms of the GNU Lesser General Public <nl> + / / License as published by the Free Software Foundation ; either <nl> + / / version 2 . 1 of the License , or ( at your option ) any later version . <nl> + / / <nl> + / / This library is distributed in the hope that it will be useful , <nl> + / / but WITHOUT ANY WARRANTY ; without even the implied warranty of <nl> + / / MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE . See the GNU <nl> + / / Lesser General Public License for more details . <nl> + / / <nl> + / / You should have received a copy of the GNU Lesser General Public <nl> + / / License along with this library ; if not , write to the Free Software <nl> + / / Foundation , Inc . , 59 Temple Place , Suite 330 , Boston , MA 02111 - 1307 USA <nl> + / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / <nl> + package com . puppycrawl . tools . checkstyle . checks . coding ; <nl> + <nl> + import com . puppycrawl . tools . checkstyle . api . DetailAST ; <nl> + import com . puppycrawl . tools . checkstyle . api . TokenTypes ; <nl> + <nl> + / * * <nl> + * Check the number of nested < code > for < / code > - statements . The maximum <nl> + * number of nested layers can be configured . The default value is 1 . Most of <nl> + * the logic is implemented in the parent class . The code for the class is <nl> + * copied from the NestedIfDepthCheck - class . The only difference is the <nl> + * intercepted token ( for instead of if ) . Example : <nl> + * < pre > <nl> + * & lt ; ! - - Restricts nested for blocks to a specified depth ( default = 1 ) . <nl> + * - - & gt ; <nl> + * & lt ; module name = & quot ; com . puppycrawl . tools . checkstyle . checks . coding <nl> + * . CatchWithLostStackCheck & quot ; & gt ; <nl> + * & lt ; property name = & quot ; severity & quot ; value = & quot ; info & quot ; / & gt ; <nl> + * & lt ; property name = & quot ; max & quot ; value = & quot ; 1 & quot ; / & gt ; <nl> + * & lt ; / module & gt ; <nl> + * < / pre > <nl> + * @ author Alexander Jesse <nl> + * @ see com . puppycrawl . tools . checkstyle . checks . coding . AbstractNestedDepthCheck <nl> + * @ see com . puppycrawl . tools . checkstyle . checks . coding . NestedIfDepthCheck <nl> + * / <nl> + public final class NestedForDepthCheck extends AbstractNestedDepthCheck <nl> + { <nl> + / * * default allowed nesting depth . * / <nl> + private static final int DEFAULT _ MAX = 1 ; <nl> + <nl> + / * * Creates new check instance with default allowed nesting depth . * / <nl> + public NestedForDepthCheck ( ) <nl> + { <nl> + super ( DEFAULT _ MAX ) ; <nl> + } <nl> + <nl> + @ Override <nl> + public int [ ] getDefaultTokens ( ) <nl> + { <nl> + return new int [ ] { TokenTypes . LITERAL _ FOR } ; <nl> + } <nl> + <nl> + @ Override <nl> + public void visitToken ( DetailAST aAST ) <nl> + { <nl> + if ( TokenTypes . LITERAL _ FOR = = aAST . getType ( ) ) { <nl> + nestIn ( aAST , " nested . for . depth " ) ; <nl> + } <nl> + } <nl> + <nl> + @ Override <nl> + public void leaveToken ( DetailAST aAST ) <nl> + { <nl> + if ( TokenTypes . LITERAL _ FOR = = aAST . getType ( ) ) { <nl> + nestOut ( ) ; <nl> + } <nl> + } <nl> + } <nl> diff - - git a / src / checkstyle / com / puppycrawl / tools / checkstyle / checks / coding / messages . properties b / src / checkstyle / com / puppycrawl / tools / checkstyle / checks / coding / messages . properties <nl> index 719e324 . . 6036d96 100644 <nl> - - - a / src / checkstyle / com / puppycrawl / tools / checkstyle / checks / coding / messages . properties <nl> + + + b / src / checkstyle / com / puppycrawl / tools / checkstyle / checks / coding / messages . properties <nl> @ @ - 40 , 6 + 40 , 7 @ @ modified . control . variable = Control variable ' ' { 0 } ' ' is modified . <nl> multiple . string . literal = The String { 0 } appears { 1 } times in the file . <nl> multiple . variable . declarations = Only one variable definition per line allowed . <nl> multiple . variable . declarations . comma = Each variable declaration must be in its own statement . <nl> + nested . for . depth = Nested for depth is { 0 , number , integer } ( max allowed is { 1 , number , integer } ) . <nl> nested . if . depth = Nested if - else depth is { 0 , number , integer } ( max allowed is { 1 , number , integer } ) . <nl> nested . try . depth = Nested try depth is { 0 , number , integer } ( max allowed is { 1 , number , integer } ) . <nl> parameter . assignment = Assignment of parameter ' ' { 0 } ' ' is not allowed . <nl> diff - - git a / src / testinputs / com / puppycrawl / tools / checkstyle / coding / InputNestedForDepth . java b / src / testinputs / com / puppycrawl / tools / checkstyle / coding / InputNestedForDepth . java <nl> new file mode 100644 <nl> index 0000000 . . 7dad11a <nl> - - - / dev / null <nl> + + + b / src / testinputs / com / puppycrawl / tools / checkstyle / coding / InputNestedForDepth . java <nl> @ @ - 0 , 0 + 1 , 52 @ @ <nl> + / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / <nl> + / / checkstyle : Checks Java source code for adherence to a set of rules . <nl> + / / Copyright ( C ) 2001 - 2004 Oliver Burn <nl> + / / <nl> + / / This library is free software ; you can redistribute it and / or <nl> + / / modify it under the terms of the GNU Lesser General Public <nl> + / / License as published by the Free Software Foundation ; either <nl> + / / version 2 . 1 of the License , or ( at your option ) any later version . <nl> + / / <nl> + / / This library is distributed in the hope that it will be useful , <nl> + / / but WITHOUT ANY WARRANTY ; without even the implied warranty of <nl> + / / MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE . See the GNU <nl> + / / Lesser General Public License for more details . <nl> + / / <nl> + / / You should have received a copy of the GNU Lesser General Public <nl> + / / License along with this library ; if not , write to the Free Software <nl> + / / Foundation , Inc . , 59 Temple Place , Suite 330 , Boston , MA 02111 - 1307 USA <nl> + / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / <nl> + package com . puppycrawl . tools . checkstyle . testinput . coding ; <nl> + <nl> + / * * <nl> + * This Class contains no logic , but serves as test - input for the unit tests for the <nl> + * < code > NestedForDepthCheck < / code > - checkstyle enhancement . <nl> + * @ author Alexander Jesse <nl> + * @ see com . puppycrawl . tools . checkstyle . checks . coding . NestedForDepthCheck <nl> + * / <nl> + public class InputNestedForDepth { <nl> + <nl> + / * * <nl> + * Dummy method containing 5 layers of for - statements . <nl> + * / <nl> + public void nestedForFiveLevel ( ) { <nl> + int i = 0 ; <nl> + int i1 = 0 ; <nl> + int i2 = 0 ; <nl> + int i3 = 0 ; <nl> + int i4 = 0 ; <nl> + int i5 = 0 ; <nl> + <nl> + for ( i1 = 0 ; i1 < 10 ; i1 + + ) { <nl> + for ( i2 = 0 ; i2 < 10 ; i2 + + ) { <nl> + for ( i3 = 0 ; i3 < 10 ; i3 + + ) { <nl> + for ( i4 = 0 ; i4 < 10 ; i4 + + ) { <nl> + for ( i5 = 0 ; i5 < 10 ; i5 + + ) { <nl> + i + = 1 ; <nl> + } <nl> + } <nl> + } <nl> + } <nl> + } <nl> + } <nl> + } <nl> \ No newline at end of file <nl> diff - - git a / src / tests / com / puppycrawl / tools / checkstyle / checks / coding / NestedForDepthCheckTest . java b / src / tests / com / puppycrawl / tools / checkstyle / checks / coding / NestedForDepthCheckTest . java <nl> new file mode 100644 <nl> index 0000000 . . db5071b <nl> - - - / dev / null <nl> + + + b / src / tests / com / puppycrawl / tools / checkstyle / checks / coding / NestedForDepthCheckTest . java <nl> @ @ - 0 , 0 + 1 , 59 @ @ <nl> + package com . puppycrawl . tools . checkstyle . checks . coding ; <nl> + <nl> + import com . puppycrawl . tools . checkstyle . checks . coding . NestedForDepthCheck ; <nl> + import com . puppycrawl . tools . checkstyle . BaseCheckTestSupport ; <nl> + import com . puppycrawl . tools . checkstyle . DefaultConfiguration ; <nl> + import org . junit . Test ; <nl> + <nl> + / * * <nl> + * The unit - test for the < code > NestedForDepthCheck < / code > - checkstyle enhancement . <nl> + * @ see com . puppycrawl . tools . checkstyle . checks . coding . NestedForDepthCheck <nl> + * / <nl> + public class NestedForDepthCheckTest extends BaseCheckTestSupport { <nl> + / * * <nl> + * Call the check allowing 2 layers of nested for - statements . This <nl> + * means the top - level for can contain up to 2 levels of nested for <nl> + * statements . As the testinput has 4 layers of for - statements below <nl> + * the top - level for statement , this must cause 2 error - messages . <nl> + * <nl> + * @ throws Exception necessary to fulfill JUnit ' s <nl> + * interface - requirements for test - methods <nl> + * / <nl> + @ Test <nl> + public void testNestedTooDeep ( ) throws Exception { <nl> + final DefaultConfiguration checkConfig = <nl> + createCheckConfig ( NestedForDepthCheck . class ) ; <nl> + checkConfig . addAttribute ( " max " , " 2 " ) ; <nl> + <nl> + final String [ ] expected = { <nl> + " 43 : 11 : Nested for depth is 3 ( max allowed is 2 ) . " , <nl> + " 44 : 13 : Nested for depth is 4 ( max allowed is 2 ) . " , <nl> + } ; <nl> + <nl> + verify ( checkConfig , getPath ( " coding / InputNestedForDepth . java " ) , <nl> + expected ) ; <nl> + } <nl> + <nl> + / * * <nl> + * Call the check allowing 4 layers of nested for - statements . This <nl> + * means the top - level for can contain up to 4 levels of nested for <nl> + * statements . As the testinput has 4 layers of for - statements below <nl> + * the top - level for statement , this must not cause an <nl> + * error - message . <nl> + * <nl> + * @ throws Exception necessary to fulfill JUnit ' s <nl> + * interface - requirements for test - methods <nl> + * / <nl> + @ Test <nl> + public void testNestedOk ( ) throws Exception { <nl> + final DefaultConfiguration checkConfig = <nl> + createCheckConfig ( NestedForDepthCheck . class ) ; <nl> + checkConfig . addAttribute ( " max " , " 4 " ) ; <nl> + <nl> + final String [ ] expected = { <nl> + } ; <nl> + <nl> + verify ( checkConfig , getPath ( " coding / InputNestedForDepth . java " ) , <nl> + expected ) ; <nl> + } <nl> + } <nl> \ No newline at end of file <nl> diff - - git a / src / xdocs / availablechecks . xml b / src / xdocs / availablechecks . xml <nl> index 1195382 . . bf9609c 100644 <nl> - - - a / src / xdocs / availablechecks . xml <nl> + + + b / src / xdocs / availablechecks . xml <nl> @ @ - 438 , 6 + 438 , 10 @ @ <nl> Checks for braces around code blocks . < / td > <nl> < / tr > <nl> < tr > <nl> + < td > < a href = " config _ coding . html # NestedForDepth " > NestedForDepth < / a > < / td > <nl> + < td > Restricts nested < code > for < / code > blocks to a specified depth ( default = 1 ) . < / td > <nl> + < / tr > <nl> + < tr > <nl> < td > < a href = " config _ coding . html # NestedIfDepth " > NestedIfDepth < / a > < / td > <nl> < td > Restricts nested if - else blocks to a specified depth ( default = 1 ) . < / td > <nl> < / tr > <nl> diff - - git a / src / xdocs / config _ coding . xml b / src / xdocs / config _ coding . xml <nl> index d8bd13c . . 1159d43 100755 <nl> - - - a / src / xdocs / config _ coding . xml <nl> + + + b / src / xdocs / config _ coding . xml <nl> @ @ - 1233 , 6 + 1233 , 62 @ @ if ( & quot ; something & quot ; . equals ( x ) ) <nl> < / subsection > <nl> < / section > <nl> <nl> + < section name = " NestedForDepth " > <nl> + < subsection name = " Description " > <nl> + < p > <nl> + Restricts nested < code > for < / code > blocks to a specified depth <nl> + ( default = 1 ) . <nl> + < / p > <nl> + < / subsection > <nl> + <nl> + < subsection name = " Properties " > <nl> + < table > <nl> + < tr > <nl> + < th > name < / th > <nl> + < th > description < / th > <nl> + < th > type < / th > <nl> + < th > default value < / th > <nl> + < / tr > <nl> + < tr > <nl> + < td > max < / td > <nl> + < td > allowed nesting depth < / td > <nl> + < td > < a href = " property _ types . html # integer " > Integer < / a > < / td > <nl> + < td > < span class = " default " > 1 < / span > < / td > <nl> + < / tr > <nl> + < / table > <nl> + < / subsection > <nl> + <nl> + < subsection name = " Example " > <nl> + < p > <nl> + To configure the check : <nl> + < / p > <nl> + < source > <nl> + & lt ; module name = & quot ; NestedForDepth & quot ; / & gt ; <nl> + < / source > <nl> + <nl> + < p > <nl> + To configure the check to allow nesting depth 3 : <nl> + < / p > <nl> + < source > <nl> + & lt ; module name = & quot ; NestedForDepth & quot ; & gt ; <nl> + & lt ; property name = & quot ; max & quot ; value = & quot ; 3 & quot ; / & gt ; <nl> + & lt ; / module & gt ; <nl> + < / source > <nl> + < / subsection > <nl> + <nl> + < subsection name = " Package " > <nl> + < p > <nl> + com . puppycrawl . tools . checkstyle . checks . coding <nl> + < / p > <nl> + < / subsection > <nl> + <nl> + < subsection name = " Parent Module " > <nl> + < p > <nl> + < a href = " config . html # TreeWalker " > TreeWalker < / a > <nl> + < / p > <nl> + < / subsection > <nl> + < / section > <nl> + <nl> < section name = " NestedIfDepth " > <nl> < subsection name = " Description " > <nl> < p > <nl> diff - - git a / src / xdocs / releasenotes . xml b / src / xdocs / releasenotes . xml <nl> index a546c4c . . 0e15974 100755 <nl> - - - a / src / xdocs / releasenotes . xml <nl> + + + b / src / xdocs / releasenotes . xml <nl> @ @ - 25 , 6 + 25 , 12 @ @ <nl> to optionally check that the package name matches the name of the <nl> directory containing the file . <nl> < / li > <nl> + < li > <nl> + Added < a href = " config _ coding . html # NestedForDepth " > NestedForDepth < / a > <nl> + that restricts nested < code > for < / code > blocks to a specified <nl> + depth ( default = 1 ) . Thanks to Alexander Jesse for patch <nl> + # 1151673 . <nl> + < / li > <nl> < / ul > <nl> < p > Bug fixes : < / p > <nl> < ul >

TEST DIFF:
diff - - git a / src / xdocs / releasenotes . xml b / src / xdocs / releasenotes . xml 
 index 4daf0d3 . . 63c82cb 100644 
 - - - a / src / xdocs / releasenotes . xml 
 + + + b / src / xdocs / releasenotes . xml 
 @ @ - 15 , 6 + 15 , 24 @ @ 
 
 < body > 
 
 + < section name = " Release 6 . 14 . 1 " > 
 + < p > Bug fixes : < / p > 
 + < ul > 
 + < li > 
 + JavaNCSSCheck : unknown format type : numero inteiro . Author : Roman Ivanov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 2728 " > # 2728 < / a > 
 + < / li > 
 + < li > 
 + StringIndexOutOfBoundsException in getCheckShortName method of AuditEventDefaultFormatter . Author : Andrei Selkin < a href = " https : / / github . com / checkstyle / checkstyle / issues / 2780 " > # 2780 < / a > 
 + < / li > 
 + < / ul > 
 + < p > Notes : < / p > 
 + < ul > 
 + < li > 
 + spelling : fix typo in AuditEventFormatter class name . Author : Andrei Selkin 
 + < / li > 
 + < / ul > 
 + < / section > 
 + 
 < section name = " Release 6 . 14 " > 
 < p > Breaking backward compatibility : < / p > 
 < ul >

NEAREST DIFF:
diff - - git a / checkstyle _ checks . xml b / checkstyle _ checks . xml 
 index 97d8393 . . 9af0c88 100755 
 - - - a / checkstyle _ checks . xml 
 + + + b / checkstyle _ checks . xml 
 @ @ - 159 , 6 + 159 , 9 @ @ 
 < property name = " severity " value = " ignore " / > 
 < / module > 
 
 + < module name = " NestedForDepth " > 
 + < property name = " max " value = " 2 " / > 
 + < / module > 
 < module name = " NestedIfDepth " > 
 < property name = " max " value = " 3 " / > 
 < / module > 
 diff - - git a / pom . xml b / pom . xml 
 index 98488a1 . . 04fbd64 100755 
 - - - a / pom . xml 
 + + + b / pom . xml 
 @ @ - 8 , 7 + 8 , 7 @ @ 
 < groupId > org . sonatype . oss < / groupId > 
 < version > 5 < / version > 
 < / parent > 
 - 
 + 
 < modelVersion > 4 . 0 . 0 < / modelVersion > 
 < groupId > com . puppycrawl . tools < / groupId > 
 < artifactId > checkstyle < / artifactId > 
 diff - - git a / src / checkstyle / com / puppycrawl / tools / checkstyle / checks / coding / NestedForDepthCheck . java b / src / checkstyle / com / puppycrawl / tools / checkstyle / checks / coding / NestedForDepthCheck . java 
 new file mode 100644 
 index 0000000 . . 584d8df 
 - - - / dev / null 
 + + + b / src / checkstyle / com / puppycrawl / tools / checkstyle / checks / coding / NestedForDepthCheck . java 
 @ @ - 0 , 0 + 1 , 75 @ @ 
 + / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / 
 + / / checkstyle : Checks Java source code for adherence to a set of rules . 
 + / / Copyright ( C ) 2001 - 2010 Oliver Burn 
 + / / 
 + / / This library is free software ; you can redistribute it and / or 
 + / / modify it under the terms of the GNU Lesser General Public 
 + / / License as published by the Free Software Foundation ; either 
 + / / version 2 . 1 of the License , or ( at your option ) any later version . 
 + / / 
 + / / This library is distributed in the hope that it will be useful , 
 + / / but WITHOUT ANY WARRANTY ; without even the implied warranty of 
 + / / MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE . See the GNU 
 + / / Lesser General Public License for more details . 
 + / / 
 + / / You should have received a copy of the GNU Lesser General Public 
 + / / License along with this library ; if not , write to the Free Software 
 + / / Foundation , Inc . , 59 Temple Place , Suite 330 , Boston , MA 02111 - 1307 USA 
 + / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / 
 + package com . puppycrawl . tools . checkstyle . checks . coding ; 
 + 
 + import com . puppycrawl . tools . checkstyle . api . DetailAST ; 
 + import com . puppycrawl . tools . checkstyle . api . TokenTypes ; 
 + 
 + / * * 
 + * Check the number of nested < code > for < / code > - statements . The maximum 
 + * number of nested layers can be configured . The default value is 1 . Most of 
 + * the logic is implemented in the parent class . The code for the class is 
 + * copied from the NestedIfDepthCheck - class . The only difference is the 
 + * intercepted token ( for instead of if ) . Example : 
 + * < pre > 
 + * & lt ; ! - - Restricts nested for blocks to a specified depth ( default = 1 ) . 
 + * - - & gt ; 
 + * & lt ; module name = & quot ; com . puppycrawl . tools . checkstyle . checks . coding 
 + * . CatchWithLostStackCheck & quot ; & gt ; 
 + * & lt ; property name = & quot ; severity & quot ; value = & quot ; info & quot ; / & gt ; 
 + * & lt ; property name = & quot ; max & quot ; value = & quot ; 1 & quot ; / & gt ; 
 + * & lt ; / module & gt ; 
 + * < / pre > 
 + * @ author Alexander Jesse 
 + * @ see com . puppycrawl . tools . checkstyle . checks . coding . AbstractNestedDepthCheck 
 + * @ see com . puppycrawl . tools . checkstyle . checks . coding . NestedIfDepthCheck 
 + * / 
 + public final class NestedForDepthCheck extends AbstractNestedDepthCheck 
 + { 
 + / * * default allowed nesting depth . * / 
 + private static final int DEFAULT _ MAX = 1 ; 
 + 
 + / * * Creates new check instance with default allowed nesting depth . * / 
 + public NestedForDepthCheck ( ) 
 + { 
 + super ( DEFAULT _ MAX ) ; 
 + } 
 + 
 + @ Override 
 + public int [ ] getDefaultTokens ( ) 
 + { 
 + return new int [ ] { TokenTypes . LITERAL _ FOR } ; 
 + } 
 + 
 + @ Override 
 + public void visitToken ( DetailAST aAST ) 
 + { 
 + if ( TokenTypes . LITERAL _ FOR = = aAST . getType ( ) ) { 
 + nestIn ( aAST , " nested . for . depth " ) ; 
 + } 
 + } 
 + 
 + @ Override 
 + public void leaveToken ( DetailAST aAST ) 
 + { 
 + if ( TokenTypes . LITERAL _ FOR = = aAST . getType ( ) ) { 
 + nestOut ( ) ; 
 + } 
 + } 
 + } 
 diff - - git a / src / checkstyle / com / puppycrawl / tools / checkstyle / checks / coding / messages . properties b / src / checkstyle / com / puppycrawl / tools / checkstyle / checks / coding / messages . properties 
 index 719e324 . . 6036d96 100644 
 - - - a / src / checkstyle / com / puppycrawl / tools / checkstyle / checks / coding / messages . properties 
 + + + b / src / checkstyle / com / puppycrawl / tools / checkstyle / checks / coding / messages . properties 
 @ @ - 40 , 6 + 40 , 7 @ @ modified . control . variable = Control variable ' ' { 0 } ' ' is modified . 
 multiple . string . literal = The String { 0 } appears { 1 } times in the file . 
 multiple . variable . declarations = Only one variable definition per line allowed . 
 multiple . variable . declarations . comma = Each variable declaration must be in its own statement . 
 + nested . for . depth = Nested for depth is { 0 , number , integer } ( max allowed is { 1 , number , integer } ) . 
 nested . if . depth = Nested if - else depth is { 0 , number , integer } ( max allowed is { 1 , number , integer } ) . 
 nested . try . depth = Nested try depth is { 0 , number , integer } ( max allowed is { 1 , number , integer } ) . 
 parameter . assignment = Assignment of parameter ' ' { 0 } ' ' is not allowed . 
 diff - - git a / src / testinputs / com / puppycrawl / tools / checkstyle / coding / InputNestedForDepth . java b / src / testinputs / com / puppycrawl / tools / checkstyle / coding / InputNestedForDepth . java 
 new file mode 100644 
 index 0000000 . . 7dad11a 
 - - - / dev / null 
 + + + b / src / testinputs / com / puppycrawl / tools / checkstyle / coding / InputNestedForDepth . java 
 @ @ - 0 , 0 + 1 , 52 @ @ 
 + / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / 
 + / / checkstyle : Checks Java source code for adherence to a set of rules . 
 + / / Copyright ( C ) 2001 - 2004 Oliver Burn 
 + / / 
 + / / This library is free software ; you can redistribute it and / or 
 + / / modify it under the terms of the GNU Lesser General Public 
 + / / License as published by the Free Software Foundation ; either 
 + / / version 2 . 1 of the License , or ( at your option ) any later version . 
 + / / 
 + / / This library is distributed in the hope that it will be useful , 
 + / / but WITHOUT ANY WARRANTY ; without even the implied warranty of 
 + / / MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE . See the GNU 
 + / / Lesser General Public License for more details . 
 + / / 
 + / / You should have received a copy of the GNU Lesser General Public 
 + / / License along with this library ; if not , write to the Free Software 
 + / / Foundation , Inc . , 59 Temple Place , Suite 330 , Boston , MA 02111 - 1307 USA 
 + / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / 
 + package com . puppycrawl . tools . checkstyle . testinput . coding ; 
 + 
 + / * * 
 + * This Class contains no logic , but serves as test - input for the unit tests for the 
 + * < code > NestedForDepthCheck < / code > - checkstyle enhancement . 
 + * @ author Alexander Jesse 
 + * @ see com . puppycrawl . tools . checkstyle . checks . coding . NestedForDepthCheck 
 + * / 
 + public class InputNestedForDepth { 
 + 
 + / * * 
 + * Dummy method containing 5 layers of for - statements . 
 + * / 
 + public void nestedForFiveLevel ( ) { 
 + int i = 0 ; 
 + int i1 = 0 ; 
 + int i2 = 0 ; 
 + int i3 = 0 ; 
 + int i4 = 0 ; 
 + int i5 = 0 ; 
 + 
 + for ( i1 = 0 ; i1 < 10 ; i1 + + ) { 
 + for ( i2 = 0 ; i2 < 10 ; i2 + + ) { 
 + for ( i3 = 0 ; i3 < 10 ; i3 + + ) { 
 + for ( i4 = 0 ; i4 < 10 ; i4 + + ) { 
 + for ( i5 = 0 ; i5 < 10 ; i5 + + ) { 
 + i + = 1 ; 
 + } 
 + } 
 + } 
 + } 
 + } 
 + } 
 + } 
 \ No newline at end of file 
 diff - - git a / src / tests / com / puppycrawl / tools / checkstyle / checks / coding / NestedForDepthCheckTest . java b / src / tests / com / puppycrawl / tools / checkstyle / checks / coding / NestedForDepthCheckTest . java 
 new file mode 100644 
 index 0000000 . . db5071b 
 - - - / dev / null 
 + + + b / src / tests / com / puppycrawl / tools / checkstyle / checks / coding / NestedForDepthCheckTest . java 
 @ @ - 0 , 0 + 1 , 59 @ @ 
 + package com . puppycrawl . tools . checkstyle . checks . coding ; 
 + 
 + import com . puppycrawl . tools . checkstyle . checks . coding . NestedForDepthCheck ; 
 + import com . puppycrawl . tools . checkstyle . BaseCheckTestSupport ; 
 + import com . puppycrawl . tools . checkstyle . DefaultConfiguration ; 
 + import org . junit . Test ; 
 + 
 + / * * 
 + * The unit - test for the < code > NestedForDepthCheck < / code > - checkstyle enhancement . 
 + * @ see com . puppycrawl . tools . checkstyle . checks . coding . NestedForDepthCheck 
 + * / 
 + public class NestedForDepthCheckTest extends BaseCheckTestSupport { 
 + / * * 
 + * Call the check allowing 2 layers of nested for - statements . This 
 + * means the top - level for can contain up to 2 levels of nested for 
 + * statements . As the testinput has 4 layers of for - statements below 
 + * the top - level for statement , this must cause 2 error - messages . 
 + * 
 + * @ throws Exception necessary to fulfill JUnit ' s 
 + * interface - requirements for test - methods 
 + * / 
 + @ Test 
 + public void testNestedTooDeep ( ) throws Exception { 
 + final DefaultConfiguration checkConfig = 
 + createCheckConfig ( NestedForDepthCheck . class ) ; 
 + checkConfig . addAttribute ( " max " , " 2 " ) ; 
 + 
 + final String [ ] expected = { 
 + " 43 : 11 : Nested for depth is 3 ( max allowed is 2 ) . " , 
 + " 44 : 13 : Nested for depth is 4 ( max allowed is 2 ) . " , 
 + } ; 
 + 
 + verify ( checkConfig , getPath ( " coding / InputNestedForDepth . java " ) , 
 + expected ) ; 
 + } 
 + 
 + / * * 
 + * Call the check allowing 4 layers of nested for - statements . This 
 + * means the top - level for can contain up to 4 levels of nested for 
 + * statements . As the testinput has 4 layers of for - statements below 
 + * the top - level for statement , this must not cause an 
 + * error - message . 
 + * 
 + * @ throws Exception necessary to fulfill JUnit ' s 
 + * interface - requirements for test - methods 
 + * / 
 + @ Test 
 + public void testNestedOk ( ) throws Exception { 
 + final DefaultConfiguration checkConfig = 
 + createCheckConfig ( NestedForDepthCheck . class ) ; 
 + checkConfig . addAttribute ( " max " , " 4 " ) ; 
 + 
 + final String [ ] expected = { 
 + } ; 
 + 
 + verify ( checkConfig , getPath ( " coding / InputNestedForDepth . java " ) , 
 + expected ) ; 
 + } 
 + } 
 \ No newline at end of file 
 diff - - git a / src / xdocs / availablechecks . xml b / src / xdocs / availablechecks . xml 
 index 1195382 . . bf9609c 100644 
 - - - a / src / xdocs / availablechecks . xml 
 + + + b / src / xdocs / availablechecks . xml 
 @ @ - 438 , 6 + 438 , 10 @ @ 
 Checks for braces around code blocks . < / td > 
 < / tr > 
 < tr > 
 + < td > < a href = " config _ coding . html # NestedForDepth " > NestedForDepth < / a > < / td > 
 + < td > Restricts nested < code > for < / code > blocks to a specified depth ( default = 1 ) . < / td > 
 + < / tr > 
 + < tr > 
 < td > < a href = " config _ coding . html # NestedIfDepth " > NestedIfDepth < / a > < / td > 
 < td > Restricts nested if - else blocks to a specified depth ( default = 1 ) . < / td > 
 < / tr > 
 diff - - git a / src / xdocs / config _ coding . xml b / src / xdocs / config _ coding . xml 
 index d8bd13c . . 1159d43 100755 
 - - - a / src / xdocs / config _ coding . xml 
 + + + b / src / xdocs / config _ coding . xml 
 @ @ - 1233 , 6 + 1233 , 62 @ @ if ( & quot ; something & quot ; . equals ( x ) ) 
 < / subsection > 
 < / section > 
 
 + < section name = " NestedForDepth " > 
 + < subsection name = " Description " > 
 + < p > 
 + Restricts nested < code > for < / code > blocks to a specified depth 
 + ( default = 1 ) . 
 + < / p > 
 + < / subsection > 
 + 
 + < subsection name = " Properties " > 
 + < table > 
 + < tr > 
 + < th > name < / th > 
 + < th > description < / th > 
 + < th > type < / th > 
 + < th > default value < / th > 
 + < / tr > 
 + < tr > 
 + < td > max < / td > 
 + < td > allowed nesting depth < / td > 
 + < td > < a href = " property _ types . html # integer " > Integer < / a > < / td > 
 + < td > < span class = " default " > 1 < / span > < / td > 
 + < / tr > 
 + < / table > 
 + < / subsection > 
 + 
 + < subsection name = " Example " > 
 + < p > 
 + To configure the check : 
 + < / p > 
 + < source > 
 + & lt ; module name = & quot ; NestedForDepth & quot ; / & gt ; 
 + < / source > 
 + 
 + < p > 
 + To configure the check to allow nesting depth 3 : 
 + < / p > 
 + < source > 
 + & lt ; module name = & quot ; NestedForDepth & quot ; & gt ; 
 + & lt ; property name = & quot ; max & quot ; value = & quot ; 3 & quot ; / & gt ; 
 + & lt ; / module & gt ; 
 + < / source > 
 + < / subsection > 
 + 
 + < subsection name = " Package " > 
 + < p > 
 + com . puppycrawl . tools . checkstyle . checks . coding 
 + < / p > 
 + < / subsection > 
 + 
 + < subsection name = " Parent Module " > 
 + < p > 
 + < a href = " config . html # TreeWalker " > TreeWalker < / a > 
 + < / p > 
 + < / subsection > 
 + < / section > 
 + 
 < section name = " NestedIfDepth " > 
 < subsection name = " Description " > 
 < p > 
 diff - - git a / src / xdocs / releasenotes . xml b / src / xdocs / releasenotes . xml 
 index a546c4c . . 0e15974 100755 
 - - - a / src / xdocs / releasenotes . xml 
 + + + b / src / xdocs / releasenotes . xml 
 @ @ - 25 , 6 + 25 , 12 @ @ 
 to optionally check that the package name matches the name of the 
 directory containing the file . 
 < / li > 
 + < li > 
 + Added < a href = " config _ coding . html # NestedForDepth " > NestedForDepth < / a > 
 + that restricts nested < code > for < / code > blocks to a specified 
 + depth ( default = 1 ) . Thanks to Alexander Jesse for patch 
 + # 1151673 . 
 + < / li > 
 < / ul > 
 < p > Bug fixes : < / p > 
 < ul >
