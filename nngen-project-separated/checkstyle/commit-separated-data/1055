BLEU SCORE: 0.052096969065434415

TEST MSG: Issue # 3170 : delete children from javadoc TEXT
GENERATED MSG: Issue # 3431 : AST printer modified to print javadoc in comment block , tests added

TEST DIFF (one line): diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / JavadocDetailNodeParser . java b / src / main / java / com / puppycrawl / tools / checkstyle / JavadocDetailNodeParser . java <nl> index 85adb62 . . 70adc5f 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / JavadocDetailNodeParser . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / JavadocDetailNodeParser . java <nl> @ @ - 34 , 6 + 34 , 7 @ @ import org . antlr . v4 . runtime . tree . TerminalNode ; <nl> import com . google . common . base . CaseFormat ; <nl> import com . puppycrawl . tools . checkstyle . api . DetailAST ; <nl> import com . puppycrawl . tools . checkstyle . api . DetailNode ; <nl> + import com . puppycrawl . tools . checkstyle . api . JavadocTokenTypes ; <nl> import com . puppycrawl . tools . checkstyle . checks . javadoc . JavadocNodeImpl ; <nl> import com . puppycrawl . tools . checkstyle . grammars . javadoc . JavadocLexer ; <nl> import com . puppycrawl . tools . checkstyle . grammars . javadoc . JavadocParser ; <nl> @ @ - 181 , 6 + 182 , 12 @ @ public class JavadocDetailNodeParser { <nl> ParseTree parseTreeParent = parseTreeNode ; <nl> <nl> while ( currentJavadocParent ! = null ) { <nl> + / / remove unnecessary children tokens <nl> + if ( currentJavadocParent . getType ( ) = = JavadocTokenTypes . TEXT ) { <nl> + currentJavadocParent <nl> + . setChildren ( ( DetailNode [ ] ) JavadocNodeImpl . EMPTY _ DETAIL _ NODE _ ARRAY ) ; <nl> + } <nl> + <nl> final JavadocNodeImpl [ ] children = <nl> ( JavadocNodeImpl [ ] ) currentJavadocParent . getChildren ( ) ; <nl> <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / api / TokenTypes . java b / src / main / java / com / puppycrawl / tools / checkstyle / api / TokenTypes . java <nl> index 5ddc321 . . 950e1e2 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / api / TokenTypes . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / api / TokenTypes . java <nl> @ @ - 3399 , 7 + 3399 , 7 @ @ public final class TokenTypes { <nl> / * * <nl> * Text of single - line or block comment . <nl> * <nl> - * < pre > <nl> + * < pre > <nl> * + - - SINGLE _ LINE _ COMMENT <nl> * | <nl> * + - - COMMENT _ CONTENT <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocNodeImpl . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocNodeImpl . java <nl> index 1634d95 . . 25616fe 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocNodeImpl . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocNodeImpl . java <nl> @ @ - 35 , 7 + 35 , 7 @ @ public class JavadocNodeImpl implements DetailNode { <nl> / * * <nl> * Empty array of { @ link DetailNode } type . <nl> * / <nl> - private static final DetailNode [ ] EMPTY _ DETAIL _ NODE _ ARRAY = new DetailNode [ 0 ] ; <nl> + public static final JavadocNodeImpl [ ] EMPTY _ DETAIL _ NODE _ ARRAY = new JavadocNodeImpl [ 0 ] ; <nl> <nl> / * * <nl> * Node index among parent ' s children . <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocParagraphCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocParagraphCheck . java <nl> index d77cef8 . . 99c9b31 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocParagraphCheck . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocParagraphCheck . java <nl> @ @ - 151 , 7 + 151 , 8 @ @ public class JavadocParagraphCheck extends AbstractJavadocCheck { <nl> * / <nl> private void checkEmptyLine ( DetailNode newline ) { <nl> final DetailNode nearestToken = getNearestNode ( newline ) ; <nl> - if ( ! isLastEmptyLine ( newline ) & & nearestToken . getChildren ( ) . length > 1 ) { <nl> + if ( ! isLastEmptyLine ( newline ) & & nearestToken . getType ( ) = = JavadocTokenTypes . TEXT <nl> + & & ! nearestToken . getText ( ) . trim ( ) . isEmpty ( ) ) { <nl> log ( newline . getLineNumber ( ) , MSG _ TAG _ AFTER ) ; <nl> } <nl> } <nl> @ @ - 199 , 7 + 200 , 7 @ @ public class JavadocParagraphCheck extends AbstractJavadocCheck { <nl> return false ; <nl> } <nl> if ( previousSibling . getType ( ) = = JavadocTokenTypes . TEXT <nl> - & & previousSibling . getChildren ( ) . length = = 1 ) { <nl> + & & previousSibling . getText ( ) . trim ( ) . isEmpty ( ) ) { <nl> previousSibling = JavadocUtils . getPreviousSibling ( previousSibling ) ; <nl> } <nl> return previousSibling ! = null <nl> @ @ - 215 , 7 + 216 , 7 @ @ public class JavadocParagraphCheck extends AbstractJavadocCheck { <nl> DetailNode previousNode = JavadocUtils . getPreviousSibling ( paragraphTag ) ; <nl> while ( previousNode ! = null ) { <nl> if ( previousNode . getType ( ) = = JavadocTokenTypes . TEXT <nl> - & & previousNode . getChildren ( ) . length > 1 <nl> + & & ! previousNode . getText ( ) . trim ( ) . isEmpty ( ) <nl> | | previousNode . getType ( ) ! = JavadocTokenTypes . LEADING _ ASTERISK <nl> & & previousNode . getType ( ) ! = JavadocTokenTypes . NEWLINE <nl> & & previousNode . getType ( ) ! = JavadocTokenTypes . TEXT ) { <nl> @ @ - 252 , 7 + 253 , 7 @ @ public class JavadocParagraphCheck extends AbstractJavadocCheck { <nl> DetailNode nextNode = JavadocUtils . getNextSibling ( newLine ) ; <nl> while ( nextNode ! = null & & nextNode . getType ( ) ! = JavadocTokenTypes . JAVADOC _ TAG ) { <nl> if ( nextNode . getType ( ) = = JavadocTokenTypes . TEXT <nl> - & & nextNode . getChildren ( ) . length > 1 <nl> + & & ! nextNode . getText ( ) . trim ( ) . isEmpty ( ) <nl> | | nextNode . getType ( ) = = JavadocTokenTypes . HTML _ ELEMENT ) { <nl> return false ; <nl> } <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocTagContinuationIndentationCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocTagContinuationIndentationCheck . java <nl> index 2e7b799 . . 93201bc 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocTagContinuationIndentationCheck . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocTagContinuationIndentationCheck . java <nl> @ @ - 94 , 10 + 94 , 11 @ @ public class JavadocTagContinuationIndentationCheck extends AbstractJavadocCheck <nl> for ( DetailNode newlineNode : textNodes ) { <nl> final DetailNode textNode = JavadocUtils . getNextSibling ( JavadocUtils <nl> . getNextSibling ( newlineNode ) ) ; <nl> - if ( textNode ! = null & & textNode . getType ( ) = = JavadocTokenTypes . TEXT <nl> - & & textNode . getChildren ( ) . length > 1 ) { <nl> - final DetailNode whitespace = JavadocUtils . getFirstChild ( textNode ) ; <nl> - if ( whitespace . getText ( ) . length ( ) - 1 < offset ) { <nl> + if ( textNode ! = null & & textNode . getType ( ) = = JavadocTokenTypes . TEXT ) { <nl> + final String text = textNode . getText ( ) ; <nl> + if ( ! text . trim ( ) . isEmpty ( ) <nl> + & & ( text . length ( ) < = offset <nl> + | | ! text . substring ( 1 , offset + 1 ) . trim ( ) . isEmpty ( ) ) ) { <nl> log ( textNode . getLineNumber ( ) , MSG _ KEY , offset ) ; <nl> } <nl> } <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / SummaryJavadocCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / SummaryJavadocCheck . java <nl> index d05777c . . 50ed52a 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / SummaryJavadocCheck . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / SummaryJavadocCheck . java <nl> @ @ - 26 , 7 + 26 , 6 @ @ import com . puppycrawl . tools . checkstyle . api . DetailNode ; <nl> import com . puppycrawl . tools . checkstyle . api . JavadocTokenTypes ; <nl> import com . puppycrawl . tools . checkstyle . api . TokenTypes ; <nl> import com . puppycrawl . tools . checkstyle . utils . CommonUtils ; <nl> - import com . puppycrawl . tools . checkstyle . utils . JavadocUtils ; <nl> <nl> / * * <nl> * < p > <nl> @ @ - 157 , 30 + 156 , 15 @ @ public class SummaryJavadocCheck extends AbstractJavadocCheck { <nl> final StringBuilder result = new StringBuilder ( ) ; <nl> final String periodSuffix = PERIOD + ' ' ; <nl> for ( DetailNode child : ast . getChildren ( ) ) { <nl> + final String text = child . getText ( ) ; <nl> + <nl> if ( child . getType ( ) ! = JavadocTokenTypes . JAVADOC _ INLINE _ TAG <nl> - & & child . getText ( ) . contains ( periodSuffix ) ) { <nl> - result . append ( getCharsTillDot ( child ) ) ; <nl> + & & text . contains ( periodSuffix ) ) { <nl> + result . append ( text . substring ( 0 , text . indexOf ( periodSuffix ) + 1 ) ) ; <nl> break ; <nl> } <nl> else { <nl> - result . append ( child . getText ( ) ) ; <nl> - } <nl> - } <nl> - return result . toString ( ) ; <nl> - } <nl> - <nl> - / * * <nl> - * Finds and returns chars till first dot . <nl> - * @ param textNode node with javadoc text . <nl> - * @ return String with chars till first dot . <nl> - * / <nl> - private static String getCharsTillDot ( DetailNode textNode ) { <nl> - final StringBuilder result = new StringBuilder ( ) ; <nl> - for ( DetailNode child : textNode . getChildren ( ) ) { <nl> - result . append ( child . getText ( ) ) ; <nl> - if ( PERIOD . equals ( child . getText ( ) ) <nl> - & & JavadocUtils . getNextSibling ( child ) . getType ( ) = = JavadocTokenTypes . WS ) { <nl> - break ; <nl> + result . append ( text ) ; <nl> } <nl> } <nl> return result . toString ( ) ; <nl> diff - - git a / src / site / resources / images / gui _ javadoc _ screenshot . png b / src / site / resources / images / gui _ javadoc _ screenshot . png <nl> index 9ae7f5c . . 2a82123 100644 <nl> Binary files a / src / site / resources / images / gui _ javadoc _ screenshot . png and b / src / site / resources / images / gui _ javadoc _ screenshot . png differ <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / checks / javadoc / AbstractJavadocCheckTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / checks / javadoc / AbstractJavadocCheckTest . java <nl> index 5aa22d4 . . 1e4e719 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / checks / javadoc / AbstractJavadocCheckTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / checks / javadoc / AbstractJavadocCheckTest . java <nl> @ @ - 336 , 7 + 336 , 7 @ @ public class AbstractJavadocCheckTest extends BaseCheckTestSupport { <nl> <nl> @ Override <nl> public int [ ] getRequiredJavadocTokens ( ) { <nl> - return new int [ ] { JavadocTokenTypes . CHAR } ; <nl> + return new int [ ] { JavadocTokenTypes . TEXT } ; <nl> } <nl> <nl> @ Override <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocTagContinuationIndentationCheckTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocTagContinuationIndentationCheckTest . java <nl> index ce368fd . . a4d2ed4 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocTagContinuationIndentationCheckTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocTagContinuationIndentationCheckTest . java <nl> @ @ - 73 , 6 + 73 , 7 @ @ public class JavadocTagContinuationIndentationCheckTest <nl> " 290 : " + getCheckMessage ( MSG _ KEY , 4 ) , <nl> " 310 : " + getCheckMessage ( MSG _ KEY , 4 ) , <nl> " 322 : " + getCheckMessage ( MSG _ KEY , 4 ) , <nl> + " 324 : " + getCheckMessage ( MSG _ KEY , 4 ) , <nl> } ; <nl> verify ( checkConfig , getPath ( " InputJavaDocTagContinuationIndentation . java " ) , <nl> expected ) ; <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / gui / CodeSelectorPModelTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / gui / CodeSelectorPModelTest . java <nl> index db86f0d . . ba02966 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / gui / CodeSelectorPModelTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / gui / CodeSelectorPModelTest . java <nl> @ @ - 108 , 13 + 108 , 13 @ @ public class CodeSelectorPModelTest { <nl> <nl> @ Test <nl> public void testDetailNodeLeafSelection ( ) { <nl> - final DetailNode javadocLeaf = ( ( DetailNode ) model . getParseTreeTableModel ( ) <nl> - . getChild ( tree . getFirstChild ( ) . getNextSibling ( ) . getFirstChild ( ) , 0 ) ) <nl> - . getChildren ( ) [ 2 ] . getChildren ( ) [ 0 ] ; <nl> + final DetailNode javadoc = ( DetailNode ) model . getParseTreeTableModel ( ) <nl> + . getChild ( tree . getFirstChild ( ) . getNextSibling ( ) . getFirstChild ( ) , 0 ) ; <nl> + final DetailNode javadocLeaf = javadoc . getChildren ( ) [ 2 ] ; <nl> final CodeSelectorPModel selector = new CodeSelectorPModel ( javadocLeaf , linesToPosition ) ; <nl> selector . findSelectionPositions ( ) ; <nl> Assert . assertEquals ( 5 , selector . getSelectionStart ( ) ) ; <nl> - Assert . assertEquals ( 6 , selector . getSelectionEnd ( ) ) ; <nl> + Assert . assertEquals ( 19 , selector . getSelectionEnd ( ) ) ; <nl> } <nl> <nl> } <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputAstTreeStringPrinterAttributesAndMethodsJavadoc . txt b / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputAstTreeStringPrinterAttributesAndMethodsJavadoc . txt <nl> index 8e34583 . . 0da4646 100644 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputAstTreeStringPrinterAttributesAndMethodsJavadoc . txt <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputAstTreeStringPrinterAttributesAndMethodsJavadoc . txt <nl> @ @ - 6 , 20 + 6 , 6 @ @ CLASS _ DEF - > CLASS _ DEF [ 4 : 0 ] <nl> | | | - - NEWLINE - > \ n [ 1 : 0 ] <nl> | | | - - LEADING _ ASTERISK - > * [ 2 : 0 ] <nl> | | | - - TEXT - > class javadoc [ 2 : 1 ] <nl> - | | | | - - WS - > [ 2 : 1 ] <nl> - | | | | - - CHAR - > c [ 2 : 2 ] <nl> - | | | | - - CHAR - > l [ 2 : 3 ] <nl> - | | | | - - CHAR - > a [ 2 : 4 ] <nl> - | | | | - - CHAR - > s [ 2 : 5 ] <nl> - | | | | - - CHAR - > s [ 2 : 6 ] <nl> - | | | | - - WS - > [ 2 : 7 ] <nl> - | | | | - - CHAR - > j [ 2 : 8 ] <nl> - | | | | - - CHAR - > a [ 2 : 9 ] <nl> - | | | | - - CHAR - > v [ 2 : 10 ] <nl> - | | | | - - CHAR - > a [ 2 : 11 ] <nl> - | | | | - - CHAR - > d [ 2 : 12 ] <nl> - | | | | - - CHAR - > o [ 2 : 13 ] <nl> - | | | ` - - CHAR - > c [ 2 : 14 ] <nl> | | | - - NEWLINE - > \ n [ 2 : 15 ] <nl> | | ` - - EOF - > < EOF > [ 3 : 0 ] <nl> | ` - - BLOCK _ COMMENT _ END - > * / [ 3 : 0 ] <nl> @ @ - 34 , 24 + 20 , 6 @ @ CLASS _ DEF - > CLASS _ DEF [ 4 : 0 ] <nl> | | | | - - COMMENT _ CONTENT - > * attribute javadoc [ 6 : 6 ] <nl> | | | | ` - - JAVADOC - > attribute javadoc < EOF > [ 6 : 0 ] <nl> | | | | | - - TEXT - > attribute javadoc [ 6 : 0 ] <nl> - | | | | | | - - WS - > [ 6 : 0 ] <nl> - | | | | | | - - CHAR - > a [ 6 : 1 ] <nl> - | | | | | | - - CHAR - > t [ 6 : 2 ] <nl> - | | | | | | - - CHAR - > t [ 6 : 3 ] <nl> - | | | | | | - - CHAR - > r [ 6 : 4 ] <nl> - | | | | | | - - CHAR - > i [ 6 : 5 ] <nl> - | | | | | | - - CHAR - > b [ 6 : 6 ] <nl> - | | | | | | - - CHAR - > u [ 6 : 7 ] <nl> - | | | | | | - - CHAR - > t [ 6 : 8 ] <nl> - | | | | | | - - CHAR - > e [ 6 : 9 ] <nl> - | | | | | | - - WS - > [ 6 : 10 ] <nl> - | | | | | | - - CHAR - > j [ 6 : 11 ] <nl> - | | | | | | - - CHAR - > a [ 6 : 12 ] <nl> - | | | | | | - - CHAR - > v [ 6 : 13 ] <nl> - | | | | | | - - CHAR - > a [ 6 : 14 ] <nl> - | | | | | | - - CHAR - > d [ 6 : 15 ] <nl> - | | | | | | - - CHAR - > o [ 6 : 16 ] <nl> - | | | | | ` - - CHAR - > c [ 6 : 17 ] <nl> | | | | ` - - EOF - > < EOF > [ 6 : 18 ] <nl> | | | ` - - BLOCK _ COMMENT _ END - > * / [ 6 : 24 ] <nl> | | ` - - LITERAL _ INT - > int [ 7 : 4 ] <nl> @ @ - 65 , 24 + 33 , 8 @ @ CLASS _ DEF - > CLASS _ DEF [ 4 : 0 ] <nl> | | | | | - - NEWLINE - > \ n [ 9 : 0 ] <nl> | | | | | - - LEADING _ ASTERISK - > * [ 10 : 0 ] <nl> | | | | | - - TEXT - > method javadoc [ 10 : 5 ] <nl> - | | | | | | - - WS - > [ 10 : 5 ] <nl> - | | | | | | - - CHAR - > m [ 10 : 6 ] <nl> - | | | | | | - - CHAR - > e [ 10 : 7 ] <nl> - | | | | | | - - CHAR - > t [ 10 : 8 ] <nl> - | | | | | | - - CHAR - > h [ 10 : 9 ] <nl> - | | | | | | - - CHAR - > o [ 10 : 10 ] <nl> - | | | | | | - - CHAR - > d [ 10 : 11 ] <nl> - | | | | | | - - WS - > [ 10 : 12 ] <nl> - | | | | | | - - CHAR - > j [ 10 : 13 ] <nl> - | | | | | | - - CHAR - > a [ 10 : 14 ] <nl> - | | | | | | - - CHAR - > v [ 10 : 15 ] <nl> - | | | | | | - - CHAR - > a [ 10 : 16 ] <nl> - | | | | | | - - CHAR - > d [ 10 : 17 ] <nl> - | | | | | | - - CHAR - > o [ 10 : 18 ] <nl> - | | | | | ` - - CHAR - > c [ 10 : 19 ] <nl> | | | | | - - NEWLINE - > \ n [ 10 : 20 ] <nl> | | | | | - - TEXT - > [ 11 : 0 ] <nl> - | | | | | ` - - WS - > [ 11 : 0 ] <nl> | | | | ` - - EOF - > < EOF > [ 11 : 4 ] <nl> | | | ` - - BLOCK _ COMMENT _ END - > * / [ 11 : 4 ] <nl> | | ` - - LITERAL _ PUBLIC - > public [ 12 : 4 ] <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputAstTreeStringPrinterJavaAndJavadoc . txt b / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputAstTreeStringPrinterJavaAndJavadoc . txt <nl> index 5fd21db . . 2691045 100644 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputAstTreeStringPrinterJavaAndJavadoc . txt <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputAstTreeStringPrinterJavaAndJavadoc . txt <nl> @ @ - 6 , 16 + 6 , 6 @ @ CLASS _ DEF - > CLASS _ DEF [ 4 : 0 ] <nl> | | | | - - NEWLINE - > \ n [ 1 : 0 ] <nl> | | | | - - LEADING _ ASTERISK - > * [ 2 : 0 ] <nl> | | | | - - TEXT - > some text [ 2 : 1 ] <nl> - | | | | | - - WS - > [ 2 : 1 ] <nl> - | | | | | - - CHAR - > s [ 2 : 2 ] <nl> - | | | | | - - CHAR - > o [ 2 : 3 ] <nl> - | | | | | - - CHAR - > m [ 2 : 4 ] <nl> - | | | | | - - CHAR - > e [ 2 : 5 ] <nl> - | | | | | - - WS - > [ 2 : 6 ] <nl> - | | | | | - - CHAR - > t [ 2 : 7 ] <nl> - | | | | | - - CHAR - > e [ 2 : 8 ] <nl> - | | | | | - - CHAR - > x [ 2 : 9 ] <nl> - | | | | ` - - CHAR - > t [ 2 : 10 ] <nl> | | | | - - NEWLINE - > \ n [ 2 : 11 ] <nl> | | | ` - - EOF - > < EOF > [ 3 : 0 ] <nl> | | ` - - BLOCK _ COMMENT _ END - > * / [ 3 : 0 ] <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputAstTreeStringPrinterJavadoc . txt b / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputAstTreeStringPrinterJavadoc . txt <nl> index 066053e . . 22f7b93 100644 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputAstTreeStringPrinterJavadoc . txt <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputAstTreeStringPrinterJavadoc . txt <nl> @ @ - 14 , 13 + 14 , 6 @ @ CLASS _ DEF - > CLASS _ DEF [ 4 : 0 ] <nl> | | - - COMMENT _ CONTENT - > * javadoc [ 3 : 2 ] <nl> | | ` - - JAVADOC - > javadoc < EOF > [ 3 : 0 ] <nl> | | | - - TEXT - > javadoc [ 3 : 0 ] <nl> - | | | | - - CHAR - > j [ 3 : 0 ] <nl> - | | | | - - CHAR - > a [ 3 : 1 ] <nl> - | | | | - - CHAR - > v [ 3 : 2 ] <nl> - | | | | - - CHAR - > a [ 3 : 3 ] <nl> - | | | | - - CHAR - > d [ 3 : 4 ] <nl> - | | | | - - CHAR - > o [ 3 : 5 ] <nl> - | | | ` - - CHAR - > c [ 3 : 6 ] <nl> | | ` - - EOF - > < EOF > [ 3 : 7 ] <nl> | ` - - BLOCK _ COMMENT _ END - > * / [ 3 : 9 ] <nl> | - - LITERAL _ CLASS - > class [ 4 : 0 ] <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputJavadocComment . txt b / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputJavadocComment . txt <nl> index ee872ad . . fcb36af 100644 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputJavadocComment . txt <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputJavadocComment . txt <nl> @ @ - 7 , 19 + 7 , 11 @ @ JAVADOC - > < p > \ r \ nMy { @ code Class } \ r \ n < / p > \ r \ n @ see never < EOF > [ 0 : 0 ] <nl> | | ` - - CLOSE - > > [ 0 : 2 ] <nl> | | - - NEWLINE - > \ r \ n [ 0 : 3 ] <nl> | | - - TEXT - > My [ 1 : 0 ] <nl> - | | | - - CHAR - > M [ 1 : 0 ] <nl> - | | | - - CHAR - > y [ 1 : 1 ] <nl> - | | ` - - WS - > [ 1 : 2 ] <nl> | | - - JAVADOC _ INLINE _ TAG - > { @ code Class } [ 1 : 3 ] <nl> | | | - - JAVADOC _ INLINE _ TAG _ START - > { [ 1 : 3 ] <nl> | | | - - CODE _ LITERAL - > @ code [ 1 : 4 ] <nl> | | | - - WS - > [ 1 : 9 ] <nl> | | | - - TEXT - > Class [ 1 : 10 ] <nl> - | | | | - - CHAR - > C [ 1 : 10 ] <nl> - | | | | - - CHAR - > l [ 1 : 11 ] <nl> - | | | | - - CHAR - > a [ 1 : 12 ] <nl> - | | | | - - CHAR - > s [ 1 : 13 ] <nl> - | | | ` - - CHAR - > s [ 1 : 14 ] <nl> | | ` - - JAVADOC _ INLINE _ TAG _ END - > } [ 1 : 16 ] <nl> | | - - NEWLINE - > \ r \ n [ 1 : 17 ] <nl> | ` - - P _ TAG _ CLOSE - > < / p > [ 2 : 0 ] <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / javadoc / InputCorrectJavaDocParagraph . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / javadoc / InputCorrectJavaDocParagraph . java <nl> index bfdf6ab . . a46600a 100644 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / javadoc / InputCorrectJavaDocParagraph . java <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / javadoc / InputCorrectJavaDocParagraph . java <nl> @ @ - 36 , 6 + 36 , 19 @ @ class InputCorrectJavaDocParagraph { <nl> <nl> / * * <nl> * Some Javadoc . <nl> + * <nl> + * < pre > <nl> + * Test <nl> + * < / pre > <nl> + * <nl> + * < pre > <nl> + * Test <nl> + * < / pre > <nl> + * / <nl> + boolean test ( ) { return false ; } <nl> + <nl> + / * * <nl> + * Some Javadoc . <nl> * <nl> * < p > Some Javadoc . <nl> * <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / javadoc / InputJavaDocTagContinuationIndentation . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / javadoc / InputJavaDocTagContinuationIndentation . java <nl> index 0d15d2f . . 2ebb6ff 100644 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / javadoc / InputJavaDocTagContinuationIndentation . java <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / javadoc / InputJavaDocTagContinuationIndentation . java <nl> @ @ - 320 , 6 + 320 , 8 @ @ enum Foo1 { } <nl> * Some javadoc . <nl> * @ serialData Some javadoc . <nl> * Line below is empty on purpose . / / warn <nl> + * @ see Some Text . <nl> + * L . <nl> * <nl> * @ author max <nl> * @ see { @ link com . puppycrawl . tools . checkstyle . AllChecksPresentOnAvailableChecksPageTest <nl> diff - - git a / src / xdocs / writingjavadocchecks . xml . vm b / src / xdocs / writingjavadocchecks . xml . vm <nl> index aa81ea5 . . 00b6c12 100644 <nl> - - - a / src / xdocs / writingjavadocchecks . xml . vm <nl> + + + b / src / xdocs / writingjavadocchecks . xml . vm <nl> @ @ - 131 , 11 + 131 , 6 @ @ public class MyClass { <nl> In Javadoc comment every whitespace matters , and Javadoc Checks need all those whitespaces and newline nodes to verify format and content of the Javadoc comment . <nl> Because of that Javadoc grammar includes all whitespaces , newlines to the parse tree <nl> ( < a href = " apidocs / com / puppycrawl / tools / checkstyle / api / JavadocTokenTypes . html # WS " > WS < / a > , < a href = " apidocs / com / puppycrawl / tools / checkstyle / api / JavadocTokenTypes . html # NEWLINE " > NEWLINE < / a > ) . <nl> - As you may notice there is also < a href = " apidocs / com / puppycrawl / tools / checkstyle / api / JavadocTokenTypes . html # CHAR " > CHAR < / a > javadoc token that presents single character . <nl> - It is quite useless and is used for building only < a href = " apidocs / com / puppycrawl / tools / checkstyle / api / JavadocTokenTypes . html # TEXT " > TEXT < / a > node which consists of <nl> - < a href = " apidocs / com / puppycrawl / tools / checkstyle / api / JavadocTokenTypes . html # CHAR " > CHAR < / a > and <nl> - < a href = " apidocs / com / puppycrawl / tools / checkstyle / api / JavadocTokenTypes . html # WS " > WS < / a > nodes , but it is implementation nuance . <nl> - ( In future we will try to resolve this . See < a href = " https : / / github . com / checkstyle / checkstyle / issues / 3170 " > Github Issue # 3170 < / a > ) . <nl> < / p > <nl> < / section > <nl> <nl> @ @ - 165 , 10 + 160 , 6 @ @ CLASS _ DEF - > CLASS _ DEF [ 5 : 0 ] <nl> | | | | - - NEWLINE - > \ n [ 1 : 0 ] <nl> | | | | - - LEADING _ ASTERISK - > * [ 2 : 0 ] <nl> | | | | - - TEXT - > My [ 2 : 2 ] <nl> - | | | | | - - WS - > [ 2 : 2 ] <nl> - | | | | | - - CHAR - > M [ 2 : 3 ] <nl> - | | | | | - - CHAR - > y [ 2 : 4 ] <nl> - | | | | ` - - WS - > [ 2 : 5 ] <nl> | | | | - - HTML _ ELEMENT - > < b > class < / b > [ 2 : 6 ] <nl> | | | | ` - - HTML _ TAG - > < b > class < / b > [ 2 : 6 ] <nl> | | | | | - - HTML _ ELEMENT _ OPEN - > < b > [ 2 : 6 ] <nl> @ @ - 176 , 18 + 167 , 12 @ @ CLASS _ DEF - > CLASS _ DEF [ 5 : 0 ] <nl> | | | | | | - - HTML _ TAG _ NAME - > b [ 2 : 7 ] <nl> | | | | | ` - - CLOSE - > > [ 2 : 8 ] <nl> | | | | | - - TEXT - > class [ 2 : 9 ] <nl> - | | | | | | - - CHAR - > c [ 2 : 9 ] <nl> - | | | | | | - - CHAR - > l [ 2 : 10 ] <nl> - | | | | | | - - CHAR - > a [ 2 : 11 ] <nl> - | | | | | | - - CHAR - > s [ 2 : 12 ] <nl> - | | | | | ` - - CHAR - > s [ 2 : 13 ] <nl> | | | | ` - - HTML _ ELEMENT _ CLOSE - > < / b > [ 2 : 14 ] <nl> | | | | | - - OPEN - > < [ 2 : 14 ] <nl> | | | | | - - SLASH - > / [ 2 : 15 ] <nl> | | | | | - - HTML _ TAG _ NAME - > b [ 2 : 16 ] <nl> | | | | ` - - CLOSE - > > [ 2 : 17 ] <nl> | | | | - - TEXT - > . [ 2 : 18 ] <nl> - | | | | ` - - CHAR - > . [ 2 : 18 ] <nl> | | | | - - NEWLINE - > \ n [ 2 : 19 ] <nl> | | | | - - LEADING _ ASTERISK - > * [ 3 : 0 ] <nl> | | | | - - WS - > [ 3 : 2 ] <nl> @ @ - 225 , 10 + 210 , 6 @ @ CLASS _ DEF - > CLASS _ DEF [ 5 : 0 ] <nl> JAVADOC - > * My < b > class < / b > . \ r \ n * @ see AbstractClass < EOF > [ 0 : 0 ] <nl> | - - LEADING _ ASTERISK - > * [ 0 : 0 ] <nl> | - - TEXT - > My [ 0 : 2 ] <nl> - | | - - WS - > [ 0 : 2 ] <nl> - | | - - CHAR - > M [ 0 : 3 ] <nl> - | | - - CHAR - > y [ 0 : 4 ] <nl> - | ` - - WS - > [ 0 : 5 ] <nl> | - - HTML _ ELEMENT - > < b > class < / b > [ 0 : 6 ] <nl> | ` - - HTML _ TAG - > < b > class < / b > [ 0 : 6 ] <nl> | | - - HTML _ ELEMENT _ OPEN - > < b > [ 0 : 6 ] <nl> @ @ - 236 , 18 + 217 , 12 @ @ JAVADOC - > * My < b > class < / b > . \ r \ n * @ see AbstractClass < EOF > [ 0 : 0 ] <nl> | | | - - HTML _ TAG _ NAME - > b [ 0 : 7 ] <nl> | | ` - - CLOSE - > > [ 0 : 8 ] <nl> | | - - TEXT - > class [ 0 : 9 ] <nl> - | | | - - CHAR - > c [ 0 : 9 ] <nl> - | | | - - CHAR - > l [ 0 : 10 ] <nl> - | | | - - CHAR - > a [ 0 : 11 ] <nl> - | | | - - CHAR - > s [ 0 : 12 ] <nl> - | | ` - - CHAR - > s [ 0 : 13 ] <nl> | ` - - HTML _ ELEMENT _ CLOSE - > < / b > [ 0 : 14 ] <nl> | | - - OPEN - > < [ 0 : 14 ] <nl> | | - - SLASH - > / [ 0 : 15 ] <nl> | | - - HTML _ TAG _ NAME - > b [ 0 : 16 ] <nl> | ` - - CLOSE - > > [ 0 : 17 ] <nl> | - - TEXT - > . [ 0 : 18 ] <nl> - | ` - - CHAR - > . [ 0 : 18 ] <nl> | - - NEWLINE - > \ r \ n [ 0 : 19 ] <nl> | - - LEADING _ ASTERISK - > * [ 1 : 0 ] <nl> | - - WS - > [ 1 : 2 ] <nl> @ @ - 398 , 10 + 373 , 6 @ @ JAVADOC - > < acronym title = " as soon as possible " > ASAP < / acronym > < EOF > [ 0 : 0 ] <nl> | | | ` - - ATTR _ VALUE - > " as soon as possible " [ 0 : 15 ] <nl> | | ` - - CLOSE - > > [ 0 : 37 ] <nl> | | - - TEXT - > ASAP [ 0 : 38 ] <nl> - | | | - - CHAR - > A [ 0 : 38 ] <nl> - | | | - - CHAR - > S [ 0 : 39 ] <nl> - | | | - - CHAR - > A [ 0 : 40 ] <nl> - | | ` - - CHAR - > P [ 0 : 41 ] <nl> | ` - - HTML _ ELEMENT _ CLOSE - > < / acronym > [ 0 : 42 ] <nl> | | - - OPEN - > < [ 0 : 42 ] <nl> | | - - SLASH - > / [ 0 : 43 ] <nl> @ @ - 449 , 12 + 420 , 6 @ @ JAVADOC - > < p > First \ r \ n < p > Second < EOF > [ 0 : 0 ] <nl> | | - - P _ HTML _ TAG _ NAME - > p [ 0 : 1 ] <nl> | ` - - CLOSE - > > [ 0 : 2 ] <nl> | - - TEXT - > First [ 0 : 3 ] <nl> - | | - - WS - > [ 0 : 3 ] <nl> - | | - - CHAR - > F [ 0 : 4 ] <nl> - | | - - CHAR - > i [ 0 : 5 ] <nl> - | | - - CHAR - > r [ 0 : 6 ] <nl> - | | - - CHAR - > s [ 0 : 7 ] <nl> - | ` - - CHAR - > t [ 0 : 8 ] <nl> | - - NEWLINE - > \ r \ n [ 0 : 9 ] <nl> | - - HTML _ ELEMENT - > < p > [ 1 : 0 ] <nl> | ` - - P _ TAG _ OPEN - > < p > [ 1 : 0 ] <nl> @ @ - 462 , 13 + 427 , 6 @ @ JAVADOC - > < p > First \ r \ n < p > Second < EOF > [ 0 : 0 ] <nl> | | - - P _ HTML _ TAG _ NAME - > p [ 1 : 1 ] <nl> | ` - - CLOSE - > > [ 1 : 2 ] <nl> | - - TEXT - > Second [ 1 : 3 ] <nl> - | | - - WS - > [ 1 : 3 ] <nl> - | | - - CHAR - > S [ 1 : 4 ] <nl> - | | - - CHAR - > e [ 1 : 5 ] <nl> - | | - - CHAR - > c [ 1 : 6 ] <nl> - | | - - CHAR - > o [ 1 : 7 ] <nl> - | | - - CHAR - > n [ 1 : 8 ] <nl> - | ` - - CHAR - > d [ 1 : 9 ] <nl> ` - - EOF - > < EOF > [ 1 : 10 ] <nl> ] ] > < / source > <nl> < / td > <nl> @ @ - 482 , 13 + 440 , 6 @ @ JAVADOC - > < p > First < / p > \ r \ n < p > Second < / p > < EOF > [ 0 : 0 ] <nl> | | | - - P _ HTML _ TAG _ NAME - > p [ 0 : 1 ] <nl> | | ` - - CLOSE - > > [ 0 : 2 ] <nl> | | - - TEXT - > First [ 0 : 3 ] <nl> - | | | - - WS - > [ 0 : 3 ] <nl> - | | | - - CHAR - > F [ 0 : 4 ] <nl> - | | | - - CHAR - > i [ 0 : 5 ] <nl> - | | | - - CHAR - > r [ 0 : 6 ] <nl> - | | | - - CHAR - > s [ 0 : 7 ] <nl> - | | | - - CHAR - > t [ 0 : 8 ] <nl> - | | ` - - WS - > [ 0 : 9 ] <nl> | ` - - P _ TAG _ CLOSE - > < / p > [ 0 : 10 ] <nl> | | - - OPEN - > < [ 0 : 10 ] <nl> | | - - SLASH - > / [ 0 : 11 ] <nl> @ @ - 502 , 14 + 453 , 6 @ @ JAVADOC - > < p > First < / p > \ r \ n < p > Second < / p > < EOF > [ 0 : 0 ] <nl> | | | - - P _ HTML _ TAG _ NAME - > p [ 1 : 1 ] <nl> | | ` - - CLOSE - > > [ 1 : 2 ] <nl> | | - - TEXT - > Second [ 1 : 3 ] <nl> - | | | - - WS - > [ 1 : 3 ] <nl> - | | | - - CHAR - > S [ 1 : 4 ] <nl> - | | | - - CHAR - > e [ 1 : 5 ] <nl> - | | | - - CHAR - > c [ 1 : 6 ] <nl> - | | | - - CHAR - > o [ 1 : 7 ] <nl> - | | | - - CHAR - > n [ 1 : 8 ] <nl> - | | | - - CHAR - > d [ 1 : 9 ] <nl> - | | ` - - WS - > [ 1 : 10 ] <nl> | ` - - P _ TAG _ CLOSE - > < / p > [ 1 : 11 ] <nl> | | - - OPEN - > < [ 1 : 11 ] <nl> | | - - SLASH - > / [ 1 : 12 ]
NEAREST DIFF (one line): diff - - git a / pom . xml b / pom . xml <nl> index 98a8bbc . . 48c117b 100644 <nl> - - - a / pom . xml <nl> + + + b / pom . xml <nl> @ @ - 22 , 7 + 22 , 7 @ @ <nl> <nl> < groupId > com . puppycrawl . tools < / groupId > <nl> < artifactId > checkstyle < / artifactId > <nl> - < version > 7 . 1 . 2 - SNAPSHOT < / version > <nl> + < version > 7 . 2 - SNAPSHOT < / version > <nl> < packaging > jar < / packaging > <nl> <nl> < name > checkstyle < / name >

TEST DIFF:
diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / JavadocDetailNodeParser . java b / src / main / java / com / puppycrawl / tools / checkstyle / JavadocDetailNodeParser . java 
 index 85adb62 . . 70adc5f 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / JavadocDetailNodeParser . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / JavadocDetailNodeParser . java 
 @ @ - 34 , 6 + 34 , 7 @ @ import org . antlr . v4 . runtime . tree . TerminalNode ; 
 import com . google . common . base . CaseFormat ; 
 import com . puppycrawl . tools . checkstyle . api . DetailAST ; 
 import com . puppycrawl . tools . checkstyle . api . DetailNode ; 
 + import com . puppycrawl . tools . checkstyle . api . JavadocTokenTypes ; 
 import com . puppycrawl . tools . checkstyle . checks . javadoc . JavadocNodeImpl ; 
 import com . puppycrawl . tools . checkstyle . grammars . javadoc . JavadocLexer ; 
 import com . puppycrawl . tools . checkstyle . grammars . javadoc . JavadocParser ; 
 @ @ - 181 , 6 + 182 , 12 @ @ public class JavadocDetailNodeParser { 
 ParseTree parseTreeParent = parseTreeNode ; 
 
 while ( currentJavadocParent ! = null ) { 
 + / / remove unnecessary children tokens 
 + if ( currentJavadocParent . getType ( ) = = JavadocTokenTypes . TEXT ) { 
 + currentJavadocParent 
 + . setChildren ( ( DetailNode [ ] ) JavadocNodeImpl . EMPTY _ DETAIL _ NODE _ ARRAY ) ; 
 + } 
 + 
 final JavadocNodeImpl [ ] children = 
 ( JavadocNodeImpl [ ] ) currentJavadocParent . getChildren ( ) ; 
 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / api / TokenTypes . java b / src / main / java / com / puppycrawl / tools / checkstyle / api / TokenTypes . java 
 index 5ddc321 . . 950e1e2 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / api / TokenTypes . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / api / TokenTypes . java 
 @ @ - 3399 , 7 + 3399 , 7 @ @ public final class TokenTypes { 
 / * * 
 * Text of single - line or block comment . 
 * 
 - * < pre > 
 + * < pre > 
 * + - - SINGLE _ LINE _ COMMENT 
 * | 
 * + - - COMMENT _ CONTENT 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocNodeImpl . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocNodeImpl . java 
 index 1634d95 . . 25616fe 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocNodeImpl . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocNodeImpl . java 
 @ @ - 35 , 7 + 35 , 7 @ @ public class JavadocNodeImpl implements DetailNode { 
 / * * 
 * Empty array of { @ link DetailNode } type . 
 * / 
 - private static final DetailNode [ ] EMPTY _ DETAIL _ NODE _ ARRAY = new DetailNode [ 0 ] ; 
 + public static final JavadocNodeImpl [ ] EMPTY _ DETAIL _ NODE _ ARRAY = new JavadocNodeImpl [ 0 ] ; 
 
 / * * 
 * Node index among parent ' s children . 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocParagraphCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocParagraphCheck . java 
 index d77cef8 . . 99c9b31 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocParagraphCheck . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocParagraphCheck . java 
 @ @ - 151 , 7 + 151 , 8 @ @ public class JavadocParagraphCheck extends AbstractJavadocCheck { 
 * / 
 private void checkEmptyLine ( DetailNode newline ) { 
 final DetailNode nearestToken = getNearestNode ( newline ) ; 
 - if ( ! isLastEmptyLine ( newline ) & & nearestToken . getChildren ( ) . length > 1 ) { 
 + if ( ! isLastEmptyLine ( newline ) & & nearestToken . getType ( ) = = JavadocTokenTypes . TEXT 
 + & & ! nearestToken . getText ( ) . trim ( ) . isEmpty ( ) ) { 
 log ( newline . getLineNumber ( ) , MSG _ TAG _ AFTER ) ; 
 } 
 } 
 @ @ - 199 , 7 + 200 , 7 @ @ public class JavadocParagraphCheck extends AbstractJavadocCheck { 
 return false ; 
 } 
 if ( previousSibling . getType ( ) = = JavadocTokenTypes . TEXT 
 - & & previousSibling . getChildren ( ) . length = = 1 ) { 
 + & & previousSibling . getText ( ) . trim ( ) . isEmpty ( ) ) { 
 previousSibling = JavadocUtils . getPreviousSibling ( previousSibling ) ; 
 } 
 return previousSibling ! = null 
 @ @ - 215 , 7 + 216 , 7 @ @ public class JavadocParagraphCheck extends AbstractJavadocCheck { 
 DetailNode previousNode = JavadocUtils . getPreviousSibling ( paragraphTag ) ; 
 while ( previousNode ! = null ) { 
 if ( previousNode . getType ( ) = = JavadocTokenTypes . TEXT 
 - & & previousNode . getChildren ( ) . length > 1 
 + & & ! previousNode . getText ( ) . trim ( ) . isEmpty ( ) 
 | | previousNode . getType ( ) ! = JavadocTokenTypes . LEADING _ ASTERISK 
 & & previousNode . getType ( ) ! = JavadocTokenTypes . NEWLINE 
 & & previousNode . getType ( ) ! = JavadocTokenTypes . TEXT ) { 
 @ @ - 252 , 7 + 253 , 7 @ @ public class JavadocParagraphCheck extends AbstractJavadocCheck { 
 DetailNode nextNode = JavadocUtils . getNextSibling ( newLine ) ; 
 while ( nextNode ! = null & & nextNode . getType ( ) ! = JavadocTokenTypes . JAVADOC _ TAG ) { 
 if ( nextNode . getType ( ) = = JavadocTokenTypes . TEXT 
 - & & nextNode . getChildren ( ) . length > 1 
 + & & ! nextNode . getText ( ) . trim ( ) . isEmpty ( ) 
 | | nextNode . getType ( ) = = JavadocTokenTypes . HTML _ ELEMENT ) { 
 return false ; 
 } 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocTagContinuationIndentationCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocTagContinuationIndentationCheck . java 
 index 2e7b799 . . 93201bc 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocTagContinuationIndentationCheck . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocTagContinuationIndentationCheck . java 
 @ @ - 94 , 10 + 94 , 11 @ @ public class JavadocTagContinuationIndentationCheck extends AbstractJavadocCheck 
 for ( DetailNode newlineNode : textNodes ) { 
 final DetailNode textNode = JavadocUtils . getNextSibling ( JavadocUtils 
 . getNextSibling ( newlineNode ) ) ; 
 - if ( textNode ! = null & & textNode . getType ( ) = = JavadocTokenTypes . TEXT 
 - & & textNode . getChildren ( ) . length > 1 ) { 
 - final DetailNode whitespace = JavadocUtils . getFirstChild ( textNode ) ; 
 - if ( whitespace . getText ( ) . length ( ) - 1 < offset ) { 
 + if ( textNode ! = null & & textNode . getType ( ) = = JavadocTokenTypes . TEXT ) { 
 + final String text = textNode . getText ( ) ; 
 + if ( ! text . trim ( ) . isEmpty ( ) 
 + & & ( text . length ( ) < = offset 
 + | | ! text . substring ( 1 , offset + 1 ) . trim ( ) . isEmpty ( ) ) ) { 
 log ( textNode . getLineNumber ( ) , MSG _ KEY , offset ) ; 
 } 
 } 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / SummaryJavadocCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / SummaryJavadocCheck . java 
 index d05777c . . 50ed52a 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / SummaryJavadocCheck . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / SummaryJavadocCheck . java 
 @ @ - 26 , 7 + 26 , 6 @ @ import com . puppycrawl . tools . checkstyle . api . DetailNode ; 
 import com . puppycrawl . tools . checkstyle . api . JavadocTokenTypes ; 
 import com . puppycrawl . tools . checkstyle . api . TokenTypes ; 
 import com . puppycrawl . tools . checkstyle . utils . CommonUtils ; 
 - import com . puppycrawl . tools . checkstyle . utils . JavadocUtils ; 
 
 / * * 
 * < p > 
 @ @ - 157 , 30 + 156 , 15 @ @ public class SummaryJavadocCheck extends AbstractJavadocCheck { 
 final StringBuilder result = new StringBuilder ( ) ; 
 final String periodSuffix = PERIOD + ' ' ; 
 for ( DetailNode child : ast . getChildren ( ) ) { 
 + final String text = child . getText ( ) ; 
 + 
 if ( child . getType ( ) ! = JavadocTokenTypes . JAVADOC _ INLINE _ TAG 
 - & & child . getText ( ) . contains ( periodSuffix ) ) { 
 - result . append ( getCharsTillDot ( child ) ) ; 
 + & & text . contains ( periodSuffix ) ) { 
 + result . append ( text . substring ( 0 , text . indexOf ( periodSuffix ) + 1 ) ) ; 
 break ; 
 } 
 else { 
 - result . append ( child . getText ( ) ) ; 
 - } 
 - } 
 - return result . toString ( ) ; 
 - } 
 - 
 - / * * 
 - * Finds and returns chars till first dot . 
 - * @ param textNode node with javadoc text . 
 - * @ return String with chars till first dot . 
 - * / 
 - private static String getCharsTillDot ( DetailNode textNode ) { 
 - final StringBuilder result = new StringBuilder ( ) ; 
 - for ( DetailNode child : textNode . getChildren ( ) ) { 
 - result . append ( child . getText ( ) ) ; 
 - if ( PERIOD . equals ( child . getText ( ) ) 
 - & & JavadocUtils . getNextSibling ( child ) . getType ( ) = = JavadocTokenTypes . WS ) { 
 - break ; 
 + result . append ( text ) ; 
 } 
 } 
 return result . toString ( ) ; 
 diff - - git a / src / site / resources / images / gui _ javadoc _ screenshot . png b / src / site / resources / images / gui _ javadoc _ screenshot . png 
 index 9ae7f5c . . 2a82123 100644 
 Binary files a / src / site / resources / images / gui _ javadoc _ screenshot . png and b / src / site / resources / images / gui _ javadoc _ screenshot . png differ 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / checks / javadoc / AbstractJavadocCheckTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / checks / javadoc / AbstractJavadocCheckTest . java 
 index 5aa22d4 . . 1e4e719 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / checks / javadoc / AbstractJavadocCheckTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / checks / javadoc / AbstractJavadocCheckTest . java 
 @ @ - 336 , 7 + 336 , 7 @ @ public class AbstractJavadocCheckTest extends BaseCheckTestSupport { 
 
 @ Override 
 public int [ ] getRequiredJavadocTokens ( ) { 
 - return new int [ ] { JavadocTokenTypes . CHAR } ; 
 + return new int [ ] { JavadocTokenTypes . TEXT } ; 
 } 
 
 @ Override 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocTagContinuationIndentationCheckTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocTagContinuationIndentationCheckTest . java 
 index ce368fd . . a4d2ed4 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocTagContinuationIndentationCheckTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocTagContinuationIndentationCheckTest . java 
 @ @ - 73 , 6 + 73 , 7 @ @ public class JavadocTagContinuationIndentationCheckTest 
 " 290 : " + getCheckMessage ( MSG _ KEY , 4 ) , 
 " 310 : " + getCheckMessage ( MSG _ KEY , 4 ) , 
 " 322 : " + getCheckMessage ( MSG _ KEY , 4 ) , 
 + " 324 : " + getCheckMessage ( MSG _ KEY , 4 ) , 
 } ; 
 verify ( checkConfig , getPath ( " InputJavaDocTagContinuationIndentation . java " ) , 
 expected ) ; 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / gui / CodeSelectorPModelTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / gui / CodeSelectorPModelTest . java 
 index db86f0d . . ba02966 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / gui / CodeSelectorPModelTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / gui / CodeSelectorPModelTest . java 
 @ @ - 108 , 13 + 108 , 13 @ @ public class CodeSelectorPModelTest { 
 
 @ Test 
 public void testDetailNodeLeafSelection ( ) { 
 - final DetailNode javadocLeaf = ( ( DetailNode ) model . getParseTreeTableModel ( ) 
 - . getChild ( tree . getFirstChild ( ) . getNextSibling ( ) . getFirstChild ( ) , 0 ) ) 
 - . getChildren ( ) [ 2 ] . getChildren ( ) [ 0 ] ; 
 + final DetailNode javadoc = ( DetailNode ) model . getParseTreeTableModel ( ) 
 + . getChild ( tree . getFirstChild ( ) . getNextSibling ( ) . getFirstChild ( ) , 0 ) ; 
 + final DetailNode javadocLeaf = javadoc . getChildren ( ) [ 2 ] ; 
 final CodeSelectorPModel selector = new CodeSelectorPModel ( javadocLeaf , linesToPosition ) ; 
 selector . findSelectionPositions ( ) ; 
 Assert . assertEquals ( 5 , selector . getSelectionStart ( ) ) ; 
 - Assert . assertEquals ( 6 , selector . getSelectionEnd ( ) ) ; 
 + Assert . assertEquals ( 19 , selector . getSelectionEnd ( ) ) ; 
 } 
 
 } 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputAstTreeStringPrinterAttributesAndMethodsJavadoc . txt b / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputAstTreeStringPrinterAttributesAndMethodsJavadoc . txt 
 index 8e34583 . . 0da4646 100644 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputAstTreeStringPrinterAttributesAndMethodsJavadoc . txt 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputAstTreeStringPrinterAttributesAndMethodsJavadoc . txt 
 @ @ - 6 , 20 + 6 , 6 @ @ CLASS _ DEF - > CLASS _ DEF [ 4 : 0 ] 
 | | | - - NEWLINE - > \ n [ 1 : 0 ] 
 | | | - - LEADING _ ASTERISK - > * [ 2 : 0 ] 
 | | | - - TEXT - > class javadoc [ 2 : 1 ] 
 - | | | | - - WS - > [ 2 : 1 ] 
 - | | | | - - CHAR - > c [ 2 : 2 ] 
 - | | | | - - CHAR - > l [ 2 : 3 ] 
 - | | | | - - CHAR - > a [ 2 : 4 ] 
 - | | | | - - CHAR - > s [ 2 : 5 ] 
 - | | | | - - CHAR - > s [ 2 : 6 ] 
 - | | | | - - WS - > [ 2 : 7 ] 
 - | | | | - - CHAR - > j [ 2 : 8 ] 
 - | | | | - - CHAR - > a [ 2 : 9 ] 
 - | | | | - - CHAR - > v [ 2 : 10 ] 
 - | | | | - - CHAR - > a [ 2 : 11 ] 
 - | | | | - - CHAR - > d [ 2 : 12 ] 
 - | | | | - - CHAR - > o [ 2 : 13 ] 
 - | | | ` - - CHAR - > c [ 2 : 14 ] 
 | | | - - NEWLINE - > \ n [ 2 : 15 ] 
 | | ` - - EOF - > < EOF > [ 3 : 0 ] 
 | ` - - BLOCK _ COMMENT _ END - > * / [ 3 : 0 ] 
 @ @ - 34 , 24 + 20 , 6 @ @ CLASS _ DEF - > CLASS _ DEF [ 4 : 0 ] 
 | | | | - - COMMENT _ CONTENT - > * attribute javadoc [ 6 : 6 ] 
 | | | | ` - - JAVADOC - > attribute javadoc < EOF > [ 6 : 0 ] 
 | | | | | - - TEXT - > attribute javadoc [ 6 : 0 ] 
 - | | | | | | - - WS - > [ 6 : 0 ] 
 - | | | | | | - - CHAR - > a [ 6 : 1 ] 
 - | | | | | | - - CHAR - > t [ 6 : 2 ] 
 - | | | | | | - - CHAR - > t [ 6 : 3 ] 
 - | | | | | | - - CHAR - > r [ 6 : 4 ] 
 - | | | | | | - - CHAR - > i [ 6 : 5 ] 
 - | | | | | | - - CHAR - > b [ 6 : 6 ] 
 - | | | | | | - - CHAR - > u [ 6 : 7 ] 
 - | | | | | | - - CHAR - > t [ 6 : 8 ] 
 - | | | | | | - - CHAR - > e [ 6 : 9 ] 
 - | | | | | | - - WS - > [ 6 : 10 ] 
 - | | | | | | - - CHAR - > j [ 6 : 11 ] 
 - | | | | | | - - CHAR - > a [ 6 : 12 ] 
 - | | | | | | - - CHAR - > v [ 6 : 13 ] 
 - | | | | | | - - CHAR - > a [ 6 : 14 ] 
 - | | | | | | - - CHAR - > d [ 6 : 15 ] 
 - | | | | | | - - CHAR - > o [ 6 : 16 ] 
 - | | | | | ` - - CHAR - > c [ 6 : 17 ] 
 | | | | ` - - EOF - > < EOF > [ 6 : 18 ] 
 | | | ` - - BLOCK _ COMMENT _ END - > * / [ 6 : 24 ] 
 | | ` - - LITERAL _ INT - > int [ 7 : 4 ] 
 @ @ - 65 , 24 + 33 , 8 @ @ CLASS _ DEF - > CLASS _ DEF [ 4 : 0 ] 
 | | | | | - - NEWLINE - > \ n [ 9 : 0 ] 
 | | | | | - - LEADING _ ASTERISK - > * [ 10 : 0 ] 
 | | | | | - - TEXT - > method javadoc [ 10 : 5 ] 
 - | | | | | | - - WS - > [ 10 : 5 ] 
 - | | | | | | - - CHAR - > m [ 10 : 6 ] 
 - | | | | | | - - CHAR - > e [ 10 : 7 ] 
 - | | | | | | - - CHAR - > t [ 10 : 8 ] 
 - | | | | | | - - CHAR - > h [ 10 : 9 ] 
 - | | | | | | - - CHAR - > o [ 10 : 10 ] 
 - | | | | | | - - CHAR - > d [ 10 : 11 ] 
 - | | | | | | - - WS - > [ 10 : 12 ] 
 - | | | | | | - - CHAR - > j [ 10 : 13 ] 
 - | | | | | | - - CHAR - > a [ 10 : 14 ] 
 - | | | | | | - - CHAR - > v [ 10 : 15 ] 
 - | | | | | | - - CHAR - > a [ 10 : 16 ] 
 - | | | | | | - - CHAR - > d [ 10 : 17 ] 
 - | | | | | | - - CHAR - > o [ 10 : 18 ] 
 - | | | | | ` - - CHAR - > c [ 10 : 19 ] 
 | | | | | - - NEWLINE - > \ n [ 10 : 20 ] 
 | | | | | - - TEXT - > [ 11 : 0 ] 
 - | | | | | ` - - WS - > [ 11 : 0 ] 
 | | | | ` - - EOF - > < EOF > [ 11 : 4 ] 
 | | | ` - - BLOCK _ COMMENT _ END - > * / [ 11 : 4 ] 
 | | ` - - LITERAL _ PUBLIC - > public [ 12 : 4 ] 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputAstTreeStringPrinterJavaAndJavadoc . txt b / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputAstTreeStringPrinterJavaAndJavadoc . txt 
 index 5fd21db . . 2691045 100644 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputAstTreeStringPrinterJavaAndJavadoc . txt 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputAstTreeStringPrinterJavaAndJavadoc . txt 
 @ @ - 6 , 16 + 6 , 6 @ @ CLASS _ DEF - > CLASS _ DEF [ 4 : 0 ] 
 | | | | - - NEWLINE - > \ n [ 1 : 0 ] 
 | | | | - - LEADING _ ASTERISK - > * [ 2 : 0 ] 
 | | | | - - TEXT - > some text [ 2 : 1 ] 
 - | | | | | - - WS - > [ 2 : 1 ] 
 - | | | | | - - CHAR - > s [ 2 : 2 ] 
 - | | | | | - - CHAR - > o [ 2 : 3 ] 
 - | | | | | - - CHAR - > m [ 2 : 4 ] 
 - | | | | | - - CHAR - > e [ 2 : 5 ] 
 - | | | | | - - WS - > [ 2 : 6 ] 
 - | | | | | - - CHAR - > t [ 2 : 7 ] 
 - | | | | | - - CHAR - > e [ 2 : 8 ] 
 - | | | | | - - CHAR - > x [ 2 : 9 ] 
 - | | | | ` - - CHAR - > t [ 2 : 10 ] 
 | | | | - - NEWLINE - > \ n [ 2 : 11 ] 
 | | | ` - - EOF - > < EOF > [ 3 : 0 ] 
 | | ` - - BLOCK _ COMMENT _ END - > * / [ 3 : 0 ] 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputAstTreeStringPrinterJavadoc . txt b / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputAstTreeStringPrinterJavadoc . txt 
 index 066053e . . 22f7b93 100644 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputAstTreeStringPrinterJavadoc . txt 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputAstTreeStringPrinterJavadoc . txt 
 @ @ - 14 , 13 + 14 , 6 @ @ CLASS _ DEF - > CLASS _ DEF [ 4 : 0 ] 
 | | - - COMMENT _ CONTENT - > * javadoc [ 3 : 2 ] 
 | | ` - - JAVADOC - > javadoc < EOF > [ 3 : 0 ] 
 | | | - - TEXT - > javadoc [ 3 : 0 ] 
 - | | | | - - CHAR - > j [ 3 : 0 ] 
 - | | | | - - CHAR - > a [ 3 : 1 ] 
 - | | | | - - CHAR - > v [ 3 : 2 ] 
 - | | | | - - CHAR - > a [ 3 : 3 ] 
 - | | | | - - CHAR - > d [ 3 : 4 ] 
 - | | | | - - CHAR - > o [ 3 : 5 ] 
 - | | | ` - - CHAR - > c [ 3 : 6 ] 
 | | ` - - EOF - > < EOF > [ 3 : 7 ] 
 | ` - - BLOCK _ COMMENT _ END - > * / [ 3 : 9 ] 
 | - - LITERAL _ CLASS - > class [ 4 : 0 ] 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputJavadocComment . txt b / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputJavadocComment . txt 
 index ee872ad . . fcb36af 100644 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputJavadocComment . txt 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / astprinter / expectedInputJavadocComment . txt 
 @ @ - 7 , 19 + 7 , 11 @ @ JAVADOC - > < p > \ r \ nMy { @ code Class } \ r \ n < / p > \ r \ n @ see never < EOF > [ 0 : 0 ] 
 | | ` - - CLOSE - > > [ 0 : 2 ] 
 | | - - NEWLINE - > \ r \ n [ 0 : 3 ] 
 | | - - TEXT - > My [ 1 : 0 ] 
 - | | | - - CHAR - > M [ 1 : 0 ] 
 - | | | - - CHAR - > y [ 1 : 1 ] 
 - | | ` - - WS - > [ 1 : 2 ] 
 | | - - JAVADOC _ INLINE _ TAG - > { @ code Class } [ 1 : 3 ] 
 | | | - - JAVADOC _ INLINE _ TAG _ START - > { [ 1 : 3 ] 
 | | | - - CODE _ LITERAL - > @ code [ 1 : 4 ] 
 | | | - - WS - > [ 1 : 9 ] 
 | | | - - TEXT - > Class [ 1 : 10 ] 
 - | | | | - - CHAR - > C [ 1 : 10 ] 
 - | | | | - - CHAR - > l [ 1 : 11 ] 
 - | | | | - - CHAR - > a [ 1 : 12 ] 
 - | | | | - - CHAR - > s [ 1 : 13 ] 
 - | | | ` - - CHAR - > s [ 1 : 14 ] 
 | | ` - - JAVADOC _ INLINE _ TAG _ END - > } [ 1 : 16 ] 
 | | - - NEWLINE - > \ r \ n [ 1 : 17 ] 
 | ` - - P _ TAG _ CLOSE - > < / p > [ 2 : 0 ] 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / javadoc / InputCorrectJavaDocParagraph . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / javadoc / InputCorrectJavaDocParagraph . java 
 index bfdf6ab . . a46600a 100644 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / javadoc / InputCorrectJavaDocParagraph . java 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / javadoc / InputCorrectJavaDocParagraph . java 
 @ @ - 36 , 6 + 36 , 19 @ @ class InputCorrectJavaDocParagraph { 
 
 / * * 
 * Some Javadoc . 
 + * 
 + * < pre > 
 + * Test 
 + * < / pre > 
 + * 
 + * < pre > 
 + * Test 
 + * < / pre > 
 + * / 
 + boolean test ( ) { return false ; } 
 + 
 + / * * 
 + * Some Javadoc . 
 * 
 * < p > Some Javadoc . 
 * 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / javadoc / InputJavaDocTagContinuationIndentation . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / javadoc / InputJavaDocTagContinuationIndentation . java 
 index 0d15d2f . . 2ebb6ff 100644 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / javadoc / InputJavaDocTagContinuationIndentation . java 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / javadoc / InputJavaDocTagContinuationIndentation . java 
 @ @ - 320 , 6 + 320 , 8 @ @ enum Foo1 { } 
 * Some javadoc . 
 * @ serialData Some javadoc . 
 * Line below is empty on purpose . / / warn 
 + * @ see Some Text . 
 + * L . 
 * 
 * @ author max 
 * @ see { @ link com . puppycrawl . tools . checkstyle . AllChecksPresentOnAvailableChecksPageTest 
 diff - - git a / src / xdocs / writingjavadocchecks . xml . vm b / src / xdocs / writingjavadocchecks . xml . vm 
 index aa81ea5 . . 00b6c12 100644 
 - - - a / src / xdocs / writingjavadocchecks . xml . vm 
 + + + b / src / xdocs / writingjavadocchecks . xml . vm 
 @ @ - 131 , 11 + 131 , 6 @ @ public class MyClass { 
 In Javadoc comment every whitespace matters , and Javadoc Checks need all those whitespaces and newline nodes to verify format and content of the Javadoc comment . 
 Because of that Javadoc grammar includes all whitespaces , newlines to the parse tree 
 ( < a href = " apidocs / com / puppycrawl / tools / checkstyle / api / JavadocTokenTypes . html # WS " > WS < / a > , < a href = " apidocs / com / puppycrawl / tools / checkstyle / api / JavadocTokenTypes . html # NEWLINE " > NEWLINE < / a > ) . 
 - As you may notice there is also < a href = " apidocs / com / puppycrawl / tools / checkstyle / api / JavadocTokenTypes . html # CHAR " > CHAR < / a > javadoc token that presents single character . 
 - It is quite useless and is used for building only < a href = " apidocs / com / puppycrawl / tools / checkstyle / api / JavadocTokenTypes . html # TEXT " > TEXT < / a > node which consists of 
 - < a href = " apidocs / com / puppycrawl / tools / checkstyle / api / JavadocTokenTypes . html # CHAR " > CHAR < / a > and 
 - < a href = " apidocs / com / puppycrawl / tools / checkstyle / api / JavadocTokenTypes . html # WS " > WS < / a > nodes , but it is implementation nuance . 
 - ( In future we will try to resolve this . See < a href = " https : / / github . com / checkstyle / checkstyle / issues / 3170 " > Github Issue # 3170 < / a > ) . 
 < / p > 
 < / section > 
 
 @ @ - 165 , 10 + 160 , 6 @ @ CLASS _ DEF - > CLASS _ DEF [ 5 : 0 ] 
 | | | | - - NEWLINE - > \ n [ 1 : 0 ] 
 | | | | - - LEADING _ ASTERISK - > * [ 2 : 0 ] 
 | | | | - - TEXT - > My [ 2 : 2 ] 
 - | | | | | - - WS - > [ 2 : 2 ] 
 - | | | | | - - CHAR - > M [ 2 : 3 ] 
 - | | | | | - - CHAR - > y [ 2 : 4 ] 
 - | | | | ` - - WS - > [ 2 : 5 ] 
 | | | | - - HTML _ ELEMENT - > < b > class < / b > [ 2 : 6 ] 
 | | | | ` - - HTML _ TAG - > < b > class < / b > [ 2 : 6 ] 
 | | | | | - - HTML _ ELEMENT _ OPEN - > < b > [ 2 : 6 ] 
 @ @ - 176 , 18 + 167 , 12 @ @ CLASS _ DEF - > CLASS _ DEF [ 5 : 0 ] 
 | | | | | | - - HTML _ TAG _ NAME - > b [ 2 : 7 ] 
 | | | | | ` - - CLOSE - > > [ 2 : 8 ] 
 | | | | | - - TEXT - > class [ 2 : 9 ] 
 - | | | | | | - - CHAR - > c [ 2 : 9 ] 
 - | | | | | | - - CHAR - > l [ 2 : 10 ] 
 - | | | | | | - - CHAR - > a [ 2 : 11 ] 
 - | | | | | | - - CHAR - > s [ 2 : 12 ] 
 - | | | | | ` - - CHAR - > s [ 2 : 13 ] 
 | | | | ` - - HTML _ ELEMENT _ CLOSE - > < / b > [ 2 : 14 ] 
 | | | | | - - OPEN - > < [ 2 : 14 ] 
 | | | | | - - SLASH - > / [ 2 : 15 ] 
 | | | | | - - HTML _ TAG _ NAME - > b [ 2 : 16 ] 
 | | | | ` - - CLOSE - > > [ 2 : 17 ] 
 | | | | - - TEXT - > . [ 2 : 18 ] 
 - | | | | ` - - CHAR - > . [ 2 : 18 ] 
 | | | | - - NEWLINE - > \ n [ 2 : 19 ] 
 | | | | - - LEADING _ ASTERISK - > * [ 3 : 0 ] 
 | | | | - - WS - > [ 3 : 2 ] 
 @ @ - 225 , 10 + 210 , 6 @ @ CLASS _ DEF - > CLASS _ DEF [ 5 : 0 ] 
 JAVADOC - > * My < b > class < / b > . \ r \ n * @ see AbstractClass < EOF > [ 0 : 0 ] 
 | - - LEADING _ ASTERISK - > * [ 0 : 0 ] 
 | - - TEXT - > My [ 0 : 2 ] 
 - | | - - WS - > [ 0 : 2 ] 
 - | | - - CHAR - > M [ 0 : 3 ] 
 - | | - - CHAR - > y [ 0 : 4 ] 
 - | ` - - WS - > [ 0 : 5 ] 
 | - - HTML _ ELEMENT - > < b > class < / b > [ 0 : 6 ] 
 | ` - - HTML _ TAG - > < b > class < / b > [ 0 : 6 ] 
 | | - - HTML _ ELEMENT _ OPEN - > < b > [ 0 : 6 ] 
 @ @ - 236 , 18 + 217 , 12 @ @ JAVADOC - > * My < b > class < / b > . \ r \ n * @ see AbstractClass < EOF > [ 0 : 0 ] 
 | | | - - HTML _ TAG _ NAME - > b [ 0 : 7 ] 
 | | ` - - CLOSE - > > [ 0 : 8 ] 
 | | - - TEXT - > class [ 0 : 9 ] 
 - | | | - - CHAR - > c [ 0 : 9 ] 
 - | | | - - CHAR - > l [ 0 : 10 ] 
 - | | | - - CHAR - > a [ 0 : 11 ] 
 - | | | - - CHAR - > s [ 0 : 12 ] 
 - | | ` - - CHAR - > s [ 0 : 13 ] 
 | ` - - HTML _ ELEMENT _ CLOSE - > < / b > [ 0 : 14 ] 
 | | - - OPEN - > < [ 0 : 14 ] 
 | | - - SLASH - > / [ 0 : 15 ] 
 | | - - HTML _ TAG _ NAME - > b [ 0 : 16 ] 
 | ` - - CLOSE - > > [ 0 : 17 ] 
 | - - TEXT - > . [ 0 : 18 ] 
 - | ` - - CHAR - > . [ 0 : 18 ] 
 | - - NEWLINE - > \ r \ n [ 0 : 19 ] 
 | - - LEADING _ ASTERISK - > * [ 1 : 0 ] 
 | - - WS - > [ 1 : 2 ] 
 @ @ - 398 , 10 + 373 , 6 @ @ JAVADOC - > < acronym title = " as soon as possible " > ASAP < / acronym > < EOF > [ 0 : 0 ] 
 | | | ` - - ATTR _ VALUE - > " as soon as possible " [ 0 : 15 ] 
 | | ` - - CLOSE - > > [ 0 : 37 ] 
 | | - - TEXT - > ASAP [ 0 : 38 ] 
 - | | | - - CHAR - > A [ 0 : 38 ] 
 - | | | - - CHAR - > S [ 0 : 39 ] 
 - | | | - - CHAR - > A [ 0 : 40 ] 
 - | | ` - - CHAR - > P [ 0 : 41 ] 
 | ` - - HTML _ ELEMENT _ CLOSE - > < / acronym > [ 0 : 42 ] 
 | | - - OPEN - > < [ 0 : 42 ] 
 | | - - SLASH - > / [ 0 : 43 ] 
 @ @ - 449 , 12 + 420 , 6 @ @ JAVADOC - > < p > First \ r \ n < p > Second < EOF > [ 0 : 0 ] 
 | | - - P _ HTML _ TAG _ NAME - > p [ 0 : 1 ] 
 | ` - - CLOSE - > > [ 0 : 2 ] 
 | - - TEXT - > First [ 0 : 3 ] 
 - | | - - WS - > [ 0 : 3 ] 
 - | | - - CHAR - > F [ 0 : 4 ] 
 - | | - - CHAR - > i [ 0 : 5 ] 
 - | | - - CHAR - > r [ 0 : 6 ] 
 - | | - - CHAR - > s [ 0 : 7 ] 
 - | ` - - CHAR - > t [ 0 : 8 ] 
 | - - NEWLINE - > \ r \ n [ 0 : 9 ] 
 | - - HTML _ ELEMENT - > < p > [ 1 : 0 ] 
 | ` - - P _ TAG _ OPEN - > < p > [ 1 : 0 ] 
 @ @ - 462 , 13 + 427 , 6 @ @ JAVADOC - > < p > First \ r \ n < p > Second < EOF > [ 0 : 0 ] 
 | | - - P _ HTML _ TAG _ NAME - > p [ 1 : 1 ] 
 | ` - - CLOSE - > > [ 1 : 2 ] 
 | - - TEXT - > Second [ 1 : 3 ] 
 - | | - - WS - > [ 1 : 3 ] 
 - | | - - CHAR - > S [ 1 : 4 ] 
 - | | - - CHAR - > e [ 1 : 5 ] 
 - | | - - CHAR - > c [ 1 : 6 ] 
 - | | - - CHAR - > o [ 1 : 7 ] 
 - | | - - CHAR - > n [ 1 : 8 ] 
 - | ` - - CHAR - > d [ 1 : 9 ] 
 ` - - EOF - > < EOF > [ 1 : 10 ] 
 ] ] > < / source > 
 < / td > 
 @ @ - 482 , 13 + 440 , 6 @ @ JAVADOC - > < p > First < / p > \ r \ n < p > Second < / p > < EOF > [ 0 : 0 ] 
 | | | - - P _ HTML _ TAG _ NAME - > p [ 0 : 1 ] 
 | | ` - - CLOSE - > > [ 0 : 2 ] 
 | | - - TEXT - > First [ 0 : 3 ] 
 - | | | - - WS - > [ 0 : 3 ] 
 - | | | - - CHAR - > F [ 0 : 4 ] 
 - | | | - - CHAR - > i [ 0 : 5 ] 
 - | | | - - CHAR - > r [ 0 : 6 ] 
 - | | | - - CHAR - > s [ 0 : 7 ] 
 - | | | - - CHAR - > t [ 0 : 8 ] 
 - | | ` - - WS - > [ 0 : 9 ] 
 | ` - - P _ TAG _ CLOSE - > < / p > [ 0 : 10 ] 
 | | - - OPEN - > < [ 0 : 10 ] 
 | | - - SLASH - > / [ 0 : 11 ] 
 @ @ - 502 , 14 + 453 , 6 @ @ JAVADOC - > < p > First < / p > \ r \ n < p > Second < / p > < EOF > [ 0 : 0 ] 
 | | | - - P _ HTML _ TAG _ NAME - > p [ 1 : 1 ] 
 | | ` - - CLOSE - > > [ 1 : 2 ] 
 | | - - TEXT - > Second [ 1 : 3 ] 
 - | | | - - WS - > [ 1 : 3 ] 
 - | | | - - CHAR - > S [ 1 : 4 ] 
 - | | | - - CHAR - > e [ 1 : 5 ] 
 - | | | - - CHAR - > c [ 1 : 6 ] 
 - | | | - - CHAR - > o [ 1 : 7 ] 
 - | | | - - CHAR - > n [ 1 : 8 ] 
 - | | | - - CHAR - > d [ 1 : 9 ] 
 - | | ` - - WS - > [ 1 : 10 ] 
 | ` - - P _ TAG _ CLOSE - > < / p > [ 1 : 11 ] 
 | | - - OPEN - > < [ 1 : 11 ] 
 | | - - SLASH - > / [ 1 : 12 ]

NEAREST DIFF:
diff - - git a / pom . xml b / pom . xml 
 index 98a8bbc . . 48c117b 100644 
 - - - a / pom . xml 
 + + + b / pom . xml 
 @ @ - 22 , 7 + 22 , 7 @ @ 
 
 < groupId > com . puppycrawl . tools < / groupId > 
 < artifactId > checkstyle < / artifactId > 
 - < version > 7 . 1 . 2 - SNAPSHOT < / version > 
 + < version > 7 . 2 - SNAPSHOT < / version > 
 < packaging > jar < / packaging > 
 
 < name > checkstyle < / name >
