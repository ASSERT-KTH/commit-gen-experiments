BLEU SCORE: 0.034585921141027376

TEST MSG: Issue # 6133 : Disable XML External Entity load in XmlUtil . java in tests
GENERATED MSG: Decrease visibility of fields and methods in main and utils packages . # 1555

TEST DIFF (one line): diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / XmlLoader . java b / src / main / java / com / puppycrawl / tools / checkstyle / XmlLoader . java <nl> index df664a9 . . 48e41ea 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / XmlLoader . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / XmlLoader . java <nl> @ @ - 119 , 10 + 119 , 10 @ @ public class XmlLoader <nl> public static final String ENABLE _ EXTERNAL _ DTD _ LOAD = " checkstyle . enableExternalDtdLoad " ; <nl> <nl> / * * Feature that enables loading external DTD when loading XML files . * / <nl> - private static final String LOAD _ EXTERNAL _ DTD = <nl> + public static final String LOAD _ EXTERNAL _ DTD = <nl> " http : / / apache . org / xml / features / nonvalidating / load - external - dtd " ; <nl> / * * Feature that enables including external general entities in XML files . * / <nl> - private static final String EXTERNAL _ GENERAL _ ENTITIES = <nl> + public static final String EXTERNAL _ GENERAL _ ENTITIES = <nl> " http : / / xml . org / sax / features / external - general - entities " ; <nl> <nl> / * * Stop instances being created . * * / <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / internal / utils / XmlUtil . java b / src / test / java / com / puppycrawl / tools / checkstyle / internal / utils / XmlUtil . java <nl> index ee0e68e . . 77e042e 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / internal / utils / XmlUtil . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / internal / utils / XmlUtil . java <nl> @ @ - 34 , 6 + 34 , 8 @ @ import org . w3c . dom . Node ; <nl> import org . xml . sax . InputSource ; <nl> import org . xml . sax . SAXException ; <nl> <nl> + import com . puppycrawl . tools . checkstyle . XmlLoader ; <nl> + <nl> / * * <nl> * XmlUtil . <nl> * @ noinspection ClassOnlyUsedInOnePackage <nl> @ @ - 49 , 6 + 51 , 10 @ @ public final class XmlUtil { <nl> try { <nl> final DocumentBuilderFactory factory = DocumentBuilderFactory . newInstance ( ) ; <nl> factory . setValidating ( false ) ; <nl> + factory . setFeature ( <nl> + XmlLoader . LoadExternalDtdFeatureProvider . EXTERNAL _ GENERAL _ ENTITIES , false ) ; <nl> + factory . setFeature ( <nl> + XmlLoader . LoadExternalDtdFeatureProvider . LOAD _ EXTERNAL _ DTD , false ) ; <nl> <nl> final DocumentBuilder builder = factory . newDocumentBuilder ( ) ; <nl>
NEAREST DIFF (one line): diff - - git a / config / pmd . xml b / config / pmd . xml <nl> index 93ab022 . . 0d7fd6b 100644 <nl> - - - a / config / pmd . xml <nl> + + + b / config / pmd . xml <nl> @ @ - 160 , 12 + 160 , 6 @ @ <nl> < property name = " problemDepth " value = " 4 " / > <nl> < / properties > <nl> < / rule > <nl> - < rule ref = " rulesets / java / design . xml / SwitchDensity " > <nl> - < properties > <nl> - < ! - - till # 973 - - > <nl> - < property name = " violationSuppressXPath " value = " / / ClassOrInterfaceDeclaration [ @ Image = ' DeclarationOrderCheck ' ] " / > <nl> - < / properties > <nl> - < / rule > <nl> <nl> < rule ref = " rulesets / java / design . xml / SingularField " > <nl> < properties >

TEST DIFF:
diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / XmlLoader . java b / src / main / java / com / puppycrawl / tools / checkstyle / XmlLoader . java 
 index df664a9 . . 48e41ea 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / XmlLoader . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / XmlLoader . java 
 @ @ - 119 , 10 + 119 , 10 @ @ public class XmlLoader 
 public static final String ENABLE _ EXTERNAL _ DTD _ LOAD = " checkstyle . enableExternalDtdLoad " ; 
 
 / * * Feature that enables loading external DTD when loading XML files . * / 
 - private static final String LOAD _ EXTERNAL _ DTD = 
 + public static final String LOAD _ EXTERNAL _ DTD = 
 " http : / / apache . org / xml / features / nonvalidating / load - external - dtd " ; 
 / * * Feature that enables including external general entities in XML files . * / 
 - private static final String EXTERNAL _ GENERAL _ ENTITIES = 
 + public static final String EXTERNAL _ GENERAL _ ENTITIES = 
 " http : / / xml . org / sax / features / external - general - entities " ; 
 
 / * * Stop instances being created . * * / 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / internal / utils / XmlUtil . java b / src / test / java / com / puppycrawl / tools / checkstyle / internal / utils / XmlUtil . java 
 index ee0e68e . . 77e042e 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / internal / utils / XmlUtil . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / internal / utils / XmlUtil . java 
 @ @ - 34 , 6 + 34 , 8 @ @ import org . w3c . dom . Node ; 
 import org . xml . sax . InputSource ; 
 import org . xml . sax . SAXException ; 
 
 + import com . puppycrawl . tools . checkstyle . XmlLoader ; 
 + 
 / * * 
 * XmlUtil . 
 * @ noinspection ClassOnlyUsedInOnePackage 
 @ @ - 49 , 6 + 51 , 10 @ @ public final class XmlUtil { 
 try { 
 final DocumentBuilderFactory factory = DocumentBuilderFactory . newInstance ( ) ; 
 factory . setValidating ( false ) ; 
 + factory . setFeature ( 
 + XmlLoader . LoadExternalDtdFeatureProvider . EXTERNAL _ GENERAL _ ENTITIES , false ) ; 
 + factory . setFeature ( 
 + XmlLoader . LoadExternalDtdFeatureProvider . LOAD _ EXTERNAL _ DTD , false ) ; 
 
 final DocumentBuilder builder = factory . newDocumentBuilder ( ) ; 


NEAREST DIFF:
diff - - git a / config / pmd . xml b / config / pmd . xml 
 index 93ab022 . . 0d7fd6b 100644 
 - - - a / config / pmd . xml 
 + + + b / config / pmd . xml 
 @ @ - 160 , 12 + 160 , 6 @ @ 
 < property name = " problemDepth " value = " 4 " / > 
 < / properties > 
 < / rule > 
 - < rule ref = " rulesets / java / design . xml / SwitchDensity " > 
 - < properties > 
 - < ! - - till # 973 - - > 
 - < property name = " violationSuppressXPath " value = " / / ClassOrInterfaceDeclaration [ @ Image = ' DeclarationOrderCheck ' ] " / > 
 - < / properties > 
 - < / rule > 
 
 < rule ref = " rulesets / java / design . xml / SingularField " > 
 < properties >
