BLEU SCORE: 0.15844501337268932

TEST MSG: Issue # 4220 : Split and Organize Checkstyle inputs by Test in the blocks package : EmptyBlock
GENERATED MSG: Issue # 4220 : Modified EmptyBlockCheckTest . java and moved its input files to the emptyblock subdirectory

TEST DIFF (one line): diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / checks / blocks / EmptyBlockCheckTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / checks / blocks / EmptyBlockCheckTest . java <nl> index 2aeb83e . . 146d734 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / checks / blocks / EmptyBlockCheckTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / checks / blocks / EmptyBlockCheckTest . java <nl> @ @ - 40 , 7 + 40 , 9 @ @ public class EmptyBlockCheckTest <nl> @ Override <nl> protected String getPath ( String filename ) throws IOException { <nl> return super . getPath ( " checks " + File . separator <nl> - + " blocks " + File . separator + filename ) ; <nl> + + " blocks " + File . separator <nl> + + " emptyblock " + File . separator <nl> + + filename ) ; <nl> } <nl> <nl> / * Additional test for jacoco , since valueOf ( ) <nl> @ @ - 68 , 7 + 70 , 7 @ @ public class EmptyBlockCheckTest <nl> " 73 : 41 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ NO _ STMT ) , <nl> " 84 : 12 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ NO _ STMT ) , <nl> } ; <nl> - verify ( checkConfig , getPath ( " InputSemantic . java " ) , expected ) ; <nl> + verify ( checkConfig , getPath ( " InputEmptyBlockSemantic . java " ) , expected ) ; <nl> } <nl> <nl> @ Test <nl> @ @ - 84 , 7 + 86 , 7 @ @ public class EmptyBlockCheckTest <nl> " 71 : 29 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ EMPTY , " synchronized " ) , <nl> " 84 : 12 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ EMPTY , " STATIC _ INIT " ) , <nl> } ; <nl> - verify ( checkConfig , getPath ( " InputSemantic . java " ) , expected ) ; <nl> + verify ( checkConfig , getPath ( " InputEmptyBlockSemantic . java " ) , expected ) ; <nl> } <nl> <nl> @ Test <nl> @ @ - 103 , 7 + 105 , 7 @ @ public class EmptyBlockCheckTest <nl> " 73 : 41 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ NO _ STMT ) , <nl> " 84 : 12 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ NO _ STMT ) , <nl> } ; <nl> - verify ( checkConfig , getPath ( " InputSemantic . java " ) , expected ) ; <nl> + verify ( checkConfig , getPath ( " InputEmptyBlockSemantic . java " ) , expected ) ; <nl> } <nl> <nl> @ Test <nl> @ @ - 120 , 7 + 122 , 7 @ @ public class EmptyBlockCheckTest <nl> " 22 : 29 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ NO _ STMT ) , <nl> " 23 : 28 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ NO _ STMT ) , <nl> } ; <nl> - verify ( checkConfig , getPath ( " InputSemantic2 . java " ) , expected ) ; <nl> + verify ( checkConfig , getPath ( " InputEmptyBlockSemantic2 . java " ) , expected ) ; <nl> } <nl> <nl> @ Test <nl> @ @ - 137 , 7 + 139 , 7 @ @ public class EmptyBlockCheckTest <nl> " 22 : 29 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ EMPTY , " if " ) , <nl> " 23 : 28 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ EMPTY , " switch " ) , <nl> } ; <nl> - verify ( checkConfig , getPath ( " InputSemantic2 . java " ) , expected ) ; <nl> + verify ( checkConfig , getPath ( " InputEmptyBlockSemantic2 . java " ) , expected ) ; <nl> } <nl> <nl> @ Test <nl> @ @ - 148 , 7 + 150 , 7 @ @ public class EmptyBlockCheckTest <nl> try { <nl> final String [ ] expected = CommonUtils . EMPTY _ STRING _ ARRAY ; <nl> <nl> - verify ( checkConfig , getPath ( " InputSemantic . java " ) , expected ) ; <nl> + verify ( checkConfig , getPath ( " InputEmptyBlockSemantic . java " ) , expected ) ; <nl> fail ( " exception expected " ) ; <nl> } <nl> catch ( CheckstyleException ex ) { <nl> @ @ - 170 , 7 + 172 , 7 @ @ public class EmptyBlockCheckTest <nl> " 31 : 37 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ EMPTY , " case " ) , <nl> " 32 : 29 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ EMPTY , " case " ) , <nl> } ; <nl> - verify ( checkConfig , getPath ( " InputEmptyCase . java " ) , expected ) ; <nl> + verify ( checkConfig , getPath ( " InputEmptyBlockCase . java " ) , expected ) ; <nl> } <nl> <nl> @ Test <nl> @ @ - 187 , 7 + 189 , 7 @ @ public class EmptyBlockCheckTest <nl> " 32 : 29 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ NO _ STMT , " case " ) , <nl> " 32 : 40 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ NO _ STMT , " case " ) , <nl> } ; <nl> - verify ( checkConfig , getPath ( " InputEmptyCase . java " ) , expected ) ; <nl> + verify ( checkConfig , getPath ( " InputEmptyBlockCase . java " ) , expected ) ; <nl> } <nl> <nl> @ Test <nl> @ @ - 203 , 7 + 205 , 7 @ @ public class EmptyBlockCheckTest <nl> " 50 : 22 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ EMPTY , " default " ) , <nl> " 78 : 13 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ EMPTY , " default " ) , <nl> } ; <nl> - verify ( checkConfig , getPath ( " InputEmptyDefault . java " ) , expected ) ; <nl> + verify ( checkConfig , getPath ( " InputEmptyBlockDefault . java " ) , expected ) ; <nl> } <nl> <nl> @ Test <nl> @ @ - 222 , 6 + 224 , 6 @ @ public class EmptyBlockCheckTest <nl> " 65 : 22 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ NO _ STMT , " default " ) , <nl> " 78 : 13 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ NO _ STMT , " default " ) , <nl> } ; <nl> - verify ( checkConfig , getPath ( " InputEmptyDefault . java " ) , expected ) ; <nl> + verify ( checkConfig , getPath ( " InputEmptyBlockDefault . java " ) , expected ) ; <nl> } <nl> } <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / InputEmptyCase . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / InputEmptyCase . java <nl> deleted file mode 100644 <nl> index b8c1df3 . . 0000000 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / InputEmptyCase . java <nl> + + + / dev / null <nl> @ @ - 1 , 36 + 0 , 0 @ @ <nl> - / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / <nl> - / / Input test file for testing empty LITERAL _ CASE . <nl> - / / Created : 2017 <nl> - / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / <nl> - package com . puppycrawl . tools . checkstyle . checks . blocks ; <nl> - <nl> - class InputEmptyCase <nl> - { <nl> - void method1 ( int a ) { <nl> - switch ( a ) { } <nl> - switch ( a ) { case 1 : ; } / / no violation <nl> - switch ( a ) { case 1 : { } } / / 1 violation <nl> - switch ( a ) { <nl> - case 1 : <nl> - } <nl> - switch ( a ) { <nl> - case 1 : / / 1 violation <nl> - { } <nl> - } <nl> - switch ( a ) { <nl> - case 1 : / / 1 violation if checking statements <nl> - { / / none if checking text <nl> - } <nl> - } <nl> - } <nl> - <nl> - public void method2 ( char c ) { <nl> - switch ( c ) { case 0 : } / / no violation <nl> - switch ( c ) { case 0 : { } method1 ( 1 ) ; } / / 1 violation <nl> - switch ( c ) { case 0 : method1 ( 0 ) ; { } } / / no violation <nl> - switch ( c ) { case 0 : case 1 : { } } / / 1 violation <nl> - switch ( c ) { case 0 : { } case 1 : { / / 2 violations if checking statements <nl> - } <nl> - } <nl> - } <nl> - } <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / InputEmptyDefault . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / InputEmptyDefault . java <nl> deleted file mode 100644 <nl> index d7a7984 . . 0000000 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / InputEmptyDefault . java <nl> + + + / dev / null <nl> @ @ - 1 , 89 + 0 , 0 @ @ <nl> - public class InputEmptyDefault { <nl> - void method1 ( int a ) { <nl> - switch ( a ) { } <nl> - switch ( a ) { default : ; } / / no violation <nl> - switch ( a ) { default : { } } / / violation <nl> - switch ( a ) { <nl> - default : <nl> - } <nl> - switch ( a ) { <nl> - default : / / violation <nl> - { } <nl> - } <nl> - switch ( a ) { <nl> - default : / / violation if checking statements <nl> - { / / text <nl> - } <nl> - } <nl> - } <nl> - <nl> - void method2 ( int a ) { <nl> - switch ( a ) { <nl> - case 1 : a + + ; <nl> - case 2 : a + + ; <nl> - default : / / no violation <nl> - switch ( a ) { <nl> - default : { / / violation if checking for statements <nl> - <nl> - } <nl> - } <nl> - } <nl> - } <nl> - <nl> - void method3 ( int a , int b ) { <nl> - switch ( a ) { <nl> - case 1 : break ; <nl> - default : { } method2 ( a ) ; / / violation <nl> - } <nl> - <nl> - switch ( b ) { <nl> - case 2 : break ; <nl> - default : method2 ( b ) ; { } / / no violation <nl> - } <nl> - <nl> - switch ( a + b ) { case 1 : break ; default : { } ; } / / violation <nl> - } <nl> - <nl> - void method4 ( int a , int b ) { <nl> - switch ( a ) { <nl> - case 1 : <nl> - default : { } / / violation <nl> - } <nl> - <nl> - switch ( b ) { <nl> - case 1 : <nl> - default : / / no violation <nl> - } <nl> - <nl> - switch ( a + b ) { <nl> - default : / / no violation <nl> - case 1 : { } <nl> - } <nl> - <nl> - switch ( a - b ) { <nl> - case 1 : <nl> - default : { / / violation if checking statements <nl> - <nl> - } ; <nl> - case 2 : { } <nl> - } <nl> - } <nl> - <nl> - void method5 ( int a , int b ) { <nl> - switch ( a ) { <nl> - case 1 : <nl> - case 2 : <nl> - case 3 : <nl> - default : / / violation <nl> - { <nl> - } <nl> - } <nl> - <nl> - switch ( b ) { <nl> - default : / / no violation <nl> - case 1 : <nl> - case 2 : { } method2 ( b ) ; <nl> - case 3 : <nl> - } <nl> - } <nl> - } <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / InputSemantic . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / InputSemantic . java <nl> deleted file mode 100644 <nl> index 94cda5d . . 0000000 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / InputSemantic . java <nl> + + + / dev / null <nl> @ @ - 1 , 87 + 0 , 0 @ @ <nl> - / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / <nl> - / / Test case file for checkstyle . <nl> - / / Created : 2001 <nl> - / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / <nl> - package com . puppycrawl . tools . checkstyle . checks . blocks ; <nl> - <nl> - import java . io . * ; / / star import for instantiation tests <nl> - import java . awt . Dimension ; / / explicit import for instantiation tests <nl> - import java . awt . Color ; <nl> - <nl> - / * * <nl> - * Test case for detecting empty block statements . <nl> - * @ author Lars K ü hne <nl> - * * / <nl> - class InputSemantic <nl> - { <nl> - static { <nl> - Boolean x = new Boolean ( true ) ; <nl> - } <nl> - <nl> - { <nl> - Boolean x = new Boolean ( true ) ; <nl> - Boolean [ ] y = new Boolean [ ] { Boolean . TRUE , Boolean . FALSE } ; <nl> - } <nl> - <nl> - Boolean getBoolean ( ) <nl> - { <nl> - return new java . lang . Boolean ( true ) ; <nl> - } <nl> - <nl> - void exHandlerTest ( ) <nl> - { <nl> - try { <nl> - } <nl> - finally { <nl> - } <nl> - try { <nl> - / / something <nl> - } <nl> - finally { <nl> - / / something <nl> - } <nl> - try { <nl> - ; / / something <nl> - } <nl> - finally { <nl> - ; / / statement <nl> - } <nl> - } <nl> - <nl> - / * * test * * / <nl> - private static final long IGNORE = 666l + 666L ; <nl> - <nl> - public class EqualsVsHashCode1 <nl> - { <nl> - public boolean equals ( int a ) <nl> - { <nl> - return a = = 1 ; <nl> - } <nl> - } <nl> - <nl> - / / empty instance initializer <nl> - { <nl> - } <nl> - <nl> - private class InputBraces { <nl> - <nl> - } <nl> - <nl> - synchronized void foo ( ) { <nl> - synchronized ( this ) { } / / not OK <nl> - synchronized ( Class . class ) { / / OK <nl> - synchronized ( new Object ( ) ) { <nl> - / / not OK if checking statements <nl> - } <nl> - } <nl> - } <nl> - <nl> - <nl> - static { <nl> - <nl> - int a = 0 ; } <nl> - <nl> - static { <nl> - <nl> - } <nl> - } <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / InputSemantic2 . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / InputSemantic2 . java <nl> deleted file mode 100644 <nl> index 01b93df . . 0000000 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / InputSemantic2 . java <nl> + + + / dev / null <nl> @ @ - 1 , 38 + 0 , 0 @ @ <nl> - / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / <nl> - / / Test case file for checkstyle . <nl> - / / Created : 2001 <nl> - / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / <nl> - package com . puppycrawl . tools . checkstyle . checks . blocks ; <nl> - <nl> - import java . io . * ; / / star import for instantiation tests <nl> - import java . awt . Dimension ; / / explicit import for instantiation tests <nl> - import java . awt . Color ; <nl> - <nl> - class UpdateClass <nl> - { <nl> - 	 public void fooMethod ( ) <nl> - 	 { <nl> - 	 	 int a = 1 ; <nl> - 	 	 if ( a = = 1 ) { } / / is not OK <nl> - 	 	 char [ ] s = { ' 1 ' , ' 2 ' } ; <nl> - 	 	 int index = 2 ; <nl> - 	 	 if ( doSideEffect ( ) = = 1 ) { } / / is not OK , <nl> - 	 	 while ( ( a = index - 1 ) ! = 0 ) { } / / is OK <nl> - 	 	 for ( ; index < s . length & & s [ index ] ! = ' x ' ; index + + ) { } / / is OK <nl> - 	 	 if ( a = = 1 ) { } else { System . identityHashCode ( " a " ) ; } / / is not OK <nl> - 	 	 switch ( a ) { } / / warn <nl> - 	 	 switch ( a ) { / / ok <nl> - case 1 : <nl> - a = 2 ; <nl> - case 2 : <nl> - a = 3 ; <nl> - default : <nl> - a = 0 ; <nl> - } <nl> - 	 } <nl> - 	 <nl> - 	 public int doSideEffect ( ) <nl> - 	 { <nl> - 	 	 return 1 ; <nl> - 	 } <nl> - } <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / emptyblock / InputEmptyBlockCase . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / emptyblock / InputEmptyBlockCase . java <nl> new file mode 100644 <nl> index 0000000 . . bf75c7b <nl> - - - / dev / null <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / emptyblock / InputEmptyBlockCase . java <nl> @ @ - 0 , 0 + 1 , 36 @ @ <nl> + / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / <nl> + / / Input test file for testing empty LITERAL _ CASE . <nl> + / / Created : 2017 <nl> + / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / <nl> + package com . puppycrawl . tools . checkstyle . checks . blocks . emptyblock ; <nl> + <nl> + class InputEmptyBlockCase <nl> + { <nl> + void method1 ( int a ) { <nl> + switch ( a ) { } <nl> + switch ( a ) { case 1 : ; } / / no violation <nl> + switch ( a ) { case 1 : { } } / / 1 violation <nl> + switch ( a ) { <nl> + case 1 : <nl> + } <nl> + switch ( a ) { <nl> + case 1 : / / 1 violation <nl> + { } <nl> + } <nl> + switch ( a ) { <nl> + case 1 : / / 1 violation if checking statements <nl> + { / / none if checking text <nl> + } <nl> + } <nl> + } <nl> + <nl> + public void method2 ( char c ) { <nl> + switch ( c ) { case 0 : } / / no violation <nl> + switch ( c ) { case 0 : { } method1 ( 1 ) ; } / / 1 violation <nl> + switch ( c ) { case 0 : method1 ( 0 ) ; { } } / / no violation <nl> + switch ( c ) { case 0 : case 1 : { } } / / 1 violation <nl> + switch ( c ) { case 0 : { } case 1 : { / / 2 violations if checking statements <nl> + } <nl> + } <nl> + } <nl> + } <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / emptyblock / InputEmptyBlockDefault . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / emptyblock / InputEmptyBlockDefault . java <nl> new file mode 100644 <nl> index 0000000 . . 006b90f <nl> - - - / dev / null <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / emptyblock / InputEmptyBlockDefault . java <nl> @ @ - 0 , 0 + 1 , 89 @ @ <nl> + public class InputEmptyBlockDefault { <nl> + void method1 ( int a ) { <nl> + switch ( a ) { } <nl> + switch ( a ) { default : ; } / / no violation <nl> + switch ( a ) { default : { } } / / violation <nl> + switch ( a ) { <nl> + default : <nl> + } <nl> + switch ( a ) { <nl> + default : / / violation <nl> + { } <nl> + } <nl> + switch ( a ) { <nl> + default : / / violation if checking statements <nl> + { / / text <nl> + } <nl> + } <nl> + } <nl> + <nl> + void method2 ( int a ) { <nl> + switch ( a ) { <nl> + case 1 : a + + ; <nl> + case 2 : a + + ; <nl> + default : / / no violation <nl> + switch ( a ) { <nl> + default : { / / violation if checking for statements <nl> + <nl> + } <nl> + } <nl> + } <nl> + } <nl> + <nl> + void method3 ( int a , int b ) { <nl> + switch ( a ) { <nl> + case 1 : break ; <nl> + default : { } method2 ( a ) ; / / violation <nl> + } <nl> + <nl> + switch ( b ) { <nl> + case 2 : break ; <nl> + default : method2 ( b ) ; { } / / no violation <nl> + } <nl> + <nl> + switch ( a + b ) { case 1 : break ; default : { } ; } / / violation <nl> + } <nl> + <nl> + void method4 ( int a , int b ) { <nl> + switch ( a ) { <nl> + case 1 : <nl> + default : { } / / violation <nl> + } <nl> + <nl> + switch ( b ) { <nl> + case 1 : <nl> + default : / / no violation <nl> + } <nl> + <nl> + switch ( a + b ) { <nl> + default : / / no violation <nl> + case 1 : { } <nl> + } <nl> + <nl> + switch ( a - b ) { <nl> + case 1 : <nl> + default : { / / violation if checking statements <nl> + <nl> + } ; <nl> + case 2 : { } <nl> + } <nl> + } <nl> + <nl> + void method5 ( int a , int b ) { <nl> + switch ( a ) { <nl> + case 1 : <nl> + case 2 : <nl> + case 3 : <nl> + default : / / violation <nl> + { <nl> + } <nl> + } <nl> + <nl> + switch ( b ) { <nl> + default : / / no violation <nl> + case 1 : <nl> + case 2 : { } method2 ( b ) ; <nl> + case 3 : <nl> + } <nl> + } <nl> + } <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / emptyblock / InputEmptyBlockSemantic . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / emptyblock / InputEmptyBlockSemantic . java <nl> new file mode 100644 <nl> index 0000000 . . cc1111b <nl> - - - / dev / null <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / emptyblock / InputEmptyBlockSemantic . java <nl> @ @ - 0 , 0 + 1 , 87 @ @ <nl> + / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / <nl> + / / Test case file for checkstyle . <nl> + / / Created : 2001 <nl> + / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / <nl> + package com . puppycrawl . tools . checkstyle . checks . blocks . emptyblock ; <nl> + <nl> + import java . io . * ; / / star import for instantiation tests <nl> + import java . awt . Dimension ; / / explicit import for instantiation tests <nl> + import java . awt . Color ; <nl> + <nl> + / * * <nl> + * Test case for detecting empty block statements . <nl> + * @ author Lars K ü hne <nl> + * * / <nl> + class InputEmptyBlockSemantic <nl> + { <nl> + static { <nl> + Boolean x = new Boolean ( true ) ; <nl> + } <nl> + <nl> + { <nl> + Boolean x = new Boolean ( true ) ; <nl> + Boolean [ ] y = new Boolean [ ] { Boolean . TRUE , Boolean . FALSE } ; <nl> + } <nl> + <nl> + Boolean getBoolean ( ) <nl> + { <nl> + return new java . lang . Boolean ( true ) ; <nl> + } <nl> + <nl> + void exHandlerTest ( ) <nl> + { <nl> + try { <nl> + } <nl> + finally { <nl> + } <nl> + try { <nl> + / / something <nl> + } <nl> + finally { <nl> + / / something <nl> + } <nl> + try { <nl> + ; / / something <nl> + } <nl> + finally { <nl> + ; / / statement <nl> + } <nl> + } <nl> + <nl> + / * * test * * / <nl> + private static final long IGNORE = 666l + 666L ; <nl> + <nl> + public class EqualsVsHashCode1 <nl> + { <nl> + public boolean equals ( int a ) <nl> + { <nl> + return a = = 1 ; <nl> + } <nl> + } <nl> + <nl> + / / empty instance initializer <nl> + { <nl> + } <nl> + <nl> + private class InputBraces { <nl> + <nl> + } <nl> + <nl> + synchronized void foo ( ) { <nl> + synchronized ( this ) { } / / not OK <nl> + synchronized ( Class . class ) { / / OK <nl> + synchronized ( new Object ( ) ) { <nl> + / / not OK if checking statements <nl> + } <nl> + } <nl> + } <nl> + <nl> + <nl> + static { <nl> + <nl> + int a = 0 ; } <nl> + <nl> + static { <nl> + <nl> + } <nl> + } <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / emptyblock / InputEmptyBlockSemantic2 . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / emptyblock / InputEmptyBlockSemantic2 . java <nl> new file mode 100644 <nl> index 0000000 . . 7e603ef <nl> - - - / dev / null <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / emptyblock / InputEmptyBlockSemantic2 . java <nl> @ @ - 0 , 0 + 1 , 38 @ @ <nl> + / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / <nl> + / / Test case file for checkstyle . <nl> + / / Created : 2001 <nl> + / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / <nl> + package com . puppycrawl . tools . checkstyle . checks . blocks . emptyblock ; <nl> + <nl> + import java . io . * ; / / star import for instantiation tests <nl> + import java . awt . Dimension ; / / explicit import for instantiation tests <nl> + import java . awt . Color ; <nl> + <nl> + class InputEmptyBlockSemantic2 <nl> + { <nl> + 	 public void fooMethod ( ) <nl> + 	 { <nl> + 	 	 int a = 1 ; <nl> + 	 	 if ( a = = 1 ) { } / / is not OK <nl> + 	 	 char [ ] s = { ' 1 ' , ' 2 ' } ; <nl> + 	 	 int index = 2 ; <nl> + 	 	 if ( doSideEffect ( ) = = 1 ) { } / / is not OK , <nl> + 	 	 while ( ( a = index - 1 ) ! = 0 ) { } / / is OK <nl> + 	 	 for ( ; index < s . length & & s [ index ] ! = ' x ' ; index + + ) { } / / is OK <nl> + 	 	 if ( a = = 1 ) { } else { System . identityHashCode ( " a " ) ; } / / is not OK <nl> + 	 	 switch ( a ) { } / / warn <nl> + 	 	 switch ( a ) { / / ok <nl> + case 1 : <nl> + a = 2 ; <nl> + case 2 : <nl> + a = 3 ; <nl> + default : <nl> + a = 0 ; <nl> + } <nl> + 	 } <nl> + 	 <nl> + 	 public int doSideEffect ( ) <nl> + 	 { <nl> + 	 	 return 1 ; <nl> + 	 } <nl> + }
NEAREST DIFF (one line): diff - - git a / . ci / run - link - check - plugin . sh b / . ci / run - link - check - plugin . sh <nl> index 038272a . . 434df02 100755 <nl> - - - a / . ci / run - link - check - plugin . sh <nl> + + + b / . ci / run - link - check - plugin . sh <nl> @ @ - 15 , 4 + 15 , 5 @ @ grep externalLink target / site / linkcheck . html | cat <nl> echo " - - - - - - - - - - - - grep of linkcheck . html - - END " <nl> RESULT = $ ( grep externalLink target / site / linkcheck . html | grep - v ' Read timed out ' | wc - l ) <nl> echo ' Exit code : ' $ RESULT <nl> - if [ [ $ RESULT ! = 0 ] ] ; then false ; fi <nl> \ No newline at end of file <nl> + if [ [ $ RESULT ! = 0 ] ] ; then false ; fi <nl> +

TEST DIFF:
diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / checks / blocks / EmptyBlockCheckTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / checks / blocks / EmptyBlockCheckTest . java 
 index 2aeb83e . . 146d734 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / checks / blocks / EmptyBlockCheckTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / checks / blocks / EmptyBlockCheckTest . java 
 @ @ - 40 , 7 + 40 , 9 @ @ public class EmptyBlockCheckTest 
 @ Override 
 protected String getPath ( String filename ) throws IOException { 
 return super . getPath ( " checks " + File . separator 
 - + " blocks " + File . separator + filename ) ; 
 + + " blocks " + File . separator 
 + + " emptyblock " + File . separator 
 + + filename ) ; 
 } 
 
 / * Additional test for jacoco , since valueOf ( ) 
 @ @ - 68 , 7 + 70 , 7 @ @ public class EmptyBlockCheckTest 
 " 73 : 41 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ NO _ STMT ) , 
 " 84 : 12 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ NO _ STMT ) , 
 } ; 
 - verify ( checkConfig , getPath ( " InputSemantic . java " ) , expected ) ; 
 + verify ( checkConfig , getPath ( " InputEmptyBlockSemantic . java " ) , expected ) ; 
 } 
 
 @ Test 
 @ @ - 84 , 7 + 86 , 7 @ @ public class EmptyBlockCheckTest 
 " 71 : 29 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ EMPTY , " synchronized " ) , 
 " 84 : 12 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ EMPTY , " STATIC _ INIT " ) , 
 } ; 
 - verify ( checkConfig , getPath ( " InputSemantic . java " ) , expected ) ; 
 + verify ( checkConfig , getPath ( " InputEmptyBlockSemantic . java " ) , expected ) ; 
 } 
 
 @ Test 
 @ @ - 103 , 7 + 105 , 7 @ @ public class EmptyBlockCheckTest 
 " 73 : 41 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ NO _ STMT ) , 
 " 84 : 12 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ NO _ STMT ) , 
 } ; 
 - verify ( checkConfig , getPath ( " InputSemantic . java " ) , expected ) ; 
 + verify ( checkConfig , getPath ( " InputEmptyBlockSemantic . java " ) , expected ) ; 
 } 
 
 @ Test 
 @ @ - 120 , 7 + 122 , 7 @ @ public class EmptyBlockCheckTest 
 " 22 : 29 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ NO _ STMT ) , 
 " 23 : 28 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ NO _ STMT ) , 
 } ; 
 - verify ( checkConfig , getPath ( " InputSemantic2 . java " ) , expected ) ; 
 + verify ( checkConfig , getPath ( " InputEmptyBlockSemantic2 . java " ) , expected ) ; 
 } 
 
 @ Test 
 @ @ - 137 , 7 + 139 , 7 @ @ public class EmptyBlockCheckTest 
 " 22 : 29 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ EMPTY , " if " ) , 
 " 23 : 28 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ EMPTY , " switch " ) , 
 } ; 
 - verify ( checkConfig , getPath ( " InputSemantic2 . java " ) , expected ) ; 
 + verify ( checkConfig , getPath ( " InputEmptyBlockSemantic2 . java " ) , expected ) ; 
 } 
 
 @ Test 
 @ @ - 148 , 7 + 150 , 7 @ @ public class EmptyBlockCheckTest 
 try { 
 final String [ ] expected = CommonUtils . EMPTY _ STRING _ ARRAY ; 
 
 - verify ( checkConfig , getPath ( " InputSemantic . java " ) , expected ) ; 
 + verify ( checkConfig , getPath ( " InputEmptyBlockSemantic . java " ) , expected ) ; 
 fail ( " exception expected " ) ; 
 } 
 catch ( CheckstyleException ex ) { 
 @ @ - 170 , 7 + 172 , 7 @ @ public class EmptyBlockCheckTest 
 " 31 : 37 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ EMPTY , " case " ) , 
 " 32 : 29 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ EMPTY , " case " ) , 
 } ; 
 - verify ( checkConfig , getPath ( " InputEmptyCase . java " ) , expected ) ; 
 + verify ( checkConfig , getPath ( " InputEmptyBlockCase . java " ) , expected ) ; 
 } 
 
 @ Test 
 @ @ - 187 , 7 + 189 , 7 @ @ public class EmptyBlockCheckTest 
 " 32 : 29 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ NO _ STMT , " case " ) , 
 " 32 : 40 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ NO _ STMT , " case " ) , 
 } ; 
 - verify ( checkConfig , getPath ( " InputEmptyCase . java " ) , expected ) ; 
 + verify ( checkConfig , getPath ( " InputEmptyBlockCase . java " ) , expected ) ; 
 } 
 
 @ Test 
 @ @ - 203 , 7 + 205 , 7 @ @ public class EmptyBlockCheckTest 
 " 50 : 22 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ EMPTY , " default " ) , 
 " 78 : 13 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ EMPTY , " default " ) , 
 } ; 
 - verify ( checkConfig , getPath ( " InputEmptyDefault . java " ) , expected ) ; 
 + verify ( checkConfig , getPath ( " InputEmptyBlockDefault . java " ) , expected ) ; 
 } 
 
 @ Test 
 @ @ - 222 , 6 + 224 , 6 @ @ public class EmptyBlockCheckTest 
 " 65 : 22 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ NO _ STMT , " default " ) , 
 " 78 : 13 : " + getCheckMessage ( MSG _ KEY _ BLOCK _ NO _ STMT , " default " ) , 
 } ; 
 - verify ( checkConfig , getPath ( " InputEmptyDefault . java " ) , expected ) ; 
 + verify ( checkConfig , getPath ( " InputEmptyBlockDefault . java " ) , expected ) ; 
 } 
 } 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / InputEmptyCase . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / InputEmptyCase . java 
 deleted file mode 100644 
 index b8c1df3 . . 0000000 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / InputEmptyCase . java 
 + + + / dev / null 
 @ @ - 1 , 36 + 0 , 0 @ @ 
 - / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / 
 - / / Input test file for testing empty LITERAL _ CASE . 
 - / / Created : 2017 
 - / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / 
 - package com . puppycrawl . tools . checkstyle . checks . blocks ; 
 - 
 - class InputEmptyCase 
 - { 
 - void method1 ( int a ) { 
 - switch ( a ) { } 
 - switch ( a ) { case 1 : ; } / / no violation 
 - switch ( a ) { case 1 : { } } / / 1 violation 
 - switch ( a ) { 
 - case 1 : 
 - } 
 - switch ( a ) { 
 - case 1 : / / 1 violation 
 - { } 
 - } 
 - switch ( a ) { 
 - case 1 : / / 1 violation if checking statements 
 - { / / none if checking text 
 - } 
 - } 
 - } 
 - 
 - public void method2 ( char c ) { 
 - switch ( c ) { case 0 : } / / no violation 
 - switch ( c ) { case 0 : { } method1 ( 1 ) ; } / / 1 violation 
 - switch ( c ) { case 0 : method1 ( 0 ) ; { } } / / no violation 
 - switch ( c ) { case 0 : case 1 : { } } / / 1 violation 
 - switch ( c ) { case 0 : { } case 1 : { / / 2 violations if checking statements 
 - } 
 - } 
 - } 
 - } 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / InputEmptyDefault . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / InputEmptyDefault . java 
 deleted file mode 100644 
 index d7a7984 . . 0000000 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / InputEmptyDefault . java 
 + + + / dev / null 
 @ @ - 1 , 89 + 0 , 0 @ @ 
 - public class InputEmptyDefault { 
 - void method1 ( int a ) { 
 - switch ( a ) { } 
 - switch ( a ) { default : ; } / / no violation 
 - switch ( a ) { default : { } } / / violation 
 - switch ( a ) { 
 - default : 
 - } 
 - switch ( a ) { 
 - default : / / violation 
 - { } 
 - } 
 - switch ( a ) { 
 - default : / / violation if checking statements 
 - { / / text 
 - } 
 - } 
 - } 
 - 
 - void method2 ( int a ) { 
 - switch ( a ) { 
 - case 1 : a + + ; 
 - case 2 : a + + ; 
 - default : / / no violation 
 - switch ( a ) { 
 - default : { / / violation if checking for statements 
 - 
 - } 
 - } 
 - } 
 - } 
 - 
 - void method3 ( int a , int b ) { 
 - switch ( a ) { 
 - case 1 : break ; 
 - default : { } method2 ( a ) ; / / violation 
 - } 
 - 
 - switch ( b ) { 
 - case 2 : break ; 
 - default : method2 ( b ) ; { } / / no violation 
 - } 
 - 
 - switch ( a + b ) { case 1 : break ; default : { } ; } / / violation 
 - } 
 - 
 - void method4 ( int a , int b ) { 
 - switch ( a ) { 
 - case 1 : 
 - default : { } / / violation 
 - } 
 - 
 - switch ( b ) { 
 - case 1 : 
 - default : / / no violation 
 - } 
 - 
 - switch ( a + b ) { 
 - default : / / no violation 
 - case 1 : { } 
 - } 
 - 
 - switch ( a - b ) { 
 - case 1 : 
 - default : { / / violation if checking statements 
 - 
 - } ; 
 - case 2 : { } 
 - } 
 - } 
 - 
 - void method5 ( int a , int b ) { 
 - switch ( a ) { 
 - case 1 : 
 - case 2 : 
 - case 3 : 
 - default : / / violation 
 - { 
 - } 
 - } 
 - 
 - switch ( b ) { 
 - default : / / no violation 
 - case 1 : 
 - case 2 : { } method2 ( b ) ; 
 - case 3 : 
 - } 
 - } 
 - } 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / InputSemantic . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / InputSemantic . java 
 deleted file mode 100644 
 index 94cda5d . . 0000000 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / InputSemantic . java 
 + + + / dev / null 
 @ @ - 1 , 87 + 0 , 0 @ @ 
 - / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / 
 - / / Test case file for checkstyle . 
 - / / Created : 2001 
 - / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / 
 - package com . puppycrawl . tools . checkstyle . checks . blocks ; 
 - 
 - import java . io . * ; / / star import for instantiation tests 
 - import java . awt . Dimension ; / / explicit import for instantiation tests 
 - import java . awt . Color ; 
 - 
 - / * * 
 - * Test case for detecting empty block statements . 
 - * @ author Lars K ü hne 
 - * * / 
 - class InputSemantic 
 - { 
 - static { 
 - Boolean x = new Boolean ( true ) ; 
 - } 
 - 
 - { 
 - Boolean x = new Boolean ( true ) ; 
 - Boolean [ ] y = new Boolean [ ] { Boolean . TRUE , Boolean . FALSE } ; 
 - } 
 - 
 - Boolean getBoolean ( ) 
 - { 
 - return new java . lang . Boolean ( true ) ; 
 - } 
 - 
 - void exHandlerTest ( ) 
 - { 
 - try { 
 - } 
 - finally { 
 - } 
 - try { 
 - / / something 
 - } 
 - finally { 
 - / / something 
 - } 
 - try { 
 - ; / / something 
 - } 
 - finally { 
 - ; / / statement 
 - } 
 - } 
 - 
 - / * * test * * / 
 - private static final long IGNORE = 666l + 666L ; 
 - 
 - public class EqualsVsHashCode1 
 - { 
 - public boolean equals ( int a ) 
 - { 
 - return a = = 1 ; 
 - } 
 - } 
 - 
 - / / empty instance initializer 
 - { 
 - } 
 - 
 - private class InputBraces { 
 - 
 - } 
 - 
 - synchronized void foo ( ) { 
 - synchronized ( this ) { } / / not OK 
 - synchronized ( Class . class ) { / / OK 
 - synchronized ( new Object ( ) ) { 
 - / / not OK if checking statements 
 - } 
 - } 
 - } 
 - 
 - 
 - static { 
 - 
 - int a = 0 ; } 
 - 
 - static { 
 - 
 - } 
 - } 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / InputSemantic2 . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / InputSemantic2 . java 
 deleted file mode 100644 
 index 01b93df . . 0000000 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / InputSemantic2 . java 
 + + + / dev / null 
 @ @ - 1 , 38 + 0 , 0 @ @ 
 - / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / 
 - / / Test case file for checkstyle . 
 - / / Created : 2001 
 - / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / 
 - package com . puppycrawl . tools . checkstyle . checks . blocks ; 
 - 
 - import java . io . * ; / / star import for instantiation tests 
 - import java . awt . Dimension ; / / explicit import for instantiation tests 
 - import java . awt . Color ; 
 - 
 - class UpdateClass 
 - { 
 - 	 public void fooMethod ( ) 
 - 	 { 
 - 	 	 int a = 1 ; 
 - 	 	 if ( a = = 1 ) { } / / is not OK 
 - 	 	 char [ ] s = { ' 1 ' , ' 2 ' } ; 
 - 	 	 int index = 2 ; 
 - 	 	 if ( doSideEffect ( ) = = 1 ) { } / / is not OK , 
 - 	 	 while ( ( a = index - 1 ) ! = 0 ) { } / / is OK 
 - 	 	 for ( ; index < s . length & & s [ index ] ! = ' x ' ; index + + ) { } / / is OK 
 - 	 	 if ( a = = 1 ) { } else { System . identityHashCode ( " a " ) ; } / / is not OK 
 - 	 	 switch ( a ) { } / / warn 
 - 	 	 switch ( a ) { / / ok 
 - case 1 : 
 - a = 2 ; 
 - case 2 : 
 - a = 3 ; 
 - default : 
 - a = 0 ; 
 - } 
 - 	 } 
 - 	 
 - 	 public int doSideEffect ( ) 
 - 	 { 
 - 	 	 return 1 ; 
 - 	 } 
 - } 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / emptyblock / InputEmptyBlockCase . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / emptyblock / InputEmptyBlockCase . java 
 new file mode 100644 
 index 0000000 . . bf75c7b 
 - - - / dev / null 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / emptyblock / InputEmptyBlockCase . java 
 @ @ - 0 , 0 + 1 , 36 @ @ 
 + / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / 
 + / / Input test file for testing empty LITERAL _ CASE . 
 + / / Created : 2017 
 + / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / 
 + package com . puppycrawl . tools . checkstyle . checks . blocks . emptyblock ; 
 + 
 + class InputEmptyBlockCase 
 + { 
 + void method1 ( int a ) { 
 + switch ( a ) { } 
 + switch ( a ) { case 1 : ; } / / no violation 
 + switch ( a ) { case 1 : { } } / / 1 violation 
 + switch ( a ) { 
 + case 1 : 
 + } 
 + switch ( a ) { 
 + case 1 : / / 1 violation 
 + { } 
 + } 
 + switch ( a ) { 
 + case 1 : / / 1 violation if checking statements 
 + { / / none if checking text 
 + } 
 + } 
 + } 
 + 
 + public void method2 ( char c ) { 
 + switch ( c ) { case 0 : } / / no violation 
 + switch ( c ) { case 0 : { } method1 ( 1 ) ; } / / 1 violation 
 + switch ( c ) { case 0 : method1 ( 0 ) ; { } } / / no violation 
 + switch ( c ) { case 0 : case 1 : { } } / / 1 violation 
 + switch ( c ) { case 0 : { } case 1 : { / / 2 violations if checking statements 
 + } 
 + } 
 + } 
 + } 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / emptyblock / InputEmptyBlockDefault . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / emptyblock / InputEmptyBlockDefault . java 
 new file mode 100644 
 index 0000000 . . 006b90f 
 - - - / dev / null 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / emptyblock / InputEmptyBlockDefault . java 
 @ @ - 0 , 0 + 1 , 89 @ @ 
 + public class InputEmptyBlockDefault { 
 + void method1 ( int a ) { 
 + switch ( a ) { } 
 + switch ( a ) { default : ; } / / no violation 
 + switch ( a ) { default : { } } / / violation 
 + switch ( a ) { 
 + default : 
 + } 
 + switch ( a ) { 
 + default : / / violation 
 + { } 
 + } 
 + switch ( a ) { 
 + default : / / violation if checking statements 
 + { / / text 
 + } 
 + } 
 + } 
 + 
 + void method2 ( int a ) { 
 + switch ( a ) { 
 + case 1 : a + + ; 
 + case 2 : a + + ; 
 + default : / / no violation 
 + switch ( a ) { 
 + default : { / / violation if checking for statements 
 + 
 + } 
 + } 
 + } 
 + } 
 + 
 + void method3 ( int a , int b ) { 
 + switch ( a ) { 
 + case 1 : break ; 
 + default : { } method2 ( a ) ; / / violation 
 + } 
 + 
 + switch ( b ) { 
 + case 2 : break ; 
 + default : method2 ( b ) ; { } / / no violation 
 + } 
 + 
 + switch ( a + b ) { case 1 : break ; default : { } ; } / / violation 
 + } 
 + 
 + void method4 ( int a , int b ) { 
 + switch ( a ) { 
 + case 1 : 
 + default : { } / / violation 
 + } 
 + 
 + switch ( b ) { 
 + case 1 : 
 + default : / / no violation 
 + } 
 + 
 + switch ( a + b ) { 
 + default : / / no violation 
 + case 1 : { } 
 + } 
 + 
 + switch ( a - b ) { 
 + case 1 : 
 + default : { / / violation if checking statements 
 + 
 + } ; 
 + case 2 : { } 
 + } 
 + } 
 + 
 + void method5 ( int a , int b ) { 
 + switch ( a ) { 
 + case 1 : 
 + case 2 : 
 + case 3 : 
 + default : / / violation 
 + { 
 + } 
 + } 
 + 
 + switch ( b ) { 
 + default : / / no violation 
 + case 1 : 
 + case 2 : { } method2 ( b ) ; 
 + case 3 : 
 + } 
 + } 
 + } 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / emptyblock / InputEmptyBlockSemantic . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / emptyblock / InputEmptyBlockSemantic . java 
 new file mode 100644 
 index 0000000 . . cc1111b 
 - - - / dev / null 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / emptyblock / InputEmptyBlockSemantic . java 
 @ @ - 0 , 0 + 1 , 87 @ @ 
 + / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / 
 + / / Test case file for checkstyle . 
 + / / Created : 2001 
 + / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / 
 + package com . puppycrawl . tools . checkstyle . checks . blocks . emptyblock ; 
 + 
 + import java . io . * ; / / star import for instantiation tests 
 + import java . awt . Dimension ; / / explicit import for instantiation tests 
 + import java . awt . Color ; 
 + 
 + / * * 
 + * Test case for detecting empty block statements . 
 + * @ author Lars K ü hne 
 + * * / 
 + class InputEmptyBlockSemantic 
 + { 
 + static { 
 + Boolean x = new Boolean ( true ) ; 
 + } 
 + 
 + { 
 + Boolean x = new Boolean ( true ) ; 
 + Boolean [ ] y = new Boolean [ ] { Boolean . TRUE , Boolean . FALSE } ; 
 + } 
 + 
 + Boolean getBoolean ( ) 
 + { 
 + return new java . lang . Boolean ( true ) ; 
 + } 
 + 
 + void exHandlerTest ( ) 
 + { 
 + try { 
 + } 
 + finally { 
 + } 
 + try { 
 + / / something 
 + } 
 + finally { 
 + / / something 
 + } 
 + try { 
 + ; / / something 
 + } 
 + finally { 
 + ; / / statement 
 + } 
 + } 
 + 
 + / * * test * * / 
 + private static final long IGNORE = 666l + 666L ; 
 + 
 + public class EqualsVsHashCode1 
 + { 
 + public boolean equals ( int a ) 
 + { 
 + return a = = 1 ; 
 + } 
 + } 
 + 
 + / / empty instance initializer 
 + { 
 + } 
 + 
 + private class InputBraces { 
 + 
 + } 
 + 
 + synchronized void foo ( ) { 
 + synchronized ( this ) { } / / not OK 
 + synchronized ( Class . class ) { / / OK 
 + synchronized ( new Object ( ) ) { 
 + / / not OK if checking statements 
 + } 
 + } 
 + } 
 + 
 + 
 + static { 
 + 
 + int a = 0 ; } 
 + 
 + static { 
 + 
 + } 
 + } 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / emptyblock / InputEmptyBlockSemantic2 . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / emptyblock / InputEmptyBlockSemantic2 . java 
 new file mode 100644 
 index 0000000 . . 7e603ef 
 - - - / dev / null 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / blocks / emptyblock / InputEmptyBlockSemantic2 . java 
 @ @ - 0 , 0 + 1 , 38 @ @ 
 + / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / 
 + / / Test case file for checkstyle . 
 + / / Created : 2001 
 + / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / 
 + package com . puppycrawl . tools . checkstyle . checks . blocks . emptyblock ; 
 + 
 + import java . io . * ; / / star import for instantiation tests 
 + import java . awt . Dimension ; / / explicit import for instantiation tests 
 + import java . awt . Color ; 
 + 
 + class InputEmptyBlockSemantic2 
 + { 
 + 	 public void fooMethod ( ) 
 + 	 { 
 + 	 	 int a = 1 ; 
 + 	 	 if ( a = = 1 ) { } / / is not OK 
 + 	 	 char [ ] s = { ' 1 ' , ' 2 ' } ; 
 + 	 	 int index = 2 ; 
 + 	 	 if ( doSideEffect ( ) = = 1 ) { } / / is not OK , 
 + 	 	 while ( ( a = index - 1 ) ! = 0 ) { } / / is OK 
 + 	 	 for ( ; index < s . length & & s [ index ] ! = ' x ' ; index + + ) { } / / is OK 
 + 	 	 if ( a = = 1 ) { } else { System . identityHashCode ( " a " ) ; } / / is not OK 
 + 	 	 switch ( a ) { } / / warn 
 + 	 	 switch ( a ) { / / ok 
 + case 1 : 
 + a = 2 ; 
 + case 2 : 
 + a = 3 ; 
 + default : 
 + a = 0 ; 
 + } 
 + 	 } 
 + 	 
 + 	 public int doSideEffect ( ) 
 + 	 { 
 + 	 	 return 1 ; 
 + 	 } 
 + }

NEAREST DIFF:
diff - - git a / . ci / run - link - check - plugin . sh b / . ci / run - link - check - plugin . sh 
 index 038272a . . 434df02 100755 
 - - - a / . ci / run - link - check - plugin . sh 
 + + + b / . ci / run - link - check - plugin . sh 
 @ @ - 15 , 4 + 15 , 5 @ @ grep externalLink target / site / linkcheck . html | cat 
 echo " - - - - - - - - - - - - grep of linkcheck . html - - END " 
 RESULT = $ ( grep externalLink target / site / linkcheck . html | grep - v ' Read timed out ' | wc - l ) 
 echo ' Exit code : ' $ RESULT 
 - if [ [ $ RESULT ! = 0 ] ] ; then false ; fi 
 \ No newline at end of file 
 + if [ [ $ RESULT ! = 0 ] ] ; then false ; fi 
 +
