BLEU SCORE: 0.04935157841536379

TEST MSG: minor : Refactored getDetails method of RightCurlyCheck
GENERATED MSG: Issue # 1551 : Fix FinalLocalVariable false - negative

TEST DIFF (one line): diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / RightCurlyCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / RightCurlyCheck . java <nl> index 11247c7 . . 232bd2f 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / RightCurlyCheck . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / RightCurlyCheck . java <nl> @ @ - 172 , 7 + 172 , 7 @ @ public class RightCurlyCheck extends AbstractCheck { <nl> <nl> @ Override <nl> public void visitToken ( DetailAST ast ) { <nl> - final Details details = getDetails ( ast ) ; <nl> + final Details details = Details . getDetails ( ast ) ; <nl> final DetailAST rcurly = details . rcurly ; <nl> <nl> if ( rcurly ! = null ) { <nl> @ @ - 320 , 22 + 320 , 107 @ @ public class RightCurlyCheck extends AbstractCheck { <nl> } <nl> <nl> / * * <nl> - * Collects validation details . <nl> - * @ param ast detail ast . <nl> - * @ return object that contain all details to make a validation . <nl> - * @ noinspection SwitchStatementDensity <nl> + * Checks if definition body is empty . <nl> + * @ param lcurly left curly . <nl> + * @ return true if definition body is empty . <nl> + * / <nl> + private static boolean isEmptyBody ( DetailAST lcurly ) { <nl> + boolean result = false ; <nl> + if ( lcurly . getParent ( ) . getType ( ) = = TokenTypes . OBJBLOCK ) { <nl> + if ( lcurly . getNextSibling ( ) . getType ( ) = = TokenTypes . RCURLY ) { <nl> + result = true ; <nl> + } <nl> + } <nl> + else if ( lcurly . getFirstChild ( ) . getType ( ) = = TokenTypes . RCURLY ) { <nl> + result = true ; <nl> + } <nl> + return result ; <nl> + } <nl> + <nl> + / * * <nl> + * Checks if right curly has line break before . <nl> + * @ param rightCurly right curly token . <nl> + * @ return true , if right curly has line break before . <nl> + * / <nl> + private static boolean hasLineBreakBefore ( DetailAST rightCurly ) { <nl> + final DetailAST previousToken = rightCurly . getPreviousSibling ( ) ; <nl> + return previousToken = = null <nl> + | | rightCurly . getLineNo ( ) ! = previousToken . getLineNo ( ) ; <nl> + } <nl> + <nl> + / * * <nl> + * Structure that contains all details for validation . <nl> * / <nl> - / / - @ cs [ JavaNCSS | ExecutableStatementCount | CyclomaticComplexity | NPathComplexity ] getDetails ( ) <nl> - / / method is a huge SWITCH , it has to be monolithic <nl> - private static Details getDetails ( DetailAST ast ) { <nl> - / / Attempt to locate the tokens to do the check <nl> - boolean shouldCheckLastRcurly = false ; <nl> - DetailAST rcurly = null ; <nl> - final DetailAST lcurly ; <nl> - DetailAST nextToken ; <nl> - <nl> - switch ( ast . getType ( ) ) { <nl> - case TokenTypes . LITERAL _ TRY : <nl> + private static final class Details { <nl> + <nl> + / * * Right curly . * / <nl> + private final DetailAST rcurly ; <nl> + / * * Left curly . * / <nl> + private final DetailAST lcurly ; <nl> + / * * Next token . * / <nl> + private final DetailAST nextToken ; <nl> + / * * Should check last right curly . * / <nl> + private final boolean shouldCheckLastRcurly ; <nl> + <nl> + / * * <nl> + * Constructor . <nl> + * @ param lcurly the lcurly of the token whose details are being collected <nl> + * @ param rcurly the rcurly of the token whose details are being collected <nl> + * @ param nextToken the token after the token whose details are being collected <nl> + * @ param shouldCheckLastRcurly boolean value to determine if to check last rcurly <nl> + * / <nl> + private Details ( DetailAST lcurly , DetailAST rcurly , <nl> + DetailAST nextToken , boolean shouldCheckLastRcurly ) { <nl> + this . lcurly = lcurly ; <nl> + this . rcurly = rcurly ; <nl> + this . nextToken = nextToken ; <nl> + this . shouldCheckLastRcurly = shouldCheckLastRcurly ; <nl> + } <nl> + <nl> + / * * <nl> + * Collects validation Details . <nl> + * @ param ast a { @ code DetailAST } value <nl> + * @ return object containing all details to make a validation <nl> + * / <nl> + private static Details getDetails ( DetailAST ast ) { <nl> + final Details details ; <nl> + switch ( ast . getType ( ) ) { <nl> + case TokenTypes . LITERAL _ TRY : <nl> + case TokenTypes . LITERAL _ CATCH : <nl> + case TokenTypes . LITERAL _ FINALLY : <nl> + details = getDetailsForTryCatchFinally ( ast ) ; <nl> + break ; <nl> + case TokenTypes . LITERAL _ IF : <nl> + case TokenTypes . LITERAL _ ELSE : <nl> + details = getDetailsForIfElse ( ast ) ; <nl> + break ; <nl> + case TokenTypes . LITERAL _ DO : <nl> + case TokenTypes . LITERAL _ WHILE : <nl> + case TokenTypes . LITERAL _ FOR : <nl> + details = getDetailsForLoops ( ast ) ; <nl> + break ; <nl> + case TokenTypes . LAMBDA : <nl> + details = getDetailsForLambda ( ast ) ; <nl> + break ; <nl> + default : <nl> + details = getDetailsForOthers ( ast ) ; <nl> + break ; <nl> + } <nl> + return details ; <nl> + } <nl> + <nl> + / * * <nl> + * Collects validation details for LITERAL _ TRY , LITERAL _ CATCH , and LITERAL _ FINALLY . <nl> + * @ param ast a { @ code DetailAST } value <nl> + * @ return object containing all details to make a validation <nl> + * / <nl> + private static Details getDetailsForTryCatchFinally ( DetailAST ast ) { <nl> + boolean shouldCheckLastRcurly = false ; <nl> + final DetailAST rcurly ; <nl> + final DetailAST lcurly ; <nl> + DetailAST nextToken ; <nl> + final int tokenType = ast . getType ( ) ; <nl> + if ( tokenType = = TokenTypes . LITERAL _ TRY ) { <nl> if ( ast . getFirstChild ( ) . getType ( ) = = TokenTypes . RESOURCE _ SPECIFICATION ) { <nl> lcurly = ast . getFirstChild ( ) . getNextSibling ( ) ; <nl> } <nl> @ @ - 349 , 8 + 434 , 8 @ @ public class RightCurlyCheck extends AbstractCheck { <nl> shouldCheckLastRcurly = true ; <nl> nextToken = getNextToken ( ast ) ; <nl> } <nl> - break ; <nl> - case TokenTypes . LITERAL _ CATCH : <nl> + } <nl> + else if ( tokenType = = TokenTypes . LITERAL _ CATCH ) { <nl> nextToken = ast . getNextSibling ( ) ; <nl> lcurly = ast . getLastChild ( ) ; <nl> rcurly = lcurly . getLastChild ( ) ; <nl> @ @ - 358 , 8 + 443 , 29 @ @ public class RightCurlyCheck extends AbstractCheck { <nl> shouldCheckLastRcurly = true ; <nl> nextToken = getNextToken ( ast ) ; <nl> } <nl> - break ; <nl> - case TokenTypes . LITERAL _ IF : <nl> + <nl> + } <nl> + else { <nl> + shouldCheckLastRcurly = true ; <nl> + nextToken = getNextToken ( ast ) ; <nl> + lcurly = ast . getFirstChild ( ) ; <nl> + rcurly = lcurly . getLastChild ( ) ; <nl> + } <nl> + return new Details ( lcurly , rcurly , nextToken , shouldCheckLastRcurly ) ; <nl> + } <nl> + <nl> + / * * <nl> + * Collects validation details for LITERAL _ IF and LITERAL _ ELSE . <nl> + * @ param ast a { @ code DetailAST } value <nl> + * @ return object containing all details to make a validation <nl> + * / <nl> + private static Details getDetailsForIfElse ( DetailAST ast ) { <nl> + boolean shouldCheckLastRcurly = false ; <nl> + DetailAST rcurly = null ; <nl> + final DetailAST lcurly ; <nl> + DetailAST nextToken ; <nl> + final int tokenType = ast . getType ( ) ; <nl> + if ( tokenType = = TokenTypes . LITERAL _ IF ) { <nl> nextToken = ast . findFirstToken ( TokenTypes . LITERAL _ ELSE ) ; <nl> if ( nextToken = = null ) { <nl> shouldCheckLastRcurly = true ; <nl> @ @ - 372 , 128 + 478 , 114 @ @ public class RightCurlyCheck extends AbstractCheck { <nl> if ( lcurly . getType ( ) = = TokenTypes . SLIST ) { <nl> rcurly = lcurly . getLastChild ( ) ; <nl> } <nl> - break ; <nl> - case TokenTypes . LITERAL _ ELSE : <nl> - case TokenTypes . LITERAL _ FINALLY : <nl> + <nl> + } <nl> + else { <nl> shouldCheckLastRcurly = true ; <nl> nextToken = getNextToken ( ast ) ; <nl> lcurly = ast . getFirstChild ( ) ; <nl> if ( lcurly . getType ( ) = = TokenTypes . SLIST ) { <nl> rcurly = lcurly . getLastChild ( ) ; <nl> } <nl> - break ; <nl> - case TokenTypes . CLASS _ DEF : <nl> + } <nl> + return new Details ( lcurly , rcurly , nextToken , shouldCheckLastRcurly ) ; <nl> + } <nl> + <nl> + / * * <nl> + * Collects validation details for CLASS _ DEF , METHOD DEF , CTOR _ DEF , STATIC _ INIT , and <nl> + * INSTANCE _ INIT . <nl> + * @ param ast a { @ code DetailAST } value <nl> + * @ return an object containing all details to make a validation <nl> + * / <nl> + private static Details getDetailsForOthers ( DetailAST ast ) { <nl> + DetailAST rcurly = null ; <nl> + final DetailAST lcurly ; <nl> + final DetailAST nextToken ; <nl> + final int tokenType = ast . getType ( ) ; <nl> + if ( tokenType = = TokenTypes . CLASS _ DEF ) { <nl> final DetailAST child = ast . getLastChild ( ) ; <nl> lcurly = child . getFirstChild ( ) ; <nl> rcurly = child . getLastChild ( ) ; <nl> nextToken = ast ; <nl> - break ; <nl> - case TokenTypes . CTOR _ DEF : <nl> - case TokenTypes . STATIC _ INIT : <nl> - case TokenTypes . INSTANCE _ INIT : <nl> - lcurly = ast . findFirstToken ( TokenTypes . SLIST ) ; <nl> - rcurly = lcurly . getLastChild ( ) ; <nl> - nextToken = getNextToken ( ast ) ; <nl> - break ; <nl> - case TokenTypes . LITERAL _ DO : <nl> - nextToken = ast . findFirstToken ( TokenTypes . DO _ WHILE ) ; <nl> + } <nl> + else if ( tokenType = = TokenTypes . METHOD _ DEF ) { <nl> lcurly = ast . findFirstToken ( TokenTypes . SLIST ) ; <nl> if ( lcurly ! = null ) { <nl> + / / SLIST could be absent if method is abstract <nl> rcurly = lcurly . getLastChild ( ) ; <nl> } <nl> - break ; <nl> - case TokenTypes . LAMBDA : <nl> + nextToken = getNextToken ( ast ) ; <nl> + } <nl> + else { <nl> lcurly = ast . findFirstToken ( TokenTypes . SLIST ) ; <nl> + rcurly = lcurly . getLastChild ( ) ; <nl> nextToken = getNextToken ( ast ) ; <nl> - if ( nextToken . getType ( ) ! = TokenTypes . RPAREN <nl> - & & nextToken . getType ( ) ! = TokenTypes . COMMA ) { <nl> - shouldCheckLastRcurly = true ; <nl> - nextToken = getNextToken ( nextToken ) ; <nl> - } <nl> + } <nl> + return new Details ( lcurly , rcurly , nextToken , false ) ; <nl> + } <nl> + <nl> + / * * <nl> + * Collects validation details for loops ' tokens . <nl> + * @ param ast a { @ code DetailAST } value <nl> + * @ return an object containing all details to make a validation <nl> + * / <nl> + private static Details getDetailsForLoops ( DetailAST ast ) { <nl> + DetailAST rcurly = null ; <nl> + final DetailAST lcurly ; <nl> + final DetailAST nextToken ; <nl> + final int tokenType = ast . getType ( ) ; <nl> + if ( tokenType = = TokenTypes . LITERAL _ DO ) { <nl> + nextToken = ast . findFirstToken ( TokenTypes . DO _ WHILE ) ; <nl> + lcurly = ast . findFirstToken ( TokenTypes . SLIST ) ; <nl> if ( lcurly ! = null ) { <nl> rcurly = lcurly . getLastChild ( ) ; <nl> } <nl> - break ; <nl> - default : <nl> - / / ATTENTION ! We have default here , but we expect case TokenTypes . METHOD _ DEF , <nl> - / / TokenTypes . LITERAL _ FOR , TokenTypes . LITERAL _ WHILE only . <nl> - / / It has been done to improve coverage to 100 % . I couldn ' t replace it with <nl> - / / if - else - if block because code was ugly and didn ' t pass pmd check . <nl> - <nl> + } <nl> + else { <nl> lcurly = ast . findFirstToken ( TokenTypes . SLIST ) ; <nl> if ( lcurly ! = null ) { <nl> - / / SLIST could be absent if method is abstract , <nl> - / / and code like " while ( true ) ; " <nl> + / / SLIST could be absent in code like " while ( true ) ; " <nl> rcurly = lcurly . getLastChild ( ) ; <nl> } <nl> nextToken = getNextToken ( ast ) ; <nl> - break ; <nl> + } <nl> + return new Details ( lcurly , rcurly , nextToken , false ) ; <nl> } <nl> <nl> - final Details details = new Details ( ) ; <nl> - details . rcurly = rcurly ; <nl> - details . lcurly = lcurly ; <nl> - details . nextToken = nextToken ; <nl> - details . shouldCheckLastRcurly = shouldCheckLastRcurly ; <nl> - <nl> - return details ; <nl> - } <nl> - <nl> - / * * <nl> - * Checks if definition body is empty . <nl> - * @ param lcurly left curly . <nl> - * @ return true if definition body is empty . <nl> - * / <nl> - private static boolean isEmptyBody ( DetailAST lcurly ) { <nl> - boolean result = false ; <nl> - if ( lcurly . getParent ( ) . getType ( ) = = TokenTypes . OBJBLOCK ) { <nl> - if ( lcurly . getNextSibling ( ) . getType ( ) = = TokenTypes . RCURLY ) { <nl> - result = true ; <nl> + / * * <nl> + * Collects validation details for Lambdas . <nl> + * @ param ast a { @ code DetailAST } value <nl> + * @ return an object containing all details to make a validation <nl> + * / <nl> + private static Details getDetailsForLambda ( DetailAST ast ) { <nl> + final DetailAST lcurly = ast . findFirstToken ( TokenTypes . SLIST ) ; <nl> + boolean shouldCheckLastRcurly = false ; <nl> + DetailAST nextToken = getNextToken ( ast ) ; <nl> + if ( nextToken . getType ( ) ! = TokenTypes . RPAREN <nl> + & & nextToken . getType ( ) ! = TokenTypes . COMMA ) { <nl> + shouldCheckLastRcurly = true ; <nl> + nextToken = getNextToken ( nextToken ) ; <nl> } <nl> + DetailAST rcurly = null ; <nl> + if ( lcurly ! = null ) { <nl> + rcurly = lcurly . getLastChild ( ) ; <nl> + } <nl> + return new Details ( lcurly , rcurly , nextToken , shouldCheckLastRcurly ) ; <nl> } <nl> - else if ( lcurly . getFirstChild ( ) . getType ( ) = = TokenTypes . RCURLY ) { <nl> - result = true ; <nl> - } <nl> - return result ; <nl> - } <nl> <nl> - / * * <nl> - * Finds next token after the given one . <nl> - * @ param ast the given node . <nl> - * @ return the token which represents next lexical item . <nl> - * / <nl> - private static DetailAST getNextToken ( DetailAST ast ) { <nl> - DetailAST next = null ; <nl> - DetailAST parent = ast ; <nl> - while ( next = = null ) { <nl> - next = parent . getNextSibling ( ) ; <nl> - parent = parent . getParent ( ) ; <nl> + / * * <nl> + * Finds next token after the given one . <nl> + * @ param ast the given node . <nl> + * @ return the token which represents next lexical item . <nl> + * / <nl> + private static DetailAST getNextToken ( DetailAST ast ) { <nl> + DetailAST next = null ; <nl> + DetailAST parent = ast ; <nl> + while ( next = = null ) { <nl> + next = parent . getNextSibling ( ) ; <nl> + parent = parent . getParent ( ) ; <nl> + } <nl> + return CheckUtils . getFirstNode ( next ) ; <nl> } <nl> - return CheckUtils . getFirstNode ( next ) ; <nl> - } <nl> - <nl> - / * * <nl> - * Checks if right curly has line break before . <nl> - * @ param rightCurly right curly token . <nl> - * @ return true , if right curly has line break before . <nl> - * / <nl> - private static boolean hasLineBreakBefore ( DetailAST rightCurly ) { <nl> - final DetailAST previousToken = rightCurly . getPreviousSibling ( ) ; <nl> - return previousToken = = null <nl> - | | rightCurly . getLineNo ( ) ! = previousToken . getLineNo ( ) ; <nl> - } <nl> - <nl> - / * * <nl> - * Structure that contains all details for validation . <nl> - * / <nl> - private static class Details { <nl> - / * * Right curly . * / <nl> - private DetailAST rcurly ; <nl> - / * * Left curly . * / <nl> - private DetailAST lcurly ; <nl> - / * * Next token . * / <nl> - private DetailAST nextToken ; <nl> - / * * Should check last right curly . * / <nl> - private boolean shouldCheckLastRcurly ; <nl> } <nl> }
NEAREST DIFF (one line): diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWarningsFilterTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWarningsFilterTest . java <nl> index 5eb86c5 . . 1b81a7b 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWarningsFilterTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWarningsFilterTest . java <nl> @ @ - 19 , 6 + 19 , 8 @ @ <nl> <nl> package com . puppycrawl . tools . checkstyle . filters ; <nl> <nl> + import java . io . File ; <nl> + import java . io . IOException ; <nl> import java . util . Arrays ; <nl> import java . util . Collection ; <nl> import java . util . Locale ; <nl> @ @ - 53 , 6 + 55 , 11 @ @ public class SuppressWarningsFilterTest <nl> " 56 : 9 : Catching ' Exception ' is not allowed . " , <nl> } ; <nl> <nl> + @ Override <nl> + protected String getPath ( String filename ) throws IOException { <nl> + return super . getPath ( " filters " + File . separator + filename ) ; <nl> + } <nl> + <nl> @ Test <nl> public void testNone ( ) throws Exception { <nl> final DefaultConfiguration filterConfig = null ; <nl> @ @ - 81 , 7 + 88 , 7 @ @ public class SuppressWarningsFilterTest <nl> private void verifySuppressed ( Configuration aFilterConfig , <nl> String . . . aSuppressed ) throws Exception { <nl> verify ( createChecker ( aFilterConfig ) , <nl> - getPath ( " filters / InputSuppressWarningsFilter . java " ) , <nl> + getPath ( " InputSuppressWarningsFilter . java " ) , <nl> removeSuppressed ( ALL _ MESSAGES , aSuppressed ) ) ; <nl> } <nl> <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithNearbyCommentFilterTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithNearbyCommentFilterTest . java <nl> index 710c221 . . 22532ff 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithNearbyCommentFilterTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithNearbyCommentFilterTest . java <nl> @ @ - 21 , 6 + 21 , 8 @ @ package com . puppycrawl . tools . checkstyle . filters ; <nl> <nl> import static org . junit . Assert . assertEquals ; <nl> <nl> + import java . io . File ; <nl> + import java . io . IOException ; <nl> import java . util . Arrays ; <nl> import java . util . Collection ; <nl> import java . util . Locale ; <nl> @ @ - 78 , 6 + 80 , 11 @ @ public class SuppressWithNearbyCommentFilterTest <nl> " 81 : 17 : Name ' A1 ' must match pattern ' ^ [ a - z ] [ a - zA - Z0 - 9 ] * $ ' . " , <nl> } ; <nl> <nl> + @ Override <nl> + protected String getPath ( String filename ) throws IOException { <nl> + return super . getPath ( " filters " + File . separator + filename ) ; <nl> + } <nl> + <nl> @ Test <nl> public void testNone ( ) throws Exception { <nl> final DefaultConfiguration filterConfig = null ; <nl> @ @ - 198 , 7 + 205 , 7 @ @ public class SuppressWithNearbyCommentFilterTest <nl> String . . . suppressed ) <nl> throws Exception { <nl> verify ( createChecker ( filterConfig ) , <nl> - getPath ( " filters / InputSuppressWithNearbyCommentFilter . java " ) , <nl> + getPath ( " InputSuppressWithNearbyCommentFilter . java " ) , <nl> removeSuppressed ( ALL _ MESSAGES , suppressed ) ) ; <nl> } <nl> <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilterTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilterTest . java <nl> index 388256b . . ab1d100 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilterTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilterTest . java <nl> @ @ - 21 , 6 + 21 , 8 @ @ package com . puppycrawl . tools . checkstyle . filters ; <nl> <nl> import static org . junit . Assert . assertEquals ; <nl> <nl> + import java . io . File ; <nl> + import java . io . IOException ; <nl> import java . util . Arrays ; <nl> import java . util . Collection ; <nl> import java . util . Locale ; <nl> @ @ - 69 , 6 + 71 , 11 @ @ public class SuppressionCommentFilterTest <nl> " 86 : 31 : Catching ' Exception ' is not allowed . " , <nl> } ; <nl> <nl> + @ Override <nl> + protected String getPath ( String filename ) throws IOException { <nl> + return super . getPath ( " filters " + File . separator + filename ) ; <nl> + } <nl> + <nl> @ Test <nl> public void testNone ( ) throws Exception { <nl> final DefaultConfiguration filterConfig = null ; <nl> @ @ - 198 , 7 + 205 , 7 @ @ public class SuppressionCommentFilterTest <nl> String . . . aSuppressed ) <nl> throws Exception { <nl> verify ( createChecker ( aFilterConfig ) , <nl> - getPath ( " filters / InputSuppressionCommentFilter . java " ) , <nl> + getPath ( " InputSuppressionCommentFilter . java " ) , <nl> removeSuppressed ( ALL _ MESSAGES , aSuppressed ) ) ; <nl> } <nl> <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionFilterTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionFilterTest . java <nl> index 55b3916 . . 33e36f8 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionFilterTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionFilterTest . java <nl> @ @ - 40 , 7 + 40 , 7 @ @ public class SuppressionFilterTest { <nl> @ Test <nl> public void testAccept ( ) throws CheckstyleException { <nl> SuppressionFilter filter = new SuppressionFilter ( ) ; <nl> - filter . setFile ( " src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ none . xml " ) ; <nl> + filter . setFile ( " src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ none . xml " ) ; <nl> <nl> final AuditEvent ev = new AuditEvent ( this , " ATest . java " , null ) ; <nl> <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionsLoaderTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionsLoaderTest . java <nl> index bc3427d . . 6d14e79 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionsLoaderTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionsLoaderTest . java <nl> @ @ - 47 , 16 + 47 , 19 @ @ import com . puppycrawl . tools . checkstyle . api . FilterSet ; <nl> @ RunWith ( PowerMockRunner . class ) <nl> @ PrepareForTest ( { SuppressionsLoader . class , SuppressionsLoaderTest . class } ) <nl> public class SuppressionsLoaderTest extends BaseCheckTestSupport { <nl> - <nl> @ Rule <nl> public final ExpectedException thrown = ExpectedException . none ( ) ; <nl> <nl> + @ Override <nl> + protected String getPath ( String filename ) { <nl> + return " src / test / resources / com / puppycrawl / tools / checkstyle / filters / " + filename ; <nl> + } <nl> + <nl> @ Test <nl> public void testNoSuppressions ( ) <nl> throws CheckstyleException { <nl> final FilterSet fc = <nl> - SuppressionsLoader . loadSuppressions ( <nl> - " src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ none . xml " ) ; <nl> + SuppressionsLoader . loadSuppressions ( getPath ( " suppressions _ none . xml " ) ) ; <nl> final FilterSet fc2 = new FilterSet ( ) ; <nl> assertEquals ( fc , fc2 ) ; <nl> } <nl> @ @ - 98 , 8 + 101 , 7 @ @ public class SuppressionsLoaderTest extends BaseCheckTestSupport { <nl> public void testMultipleSuppression ( ) <nl> throws CheckstyleException { <nl> final FilterSet fc = <nl> - SuppressionsLoader . loadSuppressions ( <nl> - " src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ multiple . xml " ) ; <nl> + SuppressionsLoader . loadSuppressions ( getPath ( " suppressions _ multiple . xml " ) ) ; <nl> final FilterSet fc2 = new FilterSet ( ) ; <nl> SuppressElement se0 = new SuppressElement ( " file0 " ) ; <nl> se0 . setChecks ( " check0 " ) ; <nl> @ @ - 122 , 7 + 124 , 7 @ @ public class SuppressionsLoaderTest extends BaseCheckTestSupport { <nl> <nl> @ Test <nl> public void testNoFile ( ) { <nl> - final String fn = " src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ no _ file . xml " ; <nl> + final String fn = getPath ( " suppressions _ no _ file . xml " ) ; <nl> try { <nl> SuppressionsLoader . loadSuppressions ( fn ) ; <nl> } <nl> @ @ - 135 , 7 + 137 , 7 @ @ public class SuppressionsLoaderTest extends BaseCheckTestSupport { <nl> <nl> @ Test <nl> public void testNoCheck ( ) { <nl> - final String fn = " src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ no _ check . xml " ; <nl> + final String fn = getPath ( " suppressions _ no _ check . xml " ) ; <nl> try { <nl> SuppressionsLoader . loadSuppressions ( fn ) ; <nl> } <nl> @ @ - 148 , 7 + 150 , 7 @ @ public class SuppressionsLoaderTest extends BaseCheckTestSupport { <nl> <nl> @ Test <nl> public void testBadInt ( ) { <nl> - final String fn = " src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ bad _ int . xml " ; <nl> + final String fn = getPath ( " suppressions _ bad _ int . xml " ) ; <nl> try { <nl> SuppressionsLoader . loadSuppressions ( fn ) ; <nl> } <nl> @ @ - 233 , 7 + 235 , 7 @ @ public class SuppressionsLoaderTest extends BaseCheckTestSupport { <nl> <nl> @ Test <nl> public void testNoCheckNoId ( ) { <nl> - final String fn = " src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ no _ check _ and _ id . xml " ; <nl> + final String fn = getPath ( " suppressions _ no _ check _ and _ id . xml " ) ; <nl> try { <nl> SuppressionsLoader . loadSuppressions ( fn ) ; <nl> } <nl> @ @ - 246 , 13 + 248 , 13 @ @ public class SuppressionsLoaderTest extends BaseCheckTestSupport { <nl> <nl> @ Test <nl> public void testNoCheckYesId ( ) throws Exception { <nl> - final String fn = " src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ id . xml " ; <nl> + final String fn = getPath ( " suppressions _ id . xml " ) ; <nl> SuppressionsLoader . loadSuppressions ( fn ) ; <nl> } <nl> <nl> @ Test <nl> public void testInvalidFileFormat ( ) { <nl> - final String fn = " src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ invalid _ file . xml " ; <nl> + final String fn = getPath ( " suppressions _ invalid _ file . xml " ) ; <nl> try { <nl> SuppressionsLoader . loadSuppressions ( fn ) ; <nl> } <nl> @ @ - 267 , 10 + 269 , 8 @ @ public class SuppressionsLoaderTest extends BaseCheckTestSupport { <nl> public void testLoadFromClasspath ( ) <nl> throws CheckstyleException { <nl> final FilterSet fc = <nl> - SuppressionsLoader . loadSuppressions ( <nl> - " / com / puppycrawl / tools / checkstyle / suppressions _ none . xml " ) ; <nl> + SuppressionsLoader . loadSuppressions ( getPath ( " suppressions _ none . xml " ) ) ; <nl> final FilterSet fc2 = new FilterSet ( ) ; <nl> assertEquals ( fc , fc2 ) ; <nl> } <nl> - <nl> } <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ bad _ int . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ bad _ int . xml <nl> new file mode 100644 <nl> index 0000000 . . 2e72f25 <nl> - - - / dev / null <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ bad _ int . xml <nl> @ @ - 0 , 0 + 1 , 7 @ @ <nl> + < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > <nl> + < ! DOCTYPE suppressions PUBLIC <nl> + " - / / Puppy Crawl / / DTD Suppressions 1 . 0 / / EN " <nl> + " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 0 . dtd " > <nl> + < suppressions > <nl> + < suppress files = " file0 " checks = " check0 " lines = " a " / > <nl> + < / suppressions > <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ id . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ id . xml <nl> new file mode 100644 <nl> index 0000000 . . 807e706 <nl> - - - / dev / null <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ id . xml <nl> @ @ - 0 , 0 + 1 , 7 @ @ <nl> + < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > <nl> + < ! DOCTYPE suppressions PUBLIC <nl> + " - / / Puppy Crawl / / DTD Suppressions 1 . 1 / / EN " <nl> + " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 1 . dtd " > <nl> + < suppressions > <nl> + < suppress files = " file0 " id = " 777 " / > <nl> + < / suppressions > <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ invalid _ file . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ invalid _ file . xml <nl> new file mode 100644 <nl> index 0000000 . . e485ab0 <nl> - - - / dev / null <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ invalid _ file . xml <nl> @ @ - 0 , 0 + 1 , 7 @ @ <nl> + < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > <nl> + < ! DOCTYPE suppressions PUBLIC <nl> + " - / / Puppy Crawl / / DTD Suppressions 1 . 1 / / EN " <nl> + " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 1 . dtd " > <nl> + < suppressions > <nl> + < suppress files = " a [ l " checks = " abc " / > <nl> + < / suppressions > <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ multiple . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ multiple . xml <nl> new file mode 100644 <nl> index 0000000 . . 47f28cf <nl> - - - / dev / null <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ multiple . xml <nl> @ @ - 0 , 0 + 1 , 10 @ @ <nl> + < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > <nl> + < ! DOCTYPE suppressions PUBLIC <nl> + " - / / Puppy Crawl / / DTD Suppressions 1 . 0 / / EN " <nl> + " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 0 . dtd " > <nl> + < suppressions > <nl> + < suppress files = " file0 " checks = " check0 " / > <nl> + < suppress files = " file1 " checks = " check1 " lines = " 1 , 2 - 3 " / > <nl> + < suppress files = " file2 " checks = " check2 " columns = " 1 , 2 - 3 " / > <nl> + < suppress files = " file3 " checks = " check3 " lines = " 1 , 2 - 3 " columns = " 1 , 2 - 3 " / > <nl> + < / suppressions > <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ no _ check . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ no _ check . xml <nl> new file mode 100644 <nl> index 0000000 . . c3d468c <nl> - - - / dev / null <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ no _ check . xml <nl> @ @ - 0 , 0 + 1 , 7 @ @ <nl> + < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > <nl> + < ! DOCTYPE suppressions PUBLIC <nl> + " - / / Puppy Crawl / / DTD Suppressions 1 . 0 / / EN " <nl> + " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 0 . dtd " > <nl> + < suppressions > <nl> + < suppress files = " file0 " / > <nl> + < / suppressions > <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ no _ check _ and _ id . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ no _ check _ and _ id . xml <nl> new file mode 100644 <nl> index 0000000 . . 3cbc495 <nl> - - - / dev / null <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ no _ check _ and _ id . xml <nl> @ @ - 0 , 0 + 1 , 7 @ @ <nl> + < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > <nl> + < ! DOCTYPE suppressions PUBLIC <nl> + " - / / Puppy Crawl / / DTD Suppressions 1 . 1 / / EN " <nl> + " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 1 . dtd " > <nl> + < suppressions > <nl> + < suppress files = " file0 " / > <nl> + < / suppressions > <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ no _ file . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ no _ file . xml <nl> new file mode 100644 <nl> index 0000000 . . a402e84 <nl> - - - / dev / null <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ no _ file . xml <nl> @ @ - 0 , 0 + 1 , 7 @ @ <nl> + < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > <nl> + < ! DOCTYPE suppressions PUBLIC <nl> + " - / / Puppy Crawl / / DTD Suppressions 1 . 0 / / EN " <nl> + " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 0 . dtd " > <nl> + < suppressions > <nl> + < suppress checks = " check0 " / > <nl> + < / suppressions > <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ none . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ none . xml <nl> new file mode 100644 <nl> index 0000000 . . 2002196 <nl> - - - / dev / null <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ none . xml <nl> @ @ - 0 , 0 + 1 , 6 @ @ <nl> + < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > <nl> + < ! DOCTYPE suppressions PUBLIC <nl> + " - / / Puppy Crawl / / DTD Suppressions 1 . 0 / / EN " <nl> + " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 0 . dtd " > <nl> + < suppressions > <nl> + < / suppressions > <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ bad _ int . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ bad _ int . xml <nl> deleted file mode 100644 <nl> index 2e72f25 . . 0000000 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ bad _ int . xml <nl> + + + / dev / null <nl> @ @ - 1 , 7 + 0 , 0 @ @ <nl> - < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > <nl> - < ! DOCTYPE suppressions PUBLIC <nl> - " - / / Puppy Crawl / / DTD Suppressions 1 . 0 / / EN " <nl> - " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 0 . dtd " > <nl> - < suppressions > <nl> - < suppress files = " file0 " checks = " check0 " lines = " a " / > <nl> - < / suppressions > <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ id . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ id . xml <nl> deleted file mode 100644 <nl> index 807e706 . . 0000000 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ id . xml <nl> + + + / dev / null <nl> @ @ - 1 , 7 + 0 , 0 @ @ <nl> - < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > <nl> - < ! DOCTYPE suppressions PUBLIC <nl> - " - / / Puppy Crawl / / DTD Suppressions 1 . 1 / / EN " <nl> - " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 1 . dtd " > <nl> - < suppressions > <nl> - < suppress files = " file0 " id = " 777 " / > <nl> - < / suppressions > <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ invalid _ file . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ invalid _ file . xml <nl> deleted file mode 100644 <nl> index e485ab0 . . 0000000 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ invalid _ file . xml <nl> + + + / dev / null <nl> @ @ - 1 , 7 + 0 , 0 @ @ <nl> - < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > <nl> - < ! DOCTYPE suppressions PUBLIC <nl> - " - / / Puppy Crawl / / DTD Suppressions 1 . 1 / / EN " <nl> - " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 1 . dtd " > <nl> - < suppressions > <nl> - < suppress files = " a [ l " checks = " abc " / > <nl> - < / suppressions > <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ multiple . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ multiple . xml <nl> deleted file mode 100644 <nl> index 47f28cf . . 0000000 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ multiple . xml <nl> + + + / dev / null <nl> @ @ - 1 , 10 + 0 , 0 @ @ <nl> - < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > <nl> - < ! DOCTYPE suppressions PUBLIC <nl> - " - / / Puppy Crawl / / DTD Suppressions 1 . 0 / / EN " <nl> - " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 0 . dtd " > <nl> - < suppressions > <nl> - < suppress files = " file0 " checks = " check0 " / > <nl> - < suppress files = " file1 " checks = " check1 " lines = " 1 , 2 - 3 " / > <nl> - < suppress files = " file2 " checks = " check2 " columns = " 1 , 2 - 3 " / > <nl> - < suppress files = " file3 " checks = " check3 " lines = " 1 , 2 - 3 " columns = " 1 , 2 - 3 " / > <nl> - < / suppressions > <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ no _ check . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ no _ check . xml <nl> deleted file mode 100644 <nl> index c3d468c . . 0000000 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ no _ check . xml <nl> + + + / dev / null <nl> @ @ - 1 , 7 + 0 , 0 @ @ <nl> - < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > <nl> - < ! DOCTYPE suppressions PUBLIC <nl> - " - / / Puppy Crawl / / DTD Suppressions 1 . 0 / / EN " <nl> - " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 0 . dtd " > <nl> - < suppressions > <nl> - < suppress files = " file0 " / > <nl> - < / suppressions > <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ no _ check _ and _ id . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ no _ check _ and _ id . xml <nl> deleted file mode 100644 <nl> index 3cbc495 . . 0000000 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ no _ check _ and _ id . xml <nl> + + + / dev / null <nl> @ @ - 1 , 7 + 0 , 0 @ @ <nl> - < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > <nl> - < ! DOCTYPE suppressions PUBLIC <nl> - " - / / Puppy Crawl / / DTD Suppressions 1 . 1 / / EN " <nl> - " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 1 . dtd " > <nl> - < suppressions > <nl> - < suppress files = " file0 " / > <nl> - < / suppressions > <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ no _ file . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ no _ file . xml <nl> deleted file mode 100644 <nl> index a402e84 . . 0000000 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ no _ file . xml <nl> + + + / dev / null <nl> @ @ - 1 , 7 + 0 , 0 @ @ <nl> - < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > <nl> - < ! DOCTYPE suppressions PUBLIC <nl> - " - / / Puppy Crawl / / DTD Suppressions 1 . 0 / / EN " <nl> - " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 0 . dtd " > <nl> - < suppressions > <nl> - < suppress checks = " check0 " / > <nl> - < / suppressions > <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ none . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ none . xml <nl> deleted file mode 100644 <nl> index 2002196 . . 0000000 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ none . xml <nl> + + + / dev / null <nl> @ @ - 1 , 6 + 0 , 0 @ @ <nl> - < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > <nl> - < ! DOCTYPE suppressions PUBLIC <nl> - " - / / Puppy Crawl / / DTD Suppressions 1 . 0 / / EN " <nl> - " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 0 . dtd " > <nl> - < suppressions > <nl> - < / suppressions >

TEST DIFF:
diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / RightCurlyCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / RightCurlyCheck . java 
 index 11247c7 . . 232bd2f 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / RightCurlyCheck . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / blocks / RightCurlyCheck . java 
 @ @ - 172 , 7 + 172 , 7 @ @ public class RightCurlyCheck extends AbstractCheck { 
 
 @ Override 
 public void visitToken ( DetailAST ast ) { 
 - final Details details = getDetails ( ast ) ; 
 + final Details details = Details . getDetails ( ast ) ; 
 final DetailAST rcurly = details . rcurly ; 
 
 if ( rcurly ! = null ) { 
 @ @ - 320 , 22 + 320 , 107 @ @ public class RightCurlyCheck extends AbstractCheck { 
 } 
 
 / * * 
 - * Collects validation details . 
 - * @ param ast detail ast . 
 - * @ return object that contain all details to make a validation . 
 - * @ noinspection SwitchStatementDensity 
 + * Checks if definition body is empty . 
 + * @ param lcurly left curly . 
 + * @ return true if definition body is empty . 
 + * / 
 + private static boolean isEmptyBody ( DetailAST lcurly ) { 
 + boolean result = false ; 
 + if ( lcurly . getParent ( ) . getType ( ) = = TokenTypes . OBJBLOCK ) { 
 + if ( lcurly . getNextSibling ( ) . getType ( ) = = TokenTypes . RCURLY ) { 
 + result = true ; 
 + } 
 + } 
 + else if ( lcurly . getFirstChild ( ) . getType ( ) = = TokenTypes . RCURLY ) { 
 + result = true ; 
 + } 
 + return result ; 
 + } 
 + 
 + / * * 
 + * Checks if right curly has line break before . 
 + * @ param rightCurly right curly token . 
 + * @ return true , if right curly has line break before . 
 + * / 
 + private static boolean hasLineBreakBefore ( DetailAST rightCurly ) { 
 + final DetailAST previousToken = rightCurly . getPreviousSibling ( ) ; 
 + return previousToken = = null 
 + | | rightCurly . getLineNo ( ) ! = previousToken . getLineNo ( ) ; 
 + } 
 + 
 + / * * 
 + * Structure that contains all details for validation . 
 * / 
 - / / - @ cs [ JavaNCSS | ExecutableStatementCount | CyclomaticComplexity | NPathComplexity ] getDetails ( ) 
 - / / method is a huge SWITCH , it has to be monolithic 
 - private static Details getDetails ( DetailAST ast ) { 
 - / / Attempt to locate the tokens to do the check 
 - boolean shouldCheckLastRcurly = false ; 
 - DetailAST rcurly = null ; 
 - final DetailAST lcurly ; 
 - DetailAST nextToken ; 
 - 
 - switch ( ast . getType ( ) ) { 
 - case TokenTypes . LITERAL _ TRY : 
 + private static final class Details { 
 + 
 + / * * Right curly . * / 
 + private final DetailAST rcurly ; 
 + / * * Left curly . * / 
 + private final DetailAST lcurly ; 
 + / * * Next token . * / 
 + private final DetailAST nextToken ; 
 + / * * Should check last right curly . * / 
 + private final boolean shouldCheckLastRcurly ; 
 + 
 + / * * 
 + * Constructor . 
 + * @ param lcurly the lcurly of the token whose details are being collected 
 + * @ param rcurly the rcurly of the token whose details are being collected 
 + * @ param nextToken the token after the token whose details are being collected 
 + * @ param shouldCheckLastRcurly boolean value to determine if to check last rcurly 
 + * / 
 + private Details ( DetailAST lcurly , DetailAST rcurly , 
 + DetailAST nextToken , boolean shouldCheckLastRcurly ) { 
 + this . lcurly = lcurly ; 
 + this . rcurly = rcurly ; 
 + this . nextToken = nextToken ; 
 + this . shouldCheckLastRcurly = shouldCheckLastRcurly ; 
 + } 
 + 
 + / * * 
 + * Collects validation Details . 
 + * @ param ast a { @ code DetailAST } value 
 + * @ return object containing all details to make a validation 
 + * / 
 + private static Details getDetails ( DetailAST ast ) { 
 + final Details details ; 
 + switch ( ast . getType ( ) ) { 
 + case TokenTypes . LITERAL _ TRY : 
 + case TokenTypes . LITERAL _ CATCH : 
 + case TokenTypes . LITERAL _ FINALLY : 
 + details = getDetailsForTryCatchFinally ( ast ) ; 
 + break ; 
 + case TokenTypes . LITERAL _ IF : 
 + case TokenTypes . LITERAL _ ELSE : 
 + details = getDetailsForIfElse ( ast ) ; 
 + break ; 
 + case TokenTypes . LITERAL _ DO : 
 + case TokenTypes . LITERAL _ WHILE : 
 + case TokenTypes . LITERAL _ FOR : 
 + details = getDetailsForLoops ( ast ) ; 
 + break ; 
 + case TokenTypes . LAMBDA : 
 + details = getDetailsForLambda ( ast ) ; 
 + break ; 
 + default : 
 + details = getDetailsForOthers ( ast ) ; 
 + break ; 
 + } 
 + return details ; 
 + } 
 + 
 + / * * 
 + * Collects validation details for LITERAL _ TRY , LITERAL _ CATCH , and LITERAL _ FINALLY . 
 + * @ param ast a { @ code DetailAST } value 
 + * @ return object containing all details to make a validation 
 + * / 
 + private static Details getDetailsForTryCatchFinally ( DetailAST ast ) { 
 + boolean shouldCheckLastRcurly = false ; 
 + final DetailAST rcurly ; 
 + final DetailAST lcurly ; 
 + DetailAST nextToken ; 
 + final int tokenType = ast . getType ( ) ; 
 + if ( tokenType = = TokenTypes . LITERAL _ TRY ) { 
 if ( ast . getFirstChild ( ) . getType ( ) = = TokenTypes . RESOURCE _ SPECIFICATION ) { 
 lcurly = ast . getFirstChild ( ) . getNextSibling ( ) ; 
 } 
 @ @ - 349 , 8 + 434 , 8 @ @ public class RightCurlyCheck extends AbstractCheck { 
 shouldCheckLastRcurly = true ; 
 nextToken = getNextToken ( ast ) ; 
 } 
 - break ; 
 - case TokenTypes . LITERAL _ CATCH : 
 + } 
 + else if ( tokenType = = TokenTypes . LITERAL _ CATCH ) { 
 nextToken = ast . getNextSibling ( ) ; 
 lcurly = ast . getLastChild ( ) ; 
 rcurly = lcurly . getLastChild ( ) ; 
 @ @ - 358 , 8 + 443 , 29 @ @ public class RightCurlyCheck extends AbstractCheck { 
 shouldCheckLastRcurly = true ; 
 nextToken = getNextToken ( ast ) ; 
 } 
 - break ; 
 - case TokenTypes . LITERAL _ IF : 
 + 
 + } 
 + else { 
 + shouldCheckLastRcurly = true ; 
 + nextToken = getNextToken ( ast ) ; 
 + lcurly = ast . getFirstChild ( ) ; 
 + rcurly = lcurly . getLastChild ( ) ; 
 + } 
 + return new Details ( lcurly , rcurly , nextToken , shouldCheckLastRcurly ) ; 
 + } 
 + 
 + / * * 
 + * Collects validation details for LITERAL _ IF and LITERAL _ ELSE . 
 + * @ param ast a { @ code DetailAST } value 
 + * @ return object containing all details to make a validation 
 + * / 
 + private static Details getDetailsForIfElse ( DetailAST ast ) { 
 + boolean shouldCheckLastRcurly = false ; 
 + DetailAST rcurly = null ; 
 + final DetailAST lcurly ; 
 + DetailAST nextToken ; 
 + final int tokenType = ast . getType ( ) ; 
 + if ( tokenType = = TokenTypes . LITERAL _ IF ) { 
 nextToken = ast . findFirstToken ( TokenTypes . LITERAL _ ELSE ) ; 
 if ( nextToken = = null ) { 
 shouldCheckLastRcurly = true ; 
 @ @ - 372 , 128 + 478 , 114 @ @ public class RightCurlyCheck extends AbstractCheck { 
 if ( lcurly . getType ( ) = = TokenTypes . SLIST ) { 
 rcurly = lcurly . getLastChild ( ) ; 
 } 
 - break ; 
 - case TokenTypes . LITERAL _ ELSE : 
 - case TokenTypes . LITERAL _ FINALLY : 
 + 
 + } 
 + else { 
 shouldCheckLastRcurly = true ; 
 nextToken = getNextToken ( ast ) ; 
 lcurly = ast . getFirstChild ( ) ; 
 if ( lcurly . getType ( ) = = TokenTypes . SLIST ) { 
 rcurly = lcurly . getLastChild ( ) ; 
 } 
 - break ; 
 - case TokenTypes . CLASS _ DEF : 
 + } 
 + return new Details ( lcurly , rcurly , nextToken , shouldCheckLastRcurly ) ; 
 + } 
 + 
 + / * * 
 + * Collects validation details for CLASS _ DEF , METHOD DEF , CTOR _ DEF , STATIC _ INIT , and 
 + * INSTANCE _ INIT . 
 + * @ param ast a { @ code DetailAST } value 
 + * @ return an object containing all details to make a validation 
 + * / 
 + private static Details getDetailsForOthers ( DetailAST ast ) { 
 + DetailAST rcurly = null ; 
 + final DetailAST lcurly ; 
 + final DetailAST nextToken ; 
 + final int tokenType = ast . getType ( ) ; 
 + if ( tokenType = = TokenTypes . CLASS _ DEF ) { 
 final DetailAST child = ast . getLastChild ( ) ; 
 lcurly = child . getFirstChild ( ) ; 
 rcurly = child . getLastChild ( ) ; 
 nextToken = ast ; 
 - break ; 
 - case TokenTypes . CTOR _ DEF : 
 - case TokenTypes . STATIC _ INIT : 
 - case TokenTypes . INSTANCE _ INIT : 
 - lcurly = ast . findFirstToken ( TokenTypes . SLIST ) ; 
 - rcurly = lcurly . getLastChild ( ) ; 
 - nextToken = getNextToken ( ast ) ; 
 - break ; 
 - case TokenTypes . LITERAL _ DO : 
 - nextToken = ast . findFirstToken ( TokenTypes . DO _ WHILE ) ; 
 + } 
 + else if ( tokenType = = TokenTypes . METHOD _ DEF ) { 
 lcurly = ast . findFirstToken ( TokenTypes . SLIST ) ; 
 if ( lcurly ! = null ) { 
 + / / SLIST could be absent if method is abstract 
 rcurly = lcurly . getLastChild ( ) ; 
 } 
 - break ; 
 - case TokenTypes . LAMBDA : 
 + nextToken = getNextToken ( ast ) ; 
 + } 
 + else { 
 lcurly = ast . findFirstToken ( TokenTypes . SLIST ) ; 
 + rcurly = lcurly . getLastChild ( ) ; 
 nextToken = getNextToken ( ast ) ; 
 - if ( nextToken . getType ( ) ! = TokenTypes . RPAREN 
 - & & nextToken . getType ( ) ! = TokenTypes . COMMA ) { 
 - shouldCheckLastRcurly = true ; 
 - nextToken = getNextToken ( nextToken ) ; 
 - } 
 + } 
 + return new Details ( lcurly , rcurly , nextToken , false ) ; 
 + } 
 + 
 + / * * 
 + * Collects validation details for loops ' tokens . 
 + * @ param ast a { @ code DetailAST } value 
 + * @ return an object containing all details to make a validation 
 + * / 
 + private static Details getDetailsForLoops ( DetailAST ast ) { 
 + DetailAST rcurly = null ; 
 + final DetailAST lcurly ; 
 + final DetailAST nextToken ; 
 + final int tokenType = ast . getType ( ) ; 
 + if ( tokenType = = TokenTypes . LITERAL _ DO ) { 
 + nextToken = ast . findFirstToken ( TokenTypes . DO _ WHILE ) ; 
 + lcurly = ast . findFirstToken ( TokenTypes . SLIST ) ; 
 if ( lcurly ! = null ) { 
 rcurly = lcurly . getLastChild ( ) ; 
 } 
 - break ; 
 - default : 
 - / / ATTENTION ! We have default here , but we expect case TokenTypes . METHOD _ DEF , 
 - / / TokenTypes . LITERAL _ FOR , TokenTypes . LITERAL _ WHILE only . 
 - / / It has been done to improve coverage to 100 % . I couldn ' t replace it with 
 - / / if - else - if block because code was ugly and didn ' t pass pmd check . 
 - 
 + } 
 + else { 
 lcurly = ast . findFirstToken ( TokenTypes . SLIST ) ; 
 if ( lcurly ! = null ) { 
 - / / SLIST could be absent if method is abstract , 
 - / / and code like " while ( true ) ; " 
 + / / SLIST could be absent in code like " while ( true ) ; " 
 rcurly = lcurly . getLastChild ( ) ; 
 } 
 nextToken = getNextToken ( ast ) ; 
 - break ; 
 + } 
 + return new Details ( lcurly , rcurly , nextToken , false ) ; 
 } 
 
 - final Details details = new Details ( ) ; 
 - details . rcurly = rcurly ; 
 - details . lcurly = lcurly ; 
 - details . nextToken = nextToken ; 
 - details . shouldCheckLastRcurly = shouldCheckLastRcurly ; 
 - 
 - return details ; 
 - } 
 - 
 - / * * 
 - * Checks if definition body is empty . 
 - * @ param lcurly left curly . 
 - * @ return true if definition body is empty . 
 - * / 
 - private static boolean isEmptyBody ( DetailAST lcurly ) { 
 - boolean result = false ; 
 - if ( lcurly . getParent ( ) . getType ( ) = = TokenTypes . OBJBLOCK ) { 
 - if ( lcurly . getNextSibling ( ) . getType ( ) = = TokenTypes . RCURLY ) { 
 - result = true ; 
 + / * * 
 + * Collects validation details for Lambdas . 
 + * @ param ast a { @ code DetailAST } value 
 + * @ return an object containing all details to make a validation 
 + * / 
 + private static Details getDetailsForLambda ( DetailAST ast ) { 
 + final DetailAST lcurly = ast . findFirstToken ( TokenTypes . SLIST ) ; 
 + boolean shouldCheckLastRcurly = false ; 
 + DetailAST nextToken = getNextToken ( ast ) ; 
 + if ( nextToken . getType ( ) ! = TokenTypes . RPAREN 
 + & & nextToken . getType ( ) ! = TokenTypes . COMMA ) { 
 + shouldCheckLastRcurly = true ; 
 + nextToken = getNextToken ( nextToken ) ; 
 } 
 + DetailAST rcurly = null ; 
 + if ( lcurly ! = null ) { 
 + rcurly = lcurly . getLastChild ( ) ; 
 + } 
 + return new Details ( lcurly , rcurly , nextToken , shouldCheckLastRcurly ) ; 
 } 
 - else if ( lcurly . getFirstChild ( ) . getType ( ) = = TokenTypes . RCURLY ) { 
 - result = true ; 
 - } 
 - return result ; 
 - } 
 
 - / * * 
 - * Finds next token after the given one . 
 - * @ param ast the given node . 
 - * @ return the token which represents next lexical item . 
 - * / 
 - private static DetailAST getNextToken ( DetailAST ast ) { 
 - DetailAST next = null ; 
 - DetailAST parent = ast ; 
 - while ( next = = null ) { 
 - next = parent . getNextSibling ( ) ; 
 - parent = parent . getParent ( ) ; 
 + / * * 
 + * Finds next token after the given one . 
 + * @ param ast the given node . 
 + * @ return the token which represents next lexical item . 
 + * / 
 + private static DetailAST getNextToken ( DetailAST ast ) { 
 + DetailAST next = null ; 
 + DetailAST parent = ast ; 
 + while ( next = = null ) { 
 + next = parent . getNextSibling ( ) ; 
 + parent = parent . getParent ( ) ; 
 + } 
 + return CheckUtils . getFirstNode ( next ) ; 
 } 
 - return CheckUtils . getFirstNode ( next ) ; 
 - } 
 - 
 - / * * 
 - * Checks if right curly has line break before . 
 - * @ param rightCurly right curly token . 
 - * @ return true , if right curly has line break before . 
 - * / 
 - private static boolean hasLineBreakBefore ( DetailAST rightCurly ) { 
 - final DetailAST previousToken = rightCurly . getPreviousSibling ( ) ; 
 - return previousToken = = null 
 - | | rightCurly . getLineNo ( ) ! = previousToken . getLineNo ( ) ; 
 - } 
 - 
 - / * * 
 - * Structure that contains all details for validation . 
 - * / 
 - private static class Details { 
 - / * * Right curly . * / 
 - private DetailAST rcurly ; 
 - / * * Left curly . * / 
 - private DetailAST lcurly ; 
 - / * * Next token . * / 
 - private DetailAST nextToken ; 
 - / * * Should check last right curly . * / 
 - private boolean shouldCheckLastRcurly ; 
 } 
 }

NEAREST DIFF:
diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWarningsFilterTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWarningsFilterTest . java 
 index 5eb86c5 . . 1b81a7b 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWarningsFilterTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWarningsFilterTest . java 
 @ @ - 19 , 6 + 19 , 8 @ @ 
 
 package com . puppycrawl . tools . checkstyle . filters ; 
 
 + import java . io . File ; 
 + import java . io . IOException ; 
 import java . util . Arrays ; 
 import java . util . Collection ; 
 import java . util . Locale ; 
 @ @ - 53 , 6 + 55 , 11 @ @ public class SuppressWarningsFilterTest 
 " 56 : 9 : Catching ' Exception ' is not allowed . " , 
 } ; 
 
 + @ Override 
 + protected String getPath ( String filename ) throws IOException { 
 + return super . getPath ( " filters " + File . separator + filename ) ; 
 + } 
 + 
 @ Test 
 public void testNone ( ) throws Exception { 
 final DefaultConfiguration filterConfig = null ; 
 @ @ - 81 , 7 + 88 , 7 @ @ public class SuppressWarningsFilterTest 
 private void verifySuppressed ( Configuration aFilterConfig , 
 String . . . aSuppressed ) throws Exception { 
 verify ( createChecker ( aFilterConfig ) , 
 - getPath ( " filters / InputSuppressWarningsFilter . java " ) , 
 + getPath ( " InputSuppressWarningsFilter . java " ) , 
 removeSuppressed ( ALL _ MESSAGES , aSuppressed ) ) ; 
 } 
 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithNearbyCommentFilterTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithNearbyCommentFilterTest . java 
 index 710c221 . . 22532ff 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithNearbyCommentFilterTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithNearbyCommentFilterTest . java 
 @ @ - 21 , 6 + 21 , 8 @ @ package com . puppycrawl . tools . checkstyle . filters ; 
 
 import static org . junit . Assert . assertEquals ; 
 
 + import java . io . File ; 
 + import java . io . IOException ; 
 import java . util . Arrays ; 
 import java . util . Collection ; 
 import java . util . Locale ; 
 @ @ - 78 , 6 + 80 , 11 @ @ public class SuppressWithNearbyCommentFilterTest 
 " 81 : 17 : Name ' A1 ' must match pattern ' ^ [ a - z ] [ a - zA - Z0 - 9 ] * $ ' . " , 
 } ; 
 
 + @ Override 
 + protected String getPath ( String filename ) throws IOException { 
 + return super . getPath ( " filters " + File . separator + filename ) ; 
 + } 
 + 
 @ Test 
 public void testNone ( ) throws Exception { 
 final DefaultConfiguration filterConfig = null ; 
 @ @ - 198 , 7 + 205 , 7 @ @ public class SuppressWithNearbyCommentFilterTest 
 String . . . suppressed ) 
 throws Exception { 
 verify ( createChecker ( filterConfig ) , 
 - getPath ( " filters / InputSuppressWithNearbyCommentFilter . java " ) , 
 + getPath ( " InputSuppressWithNearbyCommentFilter . java " ) , 
 removeSuppressed ( ALL _ MESSAGES , suppressed ) ) ; 
 } 
 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilterTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilterTest . java 
 index 388256b . . ab1d100 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilterTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionCommentFilterTest . java 
 @ @ - 21 , 6 + 21 , 8 @ @ package com . puppycrawl . tools . checkstyle . filters ; 
 
 import static org . junit . Assert . assertEquals ; 
 
 + import java . io . File ; 
 + import java . io . IOException ; 
 import java . util . Arrays ; 
 import java . util . Collection ; 
 import java . util . Locale ; 
 @ @ - 69 , 6 + 71 , 11 @ @ public class SuppressionCommentFilterTest 
 " 86 : 31 : Catching ' Exception ' is not allowed . " , 
 } ; 
 
 + @ Override 
 + protected String getPath ( String filename ) throws IOException { 
 + return super . getPath ( " filters " + File . separator + filename ) ; 
 + } 
 + 
 @ Test 
 public void testNone ( ) throws Exception { 
 final DefaultConfiguration filterConfig = null ; 
 @ @ - 198 , 7 + 205 , 7 @ @ public class SuppressionCommentFilterTest 
 String . . . aSuppressed ) 
 throws Exception { 
 verify ( createChecker ( aFilterConfig ) , 
 - getPath ( " filters / InputSuppressionCommentFilter . java " ) , 
 + getPath ( " InputSuppressionCommentFilter . java " ) , 
 removeSuppressed ( ALL _ MESSAGES , aSuppressed ) ) ; 
 } 
 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionFilterTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionFilterTest . java 
 index 55b3916 . . 33e36f8 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionFilterTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionFilterTest . java 
 @ @ - 40 , 7 + 40 , 7 @ @ public class SuppressionFilterTest { 
 @ Test 
 public void testAccept ( ) throws CheckstyleException { 
 SuppressionFilter filter = new SuppressionFilter ( ) ; 
 - filter . setFile ( " src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ none . xml " ) ; 
 + filter . setFile ( " src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ none . xml " ) ; 
 
 final AuditEvent ev = new AuditEvent ( this , " ATest . java " , null ) ; 
 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionsLoaderTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionsLoaderTest . java 
 index bc3427d . . 6d14e79 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionsLoaderTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressionsLoaderTest . java 
 @ @ - 47 , 16 + 47 , 19 @ @ import com . puppycrawl . tools . checkstyle . api . FilterSet ; 
 @ RunWith ( PowerMockRunner . class ) 
 @ PrepareForTest ( { SuppressionsLoader . class , SuppressionsLoaderTest . class } ) 
 public class SuppressionsLoaderTest extends BaseCheckTestSupport { 
 - 
 @ Rule 
 public final ExpectedException thrown = ExpectedException . none ( ) ; 
 
 + @ Override 
 + protected String getPath ( String filename ) { 
 + return " src / test / resources / com / puppycrawl / tools / checkstyle / filters / " + filename ; 
 + } 
 + 
 @ Test 
 public void testNoSuppressions ( ) 
 throws CheckstyleException { 
 final FilterSet fc = 
 - SuppressionsLoader . loadSuppressions ( 
 - " src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ none . xml " ) ; 
 + SuppressionsLoader . loadSuppressions ( getPath ( " suppressions _ none . xml " ) ) ; 
 final FilterSet fc2 = new FilterSet ( ) ; 
 assertEquals ( fc , fc2 ) ; 
 } 
 @ @ - 98 , 8 + 101 , 7 @ @ public class SuppressionsLoaderTest extends BaseCheckTestSupport { 
 public void testMultipleSuppression ( ) 
 throws CheckstyleException { 
 final FilterSet fc = 
 - SuppressionsLoader . loadSuppressions ( 
 - " src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ multiple . xml " ) ; 
 + SuppressionsLoader . loadSuppressions ( getPath ( " suppressions _ multiple . xml " ) ) ; 
 final FilterSet fc2 = new FilterSet ( ) ; 
 SuppressElement se0 = new SuppressElement ( " file0 " ) ; 
 se0 . setChecks ( " check0 " ) ; 
 @ @ - 122 , 7 + 124 , 7 @ @ public class SuppressionsLoaderTest extends BaseCheckTestSupport { 
 
 @ Test 
 public void testNoFile ( ) { 
 - final String fn = " src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ no _ file . xml " ; 
 + final String fn = getPath ( " suppressions _ no _ file . xml " ) ; 
 try { 
 SuppressionsLoader . loadSuppressions ( fn ) ; 
 } 
 @ @ - 135 , 7 + 137 , 7 @ @ public class SuppressionsLoaderTest extends BaseCheckTestSupport { 
 
 @ Test 
 public void testNoCheck ( ) { 
 - final String fn = " src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ no _ check . xml " ; 
 + final String fn = getPath ( " suppressions _ no _ check . xml " ) ; 
 try { 
 SuppressionsLoader . loadSuppressions ( fn ) ; 
 } 
 @ @ - 148 , 7 + 150 , 7 @ @ public class SuppressionsLoaderTest extends BaseCheckTestSupport { 
 
 @ Test 
 public void testBadInt ( ) { 
 - final String fn = " src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ bad _ int . xml " ; 
 + final String fn = getPath ( " suppressions _ bad _ int . xml " ) ; 
 try { 
 SuppressionsLoader . loadSuppressions ( fn ) ; 
 } 
 @ @ - 233 , 7 + 235 , 7 @ @ public class SuppressionsLoaderTest extends BaseCheckTestSupport { 
 
 @ Test 
 public void testNoCheckNoId ( ) { 
 - final String fn = " src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ no _ check _ and _ id . xml " ; 
 + final String fn = getPath ( " suppressions _ no _ check _ and _ id . xml " ) ; 
 try { 
 SuppressionsLoader . loadSuppressions ( fn ) ; 
 } 
 @ @ - 246 , 13 + 248 , 13 @ @ public class SuppressionsLoaderTest extends BaseCheckTestSupport { 
 
 @ Test 
 public void testNoCheckYesId ( ) throws Exception { 
 - final String fn = " src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ id . xml " ; 
 + final String fn = getPath ( " suppressions _ id . xml " ) ; 
 SuppressionsLoader . loadSuppressions ( fn ) ; 
 } 
 
 @ Test 
 public void testInvalidFileFormat ( ) { 
 - final String fn = " src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ invalid _ file . xml " ; 
 + final String fn = getPath ( " suppressions _ invalid _ file . xml " ) ; 
 try { 
 SuppressionsLoader . loadSuppressions ( fn ) ; 
 } 
 @ @ - 267 , 10 + 269 , 8 @ @ public class SuppressionsLoaderTest extends BaseCheckTestSupport { 
 public void testLoadFromClasspath ( ) 
 throws CheckstyleException { 
 final FilterSet fc = 
 - SuppressionsLoader . loadSuppressions ( 
 - " / com / puppycrawl / tools / checkstyle / suppressions _ none . xml " ) ; 
 + SuppressionsLoader . loadSuppressions ( getPath ( " suppressions _ none . xml " ) ) ; 
 final FilterSet fc2 = new FilterSet ( ) ; 
 assertEquals ( fc , fc2 ) ; 
 } 
 - 
 } 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ bad _ int . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ bad _ int . xml 
 new file mode 100644 
 index 0000000 . . 2e72f25 
 - - - / dev / null 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ bad _ int . xml 
 @ @ - 0 , 0 + 1 , 7 @ @ 
 + < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > 
 + < ! DOCTYPE suppressions PUBLIC 
 + " - / / Puppy Crawl / / DTD Suppressions 1 . 0 / / EN " 
 + " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 0 . dtd " > 
 + < suppressions > 
 + < suppress files = " file0 " checks = " check0 " lines = " a " / > 
 + < / suppressions > 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ id . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ id . xml 
 new file mode 100644 
 index 0000000 . . 807e706 
 - - - / dev / null 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ id . xml 
 @ @ - 0 , 0 + 1 , 7 @ @ 
 + < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > 
 + < ! DOCTYPE suppressions PUBLIC 
 + " - / / Puppy Crawl / / DTD Suppressions 1 . 1 / / EN " 
 + " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 1 . dtd " > 
 + < suppressions > 
 + < suppress files = " file0 " id = " 777 " / > 
 + < / suppressions > 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ invalid _ file . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ invalid _ file . xml 
 new file mode 100644 
 index 0000000 . . e485ab0 
 - - - / dev / null 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ invalid _ file . xml 
 @ @ - 0 , 0 + 1 , 7 @ @ 
 + < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > 
 + < ! DOCTYPE suppressions PUBLIC 
 + " - / / Puppy Crawl / / DTD Suppressions 1 . 1 / / EN " 
 + " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 1 . dtd " > 
 + < suppressions > 
 + < suppress files = " a [ l " checks = " abc " / > 
 + < / suppressions > 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ multiple . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ multiple . xml 
 new file mode 100644 
 index 0000000 . . 47f28cf 
 - - - / dev / null 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ multiple . xml 
 @ @ - 0 , 0 + 1 , 10 @ @ 
 + < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > 
 + < ! DOCTYPE suppressions PUBLIC 
 + " - / / Puppy Crawl / / DTD Suppressions 1 . 0 / / EN " 
 + " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 0 . dtd " > 
 + < suppressions > 
 + < suppress files = " file0 " checks = " check0 " / > 
 + < suppress files = " file1 " checks = " check1 " lines = " 1 , 2 - 3 " / > 
 + < suppress files = " file2 " checks = " check2 " columns = " 1 , 2 - 3 " / > 
 + < suppress files = " file3 " checks = " check3 " lines = " 1 , 2 - 3 " columns = " 1 , 2 - 3 " / > 
 + < / suppressions > 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ no _ check . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ no _ check . xml 
 new file mode 100644 
 index 0000000 . . c3d468c 
 - - - / dev / null 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ no _ check . xml 
 @ @ - 0 , 0 + 1 , 7 @ @ 
 + < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > 
 + < ! DOCTYPE suppressions PUBLIC 
 + " - / / Puppy Crawl / / DTD Suppressions 1 . 0 / / EN " 
 + " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 0 . dtd " > 
 + < suppressions > 
 + < suppress files = " file0 " / > 
 + < / suppressions > 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ no _ check _ and _ id . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ no _ check _ and _ id . xml 
 new file mode 100644 
 index 0000000 . . 3cbc495 
 - - - / dev / null 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ no _ check _ and _ id . xml 
 @ @ - 0 , 0 + 1 , 7 @ @ 
 + < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > 
 + < ! DOCTYPE suppressions PUBLIC 
 + " - / / Puppy Crawl / / DTD Suppressions 1 . 1 / / EN " 
 + " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 1 . dtd " > 
 + < suppressions > 
 + < suppress files = " file0 " / > 
 + < / suppressions > 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ no _ file . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ no _ file . xml 
 new file mode 100644 
 index 0000000 . . a402e84 
 - - - / dev / null 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ no _ file . xml 
 @ @ - 0 , 0 + 1 , 7 @ @ 
 + < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > 
 + < ! DOCTYPE suppressions PUBLIC 
 + " - / / Puppy Crawl / / DTD Suppressions 1 . 0 / / EN " 
 + " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 0 . dtd " > 
 + < suppressions > 
 + < suppress checks = " check0 " / > 
 + < / suppressions > 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ none . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ none . xml 
 new file mode 100644 
 index 0000000 . . 2002196 
 - - - / dev / null 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / filters / suppressions _ none . xml 
 @ @ - 0 , 0 + 1 , 6 @ @ 
 + < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > 
 + < ! DOCTYPE suppressions PUBLIC 
 + " - / / Puppy Crawl / / DTD Suppressions 1 . 0 / / EN " 
 + " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 0 . dtd " > 
 + < suppressions > 
 + < / suppressions > 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ bad _ int . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ bad _ int . xml 
 deleted file mode 100644 
 index 2e72f25 . . 0000000 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ bad _ int . xml 
 + + + / dev / null 
 @ @ - 1 , 7 + 0 , 0 @ @ 
 - < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > 
 - < ! DOCTYPE suppressions PUBLIC 
 - " - / / Puppy Crawl / / DTD Suppressions 1 . 0 / / EN " 
 - " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 0 . dtd " > 
 - < suppressions > 
 - < suppress files = " file0 " checks = " check0 " lines = " a " / > 
 - < / suppressions > 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ id . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ id . xml 
 deleted file mode 100644 
 index 807e706 . . 0000000 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ id . xml 
 + + + / dev / null 
 @ @ - 1 , 7 + 0 , 0 @ @ 
 - < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > 
 - < ! DOCTYPE suppressions PUBLIC 
 - " - / / Puppy Crawl / / DTD Suppressions 1 . 1 / / EN " 
 - " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 1 . dtd " > 
 - < suppressions > 
 - < suppress files = " file0 " id = " 777 " / > 
 - < / suppressions > 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ invalid _ file . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ invalid _ file . xml 
 deleted file mode 100644 
 index e485ab0 . . 0000000 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ invalid _ file . xml 
 + + + / dev / null 
 @ @ - 1 , 7 + 0 , 0 @ @ 
 - < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > 
 - < ! DOCTYPE suppressions PUBLIC 
 - " - / / Puppy Crawl / / DTD Suppressions 1 . 1 / / EN " 
 - " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 1 . dtd " > 
 - < suppressions > 
 - < suppress files = " a [ l " checks = " abc " / > 
 - < / suppressions > 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ multiple . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ multiple . xml 
 deleted file mode 100644 
 index 47f28cf . . 0000000 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ multiple . xml 
 + + + / dev / null 
 @ @ - 1 , 10 + 0 , 0 @ @ 
 - < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > 
 - < ! DOCTYPE suppressions PUBLIC 
 - " - / / Puppy Crawl / / DTD Suppressions 1 . 0 / / EN " 
 - " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 0 . dtd " > 
 - < suppressions > 
 - < suppress files = " file0 " checks = " check0 " / > 
 - < suppress files = " file1 " checks = " check1 " lines = " 1 , 2 - 3 " / > 
 - < suppress files = " file2 " checks = " check2 " columns = " 1 , 2 - 3 " / > 
 - < suppress files = " file3 " checks = " check3 " lines = " 1 , 2 - 3 " columns = " 1 , 2 - 3 " / > 
 - < / suppressions > 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ no _ check . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ no _ check . xml 
 deleted file mode 100644 
 index c3d468c . . 0000000 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ no _ check . xml 
 + + + / dev / null 
 @ @ - 1 , 7 + 0 , 0 @ @ 
 - < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > 
 - < ! DOCTYPE suppressions PUBLIC 
 - " - / / Puppy Crawl / / DTD Suppressions 1 . 0 / / EN " 
 - " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 0 . dtd " > 
 - < suppressions > 
 - < suppress files = " file0 " / > 
 - < / suppressions > 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ no _ check _ and _ id . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ no _ check _ and _ id . xml 
 deleted file mode 100644 
 index 3cbc495 . . 0000000 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ no _ check _ and _ id . xml 
 + + + / dev / null 
 @ @ - 1 , 7 + 0 , 0 @ @ 
 - < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > 
 - < ! DOCTYPE suppressions PUBLIC 
 - " - / / Puppy Crawl / / DTD Suppressions 1 . 1 / / EN " 
 - " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 1 . dtd " > 
 - < suppressions > 
 - < suppress files = " file0 " / > 
 - < / suppressions > 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ no _ file . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ no _ file . xml 
 deleted file mode 100644 
 index a402e84 . . 0000000 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ no _ file . xml 
 + + + / dev / null 
 @ @ - 1 , 7 + 0 , 0 @ @ 
 - < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > 
 - < ! DOCTYPE suppressions PUBLIC 
 - " - / / Puppy Crawl / / DTD Suppressions 1 . 0 / / EN " 
 - " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 0 . dtd " > 
 - < suppressions > 
 - < suppress checks = " check0 " / > 
 - < / suppressions > 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ none . xml b / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ none . xml 
 deleted file mode 100644 
 index 2002196 . . 0000000 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / suppressions _ none . xml 
 + + + / dev / null 
 @ @ - 1 , 6 + 0 , 0 @ @ 
 - < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > 
 - < ! DOCTYPE suppressions PUBLIC 
 - " - / / Puppy Crawl / / DTD Suppressions 1 . 0 / / EN " 
 - " http : / / www . puppycrawl . com / dtds / suppressions _ 1 _ 0 . dtd " > 
 - < suppressions > 
 - < / suppressions >
