BLEU SCORE: 0.034220976227266095

TEST MSG: Issue # 4421 : Support suppression - xpath element in SuppressionLoader
GENERATED MSG: Added file extensions property to Checker & TreeWalker , issue # 25

TEST DIFF (one line): diff - - git a / config / ant - phase - verify . xml b / config / ant - phase - verify . xml <nl> index b9a2331 . . feba93f 100644 <nl> - - - a / config / ant - phase - verify . xml <nl> + + + b / config / ant - phase - verify . xml <nl> @ @ - 38 , 6 + 38 , 8 @ @ <nl> < property key = " checkstyle . importcontroltest . file " file = " config / import - control - test . xml " / > <nl> < property key = " checkstyle . suppressions . file " <nl> file = " config / suppressions . xml " / > <nl> + < property key = " checkstyle . suppressions - xpath . file " <nl> + file = " config / suppressions - xpath . xml " / > <nl> < / checkstyle > <nl> <nl> < tstamp > <nl> diff - - git a / config / checkstyle _ checks . xml b / config / checkstyle _ checks . xml <nl> index c94e8f5 . . 8e158f4 100644 <nl> - - - a / config / checkstyle _ checks . xml <nl> + + + b / config / checkstyle _ checks . xml <nl> @ @ - 312 , 6 + 312 , 9 @ @ <nl> < property name = " offCommentFormat " value = " CSOFF \ : . * " / > <nl> < property name = " onCommentFormat " value = " CSON \ : . * " / > <nl> < / module > <nl> + < module name = " SuppressionXpathFilter " > <nl> + < property name = " file " value = " $ { checkstyle . suppressions - xpath . file } " / > <nl> + < / module > <nl> < module name = " SuppressWithNearbyCommentFilter " > <nl> < property name = " commentFormat " value = " - @ cs \ [ ( \ w { 8 , } ( \ | \ w { 8 , } ) * ) \ ] \ w [ \ ( \ ) \ - \ . \ ' \ ` \ , \ : \ ; \ w ] { 10 , } " / > <nl> < property name = " checkFormat " value = " $ 1 " / > <nl> diff - - git a / config / suppressions - xpath . xml b / config / suppressions - xpath . xml <nl> new file mode 100644 <nl> index 0000000 . . 65fba6d <nl> - - - / dev / null <nl> + + + b / config / suppressions - xpath . xml <nl> @ @ - 0 , 0 + 1 , 21 @ @ <nl> + < ? xml version = " 1 . 0 " ? > <nl> + <nl> + < ! DOCTYPE suppressions PUBLIC <nl> + " - / / Puppy Crawl / / DTD Suppressions Xpath Experimental 1 . 2 / / EN " <nl> + " http : / / checkstyle . sourceforge . net / dtds / suppressions _ 1 _ 2 _ xpath _ experimental . dtd " > <nl> + <nl> + < suppressions > <nl> + < ! - - Tone down the checking for test code - - > <nl> + < suppress - xpath checks = " NPathComplexity " <nl> + query = " / CLASS _ DEF [ @ text = ' XdocsPagesTest ' ] <nl> + / / METHOD _ DEF [ @ text = ' validateCheckSection ' ] " / > <nl> + <nl> + < suppress - xpath checks = " CyclomaticComplexity " <nl> + query = " / CLASS _ DEF [ @ text = ' XdocsPagesTest ' ] / / METHOD _ DEF " / > <nl> + <nl> + < ! - - Suppressions from PMD configuration - - > <nl> + < ! - - JavadocMethodCheck , JavadocStyleCheck , JavadocUtils . getJavadocTags ( ) - deprecated - - > <nl> + < suppress - xpath checks = " CyclomaticComplexity " <nl> + query = " / CLASS _ DEF [ @ text = ' JavadocMethodCheck ' or @ text = ' JavadocStyleCheck ' <nl> + or @ text = ' CustomImportOrderCheck ' ] / / METHOD _ DEF " / > <nl> + < / suppressions > <nl> diff - - git a / config / suppressions . xml b / config / suppressions . xml <nl> index c589879 . . aeb9c33 100644 <nl> - - - a / config / suppressions . xml <nl> + + + b / config / suppressions . xml <nl> @ @ - 24 , 8 + 24 , 6 @ @ <nl> files = " AbstractCheckTest . java | AbstractClassNameCheckTest . java | AbstractTypeAwareCheckTest . java | AbstractJavadocCheckTest . java | AbstractViolationReporterTest . java | AbstractFileSetCheckTest . java | AbstractNodeTest . java " / > <nl> <nl> < ! - - Tone down the checking for test code - - > <nl> - < suppress checks = " CyclomaticComplexity " files = " [ \ \ / ] XdocsPagesTest \ . java " / > <nl> - < suppress checks = " NPathComplexity " files = " [ \ \ / ] XdocsPagesTest \ . java " / > <nl> < suppress checks = " IllegalCatch " files = " [ \ \ / ] internal [ \ \ / ] . * [ \ \ / ] \ w + Util \ . java " / > <nl> < suppress checks = " EmptyBlock " files = " . * [ \ \ / ] src [ \ \ / ] test [ \ \ / ] " / > <nl> < suppress message = " Missing a Javadoc comment | Missing package - info . java file | Expected @ throws tag for | missing an @ author tag " files = " . * [ \ \ / ] src [ \ \ / ] ( test | it ) [ \ \ / ] " / > <nl> @ @ - 85 , 12 + 83 , 6 @ @ <nl> < ! - - Should be fixed after moving https : / / github . com / sevntu - checkstyle / sevntu . checkstyle / blob / master / sevntu - checks / src / main / java / com / github / sevntu / checkstyle / checks / coding / ReturnCountExtendedCheck . java into the main repo , to allow skip guard sentences ( or by topLinesToIgnoreCount ) - - > <nl> < suppress checks = " ReturnCount " files = " ( ConfigurationLoader | LambdaHandler ) \ . java " / > <nl> <nl> - < ! - - Suppressions from PMD configuration - - > <nl> - < ! - - JavadocMethodCheck , JavadocStyleCheck , JavadocUtils . getJavadocTags ( ) - deprecated - - > <nl> - < suppress checks = " CyclomaticComplexity " files = " JavadocMethodCheck \ . java " / > <nl> - < suppress checks = " CyclomaticComplexity " files = " JavadocStyleCheck \ . java " / > <nl> - < suppress checks = " CyclomaticComplexity " files = " CustomImportOrderCheck \ . java " / > <nl> - <nl> < ! - - HandlerFactory crosses allowed limit for executable statements - - > <nl> < suppress checks = " ExecutableStatementCount " files = " HandlerFactory \ . java " / > <nl> < / suppressions > <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / TreeWalkerAuditEvent . java b / src / main / java / com / puppycrawl / tools / checkstyle / TreeWalkerAuditEvent . java <nl> index 629c680 . . a881efb 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / TreeWalkerAuditEvent . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / TreeWalkerAuditEvent . java <nl> @ @ - 105 , 6 + 105 , 14 @ @ public class TreeWalkerAuditEvent { <nl> } <nl> <nl> / * * <nl> + * Gets the column char index associated with the message . <nl> + * @ return the column char index associated with the message <nl> + * / <nl> + public int getColumnCharIndex ( ) { <nl> + return localizedMessage . getColumnCharIndex ( ) ; <nl> + } <nl> + <nl> + / * * <nl> * Returns id of module . <nl> * @ return the identifier of the module that generated the event . Can return <nl> * null . <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / filters / XpathFilter . java b / src / main / java / com / puppycrawl / tools / checkstyle / filters / XpathFilter . java <nl> index bd62cb6 . . 6003404 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / filters / XpathFilter . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / filters / XpathFilter . java <nl> @ @ - 161 , 7 + 161 , 7 @ @ public class XpathFilter implements TreeWalkerFilter { <nl> final AbstractNode abstractNode = ( AbstractNode ) item ; <nl> isMatching = abstractNode . getTokenType ( ) = = event . getTokenType ( ) <nl> & & abstractNode . getLineNumber ( ) = = event . getLine ( ) <nl> - & & abstractNode . getColumnNumber ( ) = = event . getColumn ( ) ; <nl> + & & abstractNode . getColumnNumber ( ) = = event . getColumnCharIndex ( ) ; <nl> if ( isMatching ) { <nl> break ; <nl> } <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / internal / AllChecksTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / internal / AllChecksTest . java <nl> index 6f8f1dd . . f821554 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / internal / AllChecksTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / internal / AllChecksTest . java <nl> @ @ - 330 , 8 + 330 , 6 @ @ public class AllChecksTest extends AbstractModuleTestSupport { <nl> public void testAllModulesAreReferencedInConfigFile ( ) throws Exception { <nl> final Set < String > modulesReferencedInConfig = CheckUtil . getConfigCheckStyleModules ( ) ; <nl> final Set < String > moduleNames = CheckUtil . getSimpleNames ( CheckUtil . getCheckstyleModules ( ) ) ; <nl> - / / Issue : https : / / github . com / checkstyle / checkstyle / issues / 4421 <nl> - moduleNames . remove ( " SuppressionXpathFilter " ) ; <nl> <nl> moduleNames . stream ( ) . filter ( check - > ! modulesReferencedInConfig . contains ( check ) ) <nl> . forEach ( check - > { <nl> @ @ - 428 , 8 + 426 , 6 @ @ public class AllChecksTest extends AbstractModuleTestSupport { <nl> / / these are documented on non - ' config _ ' pages <nl> checkstyleModulesNames . remove ( " TreeWalker " ) ; <nl> checkstyleModulesNames . remove ( " Checker " ) ; <nl> - / / Issue : https : / / github . com / checkstyle / checkstyle / issues / 4421 <nl> - checkstyleModulesNames . remove ( " SuppressionXpathFilter " ) ; <nl> <nl> checkstyleModulesNames . stream ( ) <nl> . filter ( moduleName - > ! modulesNamesWhichHaveXdocs . contains ( moduleName ) ) <nl> @ @ - 445 , 8 + 441 , 6 @ @ public class AllChecksTest extends AbstractModuleTestSupport { <nl> public void testAllCheckstyleModulesInCheckstyleConfig ( ) throws Exception { <nl> final Set < String > configChecks = CheckUtil . getConfigCheckStyleModules ( ) ; <nl> final Set < String > moduleNames = CheckUtil . getSimpleNames ( CheckUtil . getCheckstyleModules ( ) ) ; <nl> - / / Issue : https : / / github . com / checkstyle / checkstyle / issues / 4421 <nl> - moduleNames . remove ( " SuppressionXpathFilter " ) ; <nl> <nl> for ( String moduleName : moduleNames ) { <nl> Assert . assertTrue ( " checkstyle _ checks . xml is missing module : " + moduleName , <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / internal / XdocsPagesTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / internal / XdocsPagesTest . java <nl> index 59d3751 . . f57c9bc 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / internal / XdocsPagesTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / internal / XdocsPagesTest . java <nl> @ @ - 215 , 6 + 215 , 7 @ @ public class XdocsPagesTest { <nl> / / can ' t process non - existent examples , or out of context snippets <nl> if ( ! code . contains ( " com . mycompany " ) & & ! code . contains ( " checkstyle - packages " ) <nl> & & ! code . contains ( " MethodLimit " ) & & ! code . contains ( " < suppress " ) <nl> + & & ! code . contains ( " < suppress - xpath " ) <nl> & & ! code . contains ( " < import - control " ) <nl> & & ! unserializedSource . startsWith ( " < property " ) <nl> & & ! unserializedSource . startsWith ( " < taskdef " ) ) { <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / internal / utils / ConfigurationUtil . java b / src / test / java / com / puppycrawl / tools / checkstyle / internal / utils / ConfigurationUtil . java <nl> index 948a551 . . a88fb96 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / internal / utils / ConfigurationUtil . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / internal / utils / ConfigurationUtil . java <nl> @ @ - 38 , 6 + 38 , 7 @ @ public final class ConfigurationUtil { <nl> props . setProperty ( " checkstyle . basedir " , " basedir " ) ; <nl> props . setProperty ( " checkstyle . cache . file " , " file " ) ; <nl> props . setProperty ( " checkstyle . suppressions . file " , " file " ) ; <nl> + props . setProperty ( " checkstyle . suppressions - xpath . file " , " file " ) ; <nl> props . setProperty ( " checkstyle . header . file " , " file " ) ; <nl> props . setProperty ( " checkstyle . regexp . header . file " , " file " ) ; <nl> props . setProperty ( " checkstyle . importcontrol . file " , " file " ) ; <nl> diff - - git a / src / xdocs / config _ filters . xml b / src / xdocs / config _ filters . xml <nl> index a421177 . . ff73d6f 100644 <nl> - - - a / src / xdocs / config _ filters . xml <nl> + + + b / src / xdocs / config _ filters . xml <nl> @ @ - 648 , 6 + 648 , 229 @ @ public class UserService { <nl> < / subsection > <nl> < / section > <nl> <nl> + < section name = " SuppressionXpathFilter " > <nl> + < subsection name = " Description " > <nl> + < p > Since Checkstyle 8 . 6 < / p > <nl> + < p > <nl> + Filter < code > SuppressionXpathFilter < / code > works as <nl> + < a href = " config _ filters . html # SuppressionFilter " > SuppressionFilter < / a > . <nl> + Additionally , filter processes < code > suppress - xpath < / code > elements , <nl> + which contains xpath - expressions . Xpath - expressions <nl> + are queries for suppressed nodes inside the AST tree . <nl> + < / p > <nl> + < p > <nl> + Note , after resolving <nl> + < a href = " https : / / github . com / checkstyle / checkstyle / issues / 4530 " > issue 4530 < / a > <nl> + CLI will have option to generate the basic suppression xpath to elements . <nl> + < / p > <nl> + < p > <nl> + Currently , filter supports the following <nl> + checks : <nl> + < / p > <nl> + < ul > <nl> + < li > CyclomaticComplexityCheck < / li > <nl> + < li > DeclarationOrderCheck < / li > <nl> + < li > DefaultComesLastCheck < / li > <nl> + < li > ExplicitInitializationCheck < / li > <nl> + < li > FallThroughCheck < / li > <nl> + < li > HiddenFieldCheck < / li > <nl> + < li > IllegalCatchCheck < / li > <nl> + < li > IllegalThrowsCheck < / li > <nl> + < li > JavadocMethodCheck < / li > <nl> + < li > JavadocVariableCheck < / li > <nl> + < li > ImportControlCheck < / li > <nl> + < li > LeftCurlyCheck < / li > <nl> + < li > MethodParamPadCheck < / li > <nl> + < li > MultipleVariableDeclarationCheck < / li > <nl> + < li > NestedForDepthCheck < / li > <nl> + < li > NestedIfDepthCheck < / li > <nl> + < li > NestedTryDepthCheck < / li > <nl> + < li > NPathComplexityCheck < / li > <nl> + < li > OneStatementPerLineCheck < / li > <nl> + < li > OuterTypeNumberCheck < / li > <nl> + < li > RequireThisCheck < / li > <nl> + < li > RightCurlyCheck < / li > <nl> + < / ul > <nl> + < p > <nl> + Note , that support for other Checks will be available after resolving <nl> + < a href = " https : / / github . com / checkstyle / checkstyle / issues / 4830 " > issue 4830 < / a > . <nl> + < / p > <nl> + < / subsection > <nl> + < subsection name = " Properties " > <nl> + < table > <nl> + < tr > <nl> + < th > name < / th > <nl> + < th > description < / th > <nl> + < th > type < / th > <nl> + < th > default value < / th > <nl> + < th > since < / th > <nl> + < / tr > <nl> + < tr > <nl> + < td > file < / td > <nl> + < td > <nl> + the location of the < em > suppressions XML document < / em > file . <nl> + The order the location is checked is : <nl> + < ol > <nl> + < li > as a filesystem location < / li > <nl> + < li > <nl> + if no file found , and the location starts with either <nl> + < code > http : / / < / code > or < code > https : / / < / code > , then it <nl> + is interpreted as a URL <nl> + < / li > <nl> + < li > <nl> + if no file found , then passed to the <nl> + < code > ClassLoader . getResource ( ) < / code > method . <nl> + < / li > <nl> + < / ol > <nl> + < / td > <nl> + < td > < a href = " property _ types . html # string " > string < / a > < / td > <nl> + < td > < code > none < / code > < / td > <nl> + < td > 8 . 6 < / td > <nl> + < / tr > <nl> + < tr > <nl> + < td > optional < / td > <nl> + < td > <nl> + Tells what to do when the file is not existing . If <nl> + optional is set to false the file must exist , or else <nl> + it ends with error . On the other hand if optional is <nl> + true and file is not found , the filter accept all <nl> + audit events . <nl> + < / td > <nl> + < td > < a href = " property _ types . html # boolean " > Boolean < / a > < / td > <nl> + < td > < code > false < / code > < / td > <nl> + < td > 8 . 6 < / td > <nl> + < / tr > <nl> + < / table > <nl> + < / subsection > <nl> + < subsection name = " Examples " > <nl> + < p > <nl> + For example , the following configuration fragment directs the <nl> + Checker to use a < code > SuppressionXpathFilter < / code > <nl> + with suppressions <nl> + file < code > config / suppressions . xml < / code > : <nl> + < / p > <nl> + < source > <nl> + & lt ; module name = & quot ; SuppressionXpathFilter & quot ; & gt ; <nl> + & lt ; property name = & quot ; file & quot ; value = & quot ; config / suppressions . xml & quot ; / & gt ; <nl> + & lt ; property name = & quot ; optional & quot ; value = & quot ; false & quot ; / & gt ; <nl> + & lt ; / module & gt ; <nl> + < / source > <nl> + < p > <nl> + A < a href = " config . html # XML _ Structure " > < em > suppressions XML <nl> + document < / em > < / a > contains a set <nl> + of < code > suppress < / code > and < code > suppress - xpath < / code > elements , where <nl> + each < code > suppress - xpath < / code > element can have the <nl> + following attributes : <nl> + < / p > <nl> + < ul > <nl> + < li > <nl> + < code > files < / code > - <nl> + a < a href = " property _ types . html # regexp " > Regular Expression < / a > <nl> + matched against the file name associated with an audit <nl> + event . It is optional . <nl> + < / li > <nl> + < li > <nl> + < code > checks < / code > - <nl> + a < a href = " property _ types . html # regexp " > Regular Expression < / a > <nl> + matched against the name of the check associated with an audit <nl> + event . Optional as long as < code > id < / code > or < code > message < / code > is specified . <nl> + < / li > <nl> + < li > <nl> + < code > message < / code > - <nl> + a < a href = " property _ types . html # regexp " > Regular Expression < / a > <nl> + matched against the message of the check associated with an audit <nl> + event . Optional as long as < code > checks < / code > or < code > id < / code > is specified . <nl> + < / li > <nl> + < li > <nl> + < code > id < / code > - <nl> + a < a href = " property _ types . html # string " > string < / a > <nl> + matched against the ID of the check associated with an audit <nl> + event . Optional as long as < code > checks < / code > or < code > message < / code > is specified . <nl> + < / li > <nl> + < li > <nl> + < code > query < / code > - <nl> + a < a href = " property _ types . html # string " > string < / a > <nl> + xpath query . It is optional . <nl> + < / li > <nl> + < / ul > <nl> + < p > <nl> + Each audit event is checked against <nl> + each < code > suppress < / code > and < code > suppress - xpath < / code > element . It is <nl> + suppressed if all specified attributes match against the audit <nl> + event . <nl> + < / p > <nl> + < p > <nl> + The following suppressions XML document directs <nl> + a < code > SuppressionXpathFilter < / code > to <nl> + reject < code > CyclomaticComplexity < / code > errors for <nl> + all methods with name < i > sayHelloWorld < / i > inside < i > FileOne < / i > <nl> + and < i > FileTwo < / i > classes : <nl> + < / p > <nl> + < source > <nl> + & lt ; ? xml version = & quot ; 1 . 0 & quot ; ? & gt ; <nl> + <nl> + & lt ; ! DOCTYPE suppressions PUBLIC <nl> + & quot ; - / / Puppy Crawl / / DTD Suppressions Xpath Experimental 1 . 2 / / EN & quot ; <nl> + & quot ; http : / / checkstyle . sourceforge . net / dtds / suppressions _ 1 _ 2 _ xpath _ experimental . dtd & quot ; & gt ; <nl> + <nl> + & lt ; suppressions & gt ; <nl> + & lt ; suppress - xpath checks = & quot ; CyclomaticComplexity & quot ; <nl> + files = & quot ; FileOne . java , FileTwo . java & quot ; <nl> + query = & quot ; / / METHOD _ DEF [ @ text = ' sayHelloWorld ' ] & quot ; / & gt ; <nl> + & lt ; / suppressions & gt ; <nl> + < / source > <nl> + < p > <nl> + Suppress checks for package definitions : <nl> + < / p > <nl> + < source > <nl> + & lt ; suppress - xpath checks = & quot ; . * & quot ; query = & quot ; / PACKAGE _ DEF & quot ; / & gt ; <nl> + < / source > <nl> + < p > <nl> + Suppress checks for parent element of the first variable definition : <nl> + < / p > <nl> + < source > <nl> + & lt ; suppress - xpath checks = & quot ; . * & quot ; query = & quot ; ( / / VARIABLE _ DEF ) [ 1 ] / . . & quot ; / & gt ; <nl> + < / source > <nl> + < p > <nl> + Suppress checks for elements which are either class definitions , <nl> + either method definitions . <nl> + < / p > <nl> + < source > <nl> + & lt ; suppress - xpath checks = & quot ; . * & quot ; query = & quot ; / / CLASS _ DEF | / / METHOD _ DEF & quot ; / & gt ; <nl> + < / source > <nl> + < p > <nl> + Suppress checks for certain methods : <nl> + < / p > <nl> + < source > <nl> + & lt ; suppress - xpath checks = & quot ; . * & quot ; query = & quot ; / / METHOD _ DEF [ @ text = ' getSomeVar ' <nl> + or @ text = ' setSomeVar ' ] & quot ; / & gt ; <nl> + < / source > <nl> + < p > <nl> + Suppress checks for variable < i > testVariable < / i > inside < i > testMethod < / i > method <nl> + inside < i > TestClass < / i > class . <nl> + < / p > <nl> + < source > <nl> + & lt ; suppress - xpath checks = & quot ; . * & quot ; query = & quot ; / CLASS _ DEF [ @ text = ' TestClass ' ] <nl> + / / METHOD _ DEF [ @ text = ' testMethod ' ] / / VARIABLE _ DEF [ @ text = ' testVariable ' ] & quot ; / & gt ; <nl> + < / source > <nl> + < / subsection > <nl> + < subsection name = " Example of Usage " > <nl> + < ul > <nl> + < li > <nl> + < a href = " https : / / github . com / search ? q = path % 3Aconfig + filename % 3Acheckstyle _ checks . xml + repo % 3Acheckstyle % 2Fcheckstyle + SuppressionXpathFilter " > <nl> + Checkstyle Style < / a > <nl> + < / li > <nl> + < / ul > <nl> + < / subsection > <nl> + < subsection name = " Package " > <nl> + < p > com . puppycrawl . tools . checkstyle . filters < / p > <nl> + < / subsection > <nl> + <nl> + < subsection name = " Parent Module " > <nl> + < p > < a href = " config . html # TreeWalker " > TreeWalker < / a > < / p > <nl> + < / subsection > <nl> + < / section > <nl> + <nl> < section name = " SuppressWarningsFilter " > <nl> < subsection name = " Description " > <nl> < p > Since Checkstyle 5 . 7 < / p >
NEAREST DIFF (one line): diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / sizes / ParameterNumberCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / sizes / ParameterNumberCheck . java <nl> index a81ac42 . . 798a11f 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / sizes / ParameterNumberCheck . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / sizes / ParameterNumberCheck . java <nl> @ @ - 19 , 6 + 19 , 7 @ @ <nl> <nl> package com . puppycrawl . tools . checkstyle . checks . sizes ; <nl> <nl> + import com . puppycrawl . tools . checkstyle . api . AnnotationUtility ; <nl> import com . puppycrawl . tools . checkstyle . api . Check ; <nl> import com . puppycrawl . tools . checkstyle . api . DetailAST ; <nl> import com . puppycrawl . tools . checkstyle . api . TokenTypes ; <nl> @ @ - 28 , 6 + 29 , 8 @ @ import com . puppycrawl . tools . checkstyle . api . TokenTypes ; <nl> * Checks the number of parameters that a method or constructor has . <nl> * The default allowable number of parameters is 7 . <nl> * To change the number of allowable parameters , set property max . <nl> + * Allows to ignore number of parameters for methods with <nl> + * & # 064 ; { @ link java . lang . Override } annotation . <nl> * < / p > <nl> * < p > <nl> * An example of how to configure the check is : <nl> @ @ - 36 , 26 + 39 , 48 @ @ import com . puppycrawl . tools . checkstyle . api . TokenTypes ; <nl> * & lt ; module name = " ParameterNumber " / & gt ; <nl> * < / pre > <nl> * < p > <nl> - * An example of how to configure the check to allow 10 parameters is : <nl> + * An example of how to configure the check to allow 10 parameters <nl> + * and ignoring parameters for methods with & # 064 ; { @ link java . lang . Override } <nl> + * annotation is : <nl> * < / p > <nl> * < pre > <nl> * & lt ; module name = " ParameterNumber " & gt ; <nl> * & lt ; property name = " max " value = " 10 " / & gt ; <nl> + * & lt ; property name = " ignoreOverriddenMethods " value = " true " / & gt ; <nl> * & lt ; / module & gt ; <nl> * < / pre > <nl> - <nl> + * Java code that will be ignored : <nl> + * < pre > <nl> + * < code > <nl> + * <nl> + * & # 064 ; Override <nl> + * public void needsLotsOfParameters ( int a , <nl> + * int b , int c , int d , int e , int f , int g , int h ) { <nl> + * . . . <nl> + * } <nl> + * < / code > <nl> + * < / pre > <nl> * @ author Oliver Burn <nl> * @ version 1 . 0 <nl> * / <nl> public class ParameterNumberCheck <nl> extends Check <nl> { <nl> + / * * { @ link Override Override } annotation name * / <nl> + private static final String OVERRIDE = " Override " ; <nl> + <nl> + / * * fully - qualified { @ link Override Override } annotation name * / <nl> + private static final String FQ _ OVERRIDE = " java . lang . " + OVERRIDE ; <nl> + <nl> / * * default maximum number of allowed parameters * / <nl> private static final int DEFAULT _ MAX _ PARAMETERS = 7 ; <nl> <nl> / * * the maximum number of allowed parameters * / <nl> private int mMax = DEFAULT _ MAX _ PARAMETERS ; <nl> <nl> + / * * ignore overridden methods * / <nl> + private boolean mIgnoreOverriddenMethods ; <nl> + <nl> / * * <nl> * Sets the maximum number of allowed parameters . <nl> * @ param aMax the max allowed parameters <nl> @ @ - 65 , 6 + 90 , 16 @ @ public class ParameterNumberCheck <nl> mMax = aMax ; <nl> } <nl> <nl> + / * * <nl> + * Ignore number of parameters for methods with <nl> + * & # 064 ; { @ link java . lang . Override } annotation . <nl> + * @ param aIgnoreOverriddenMethods set ignore overridden methods <nl> + * / <nl> + public void setIgnoreOverriddenMethods ( boolean aIgnoreOverriddenMethods ) <nl> + { <nl> + mIgnoreOverriddenMethods = aIgnoreOverriddenMethods ; <nl> + } <nl> + <nl> @ Override <nl> public int [ ] getDefaultTokens ( ) <nl> { <nl> @ @ - 76 , 9 + 111 , 23 @ @ public class ParameterNumberCheck <nl> { <nl> final DetailAST params = aAST . findFirstToken ( TokenTypes . PARAMETERS ) ; <nl> final int count = params . getChildCount ( TokenTypes . PARAMETER _ DEF ) ; <nl> - if ( count > mMax ) { <nl> + if ( count > mMax & & ! ignoreNumberOfParameters ( aAST ) ) { <nl> final DetailAST name = aAST . findFirstToken ( TokenTypes . IDENT ) ; <nl> log ( name . getLineNo ( ) , name . getColumnNo ( ) , " maxParam " , mMax , count ) ; <nl> } <nl> } <nl> + <nl> + / * * Determine whether to ignore number of parameters for the method . <nl> + * <nl> + * @ param aAST the token to process <nl> + * @ return true if this is overridden method and number of parameters should be ignored <nl> + * false otherwise <nl> + * / <nl> + private boolean ignoreNumberOfParameters ( DetailAST aAST ) <nl> + { <nl> + / / if you override a method , you have no power over the number of parameters <nl> + return mIgnoreOverriddenMethods <nl> + & & ( AnnotationUtility . containsAnnotation ( aAST , OVERRIDE ) <nl> + | | AnnotationUtility . containsAnnotation ( aAST , FQ _ OVERRIDE ) ) ; <nl> + } <nl> } <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / checks / sizes / ParameterNumberCheckTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / checks / sizes / ParameterNumberCheckTest . java <nl> index 7d293f2 . . 674b2b5 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / checks / sizes / ParameterNumberCheckTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / checks / sizes / ParameterNumberCheckTest . java <nl> @ @ - 63 , 4 + 63 , 17 @ @ public class ParameterNumberCheckTest <nl> } ; <nl> verify ( checkConfig , getPath ( " InputSimple . java " ) , expected ) ; <nl> } <nl> + <nl> + @ Test <nl> + public void shouldIgnoreMethodsWithOverrideAnnotation ( ) <nl> + throws Exception <nl> + { <nl> + final DefaultConfiguration checkConfig = <nl> + createCheckConfig ( ParameterNumberCheck . class ) ; <nl> + checkConfig . addAttribute ( " ignoreOverriddenMethods " , " true " ) ; <nl> + final String [ ] expected = { <nl> + " 6 : 10 : More than 7 parameters ( found 8 ) . " , <nl> + } ; <nl> + verify ( checkConfig , getPath ( " InputParameterNumberCheck . java " ) , expected ) ; <nl> + } <nl> } <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / InputParameterNumberCheck . java b / src / test / resources / com / puppycrawl / tools / checkstyle / InputParameterNumberCheck . java <nl> new file mode 100644 <nl> index 0000000 . . e90969d <nl> - - - / dev / null <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / InputParameterNumberCheck . java <nl> @ @ - 0 , 0 + 1 , 17 @ @ <nl> + package com . puppycrawl . tools . checkstyle ; <nl> + <nl> + class InputParameterNumberCheckBase <nl> + { <nl> + / / method with many parameters <nl> + void myMethod ( int a , int b , int c , int d , int e , int f , int g , int h ) { <nl> + <nl> + } <nl> + } <nl> + <nl> + public class InputParameterNumberCheck extends InputParameterNumberCheckBase <nl> + { <nl> + @ Override <nl> + void myMethod ( int a , int b , int c , int d , int e , int f , int g , int h ) { <nl> + <nl> + } <nl> + } <nl> diff - - git a / src / xdocs / config _ sizes . xml b / src / xdocs / config _ sizes . xml <nl> index 5ece323 . . d75c39e 100644 <nl> - - - a / src / xdocs / config _ sizes . xml <nl> + + + b / src / xdocs / config _ sizes . xml <nl> @ @ - 411 , 6 + 411 , 12 @ @ <nl> < td > 7 < / td > <nl> < / tr > <nl> < tr > <nl> + < td > ignoreOverriddenMethods < / td > <nl> + < td > Ignore number of parameters for methods with @ Override annotation < / td > <nl> + < td > < a href = " property _ types . html # boolean " > boolean < / a > < / td > <nl> + < td > false < / td > <nl> + < / tr > <nl> + < tr > <nl> < td > tokens < / td > <nl> < td > declarations to check < / td > <nl> <nl> @ @ - 448 , 6 + 454 , 28 @ @ <nl> & lt ; property name = " tokens " value = " METHOD _ DEF " / & gt ; <nl> & lt ; / module & gt ; <nl> < / source > <nl> + < p > <nl> + To configure the check to ignore number of parameters for methods with @ Override or @ java . lang . Override annotation . <nl> + < / p > <nl> + < p > <nl> + Rationale : developer may need to override method with many parameters from 3 - rd party library . <nl> + In this case developer has no control over number of parameters . <nl> + < / p > <nl> + < source > <nl> + & lt ; module name = " ParameterNumber " & gt ; <nl> + & lt ; property name = " ignoreOverriddenMethods " value = " true " / & gt ; <nl> + & lt ; property name = " tokens " value = " METHOD _ DEF " / & gt ; <nl> + & lt ; / module & gt ; <nl> + < / source > <nl> + < p > <nl> + Java code example <nl> + < / p > <nl> + < source > <nl> + @ Override <nl> + public void needsLotsOfParameters ( int a , int b , int c , int d , int e , int f , int g , int h ) { <nl> + . . . <nl> + } <nl> + < / source > <nl> < / subsection > <nl> <nl> < subsection name = " Package " >

TEST DIFF:
diff - - git a / config / ant - phase - verify . xml b / config / ant - phase - verify . xml 
 index b9a2331 . . feba93f 100644 
 - - - a / config / ant - phase - verify . xml 
 + + + b / config / ant - phase - verify . xml 
 @ @ - 38 , 6 + 38 , 8 @ @ 
 < property key = " checkstyle . importcontroltest . file " file = " config / import - control - test . xml " / > 
 < property key = " checkstyle . suppressions . file " 
 file = " config / suppressions . xml " / > 
 + < property key = " checkstyle . suppressions - xpath . file " 
 + file = " config / suppressions - xpath . xml " / > 
 < / checkstyle > 
 
 < tstamp > 
 diff - - git a / config / checkstyle _ checks . xml b / config / checkstyle _ checks . xml 
 index c94e8f5 . . 8e158f4 100644 
 - - - a / config / checkstyle _ checks . xml 
 + + + b / config / checkstyle _ checks . xml 
 @ @ - 312 , 6 + 312 , 9 @ @ 
 < property name = " offCommentFormat " value = " CSOFF \ : . * " / > 
 < property name = " onCommentFormat " value = " CSON \ : . * " / > 
 < / module > 
 + < module name = " SuppressionXpathFilter " > 
 + < property name = " file " value = " $ { checkstyle . suppressions - xpath . file } " / > 
 + < / module > 
 < module name = " SuppressWithNearbyCommentFilter " > 
 < property name = " commentFormat " value = " - @ cs \ [ ( \ w { 8 , } ( \ | \ w { 8 , } ) * ) \ ] \ w [ \ ( \ ) \ - \ . \ ' \ ` \ , \ : \ ; \ w ] { 10 , } " / > 
 < property name = " checkFormat " value = " $ 1 " / > 
 diff - - git a / config / suppressions - xpath . xml b / config / suppressions - xpath . xml 
 new file mode 100644 
 index 0000000 . . 65fba6d 
 - - - / dev / null 
 + + + b / config / suppressions - xpath . xml 
 @ @ - 0 , 0 + 1 , 21 @ @ 
 + < ? xml version = " 1 . 0 " ? > 
 + 
 + < ! DOCTYPE suppressions PUBLIC 
 + " - / / Puppy Crawl / / DTD Suppressions Xpath Experimental 1 . 2 / / EN " 
 + " http : / / checkstyle . sourceforge . net / dtds / suppressions _ 1 _ 2 _ xpath _ experimental . dtd " > 
 + 
 + < suppressions > 
 + < ! - - Tone down the checking for test code - - > 
 + < suppress - xpath checks = " NPathComplexity " 
 + query = " / CLASS _ DEF [ @ text = ' XdocsPagesTest ' ] 
 + / / METHOD _ DEF [ @ text = ' validateCheckSection ' ] " / > 
 + 
 + < suppress - xpath checks = " CyclomaticComplexity " 
 + query = " / CLASS _ DEF [ @ text = ' XdocsPagesTest ' ] / / METHOD _ DEF " / > 
 + 
 + < ! - - Suppressions from PMD configuration - - > 
 + < ! - - JavadocMethodCheck , JavadocStyleCheck , JavadocUtils . getJavadocTags ( ) - deprecated - - > 
 + < suppress - xpath checks = " CyclomaticComplexity " 
 + query = " / CLASS _ DEF [ @ text = ' JavadocMethodCheck ' or @ text = ' JavadocStyleCheck ' 
 + or @ text = ' CustomImportOrderCheck ' ] / / METHOD _ DEF " / > 
 + < / suppressions > 
 diff - - git a / config / suppressions . xml b / config / suppressions . xml 
 index c589879 . . aeb9c33 100644 
 - - - a / config / suppressions . xml 
 + + + b / config / suppressions . xml 
 @ @ - 24 , 8 + 24 , 6 @ @ 
 files = " AbstractCheckTest . java | AbstractClassNameCheckTest . java | AbstractTypeAwareCheckTest . java | AbstractJavadocCheckTest . java | AbstractViolationReporterTest . java | AbstractFileSetCheckTest . java | AbstractNodeTest . java " / > 
 
 < ! - - Tone down the checking for test code - - > 
 - < suppress checks = " CyclomaticComplexity " files = " [ \ \ / ] XdocsPagesTest \ . java " / > 
 - < suppress checks = " NPathComplexity " files = " [ \ \ / ] XdocsPagesTest \ . java " / > 
 < suppress checks = " IllegalCatch " files = " [ \ \ / ] internal [ \ \ / ] . * [ \ \ / ] \ w + Util \ . java " / > 
 < suppress checks = " EmptyBlock " files = " . * [ \ \ / ] src [ \ \ / ] test [ \ \ / ] " / > 
 < suppress message = " Missing a Javadoc comment | Missing package - info . java file | Expected @ throws tag for | missing an @ author tag " files = " . * [ \ \ / ] src [ \ \ / ] ( test | it ) [ \ \ / ] " / > 
 @ @ - 85 , 12 + 83 , 6 @ @ 
 < ! - - Should be fixed after moving https : / / github . com / sevntu - checkstyle / sevntu . checkstyle / blob / master / sevntu - checks / src / main / java / com / github / sevntu / checkstyle / checks / coding / ReturnCountExtendedCheck . java into the main repo , to allow skip guard sentences ( or by topLinesToIgnoreCount ) - - > 
 < suppress checks = " ReturnCount " files = " ( ConfigurationLoader | LambdaHandler ) \ . java " / > 
 
 - < ! - - Suppressions from PMD configuration - - > 
 - < ! - - JavadocMethodCheck , JavadocStyleCheck , JavadocUtils . getJavadocTags ( ) - deprecated - - > 
 - < suppress checks = " CyclomaticComplexity " files = " JavadocMethodCheck \ . java " / > 
 - < suppress checks = " CyclomaticComplexity " files = " JavadocStyleCheck \ . java " / > 
 - < suppress checks = " CyclomaticComplexity " files = " CustomImportOrderCheck \ . java " / > 
 - 
 < ! - - HandlerFactory crosses allowed limit for executable statements - - > 
 < suppress checks = " ExecutableStatementCount " files = " HandlerFactory \ . java " / > 
 < / suppressions > 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / TreeWalkerAuditEvent . java b / src / main / java / com / puppycrawl / tools / checkstyle / TreeWalkerAuditEvent . java 
 index 629c680 . . a881efb 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / TreeWalkerAuditEvent . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / TreeWalkerAuditEvent . java 
 @ @ - 105 , 6 + 105 , 14 @ @ public class TreeWalkerAuditEvent { 
 } 
 
 / * * 
 + * Gets the column char index associated with the message . 
 + * @ return the column char index associated with the message 
 + * / 
 + public int getColumnCharIndex ( ) { 
 + return localizedMessage . getColumnCharIndex ( ) ; 
 + } 
 + 
 + / * * 
 * Returns id of module . 
 * @ return the identifier of the module that generated the event . Can return 
 * null . 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / filters / XpathFilter . java b / src / main / java / com / puppycrawl / tools / checkstyle / filters / XpathFilter . java 
 index bd62cb6 . . 6003404 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / filters / XpathFilter . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / filters / XpathFilter . java 
 @ @ - 161 , 7 + 161 , 7 @ @ public class XpathFilter implements TreeWalkerFilter { 
 final AbstractNode abstractNode = ( AbstractNode ) item ; 
 isMatching = abstractNode . getTokenType ( ) = = event . getTokenType ( ) 
 & & abstractNode . getLineNumber ( ) = = event . getLine ( ) 
 - & & abstractNode . getColumnNumber ( ) = = event . getColumn ( ) ; 
 + & & abstractNode . getColumnNumber ( ) = = event . getColumnCharIndex ( ) ; 
 if ( isMatching ) { 
 break ; 
 } 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / internal / AllChecksTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / internal / AllChecksTest . java 
 index 6f8f1dd . . f821554 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / internal / AllChecksTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / internal / AllChecksTest . java 
 @ @ - 330 , 8 + 330 , 6 @ @ public class AllChecksTest extends AbstractModuleTestSupport { 
 public void testAllModulesAreReferencedInConfigFile ( ) throws Exception { 
 final Set < String > modulesReferencedInConfig = CheckUtil . getConfigCheckStyleModules ( ) ; 
 final Set < String > moduleNames = CheckUtil . getSimpleNames ( CheckUtil . getCheckstyleModules ( ) ) ; 
 - / / Issue : https : / / github . com / checkstyle / checkstyle / issues / 4421 
 - moduleNames . remove ( " SuppressionXpathFilter " ) ; 
 
 moduleNames . stream ( ) . filter ( check - > ! modulesReferencedInConfig . contains ( check ) ) 
 . forEach ( check - > { 
 @ @ - 428 , 8 + 426 , 6 @ @ public class AllChecksTest extends AbstractModuleTestSupport { 
 / / these are documented on non - ' config _ ' pages 
 checkstyleModulesNames . remove ( " TreeWalker " ) ; 
 checkstyleModulesNames . remove ( " Checker " ) ; 
 - / / Issue : https : / / github . com / checkstyle / checkstyle / issues / 4421 
 - checkstyleModulesNames . remove ( " SuppressionXpathFilter " ) ; 
 
 checkstyleModulesNames . stream ( ) 
 . filter ( moduleName - > ! modulesNamesWhichHaveXdocs . contains ( moduleName ) ) 
 @ @ - 445 , 8 + 441 , 6 @ @ public class AllChecksTest extends AbstractModuleTestSupport { 
 public void testAllCheckstyleModulesInCheckstyleConfig ( ) throws Exception { 
 final Set < String > configChecks = CheckUtil . getConfigCheckStyleModules ( ) ; 
 final Set < String > moduleNames = CheckUtil . getSimpleNames ( CheckUtil . getCheckstyleModules ( ) ) ; 
 - / / Issue : https : / / github . com / checkstyle / checkstyle / issues / 4421 
 - moduleNames . remove ( " SuppressionXpathFilter " ) ; 
 
 for ( String moduleName : moduleNames ) { 
 Assert . assertTrue ( " checkstyle _ checks . xml is missing module : " + moduleName , 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / internal / XdocsPagesTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / internal / XdocsPagesTest . java 
 index 59d3751 . . f57c9bc 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / internal / XdocsPagesTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / internal / XdocsPagesTest . java 
 @ @ - 215 , 6 + 215 , 7 @ @ public class XdocsPagesTest { 
 / / can ' t process non - existent examples , or out of context snippets 
 if ( ! code . contains ( " com . mycompany " ) & & ! code . contains ( " checkstyle - packages " ) 
 & & ! code . contains ( " MethodLimit " ) & & ! code . contains ( " < suppress " ) 
 + & & ! code . contains ( " < suppress - xpath " ) 
 & & ! code . contains ( " < import - control " ) 
 & & ! unserializedSource . startsWith ( " < property " ) 
 & & ! unserializedSource . startsWith ( " < taskdef " ) ) { 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / internal / utils / ConfigurationUtil . java b / src / test / java / com / puppycrawl / tools / checkstyle / internal / utils / ConfigurationUtil . java 
 index 948a551 . . a88fb96 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / internal / utils / ConfigurationUtil . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / internal / utils / ConfigurationUtil . java 
 @ @ - 38 , 6 + 38 , 7 @ @ public final class ConfigurationUtil { 
 props . setProperty ( " checkstyle . basedir " , " basedir " ) ; 
 props . setProperty ( " checkstyle . cache . file " , " file " ) ; 
 props . setProperty ( " checkstyle . suppressions . file " , " file " ) ; 
 + props . setProperty ( " checkstyle . suppressions - xpath . file " , " file " ) ; 
 props . setProperty ( " checkstyle . header . file " , " file " ) ; 
 props . setProperty ( " checkstyle . regexp . header . file " , " file " ) ; 
 props . setProperty ( " checkstyle . importcontrol . file " , " file " ) ; 
 diff - - git a / src / xdocs / config _ filters . xml b / src / xdocs / config _ filters . xml 
 index a421177 . . ff73d6f 100644 
 - - - a / src / xdocs / config _ filters . xml 
 + + + b / src / xdocs / config _ filters . xml 
 @ @ - 648 , 6 + 648 , 229 @ @ public class UserService { 
 < / subsection > 
 < / section > 
 
 + < section name = " SuppressionXpathFilter " > 
 + < subsection name = " Description " > 
 + < p > Since Checkstyle 8 . 6 < / p > 
 + < p > 
 + Filter < code > SuppressionXpathFilter < / code > works as 
 + < a href = " config _ filters . html # SuppressionFilter " > SuppressionFilter < / a > . 
 + Additionally , filter processes < code > suppress - xpath < / code > elements , 
 + which contains xpath - expressions . Xpath - expressions 
 + are queries for suppressed nodes inside the AST tree . 
 + < / p > 
 + < p > 
 + Note , after resolving 
 + < a href = " https : / / github . com / checkstyle / checkstyle / issues / 4530 " > issue 4530 < / a > 
 + CLI will have option to generate the basic suppression xpath to elements . 
 + < / p > 
 + < p > 
 + Currently , filter supports the following 
 + checks : 
 + < / p > 
 + < ul > 
 + < li > CyclomaticComplexityCheck < / li > 
 + < li > DeclarationOrderCheck < / li > 
 + < li > DefaultComesLastCheck < / li > 
 + < li > ExplicitInitializationCheck < / li > 
 + < li > FallThroughCheck < / li > 
 + < li > HiddenFieldCheck < / li > 
 + < li > IllegalCatchCheck < / li > 
 + < li > IllegalThrowsCheck < / li > 
 + < li > JavadocMethodCheck < / li > 
 + < li > JavadocVariableCheck < / li > 
 + < li > ImportControlCheck < / li > 
 + < li > LeftCurlyCheck < / li > 
 + < li > MethodParamPadCheck < / li > 
 + < li > MultipleVariableDeclarationCheck < / li > 
 + < li > NestedForDepthCheck < / li > 
 + < li > NestedIfDepthCheck < / li > 
 + < li > NestedTryDepthCheck < / li > 
 + < li > NPathComplexityCheck < / li > 
 + < li > OneStatementPerLineCheck < / li > 
 + < li > OuterTypeNumberCheck < / li > 
 + < li > RequireThisCheck < / li > 
 + < li > RightCurlyCheck < / li > 
 + < / ul > 
 + < p > 
 + Note , that support for other Checks will be available after resolving 
 + < a href = " https : / / github . com / checkstyle / checkstyle / issues / 4830 " > issue 4830 < / a > . 
 + < / p > 
 + < / subsection > 
 + < subsection name = " Properties " > 
 + < table > 
 + < tr > 
 + < th > name < / th > 
 + < th > description < / th > 
 + < th > type < / th > 
 + < th > default value < / th > 
 + < th > since < / th > 
 + < / tr > 
 + < tr > 
 + < td > file < / td > 
 + < td > 
 + the location of the < em > suppressions XML document < / em > file . 
 + The order the location is checked is : 
 + < ol > 
 + < li > as a filesystem location < / li > 
 + < li > 
 + if no file found , and the location starts with either 
 + < code > http : / / < / code > or < code > https : / / < / code > , then it 
 + is interpreted as a URL 
 + < / li > 
 + < li > 
 + if no file found , then passed to the 
 + < code > ClassLoader . getResource ( ) < / code > method . 
 + < / li > 
 + < / ol > 
 + < / td > 
 + < td > < a href = " property _ types . html # string " > string < / a > < / td > 
 + < td > < code > none < / code > < / td > 
 + < td > 8 . 6 < / td > 
 + < / tr > 
 + < tr > 
 + < td > optional < / td > 
 + < td > 
 + Tells what to do when the file is not existing . If 
 + optional is set to false the file must exist , or else 
 + it ends with error . On the other hand if optional is 
 + true and file is not found , the filter accept all 
 + audit events . 
 + < / td > 
 + < td > < a href = " property _ types . html # boolean " > Boolean < / a > < / td > 
 + < td > < code > false < / code > < / td > 
 + < td > 8 . 6 < / td > 
 + < / tr > 
 + < / table > 
 + < / subsection > 
 + < subsection name = " Examples " > 
 + < p > 
 + For example , the following configuration fragment directs the 
 + Checker to use a < code > SuppressionXpathFilter < / code > 
 + with suppressions 
 + file < code > config / suppressions . xml < / code > : 
 + < / p > 
 + < source > 
 + & lt ; module name = & quot ; SuppressionXpathFilter & quot ; & gt ; 
 + & lt ; property name = & quot ; file & quot ; value = & quot ; config / suppressions . xml & quot ; / & gt ; 
 + & lt ; property name = & quot ; optional & quot ; value = & quot ; false & quot ; / & gt ; 
 + & lt ; / module & gt ; 
 + < / source > 
 + < p > 
 + A < a href = " config . html # XML _ Structure " > < em > suppressions XML 
 + document < / em > < / a > contains a set 
 + of < code > suppress < / code > and < code > suppress - xpath < / code > elements , where 
 + each < code > suppress - xpath < / code > element can have the 
 + following attributes : 
 + < / p > 
 + < ul > 
 + < li > 
 + < code > files < / code > - 
 + a < a href = " property _ types . html # regexp " > Regular Expression < / a > 
 + matched against the file name associated with an audit 
 + event . It is optional . 
 + < / li > 
 + < li > 
 + < code > checks < / code > - 
 + a < a href = " property _ types . html # regexp " > Regular Expression < / a > 
 + matched against the name of the check associated with an audit 
 + event . Optional as long as < code > id < / code > or < code > message < / code > is specified . 
 + < / li > 
 + < li > 
 + < code > message < / code > - 
 + a < a href = " property _ types . html # regexp " > Regular Expression < / a > 
 + matched against the message of the check associated with an audit 
 + event . Optional as long as < code > checks < / code > or < code > id < / code > is specified . 
 + < / li > 
 + < li > 
 + < code > id < / code > - 
 + a < a href = " property _ types . html # string " > string < / a > 
 + matched against the ID of the check associated with an audit 
 + event . Optional as long as < code > checks < / code > or < code > message < / code > is specified . 
 + < / li > 
 + < li > 
 + < code > query < / code > - 
 + a < a href = " property _ types . html # string " > string < / a > 
 + xpath query . It is optional . 
 + < / li > 
 + < / ul > 
 + < p > 
 + Each audit event is checked against 
 + each < code > suppress < / code > and < code > suppress - xpath < / code > element . It is 
 + suppressed if all specified attributes match against the audit 
 + event . 
 + < / p > 
 + < p > 
 + The following suppressions XML document directs 
 + a < code > SuppressionXpathFilter < / code > to 
 + reject < code > CyclomaticComplexity < / code > errors for 
 + all methods with name < i > sayHelloWorld < / i > inside < i > FileOne < / i > 
 + and < i > FileTwo < / i > classes : 
 + < / p > 
 + < source > 
 + & lt ; ? xml version = & quot ; 1 . 0 & quot ; ? & gt ; 
 + 
 + & lt ; ! DOCTYPE suppressions PUBLIC 
 + & quot ; - / / Puppy Crawl / / DTD Suppressions Xpath Experimental 1 . 2 / / EN & quot ; 
 + & quot ; http : / / checkstyle . sourceforge . net / dtds / suppressions _ 1 _ 2 _ xpath _ experimental . dtd & quot ; & gt ; 
 + 
 + & lt ; suppressions & gt ; 
 + & lt ; suppress - xpath checks = & quot ; CyclomaticComplexity & quot ; 
 + files = & quot ; FileOne . java , FileTwo . java & quot ; 
 + query = & quot ; / / METHOD _ DEF [ @ text = ' sayHelloWorld ' ] & quot ; / & gt ; 
 + & lt ; / suppressions & gt ; 
 + < / source > 
 + < p > 
 + Suppress checks for package definitions : 
 + < / p > 
 + < source > 
 + & lt ; suppress - xpath checks = & quot ; . * & quot ; query = & quot ; / PACKAGE _ DEF & quot ; / & gt ; 
 + < / source > 
 + < p > 
 + Suppress checks for parent element of the first variable definition : 
 + < / p > 
 + < source > 
 + & lt ; suppress - xpath checks = & quot ; . * & quot ; query = & quot ; ( / / VARIABLE _ DEF ) [ 1 ] / . . & quot ; / & gt ; 
 + < / source > 
 + < p > 
 + Suppress checks for elements which are either class definitions , 
 + either method definitions . 
 + < / p > 
 + < source > 
 + & lt ; suppress - xpath checks = & quot ; . * & quot ; query = & quot ; / / CLASS _ DEF | / / METHOD _ DEF & quot ; / & gt ; 
 + < / source > 
 + < p > 
 + Suppress checks for certain methods : 
 + < / p > 
 + < source > 
 + & lt ; suppress - xpath checks = & quot ; . * & quot ; query = & quot ; / / METHOD _ DEF [ @ text = ' getSomeVar ' 
 + or @ text = ' setSomeVar ' ] & quot ; / & gt ; 
 + < / source > 
 + < p > 
 + Suppress checks for variable < i > testVariable < / i > inside < i > testMethod < / i > method 
 + inside < i > TestClass < / i > class . 
 + < / p > 
 + < source > 
 + & lt ; suppress - xpath checks = & quot ; . * & quot ; query = & quot ; / CLASS _ DEF [ @ text = ' TestClass ' ] 
 + / / METHOD _ DEF [ @ text = ' testMethod ' ] / / VARIABLE _ DEF [ @ text = ' testVariable ' ] & quot ; / & gt ; 
 + < / source > 
 + < / subsection > 
 + < subsection name = " Example of Usage " > 
 + < ul > 
 + < li > 
 + < a href = " https : / / github . com / search ? q = path % 3Aconfig + filename % 3Acheckstyle _ checks . xml + repo % 3Acheckstyle % 2Fcheckstyle + SuppressionXpathFilter " > 
 + Checkstyle Style < / a > 
 + < / li > 
 + < / ul > 
 + < / subsection > 
 + < subsection name = " Package " > 
 + < p > com . puppycrawl . tools . checkstyle . filters < / p > 
 + < / subsection > 
 + 
 + < subsection name = " Parent Module " > 
 + < p > < a href = " config . html # TreeWalker " > TreeWalker < / a > < / p > 
 + < / subsection > 
 + < / section > 
 + 
 < section name = " SuppressWarningsFilter " > 
 < subsection name = " Description " > 
 < p > Since Checkstyle 5 . 7 < / p >

NEAREST DIFF:
diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / sizes / ParameterNumberCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / sizes / ParameterNumberCheck . java 
 index a81ac42 . . 798a11f 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / sizes / ParameterNumberCheck . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / sizes / ParameterNumberCheck . java 
 @ @ - 19 , 6 + 19 , 7 @ @ 
 
 package com . puppycrawl . tools . checkstyle . checks . sizes ; 
 
 + import com . puppycrawl . tools . checkstyle . api . AnnotationUtility ; 
 import com . puppycrawl . tools . checkstyle . api . Check ; 
 import com . puppycrawl . tools . checkstyle . api . DetailAST ; 
 import com . puppycrawl . tools . checkstyle . api . TokenTypes ; 
 @ @ - 28 , 6 + 29 , 8 @ @ import com . puppycrawl . tools . checkstyle . api . TokenTypes ; 
 * Checks the number of parameters that a method or constructor has . 
 * The default allowable number of parameters is 7 . 
 * To change the number of allowable parameters , set property max . 
 + * Allows to ignore number of parameters for methods with 
 + * & # 064 ; { @ link java . lang . Override } annotation . 
 * < / p > 
 * < p > 
 * An example of how to configure the check is : 
 @ @ - 36 , 26 + 39 , 48 @ @ import com . puppycrawl . tools . checkstyle . api . TokenTypes ; 
 * & lt ; module name = " ParameterNumber " / & gt ; 
 * < / pre > 
 * < p > 
 - * An example of how to configure the check to allow 10 parameters is : 
 + * An example of how to configure the check to allow 10 parameters 
 + * and ignoring parameters for methods with & # 064 ; { @ link java . lang . Override } 
 + * annotation is : 
 * < / p > 
 * < pre > 
 * & lt ; module name = " ParameterNumber " & gt ; 
 * & lt ; property name = " max " value = " 10 " / & gt ; 
 + * & lt ; property name = " ignoreOverriddenMethods " value = " true " / & gt ; 
 * & lt ; / module & gt ; 
 * < / pre > 
 - 
 + * Java code that will be ignored : 
 + * < pre > 
 + * < code > 
 + * 
 + * & # 064 ; Override 
 + * public void needsLotsOfParameters ( int a , 
 + * int b , int c , int d , int e , int f , int g , int h ) { 
 + * . . . 
 + * } 
 + * < / code > 
 + * < / pre > 
 * @ author Oliver Burn 
 * @ version 1 . 0 
 * / 
 public class ParameterNumberCheck 
 extends Check 
 { 
 + / * * { @ link Override Override } annotation name * / 
 + private static final String OVERRIDE = " Override " ; 
 + 
 + / * * fully - qualified { @ link Override Override } annotation name * / 
 + private static final String FQ _ OVERRIDE = " java . lang . " + OVERRIDE ; 
 + 
 / * * default maximum number of allowed parameters * / 
 private static final int DEFAULT _ MAX _ PARAMETERS = 7 ; 
 
 / * * the maximum number of allowed parameters * / 
 private int mMax = DEFAULT _ MAX _ PARAMETERS ; 
 
 + / * * ignore overridden methods * / 
 + private boolean mIgnoreOverriddenMethods ; 
 + 
 / * * 
 * Sets the maximum number of allowed parameters . 
 * @ param aMax the max allowed parameters 
 @ @ - 65 , 6 + 90 , 16 @ @ public class ParameterNumberCheck 
 mMax = aMax ; 
 } 
 
 + / * * 
 + * Ignore number of parameters for methods with 
 + * & # 064 ; { @ link java . lang . Override } annotation . 
 + * @ param aIgnoreOverriddenMethods set ignore overridden methods 
 + * / 
 + public void setIgnoreOverriddenMethods ( boolean aIgnoreOverriddenMethods ) 
 + { 
 + mIgnoreOverriddenMethods = aIgnoreOverriddenMethods ; 
 + } 
 + 
 @ Override 
 public int [ ] getDefaultTokens ( ) 
 { 
 @ @ - 76 , 9 + 111 , 23 @ @ public class ParameterNumberCheck 
 { 
 final DetailAST params = aAST . findFirstToken ( TokenTypes . PARAMETERS ) ; 
 final int count = params . getChildCount ( TokenTypes . PARAMETER _ DEF ) ; 
 - if ( count > mMax ) { 
 + if ( count > mMax & & ! ignoreNumberOfParameters ( aAST ) ) { 
 final DetailAST name = aAST . findFirstToken ( TokenTypes . IDENT ) ; 
 log ( name . getLineNo ( ) , name . getColumnNo ( ) , " maxParam " , mMax , count ) ; 
 } 
 } 
 + 
 + / * * Determine whether to ignore number of parameters for the method . 
 + * 
 + * @ param aAST the token to process 
 + * @ return true if this is overridden method and number of parameters should be ignored 
 + * false otherwise 
 + * / 
 + private boolean ignoreNumberOfParameters ( DetailAST aAST ) 
 + { 
 + / / if you override a method , you have no power over the number of parameters 
 + return mIgnoreOverriddenMethods 
 + & & ( AnnotationUtility . containsAnnotation ( aAST , OVERRIDE ) 
 + | | AnnotationUtility . containsAnnotation ( aAST , FQ _ OVERRIDE ) ) ; 
 + } 
 } 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / checks / sizes / ParameterNumberCheckTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / checks / sizes / ParameterNumberCheckTest . java 
 index 7d293f2 . . 674b2b5 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / checks / sizes / ParameterNumberCheckTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / checks / sizes / ParameterNumberCheckTest . java 
 @ @ - 63 , 4 + 63 , 17 @ @ public class ParameterNumberCheckTest 
 } ; 
 verify ( checkConfig , getPath ( " InputSimple . java " ) , expected ) ; 
 } 
 + 
 + @ Test 
 + public void shouldIgnoreMethodsWithOverrideAnnotation ( ) 
 + throws Exception 
 + { 
 + final DefaultConfiguration checkConfig = 
 + createCheckConfig ( ParameterNumberCheck . class ) ; 
 + checkConfig . addAttribute ( " ignoreOverriddenMethods " , " true " ) ; 
 + final String [ ] expected = { 
 + " 6 : 10 : More than 7 parameters ( found 8 ) . " , 
 + } ; 
 + verify ( checkConfig , getPath ( " InputParameterNumberCheck . java " ) , expected ) ; 
 + } 
 } 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / InputParameterNumberCheck . java b / src / test / resources / com / puppycrawl / tools / checkstyle / InputParameterNumberCheck . java 
 new file mode 100644 
 index 0000000 . . e90969d 
 - - - / dev / null 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / InputParameterNumberCheck . java 
 @ @ - 0 , 0 + 1 , 17 @ @ 
 + package com . puppycrawl . tools . checkstyle ; 
 + 
 + class InputParameterNumberCheckBase 
 + { 
 + / / method with many parameters 
 + void myMethod ( int a , int b , int c , int d , int e , int f , int g , int h ) { 
 + 
 + } 
 + } 
 + 
 + public class InputParameterNumberCheck extends InputParameterNumberCheckBase 
 + { 
 + @ Override 
 + void myMethod ( int a , int b , int c , int d , int e , int f , int g , int h ) { 
 + 
 + } 
 + } 
 diff - - git a / src / xdocs / config _ sizes . xml b / src / xdocs / config _ sizes . xml 
 index 5ece323 . . d75c39e 100644 
 - - - a / src / xdocs / config _ sizes . xml 
 + + + b / src / xdocs / config _ sizes . xml 
 @ @ - 411 , 6 + 411 , 12 @ @ 
 < td > 7 < / td > 
 < / tr > 
 < tr > 
 + < td > ignoreOverriddenMethods < / td > 
 + < td > Ignore number of parameters for methods with @ Override annotation < / td > 
 + < td > < a href = " property _ types . html # boolean " > boolean < / a > < / td > 
 + < td > false < / td > 
 + < / tr > 
 + < tr > 
 < td > tokens < / td > 
 < td > declarations to check < / td > 
 
 @ @ - 448 , 6 + 454 , 28 @ @ 
 & lt ; property name = " tokens " value = " METHOD _ DEF " / & gt ; 
 & lt ; / module & gt ; 
 < / source > 
 + < p > 
 + To configure the check to ignore number of parameters for methods with @ Override or @ java . lang . Override annotation . 
 + < / p > 
 + < p > 
 + Rationale : developer may need to override method with many parameters from 3 - rd party library . 
 + In this case developer has no control over number of parameters . 
 + < / p > 
 + < source > 
 + & lt ; module name = " ParameterNumber " & gt ; 
 + & lt ; property name = " ignoreOverriddenMethods " value = " true " / & gt ; 
 + & lt ; property name = " tokens " value = " METHOD _ DEF " / & gt ; 
 + & lt ; / module & gt ; 
 + < / source > 
 + < p > 
 + Java code example 
 + < / p > 
 + < source > 
 + @ Override 
 + public void needsLotsOfParameters ( int a , int b , int c , int d , int e , int f , int g , int h ) { 
 + . . . 
 + } 
 + < / source > 
 < / subsection > 
 
 < subsection name = " Package " >
