BLEU SCORE: 0.2777619034011791

TEST MSG: Issue # 2327 : Fix NPE in ModifiedControlVariable on SuppressWarnings
GENERATED MSG: Fix NPE in ModifiedControlVariable check , issue # 1012

TEST DIFF (one line): diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / ModifiedControlVariableCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / ModifiedControlVariableCheck . java <nl> index 6363776 . . a899a20 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / ModifiedControlVariableCheck . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / ModifiedControlVariableCheck . java <nl> @ @ - 276 , 7 + 276 , 7 @ @ public final class ModifiedControlVariableCheck extends Check { <nl> if ( ! getCurrentVariables ( ) . isEmpty ( ) ) { <nl> final DetailAST identAST = ast . getFirstChild ( ) ; <nl> <nl> - if ( identAST . getType ( ) = = TokenTypes . IDENT <nl> + if ( identAST ! = null & & identAST . getType ( ) = = TokenTypes . IDENT <nl> & & getCurrentVariables ( ) . contains ( identAST . getText ( ) ) ) { <nl> log ( ast . getLineNo ( ) , ast . getColumnNo ( ) , <nl> MSG _ KEY , identAST . getText ( ) ) ; <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / coding / InputModifiedControl . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / coding / InputModifiedControl . java <nl> index 6e2c7ae . . 51731b4 100644 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / coding / InputModifiedControl . java <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / coding / InputModifiedControl . java <nl> @ @ - 76 , 4 + 76 , 10 @ @ class InputModifiedControl <nl> <nl> @ SuppressWarnings ( value = " this previously caused NullPointerException " ) <nl> class VariableDeclaredBeforeTheFirstBlockBegins { <nl> + void foo ( String [ ] requests ) { <nl> + for ( String eventDataType : requests ) { <nl> + @ SuppressWarnings ( value = " this previously caused NullPointerException " ) <nl> + String eventData ; <nl> + } <nl> + } <nl> }
NEAREST DIFF (one line): diff - - git a / config / pmd . xml b / config / pmd . xml <nl> index fb4b42c . . 4b15ade 100644 <nl> - - - a / config / pmd . xml <nl> + + + b / config / pmd . xml <nl> @ @ - 73 , 7 + 73 , 6 @ @ <nl> < exclude name = " DataflowAnomalyAnalysis " / > <nl> < ! - - turning local varibles to fields create design problems and extend scope of variable - - > <nl> < exclude name = " AvoidFinalLocalVariable " / > <nl> - < exclude name = " OneDeclarationPerLine " / > <nl> < exclude name = " AvoidPrefixingMethodParameters " / > <nl> < exclude name = " AvoidLiteralsInIfCondition " / > <nl> < ! - - Checkstyle is not thread safe - - > <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / SuppressWarningsHolder . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / SuppressWarningsHolder . java <nl> index 9801317 . . 15542ca 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / SuppressWarningsHolder . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / SuppressWarningsHolder . java <nl> @ @ - 289 , 7 + 289 , 8 @ @ public class SuppressWarningsHolder <nl> final int firstLine = targetAST . getLineNo ( ) ; <nl> final int firstColumn = targetAST . getColumnNo ( ) ; <nl> final DetailAST nextAST = targetAST . getNextSibling ( ) ; <nl> - final int lastLine , lastColumn ; <nl> + final int lastLine ; <nl> + final int lastColumn ; <nl> if ( nextAST ! = null ) { <nl> lastLine = nextAST . getLineNo ( ) ; <nl> lastColumn = nextAST . getColumnNo ( ) - 1 ;

TEST DIFF:
diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / ModifiedControlVariableCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / ModifiedControlVariableCheck . java 
 index 6363776 . . a899a20 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / ModifiedControlVariableCheck . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / ModifiedControlVariableCheck . java 
 @ @ - 276 , 7 + 276 , 7 @ @ public final class ModifiedControlVariableCheck extends Check { 
 if ( ! getCurrentVariables ( ) . isEmpty ( ) ) { 
 final DetailAST identAST = ast . getFirstChild ( ) ; 
 
 - if ( identAST . getType ( ) = = TokenTypes . IDENT 
 + if ( identAST ! = null & & identAST . getType ( ) = = TokenTypes . IDENT 
 & & getCurrentVariables ( ) . contains ( identAST . getText ( ) ) ) { 
 log ( ast . getLineNo ( ) , ast . getColumnNo ( ) , 
 MSG _ KEY , identAST . getText ( ) ) ; 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / coding / InputModifiedControl . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / coding / InputModifiedControl . java 
 index 6e2c7ae . . 51731b4 100644 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / coding / InputModifiedControl . java 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / coding / InputModifiedControl . java 
 @ @ - 76 , 4 + 76 , 10 @ @ class InputModifiedControl 
 
 @ SuppressWarnings ( value = " this previously caused NullPointerException " ) 
 class VariableDeclaredBeforeTheFirstBlockBegins { 
 + void foo ( String [ ] requests ) { 
 + for ( String eventDataType : requests ) { 
 + @ SuppressWarnings ( value = " this previously caused NullPointerException " ) 
 + String eventData ; 
 + } 
 + } 
 }

NEAREST DIFF:
diff - - git a / config / pmd . xml b / config / pmd . xml 
 index fb4b42c . . 4b15ade 100644 
 - - - a / config / pmd . xml 
 + + + b / config / pmd . xml 
 @ @ - 73 , 7 + 73 , 6 @ @ 
 < exclude name = " DataflowAnomalyAnalysis " / > 
 < ! - - turning local varibles to fields create design problems and extend scope of variable - - > 
 < exclude name = " AvoidFinalLocalVariable " / > 
 - < exclude name = " OneDeclarationPerLine " / > 
 < exclude name = " AvoidPrefixingMethodParameters " / > 
 < exclude name = " AvoidLiteralsInIfCondition " / > 
 < ! - - Checkstyle is not thread safe - - > 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / SuppressWarningsHolder . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / SuppressWarningsHolder . java 
 index 9801317 . . 15542ca 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / SuppressWarningsHolder . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / SuppressWarningsHolder . java 
 @ @ - 289 , 7 + 289 , 8 @ @ public class SuppressWarningsHolder 
 final int firstLine = targetAST . getLineNo ( ) ; 
 final int firstColumn = targetAST . getColumnNo ( ) ; 
 final DetailAST nextAST = targetAST . getNextSibling ( ) ; 
 - final int lastLine , lastColumn ; 
 + final int lastLine ; 
 + final int lastColumn ; 
 if ( nextAST ! = null ) { 
 lastLine = nextAST . getLineNo ( ) ; 
 lastColumn = nextAST . getColumnNo ( ) - 1 ;
