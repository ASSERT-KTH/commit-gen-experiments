BLEU SCORE: 0.03377156414337854

TEST MSG: Issue # 3025 : try structure is not parsable when only name is used
GENERATED MSG: Fix parsing error which was triggered when a comment line is on a

TEST DIFF (one line): diff - - git a / circle . yml b / circle . yml <nl> index 2e82786 . . 5623308 100644 <nl> - - - a / circle . yml <nl> + + + b / circle . yml <nl> @ @ - 19 , 7 + 19 , 9 @ @ machine : <nl> CMD2 : " & & sed - i . ' ' ' s / ^ openjdk / # openjdk / ' projects - for - circle . properties " <nl> CMD3 : " & & sed - i . ' ' s / projects - to - test - on . properties / projects - for - circle . properties / launch . sh " <nl> CMD4 : " & & . / launch . sh - Dcheckstyle . config . location = checks - nonjavadoc - error . xml " <nl> - OPENJDK : " & & sed - i . ' ' ' s / # openjdk7 / openjdk7 / ' projects - for - circle . properties " <nl> + OPENJDK7 : " & & sed - i . ' ' ' s / # openjdk7 / openjdk7 / ' projects - for - circle . properties " <nl> + OPENJDK8 : " & & sed - i . ' ' ' s / # openjdk8 / openjdk8 / ' projects - for - circle . properties " <nl> + OPENJDK9 : " & & sed - i . ' ' ' s / # openjdk9 / openjdk9 / ' projects - for - circle . properties " <nl> INFINISPAN : " & & sed - i . ' ' ' s / # infinispan / infinispan / ' projects - for - circle . properties " <nl> PROTONPACK : " & & sed - i . ' ' ' s / # protonpack / protonpack / ' projects - for - circle . properties " <nl> JOOL : " & & sed - i . ' ' ' s / # jOOL / jOOL / ' projects - for - circle . properties " <nl> @ @ - 31 , 8 + 33 , 8 @ @ machine : <nl> CASSANDRA : " & & sed - i . ' ' ' s / # cassandra / cassandra / ' projects - for - circle . properties " <nl> SCOUTER : " & & sed - i . ' ' ' s / # scouter / scouter / ' projects - for - circle . properties " <nl> GROOVY : " & & sed - i . ' ' ' s / # groovy / groovy / ' projects - for - circle . properties " <nl> - # Test over openjdk7 <nl> - TEST _ 1 : $ CMD1 $ CMD2 $ OPENJDK $ CMD3 $ CMD4 <nl> + # Test over openjdk7 , 8 , 9 <nl> + TEST _ 1 : $ CMD1 $ CMD2 $ OPENJDK7 $ OPENJDK8 $ OPENJDK9 $ CMD3 $ CMD4 <nl> # Test over infinispan , protonpack , jOOL , lucene - solr <nl> TEST _ 2 : $ CMD1 $ CMD2 $ INFINISPAN $ PROTONPACK $ JOOL $ LUCENE $ CMD3 $ CMD4 <nl> # Test over tapestry5 , storm , cassandra <nl> diff - - git a / src / main / resources / com / puppycrawl / tools / checkstyle / grammars / java . g b / src / main / resources / com / puppycrawl / tools / checkstyle / grammars / java . g <nl> index 8e6e9f0 . . b1ab3d9 100644 <nl> - - - a / src / main / resources / com / puppycrawl / tools / checkstyle / grammars / java . g <nl> + + + b / src / main / resources / com / puppycrawl / tools / checkstyle / grammars / java . g <nl> @ @ - 1208 , 7 + 1208 , 8 @ @ resources <nl> <nl> <nl> resource <nl> - : modifiers typeSpec [ true ] IDENT resource _ assign <nl> + : IDENT <nl> + | modifiers typeSpec [ true ] IDENT resource _ assign <nl> { # resource = # ( [ RESOURCE , " RESOURCE " ] , # resource ) ; } <nl> ; <nl> <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / grammars / Java9TryWithResourcesTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / grammars / Java9TryWithResourcesTest . java <nl> new file mode 100644 <nl> index 0000000 . . 178cbd7 <nl> - - - / dev / null <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / grammars / Java9TryWithResourcesTest . java <nl> @ @ - 0 , 0 + 1 , 51 @ @ <nl> + / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / <nl> + / / checkstyle : Checks Java source code for adherence to a set of rules . <nl> + / / Copyright ( C ) 2001 - 2016 the original author or authors . <nl> + / / <nl> + / / This library is free software ; you can redistribute it and / or <nl> + / / modify it under the terms of the GNU Lesser General Public <nl> + / / License as published by the Free Software Foundation ; either <nl> + / / version 2 . 1 of the License , or ( at your option ) any later version . <nl> + / / <nl> + / / This library is distributed in the hope that it will be useful , <nl> + / / but WITHOUT ANY WARRANTY ; without even the implied warranty of <nl> + / / MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE . See the GNU <nl> + / / Lesser General Public License for more details . <nl> + / / <nl> + / / You should have received a copy of the GNU Lesser General Public <nl> + / / License along with this library ; if not , write to the Free Software <nl> + / / Foundation , Inc . , 59 Temple Place , Suite 330 , Boston , MA 02111 - 1307 USA <nl> + / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / <nl> + <nl> + package com . puppycrawl . tools . checkstyle . grammars ; <nl> + <nl> + import java . io . File ; <nl> + import java . io . IOException ; <nl> + <nl> + import org . apache . commons . lang3 . ArrayUtils ; <nl> + import org . junit . Test ; <nl> + <nl> + import com . puppycrawl . tools . checkstyle . BaseCheckTestSupport ; <nl> + import com . puppycrawl . tools . checkstyle . DefaultConfiguration ; <nl> + import com . puppycrawl . tools . checkstyle . checks . naming . MemberNameCheck ; <nl> + <nl> + / * * <nl> + * Tests Java 9 try - with - resources can be parsed . <nl> + * @ author checkstyle team <nl> + * / <nl> + public class Java9TryWithResourcesTest extends BaseCheckTestSupport { <nl> + <nl> + @ Override <nl> + protected String getNonCompilablePath ( String filename ) throws IOException { <nl> + return super . getNonCompilablePath ( " grammars " + File . separator <nl> + + " java9 " + File . separator + filename ) ; <nl> + } <nl> + <nl> + @ Test <nl> + public void testCanParse ( ) throws Exception { <nl> + final DefaultConfiguration checkConfig = <nl> + createCheckConfig ( MemberNameCheck . class ) ; <nl> + final String [ ] expected = ArrayUtils . EMPTY _ STRING _ ARRAY ; <nl> + verify ( checkConfig , getNonCompilablePath ( " InputJava9TryWithResources . java " ) , expected ) ; <nl> + } <nl> + } <nl> diff - - git a / src / test / resources - noncompilable / com / puppycrawl / tools / checkstyle / grammars / java9 / InputJava9TryWithResources . java b / src / test / resources - noncompilable / com / puppycrawl / tools / checkstyle / grammars / java9 / InputJava9TryWithResources . java <nl> new file mode 100644 <nl> index 0000000 . . 351a530 <nl> - - - / dev / null <nl> + + + b / src / test / resources - noncompilable / com / puppycrawl / tools / checkstyle / grammars / java9 / InputJava9TryWithResources . java <nl> @ @ - 0 , 0 + 1 , 22 @ @ <nl> + / / Compilable with Java9 <nl> + package com . puppycrawl . tools . checkstyle . grammars ; <nl> + <nl> + / * * <nl> + * Input for Java 9 try - with - resources . <nl> + * / <nl> + public class InputJava9TryWithResources <nl> + { <nl> + public static class MyResource implements AutoCloseable { <nl> + @ Override <nl> + public void close ( ) throws Exception { } <nl> + } <nl> + <nl> + public static void main ( String [ ] args ) throws Exception { <nl> + MyResource resource = new MyResource ( ) ; <nl> + try ( resource ) { } finally { } <nl> + <nl> + final MyResource resource1 = new MyResource ( ) ; <nl> + final MyResource resource2 = new MyResource ( ) ; <nl> + try ( resource1 ; resource2 ) { } finally { } <nl> + } <nl> + }
NEAREST DIFF (one line): diff - - git a / checkstyle _ checks . xml b / checkstyle _ checks . xml <nl> index 2838a2e . . 9602d1e 100755 <nl> - - - a / checkstyle _ checks . xml <nl> + + + b / checkstyle _ checks . xml <nl> @ @ - 181 , 5 + 181 , 6 @ @ <nl> < module name = " PackageAnnotation " / > <nl> < module name = " SuppressWarnings " / > <nl> < module name = " OuterTypeFilename " / > <nl> + < module name = " HideUtilityClassConstructor " / > <nl> < / module > <nl> < / module > <nl> diff - - git a / src / checkstyle / com / puppycrawl / tools / checkstyle / Main . java b / src / checkstyle / com / puppycrawl / tools / checkstyle / Main . java <nl> index d64c2f8 . . 4e2d6ba 100755 <nl> - - - a / src / checkstyle / com / puppycrawl / tools / checkstyle / Main . java <nl> + + + b / src / checkstyle / com / puppycrawl / tools / checkstyle / Main . java <nl> @ @ - 58 , 6 + 58 , 11 @ @ public final class Main <nl> " Sets the output format . ( plain | xml ) . Defaults to plain " ) ; <nl> } <nl> <nl> + / * * Stop instances being created . * / <nl> + private Main ( ) <nl> + { <nl> + } <nl> + <nl> / * * <nl> * Loops over the files specified checking them for errors . The exit code <nl> * is the number of errors found in all the files . <nl> diff - - git a / src / checkstyle / com / puppycrawl / tools / checkstyle / doclets / CheckDocsDoclet . java b / src / checkstyle / com / puppycrawl / tools / checkstyle / doclets / CheckDocsDoclet . java <nl> index 9594b33 . . af18a8c 100755 <nl> - - - a / src / checkstyle / com / puppycrawl / tools / checkstyle / doclets / CheckDocsDoclet . java <nl> + + + b / src / checkstyle / com / puppycrawl / tools / checkstyle / doclets / CheckDocsDoclet . java <nl> @ @ - 41 , 6 + 41 , 11 @ @ public final class CheckDocsDoclet <nl> / * * javadoc command line option for dest dir . * / <nl> private static final String DEST _ DIR _ OPT = " - d " ; <nl> <nl> + / * * Stop instances being created . * / <nl> + private CheckDocsDoclet ( ) <nl> + { <nl> + } <nl> + <nl> / * * <nl> * Comparator that compares the { @ link ClassDoc ClassDocs } of two checks <nl> * by their check name . <nl> diff - - git a / src / checkstyle / com / puppycrawl / tools / checkstyle / doclets / TokenTypesDoclet . java b / src / checkstyle / com / puppycrawl / tools / checkstyle / doclets / TokenTypesDoclet . java <nl> index f083d13 . . 1ccd1e9 100755 <nl> - - - a / src / checkstyle / com / puppycrawl / tools / checkstyle / doclets / TokenTypesDoclet . java <nl> + + + b / src / checkstyle / com / puppycrawl / tools / checkstyle / doclets / TokenTypesDoclet . java <nl> @ @ - 33 , 11 + 33 , 16 @ @ import com . sun . javadoc . RootDoc ; <nl> * <nl> * @ author o _ sukhodolsky <nl> * / <nl> - public class TokenTypesDoclet <nl> + public final class TokenTypesDoclet <nl> { <nl> / * * Command line option to specify file to write output of the doclet . * / <nl> private static final String DEST _ FILE _ OPT = " - destfile " ; <nl> <nl> + / * * Stop instances being created . * / <nl> + private TokenTypesDoclet ( ) <nl> + { <nl> + } <nl> + <nl> / * * <nl> * The doclet ' s starter method . <nl> * @ param aRoot < code > RootDoc < / code > given to the doclet

TEST DIFF:
diff - - git a / circle . yml b / circle . yml 
 index 2e82786 . . 5623308 100644 
 - - - a / circle . yml 
 + + + b / circle . yml 
 @ @ - 19 , 7 + 19 , 9 @ @ machine : 
 CMD2 : " & & sed - i . ' ' ' s / ^ openjdk / # openjdk / ' projects - for - circle . properties " 
 CMD3 : " & & sed - i . ' ' s / projects - to - test - on . properties / projects - for - circle . properties / launch . sh " 
 CMD4 : " & & . / launch . sh - Dcheckstyle . config . location = checks - nonjavadoc - error . xml " 
 - OPENJDK : " & & sed - i . ' ' ' s / # openjdk7 / openjdk7 / ' projects - for - circle . properties " 
 + OPENJDK7 : " & & sed - i . ' ' ' s / # openjdk7 / openjdk7 / ' projects - for - circle . properties " 
 + OPENJDK8 : " & & sed - i . ' ' ' s / # openjdk8 / openjdk8 / ' projects - for - circle . properties " 
 + OPENJDK9 : " & & sed - i . ' ' ' s / # openjdk9 / openjdk9 / ' projects - for - circle . properties " 
 INFINISPAN : " & & sed - i . ' ' ' s / # infinispan / infinispan / ' projects - for - circle . properties " 
 PROTONPACK : " & & sed - i . ' ' ' s / # protonpack / protonpack / ' projects - for - circle . properties " 
 JOOL : " & & sed - i . ' ' ' s / # jOOL / jOOL / ' projects - for - circle . properties " 
 @ @ - 31 , 8 + 33 , 8 @ @ machine : 
 CASSANDRA : " & & sed - i . ' ' ' s / # cassandra / cassandra / ' projects - for - circle . properties " 
 SCOUTER : " & & sed - i . ' ' ' s / # scouter / scouter / ' projects - for - circle . properties " 
 GROOVY : " & & sed - i . ' ' ' s / # groovy / groovy / ' projects - for - circle . properties " 
 - # Test over openjdk7 
 - TEST _ 1 : $ CMD1 $ CMD2 $ OPENJDK $ CMD3 $ CMD4 
 + # Test over openjdk7 , 8 , 9 
 + TEST _ 1 : $ CMD1 $ CMD2 $ OPENJDK7 $ OPENJDK8 $ OPENJDK9 $ CMD3 $ CMD4 
 # Test over infinispan , protonpack , jOOL , lucene - solr 
 TEST _ 2 : $ CMD1 $ CMD2 $ INFINISPAN $ PROTONPACK $ JOOL $ LUCENE $ CMD3 $ CMD4 
 # Test over tapestry5 , storm , cassandra 
 diff - - git a / src / main / resources / com / puppycrawl / tools / checkstyle / grammars / java . g b / src / main / resources / com / puppycrawl / tools / checkstyle / grammars / java . g 
 index 8e6e9f0 . . b1ab3d9 100644 
 - - - a / src / main / resources / com / puppycrawl / tools / checkstyle / grammars / java . g 
 + + + b / src / main / resources / com / puppycrawl / tools / checkstyle / grammars / java . g 
 @ @ - 1208 , 7 + 1208 , 8 @ @ resources 
 
 
 resource 
 - : modifiers typeSpec [ true ] IDENT resource _ assign 
 + : IDENT 
 + | modifiers typeSpec [ true ] IDENT resource _ assign 
 { # resource = # ( [ RESOURCE , " RESOURCE " ] , # resource ) ; } 
 ; 
 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / grammars / Java9TryWithResourcesTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / grammars / Java9TryWithResourcesTest . java 
 new file mode 100644 
 index 0000000 . . 178cbd7 
 - - - / dev / null 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / grammars / Java9TryWithResourcesTest . java 
 @ @ - 0 , 0 + 1 , 51 @ @ 
 + / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / 
 + / / checkstyle : Checks Java source code for adherence to a set of rules . 
 + / / Copyright ( C ) 2001 - 2016 the original author or authors . 
 + / / 
 + / / This library is free software ; you can redistribute it and / or 
 + / / modify it under the terms of the GNU Lesser General Public 
 + / / License as published by the Free Software Foundation ; either 
 + / / version 2 . 1 of the License , or ( at your option ) any later version . 
 + / / 
 + / / This library is distributed in the hope that it will be useful , 
 + / / but WITHOUT ANY WARRANTY ; without even the implied warranty of 
 + / / MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE . See the GNU 
 + / / Lesser General Public License for more details . 
 + / / 
 + / / You should have received a copy of the GNU Lesser General Public 
 + / / License along with this library ; if not , write to the Free Software 
 + / / Foundation , Inc . , 59 Temple Place , Suite 330 , Boston , MA 02111 - 1307 USA 
 + / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / 
 + 
 + package com . puppycrawl . tools . checkstyle . grammars ; 
 + 
 + import java . io . File ; 
 + import java . io . IOException ; 
 + 
 + import org . apache . commons . lang3 . ArrayUtils ; 
 + import org . junit . Test ; 
 + 
 + import com . puppycrawl . tools . checkstyle . BaseCheckTestSupport ; 
 + import com . puppycrawl . tools . checkstyle . DefaultConfiguration ; 
 + import com . puppycrawl . tools . checkstyle . checks . naming . MemberNameCheck ; 
 + 
 + / * * 
 + * Tests Java 9 try - with - resources can be parsed . 
 + * @ author checkstyle team 
 + * / 
 + public class Java9TryWithResourcesTest extends BaseCheckTestSupport { 
 + 
 + @ Override 
 + protected String getNonCompilablePath ( String filename ) throws IOException { 
 + return super . getNonCompilablePath ( " grammars " + File . separator 
 + + " java9 " + File . separator + filename ) ; 
 + } 
 + 
 + @ Test 
 + public void testCanParse ( ) throws Exception { 
 + final DefaultConfiguration checkConfig = 
 + createCheckConfig ( MemberNameCheck . class ) ; 
 + final String [ ] expected = ArrayUtils . EMPTY _ STRING _ ARRAY ; 
 + verify ( checkConfig , getNonCompilablePath ( " InputJava9TryWithResources . java " ) , expected ) ; 
 + } 
 + } 
 diff - - git a / src / test / resources - noncompilable / com / puppycrawl / tools / checkstyle / grammars / java9 / InputJava9TryWithResources . java b / src / test / resources - noncompilable / com / puppycrawl / tools / checkstyle / grammars / java9 / InputJava9TryWithResources . java 
 new file mode 100644 
 index 0000000 . . 351a530 
 - - - / dev / null 
 + + + b / src / test / resources - noncompilable / com / puppycrawl / tools / checkstyle / grammars / java9 / InputJava9TryWithResources . java 
 @ @ - 0 , 0 + 1 , 22 @ @ 
 + / / Compilable with Java9 
 + package com . puppycrawl . tools . checkstyle . grammars ; 
 + 
 + / * * 
 + * Input for Java 9 try - with - resources . 
 + * / 
 + public class InputJava9TryWithResources 
 + { 
 + public static class MyResource implements AutoCloseable { 
 + @ Override 
 + public void close ( ) throws Exception { } 
 + } 
 + 
 + public static void main ( String [ ] args ) throws Exception { 
 + MyResource resource = new MyResource ( ) ; 
 + try ( resource ) { } finally { } 
 + 
 + final MyResource resource1 = new MyResource ( ) ; 
 + final MyResource resource2 = new MyResource ( ) ; 
 + try ( resource1 ; resource2 ) { } finally { } 
 + } 
 + }

NEAREST DIFF:
diff - - git a / checkstyle _ checks . xml b / checkstyle _ checks . xml 
 index 2838a2e . . 9602d1e 100755 
 - - - a / checkstyle _ checks . xml 
 + + + b / checkstyle _ checks . xml 
 @ @ - 181 , 5 + 181 , 6 @ @ 
 < module name = " PackageAnnotation " / > 
 < module name = " SuppressWarnings " / > 
 < module name = " OuterTypeFilename " / > 
 + < module name = " HideUtilityClassConstructor " / > 
 < / module > 
 < / module > 
 diff - - git a / src / checkstyle / com / puppycrawl / tools / checkstyle / Main . java b / src / checkstyle / com / puppycrawl / tools / checkstyle / Main . java 
 index d64c2f8 . . 4e2d6ba 100755 
 - - - a / src / checkstyle / com / puppycrawl / tools / checkstyle / Main . java 
 + + + b / src / checkstyle / com / puppycrawl / tools / checkstyle / Main . java 
 @ @ - 58 , 6 + 58 , 11 @ @ public final class Main 
 " Sets the output format . ( plain | xml ) . Defaults to plain " ) ; 
 } 
 
 + / * * Stop instances being created . * / 
 + private Main ( ) 
 + { 
 + } 
 + 
 / * * 
 * Loops over the files specified checking them for errors . The exit code 
 * is the number of errors found in all the files . 
 diff - - git a / src / checkstyle / com / puppycrawl / tools / checkstyle / doclets / CheckDocsDoclet . java b / src / checkstyle / com / puppycrawl / tools / checkstyle / doclets / CheckDocsDoclet . java 
 index 9594b33 . . af18a8c 100755 
 - - - a / src / checkstyle / com / puppycrawl / tools / checkstyle / doclets / CheckDocsDoclet . java 
 + + + b / src / checkstyle / com / puppycrawl / tools / checkstyle / doclets / CheckDocsDoclet . java 
 @ @ - 41 , 6 + 41 , 11 @ @ public final class CheckDocsDoclet 
 / * * javadoc command line option for dest dir . * / 
 private static final String DEST _ DIR _ OPT = " - d " ; 
 
 + / * * Stop instances being created . * / 
 + private CheckDocsDoclet ( ) 
 + { 
 + } 
 + 
 / * * 
 * Comparator that compares the { @ link ClassDoc ClassDocs } of two checks 
 * by their check name . 
 diff - - git a / src / checkstyle / com / puppycrawl / tools / checkstyle / doclets / TokenTypesDoclet . java b / src / checkstyle / com / puppycrawl / tools / checkstyle / doclets / TokenTypesDoclet . java 
 index f083d13 . . 1ccd1e9 100755 
 - - - a / src / checkstyle / com / puppycrawl / tools / checkstyle / doclets / TokenTypesDoclet . java 
 + + + b / src / checkstyle / com / puppycrawl / tools / checkstyle / doclets / TokenTypesDoclet . java 
 @ @ - 33 , 11 + 33 , 16 @ @ import com . sun . javadoc . RootDoc ; 
 * 
 * @ author o _ sukhodolsky 
 * / 
 - public class TokenTypesDoclet 
 + public final class TokenTypesDoclet 
 { 
 / * * Command line option to specify file to write output of the doclet . * / 
 private static final String DEST _ FILE _ OPT = " - destfile " ; 
 
 + / * * Stop instances being created . * / 
 + private TokenTypesDoclet ( ) 
 + { 
 + } 
 + 
 / * * 
 * The doclet ' s starter method . 
 * @ param aRoot < code > RootDoc < / code > given to the doclet
