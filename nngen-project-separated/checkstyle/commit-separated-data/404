BLEU SCORE: 0.827793296033012

TEST MSG: Revert " config : update spotbugs to new groupId and bump it to 3 . 1 . 1 "
GENERATED MSG: config : update spotbugs to new groupId and bump it to 3 . 1 . 1

TEST DIFF (one line): diff - - git a / pom . xml b / pom . xml <nl> index bbd6082 . . 6eb02ee 100644 <nl> - - - a / pom . xml <nl> + + + b / pom . xml <nl> @ @ - 210 , 7 + 210 , 7 @ @ <nl> < antlr4 . version > 4 . 7 . 1 < / antlr4 . version > <nl> < maven . site . plugin . version > 3 . 7 < / maven . site . plugin . version > <nl> < maven . findbugs . plugin . version > 3 . 0 . 5 < / maven . findbugs . plugin . version > <nl> - < maven . spotbugs . plugin . version > 3 . 1 . 1 < / maven . spotbugs . plugin . version > <nl> + < maven . spotbugs . plugin . version > 3 . 0 . 6 < / maven . spotbugs . plugin . version > <nl> < maven . pmd . plugin . version > 3 . 8 < / maven . pmd . plugin . version > <nl> < pmd . version > 5 . 8 . 1 < / pmd . version > <nl> < maven . jacoco . plugin . version > 0 . 8 . 0 < / maven . jacoco . plugin . version > <nl> @ @ - 455 , 7 + 455 , 7 @ @ <nl> < / plugin > <nl> <nl> < plugin > <nl> - < groupId > com . github . spotbugs < / groupId > <nl> + < groupId > com . github . hazendaz . spotbugs < / groupId > <nl> < artifactId > spotbugs - maven - plugin < / artifactId > <nl> < version > $ { maven . spotbugs . plugin . version } < / version > <nl> < configuration > <nl> @ @ - 1046 , 7 + 1046 , 7 @ @ <nl> < / plugin > <nl> <nl> < plugin > <nl> - < groupId > com . github . spotbugs < / groupId > <nl> + < groupId > com . github . hazendaz . spotbugs < / groupId > <nl> < artifactId > spotbugs - maven - plugin < / artifactId > <nl> < version > $ { maven . spotbugs . plugin . version } < / version > <nl> < executions > <nl> @ @ - 1300 , 7 + 1300 , 7 @ @ <nl> < / plugin > <nl> <nl> < plugin > <nl> - < groupId > com . github . spotbugs < / groupId > <nl> + < groupId > com . github . hazendaz . spotbugs < / groupId > <nl> < artifactId > spotbugs - maven - plugin < / artifactId > <nl> < version > $ { maven . spotbugs . plugin . version } < / version > <nl> < / plugin >
NEAREST DIFF (one line): diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithPlainTextCommentFilter . java b / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithPlainTextCommentFilter . java <nl> index 3345fd4 . . ad38084 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithPlainTextCommentFilter . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithPlainTextCommentFilter . java <nl> @ @ - 117 , 8 + 117 , 10 @ @ public class SuppressWithPlainTextCommentFilter extends AutomaticBean implements <nl> boolean accepted = true ; <nl> if ( event . getLocalizedMessage ( ) ! = null ) { <nl> final FileText fileText = getFileText ( event . getFileName ( ) ) ; <nl> - final List < Suppression > suppressions = getSuppressions ( fileText ) ; <nl> - accepted = getNearestSuppression ( suppressions , event ) = = null ; <nl> + if ( fileText ! = null ) { <nl> + final List < Suppression > suppressions = getSuppressions ( fileText ) ; <nl> + accepted = getNearestSuppression ( suppressions , event ) = = null ; <nl> + } <nl> } <nl> return accepted ; <nl> } <nl> @ @ - 134 , 12 + 136 , 20 @ @ public class SuppressWithPlainTextCommentFilter extends AutomaticBean implements <nl> * @ return { @ link FileText } instance . <nl> * / <nl> private static FileText getFileText ( String fileName ) { <nl> - try { <nl> - return new FileText ( new File ( fileName ) , StandardCharsets . UTF _ 8 . name ( ) ) ; <nl> - } <nl> - catch ( IOException ex ) { <nl> - throw new IllegalStateException ( " Cannot read source file : " + fileName , ex ) ; <nl> + final File file = new File ( fileName ) ; <nl> + FileText result = null ; <nl> + <nl> + / / some violations can be on a directory , instead of a file <nl> + if ( ! file . isDirectory ( ) ) { <nl> + try { <nl> + result = new FileText ( file , StandardCharsets . UTF _ 8 . name ( ) ) ; <nl> + } <nl> + catch ( IOException ex ) { <nl> + throw new IllegalStateException ( " Cannot read source file : " + fileName , ex ) ; <nl> + } <nl> } <nl> + <nl> + return result ; <nl> } <nl> <nl> / * * <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithPlainTextCommentFilterTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithPlainTextCommentFilterTest . java <nl> index 08642ab . . 9f71733 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithPlainTextCommentFilterTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithPlainTextCommentFilterTest . java <nl> @ @ - 26 , 6 + 26 , 7 @ @ import static org . junit . Assert . assertTrue ; <nl> import static org . junit . Assert . fail ; <nl> <nl> import java . io . FileNotFoundException ; <nl> + import java . io . IOException ; <nl> import java . util . Arrays ; <nl> import java . util . Collection ; <nl> import java . util . stream . Collectors ; <nl> @ @ - 456 , 6 + 457 , 16 @ @ public class SuppressWithPlainTextCommentFilterTest extends AbstractModuleTestSu <nl> ) ; <nl> } <nl> <nl> + @ Test <nl> + public void testFilterWithDirectory ( ) throws IOException { <nl> + final SuppressWithPlainTextCommentFilter filter = new SuppressWithPlainTextCommentFilter ( ) ; <nl> + final AuditEvent event = new AuditEvent ( this , getPath ( " " ) , new LocalizedMessage ( 1 , 1 , <nl> + " bundle " , " key " , null , SeverityLevel . ERROR , " moduleId " , getClass ( ) , <nl> + " customMessage " ) ) ; <nl> + <nl> + assertTrue ( " filter should accept directory " , filter . accept ( event ) ) ; <nl> + } <nl> + <nl> private void verifySuppressed ( String fileNameWithExtension , String [ ] violationMessages , <nl> Configuration . . . childConfigs ) throws Exception { <nl> final DefaultConfiguration checkerConfig = createRootConfig ( null ) ;

TEST DIFF:
diff - - git a / pom . xml b / pom . xml 
 index bbd6082 . . 6eb02ee 100644 
 - - - a / pom . xml 
 + + + b / pom . xml 
 @ @ - 210 , 7 + 210 , 7 @ @ 
 < antlr4 . version > 4 . 7 . 1 < / antlr4 . version > 
 < maven . site . plugin . version > 3 . 7 < / maven . site . plugin . version > 
 < maven . findbugs . plugin . version > 3 . 0 . 5 < / maven . findbugs . plugin . version > 
 - < maven . spotbugs . plugin . version > 3 . 1 . 1 < / maven . spotbugs . plugin . version > 
 + < maven . spotbugs . plugin . version > 3 . 0 . 6 < / maven . spotbugs . plugin . version > 
 < maven . pmd . plugin . version > 3 . 8 < / maven . pmd . plugin . version > 
 < pmd . version > 5 . 8 . 1 < / pmd . version > 
 < maven . jacoco . plugin . version > 0 . 8 . 0 < / maven . jacoco . plugin . version > 
 @ @ - 455 , 7 + 455 , 7 @ @ 
 < / plugin > 
 
 < plugin > 
 - < groupId > com . github . spotbugs < / groupId > 
 + < groupId > com . github . hazendaz . spotbugs < / groupId > 
 < artifactId > spotbugs - maven - plugin < / artifactId > 
 < version > $ { maven . spotbugs . plugin . version } < / version > 
 < configuration > 
 @ @ - 1046 , 7 + 1046 , 7 @ @ 
 < / plugin > 
 
 < plugin > 
 - < groupId > com . github . spotbugs < / groupId > 
 + < groupId > com . github . hazendaz . spotbugs < / groupId > 
 < artifactId > spotbugs - maven - plugin < / artifactId > 
 < version > $ { maven . spotbugs . plugin . version } < / version > 
 < executions > 
 @ @ - 1300 , 7 + 1300 , 7 @ @ 
 < / plugin > 
 
 < plugin > 
 - < groupId > com . github . spotbugs < / groupId > 
 + < groupId > com . github . hazendaz . spotbugs < / groupId > 
 < artifactId > spotbugs - maven - plugin < / artifactId > 
 < version > $ { maven . spotbugs . plugin . version } < / version > 
 < / plugin >

NEAREST DIFF:
diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithPlainTextCommentFilter . java b / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithPlainTextCommentFilter . java 
 index 3345fd4 . . ad38084 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithPlainTextCommentFilter . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithPlainTextCommentFilter . java 
 @ @ - 117 , 8 + 117 , 10 @ @ public class SuppressWithPlainTextCommentFilter extends AutomaticBean implements 
 boolean accepted = true ; 
 if ( event . getLocalizedMessage ( ) ! = null ) { 
 final FileText fileText = getFileText ( event . getFileName ( ) ) ; 
 - final List < Suppression > suppressions = getSuppressions ( fileText ) ; 
 - accepted = getNearestSuppression ( suppressions , event ) = = null ; 
 + if ( fileText ! = null ) { 
 + final List < Suppression > suppressions = getSuppressions ( fileText ) ; 
 + accepted = getNearestSuppression ( suppressions , event ) = = null ; 
 + } 
 } 
 return accepted ; 
 } 
 @ @ - 134 , 12 + 136 , 20 @ @ public class SuppressWithPlainTextCommentFilter extends AutomaticBean implements 
 * @ return { @ link FileText } instance . 
 * / 
 private static FileText getFileText ( String fileName ) { 
 - try { 
 - return new FileText ( new File ( fileName ) , StandardCharsets . UTF _ 8 . name ( ) ) ; 
 - } 
 - catch ( IOException ex ) { 
 - throw new IllegalStateException ( " Cannot read source file : " + fileName , ex ) ; 
 + final File file = new File ( fileName ) ; 
 + FileText result = null ; 
 + 
 + / / some violations can be on a directory , instead of a file 
 + if ( ! file . isDirectory ( ) ) { 
 + try { 
 + result = new FileText ( file , StandardCharsets . UTF _ 8 . name ( ) ) ; 
 + } 
 + catch ( IOException ex ) { 
 + throw new IllegalStateException ( " Cannot read source file : " + fileName , ex ) ; 
 + } 
 } 
 + 
 + return result ; 
 } 
 
 / * * 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithPlainTextCommentFilterTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithPlainTextCommentFilterTest . java 
 index 08642ab . . 9f71733 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithPlainTextCommentFilterTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / filters / SuppressWithPlainTextCommentFilterTest . java 
 @ @ - 26 , 6 + 26 , 7 @ @ import static org . junit . Assert . assertTrue ; 
 import static org . junit . Assert . fail ; 
 
 import java . io . FileNotFoundException ; 
 + import java . io . IOException ; 
 import java . util . Arrays ; 
 import java . util . Collection ; 
 import java . util . stream . Collectors ; 
 @ @ - 456 , 6 + 457 , 16 @ @ public class SuppressWithPlainTextCommentFilterTest extends AbstractModuleTestSu 
 ) ; 
 } 
 
 + @ Test 
 + public void testFilterWithDirectory ( ) throws IOException { 
 + final SuppressWithPlainTextCommentFilter filter = new SuppressWithPlainTextCommentFilter ( ) ; 
 + final AuditEvent event = new AuditEvent ( this , getPath ( " " ) , new LocalizedMessage ( 1 , 1 , 
 + " bundle " , " key " , null , SeverityLevel . ERROR , " moduleId " , getClass ( ) , 
 + " customMessage " ) ) ; 
 + 
 + assertTrue ( " filter should accept directory " , filter . accept ( event ) ) ; 
 + } 
 + 
 private void verifySuppressed ( String fileNameWithExtension , String [ ] violationMessages , 
 Configuration . . . childConfigs ) throws Exception { 
 final DefaultConfiguration checkerConfig = createRootConfig ( null ) ;
