BLEU SCORE: 0.03344930345922425

TEST MSG: minor : remove usage of antlr specific method in RequireThisCheck
GENERATED MSG: Issue # 3041 : RequireThisCheck doesn ' t see outer classes for anonymous classes

TEST DIFF (one line): diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / RequireThisCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / RequireThisCheck . java <nl> index f8eb05c . . 452c30d 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / RequireThisCheck . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / RequireThisCheck . java <nl> @ @ - 606 , 7 + 606 , 7 @ @ public class RequireThisCheck extends AbstractCheck { <nl> <nl> boolean returnedVariable = false ; <nl> for ( DetailAST returnToken : returnsInsideBlock ) { <nl> - returnedVariable = returnToken . findAll ( ident ) . hasMoreNodes ( ) ; <nl> + returnedVariable = isAstInside ( returnToken , ident ) ; <nl> if ( returnedVariable ) { <nl> break ; <nl> } <nl> @ @ - 615 , 6 + 615 , 28 @ @ public class RequireThisCheck extends AbstractCheck { <nl> } <nl> <nl> / * * <nl> + * Checks if the given { @ code ast } is equal to the { @ code tree } or a child of it . <nl> + * @ param tree The tree to search . <nl> + * @ param ast The AST to look for . <nl> + * @ return { @ code true } if the { @ code ast } was found . <nl> + * / <nl> + private static boolean isAstInside ( DetailAST tree , DetailAST ast ) { <nl> + boolean result = false ; <nl> + <nl> + if ( tree . equals ( ast ) ) { <nl> + result = true ; <nl> + } <nl> + else { <nl> + for ( DetailAST child = tree . getFirstChild ( ) ; child ! = null <nl> + & & ! result ; child = child . getNextSibling ( ) ) { <nl> + result = isAstInside ( child , ast ) ; <nl> + } <nl> + } <nl> + <nl> + return result ; <nl> + } <nl> + <nl> + / * * <nl> * Checks whether a field can be referenced from a static context . <nl> * @ param ident ident token . <nl> * @ return true if field can be referenced from a static context .
NEAREST DIFF (one line): diff - - git a / circle . yml b / circle . yml <nl> index 68eda24 . . e1093dd 100644 <nl> - - - a / circle . yml <nl> + + + b / circle . yml <nl> @ @ - 2 , 6 + 2 , 11 @ @ checkout : <nl> post : <nl> - git clone https : / / github . com / checkstyle / contribution <nl> dependencies : <nl> + cache _ directories : <nl> + - groovy - 2 . 4 . 7 <nl> + pre : <nl> + - if [ ! - d groovy - 2 . 4 . 7 ] ; then wget https : / / dl . bintray . com / groovy / maven / apache - groovy - binary - 2 . 4 . 7 . zip & & unzip apache - groovy - binary - 2 . 4 . 7 . zip ; fi <nl> + <nl> # we to override as ' mvn dependecy : go - ofline ' does not download all dependencies <nl> override : <nl> - mvn install - Pno - validations <nl> @ @ - 14 , 11 + 19 , 10 @ @ machine : <nl> DEP1 : " & & sed - i . ' ' ' s / ^ guava / # guava / ' projects - to - test - on . properties " <nl> # we need this to let pass ' mvn site ' on no - projects mode to download all dependecies <nl> DEP2 : " & & echo ' class ClassEmpty { } ' > src / main / java / EmptyClass . java " <nl> - DEP3 : " & & . / launch . sh - Dcheckstyle . config . location = my _ check . xml " <nl> + DEP3 : " & & / home / ubuntu / checkstyle / groovy - 2 . 4 . 7 / bin / groovy launch . groovy projects - for - circle . properties my _ check . xml " <nl> TESTER _ DEPENDENCIES : $ CMD1 $ DEP1 $ DEP2 $ DEP3 <nl> CMD2 : " & & sed - i . ' ' ' s / ^ openjdk / # openjdk / ' projects - for - circle . properties " <nl> - CMD3 : " & & sed - i . ' ' s / projects - to - test - on . properties / projects - for - circle . properties / launch . sh " <nl> - CMD4 : " & & . / launch . sh - Dcheckstyle . config . location = checks - nonjavadoc - error . xml " <nl> + CMD3 : " & & / home / ubuntu / checkstyle / groovy - 2 . 4 . 7 / bin / groovy launch . groovy projects - for - circle . properties checks - nonjavadoc - error . xml " <nl> OPENJDK7 : " & & sed - i . ' ' ' s / # openjdk7 / openjdk7 / ' projects - for - circle . properties " <nl> OPENJDK8 : " & & sed - i . ' ' ' s / # openjdk8 / openjdk8 / ' projects - for - circle . properties " <nl> OPENJDK9 : " & & sed - i . ' ' ' s / # openjdk9 / openjdk9 / ' projects - for - circle . properties " <nl> @ @ - 34 , 13 + 38 , 13 @ @ machine : <nl> SCOUTER : " & & sed - i . ' ' ' s / # scouter / scouter / ' projects - for - circle . properties " <nl> GROOVY : " & & sed - i . ' ' ' s / # groovy / groovy / ' projects - for - circle . properties " <nl> # Test over openjdk7 , 8 <nl> - TEST _ 1 : $ CMD1 $ CMD2 $ OPENJDK7 $ OPENJDK8 $ CMD3 $ CMD4 <nl> + TEST _ 1 : $ CMD1 $ CMD2 $ OPENJDK7 $ OPENJDK8 $ CMD3 <nl> # Test over infinispan , protonpack , jOOL , lucene - solr , openjdk9 <nl> - TEST _ 2 : $ CMD1 $ CMD2 $ INFINISPAN $ PROTONPACK $ JOOL $ LUCENE $ OPENJDK9 $ CMD3 $ CMD4 <nl> + TEST _ 2 : $ CMD1 $ CMD2 $ INFINISPAN $ PROTONPACK $ JOOL $ LUCENE $ OPENJDK9 $ CMD3 <nl> # Test over tapestry5 , storm , cassandra <nl> - TEST _ 3 : $ CMD1 $ CMD2 $ TAPESTRY $ STORM $ CASSANDRA $ CMD3 $ CMD4 <nl> + TEST _ 3 : $ CMD1 $ CMD2 $ TAPESTRY $ STORM $ CASSANDRA $ CMD3 <nl> # Test over apache - commons , hadoop , scouter , groovy <nl> - TEST _ 4 : $ CMD1 $ CMD2 $ COMMONS $ HADOOP $ SCOUTER $ GROOVY $ CMD3 $ CMD4 <nl> + TEST _ 4 : $ CMD1 $ CMD2 $ COMMONS $ HADOOP $ SCOUTER $ GROOVY $ CMD3 <nl> test : <nl> override : <nl> - case $ CIRCLE _ NODE _ INDEX in 0 ) eval $ TEST _ 1 ; ; 1 ) eval $ TEST _ 2 ; ; 2 ) eval $ TEST _ 3 ; ; 3 ) eval $ TEST _ 4 ; ; esac :

TEST DIFF:
diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / RequireThisCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / RequireThisCheck . java 
 index f8eb05c . . 452c30d 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / RequireThisCheck . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / coding / RequireThisCheck . java 
 @ @ - 606 , 7 + 606 , 7 @ @ public class RequireThisCheck extends AbstractCheck { 
 
 boolean returnedVariable = false ; 
 for ( DetailAST returnToken : returnsInsideBlock ) { 
 - returnedVariable = returnToken . findAll ( ident ) . hasMoreNodes ( ) ; 
 + returnedVariable = isAstInside ( returnToken , ident ) ; 
 if ( returnedVariable ) { 
 break ; 
 } 
 @ @ - 615 , 6 + 615 , 28 @ @ public class RequireThisCheck extends AbstractCheck { 
 } 
 
 / * * 
 + * Checks if the given { @ code ast } is equal to the { @ code tree } or a child of it . 
 + * @ param tree The tree to search . 
 + * @ param ast The AST to look for . 
 + * @ return { @ code true } if the { @ code ast } was found . 
 + * / 
 + private static boolean isAstInside ( DetailAST tree , DetailAST ast ) { 
 + boolean result = false ; 
 + 
 + if ( tree . equals ( ast ) ) { 
 + result = true ; 
 + } 
 + else { 
 + for ( DetailAST child = tree . getFirstChild ( ) ; child ! = null 
 + & & ! result ; child = child . getNextSibling ( ) ) { 
 + result = isAstInside ( child , ast ) ; 
 + } 
 + } 
 + 
 + return result ; 
 + } 
 + 
 + / * * 
 * Checks whether a field can be referenced from a static context . 
 * @ param ident ident token . 
 * @ return true if field can be referenced from a static context .

NEAREST DIFF:
diff - - git a / circle . yml b / circle . yml 
 index 68eda24 . . e1093dd 100644 
 - - - a / circle . yml 
 + + + b / circle . yml 
 @ @ - 2 , 6 + 2 , 11 @ @ checkout : 
 post : 
 - git clone https : / / github . com / checkstyle / contribution 
 dependencies : 
 + cache _ directories : 
 + - groovy - 2 . 4 . 7 
 + pre : 
 + - if [ ! - d groovy - 2 . 4 . 7 ] ; then wget https : / / dl . bintray . com / groovy / maven / apache - groovy - binary - 2 . 4 . 7 . zip & & unzip apache - groovy - binary - 2 . 4 . 7 . zip ; fi 
 + 
 # we to override as ' mvn dependecy : go - ofline ' does not download all dependencies 
 override : 
 - mvn install - Pno - validations 
 @ @ - 14 , 11 + 19 , 10 @ @ machine : 
 DEP1 : " & & sed - i . ' ' ' s / ^ guava / # guava / ' projects - to - test - on . properties " 
 # we need this to let pass ' mvn site ' on no - projects mode to download all dependecies 
 DEP2 : " & & echo ' class ClassEmpty { } ' > src / main / java / EmptyClass . java " 
 - DEP3 : " & & . / launch . sh - Dcheckstyle . config . location = my _ check . xml " 
 + DEP3 : " & & / home / ubuntu / checkstyle / groovy - 2 . 4 . 7 / bin / groovy launch . groovy projects - for - circle . properties my _ check . xml " 
 TESTER _ DEPENDENCIES : $ CMD1 $ DEP1 $ DEP2 $ DEP3 
 CMD2 : " & & sed - i . ' ' ' s / ^ openjdk / # openjdk / ' projects - for - circle . properties " 
 - CMD3 : " & & sed - i . ' ' s / projects - to - test - on . properties / projects - for - circle . properties / launch . sh " 
 - CMD4 : " & & . / launch . sh - Dcheckstyle . config . location = checks - nonjavadoc - error . xml " 
 + CMD3 : " & & / home / ubuntu / checkstyle / groovy - 2 . 4 . 7 / bin / groovy launch . groovy projects - for - circle . properties checks - nonjavadoc - error . xml " 
 OPENJDK7 : " & & sed - i . ' ' ' s / # openjdk7 / openjdk7 / ' projects - for - circle . properties " 
 OPENJDK8 : " & & sed - i . ' ' ' s / # openjdk8 / openjdk8 / ' projects - for - circle . properties " 
 OPENJDK9 : " & & sed - i . ' ' ' s / # openjdk9 / openjdk9 / ' projects - for - circle . properties " 
 @ @ - 34 , 13 + 38 , 13 @ @ machine : 
 SCOUTER : " & & sed - i . ' ' ' s / # scouter / scouter / ' projects - for - circle . properties " 
 GROOVY : " & & sed - i . ' ' ' s / # groovy / groovy / ' projects - for - circle . properties " 
 # Test over openjdk7 , 8 
 - TEST _ 1 : $ CMD1 $ CMD2 $ OPENJDK7 $ OPENJDK8 $ CMD3 $ CMD4 
 + TEST _ 1 : $ CMD1 $ CMD2 $ OPENJDK7 $ OPENJDK8 $ CMD3 
 # Test over infinispan , protonpack , jOOL , lucene - solr , openjdk9 
 - TEST _ 2 : $ CMD1 $ CMD2 $ INFINISPAN $ PROTONPACK $ JOOL $ LUCENE $ OPENJDK9 $ CMD3 $ CMD4 
 + TEST _ 2 : $ CMD1 $ CMD2 $ INFINISPAN $ PROTONPACK $ JOOL $ LUCENE $ OPENJDK9 $ CMD3 
 # Test over tapestry5 , storm , cassandra 
 - TEST _ 3 : $ CMD1 $ CMD2 $ TAPESTRY $ STORM $ CASSANDRA $ CMD3 $ CMD4 
 + TEST _ 3 : $ CMD1 $ CMD2 $ TAPESTRY $ STORM $ CASSANDRA $ CMD3 
 # Test over apache - commons , hadoop , scouter , groovy 
 - TEST _ 4 : $ CMD1 $ CMD2 $ COMMONS $ HADOOP $ SCOUTER $ GROOVY $ CMD3 $ CMD4 
 + TEST _ 4 : $ CMD1 $ CMD2 $ COMMONS $ HADOOP $ SCOUTER $ GROOVY $ CMD3 
 test : 
 override : 
 - case $ CIRCLE _ NODE _ INDEX in 0 ) eval $ TEST _ 1 ; ; 1 ) eval $ TEST _ 2 ; ; 2 ) eval $ TEST _ 3 ; ; 3 ) eval $ TEST _ 4 ; ; esac :
