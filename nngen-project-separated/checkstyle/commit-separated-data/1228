BLEU SCORE: 0.10600313379512592

TEST MSG: Issue # 3103 : added Apache Apex to project to regression testing
GENERATED MSG: Issue # 2938 : add XWiki project to regeression testing

TEST DIFF (one line): diff - - git a / . travis . yml b / . travis . yml <nl> index a94ce51 . . fe786af 100644 <nl> - - - a / . travis . yml <nl> + + + b / . travis . yml <nl> @ @ - 102 , 6 + 102 , 20 @ @ matrix : <nl> - CMD = $ CMD1 $ CMD2 $ CMD3 $ CMD4 $ CMD5 $ CMD6 $ CMD7 $ CS _ CMD <nl> - COVERAGE _ CMD = " " <nl> <nl> + # NoErrorTest - Apache Apex ( oraclejdk8 ) <nl> + - jdk : oraclejdk8 <nl> + env : <nl> + - DESC = " NoErrorTest - Apache Apex " <nl> + - CMD1 = " mvn clean install - DskipTests - DskipITs - Dcobertura . skip = true " <nl> + - CMD2 = " - Dpmd . skip = true - Dfindbugs . skip = true " <nl> + - CMD3 = " - Dcheckstyle . ant . skip = true - Dcheckstyle . skip = true - Dxml . skip = true " <nl> + - CMD4 = " & & CS _ POM _ VERSION = $ ( mvn - q - Dexec . executable = ' echo ' - Dexec . args = ' $ { project . version } ' - - non - recursive org . codehaus . mojo : exec - maven - plugin : 1 . 3 . 1 : exec ) " <nl> + - CMD5 = " & & echo CS _ version : \ $ CS _ POM _ VERSION " <nl> + - CMD6 = " & & git clone https : / / github . com / apache / incubator - apex - core / & & cd incubator - apex - core " <nl> + - CS _ CMD = " & & mvn compile checkstyle : check - Dcheckstyle . version = \ $ CS _ POM _ VERSION " <nl> + - CMD = $ CMD1 $ CMD2 $ CMD3 $ CMD4 $ CMD5 $ CMD6 $ CMD7 $ CS _ CMD <nl> + - COVERAGE _ CMD = " " <nl> + <nl> # NoExceptiontest - Checkstyle , sevntu - checkstyle ( oraclejdk8 ) <nl> - jdk : oraclejdk8 <nl> env :
NEAREST DIFF (one line): diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / gui / MainFrame . java b / src / main / java / com / puppycrawl / tools / checkstyle / gui / MainFrame . java <nl> index b8d7ab3 . . 77f2e8a 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / gui / MainFrame . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / gui / MainFrame . java <nl> @ @ - 113 , 17 + 113 , 15 @ @ public class MainFrame extends JFrame { <nl> * @ param sourceFile the file to open . <nl> * / <nl> public void openFile ( File sourceFile ) { <nl> - if ( sourceFile ! = null ) { <nl> - try { <nl> - setTitle ( " Checkstyle GUI : " + sourceFile . getName ( ) ) ; <nl> - model . openFile ( sourceFile ) ; <nl> - reloadAction . setEnabled ( true ) ; <nl> - textArea . setText ( model . getText ( ) ) ; <nl> - treeTable . setLinePositionMap ( model . getLinesToPosition ( ) ) ; <nl> - } <nl> - catch ( final CheckstyleException ex ) { <nl> - JOptionPane . showMessageDialog ( this , ex . getMessage ( ) ) ; <nl> - } <nl> + try { <nl> + model . openFile ( sourceFile ) ; <nl> + setTitle ( model . getTitle ( ) ) ; <nl> + reloadAction . setEnabled ( model . isReloadActionEnabled ( ) ) ; <nl> + textArea . setText ( model . getText ( ) ) ; <nl> + treeTable . setLinePositionMap ( model . getLinesToPosition ( ) ) ; <nl> + } <nl> + catch ( final CheckstyleException ex ) { <nl> + JOptionPane . showMessageDialog ( this , ex . getMessage ( ) ) ; <nl> } <nl> } <nl> <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / gui / MainFrameModel . java b / src / main / java / com / puppycrawl / tools / checkstyle / gui / MainFrameModel . java <nl> index a4a556f . . 14c8208 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / gui / MainFrameModel . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / gui / MainFrameModel . java <nl> @ @ - 52 , 6 + 52 , 12 @ @ public class MainFrameModel { <nl> / * * Text for a frame ' s text area . * / <nl> private String text ; <nl> <nl> + / * * Title for the main frame . * / <nl> + private String title = " Checkstyle GUI " ; <nl> + <nl> + / * * Whether the reload action is enabled . * / <nl> + private boolean reloadActionEnabled ; <nl> + <nl> / * * Instantiate the model . * / <nl> public MainFrameModel ( ) { <nl> parseTreeTableModel = new ParseTreeTableModel ( null ) ; <nl> @ @ - 74 , 6 + 80 , 20 @ @ public class MainFrameModel { <nl> } <nl> <nl> / * * <nl> + * @ return title for the main frame . <nl> + * / <nl> + public String getTitle ( ) { <nl> + return title ; <nl> + } <nl> + <nl> + / * * <nl> + * @ return true if the reload action is enabled . <nl> + * / <nl> + public boolean isReloadActionEnabled ( ) { <nl> + return reloadActionEnabled ; <nl> + } <nl> + <nl> + / * * <nl> * Whether a file chooser should accept the file as a source file . <nl> * @ param file the file to check . <nl> * @ return true if the file should be accepted . <nl> @ @ - 116 , 30 + 136 , 34 @ @ public class MainFrameModel { <nl> * @ throws CheckstyleException if the file can not be parsed . <nl> * / <nl> public void openFile ( File file ) throws CheckstyleException { <nl> - try { <nl> - currentFile = file ; <nl> - final DetailAST parseTree = parseFile ( file ) ; <nl> - parseTreeTableModel . setParseTree ( parseTree ) ; <nl> - final String [ ] sourceLines = getFileText ( file ) . toLinesArray ( ) ; <nl> - <nl> - / / clear for each new file <nl> - linesToPosition . clear ( ) ; <nl> - / / starts line counting at 1 <nl> - linesToPosition . add ( 0 ) ; <nl> - <nl> - final StringBuilder sb = new StringBuilder ( ) ; <nl> - / / insert the contents of the file to the text area <nl> - for ( final String element : sourceLines ) { <nl> - linesToPosition . add ( sb . length ( ) ) ; <nl> - sb . append ( element ) . append ( System . lineSeparator ( ) ) ; <nl> + if ( file ! = null ) { <nl> + try { <nl> + currentFile = file ; <nl> + title = " Checkstyle GUI : " + file . getName ( ) ; <nl> + reloadActionEnabled = true ; <nl> + final DetailAST parseTree = parseFile ( file ) ; <nl> + parseTreeTableModel . setParseTree ( parseTree ) ; <nl> + final String [ ] sourceLines = getFileText ( file ) . toLinesArray ( ) ; <nl> + <nl> + / / clear for each new file <nl> + linesToPosition . clear ( ) ; <nl> + / / starts line counting at 1 <nl> + linesToPosition . add ( 0 ) ; <nl> + <nl> + final StringBuilder sb = new StringBuilder ( ) ; <nl> + / / insert the contents of the file to the text area <nl> + for ( final String element : sourceLines ) { <nl> + linesToPosition . add ( sb . length ( ) ) ; <nl> + sb . append ( element ) . append ( System . lineSeparator ( ) ) ; <nl> + } <nl> + text = sb . toString ( ) ; <nl> + } <nl> + catch ( IOException | ANTLRException ex ) { <nl> + final String exceptionMsg = String . format ( Locale . ROOT , <nl> + " % s occurred while opening file % s . " , <nl> + ex . getClass ( ) . getSimpleName ( ) , file . getPath ( ) ) ; <nl> + throw new CheckstyleException ( exceptionMsg , ex ) ; <nl> } <nl> - text = sb . toString ( ) ; <nl> - } <nl> - catch ( IOException | ANTLRException ex ) { <nl> - final String exceptionMsg = String . format ( Locale . ROOT , <nl> - " % s occurred while opening file % s . " , <nl> - ex . getClass ( ) . getSimpleName ( ) , file . getPath ( ) ) ; <nl> - throw new CheckstyleException ( exceptionMsg , ex ) ; <nl> } <nl> } <nl>

TEST DIFF:
diff - - git a / . travis . yml b / . travis . yml 
 index a94ce51 . . fe786af 100644 
 - - - a / . travis . yml 
 + + + b / . travis . yml 
 @ @ - 102 , 6 + 102 , 20 @ @ matrix : 
 - CMD = $ CMD1 $ CMD2 $ CMD3 $ CMD4 $ CMD5 $ CMD6 $ CMD7 $ CS _ CMD 
 - COVERAGE _ CMD = " " 
 
 + # NoErrorTest - Apache Apex ( oraclejdk8 ) 
 + - jdk : oraclejdk8 
 + env : 
 + - DESC = " NoErrorTest - Apache Apex " 
 + - CMD1 = " mvn clean install - DskipTests - DskipITs - Dcobertura . skip = true " 
 + - CMD2 = " - Dpmd . skip = true - Dfindbugs . skip = true " 
 + - CMD3 = " - Dcheckstyle . ant . skip = true - Dcheckstyle . skip = true - Dxml . skip = true " 
 + - CMD4 = " & & CS _ POM _ VERSION = $ ( mvn - q - Dexec . executable = ' echo ' - Dexec . args = ' $ { project . version } ' - - non - recursive org . codehaus . mojo : exec - maven - plugin : 1 . 3 . 1 : exec ) " 
 + - CMD5 = " & & echo CS _ version : \ $ CS _ POM _ VERSION " 
 + - CMD6 = " & & git clone https : / / github . com / apache / incubator - apex - core / & & cd incubator - apex - core " 
 + - CS _ CMD = " & & mvn compile checkstyle : check - Dcheckstyle . version = \ $ CS _ POM _ VERSION " 
 + - CMD = $ CMD1 $ CMD2 $ CMD3 $ CMD4 $ CMD5 $ CMD6 $ CMD7 $ CS _ CMD 
 + - COVERAGE _ CMD = " " 
 + 
 # NoExceptiontest - Checkstyle , sevntu - checkstyle ( oraclejdk8 ) 
 - jdk : oraclejdk8 
 env :

NEAREST DIFF:
diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / gui / MainFrame . java b / src / main / java / com / puppycrawl / tools / checkstyle / gui / MainFrame . java 
 index b8d7ab3 . . 77f2e8a 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / gui / MainFrame . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / gui / MainFrame . java 
 @ @ - 113 , 17 + 113 , 15 @ @ public class MainFrame extends JFrame { 
 * @ param sourceFile the file to open . 
 * / 
 public void openFile ( File sourceFile ) { 
 - if ( sourceFile ! = null ) { 
 - try { 
 - setTitle ( " Checkstyle GUI : " + sourceFile . getName ( ) ) ; 
 - model . openFile ( sourceFile ) ; 
 - reloadAction . setEnabled ( true ) ; 
 - textArea . setText ( model . getText ( ) ) ; 
 - treeTable . setLinePositionMap ( model . getLinesToPosition ( ) ) ; 
 - } 
 - catch ( final CheckstyleException ex ) { 
 - JOptionPane . showMessageDialog ( this , ex . getMessage ( ) ) ; 
 - } 
 + try { 
 + model . openFile ( sourceFile ) ; 
 + setTitle ( model . getTitle ( ) ) ; 
 + reloadAction . setEnabled ( model . isReloadActionEnabled ( ) ) ; 
 + textArea . setText ( model . getText ( ) ) ; 
 + treeTable . setLinePositionMap ( model . getLinesToPosition ( ) ) ; 
 + } 
 + catch ( final CheckstyleException ex ) { 
 + JOptionPane . showMessageDialog ( this , ex . getMessage ( ) ) ; 
 } 
 } 
 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / gui / MainFrameModel . java b / src / main / java / com / puppycrawl / tools / checkstyle / gui / MainFrameModel . java 
 index a4a556f . . 14c8208 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / gui / MainFrameModel . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / gui / MainFrameModel . java 
 @ @ - 52 , 6 + 52 , 12 @ @ public class MainFrameModel { 
 / * * Text for a frame ' s text area . * / 
 private String text ; 
 
 + / * * Title for the main frame . * / 
 + private String title = " Checkstyle GUI " ; 
 + 
 + / * * Whether the reload action is enabled . * / 
 + private boolean reloadActionEnabled ; 
 + 
 / * * Instantiate the model . * / 
 public MainFrameModel ( ) { 
 parseTreeTableModel = new ParseTreeTableModel ( null ) ; 
 @ @ - 74 , 6 + 80 , 20 @ @ public class MainFrameModel { 
 } 
 
 / * * 
 + * @ return title for the main frame . 
 + * / 
 + public String getTitle ( ) { 
 + return title ; 
 + } 
 + 
 + / * * 
 + * @ return true if the reload action is enabled . 
 + * / 
 + public boolean isReloadActionEnabled ( ) { 
 + return reloadActionEnabled ; 
 + } 
 + 
 + / * * 
 * Whether a file chooser should accept the file as a source file . 
 * @ param file the file to check . 
 * @ return true if the file should be accepted . 
 @ @ - 116 , 30 + 136 , 34 @ @ public class MainFrameModel { 
 * @ throws CheckstyleException if the file can not be parsed . 
 * / 
 public void openFile ( File file ) throws CheckstyleException { 
 - try { 
 - currentFile = file ; 
 - final DetailAST parseTree = parseFile ( file ) ; 
 - parseTreeTableModel . setParseTree ( parseTree ) ; 
 - final String [ ] sourceLines = getFileText ( file ) . toLinesArray ( ) ; 
 - 
 - / / clear for each new file 
 - linesToPosition . clear ( ) ; 
 - / / starts line counting at 1 
 - linesToPosition . add ( 0 ) ; 
 - 
 - final StringBuilder sb = new StringBuilder ( ) ; 
 - / / insert the contents of the file to the text area 
 - for ( final String element : sourceLines ) { 
 - linesToPosition . add ( sb . length ( ) ) ; 
 - sb . append ( element ) . append ( System . lineSeparator ( ) ) ; 
 + if ( file ! = null ) { 
 + try { 
 + currentFile = file ; 
 + title = " Checkstyle GUI : " + file . getName ( ) ; 
 + reloadActionEnabled = true ; 
 + final DetailAST parseTree = parseFile ( file ) ; 
 + parseTreeTableModel . setParseTree ( parseTree ) ; 
 + final String [ ] sourceLines = getFileText ( file ) . toLinesArray ( ) ; 
 + 
 + / / clear for each new file 
 + linesToPosition . clear ( ) ; 
 + / / starts line counting at 1 
 + linesToPosition . add ( 0 ) ; 
 + 
 + final StringBuilder sb = new StringBuilder ( ) ; 
 + / / insert the contents of the file to the text area 
 + for ( final String element : sourceLines ) { 
 + linesToPosition . add ( sb . length ( ) ) ; 
 + sb . append ( element ) . append ( System . lineSeparator ( ) ) ; 
 + } 
 + text = sb . toString ( ) ; 
 + } 
 + catch ( IOException | ANTLRException ex ) { 
 + final String exceptionMsg = String . format ( Locale . ROOT , 
 + " % s occurred while opening file % s . " , 
 + ex . getClass ( ) . getSimpleName ( ) , file . getPath ( ) ) ; 
 + throw new CheckstyleException ( exceptionMsg , ex ) ; 
 } 
 - text = sb . toString ( ) ; 
 - } 
 - catch ( IOException | ANTLRException ex ) { 
 - final String exceptionMsg = String . format ( Locale . ROOT , 
 - " % s occurred while opening file % s . " , 
 - ex . getClass ( ) . getSimpleName ( ) , file . getPath ( ) ) ; 
 - throw new CheckstyleException ( exceptionMsg , ex ) ; 
 } 
 } 

