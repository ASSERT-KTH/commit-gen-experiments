BLEU SCORE: 0.04515183688171632

TEST MSG: Issue # 3105 : fixed errors in indentation input files
GENERATED MSG: Add test coverage to BlockParentHandler in Indentation check . # 1270

TEST DIFF (one line): diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputAnonymousClassInMethod . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputAnonymousClassInMethod . java <nl> index 1ae7240 . . aafd491 100644 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputAnonymousClassInMethod . java <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputAnonymousClassInMethod . java <nl> @ @ - 18 , 10 + 18 , 10 @ @ import java . io . FileFilter ; / / indent : 0 exp : 0 <nl> public class InputAnonymousClassInMethod { / / indent : 0 exp : 0 <nl> 	 private void walkDir ( File dir , FileFilter fileFilter ) { / / indent : 8 exp : 2 warn <nl> 	 	 walkDir ( dir , new FileFilter ( ) { / / indent : 16 exp : 4 warn <nl> - 	 	 	 @ Override / / indent : 24 exp : 8 warn <nl> + 	 	 	 @ Override / / indent : 24 exp : 18 , 20 , 22 warn <nl> 	 	 	 public boolean accept ( File path ) { / / indent : 24 exp : 24 <nl> - 	 	 	 	 return ( path . isDirectory ( ) ) ; / / indent : 32 exp : 12 warn <nl> - 	 	 	 } / / indent : 24 exp : 8 warn <nl> + 	 	 	 	 return ( path . isDirectory ( ) ) ; / / indent : 32 exp : 20 , 22 , 24 warn <nl> + 	 	 	 } / / indent : 24 exp : 18 , 20 , 22 warn <nl> 	 	 } ) ; / / indent : 16 exp : 16 <nl> 	 } / / indent : 8 exp : 2 warn <nl> } / / indent : 0 exp : 0 <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidAnonymousClassIndent . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidAnonymousClassIndent . java <nl> index 5508035 . . 5e84c1e 100644 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidAnonymousClassIndent . java <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidAnonymousClassIndent . java <nl> @ @ - 25 , 7 + 25 , 7 @ @ public class InputInvalidAnonymousClassIndent { / / indent : 0 exp : 0 <nl> return new Thread ( ) ; / / indent : 20 exp : 20 <nl> } else { / / indent : 16 exp : 16 <nl> return new Thread ( ) ; / / indent : 20 exp : 20 <nl> - } } } ) ; / / indent : 16 exp : 17 warn <nl> + } } } ) ; / / indent : 16 ioffset : 1 exp : 12 , 16 warn <nl> return ; / / indent : 8 exp : 8 <nl> } / / indent : 4 exp : 4 <nl> } / / indent : 0 exp : 0 <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidClassDefIndent . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidClassDefIndent . java <nl> index c5b5224 . . 1640704 100644 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidClassDefIndent . java <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidClassDefIndent . java <nl> @ @ - 134 , 7 + 134 , 7 @ @ final class InputValidClassDefIndent66 extends java . awt . event . MouseAdapter imple <nl> public void actionPerformed ( ActionEvent e ) { / / indent : 12 exp : 12 <nl> <nl> } / / indent : 12 exp : 12 <nl> - } ) ; / / indent : 8 exp : 10 , 14 warn <nl> + } ) ; / / indent : 8 exp : 10 warn <nl> <nl> <nl> new JButton ( ) . addActionListener ( new ActionListener ( ) / / indent : 8 exp : 8 <nl> @ @ - 142 , 7 + 142 , 7 @ @ final class InputValidClassDefIndent66 extends java . awt . event . MouseAdapter imple <nl> public void actionPerformed ( ActionEvent e ) { / / indent : 12 exp : 10 warn <nl> <nl> } / / indent : 12 exp : 10 warn <nl> - } ) ; / / indent : 6 exp : 8 , 12 warn <nl> + } ) ; / / indent : 6 exp : 8 warn <nl> <nl> <nl> new JButton ( ) . addActionListener ( new ActionListener ( ) / / indent : 8 exp : 8 <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidForIndent . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidForIndent . java <nl> index 492b4c1 . . a8ef88b 100644 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidForIndent . java <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidForIndent . java <nl> @ @ - 74 , 7 + 74 , 7 @ @ public class InputInvalidForIndent { / / indent : 0 exp : 0 <nl> } / / indent : 8 exp : 8 <nl> <nl> for ( int i = 0 ; i < 10 ; i + + ) { / / indent : 8 exp : 8 <nl> - System . getProperty ( " foo " ) ; } / / indent : 12 exp : 8 warn <nl> + System . getProperty ( " foo " ) ; } / / indent : 12 ioffset : 27 exp : 8 warn <nl> <nl> for ( int i = 0 ; / / indent : 8 exp : 8 <nl> i < 10 ; i + + / / indent : 12 exp : > = 12 <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidIfIndent . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidIfIndent . java <nl> index 100535b . . b58081a 100644 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidIfIndent . java <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidIfIndent . java <nl> @ @ - 90 , 7 + 90 , 7 @ @ public class InputInvalidIfIndent { / / indent : 0 exp : 0 <nl> if ( test ) / / indent : 9 exp : 8 warn <nl> { / / indent : 9 exp : 8 warn <nl> } else / / indent : 9 exp : 8 warn <nl> - { / / indent : 7 exp : 9 warn <nl> + { / / indent : 7 exp : 8 warn <nl> } / / indent : 10 exp : 8 warn <nl> <nl> / / lcurly for if and else on same line - - mixed braces / / indent : 8 exp : 8 <nl> @ @ - 230 , 7 + 230 , 7 @ @ System . getProperty ( " blah " ) ; / / indent : 0 exp : 12 warn <nl> } / / indent : 16 exp : 16 <nl> <nl> if ( test ) { / / indent : 8 exp : 8 <nl> - System . getProperty ( " blah " ) ; } / / indent : 12 exp : 8 warn <nl> + System . getProperty ( " blah " ) ; } / / indent : 12 ioffset : 28 exp : 8 warn <nl> } / / indent : 4 exp : 4 <nl> <nl> public void parenIfTest ( ) { / / indent : 4 exp : 4 <nl> @ @ - 248 , 7 + 248 , 7 @ @ System . getProperty ( " blah " ) ; / / indent : 0 exp : 12 warn <nl> } / / indent : 8 exp : 8 <nl> <nl> if / / indent : 8 exp : 8 <nl> - ( / / indent : 6 exp : 8 , 12 warn <nl> + ( / / indent : 6 exp : 8 warn <nl> test / / indent : 12 exp : 12 <nl> ) { / / indent : 6 exp : 8 warn <nl> System . getProperty ( " blah " ) ; / / indent : 12 exp : 12 <nl> diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidLabelWithWhileLoopIndent . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidLabelWithWhileLoopIndent . java <nl> index 79db517 . . 80b2910 100644 <nl> - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidLabelWithWhileLoopIndent . java <nl> + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidLabelWithWhileLoopIndent . java <nl> @ @ - 15 , 8 + 15 , 8 @ @ package com . puppycrawl . tools . checkstyle . checks . indentation ; / / indent : 0 exp : 0 <nl> public class InputInvalidLabelWithWhileLoopIndent { / / indent : 0 exp : 0 <nl> <nl> public InputInvalidLabelWithWhileLoopIndent ( ) { / / indent : 4 exp : 4 <nl> - LOOP : / / indent : 9 exp : 8 warn <nl> - while ( true ) { / / indent : 9 exp : 8 warn <nl> + LOOP : / / indent : 9 exp : 4 , 8 warn <nl> + while ( true ) { / / indent : 9 exp : 8 , 12 warn <nl> break LOOP ; / / indent : 12 exp : 13 warn <nl> } / / indent : 8 exp : 8 <nl> } / / indent : 4 exp : 4
NEAREST DIFF (one line): diff - - git a / pom . xml b / pom . xml <nl> index 6ad8a45 . . d769c67 100644 <nl> - - - a / pom . xml <nl> + + + b / pom . xml <nl> @ @ - 1185 , 7 + 1185 , 7 @ @ <nl> < regex > < pattern > . * . checks . javadoc . JavadocStyleCheck < / pattern > < branchRate > 89 < / branchRate > < lineRate > 98 < / lineRate > < / regex > <nl> < regex > < pattern > . * . checks . javadoc . JavadocTagContinuationIndentationCheck < / pattern > < branchRate > 81 < / branchRate > < lineRate > 86 < / lineRate > < / regex > <nl> < regex > < pattern > . * . checks . javadoc . JavadocTypeCheck < / pattern > < branchRate > 95 < / branchRate > < lineRate > 93 < / lineRate > < / regex > <nl> - < regex > < pattern > . * . checks . javadoc . JavadocUtils < / pattern > < branchRate > 94 < / branchRate > < lineRate > 98 < / lineRate > < / regex > <nl> + < regex > < pattern > . * . checks . javadoc . JavadocUtils < / pattern > < branchRate > 94 < / branchRate > < lineRate > 100 < / lineRate > < / regex > <nl> < regex > < pattern > . * . checks . javadoc . SummaryJavadocCheck < / pattern > < branchRate > 93 < / branchRate > < lineRate > 100 < / lineRate > < / regex > <nl> < regex > < pattern > . * . checks . javadoc . TagParser < / pattern > < branchRate > 92 < / branchRate > < lineRate > 98 < / lineRate > < / regex > <nl> < regex > < pattern > . * . checks . javadoc . WriteTagCheck < / pattern > < branchRate > 100 < / branchRate > < lineRate > 91 < / lineRate > < / regex > <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / Utils . java b / src / main / java / com / puppycrawl / tools / checkstyle / Utils . java <nl> index 235d03d . . 8b6c551 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / Utils . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / Utils . java <nl> @ @ - 58 , 7 + 58 , 7 @ @ public final class Utils { <nl> } <nl> <nl> final String name = f . getName ( ) ; <nl> - final int tokenValue = getTokenFieldValue ( f , name ) ; <nl> + final int tokenValue = getIntFromField ( f , name ) ; <nl> builder . put ( name , tokenValue ) ; <nl> if ( tokenValue > tempTokenValueToName . length - 1 ) { <nl> final String [ ] temp = new String [ tokenValue + 1 ] ; <nl> @ @ - 365 , 19 + 365 , 21 @ @ public final class Utils { <nl> } <nl> <nl> / * * <nl> - * That method exists as workaround for code - coverage 100 % target to let test <nl> - * catch block ( originally it was in static area ) . <nl> - * @ param field token field <nl> - * @ param name token name <nl> - * @ return value of field <nl> + * Gets the value of a static or instance field of type int or of another primitive type <nl> + * convertible to type int via a widening conversion . Does not throw any checked exceptions . <nl> + * @ param field from which the int should be extracted <nl> + * @ param object to extract the int value from <nl> + * @ return the value of the field converted to type int <nl> + * @ throws IllegalStateException if this Field object is enforcing Java language access control <nl> + * and the underlying field is inaccessible <nl> + * @ see Field # getInt ( Object ) <nl> * / <nl> - private static int getTokenFieldValue ( Field field , String name ) { <nl> + public static int getIntFromField ( Field field , Object object ) { <nl> try { <nl> - return field . getInt ( name ) ; <nl> + return field . getInt ( object ) ; <nl> } <nl> - catch ( final IllegalArgumentException | IllegalAccessException e ) { <nl> - throw new IllegalStateException ( <nl> - " Failed to instantiate collection of Java tokens " , e ) ; <nl> + catch ( final IllegalAccessException exception ) { <nl> + throw new IllegalStateException ( exception ) ; <nl> } <nl> } <nl> } <nl> diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocUtils . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocUtils . java <nl> index 45494f1 . . 9bf4e44 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocUtils . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocUtils . java <nl> @ @ - 27 , 6 + 27 , 7 @ @ import java . util . regex . Pattern ; <nl> <nl> import com . google . common . collect . ImmutableMap ; <nl> import com . google . common . collect . Lists ; <nl> + import com . puppycrawl . tools . checkstyle . Utils ; <nl> import com . puppycrawl . tools . checkstyle . api . DetailAST ; <nl> import com . puppycrawl . tools . checkstyle . api . DetailNode ; <nl> import com . puppycrawl . tools . checkstyle . api . JavadocTagInfo ; <nl> @ @ - 62 , 25 + 63 , 18 @ @ public final class JavadocUtils { <nl> <nl> final String name = f . getName ( ) ; <nl> <nl> - try { <nl> - final int tokenValue = f . getInt ( name ) ; <nl> - builder . put ( name , tokenValue ) ; <nl> - if ( tokenValue > tempTokenValueToName . length - 1 ) { <nl> - final String [ ] temp = new String [ tokenValue + 1 ] ; <nl> - System . arraycopy ( tempTokenValueToName , 0 , temp , 0 , tempTokenValueToName . length ) ; <nl> - tempTokenValueToName = temp ; <nl> - } <nl> - if ( tokenValue = = - 1 ) { <nl> - tempTokenValueToName [ 0 ] = name ; <nl> - } <nl> - else { <nl> - tempTokenValueToName [ tokenValue ] = name ; <nl> - } <nl> + final int tokenValue = Utils . getIntFromField ( f , name ) ; <nl> + builder . put ( name , tokenValue ) ; <nl> + if ( tokenValue > tempTokenValueToName . length - 1 ) { <nl> + final String [ ] temp = new String [ tokenValue + 1 ] ; <nl> + System . arraycopy ( tempTokenValueToName , 0 , temp , 0 , tempTokenValueToName . length ) ; <nl> + tempTokenValueToName = temp ; <nl> + } <nl> + if ( tokenValue = = - 1 ) { <nl> + tempTokenValueToName [ 0 ] = name ; <nl> } <nl> - catch ( IllegalAccessException ex ) { <nl> - / / rethrow as unchecked exception <nl> - throw new IllegalStateException ( <nl> - " Failed to instantiate collection of Javadoc tokens " , ex ) ; <nl> + else { <nl> + tempTokenValueToName [ tokenValue ] = name ; <nl> } <nl> } <nl> <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / UtilsTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / UtilsTest . java <nl> index 39327df . . 253742b 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / UtilsTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / UtilsTest . java <nl> @ @ - 28 , 8 + 28 , 6 @ @ import java . io . File ; <nl> import java . io . IOException ; <nl> import java . lang . reflect . Constructor ; <nl> import java . lang . reflect . Field ; <nl> - import java . lang . reflect . InvocationTargetException ; <nl> - import java . lang . reflect . Method ; <nl> import java . lang . reflect . Modifier ; <nl> import java . util . Dictionary ; <nl> <nl> @ @ - 172 , 6 + 170 , 25 @ @ public class UtilsTest { <nl> } <nl> <nl> @ Test <nl> + public void testGetIntFromAccessibleField ( ) throws NoSuchFieldException { <nl> + Field field = Integer . class . getField ( " MAX _ VALUE " ) ; <nl> + <nl> + assertEquals ( Integer . MAX _ VALUE , Utils . getIntFromField ( field , 0 ) ) ; <nl> + } <nl> + <nl> + @ Test <nl> + public void testGetIntFromInaccessibleField ( ) throws NoSuchFieldException { <nl> + Field field = Integer . class . getDeclaredField ( " value " ) ; <nl> + <nl> + try { <nl> + Utils . getIntFromField ( field , 0 ) ; <nl> + } <nl> + catch ( IllegalStateException expected ) { <nl> + / / expected <nl> + } <nl> + } <nl> + <nl> + @ Test <nl> public void testTokenValueIncorrect ( ) throws NoSuchMethodException { <nl> Integer id = Integer . MAX _ VALUE - 1 ; <nl> try { <nl> @ @ - 252 , 29 + 269 , 4 @ @ public class UtilsTest { <nl> Assert . assertTrue ( Utils . isCommentType ( TokenTypes . BLOCK _ COMMENT _ END ) ) ; <nl> Assert . assertTrue ( Utils . isCommentType ( TokenTypes . COMMENT _ CONTENT ) ) ; <nl> } <nl> - <nl> - @ Test <nl> - public void testGetTokenFieldValue ( ) throws NoSuchMethodException { <nl> - Integer id = 0 ; <nl> - try { <nl> - / / overwrite static field with new value <nl> - Method method = Utils . class . getDeclaredMethod ( " getTokenFieldValue " , <nl> - Field . class , String . class ) ; <nl> - method . setAccessible ( true ) ; <nl> - method . invoke ( null , Field . class . getDeclaredField ( " modifiers " ) , " smth _ strange " ) ; <nl> - <nl> - fail ( ) ; <nl> - } <nl> - catch ( InvocationTargetException expected ) { <nl> - / / in method we throw IllegalStateException , <nl> - / / but JDK wrap that in InvocationTargetException <nl> - assertEquals ( IllegalStateException . class , expected . getCause ( ) . getClass ( ) ) ; <nl> - assertEquals ( " Failed to instantiate collection of Java tokens " , <nl> - expected . getCause ( ) . getMessage ( ) ) ; <nl> - } <nl> - catch ( Exception e ) { <nl> - fail ( ) ; <nl> - } <nl> - } <nl> - <nl> }

TEST DIFF:
diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputAnonymousClassInMethod . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputAnonymousClassInMethod . java 
 index 1ae7240 . . aafd491 100644 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputAnonymousClassInMethod . java 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputAnonymousClassInMethod . java 
 @ @ - 18 , 10 + 18 , 10 @ @ import java . io . FileFilter ; / / indent : 0 exp : 0 
 public class InputAnonymousClassInMethod { / / indent : 0 exp : 0 
 	 private void walkDir ( File dir , FileFilter fileFilter ) { / / indent : 8 exp : 2 warn 
 	 	 walkDir ( dir , new FileFilter ( ) { / / indent : 16 exp : 4 warn 
 - 	 	 	 @ Override / / indent : 24 exp : 8 warn 
 + 	 	 	 @ Override / / indent : 24 exp : 18 , 20 , 22 warn 
 	 	 	 public boolean accept ( File path ) { / / indent : 24 exp : 24 
 - 	 	 	 	 return ( path . isDirectory ( ) ) ; / / indent : 32 exp : 12 warn 
 - 	 	 	 } / / indent : 24 exp : 8 warn 
 + 	 	 	 	 return ( path . isDirectory ( ) ) ; / / indent : 32 exp : 20 , 22 , 24 warn 
 + 	 	 	 } / / indent : 24 exp : 18 , 20 , 22 warn 
 	 	 } ) ; / / indent : 16 exp : 16 
 	 } / / indent : 8 exp : 2 warn 
 } / / indent : 0 exp : 0 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidAnonymousClassIndent . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidAnonymousClassIndent . java 
 index 5508035 . . 5e84c1e 100644 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidAnonymousClassIndent . java 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidAnonymousClassIndent . java 
 @ @ - 25 , 7 + 25 , 7 @ @ public class InputInvalidAnonymousClassIndent { / / indent : 0 exp : 0 
 return new Thread ( ) ; / / indent : 20 exp : 20 
 } else { / / indent : 16 exp : 16 
 return new Thread ( ) ; / / indent : 20 exp : 20 
 - } } } ) ; / / indent : 16 exp : 17 warn 
 + } } } ) ; / / indent : 16 ioffset : 1 exp : 12 , 16 warn 
 return ; / / indent : 8 exp : 8 
 } / / indent : 4 exp : 4 
 } / / indent : 0 exp : 0 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidClassDefIndent . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidClassDefIndent . java 
 index c5b5224 . . 1640704 100644 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidClassDefIndent . java 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidClassDefIndent . java 
 @ @ - 134 , 7 + 134 , 7 @ @ final class InputValidClassDefIndent66 extends java . awt . event . MouseAdapter imple 
 public void actionPerformed ( ActionEvent e ) { / / indent : 12 exp : 12 
 
 } / / indent : 12 exp : 12 
 - } ) ; / / indent : 8 exp : 10 , 14 warn 
 + } ) ; / / indent : 8 exp : 10 warn 
 
 
 new JButton ( ) . addActionListener ( new ActionListener ( ) / / indent : 8 exp : 8 
 @ @ - 142 , 7 + 142 , 7 @ @ final class InputValidClassDefIndent66 extends java . awt . event . MouseAdapter imple 
 public void actionPerformed ( ActionEvent e ) { / / indent : 12 exp : 10 warn 
 
 } / / indent : 12 exp : 10 warn 
 - } ) ; / / indent : 6 exp : 8 , 12 warn 
 + } ) ; / / indent : 6 exp : 8 warn 
 
 
 new JButton ( ) . addActionListener ( new ActionListener ( ) / / indent : 8 exp : 8 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidForIndent . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidForIndent . java 
 index 492b4c1 . . a8ef88b 100644 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidForIndent . java 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidForIndent . java 
 @ @ - 74 , 7 + 74 , 7 @ @ public class InputInvalidForIndent { / / indent : 0 exp : 0 
 } / / indent : 8 exp : 8 
 
 for ( int i = 0 ; i < 10 ; i + + ) { / / indent : 8 exp : 8 
 - System . getProperty ( " foo " ) ; } / / indent : 12 exp : 8 warn 
 + System . getProperty ( " foo " ) ; } / / indent : 12 ioffset : 27 exp : 8 warn 
 
 for ( int i = 0 ; / / indent : 8 exp : 8 
 i < 10 ; i + + / / indent : 12 exp : > = 12 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidIfIndent . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidIfIndent . java 
 index 100535b . . b58081a 100644 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidIfIndent . java 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidIfIndent . java 
 @ @ - 90 , 7 + 90 , 7 @ @ public class InputInvalidIfIndent { / / indent : 0 exp : 0 
 if ( test ) / / indent : 9 exp : 8 warn 
 { / / indent : 9 exp : 8 warn 
 } else / / indent : 9 exp : 8 warn 
 - { / / indent : 7 exp : 9 warn 
 + { / / indent : 7 exp : 8 warn 
 } / / indent : 10 exp : 8 warn 
 
 / / lcurly for if and else on same line - - mixed braces / / indent : 8 exp : 8 
 @ @ - 230 , 7 + 230 , 7 @ @ System . getProperty ( " blah " ) ; / / indent : 0 exp : 12 warn 
 } / / indent : 16 exp : 16 
 
 if ( test ) { / / indent : 8 exp : 8 
 - System . getProperty ( " blah " ) ; } / / indent : 12 exp : 8 warn 
 + System . getProperty ( " blah " ) ; } / / indent : 12 ioffset : 28 exp : 8 warn 
 } / / indent : 4 exp : 4 
 
 public void parenIfTest ( ) { / / indent : 4 exp : 4 
 @ @ - 248 , 7 + 248 , 7 @ @ System . getProperty ( " blah " ) ; / / indent : 0 exp : 12 warn 
 } / / indent : 8 exp : 8 
 
 if / / indent : 8 exp : 8 
 - ( / / indent : 6 exp : 8 , 12 warn 
 + ( / / indent : 6 exp : 8 warn 
 test / / indent : 12 exp : 12 
 ) { / / indent : 6 exp : 8 warn 
 System . getProperty ( " blah " ) ; / / indent : 12 exp : 12 
 diff - - git a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidLabelWithWhileLoopIndent . java b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidLabelWithWhileLoopIndent . java 
 index 79db517 . . 80b2910 100644 
 - - - a / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidLabelWithWhileLoopIndent . java 
 + + + b / src / test / resources / com / puppycrawl / tools / checkstyle / checks / indentation / InputInvalidLabelWithWhileLoopIndent . java 
 @ @ - 15 , 8 + 15 , 8 @ @ package com . puppycrawl . tools . checkstyle . checks . indentation ; / / indent : 0 exp : 0 
 public class InputInvalidLabelWithWhileLoopIndent { / / indent : 0 exp : 0 
 
 public InputInvalidLabelWithWhileLoopIndent ( ) { / / indent : 4 exp : 4 
 - LOOP : / / indent : 9 exp : 8 warn 
 - while ( true ) { / / indent : 9 exp : 8 warn 
 + LOOP : / / indent : 9 exp : 4 , 8 warn 
 + while ( true ) { / / indent : 9 exp : 8 , 12 warn 
 break LOOP ; / / indent : 12 exp : 13 warn 
 } / / indent : 8 exp : 8 
 } / / indent : 4 exp : 4

NEAREST DIFF:
diff - - git a / pom . xml b / pom . xml 
 index 6ad8a45 . . d769c67 100644 
 - - - a / pom . xml 
 + + + b / pom . xml 
 @ @ - 1185 , 7 + 1185 , 7 @ @ 
 < regex > < pattern > . * . checks . javadoc . JavadocStyleCheck < / pattern > < branchRate > 89 < / branchRate > < lineRate > 98 < / lineRate > < / regex > 
 < regex > < pattern > . * . checks . javadoc . JavadocTagContinuationIndentationCheck < / pattern > < branchRate > 81 < / branchRate > < lineRate > 86 < / lineRate > < / regex > 
 < regex > < pattern > . * . checks . javadoc . JavadocTypeCheck < / pattern > < branchRate > 95 < / branchRate > < lineRate > 93 < / lineRate > < / regex > 
 - < regex > < pattern > . * . checks . javadoc . JavadocUtils < / pattern > < branchRate > 94 < / branchRate > < lineRate > 98 < / lineRate > < / regex > 
 + < regex > < pattern > . * . checks . javadoc . JavadocUtils < / pattern > < branchRate > 94 < / branchRate > < lineRate > 100 < / lineRate > < / regex > 
 < regex > < pattern > . * . checks . javadoc . SummaryJavadocCheck < / pattern > < branchRate > 93 < / branchRate > < lineRate > 100 < / lineRate > < / regex > 
 < regex > < pattern > . * . checks . javadoc . TagParser < / pattern > < branchRate > 92 < / branchRate > < lineRate > 98 < / lineRate > < / regex > 
 < regex > < pattern > . * . checks . javadoc . WriteTagCheck < / pattern > < branchRate > 100 < / branchRate > < lineRate > 91 < / lineRate > < / regex > 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / Utils . java b / src / main / java / com / puppycrawl / tools / checkstyle / Utils . java 
 index 235d03d . . 8b6c551 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / Utils . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / Utils . java 
 @ @ - 58 , 7 + 58 , 7 @ @ public final class Utils { 
 } 
 
 final String name = f . getName ( ) ; 
 - final int tokenValue = getTokenFieldValue ( f , name ) ; 
 + final int tokenValue = getIntFromField ( f , name ) ; 
 builder . put ( name , tokenValue ) ; 
 if ( tokenValue > tempTokenValueToName . length - 1 ) { 
 final String [ ] temp = new String [ tokenValue + 1 ] ; 
 @ @ - 365 , 19 + 365 , 21 @ @ public final class Utils { 
 } 
 
 / * * 
 - * That method exists as workaround for code - coverage 100 % target to let test 
 - * catch block ( originally it was in static area ) . 
 - * @ param field token field 
 - * @ param name token name 
 - * @ return value of field 
 + * Gets the value of a static or instance field of type int or of another primitive type 
 + * convertible to type int via a widening conversion . Does not throw any checked exceptions . 
 + * @ param field from which the int should be extracted 
 + * @ param object to extract the int value from 
 + * @ return the value of the field converted to type int 
 + * @ throws IllegalStateException if this Field object is enforcing Java language access control 
 + * and the underlying field is inaccessible 
 + * @ see Field # getInt ( Object ) 
 * / 
 - private static int getTokenFieldValue ( Field field , String name ) { 
 + public static int getIntFromField ( Field field , Object object ) { 
 try { 
 - return field . getInt ( name ) ; 
 + return field . getInt ( object ) ; 
 } 
 - catch ( final IllegalArgumentException | IllegalAccessException e ) { 
 - throw new IllegalStateException ( 
 - " Failed to instantiate collection of Java tokens " , e ) ; 
 + catch ( final IllegalAccessException exception ) { 
 + throw new IllegalStateException ( exception ) ; 
 } 
 } 
 } 
 diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocUtils . java b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocUtils . java 
 index 45494f1 . . 9bf4e44 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocUtils . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / checks / javadoc / JavadocUtils . java 
 @ @ - 27 , 6 + 27 , 7 @ @ import java . util . regex . Pattern ; 
 
 import com . google . common . collect . ImmutableMap ; 
 import com . google . common . collect . Lists ; 
 + import com . puppycrawl . tools . checkstyle . Utils ; 
 import com . puppycrawl . tools . checkstyle . api . DetailAST ; 
 import com . puppycrawl . tools . checkstyle . api . DetailNode ; 
 import com . puppycrawl . tools . checkstyle . api . JavadocTagInfo ; 
 @ @ - 62 , 25 + 63 , 18 @ @ public final class JavadocUtils { 
 
 final String name = f . getName ( ) ; 
 
 - try { 
 - final int tokenValue = f . getInt ( name ) ; 
 - builder . put ( name , tokenValue ) ; 
 - if ( tokenValue > tempTokenValueToName . length - 1 ) { 
 - final String [ ] temp = new String [ tokenValue + 1 ] ; 
 - System . arraycopy ( tempTokenValueToName , 0 , temp , 0 , tempTokenValueToName . length ) ; 
 - tempTokenValueToName = temp ; 
 - } 
 - if ( tokenValue = = - 1 ) { 
 - tempTokenValueToName [ 0 ] = name ; 
 - } 
 - else { 
 - tempTokenValueToName [ tokenValue ] = name ; 
 - } 
 + final int tokenValue = Utils . getIntFromField ( f , name ) ; 
 + builder . put ( name , tokenValue ) ; 
 + if ( tokenValue > tempTokenValueToName . length - 1 ) { 
 + final String [ ] temp = new String [ tokenValue + 1 ] ; 
 + System . arraycopy ( tempTokenValueToName , 0 , temp , 0 , tempTokenValueToName . length ) ; 
 + tempTokenValueToName = temp ; 
 + } 
 + if ( tokenValue = = - 1 ) { 
 + tempTokenValueToName [ 0 ] = name ; 
 } 
 - catch ( IllegalAccessException ex ) { 
 - / / rethrow as unchecked exception 
 - throw new IllegalStateException ( 
 - " Failed to instantiate collection of Javadoc tokens " , ex ) ; 
 + else { 
 + tempTokenValueToName [ tokenValue ] = name ; 
 } 
 } 
 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / UtilsTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / UtilsTest . java 
 index 39327df . . 253742b 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / UtilsTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / UtilsTest . java 
 @ @ - 28 , 8 + 28 , 6 @ @ import java . io . File ; 
 import java . io . IOException ; 
 import java . lang . reflect . Constructor ; 
 import java . lang . reflect . Field ; 
 - import java . lang . reflect . InvocationTargetException ; 
 - import java . lang . reflect . Method ; 
 import java . lang . reflect . Modifier ; 
 import java . util . Dictionary ; 
 
 @ @ - 172 , 6 + 170 , 25 @ @ public class UtilsTest { 
 } 
 
 @ Test 
 + public void testGetIntFromAccessibleField ( ) throws NoSuchFieldException { 
 + Field field = Integer . class . getField ( " MAX _ VALUE " ) ; 
 + 
 + assertEquals ( Integer . MAX _ VALUE , Utils . getIntFromField ( field , 0 ) ) ; 
 + } 
 + 
 + @ Test 
 + public void testGetIntFromInaccessibleField ( ) throws NoSuchFieldException { 
 + Field field = Integer . class . getDeclaredField ( " value " ) ; 
 + 
 + try { 
 + Utils . getIntFromField ( field , 0 ) ; 
 + } 
 + catch ( IllegalStateException expected ) { 
 + / / expected 
 + } 
 + } 
 + 
 + @ Test 
 public void testTokenValueIncorrect ( ) throws NoSuchMethodException { 
 Integer id = Integer . MAX _ VALUE - 1 ; 
 try { 
 @ @ - 252 , 29 + 269 , 4 @ @ public class UtilsTest { 
 Assert . assertTrue ( Utils . isCommentType ( TokenTypes . BLOCK _ COMMENT _ END ) ) ; 
 Assert . assertTrue ( Utils . isCommentType ( TokenTypes . COMMENT _ CONTENT ) ) ; 
 } 
 - 
 - @ Test 
 - public void testGetTokenFieldValue ( ) throws NoSuchMethodException { 
 - Integer id = 0 ; 
 - try { 
 - / / overwrite static field with new value 
 - Method method = Utils . class . getDeclaredMethod ( " getTokenFieldValue " , 
 - Field . class , String . class ) ; 
 - method . setAccessible ( true ) ; 
 - method . invoke ( null , Field . class . getDeclaredField ( " modifiers " ) , " smth _ strange " ) ; 
 - 
 - fail ( ) ; 
 - } 
 - catch ( InvocationTargetException expected ) { 
 - / / in method we throw IllegalStateException , 
 - / / but JDK wrap that in InvocationTargetException 
 - assertEquals ( IllegalStateException . class , expected . getCause ( ) . getClass ( ) ) ; 
 - assertEquals ( " Failed to instantiate collection of Java tokens " , 
 - expected . getCause ( ) . getMessage ( ) ) ; 
 - } 
 - catch ( Exception e ) { 
 - fail ( ) ; 
 - } 
 - } 
 - 
 }
