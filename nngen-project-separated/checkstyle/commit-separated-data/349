BLEU SCORE: 0.13485111859503685

TEST MSG: doc : releasenotes for 8 . 8 . 1
GENERATED MSG: doc : 8 . 3 release notes

TEST DIFF (one line): diff - - git a / src / xdocs / releasenotes . xml b / src / xdocs / releasenotes . xml <nl> index 3dd8eda . . de42ad9 100644 <nl> - - - a / src / xdocs / releasenotes . xml <nl> + + + b / src / xdocs / releasenotes . xml <nl> @ @ - 16 , 6 + 16 , 168 @ @ <nl> < body > <nl> < ! - - placeholder for a new section - - > <nl> <nl> + < section name = " Release 8 . 8 . 1 " > <nl> + < p > Bug fixes : < / p > <nl> + < ul > <nl> + < li > <nl> + Indentaton : super ( ) is ignored . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 3808 " > # 3808 < / a > <nl> + < / li > <nl> + < li > <nl> + IllegalType : support arrays as types . Author : kazachka < a href = " https : / / github . com / checkstyle / checkstyle / issues / 4429 " > # 4429 < / a > <nl> + < / li > <nl> + < / ul > <nl> + < p > Notes : < / p > <nl> + < ul > <nl> + < li > <nl> + spelling : block indentation . Author : Josh Soref <nl> + < / li > <nl> + < li > <nl> + spelling : code . Author : Josh Soref <nl> + < / li > <nl> + < li > <nl> + spelling : grammar . Author : Josh Soref <nl> + < / li > <nl> + < li > <nl> + spelling : comments . Author : Josh Soref <nl> + < / li > <nl> + < li > <nl> + spelling : checkstyle profile . Author : Josh Soref <nl> + < / li > <nl> + < li > <nl> + wercker is failing with uncler message after release on non - rebased branches . Author : Vladislav Lisetskii < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5452 " > # 5452 < / a > <nl> + < / li > <nl> + < li > <nl> + Add openjdk8 / 9 to Travis / AppVeyor . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5663 " > # 5663 < / a > <nl> + < / li > <nl> + < li > <nl> + Remove usage of com . oracle . net package . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5660 " > # 5660 < / a > <nl> + < / li > <nl> + < li > <nl> + generated jacoco . exec file needs to be moved out of base directory . Author : Roman Ivanov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5640 " > # 5640 < / a > <nl> + < / li > <nl> + < li > <nl> + doc : fixed improper dtd comment examples . Author : rnveach <nl> + < / li > <nl> + < li > <nl> + Fix PMD6 violations ( bestpractices ) . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5633 " > # 5633 < / a > <nl> + < / li > <nl> + < li > <nl> + spelling : Correct some words in the German translation . Author : Matthias Ronge <nl> + < / li > <nl> + < li > <nl> + Revert config : bump pmd plugin to 3 . 9 . 0 version . Author : Roman Ivanov <nl> + < / li > <nl> + < li > <nl> + Drop findbugs . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5622 " > # 5622 < / a > <nl> + < / li > <nl> + < li > <nl> + Replace java . awt . event . InputEvent # getModifiers ( ) with getModifiersEx ( ) . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5613 " > # 5613 < / a > <nl> + < / li > <nl> + < li > <nl> + doc : fixed improper private method documentation . Author : rnveach <nl> + < / li > <nl> + < li > <nl> + Use Jacoco instead of Cobertura for coverage check . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5586 " > # 5586 < / a > <nl> + < / li > <nl> + < li > <nl> + doc : clearly explain commit message requirements . Author : Roman Ivanov <nl> + < / li > <nl> + < li > <nl> + Jacoco workaround for MainTest . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5553 " > # 5553 < / a > <nl> + < / li > <nl> + < li > <nl> + Split pitest - checkstyle - common . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5592 " > # 5592 < / a > <nl> + < / li > <nl> + < li > <nl> + Resolve all violations from SonarQube at sonarcloud . io . Author : Roman Ivanov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5604 " > # 5604 < / a > <nl> + < / li > <nl> + < li > <nl> + 100 % Coverage for com . puppycrawl . tools . checkstyle . DefaultConfiguration . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5591 " > # 5591 < / a > <nl> + < / li > <nl> + < li > <nl> + 100 % coverage for com . puppycrawl . tools . checkstyle . XMLLogger . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5597 " > # 5597 < / a > <nl> + < / li > <nl> + < li > <nl> + 100 % coverage for com . puppycrawl . tools . checkstyle . Checker . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5599 " > # 5599 < / a > <nl> + < / li > <nl> + < li > <nl> + New project badges at sonarcloud . io . Author : Roman Ivanov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5605 " > # 5605 < / a > <nl> + < / li > <nl> + < li > <nl> + 100 % coverage for com . puppycrawl . tools . checkstyle . PackageObjectFactory . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5595 " > # 5595 < / a > <nl> + < / li > <nl> + < li > <nl> + Switch to Powermock 2 . 0 . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5584 " > # 5584 < / a > <nl> + < / li > <nl> + < li > <nl> + fix indentation in all sources of xdoc . Author : Varun Upadhyay < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5489 " > # 5489 < / a > <nl> + < / li > <nl> + < li > <nl> + doc : typos and grammar fixes on website main page . Author : Michael Keppler <nl> + < / li > <nl> + < li > <nl> + PackageNamesLoaderTest refactoring . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5551 " > # 5551 < / a > <nl> + < / li > <nl> + < li > <nl> + Remove usage of javax . xml . bind . XmlElement ( deprecated in JDK9 ) . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5582 " > # 5582 < / a > <nl> + < / li > <nl> + < li > <nl> + Refactoring of JavadocUtils static init . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5555 " > # 5555 < / a > <nl> + < / li > <nl> + < li > <nl> + Switch to powermock - api - mockito2 . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5558 " > # 5558 < / a > <nl> + < / li > <nl> + < li > <nl> + IllegalStateException message text was changed in JDK9 . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5561 " > # 5561 < / a > <nl> + < / li > <nl> + < li > <nl> + upgrade to spotbugs 3 . 1 . 1 cause problems with execution on maven 3 . 3 . 9 . Author : Roman Ivanov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5525 " > # 5525 < / a > <nl> + < / li > <nl> + < li > <nl> + doc : InterfaceIsType description , SwingConstants is an interface , not a class . . Author : Tobias Weimer <nl> + < / li > <nl> + < li > <nl> + Explicitly throw an exception from ClassResolver . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5546 " > # 5546 < / a > <nl> + < / li > <nl> + < li > <nl> + Strive for 100 % mutation coverage . Author : Roman Ivanov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 3708 " > # 3708 < / a > <nl> + < / li > <nl> + < li > <nl> + minimize pitest - checkstyle - utils profile execution . Author : Roman Ivanov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 4605 " > # 4605 < / a > <nl> + < / li > <nl> + < li > <nl> + pitest : increase mutation coverage for pitest - checks - coding profile to 100 % . Author : Roman Ivanov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5008 " > # 5008 < / a > <nl> + < / li > <nl> + < li > <nl> + doc : extend examples for FinalLocalVariable . Author : Roman Ivanov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5239 " > # 5239 < / a > <nl> + < / li > <nl> + < li > <nl> + Remove dependency on tools . jar . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5431 " > # 5431 < / a > <nl> + < / li > <nl> + < li > <nl> + Fix violations in local IntelliJ 2017 . 3 . Author : Roman Ivanov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5409 " > # 5409 < / a > <nl> + < / li > <nl> + < li > <nl> + Intellij Idea inspection violations from 2017 . 2 . 4 or 2017 . 2 . 6 . Author : Roman Ivanov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5069 " > # 5069 < / a > <nl> + < / li > <nl> + < li > <nl> + Jacoco coverage report . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5516 " > # 5516 < / a > <nl> + < / li > <nl> + < li > <nl> + Use StringBuilder instead of StringBuffer as it offers high performan â € ¦ . Author : reudismam < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5505 " > # 5505 < / a > <nl> + < / li > <nl> + < li > <nl> + AvoidEscapedUnicodeCharactersCheck : re - organize regular expressions . Author : SunriseCoder < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5427 " > # 5427 < / a > <nl> + < / li > <nl> + < li > <nl> + investigate and resolve compilation warnings . Author : Andrey Mosin < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5480 " > # 5480 < / a > <nl> + < / li > <nl> + < li > <nl> + wercker build problem with hibernate - search . Author : Roman Ivanov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5499 " > # 5499 < / a > <nl> + < / li > <nl> + < / ul > <nl> + < / section > <nl> + <nl> < section name = " Release 8 . 8 " > <nl> < p > Breaking backward compatibility : < / p > <nl> < ul >
NEAREST DIFF (one line): diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / api / AbstractCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / api / AbstractCheck . java <nl> index 430257d . . 81eead9 100644 <nl> - - - a / src / main / java / com / puppycrawl / tools / checkstyle / api / AbstractCheck . java <nl> + + + b / src / main / java / com / puppycrawl / tools / checkstyle / api / AbstractCheck . java <nl> @ @ - 39 , 15 + 39 , 15 @ @ public abstract class AbstractCheck extends AbstractViolationReporter { <nl> / * * Default tab width for column reporting . * / <nl> private static final int DEFAULT _ TAB _ WIDTH = 8 ; <nl> <nl> + / * * <nl> + * The check context . <nl> + * @ noinspection ThreadLocalNotStaticFinal <nl> + * / <nl> + private final ThreadLocal < FileContext > context = ThreadLocal . withInitial ( FileContext : : new ) ; <nl> + <nl> / * * The tokens the check is interested in . * / <nl> private final Set < String > tokens = new HashSet < > ( ) ; <nl> <nl> - / * * The sorted set for collecting messages . * / <nl> - private final SortedSet < LocalizedMessage > messages = new TreeSet < > ( ) ; <nl> - <nl> - / * * The current file contents . * / <nl> - private FileContents fileContents ; <nl> - <nl> / * * The tab width for column reporting . * / <nl> private int tabWidth = DEFAULT _ TAB _ WIDTH ; <nl> <nl> @ @ - 112 , 14 + 112 , 14 @ @ public abstract class AbstractCheck extends AbstractViolationReporter { <nl> * @ return the sorted set of { @ link LocalizedMessage } . <nl> * / <nl> public SortedSet < LocalizedMessage > getMessages ( ) { <nl> - return new TreeSet < > ( messages ) ; <nl> + return new TreeSet < > ( context . get ( ) . messages ) ; <nl> } <nl> <nl> / * * <nl> * Clears the sorted set of { @ link LocalizedMessage } of the check . <nl> * / <nl> public final void clearMessages ( ) { <nl> - messages . clear ( ) ; <nl> + context . get ( ) . messages . clear ( ) ; <nl> } <nl> <nl> / * * <nl> @ @ - 176 , 7 + 176 , 7 @ @ public abstract class AbstractCheck extends AbstractViolationReporter { <nl> * @ return the file contents <nl> * / <nl> public final String [ ] getLines ( ) { <nl> - return fileContents . getLines ( ) ; <nl> + return context . get ( ) . fileContents . getLines ( ) ; <nl> } <nl> <nl> / * * <nl> @ @ - 185 , 7 + 185 , 7 @ @ public abstract class AbstractCheck extends AbstractViolationReporter { <nl> * @ return the line from the file contents <nl> * / <nl> public final String getLine ( int index ) { <nl> - return fileContents . getLine ( index ) ; <nl> + return context . get ( ) . fileContents . getLine ( index ) ; <nl> } <nl> <nl> / * * <nl> @ @ - 193 , 7 + 193 , 7 @ @ public abstract class AbstractCheck extends AbstractViolationReporter { <nl> * @ param contents the manager <nl> * / <nl> public final void setFileContents ( FileContents contents ) { <nl> - fileContents = contents ; <nl> + context . get ( ) . fileContents = contents ; <nl> } <nl> <nl> / * * <nl> @ @ - 202 , 7 + 202 , 7 @ @ public abstract class AbstractCheck extends AbstractViolationReporter { <nl> * @ noinspection WeakerAccess <nl> * / <nl> public final FileContents getFileContents ( ) { <nl> - return fileContents ; <nl> + return context . get ( ) . fileContents ; <nl> } <nl> <nl> / * * <nl> @ @ - 251 , 7 + 251 , 7 @ @ public abstract class AbstractCheck extends AbstractViolationReporter { <nl> <nl> @ Override <nl> public final void log ( int line , String key , Object . . . args ) { <nl> - messages . add ( <nl> + context . get ( ) . messages . add ( <nl> new LocalizedMessage ( <nl> line , <nl> getMessageBundle ( ) , <nl> @ @ - 268 , 7 + 268 , 7 @ @ public abstract class AbstractCheck extends AbstractViolationReporter { <nl> Object . . . args ) { <nl> final int col = 1 + CommonUtils . lengthExpandedTabs ( <nl> getLines ( ) [ lineNo - 1 ] , colNo , tabWidth ) ; <nl> - messages . add ( <nl> + context . get ( ) . messages . add ( <nl> new LocalizedMessage ( <nl> lineNo , <nl> col , <nl> @ @ - 280 , 4 + 280 , 15 @ @ public abstract class AbstractCheck extends AbstractViolationReporter { <nl> getClass ( ) , <nl> getCustomMessages ( ) . get ( key ) ) ) ; <nl> } <nl> + <nl> + / * * <nl> + * The actual context holder . <nl> + * / <nl> + private static class FileContext { <nl> + / * * The sorted set for collecting messages . * / <nl> + private final SortedSet < LocalizedMessage > messages = new TreeSet < > ( ) ; <nl> + <nl> + / * * The current file contents . * / <nl> + private FileContents fileContents ; <nl> + } <nl> } <nl> diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / api / AbstractCheckTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / api / AbstractCheckTest . java <nl> index 13d3dd2 . . f9e89d8 100644 <nl> - - - a / src / test / java / com / puppycrawl / tools / checkstyle / api / AbstractCheckTest . java <nl> + + + b / src / test / java / com / puppycrawl / tools / checkstyle / api / AbstractCheckTest . java <nl> @ @ - 26 , 13 + 26 , 11 @ @ import static org . mockito . Mockito . verify ; <nl> import java . io . File ; <nl> import java . nio . charset . Charset ; <nl> import java . util . Arrays ; <nl> - import java . util . Collection ; <nl> import java . util . HashMap ; <nl> import java . util . Map ; <nl> <nl> import org . junit . Assert ; <nl> import org . junit . Test ; <nl> - import org . mockito . internal . util . reflection . Whitebox ; <nl> <nl> import com . puppycrawl . tools . checkstyle . AbstractPathTestSupport ; <nl> import com . puppycrawl . tools . checkstyle . utils . CommonUtils ; <nl> @ @ - 218 , 16 + 216 , 13 @ @ public class AbstractCheckTest extends AbstractPathTestSupport { <nl> } <nl> <nl> @ Test <nl> - @ SuppressWarnings ( " unchecked " ) <nl> public void testClearMessages ( ) { <nl> final AbstractCheck check = new DummyAbstractCheck ( ) ; <nl> <nl> check . log ( 0 , " key " , " args " ) ; <nl> - final Collection < LocalizedMessage > messages = <nl> - ( Collection < LocalizedMessage > ) Whitebox . getInternalState ( check , " messages " ) ; <nl> - Assert . assertEquals ( " Invalid message size " , 1 , messages . size ( ) ) ; <nl> + Assert . assertEquals ( " Invalid message size " , 1 , check . getMessages ( ) . size ( ) ) ; <nl> check . clearMessages ( ) ; <nl> - Assert . assertEquals ( " Invalid message size " , 0 , messages . size ( ) ) ; <nl> + Assert . assertEquals ( " Invalid message size " , 0 , check . getMessages ( ) . size ( ) ) ; <nl> } <nl> <nl> private static final class DummyAbstractCheck extends AbstractCheck {

TEST DIFF:
diff - - git a / src / xdocs / releasenotes . xml b / src / xdocs / releasenotes . xml 
 index 3dd8eda . . de42ad9 100644 
 - - - a / src / xdocs / releasenotes . xml 
 + + + b / src / xdocs / releasenotes . xml 
 @ @ - 16 , 6 + 16 , 168 @ @ 
 < body > 
 < ! - - placeholder for a new section - - > 
 
 + < section name = " Release 8 . 8 . 1 " > 
 + < p > Bug fixes : < / p > 
 + < ul > 
 + < li > 
 + Indentaton : super ( ) is ignored . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 3808 " > # 3808 < / a > 
 + < / li > 
 + < li > 
 + IllegalType : support arrays as types . Author : kazachka < a href = " https : / / github . com / checkstyle / checkstyle / issues / 4429 " > # 4429 < / a > 
 + < / li > 
 + < / ul > 
 + < p > Notes : < / p > 
 + < ul > 
 + < li > 
 + spelling : block indentation . Author : Josh Soref 
 + < / li > 
 + < li > 
 + spelling : code . Author : Josh Soref 
 + < / li > 
 + < li > 
 + spelling : grammar . Author : Josh Soref 
 + < / li > 
 + < li > 
 + spelling : comments . Author : Josh Soref 
 + < / li > 
 + < li > 
 + spelling : checkstyle profile . Author : Josh Soref 
 + < / li > 
 + < li > 
 + wercker is failing with uncler message after release on non - rebased branches . Author : Vladislav Lisetskii < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5452 " > # 5452 < / a > 
 + < / li > 
 + < li > 
 + Add openjdk8 / 9 to Travis / AppVeyor . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5663 " > # 5663 < / a > 
 + < / li > 
 + < li > 
 + Remove usage of com . oracle . net package . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5660 " > # 5660 < / a > 
 + < / li > 
 + < li > 
 + generated jacoco . exec file needs to be moved out of base directory . Author : Roman Ivanov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5640 " > # 5640 < / a > 
 + < / li > 
 + < li > 
 + doc : fixed improper dtd comment examples . Author : rnveach 
 + < / li > 
 + < li > 
 + Fix PMD6 violations ( bestpractices ) . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5633 " > # 5633 < / a > 
 + < / li > 
 + < li > 
 + spelling : Correct some words in the German translation . Author : Matthias Ronge 
 + < / li > 
 + < li > 
 + Revert config : bump pmd plugin to 3 . 9 . 0 version . Author : Roman Ivanov 
 + < / li > 
 + < li > 
 + Drop findbugs . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5622 " > # 5622 < / a > 
 + < / li > 
 + < li > 
 + Replace java . awt . event . InputEvent # getModifiers ( ) with getModifiersEx ( ) . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5613 " > # 5613 < / a > 
 + < / li > 
 + < li > 
 + doc : fixed improper private method documentation . Author : rnveach 
 + < / li > 
 + < li > 
 + Use Jacoco instead of Cobertura for coverage check . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5586 " > # 5586 < / a > 
 + < / li > 
 + < li > 
 + doc : clearly explain commit message requirements . Author : Roman Ivanov 
 + < / li > 
 + < li > 
 + Jacoco workaround for MainTest . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5553 " > # 5553 < / a > 
 + < / li > 
 + < li > 
 + Split pitest - checkstyle - common . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5592 " > # 5592 < / a > 
 + < / li > 
 + < li > 
 + Resolve all violations from SonarQube at sonarcloud . io . Author : Roman Ivanov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5604 " > # 5604 < / a > 
 + < / li > 
 + < li > 
 + 100 % Coverage for com . puppycrawl . tools . checkstyle . DefaultConfiguration . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5591 " > # 5591 < / a > 
 + < / li > 
 + < li > 
 + 100 % coverage for com . puppycrawl . tools . checkstyle . XMLLogger . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5597 " > # 5597 < / a > 
 + < / li > 
 + < li > 
 + 100 % coverage for com . puppycrawl . tools . checkstyle . Checker . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5599 " > # 5599 < / a > 
 + < / li > 
 + < li > 
 + New project badges at sonarcloud . io . Author : Roman Ivanov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5605 " > # 5605 < / a > 
 + < / li > 
 + < li > 
 + 100 % coverage for com . puppycrawl . tools . checkstyle . PackageObjectFactory . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5595 " > # 5595 < / a > 
 + < / li > 
 + < li > 
 + Switch to Powermock 2 . 0 . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5584 " > # 5584 < / a > 
 + < / li > 
 + < li > 
 + fix indentation in all sources of xdoc . Author : Varun Upadhyay < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5489 " > # 5489 < / a > 
 + < / li > 
 + < li > 
 + doc : typos and grammar fixes on website main page . Author : Michael Keppler 
 + < / li > 
 + < li > 
 + PackageNamesLoaderTest refactoring . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5551 " > # 5551 < / a > 
 + < / li > 
 + < li > 
 + Remove usage of javax . xml . bind . XmlElement ( deprecated in JDK9 ) . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5582 " > # 5582 < / a > 
 + < / li > 
 + < li > 
 + Refactoring of JavadocUtils static init . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5555 " > # 5555 < / a > 
 + < / li > 
 + < li > 
 + Switch to powermock - api - mockito2 . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5558 " > # 5558 < / a > 
 + < / li > 
 + < li > 
 + IllegalStateException message text was changed in JDK9 . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5561 " > # 5561 < / a > 
 + < / li > 
 + < li > 
 + upgrade to spotbugs 3 . 1 . 1 cause problems with execution on maven 3 . 3 . 9 . Author : Roman Ivanov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5525 " > # 5525 < / a > 
 + < / li > 
 + < li > 
 + doc : InterfaceIsType description , SwingConstants is an interface , not a class . . Author : Tobias Weimer 
 + < / li > 
 + < li > 
 + Explicitly throw an exception from ClassResolver . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5546 " > # 5546 < / a > 
 + < / li > 
 + < li > 
 + Strive for 100 % mutation coverage . Author : Roman Ivanov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 3708 " > # 3708 < / a > 
 + < / li > 
 + < li > 
 + minimize pitest - checkstyle - utils profile execution . Author : Roman Ivanov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 4605 " > # 4605 < / a > 
 + < / li > 
 + < li > 
 + pitest : increase mutation coverage for pitest - checks - coding profile to 100 % . Author : Roman Ivanov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5008 " > # 5008 < / a > 
 + < / li > 
 + < li > 
 + doc : extend examples for FinalLocalVariable . Author : Roman Ivanov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5239 " > # 5239 < / a > 
 + < / li > 
 + < li > 
 + Remove dependency on tools . jar . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5431 " > # 5431 < / a > 
 + < / li > 
 + < li > 
 + Fix violations in local IntelliJ 2017 . 3 . Author : Roman Ivanov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5409 " > # 5409 < / a > 
 + < / li > 
 + < li > 
 + Intellij Idea inspection violations from 2017 . 2 . 4 or 2017 . 2 . 6 . Author : Roman Ivanov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5069 " > # 5069 < / a > 
 + < / li > 
 + < li > 
 + Jacoco coverage report . Author : Pavel Bludov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5516 " > # 5516 < / a > 
 + < / li > 
 + < li > 
 + Use StringBuilder instead of StringBuffer as it offers high performan â € ¦ . Author : reudismam < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5505 " > # 5505 < / a > 
 + < / li > 
 + < li > 
 + AvoidEscapedUnicodeCharactersCheck : re - organize regular expressions . Author : SunriseCoder < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5427 " > # 5427 < / a > 
 + < / li > 
 + < li > 
 + investigate and resolve compilation warnings . Author : Andrey Mosin < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5480 " > # 5480 < / a > 
 + < / li > 
 + < li > 
 + wercker build problem with hibernate - search . Author : Roman Ivanov < a href = " https : / / github . com / checkstyle / checkstyle / issues / 5499 " > # 5499 < / a > 
 + < / li > 
 + < / ul > 
 + < / section > 
 + 
 < section name = " Release 8 . 8 " > 
 < p > Breaking backward compatibility : < / p > 
 < ul >

NEAREST DIFF:
diff - - git a / src / main / java / com / puppycrawl / tools / checkstyle / api / AbstractCheck . java b / src / main / java / com / puppycrawl / tools / checkstyle / api / AbstractCheck . java 
 index 430257d . . 81eead9 100644 
 - - - a / src / main / java / com / puppycrawl / tools / checkstyle / api / AbstractCheck . java 
 + + + b / src / main / java / com / puppycrawl / tools / checkstyle / api / AbstractCheck . java 
 @ @ - 39 , 15 + 39 , 15 @ @ public abstract class AbstractCheck extends AbstractViolationReporter { 
 / * * Default tab width for column reporting . * / 
 private static final int DEFAULT _ TAB _ WIDTH = 8 ; 
 
 + / * * 
 + * The check context . 
 + * @ noinspection ThreadLocalNotStaticFinal 
 + * / 
 + private final ThreadLocal < FileContext > context = ThreadLocal . withInitial ( FileContext : : new ) ; 
 + 
 / * * The tokens the check is interested in . * / 
 private final Set < String > tokens = new HashSet < > ( ) ; 
 
 - / * * The sorted set for collecting messages . * / 
 - private final SortedSet < LocalizedMessage > messages = new TreeSet < > ( ) ; 
 - 
 - / * * The current file contents . * / 
 - private FileContents fileContents ; 
 - 
 / * * The tab width for column reporting . * / 
 private int tabWidth = DEFAULT _ TAB _ WIDTH ; 
 
 @ @ - 112 , 14 + 112 , 14 @ @ public abstract class AbstractCheck extends AbstractViolationReporter { 
 * @ return the sorted set of { @ link LocalizedMessage } . 
 * / 
 public SortedSet < LocalizedMessage > getMessages ( ) { 
 - return new TreeSet < > ( messages ) ; 
 + return new TreeSet < > ( context . get ( ) . messages ) ; 
 } 
 
 / * * 
 * Clears the sorted set of { @ link LocalizedMessage } of the check . 
 * / 
 public final void clearMessages ( ) { 
 - messages . clear ( ) ; 
 + context . get ( ) . messages . clear ( ) ; 
 } 
 
 / * * 
 @ @ - 176 , 7 + 176 , 7 @ @ public abstract class AbstractCheck extends AbstractViolationReporter { 
 * @ return the file contents 
 * / 
 public final String [ ] getLines ( ) { 
 - return fileContents . getLines ( ) ; 
 + return context . get ( ) . fileContents . getLines ( ) ; 
 } 
 
 / * * 
 @ @ - 185 , 7 + 185 , 7 @ @ public abstract class AbstractCheck extends AbstractViolationReporter { 
 * @ return the line from the file contents 
 * / 
 public final String getLine ( int index ) { 
 - return fileContents . getLine ( index ) ; 
 + return context . get ( ) . fileContents . getLine ( index ) ; 
 } 
 
 / * * 
 @ @ - 193 , 7 + 193 , 7 @ @ public abstract class AbstractCheck extends AbstractViolationReporter { 
 * @ param contents the manager 
 * / 
 public final void setFileContents ( FileContents contents ) { 
 - fileContents = contents ; 
 + context . get ( ) . fileContents = contents ; 
 } 
 
 / * * 
 @ @ - 202 , 7 + 202 , 7 @ @ public abstract class AbstractCheck extends AbstractViolationReporter { 
 * @ noinspection WeakerAccess 
 * / 
 public final FileContents getFileContents ( ) { 
 - return fileContents ; 
 + return context . get ( ) . fileContents ; 
 } 
 
 / * * 
 @ @ - 251 , 7 + 251 , 7 @ @ public abstract class AbstractCheck extends AbstractViolationReporter { 
 
 @ Override 
 public final void log ( int line , String key , Object . . . args ) { 
 - messages . add ( 
 + context . get ( ) . messages . add ( 
 new LocalizedMessage ( 
 line , 
 getMessageBundle ( ) , 
 @ @ - 268 , 7 + 268 , 7 @ @ public abstract class AbstractCheck extends AbstractViolationReporter { 
 Object . . . args ) { 
 final int col = 1 + CommonUtils . lengthExpandedTabs ( 
 getLines ( ) [ lineNo - 1 ] , colNo , tabWidth ) ; 
 - messages . add ( 
 + context . get ( ) . messages . add ( 
 new LocalizedMessage ( 
 lineNo , 
 col , 
 @ @ - 280 , 4 + 280 , 15 @ @ public abstract class AbstractCheck extends AbstractViolationReporter { 
 getClass ( ) , 
 getCustomMessages ( ) . get ( key ) ) ) ; 
 } 
 + 
 + / * * 
 + * The actual context holder . 
 + * / 
 + private static class FileContext { 
 + / * * The sorted set for collecting messages . * / 
 + private final SortedSet < LocalizedMessage > messages = new TreeSet < > ( ) ; 
 + 
 + / * * The current file contents . * / 
 + private FileContents fileContents ; 
 + } 
 } 
 diff - - git a / src / test / java / com / puppycrawl / tools / checkstyle / api / AbstractCheckTest . java b / src / test / java / com / puppycrawl / tools / checkstyle / api / AbstractCheckTest . java 
 index 13d3dd2 . . f9e89d8 100644 
 - - - a / src / test / java / com / puppycrawl / tools / checkstyle / api / AbstractCheckTest . java 
 + + + b / src / test / java / com / puppycrawl / tools / checkstyle / api / AbstractCheckTest . java 
 @ @ - 26 , 13 + 26 , 11 @ @ import static org . mockito . Mockito . verify ; 
 import java . io . File ; 
 import java . nio . charset . Charset ; 
 import java . util . Arrays ; 
 - import java . util . Collection ; 
 import java . util . HashMap ; 
 import java . util . Map ; 
 
 import org . junit . Assert ; 
 import org . junit . Test ; 
 - import org . mockito . internal . util . reflection . Whitebox ; 
 
 import com . puppycrawl . tools . checkstyle . AbstractPathTestSupport ; 
 import com . puppycrawl . tools . checkstyle . utils . CommonUtils ; 
 @ @ - 218 , 16 + 216 , 13 @ @ public class AbstractCheckTest extends AbstractPathTestSupport { 
 } 
 
 @ Test 
 - @ SuppressWarnings ( " unchecked " ) 
 public void testClearMessages ( ) { 
 final AbstractCheck check = new DummyAbstractCheck ( ) ; 
 
 check . log ( 0 , " key " , " args " ) ; 
 - final Collection < LocalizedMessage > messages = 
 - ( Collection < LocalizedMessage > ) Whitebox . getInternalState ( check , " messages " ) ; 
 - Assert . assertEquals ( " Invalid message size " , 1 , messages . size ( ) ) ; 
 + Assert . assertEquals ( " Invalid message size " , 1 , check . getMessages ( ) . size ( ) ) ; 
 check . clearMessages ( ) ; 
 - Assert . assertEquals ( " Invalid message size " , 0 , messages . size ( ) ) ; 
 + Assert . assertEquals ( " Invalid message size " , 0 , check . getMessages ( ) . size ( ) ) ; 
 } 
 
 private static final class DummyAbstractCheck extends AbstractCheck {
