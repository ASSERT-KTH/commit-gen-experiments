BLEU SCORE: 0.02383853510228548

TEST MSG: Ninja : Fix ColumnFilter backward compatibility with 3014 version
GENERATED MSG: ninja fix 9894 rebase error

TEST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / db / filter / ColumnFilter . java b / src / java / org / apache / cassandra / db / filter / ColumnFilter . java <nl> index dcd93e8 . . 58c4cec 100644 <nl> - - - a / src / java / org / apache / cassandra / db / filter / ColumnFilter . java <nl> + + + b / src / java / org / apache / cassandra / db / filter / ColumnFilter . java <nl> @ @ - 533 , 7 + 533 , 7 @ @ public class ColumnFilter <nl> @ VisibleForTesting <nl> public static ColumnFilter maybeUpdateForBackwardCompatility ( ColumnFilter selection , int version ) <nl> { <nl> - if ( version > MessagingService . VERSION _ 30 | | ! selection . fetchAllRegulars | | selection . queried = = null ) <nl> + if ( version > MessagingService . VERSION _ 3014 | | ! selection . fetchAllRegulars | | selection . queried = = null ) <nl> return selection ; <nl> <nl> / / The meaning of fetchAllRegulars changed ( at least when queried ! = null ) due to CASSANDRA - 12768 : in <nl> diff - - git a / test / unit / org / apache / cassandra / db / filter / ColumnFilterTest . java b / test / unit / org / apache / cassandra / db / filter / ColumnFilterTest . java <nl> index eee2ad5 . . fa08950 100644 <nl> - - - a / test / unit / org / apache / cassandra / db / filter / ColumnFilterTest . java <nl> + + + b / test / unit / org / apache / cassandra / db / filter / ColumnFilterTest . java <nl> @ @ - 53 , 7 + 53 , 7 @ @ public class ColumnFilterTest <nl> <nl> columnFilter = ColumnFilter . all ( metadata ) ; <nl> testRoundTrip ( columnFilter , ColumnFilter . Serializer . maybeUpdateForBackwardCompatility ( columnFilter , MessagingService . VERSION _ 30 ) , metadata , MessagingService . VERSION _ 30 ) ; <nl> - testRoundTrip ( ColumnFilter . all ( metadata ) , metadata , MessagingService . VERSION _ 3014 ) ; <nl> + testRoundTrip ( columnFilter , ColumnFilter . Serializer . maybeUpdateForBackwardCompatility ( columnFilter , MessagingService . VERSION _ 3014 ) , metadata , MessagingService . VERSION _ 3014 ) ; <nl> testRoundTrip ( ColumnFilter . all ( metadata ) , metadata , MessagingService . VERSION _ 40 ) ; <nl> <nl> testRoundTrip ( ColumnFilter . selection ( metadata . regularAndStaticColumns ( ) . without ( v1 ) ) , metadata , MessagingService . VERSION _ 30 ) ; <nl> @ @ - 62 , 7 + 62 , 7 @ @ public class ColumnFilterTest <nl> <nl> columnFilter = ColumnFilter . selection ( metadata , metadata . regularAndStaticColumns ( ) . without ( v1 ) ) ; <nl> testRoundTrip ( columnFilter , ColumnFilter . Serializer . maybeUpdateForBackwardCompatility ( columnFilter , MessagingService . VERSION _ 30 ) , metadata , MessagingService . VERSION _ 30 ) ; <nl> - testRoundTrip ( ColumnFilter . selection ( metadata , metadata . regularAndStaticColumns ( ) . without ( v1 ) ) , metadata , MessagingService . VERSION _ 3014 ) ; <nl> + testRoundTrip ( columnFilter , ColumnFilter . Serializer . maybeUpdateForBackwardCompatility ( columnFilter , MessagingService . VERSION _ 3014 ) , metadata , MessagingService . VERSION _ 3014 ) ; <nl> testRoundTrip ( ColumnFilter . selection ( metadata , metadata . regularAndStaticColumns ( ) . without ( v1 ) ) , metadata , MessagingService . VERSION _ 40 ) ; <nl> } <nl>
NEAREST DIFF (one line): ELIMINATEDSENTENCE

TEST DIFF:
diff - - git a / src / java / org / apache / cassandra / db / filter / ColumnFilter . java b / src / java / org / apache / cassandra / db / filter / ColumnFilter . java 
 index dcd93e8 . . 58c4cec 100644 
 - - - a / src / java / org / apache / cassandra / db / filter / ColumnFilter . java 
 + + + b / src / java / org / apache / cassandra / db / filter / ColumnFilter . java 
 @ @ - 533 , 7 + 533 , 7 @ @ public class ColumnFilter 
 @ VisibleForTesting 
 public static ColumnFilter maybeUpdateForBackwardCompatility ( ColumnFilter selection , int version ) 
 { 
 - if ( version > MessagingService . VERSION _ 30 | | ! selection . fetchAllRegulars | | selection . queried = = null ) 
 + if ( version > MessagingService . VERSION _ 3014 | | ! selection . fetchAllRegulars | | selection . queried = = null ) 
 return selection ; 
 
 / / The meaning of fetchAllRegulars changed ( at least when queried ! = null ) due to CASSANDRA - 12768 : in 
 diff - - git a / test / unit / org / apache / cassandra / db / filter / ColumnFilterTest . java b / test / unit / org / apache / cassandra / db / filter / ColumnFilterTest . java 
 index eee2ad5 . . fa08950 100644 
 - - - a / test / unit / org / apache / cassandra / db / filter / ColumnFilterTest . java 
 + + + b / test / unit / org / apache / cassandra / db / filter / ColumnFilterTest . java 
 @ @ - 53 , 7 + 53 , 7 @ @ public class ColumnFilterTest 
 
 columnFilter = ColumnFilter . all ( metadata ) ; 
 testRoundTrip ( columnFilter , ColumnFilter . Serializer . maybeUpdateForBackwardCompatility ( columnFilter , MessagingService . VERSION _ 30 ) , metadata , MessagingService . VERSION _ 30 ) ; 
 - testRoundTrip ( ColumnFilter . all ( metadata ) , metadata , MessagingService . VERSION _ 3014 ) ; 
 + testRoundTrip ( columnFilter , ColumnFilter . Serializer . maybeUpdateForBackwardCompatility ( columnFilter , MessagingService . VERSION _ 3014 ) , metadata , MessagingService . VERSION _ 3014 ) ; 
 testRoundTrip ( ColumnFilter . all ( metadata ) , metadata , MessagingService . VERSION _ 40 ) ; 
 
 testRoundTrip ( ColumnFilter . selection ( metadata . regularAndStaticColumns ( ) . without ( v1 ) ) , metadata , MessagingService . VERSION _ 30 ) ; 
 @ @ - 62 , 7 + 62 , 7 @ @ public class ColumnFilterTest 
 
 columnFilter = ColumnFilter . selection ( metadata , metadata . regularAndStaticColumns ( ) . without ( v1 ) ) ; 
 testRoundTrip ( columnFilter , ColumnFilter . Serializer . maybeUpdateForBackwardCompatility ( columnFilter , MessagingService . VERSION _ 30 ) , metadata , MessagingService . VERSION _ 30 ) ; 
 - testRoundTrip ( ColumnFilter . selection ( metadata , metadata . regularAndStaticColumns ( ) . without ( v1 ) ) , metadata , MessagingService . VERSION _ 3014 ) ; 
 + testRoundTrip ( columnFilter , ColumnFilter . Serializer . maybeUpdateForBackwardCompatility ( columnFilter , MessagingService . VERSION _ 3014 ) , metadata , MessagingService . VERSION _ 3014 ) ; 
 testRoundTrip ( ColumnFilter . selection ( metadata , metadata . regularAndStaticColumns ( ) . without ( v1 ) ) , metadata , MessagingService . VERSION _ 40 ) ; 
 } 


NEAREST DIFF:
ELIMINATEDSENTENCE
