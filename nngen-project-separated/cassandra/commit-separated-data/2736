BLEU SCORE: 0.027611988917697356

TEST MSG: turns out there ' s already a getLoopbackAddress
GENERATED MSG: Add binary protocol to stress

TEST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / service / CassandraDaemon . java b / src / java / org / apache / cassandra / service / CassandraDaemon . java <nl> index 23bf3e5 . . b3f7ff3 100644 <nl> - - - a / src / java / org / apache / cassandra / service / CassandraDaemon . java <nl> + + + b / src / java / org / apache / cassandra / service / CassandraDaemon . java <nl> @ @ - 373 , 7 + 373 , 7 @ @ public class CassandraDaemon <nl> } <nl> } <nl> <nl> - if ( ! FBUtilities . getBroadcastAddress ( ) . equals ( FBUtilities . getLoopback ( ) ) ) <nl> + if ( ! FBUtilities . getBroadcastAddress ( ) . equals ( InetAddress . getLoopbackAddress ( ) ) ) <nl> waitForGossipToSettle ( ) ; <nl> <nl> / / Thift <nl> diff - - git a / src / java / org / apache / cassandra / utils / FBUtilities . java b / src / java / org / apache / cassandra / utils / FBUtilities . java <nl> index 0cacfe2 . . 579f5fa 100644 <nl> - - - a / src / java / org / apache / cassandra / utils / FBUtilities . java <nl> + + + b / src / java / org / apache / cassandra / utils / FBUtilities . java <nl> @ @ - 693 , 16 + 693 , 4 @ @ public class FBUtilities <nl> { <nl> return OPERATING _ SYSTEM . contains ( " nix " ) | | OPERATING _ SYSTEM . contains ( " nux " ) | | OPERATING _ SYSTEM . contains ( " aix " ) ; <nl> } <nl> - <nl> - public static InetAddress getLoopback ( ) <nl> - { <nl> - try <nl> - { <nl> - return InetAddress . getByName ( null ) ; <nl> - } <nl> - catch ( UnknownHostException e ) <nl> - { <nl> - throw new AssertionError ( e ) ; <nl> - } <nl> - } <nl> }
NEAREST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / cql3 / statements / UpdateStatement . java b / src / java / org / apache / cassandra / cql3 / statements / UpdateStatement . java <nl> index 7dbd14a . . 8a5595a 100644 <nl> - - - a / src / java / org / apache / cassandra / cql3 / statements / UpdateStatement . java <nl> + + + b / src / java / org / apache / cassandra / cql3 / statements / UpdateStatement . java <nl> @ @ - 180 , 7 + 180 , 7 @ @ public class UpdateStatement extends ModificationStatement <nl> { <nl> for ( Term t : values ) <nl> { <nl> - ByteBuffer val = values . get ( 0 ) . bindAndGet ( variables ) ; <nl> + ByteBuffer val = t . bindAndGet ( variables ) ; <nl> if ( val = = null ) <nl> throw new InvalidRequestException ( String . format ( " Invalid null value for partition key part % s " , name ) ) ; <nl> keys . add ( keyBuilder . copy ( ) . add ( val ) . build ( ) ) ;

TEST DIFF:
diff - - git a / src / java / org / apache / cassandra / service / CassandraDaemon . java b / src / java / org / apache / cassandra / service / CassandraDaemon . java 
 index 23bf3e5 . . b3f7ff3 100644 
 - - - a / src / java / org / apache / cassandra / service / CassandraDaemon . java 
 + + + b / src / java / org / apache / cassandra / service / CassandraDaemon . java 
 @ @ - 373 , 7 + 373 , 7 @ @ public class CassandraDaemon 
 } 
 } 
 
 - if ( ! FBUtilities . getBroadcastAddress ( ) . equals ( FBUtilities . getLoopback ( ) ) ) 
 + if ( ! FBUtilities . getBroadcastAddress ( ) . equals ( InetAddress . getLoopbackAddress ( ) ) ) 
 waitForGossipToSettle ( ) ; 
 
 / / Thift 
 diff - - git a / src / java / org / apache / cassandra / utils / FBUtilities . java b / src / java / org / apache / cassandra / utils / FBUtilities . java 
 index 0cacfe2 . . 579f5fa 100644 
 - - - a / src / java / org / apache / cassandra / utils / FBUtilities . java 
 + + + b / src / java / org / apache / cassandra / utils / FBUtilities . java 
 @ @ - 693 , 16 + 693 , 4 @ @ public class FBUtilities 
 { 
 return OPERATING _ SYSTEM . contains ( " nix " ) | | OPERATING _ SYSTEM . contains ( " nux " ) | | OPERATING _ SYSTEM . contains ( " aix " ) ; 
 } 
 - 
 - public static InetAddress getLoopback ( ) 
 - { 
 - try 
 - { 
 - return InetAddress . getByName ( null ) ; 
 - } 
 - catch ( UnknownHostException e ) 
 - { 
 - throw new AssertionError ( e ) ; 
 - } 
 - } 
 }

NEAREST DIFF:
diff - - git a / src / java / org / apache / cassandra / cql3 / statements / UpdateStatement . java b / src / java / org / apache / cassandra / cql3 / statements / UpdateStatement . java 
 index 7dbd14a . . 8a5595a 100644 
 - - - a / src / java / org / apache / cassandra / cql3 / statements / UpdateStatement . java 
 + + + b / src / java / org / apache / cassandra / cql3 / statements / UpdateStatement . java 
 @ @ - 180 , 7 + 180 , 7 @ @ public class UpdateStatement extends ModificationStatement 
 { 
 for ( Term t : values ) 
 { 
 - ByteBuffer val = values . get ( 0 ) . bindAndGet ( variables ) ; 
 + ByteBuffer val = t . bindAndGet ( variables ) ; 
 if ( val = = null ) 
 throw new InvalidRequestException ( String . format ( " Invalid null value for partition key part % s " , name ) ) ; 
 keys . add ( keyBuilder . copy ( ) . add ( val ) . build ( ) ) ;
