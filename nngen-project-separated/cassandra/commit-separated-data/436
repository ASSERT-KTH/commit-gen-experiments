BLEU SCORE: 2.412345437644059E-4

TEST MSG: Fix typo in exception message
GENERATED MSG: This patch adds ColumnFamilyStore . forceflush to the mbean so that it can be activated through the management agent . patch by Eric Evans ; reviewed by jbellis for CASSANDRA - 34

TEST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / db / Clustering . java b / src / java / org / apache / cassandra / db / Clustering . java <nl> index 772961f . . e585a8f 100644 <nl> - - - a / src / java / org / apache / cassandra / db / Clustering . java <nl> + + + b / src / java / org / apache / cassandra / db / Clustering . java <nl> @ @ - 140 , 7 + 140 , 7 @ @ public interface Clustering extends ClusteringPrefix <nl> } <nl> catch ( IOException e ) <nl> { <nl> - throw new RuntimeException ( " Writting to an in - memory buffer shouldn ' t trigger an IOException " , e ) ; <nl> + throw new RuntimeException ( " Writing to an in - memory buffer shouldn ' t trigger an IOException " , e ) ; <nl> } <nl> } <nl>
NEAREST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / db / ColumnFamilyStore . java b / src / java / org / apache / cassandra / db / ColumnFamilyStore . java <nl> index 2fac2a5 . . 57458a2 100644 <nl> - - - a / src / java / org / apache / cassandra / db / ColumnFamilyStore . java <nl> + + + b / src / java / org / apache / cassandra / db / ColumnFamilyStore . java <nl> @ @ - 425 , 7 + 425 , 7 @ @ public class ColumnFamilyStore implements ColumnFamilyStoreMBean <nl> binaryMemtable _ . get ( ) . put ( key , buffer ) ; <nl> } <nl> <nl> - void forceFlush ( ) throws IOException <nl> + public void forceFlush ( ) <nl> { <nl> memtable _ . get ( ) . forceflush ( ) ; <nl> } <nl> diff - - git a / src / java / org / apache / cassandra / db / ColumnFamilyStoreMBean . java b / src / java / org / apache / cassandra / db / ColumnFamilyStoreMBean . java <nl> index 521b3e9 . . 75840b8 100644 <nl> - - - a / src / java / org / apache / cassandra / db / ColumnFamilyStoreMBean . java <nl> + + + b / src / java / org / apache / cassandra / db / ColumnFamilyStoreMBean . java <nl> @ @ - 53 , 4 + 53 , 9 @ @ public interface ColumnFamilyStoreMBean <nl> * @ return the number of tasks waiting to run on the memtable executor <nl> * / <nl> public int getMemtableTasks ( ) ; <nl> + <nl> + / * * <nl> + * Triggers an immediate memtable flush . <nl> + * / <nl> + public void forceFlush ( ) ; <nl> }

TEST DIFF:
diff - - git a / src / java / org / apache / cassandra / db / Clustering . java b / src / java / org / apache / cassandra / db / Clustering . java 
 index 772961f . . e585a8f 100644 
 - - - a / src / java / org / apache / cassandra / db / Clustering . java 
 + + + b / src / java / org / apache / cassandra / db / Clustering . java 
 @ @ - 140 , 7 + 140 , 7 @ @ public interface Clustering extends ClusteringPrefix 
 } 
 catch ( IOException e ) 
 { 
 - throw new RuntimeException ( " Writting to an in - memory buffer shouldn ' t trigger an IOException " , e ) ; 
 + throw new RuntimeException ( " Writing to an in - memory buffer shouldn ' t trigger an IOException " , e ) ; 
 } 
 } 


NEAREST DIFF:
diff - - git a / src / java / org / apache / cassandra / db / ColumnFamilyStore . java b / src / java / org / apache / cassandra / db / ColumnFamilyStore . java 
 index 2fac2a5 . . 57458a2 100644 
 - - - a / src / java / org / apache / cassandra / db / ColumnFamilyStore . java 
 + + + b / src / java / org / apache / cassandra / db / ColumnFamilyStore . java 
 @ @ - 425 , 7 + 425 , 7 @ @ public class ColumnFamilyStore implements ColumnFamilyStoreMBean 
 binaryMemtable _ . get ( ) . put ( key , buffer ) ; 
 } 
 
 - void forceFlush ( ) throws IOException 
 + public void forceFlush ( ) 
 { 
 memtable _ . get ( ) . forceflush ( ) ; 
 } 
 diff - - git a / src / java / org / apache / cassandra / db / ColumnFamilyStoreMBean . java b / src / java / org / apache / cassandra / db / ColumnFamilyStoreMBean . java 
 index 521b3e9 . . 75840b8 100644 
 - - - a / src / java / org / apache / cassandra / db / ColumnFamilyStoreMBean . java 
 + + + b / src / java / org / apache / cassandra / db / ColumnFamilyStoreMBean . java 
 @ @ - 53 , 4 + 53 , 9 @ @ public interface ColumnFamilyStoreMBean 
 * @ return the number of tasks waiting to run on the memtable executor 
 * / 
 public int getMemtableTasks ( ) ; 
 + 
 + / * * 
 + * Triggers an immediate memtable flush . 
 + * / 
 + public void forceFlush ( ) ; 
 }
