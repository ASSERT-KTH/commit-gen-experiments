BLEU SCORE: 0.027611988917697356

TEST MSG: Safely handle empty buffers when outputting to JSON
GENERATED MSG: Allow executing CREATE statement multiple times

TEST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index d4d9e4f . . 0af156f 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 1 , 4 + 1 , 5 @ @ <nl> 2 . 2 . 11 <nl> + * Safely handle empty buffers when outputting to JSON ( CASSANDRA - 13868 ) <nl> * Copy session properties on cqlsh . py do _ login ( CASSANDRA - 13847 ) <nl> * Fix load over calculated issue in IndexSummaryRedistribution ( CASSANDRA - 13738 ) <nl> * Fix compaction and flush exception not captured ( CASSANDRA - 13833 ) <nl> diff - - git a / src / java / org / apache / cassandra / cql3 / selection / Selection . java b / src / java / org / apache / cassandra / cql3 / selection / Selection . java <nl> index 6016059 . . dc4e240 100644 <nl> - - - a / src / java / org / apache / cassandra / cql3 / selection / Selection . java <nl> + + + b / src / java / org / apache / cassandra / cql3 / selection / Selection . java <nl> @ @ - 377 , 7 + 377 , 7 @ @ public abstract class Selection <nl> sb . append ( ' " ' ) ; <nl> sb . append ( Json . quoteAsJsonString ( columnName ) ) ; <nl> sb . append ( " \ " : " ) ; <nl> - if ( buffer = = null ) <nl> + if ( buffer = = null | | ! buffer . hasRemaining ( ) ) <nl> sb . append ( " null " ) ; <nl> else <nl> sb . append ( spec . type . toJSONString ( buffer , protocolVersion ) ) ;
NEAREST DIFF (one line): ELIMINATEDSENTENCE

TEST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index d4d9e4f . . 0af156f 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 1 , 4 + 1 , 5 @ @ 
 2 . 2 . 11 
 + * Safely handle empty buffers when outputting to JSON ( CASSANDRA - 13868 ) 
 * Copy session properties on cqlsh . py do _ login ( CASSANDRA - 13847 ) 
 * Fix load over calculated issue in IndexSummaryRedistribution ( CASSANDRA - 13738 ) 
 * Fix compaction and flush exception not captured ( CASSANDRA - 13833 ) 
 diff - - git a / src / java / org / apache / cassandra / cql3 / selection / Selection . java b / src / java / org / apache / cassandra / cql3 / selection / Selection . java 
 index 6016059 . . dc4e240 100644 
 - - - a / src / java / org / apache / cassandra / cql3 / selection / Selection . java 
 + + + b / src / java / org / apache / cassandra / cql3 / selection / Selection . java 
 @ @ - 377 , 7 + 377 , 7 @ @ public abstract class Selection 
 sb . append ( ' " ' ) ; 
 sb . append ( Json . quoteAsJsonString ( columnName ) ) ; 
 sb . append ( " \ " : " ) ; 
 - if ( buffer = = null ) 
 + if ( buffer = = null | | ! buffer . hasRemaining ( ) ) 
 sb . append ( " null " ) ; 
 else 
 sb . append ( spec . type . toJSONString ( buffer , protocolVersion ) ) ;

NEAREST DIFF:
ELIMINATEDSENTENCE
