BLEU SCORE: 0.030981749906855878

TEST MSG: Fix copyright years in generated apidocs and in the NOTICE file
GENERATED MSG: Updates news file , version and missing licenses for 1 . 1 . 12 release

TEST DIFF (one line): diff - - git a / NOTICE . txt b / NOTICE . txt <nl> index dcdf03d . . 8162b32 100644 <nl> - - - a / NOTICE . txt <nl> + + + b / NOTICE . txt <nl> @ @ - 1 , 5 + 1 , 5 @ @ <nl> Apache Cassandra <nl> - Copyright 2009 - 2014 The Apache Software Foundation <nl> + Copyright 2009 - 2019 The Apache Software Foundation <nl> <nl> This product includes software developed by The Apache Software <nl> Foundation ( http : / / www . apache . org / ) . <nl> diff - - git a / build . xml b / build . xml <nl> index 5c5385c . . 846ecf5 100644 <nl> - - - a / build . xml <nl> + + + b / build . xml <nl> @ @ - 133 , 10 + 133 , 6 @ @ <nl> < available file = " $ { build . src . java } " type = " dir " / > <nl> < / condition > <nl> <nl> - < tstamp > <nl> - < format property = " YEAR " pattern = " yyyy " / > <nl> - < / tstamp > <nl> - <nl> < ! - - Check if all tests are being run or just one . If it ' s all tests don ' t spam the console with test output . <nl> If it ' s an individual test print the output from the test under the assumption someone is debugging the test <nl> and wants to know what is going on without having to context switch to the log file that is generated . <nl> @ @ - 176 , 7 + 172 , 7 @ @ <nl> < sequential > <nl> < javadoc destdir = " @ { destdir } " author = " true " version = " true " use = " true " <nl> windowtitle = " $ { ant . project . name } API " classpathref = " cassandra . classpath " <nl> - bottom = " Copyright & amp ; copy ; $ { YEAR } The Apache Software Foundation " <nl> + bottom = " Copyright & amp ; copy ; 2009 - 2019 The Apache Software Foundation " <nl> useexternalfile = " yes " encoding = " UTF - 8 " <nl> maxmemory = " 256m " > <nl> < filesets / >
NEAREST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index 3902dec . . 21faf5a 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 1 , 4 + 1 , 5 @ @ <nl> 1 . 2 . 6 <nl> + * Move System . exit on OOM into a separate thread ( CASSANDRA - 5273 ) <nl> * Write row markers when serializing schema ( CASSANDRA - 5572 ) <nl> * Check only SSTables for the requested range when streaming ( CASSANDRA - 5569 ) <nl> * Improve batchlog replay behavior and hint ttl handling ( CASSANDRA - 5314 ) <nl> diff - - git a / src / java / org / apache / cassandra / service / CassandraDaemon . java b / src / java / org / apache / cassandra / service / CassandraDaemon . java <nl> index 40c453d . . 343d497 100644 <nl> - - - a / src / java / org / apache / cassandra / service / CassandraDaemon . java <nl> + + + b / src / java / org / apache / cassandra / service / CassandraDaemon . java <nl> @ @ - 58 , 6 + 58 , 16 @ @ public class CassandraDaemon <nl> initLog4j ( ) ; <nl> } <nl> <nl> + / / Have a dedicated thread to call exit to avoid deadlock in the case where the thread that wants to invoke exit <nl> + / / belongs to an executor that our shutdown hook wants to wait to exit gracefully . See CASSANDRA - 5273 . <nl> + private static final Thread exitThread = new Thread ( new Runnable ( ) <nl> + { <nl> + public void run ( ) <nl> + { <nl> + System . exit ( 100 ) ; <nl> + } <nl> + } , " Exit invoker " ) ; <nl> + <nl> / * * <nl> * Initialize logging in such a way that it checks for config changes every 10 seconds . <nl> * / <nl> @ @ - 178 , 7 + 188 , 7 @ @ public class CassandraDaemon <nl> { <nl> / / some code , like FileChannel . map , will wrap an OutOfMemoryError in another exception <nl> if ( e2 instanceof OutOfMemoryError ) <nl> - System . exit ( 100 ) ; <nl> + exitThread . start ( ) ; <nl> <nl> if ( e2 instanceof FSError ) <nl> {

TEST DIFF:
diff - - git a / NOTICE . txt b / NOTICE . txt 
 index dcdf03d . . 8162b32 100644 
 - - - a / NOTICE . txt 
 + + + b / NOTICE . txt 
 @ @ - 1 , 5 + 1 , 5 @ @ 
 Apache Cassandra 
 - Copyright 2009 - 2014 The Apache Software Foundation 
 + Copyright 2009 - 2019 The Apache Software Foundation 
 
 This product includes software developed by The Apache Software 
 Foundation ( http : / / www . apache . org / ) . 
 diff - - git a / build . xml b / build . xml 
 index 5c5385c . . 846ecf5 100644 
 - - - a / build . xml 
 + + + b / build . xml 
 @ @ - 133 , 10 + 133 , 6 @ @ 
 < available file = " $ { build . src . java } " type = " dir " / > 
 < / condition > 
 
 - < tstamp > 
 - < format property = " YEAR " pattern = " yyyy " / > 
 - < / tstamp > 
 - 
 < ! - - Check if all tests are being run or just one . If it ' s all tests don ' t spam the console with test output . 
 If it ' s an individual test print the output from the test under the assumption someone is debugging the test 
 and wants to know what is going on without having to context switch to the log file that is generated . 
 @ @ - 176 , 7 + 172 , 7 @ @ 
 < sequential > 
 < javadoc destdir = " @ { destdir } " author = " true " version = " true " use = " true " 
 windowtitle = " $ { ant . project . name } API " classpathref = " cassandra . classpath " 
 - bottom = " Copyright & amp ; copy ; $ { YEAR } The Apache Software Foundation " 
 + bottom = " Copyright & amp ; copy ; 2009 - 2019 The Apache Software Foundation " 
 useexternalfile = " yes " encoding = " UTF - 8 " 
 maxmemory = " 256m " > 
 < filesets / >

NEAREST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index 3902dec . . 21faf5a 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 1 , 4 + 1 , 5 @ @ 
 1 . 2 . 6 
 + * Move System . exit on OOM into a separate thread ( CASSANDRA - 5273 ) 
 * Write row markers when serializing schema ( CASSANDRA - 5572 ) 
 * Check only SSTables for the requested range when streaming ( CASSANDRA - 5569 ) 
 * Improve batchlog replay behavior and hint ttl handling ( CASSANDRA - 5314 ) 
 diff - - git a / src / java / org / apache / cassandra / service / CassandraDaemon . java b / src / java / org / apache / cassandra / service / CassandraDaemon . java 
 index 40c453d . . 343d497 100644 
 - - - a / src / java / org / apache / cassandra / service / CassandraDaemon . java 
 + + + b / src / java / org / apache / cassandra / service / CassandraDaemon . java 
 @ @ - 58 , 6 + 58 , 16 @ @ public class CassandraDaemon 
 initLog4j ( ) ; 
 } 
 
 + / / Have a dedicated thread to call exit to avoid deadlock in the case where the thread that wants to invoke exit 
 + / / belongs to an executor that our shutdown hook wants to wait to exit gracefully . See CASSANDRA - 5273 . 
 + private static final Thread exitThread = new Thread ( new Runnable ( ) 
 + { 
 + public void run ( ) 
 + { 
 + System . exit ( 100 ) ; 
 + } 
 + } , " Exit invoker " ) ; 
 + 
 / * * 
 * Initialize logging in such a way that it checks for config changes every 10 seconds . 
 * / 
 @ @ - 178 , 7 + 188 , 7 @ @ public class CassandraDaemon 
 { 
 / / some code , like FileChannel . map , will wrap an OutOfMemoryError in another exception 
 if ( e2 instanceof OutOfMemoryError ) 
 - System . exit ( 100 ) ; 
 + exitThread . start ( ) ; 
 
 if ( e2 instanceof FSError ) 
 {
