BLEU SCORE: 0.07635362674858093

TEST MSG: Fix nodetool repair exits with 0 for some errors
GENERATED MSG: Do not exit nodetool repair when receiving JMX NOTIF _ LOST

TEST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index d6f2a9d . . 59c8a4b 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 1 , 4 + 1 , 5 @ @ <nl> 3 . 0 . 9 <nl> + * Fix nodetool repair exits with 0 for some errors ( CASSANDRA - 12508 ) <nl> * Do not shut down BatchlogManager twice during drain ( CASSANDRA - 12504 ) <nl> * Disk failure policy should not be invoked on out of space ( CASSANDRA - 12385 ) <nl> * Calculate last compacted key on startup ( CASSANDRA - 6216 ) <nl> diff - - git a / src / java / org / apache / cassandra / tools / RepairRunner . java b / src / java / org / apache / cassandra / tools / RepairRunner . java <nl> index 0813775 . . 12ae5b8 100644 <nl> - - - a / src / java / org / apache / cassandra / tools / RepairRunner . java <nl> + + + b / src / java / org / apache / cassandra / tools / RepairRunner . java <nl> @ @ - 110 , 6 + 110 , 10 @ @ public class RepairRunner extends JMXNotificationProgressListener <nl> message = message + " ( progress : " + ( int ) event . getProgressPercentage ( ) + " % ) " ; <nl> } <nl> out . println ( message ) ; <nl> + if ( type = = ProgressEventType . ERROR ) <nl> + { <nl> + error = new RuntimeException ( " Repair job has failed with the error message : " + message ) ; <nl> + } <nl> if ( type = = ProgressEventType . COMPLETE ) <nl> { <nl> condition . signalAll ( ) ;
NEAREST DIFF (one line): ELIMINATEDSENTENCE

TEST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index d6f2a9d . . 59c8a4b 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 1 , 4 + 1 , 5 @ @ 
 3 . 0 . 9 
 + * Fix nodetool repair exits with 0 for some errors ( CASSANDRA - 12508 ) 
 * Do not shut down BatchlogManager twice during drain ( CASSANDRA - 12504 ) 
 * Disk failure policy should not be invoked on out of space ( CASSANDRA - 12385 ) 
 * Calculate last compacted key on startup ( CASSANDRA - 6216 ) 
 diff - - git a / src / java / org / apache / cassandra / tools / RepairRunner . java b / src / java / org / apache / cassandra / tools / RepairRunner . java 
 index 0813775 . . 12ae5b8 100644 
 - - - a / src / java / org / apache / cassandra / tools / RepairRunner . java 
 + + + b / src / java / org / apache / cassandra / tools / RepairRunner . java 
 @ @ - 110 , 6 + 110 , 10 @ @ public class RepairRunner extends JMXNotificationProgressListener 
 message = message + " ( progress : " + ( int ) event . getProgressPercentage ( ) + " % ) " ; 
 } 
 out . println ( message ) ; 
 + if ( type = = ProgressEventType . ERROR ) 
 + { 
 + error = new RuntimeException ( " Repair job has failed with the error message : " + message ) ; 
 + } 
 if ( type = = ProgressEventType . COMPLETE ) 
 { 
 condition . signalAll ( ) ;

NEAREST DIFF:
ELIMINATEDSENTENCE
