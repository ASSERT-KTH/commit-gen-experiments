BLEU SCORE: 0.010122231330332757

TEST MSG: a map is the same size as it ' s keySet or values collection , so just use that
GENERATED MSG: cleanup

TEST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / hadoop / cql3 / CqlRecordWriter . java b / src / java / org / apache / cassandra / hadoop / cql3 / CqlRecordWriter . java <nl> index d2a0d86 . . 989d154 100644 <nl> - - - a / src / java / org / apache / cassandra / hadoop / cql3 / CqlRecordWriter . java <nl> + + + b / src / java / org / apache / cassandra / hadoop / cql3 / CqlRecordWriter . java <nl> @ @ - 438 , 7 + 438 , 7 @ @ class CqlRecordWriter extends RecordWriter < Map < String , ByteBuffer > , List < ByteBuf <nl> return true ; <nl> if ( e instanceof NoHostAvailableException ) <nl> { <nl> - if ( ( ( NoHostAvailableException ) e ) . getErrors ( ) . values ( ) . size ( ) = = 1 ) <nl> + if ( ( ( NoHostAvailableException ) e ) . getErrors ( ) . size ( ) = = 1 ) <nl> { <nl> Throwable cause = ( ( NoHostAvailableException ) e ) . getErrors ( ) . values ( ) . iterator ( ) . next ( ) ; <nl> if ( cause ! = null & & cause . getCause ( ) instanceof java . nio . channels . ClosedByInterruptException ) <nl> diff - - git a / src / java / org / apache / cassandra / tools / nodetool / Status . java b / src / java / org / apache / cassandra / tools / nodetool / Status . java <nl> index 10c7fdf . . b2f9c19 100644 <nl> - - - a / src / java / org / apache / cassandra / tools / nodetool / Status . java <nl> + + + b / src / java / org / apache / cassandra / tools / nodetool / Status . java <nl> @ @ - 91 , 7 + 91 , 7 @ @ public class Status extends NodeToolCmd <nl> SortedMap < String , SetHostStatWithPort > dcs = NodeTool . getOwnershipByDcWithPort ( probe , resolveIp , tokensToEndpoints , ownerships ) ; <nl> <nl> / / More tokens than nodes ( aka vnodes ) ? <nl> - if ( dcs . values ( ) . size ( ) < tokensToEndpoints . keySet ( ) . size ( ) ) <nl> + if ( dcs . size ( ) < tokensToEndpoints . size ( ) ) <nl> isTokenPerNode = false ; <nl> <nl> findMaxAddressLengthWithPort ( dcs ) ;
NEAREST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / service / CassandraServer . java b / src / java / org / apache / cassandra / service / CassandraServer . java <nl> index 1708b75 . . 1d14676 100644 <nl> - - - a / src / java / org / apache / cassandra / service / CassandraServer . java <nl> + + + b / src / java / org / apache / cassandra / service / CassandraServer . java <nl> @ @ - 618 , 7 + 618 , 7 @ @ public class CassandraServer implements Cassandra . Iface <nl> } <nl> <nl> public List < KeySlice > get _ range _ slice ( String keyspace , ColumnParent column _ parent , SlicePredicate predicate , String start _ key , String finish _ key , int maxRows , ConsistencyLevel consistency _ level ) <nl> - throws InvalidRequestException , UnavailableException , TException , TimedOutException <nl> + throws InvalidRequestException , UnavailableException , TException , TimedOutException <nl> { <nl> if ( logger . isDebugEnabled ( ) ) <nl> logger . debug ( " range _ slice " ) ; <nl> @ @ - 664 , 7 + 664 , 6 @ @ public class CassandraServer implements Cassandra . Iface <nl> return keySlices ; <nl> } <nl> <nl> - @ Override <nl> public void login ( String keyspace , AuthenticationRequest auth _ request ) throws AuthenticationException , AuthorizationException , TException <nl> { <nl> DatabaseDescriptor . getAuthenticator ( ) . login ( keyspace , auth _ request ) ;

TEST DIFF:
diff - - git a / src / java / org / apache / cassandra / hadoop / cql3 / CqlRecordWriter . java b / src / java / org / apache / cassandra / hadoop / cql3 / CqlRecordWriter . java 
 index d2a0d86 . . 989d154 100644 
 - - - a / src / java / org / apache / cassandra / hadoop / cql3 / CqlRecordWriter . java 
 + + + b / src / java / org / apache / cassandra / hadoop / cql3 / CqlRecordWriter . java 
 @ @ - 438 , 7 + 438 , 7 @ @ class CqlRecordWriter extends RecordWriter < Map < String , ByteBuffer > , List < ByteBuf 
 return true ; 
 if ( e instanceof NoHostAvailableException ) 
 { 
 - if ( ( ( NoHostAvailableException ) e ) . getErrors ( ) . values ( ) . size ( ) = = 1 ) 
 + if ( ( ( NoHostAvailableException ) e ) . getErrors ( ) . size ( ) = = 1 ) 
 { 
 Throwable cause = ( ( NoHostAvailableException ) e ) . getErrors ( ) . values ( ) . iterator ( ) . next ( ) ; 
 if ( cause ! = null & & cause . getCause ( ) instanceof java . nio . channels . ClosedByInterruptException ) 
 diff - - git a / src / java / org / apache / cassandra / tools / nodetool / Status . java b / src / java / org / apache / cassandra / tools / nodetool / Status . java 
 index 10c7fdf . . b2f9c19 100644 
 - - - a / src / java / org / apache / cassandra / tools / nodetool / Status . java 
 + + + b / src / java / org / apache / cassandra / tools / nodetool / Status . java 
 @ @ - 91 , 7 + 91 , 7 @ @ public class Status extends NodeToolCmd 
 SortedMap < String , SetHostStatWithPort > dcs = NodeTool . getOwnershipByDcWithPort ( probe , resolveIp , tokensToEndpoints , ownerships ) ; 
 
 / / More tokens than nodes ( aka vnodes ) ? 
 - if ( dcs . values ( ) . size ( ) < tokensToEndpoints . keySet ( ) . size ( ) ) 
 + if ( dcs . size ( ) < tokensToEndpoints . size ( ) ) 
 isTokenPerNode = false ; 
 
 findMaxAddressLengthWithPort ( dcs ) ;

NEAREST DIFF:
diff - - git a / src / java / org / apache / cassandra / service / CassandraServer . java b / src / java / org / apache / cassandra / service / CassandraServer . java 
 index 1708b75 . . 1d14676 100644 
 - - - a / src / java / org / apache / cassandra / service / CassandraServer . java 
 + + + b / src / java / org / apache / cassandra / service / CassandraServer . java 
 @ @ - 618 , 7 + 618 , 7 @ @ public class CassandraServer implements Cassandra . Iface 
 } 
 
 public List < KeySlice > get _ range _ slice ( String keyspace , ColumnParent column _ parent , SlicePredicate predicate , String start _ key , String finish _ key , int maxRows , ConsistencyLevel consistency _ level ) 
 - throws InvalidRequestException , UnavailableException , TException , TimedOutException 
 + throws InvalidRequestException , UnavailableException , TException , TimedOutException 
 { 
 if ( logger . isDebugEnabled ( ) ) 
 logger . debug ( " range _ slice " ) ; 
 @ @ - 664 , 7 + 664 , 6 @ @ public class CassandraServer implements Cassandra . Iface 
 return keySlices ; 
 } 
 
 - @ Override 
 public void login ( String keyspace , AuthenticationRequest auth _ request ) throws AuthenticationException , AuthorizationException , TException 
 { 
 DatabaseDescriptor . getAuthenticator ( ) . login ( keyspace , auth _ request ) ;
