BLEU SCORE: 0.13976396370981378

TEST MSG: Increase commitlog version
GENERATED MSG: Add missing CommitLogDescriptor version 21 .

TEST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index ee9c14e . . b339e6e 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 1 , 4 + 1 , 5 @ @ <nl> 4 . 0 <nl> + * Increase commitlog version ( CASSANDRA - 13161 ) <nl> * Make TableMetadata immutable , optimize Schema ( CASSANDRA - 9425 ) <nl> * Refactor ColumnCondition ( CASSANDRA - 12981 ) <nl> * Parallelize streaming of different keyspaces ( CASSANDRA - 4663 ) <nl> diff - - git a / src / java / org / apache / cassandra / db / commitlog / CommitLogDescriptor . java b / src / java / org / apache / cassandra / db / commitlog / CommitLogDescriptor . java <nl> index 0ab191d . . dd9414a 100644 <nl> - - - a / src / java / org / apache / cassandra / db / commitlog / CommitLogDescriptor . java <nl> + + + b / src / java / org / apache / cassandra / db / commitlog / CommitLogDescriptor . java <nl> @ @ - 59 , 13 + 59 , 14 @ @ public class CommitLogDescriptor <nl> <nl> / / We don ' t support anything pre - 3 . 0 <nl> public static final int VERSION _ 30 = 6 ; <nl> + public static final int VERSION _ 40 = 7 ; <nl> <nl> / * * <nl> * Increment this number if there is a changes in the commit log disc layout or MessagingVersion changes . <nl> * Note : make sure to handle { @ link # getMessagingVersion ( ) } <nl> * / <nl> @ VisibleForTesting <nl> - public static final int current _ version = VERSION _ 30 ; <nl> + public static final int current _ version = VERSION _ 40 ; <nl> <nl> final int version ; <nl> public final long id ; <nl> @ @ - 206 , 6 + 207 , 8 @ @ public class CommitLogDescriptor <nl> { <nl> case VERSION _ 30 : <nl> return MessagingService . VERSION _ 30 ; <nl> + case VERSION _ 40 : <nl> + return MessagingService . VERSION _ 40 ; <nl> default : <nl> throw new IllegalStateException ( " Unknown commitlog version " + version ) ; <nl> }
NEAREST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / cql3 / QueryProcessor . java b / src / java / org / apache / cassandra / cql3 / QueryProcessor . java <nl> index f3cea48 . . dbc9577 100644 <nl> - - - a / src / java / org / apache / cassandra / cql3 / QueryProcessor . java <nl> + + + b / src / java / org / apache / cassandra / cql3 / QueryProcessor . java <nl> @ @ - 233 , 7 + 233 , 7 @ @ public class QueryProcessor <nl> if ( statement instanceof CFStatement ) <nl> ( ( CFStatement ) statement ) . prepareKeyspace ( clientState ) ; <nl> <nl> - Tracing . trace ( " Peparing statement " ) ; <nl> + Tracing . trace ( " Preparing statement " ) ; <nl> return statement . prepare ( ) ; <nl> } <nl>

TEST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index ee9c14e . . b339e6e 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 1 , 4 + 1 , 5 @ @ 
 4 . 0 
 + * Increase commitlog version ( CASSANDRA - 13161 ) 
 * Make TableMetadata immutable , optimize Schema ( CASSANDRA - 9425 ) 
 * Refactor ColumnCondition ( CASSANDRA - 12981 ) 
 * Parallelize streaming of different keyspaces ( CASSANDRA - 4663 ) 
 diff - - git a / src / java / org / apache / cassandra / db / commitlog / CommitLogDescriptor . java b / src / java / org / apache / cassandra / db / commitlog / CommitLogDescriptor . java 
 index 0ab191d . . dd9414a 100644 
 - - - a / src / java / org / apache / cassandra / db / commitlog / CommitLogDescriptor . java 
 + + + b / src / java / org / apache / cassandra / db / commitlog / CommitLogDescriptor . java 
 @ @ - 59 , 13 + 59 , 14 @ @ public class CommitLogDescriptor 
 
 / / We don ' t support anything pre - 3 . 0 
 public static final int VERSION _ 30 = 6 ; 
 + public static final int VERSION _ 40 = 7 ; 
 
 / * * 
 * Increment this number if there is a changes in the commit log disc layout or MessagingVersion changes . 
 * Note : make sure to handle { @ link # getMessagingVersion ( ) } 
 * / 
 @ VisibleForTesting 
 - public static final int current _ version = VERSION _ 30 ; 
 + public static final int current _ version = VERSION _ 40 ; 
 
 final int version ; 
 public final long id ; 
 @ @ - 206 , 6 + 207 , 8 @ @ public class CommitLogDescriptor 
 { 
 case VERSION _ 30 : 
 return MessagingService . VERSION _ 30 ; 
 + case VERSION _ 40 : 
 + return MessagingService . VERSION _ 40 ; 
 default : 
 throw new IllegalStateException ( " Unknown commitlog version " + version ) ; 
 }

NEAREST DIFF:
diff - - git a / src / java / org / apache / cassandra / cql3 / QueryProcessor . java b / src / java / org / apache / cassandra / cql3 / QueryProcessor . java 
 index f3cea48 . . dbc9577 100644 
 - - - a / src / java / org / apache / cassandra / cql3 / QueryProcessor . java 
 + + + b / src / java / org / apache / cassandra / cql3 / QueryProcessor . java 
 @ @ - 233 , 7 + 233 , 7 @ @ public class QueryProcessor 
 if ( statement instanceof CFStatement ) 
 ( ( CFStatement ) statement ) . prepareKeyspace ( clientState ) ; 
 
 - Tracing . trace ( " Peparing statement " ) ; 
 + Tracing . trace ( " Preparing statement " ) ; 
 return statement . prepare ( ) ; 
 } 

