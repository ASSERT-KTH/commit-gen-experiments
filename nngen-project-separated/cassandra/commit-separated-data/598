BLEU SCORE: 0.040583489434387374

TEST MSG: Split consistent range movement flag correction
GENERATED MSG: Fix MOVED _ NODE client event

TEST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index efd0f5c . . 8b61da4 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 5 , 6 + 5 , 7 @ @ <nl> * Fix merkle tree depth calculation ( CASSANDRA - 12580 ) <nl> * Make Collections deserialization more robust ( CASSANDRA - 12618 ) <nl> * Better handle invalid system roles table ( CASSANDRA - 12700 ) <nl> + * Split consistent range movement flag correction ( CASSANDRA - 12786 ) <nl> Merged from 2 . 1 : <nl> = = = = = = = <nl> 2 . 1 . 17 <nl> diff - - git a / src / java / org / apache / cassandra / service / StorageService . java b / src / java / org / apache / cassandra / service / StorageService . java <nl> index db86294 . . 58c2bac 100644 <nl> - - - a / src / java / org / apache / cassandra / service / StorageService . java <nl> + + + b / src / java / org / apache / cassandra / service / StorageService . java <nl> @ @ - 798 , 7 + 798 , 7 @ @ public class StorageService extends NotificationBroadcasterSupport implements IE <nl> <nl> logger . debug ( " . . . got ring + schema info " ) ; <nl> <nl> - if ( useStrictConsistency & & <nl> + if ( useStrictConsistency & & ! allowSimultaneousMoves ( ) & & <nl> ( <nl> tokenMetadata . getBootstrapTokens ( ) . valueSet ( ) . size ( ) > 0 | | <nl> tokenMetadata . getLeavingEndpoints ( ) . size ( ) > 0 | |
NEAREST DIFF (one line): ELIMINATEDSENTENCE

TEST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index efd0f5c . . 8b61da4 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 5 , 6 + 5 , 7 @ @ 
 * Fix merkle tree depth calculation ( CASSANDRA - 12580 ) 
 * Make Collections deserialization more robust ( CASSANDRA - 12618 ) 
 * Better handle invalid system roles table ( CASSANDRA - 12700 ) 
 + * Split consistent range movement flag correction ( CASSANDRA - 12786 ) 
 Merged from 2 . 1 : 
 = = = = = = = 
 2 . 1 . 17 
 diff - - git a / src / java / org / apache / cassandra / service / StorageService . java b / src / java / org / apache / cassandra / service / StorageService . java 
 index db86294 . . 58c2bac 100644 
 - - - a / src / java / org / apache / cassandra / service / StorageService . java 
 + + + b / src / java / org / apache / cassandra / service / StorageService . java 
 @ @ - 798 , 7 + 798 , 7 @ @ public class StorageService extends NotificationBroadcasterSupport implements IE 
 
 logger . debug ( " . . . got ring + schema info " ) ; 
 
 - if ( useStrictConsistency & & 
 + if ( useStrictConsistency & & ! allowSimultaneousMoves ( ) & & 
 ( 
 tokenMetadata . getBootstrapTokens ( ) . valueSet ( ) . size ( ) > 0 | | 
 tokenMetadata . getLeavingEndpoints ( ) . size ( ) > 0 | |

NEAREST DIFF:
ELIMINATEDSENTENCE
