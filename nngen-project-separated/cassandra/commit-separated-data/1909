BLEU SCORE: 0.05341087579952926

TEST MSG: Try to fix flapping SSTableRewriterTest
GENERATED MSG: have BulkLoader ignore snapshot directories

TEST DIFF (one line): diff - - git a / test / unit / org / apache / cassandra / io / sstable / SSTableRewriterTest . java b / test / unit / org / apache / cassandra / io / sstable / SSTableRewriterTest . java <nl> index 88bb8dc . . fbd627b 100644 <nl> - - - a / test / unit / org / apache / cassandra / io / sstable / SSTableRewriterTest . java <nl> + + + b / test / unit / org / apache / cassandra / io / sstable / SSTableRewriterTest . java <nl> @ @ - 174 , 6 + 174 , 7 @ @ public class SSTableRewriterTest extends SchemaLoader <nl> int filecounts = assertFileCounts ( sstables . iterator ( ) . next ( ) . descriptor . directory . list ( ) , 0 , 0 ) ; <nl> assertEquals ( 1 , filecounts ) ; <nl> cfs . truncateBlocking ( ) ; <nl> + Thread . sleep ( 1000 ) ; / / make sure the deletion tasks have run etc <nl> validateCFS ( cfs ) ; <nl> } <nl> <nl> @ @ - 467 , 6 + 468 , 7 @ @ public class SSTableRewriterTest extends SchemaLoader <nl> Thread . sleep ( 1000 ) ; <nl> assertFileCounts ( s . descriptor . directory . list ( ) , 0 , 0 ) ; <nl> cfs . truncateBlocking ( ) ; <nl> + Thread . sleep ( 1000 ) ; / / make sure the deletion tasks have run etc <nl> validateCFS ( cfs ) ; <nl> } <nl>
NEAREST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index 83bbc04 . . 8aa0138 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 14 , 6 + 14 , 7 @ @ <nl> * cqlsh : add vertical output option ( see EXPAND ) ( CASSANDRA - 5597 ) <nl> * Add a rate limit option to stress ( CASSANDRA - 5004 ) <nl> * have BulkLoader ignore snapshots directories ( CASSANDRA - 5587 ) <nl> + * fix SnitchProperties logging context ( CASSANDRA - 5602 ) <nl> Merged from 1 . 1 : <nl> * Remove buggy thrift max message length option ( CASSANDRA - 5529 ) <nl> * Fix NPE in Pig ' s widerow mode ( CASSANDRA - 5488 ) <nl> diff - - git a / src / java / org / apache / cassandra / locator / SnitchProperties . java b / src / java / org / apache / cassandra / locator / SnitchProperties . java <nl> index ae27fbe . . 809a180 100644 <nl> - - - a / src / java / org / apache / cassandra / locator / SnitchProperties . java <nl> + + + b / src / java / org / apache / cassandra / locator / SnitchProperties . java <nl> @ @ - 26 , 7 + 26 , 7 @ @ import org . slf4j . LoggerFactory ; <nl> <nl> public class SnitchProperties <nl> { <nl> - private static final Logger logger = LoggerFactory . getLogger ( GossipingPropertyFileSnitch . class ) ; <nl> + private static final Logger logger = LoggerFactory . getLogger ( SnitchProperties . class ) ; <nl> public static final String RACKDC _ PROPERTY _ FILENAME = " cassandra - rackdc . properties " ; <nl> private static Properties properties = new Properties ( ) ; <nl>

TEST DIFF:
diff - - git a / test / unit / org / apache / cassandra / io / sstable / SSTableRewriterTest . java b / test / unit / org / apache / cassandra / io / sstable / SSTableRewriterTest . java 
 index 88bb8dc . . fbd627b 100644 
 - - - a / test / unit / org / apache / cassandra / io / sstable / SSTableRewriterTest . java 
 + + + b / test / unit / org / apache / cassandra / io / sstable / SSTableRewriterTest . java 
 @ @ - 174 , 6 + 174 , 7 @ @ public class SSTableRewriterTest extends SchemaLoader 
 int filecounts = assertFileCounts ( sstables . iterator ( ) . next ( ) . descriptor . directory . list ( ) , 0 , 0 ) ; 
 assertEquals ( 1 , filecounts ) ; 
 cfs . truncateBlocking ( ) ; 
 + Thread . sleep ( 1000 ) ; / / make sure the deletion tasks have run etc 
 validateCFS ( cfs ) ; 
 } 
 
 @ @ - 467 , 6 + 468 , 7 @ @ public class SSTableRewriterTest extends SchemaLoader 
 Thread . sleep ( 1000 ) ; 
 assertFileCounts ( s . descriptor . directory . list ( ) , 0 , 0 ) ; 
 cfs . truncateBlocking ( ) ; 
 + Thread . sleep ( 1000 ) ; / / make sure the deletion tasks have run etc 
 validateCFS ( cfs ) ; 
 } 


NEAREST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index 83bbc04 . . 8aa0138 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 14 , 6 + 14 , 7 @ @ 
 * cqlsh : add vertical output option ( see EXPAND ) ( CASSANDRA - 5597 ) 
 * Add a rate limit option to stress ( CASSANDRA - 5004 ) 
 * have BulkLoader ignore snapshots directories ( CASSANDRA - 5587 ) 
 + * fix SnitchProperties logging context ( CASSANDRA - 5602 ) 
 Merged from 1 . 1 : 
 * Remove buggy thrift max message length option ( CASSANDRA - 5529 ) 
 * Fix NPE in Pig ' s widerow mode ( CASSANDRA - 5488 ) 
 diff - - git a / src / java / org / apache / cassandra / locator / SnitchProperties . java b / src / java / org / apache / cassandra / locator / SnitchProperties . java 
 index ae27fbe . . 809a180 100644 
 - - - a / src / java / org / apache / cassandra / locator / SnitchProperties . java 
 + + + b / src / java / org / apache / cassandra / locator / SnitchProperties . java 
 @ @ - 26 , 7 + 26 , 7 @ @ import org . slf4j . LoggerFactory ; 
 
 public class SnitchProperties 
 { 
 - private static final Logger logger = LoggerFactory . getLogger ( GossipingPropertyFileSnitch . class ) ; 
 + private static final Logger logger = LoggerFactory . getLogger ( SnitchProperties . class ) ; 
 public static final String RACKDC _ PROPERTY _ FILENAME = " cassandra - rackdc . properties " ; 
 private static Properties properties = new Properties ( ) ; 

