BLEU SCORE: 0.041961149062965476

TEST MSG: Ninja - add COUNTER _ MUTATION to DROPPABLE _ VERBS
GENERATED MSG: add filename check for commitlog replay

TEST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / net / MessagingService . java b / src / java / org / apache / cassandra / net / MessagingService . java <nl> index 3ec3267 . . bfc3957 100644 <nl> - - - a / src / java / org / apache / cassandra / net / MessagingService . java <nl> + + + b / src / java / org / apache / cassandra / net / MessagingService . java <nl> @ @ - 275 , 6 + 275 , 7 @ @ public final class MessagingService implements MessagingServiceMBean <nl> public static final EnumSet < Verb > DROPPABLE _ VERBS = EnumSet . of ( Verb . BINARY , <nl> Verb . _ TRACE , <nl> Verb . MUTATION , <nl> + Verb . COUNTER _ MUTATION , <nl> Verb . READ _ REPAIR , <nl> Verb . READ , <nl> Verb . RANGE _ SLICE ,
NEAREST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / db / commitlog / CommitLog . java b / src / java / org / apache / cassandra / db / commitlog / CommitLog . java <nl> index ab45ff7 . . 7cf0a9f 100644 <nl> - - - a / src / java / org / apache / cassandra / db / commitlog / CommitLog . java <nl> + + + b / src / java / org / apache / cassandra / db / commitlog / CommitLog . java <nl> @ @ - 161 , 8 + 161 , 7 @ @ public class CommitLog <nl> { <nl> public boolean accept ( File dir , String name ) <nl> { <nl> - / / throw out anything that starts with dot . <nl> - return ! name . matches ( " \ \ . . * " ) ; <nl> + return CommitLogSegment . possibleCommitLogFile ( name ) ; <nl> } <nl> } ) ; <nl> if ( files . length = = 0 ) <nl> diff - - git a / src / java / org / apache / cassandra / db / commitlog / CommitLogSegment . java b / src / java / org / apache / cassandra / db / commitlog / CommitLogSegment . java <nl> index ec54e6e . . bec2698 100644 <nl> - - - a / src / java / org / apache / cassandra / db / commitlog / CommitLogSegment . java <nl> + + + b / src / java / org / apache / cassandra / db / commitlog / CommitLogSegment . java <nl> @ @ - 63 , 6 + 63 , 11 @ @ public class CommitLogSegment <nl> } <nl> } <nl> <nl> + public static boolean possibleCommitLogFile ( String filename ) <nl> + { <nl> + return filename . matches ( " CommitLog - \ \ d + . log " ) ; <nl> + } <nl> + <nl> public void writeHeader ( ) throws IOException <nl> { <nl> seekAndWriteCommitLogHeader ( header . toByteArray ( ) ) ;

TEST DIFF:
diff - - git a / src / java / org / apache / cassandra / net / MessagingService . java b / src / java / org / apache / cassandra / net / MessagingService . java 
 index 3ec3267 . . bfc3957 100644 
 - - - a / src / java / org / apache / cassandra / net / MessagingService . java 
 + + + b / src / java / org / apache / cassandra / net / MessagingService . java 
 @ @ - 275 , 6 + 275 , 7 @ @ public final class MessagingService implements MessagingServiceMBean 
 public static final EnumSet < Verb > DROPPABLE _ VERBS = EnumSet . of ( Verb . BINARY , 
 Verb . _ TRACE , 
 Verb . MUTATION , 
 + Verb . COUNTER _ MUTATION , 
 Verb . READ _ REPAIR , 
 Verb . READ , 
 Verb . RANGE _ SLICE ,

NEAREST DIFF:
diff - - git a / src / java / org / apache / cassandra / db / commitlog / CommitLog . java b / src / java / org / apache / cassandra / db / commitlog / CommitLog . java 
 index ab45ff7 . . 7cf0a9f 100644 
 - - - a / src / java / org / apache / cassandra / db / commitlog / CommitLog . java 
 + + + b / src / java / org / apache / cassandra / db / commitlog / CommitLog . java 
 @ @ - 161 , 8 + 161 , 7 @ @ public class CommitLog 
 { 
 public boolean accept ( File dir , String name ) 
 { 
 - / / throw out anything that starts with dot . 
 - return ! name . matches ( " \ \ . . * " ) ; 
 + return CommitLogSegment . possibleCommitLogFile ( name ) ; 
 } 
 } ) ; 
 if ( files . length = = 0 ) 
 diff - - git a / src / java / org / apache / cassandra / db / commitlog / CommitLogSegment . java b / src / java / org / apache / cassandra / db / commitlog / CommitLogSegment . java 
 index ec54e6e . . bec2698 100644 
 - - - a / src / java / org / apache / cassandra / db / commitlog / CommitLogSegment . java 
 + + + b / src / java / org / apache / cassandra / db / commitlog / CommitLogSegment . java 
 @ @ - 63 , 6 + 63 , 11 @ @ public class CommitLogSegment 
 } 
 } 
 
 + public static boolean possibleCommitLogFile ( String filename ) 
 + { 
 + return filename . matches ( " CommitLog - \ \ d + . log " ) ; 
 + } 
 + 
 public void writeHeader ( ) throws IOException 
 { 
 seekAndWriteCommitLogHeader ( header . toByteArray ( ) ) ;
