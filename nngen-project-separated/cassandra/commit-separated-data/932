BLEU SCORE: 0.04767707020457096

TEST MSG: and update CHANGES . txt for CASSANDRA - 11051
GENERATED MSG: CHANGES

TEST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index 4631178 . . 73bc1a3 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 1 , 4 + 1 , 5 @ @ <nl> 3 . 6 <nl> + * Make LZ4 compression level configurable ( CASSANDRA - 11051 ) <nl> * Allow per - partition LIMIT clause in CQL ( CASSANDRA - 7017 ) <nl> * Make custom filtering more extensible with UserExpression ( CASSANDRA - 11295 ) <nl> * Improve field - checking and error reporting in cassandra . yaml ( CASSANDRA - 10649 )
NEAREST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index 70b9ae6 . . c53e556 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 1 , 6 + 1 , 7 @ @ <nl> 1 . 2 - beta2 <nl> * adjust blockFor calculation to account for pending ranges due to node <nl> movement ( CASSANDRA - 833 ) <nl> + * Change CQL version to 3 . 0 . 0 and stop accepting 3 . 0 . 0 - beta1 ( CASSANDRA - 4649 ) <nl> <nl> 1 . 2 - beta1 <nl> * add atomic _ batch _ mutate ( CASSANDRA - 4542 , - 4635 ) <nl> diff - - git a / src / java / org / apache / cassandra / cql3 / QueryProcessor . java b / src / java / org / apache / cassandra / cql3 / QueryProcessor . java <nl> index 0943029 . . 146f775 100644 <nl> - - - a / src / java / org / apache / cassandra / cql3 / QueryProcessor . java <nl> + + + b / src / java / org / apache / cassandra / cql3 / QueryProcessor . java <nl> @ @ - 38 , 7 + 38 , 7 @ @ import org . apache . cassandra . utils . SemanticVersion ; <nl> <nl> public class QueryProcessor <nl> { <nl> - public static final SemanticVersion CQL _ VERSION = new SemanticVersion ( " 3 . 0 . 0 - beta1 " ) ; <nl> + public static final SemanticVersion CQL _ VERSION = new SemanticVersion ( " 3 . 0 . 0 " ) ; <nl> <nl> private static final Logger logger = LoggerFactory . getLogger ( QueryProcessor . class ) ; <nl> <nl> diff - - git a / src / java / org / apache / cassandra / service / ClientState . java b / src / java / org / apache / cassandra / service / ClientState . java <nl> index 00b6039 . . ef640af 100644 <nl> - - - a / src / java / org / apache / cassandra / service / ClientState . java <nl> + + + b / src / java / org / apache / cassandra / service / ClientState . java <nl> @ @ - 346 , 6 + 346 , 13 @ @ public class ClientState <nl> SemanticVersion cql = org . apache . cassandra . cql . QueryProcessor . CQL _ VERSION ; <nl> SemanticVersion cql3 = org . apache . cassandra . cql3 . QueryProcessor . CQL _ VERSION ; <nl> <nl> + / / We ' ve made some backward incompatible changes between CQL3 beta1 and the final . <nl> + / / It ' s ok because it was a beta , but it still mean we don ' t support 3 . 0 . 0 - beta1 so reject it . <nl> + SemanticVersion cql3Beta = new SemanticVersion ( " 3 . 0 . 0 - beta1 " ) ; <nl> + if ( version . equals ( cql3Beta ) ) <nl> + throw new InvalidRequestException ( String . format ( " There has been a few syntax breaking changes between 3 . 0 . 0 - beta1 and 3 . 0 . 0 " <nl> + + " ( mainly the syntax for options of CREATE KEYSPACE and CREATE TABLE ) . 3 . 0 . 0 - beta1 " <nl> + + " is not supported ; please upgrade to 3 . 0 . 0 " ) ) ; <nl> if ( version . isSupportedBy ( cql ) ) <nl> cqlVersion = cql ; <nl> else if ( version . isSupportedBy ( cql3 ) )

TEST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index 4631178 . . 73bc1a3 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 1 , 4 + 1 , 5 @ @ 
 3 . 6 
 + * Make LZ4 compression level configurable ( CASSANDRA - 11051 ) 
 * Allow per - partition LIMIT clause in CQL ( CASSANDRA - 7017 ) 
 * Make custom filtering more extensible with UserExpression ( CASSANDRA - 11295 ) 
 * Improve field - checking and error reporting in cassandra . yaml ( CASSANDRA - 10649 )

NEAREST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index 70b9ae6 . . c53e556 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 1 , 6 + 1 , 7 @ @ 
 1 . 2 - beta2 
 * adjust blockFor calculation to account for pending ranges due to node 
 movement ( CASSANDRA - 833 ) 
 + * Change CQL version to 3 . 0 . 0 and stop accepting 3 . 0 . 0 - beta1 ( CASSANDRA - 4649 ) 
 
 1 . 2 - beta1 
 * add atomic _ batch _ mutate ( CASSANDRA - 4542 , - 4635 ) 
 diff - - git a / src / java / org / apache / cassandra / cql3 / QueryProcessor . java b / src / java / org / apache / cassandra / cql3 / QueryProcessor . java 
 index 0943029 . . 146f775 100644 
 - - - a / src / java / org / apache / cassandra / cql3 / QueryProcessor . java 
 + + + b / src / java / org / apache / cassandra / cql3 / QueryProcessor . java 
 @ @ - 38 , 7 + 38 , 7 @ @ import org . apache . cassandra . utils . SemanticVersion ; 
 
 public class QueryProcessor 
 { 
 - public static final SemanticVersion CQL _ VERSION = new SemanticVersion ( " 3 . 0 . 0 - beta1 " ) ; 
 + public static final SemanticVersion CQL _ VERSION = new SemanticVersion ( " 3 . 0 . 0 " ) ; 
 
 private static final Logger logger = LoggerFactory . getLogger ( QueryProcessor . class ) ; 
 
 diff - - git a / src / java / org / apache / cassandra / service / ClientState . java b / src / java / org / apache / cassandra / service / ClientState . java 
 index 00b6039 . . ef640af 100644 
 - - - a / src / java / org / apache / cassandra / service / ClientState . java 
 + + + b / src / java / org / apache / cassandra / service / ClientState . java 
 @ @ - 346 , 6 + 346 , 13 @ @ public class ClientState 
 SemanticVersion cql = org . apache . cassandra . cql . QueryProcessor . CQL _ VERSION ; 
 SemanticVersion cql3 = org . apache . cassandra . cql3 . QueryProcessor . CQL _ VERSION ; 
 
 + / / We ' ve made some backward incompatible changes between CQL3 beta1 and the final . 
 + / / It ' s ok because it was a beta , but it still mean we don ' t support 3 . 0 . 0 - beta1 so reject it . 
 + SemanticVersion cql3Beta = new SemanticVersion ( " 3 . 0 . 0 - beta1 " ) ; 
 + if ( version . equals ( cql3Beta ) ) 
 + throw new InvalidRequestException ( String . format ( " There has been a few syntax breaking changes between 3 . 0 . 0 - beta1 and 3 . 0 . 0 " 
 + + " ( mainly the syntax for options of CREATE KEYSPACE and CREATE TABLE ) . 3 . 0 . 0 - beta1 " 
 + + " is not supported ; please upgrade to 3 . 0 . 0 " ) ) ; 
 if ( version . isSupportedBy ( cql ) ) 
 cqlVersion = cql ; 
 else if ( version . isSupportedBy ( cql3 ) )
