BLEU SCORE: 0.7071067811865476

TEST MSG: fix build
GENERATED MSG: Fix build

TEST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / hadoop / cql3 / CqlConfigHelper . java b / src / java / org / apache / cassandra / hadoop / cql3 / CqlConfigHelper . java <nl> index b375ce2 . . 7a5fd47 100644 <nl> - - - a / src / java / org / apache / cassandra / hadoop / cql3 / CqlConfigHelper . java <nl> + + + b / src / java / org / apache / cassandra / hadoop / cql3 / CqlConfigHelper . java <nl> @ @ - 422 , 15 + 422 , 15 @ @ public class CqlConfigHelper <nl> poolingOptions . setCoreConnectionsPerHost ( HostDistance . LOCAL , coreConnections . get ( ) ) ; <nl> if ( maxConnections . isPresent ( ) ) <nl> poolingOptions . setMaxConnectionsPerHost ( HostDistance . LOCAL , maxConnections . get ( ) ) ; <nl> - if ( maxSimultaneousRequests . isPresent ( ) ) <nl> - poolingOptions . setMaxSimultaneousRequestsPerConnectionThreshold ( HostDistance . LOCAL , maxSimultaneousRequests . get ( ) ) ; <nl> if ( minSimultaneousRequests . isPresent ( ) ) <nl> poolingOptions . setMinSimultaneousRequestsPerConnectionThreshold ( HostDistance . LOCAL , minSimultaneousRequests . get ( ) ) ; <nl> + if ( maxSimultaneousRequests . isPresent ( ) ) <nl> + poolingOptions . setMaxSimultaneousRequestsPerConnectionThreshold ( HostDistance . LOCAL , maxSimultaneousRequests . get ( ) ) ; <nl> <nl> poolingOptions . setCoreConnectionsPerHost ( HostDistance . REMOTE , 0 ) <nl> . setMaxConnectionsPerHost ( HostDistance . REMOTE , 0 ) <nl> - . setMaxSimultaneousRequestsPerConnectionThreshold ( HostDistance . REMOTE , 0 ) <nl> - . setMinSimultaneousRequestsPerConnectionThreshold ( HostDistance . REMOTE , 0 ) ; <nl> + . setMinSimultaneousRequestsPerConnectionThreshold ( HostDistance . REMOTE , 0 ) <nl> + . setMaxSimultaneousRequestsPerConnectionThreshold ( HostDistance . REMOTE , 0 ) ; <nl> <nl> return poolingOptions ; <nl> } <nl> @ @ - 519 , 6 + 519 , 11 @ @ public class CqlConfigHelper <nl> } <nl> <nl> @ Override <nl> + public void onSuspected ( Host host ) <nl> + { <nl> + } <nl> + <nl> + @ Override <nl> public HostDistance distance ( Host host ) <nl> { <nl> if ( host . getAddress ( ) . getHostName ( ) . equals ( stickHost ) )
NEAREST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index cc8831e . . def5d31 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 23 , 6 + 23 , 7 @ @ <nl> ( CASSANDRA - 3170 ) <nl> * fix changing durable _ writes keyspace option during CF creation <nl> ( CASSANDRA - 3292 ) <nl> + * correct dropped messages logging ( CASSANDRA - 3377 ) <nl> <nl> <nl> 0 . 8 . 7 <nl> diff - - git a / src / java / org / apache / cassandra / net / MessagingService . java b / src / java / org / apache / cassandra / net / MessagingService . java <nl> index f70690b . . 55abe9d 100644 <nl> - - - a / src / java / org / apache / cassandra / net / MessagingService . java <nl> + + + b / src / java / org / apache / cassandra / net / MessagingService . java <nl> @ @ - 609 , 7 + 609 , 8 @ @ public final class MessagingService implements MessagingServiceMBean <nl> if ( recent > 0 ) <nl> { <nl> logTpstats = true ; <nl> - logger _ . info ( " { } { } messages dropped in server lifetime " , recent , verb ) ; <nl> + logger _ . info ( " { } { } messages dropped in last { } ms " , <nl> + new Object [ ] { recent , verb , LOG _ DROPPED _ INTERVAL _ IN _ MS } ) ; <nl> lastDroppedInternal . put ( verb , dropped . get ( ) ) ; <nl> } <nl> }

TEST DIFF:
diff - - git a / src / java / org / apache / cassandra / hadoop / cql3 / CqlConfigHelper . java b / src / java / org / apache / cassandra / hadoop / cql3 / CqlConfigHelper . java 
 index b375ce2 . . 7a5fd47 100644 
 - - - a / src / java / org / apache / cassandra / hadoop / cql3 / CqlConfigHelper . java 
 + + + b / src / java / org / apache / cassandra / hadoop / cql3 / CqlConfigHelper . java 
 @ @ - 422 , 15 + 422 , 15 @ @ public class CqlConfigHelper 
 poolingOptions . setCoreConnectionsPerHost ( HostDistance . LOCAL , coreConnections . get ( ) ) ; 
 if ( maxConnections . isPresent ( ) ) 
 poolingOptions . setMaxConnectionsPerHost ( HostDistance . LOCAL , maxConnections . get ( ) ) ; 
 - if ( maxSimultaneousRequests . isPresent ( ) ) 
 - poolingOptions . setMaxSimultaneousRequestsPerConnectionThreshold ( HostDistance . LOCAL , maxSimultaneousRequests . get ( ) ) ; 
 if ( minSimultaneousRequests . isPresent ( ) ) 
 poolingOptions . setMinSimultaneousRequestsPerConnectionThreshold ( HostDistance . LOCAL , minSimultaneousRequests . get ( ) ) ; 
 + if ( maxSimultaneousRequests . isPresent ( ) ) 
 + poolingOptions . setMaxSimultaneousRequestsPerConnectionThreshold ( HostDistance . LOCAL , maxSimultaneousRequests . get ( ) ) ; 
 
 poolingOptions . setCoreConnectionsPerHost ( HostDistance . REMOTE , 0 ) 
 . setMaxConnectionsPerHost ( HostDistance . REMOTE , 0 ) 
 - . setMaxSimultaneousRequestsPerConnectionThreshold ( HostDistance . REMOTE , 0 ) 
 - . setMinSimultaneousRequestsPerConnectionThreshold ( HostDistance . REMOTE , 0 ) ; 
 + . setMinSimultaneousRequestsPerConnectionThreshold ( HostDistance . REMOTE , 0 ) 
 + . setMaxSimultaneousRequestsPerConnectionThreshold ( HostDistance . REMOTE , 0 ) ; 
 
 return poolingOptions ; 
 } 
 @ @ - 519 , 6 + 519 , 11 @ @ public class CqlConfigHelper 
 } 
 
 @ Override 
 + public void onSuspected ( Host host ) 
 + { 
 + } 
 + 
 + @ Override 
 public HostDistance distance ( Host host ) 
 { 
 if ( host . getAddress ( ) . getHostName ( ) . equals ( stickHost ) )

NEAREST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index cc8831e . . def5d31 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 23 , 6 + 23 , 7 @ @ 
 ( CASSANDRA - 3170 ) 
 * fix changing durable _ writes keyspace option during CF creation 
 ( CASSANDRA - 3292 ) 
 + * correct dropped messages logging ( CASSANDRA - 3377 ) 
 
 
 0 . 8 . 7 
 diff - - git a / src / java / org / apache / cassandra / net / MessagingService . java b / src / java / org / apache / cassandra / net / MessagingService . java 
 index f70690b . . 55abe9d 100644 
 - - - a / src / java / org / apache / cassandra / net / MessagingService . java 
 + + + b / src / java / org / apache / cassandra / net / MessagingService . java 
 @ @ - 609 , 7 + 609 , 8 @ @ public final class MessagingService implements MessagingServiceMBean 
 if ( recent > 0 ) 
 { 
 logTpstats = true ; 
 - logger _ . info ( " { } { } messages dropped in server lifetime " , recent , verb ) ; 
 + logger _ . info ( " { } { } messages dropped in last { } ms " , 
 + new Object [ ] { recent , verb , LOG _ DROPPED _ INTERVAL _ IN _ MS } ) ; 
 lastDroppedInternal . put ( verb , dropped . get ( ) ) ; 
 } 
 }
