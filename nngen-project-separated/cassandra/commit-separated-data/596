BLEU SCORE: 0.02477985347170534

TEST MSG: Avoid potential AttributeError in cqlsh due to no table metadata
GENERATED MSG: ( cqlsh ) parse _ for _ table _ meta errors out on queries with undefined grammars

TEST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index d1f2677 . . ef728c7 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 1 , 4 + 1 , 5 @ @ <nl> 3 . 10 <nl> + * Avoid potential AttributeError in cqlsh due to no table metadata ( CASSANDRA - 12815 ) <nl> * Fix RandomReplicationAwareTokenAllocatorTest . testExistingCluster ( CASSANDRA - 12812 ) <nl> * Upgrade commons - codec to 1 . 9 ( CASSANDRA - 12790 ) <nl> * Make the fanout size for LeveledCompactionStrategy to be configurable ( CASSANDRA - 11550 ) <nl> diff - - git a / bin / cqlsh . py b / bin / cqlsh . py <nl> index e741752 . . 072ef08 100644 <nl> - - - a / bin / cqlsh . py <nl> + + + b / bin / cqlsh . py <nl> @ @ - 1334 , 7 + 1334 , 8 @ @ class Shell ( cmd . Cmd ) : <nl> <nl> cql _ types = [ ] <nl> if result . column _ types : <nl> - ks _ meta = self . conn . metadata . keyspaces [ table _ meta . keyspace _ name ] <nl> + ks _ name = table _ meta . keyspace _ name if table _ meta else self . current _ keyspace <nl> + ks _ meta = self . conn . metadata . keyspaces . get ( ks _ name , None ) <nl> cql _ types = [ CqlType ( cql _ typename ( t ) , ks _ meta ) for t in result . column _ types ] <nl> <nl> formatted _ values = [ map ( self . myformat _ value , row . values ( ) , cql _ types ) for row in result . current _ rows ]
NEAREST DIFF (one line): ELIMINATEDSENTENCE

TEST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index d1f2677 . . ef728c7 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 1 , 4 + 1 , 5 @ @ 
 3 . 10 
 + * Avoid potential AttributeError in cqlsh due to no table metadata ( CASSANDRA - 12815 ) 
 * Fix RandomReplicationAwareTokenAllocatorTest . testExistingCluster ( CASSANDRA - 12812 ) 
 * Upgrade commons - codec to 1 . 9 ( CASSANDRA - 12790 ) 
 * Make the fanout size for LeveledCompactionStrategy to be configurable ( CASSANDRA - 11550 ) 
 diff - - git a / bin / cqlsh . py b / bin / cqlsh . py 
 index e741752 . . 072ef08 100644 
 - - - a / bin / cqlsh . py 
 + + + b / bin / cqlsh . py 
 @ @ - 1334 , 7 + 1334 , 8 @ @ class Shell ( cmd . Cmd ) : 
 
 cql _ types = [ ] 
 if result . column _ types : 
 - ks _ meta = self . conn . metadata . keyspaces [ table _ meta . keyspace _ name ] 
 + ks _ name = table _ meta . keyspace _ name if table _ meta else self . current _ keyspace 
 + ks _ meta = self . conn . metadata . keyspaces . get ( ks _ name , None ) 
 cql _ types = [ CqlType ( cql _ typename ( t ) , ks _ meta ) for t in result . column _ types ] 
 
 formatted _ values = [ map ( self . myformat _ value , row . values ( ) , cql _ types ) for row in result . current _ rows ]

NEAREST DIFF:
ELIMINATEDSENTENCE
