BLEU SCORE: 0.02383853510228548

TEST MSG: Add back ColumnIdentifier comparison since we do use it
GENERATED MSG: Return correct comparator for names in ResultSet

TEST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / cql3 / CFDefinition . java b / src / java / org / apache / cassandra / cql3 / CFDefinition . java <nl> index 6565a85 . . 47de4dd 100644 <nl> - - - a / src / java / org / apache / cassandra / cql3 / CFDefinition . java <nl> + + + b / src / java / org / apache / cassandra / cql3 / CFDefinition . java <nl> @ @ - 49 , 7 + 49 , 13 @ @ public class CFDefinition implements Iterable < CFDefinition . Name > <nl> public final LinkedHashMap < ColumnIdentifier , Name > columns = new LinkedHashMap < ColumnIdentifier , Name > ( ) ; <nl> public final Name value ; <nl> / / Keep metadata lexicographically ordered so that wildcard expansion have a deterministic order <nl> - public final Map < ColumnIdentifier , Name > metadata = new TreeMap < ColumnIdentifier , Name > ( ) ; <nl> + public final Map < ColumnIdentifier , Name > metadata = new TreeMap < ColumnIdentifier , Name > ( new Comparator < ColumnIdentifier > ( ) <nl> + { <nl> + public int compare ( ColumnIdentifier id1 , ColumnIdentifier id2 ) <nl> + { <nl> + return ByteBufferUtil . compareUnsigned ( id1 . key , id2 . key ) ; <nl> + } <nl> + } ) ; ; <nl> <nl> public final boolean isComposite ; <nl> public final boolean hasCompositeKey ;
NEAREST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / cql3 / Cql . g b / src / java / org / apache / cassandra / cql3 / Cql . g <nl> index 13b2956 . . 2ccfc5a 100644 <nl> - - - a / src / java / org / apache / cassandra / cql3 / Cql . g <nl> + + + b / src / java / org / apache / cassandra / cql3 / Cql . g <nl> @ @ - 481 , 7 + 481 , 7 @ @ relation returns [ Relation rel ] <nl> ; <nl> <nl> comparatorType returns [ String str ] <nl> - : c = ( IDENT | STRING _ LITERAL ) { $ str = $ c . text ; } <nl> + : c = ( IDENT | STRING _ LITERAL | K _ TIMESTAMP ) { $ str = $ c . text ; } <nl> ; <nl> <nl>

TEST DIFF:
diff - - git a / src / java / org / apache / cassandra / cql3 / CFDefinition . java b / src / java / org / apache / cassandra / cql3 / CFDefinition . java 
 index 6565a85 . . 47de4dd 100644 
 - - - a / src / java / org / apache / cassandra / cql3 / CFDefinition . java 
 + + + b / src / java / org / apache / cassandra / cql3 / CFDefinition . java 
 @ @ - 49 , 7 + 49 , 13 @ @ public class CFDefinition implements Iterable < CFDefinition . Name > 
 public final LinkedHashMap < ColumnIdentifier , Name > columns = new LinkedHashMap < ColumnIdentifier , Name > ( ) ; 
 public final Name value ; 
 / / Keep metadata lexicographically ordered so that wildcard expansion have a deterministic order 
 - public final Map < ColumnIdentifier , Name > metadata = new TreeMap < ColumnIdentifier , Name > ( ) ; 
 + public final Map < ColumnIdentifier , Name > metadata = new TreeMap < ColumnIdentifier , Name > ( new Comparator < ColumnIdentifier > ( ) 
 + { 
 + public int compare ( ColumnIdentifier id1 , ColumnIdentifier id2 ) 
 + { 
 + return ByteBufferUtil . compareUnsigned ( id1 . key , id2 . key ) ; 
 + } 
 + } ) ; ; 
 
 public final boolean isComposite ; 
 public final boolean hasCompositeKey ;

NEAREST DIFF:
diff - - git a / src / java / org / apache / cassandra / cql3 / Cql . g b / src / java / org / apache / cassandra / cql3 / Cql . g 
 index 13b2956 . . 2ccfc5a 100644 
 - - - a / src / java / org / apache / cassandra / cql3 / Cql . g 
 + + + b / src / java / org / apache / cassandra / cql3 / Cql . g 
 @ @ - 481 , 7 + 481 , 7 @ @ relation returns [ Relation rel ] 
 ; 
 
 comparatorType returns [ String str ] 
 - : c = ( IDENT | STRING _ LITERAL ) { $ str = $ c . text ; } 
 + : c = ( IDENT | STRING _ LITERAL | K _ TIMESTAMP ) { $ str = $ c . text ; } 
 ; 
 

