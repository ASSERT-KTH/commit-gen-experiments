BLEU SCORE: 0.1152159099228654

TEST MSG: fix flapping DTCS test
GENERATED MSG: fix infinite loop in LCS test

TEST DIFF (one line): diff - - git a / test / unit / org / apache / cassandra / db / compaction / DateTieredCompactionStrategyTest . java b / test / unit / org / apache / cassandra / db / compaction / DateTieredCompactionStrategyTest . java <nl> index 2fab014 . . 3bc830b 100644 <nl> - - - a / test / unit / org / apache / cassandra / db / compaction / DateTieredCompactionStrategyTest . java <nl> + + + b / test / unit / org / apache / cassandra / db / compaction / DateTieredCompactionStrategyTest . java <nl> @ @ - 368 , 5 + 368 , 6 @ @ public class DateTieredCompactionStrategyTest extends SchemaLoader <nl> AbstractCompactionTask task = dtcs . getNextBackgroundTask ( 0 ) ; <nl> assertEquals ( 20 , task . transaction . originals ( ) . size ( ) ) ; <nl> task . transaction . abort ( ) ; <nl> + cfs . truncateBlocking ( ) ; <nl> } <nl> }
NEAREST DIFF (one line): diff - - git a / test / unit / org / apache / cassandra / db / compaction / LeveledCompactionStrategyTest . java b / test / unit / org / apache / cassandra / db / compaction / LeveledCompactionStrategyTest . java <nl> index 56f12de . . 9392195 100644 <nl> - - - a / test / unit / org / apache / cassandra / db / compaction / LeveledCompactionStrategyTest . java <nl> + + + b / test / unit / org / apache / cassandra / db / compaction / LeveledCompactionStrategyTest . java <nl> @ @ - 69 , 7 + 69 , 7 @ @ public class LeveledCompactionStrategyTest extends SchemaLoader <nl> <nl> LeveledCompactionStrategy strat = ( LeveledCompactionStrategy ) store . getCompactionStrategy ( ) ; <nl> <nl> - while ( strat . getLevelSize ( 0 ) > 0 ) <nl> + while ( strat . getLevelSize ( 0 ) > 1 ) <nl> { <nl> store . forceMajorCompaction ( ) ; <nl> Thread . sleep ( 200 ) ;

TEST DIFF:
diff - - git a / test / unit / org / apache / cassandra / db / compaction / DateTieredCompactionStrategyTest . java b / test / unit / org / apache / cassandra / db / compaction / DateTieredCompactionStrategyTest . java 
 index 2fab014 . . 3bc830b 100644 
 - - - a / test / unit / org / apache / cassandra / db / compaction / DateTieredCompactionStrategyTest . java 
 + + + b / test / unit / org / apache / cassandra / db / compaction / DateTieredCompactionStrategyTest . java 
 @ @ - 368 , 5 + 368 , 6 @ @ public class DateTieredCompactionStrategyTest extends SchemaLoader 
 AbstractCompactionTask task = dtcs . getNextBackgroundTask ( 0 ) ; 
 assertEquals ( 20 , task . transaction . originals ( ) . size ( ) ) ; 
 task . transaction . abort ( ) ; 
 + cfs . truncateBlocking ( ) ; 
 } 
 }

NEAREST DIFF:
diff - - git a / test / unit / org / apache / cassandra / db / compaction / LeveledCompactionStrategyTest . java b / test / unit / org / apache / cassandra / db / compaction / LeveledCompactionStrategyTest . java 
 index 56f12de . . 9392195 100644 
 - - - a / test / unit / org / apache / cassandra / db / compaction / LeveledCompactionStrategyTest . java 
 + + + b / test / unit / org / apache / cassandra / db / compaction / LeveledCompactionStrategyTest . java 
 @ @ - 69 , 7 + 69 , 7 @ @ public class LeveledCompactionStrategyTest extends SchemaLoader 
 
 LeveledCompactionStrategy strat = ( LeveledCompactionStrategy ) store . getCompactionStrategy ( ) ; 
 
 - while ( strat . getLevelSize ( 0 ) > 0 ) 
 + while ( strat . getLevelSize ( 0 ) > 1 ) 
 { 
 store . forceMajorCompaction ( ) ; 
 Thread . sleep ( 200 ) ;
