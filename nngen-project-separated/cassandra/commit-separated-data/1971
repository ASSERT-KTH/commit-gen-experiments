BLEU SCORE: 0.08310415003234632

TEST MSG: Damnit , Carl
GENERATED MSG: Expose schema version in nodetool .

TEST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / service / StorageService . java b / src / java / org / apache / cassandra / service / StorageService . java <nl> index 19b4615 . . 332fbe5 100644 <nl> - - - a / src / java / org / apache / cassandra / service / StorageService . java <nl> + + + b / src / java / org / apache / cassandra / service / StorageService . java <nl> @ @ - 3567 , 6 + 3567 , 11 @ @ public class StorageService extends NotificationBroadcasterSupport implements IE <nl> return operationMode . toString ( ) ; <nl> } <nl> <nl> + public boolean isStarting ( ) <nl> + { <nl> + return operationMode = = Mode . STARTING ; <nl> + } <nl> + <nl> public String getDrainProgress ( ) <nl> { <nl> return String . format ( " Drained % s / % s ColumnFamilies " , remainingCFs , totalCFs ) ; <nl> diff - - git a / src / java / org / apache / cassandra / service / StorageServiceMBean . java b / src / java / org / apache / cassandra / service / StorageServiceMBean . java <nl> index e7d6f14 . . a661b97 100644 <nl> - - - a / src / java / org / apache / cassandra / service / StorageServiceMBean . java <nl> + + + b / src / java / org / apache / cassandra / service / StorageServiceMBean . java <nl> @ @ - 365 , 6 + 365 , 9 @ @ public interface StorageServiceMBean extends NotificationEmitter <nl> / * * get the operational mode ( leaving , joining , normal , decommissioned , client ) * * / <nl> public String getOperationMode ( ) ; <nl> <nl> + / * * Returns whether the storage service is starting or not * / <nl> + public boolean isStarting ( ) ; <nl> + <nl> / * * get the progress of a drain operation * / <nl> public String getDrainProgress ( ) ; <nl> <nl> diff - - git a / src / java / org / apache / cassandra / tools / NodeProbe . java b / src / java / org / apache / cassandra / tools / NodeProbe . java <nl> index 38d0f74 . . 9c9e93d 100644 <nl> - - - a / src / java / org / apache / cassandra / tools / NodeProbe . java <nl> + + + b / src / java / org / apache / cassandra / tools / NodeProbe . java <nl> @ @ - 650 , 6 + 650 , 11 @ @ public class NodeProbe implements AutoCloseable <nl> return ssProxy . getOperationMode ( ) ; <nl> } <nl> <nl> + public boolean isStarting ( ) <nl> + { <nl> + return ssProxy . isStarting ( ) ; <nl> + } <nl> + <nl> public void truncate ( String keyspaceName , String cfName ) <nl> { <nl> try
NEAREST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / utils / IntervalTree / IntervalTree . java b / src / java / org / apache / cassandra / utils / IntervalTree / IntervalTree . java <nl> index a01ed53 . . 954c796 100644 <nl> - - - a / src / java / org / apache / cassandra / utils / IntervalTree / IntervalTree . java <nl> + + + b / src / java / org / apache / cassandra / utils / IntervalTree / IntervalTree . java <nl> @ @ - 21 , 6 + 21 , 7 @ @ package org . apache . cassandra . utils . IntervalTree ; <nl> * / <nl> <nl> <nl> + import java . util . ArrayList ; <nl> import java . util . LinkedList ; <nl> import java . util . List ; <nl> <nl> @ @ - 50 , 12 + 51 , 12 @ @ public class IntervalTree < T > <nl> <nl> public List < T > search ( Interval < T > searchInterval ) <nl> { <nl> - List < T > retlist = new LinkedList < T > ( ) ; <nl> - searchInternal ( head , searchInterval , retlist ) ; <nl> - return retlist ; <nl> + List < T > results = new ArrayList < T > ( ) ; <nl> + searchInternal ( head , searchInterval , results ) ; <nl> + return results ; <nl> } <nl> <nl> - protected void searchInternal ( IntervalNode node , Interval < T > searchInterval , List < T > retList ) <nl> + protected void searchInternal ( IntervalNode node , Interval < T > searchInterval , List < T > results ) <nl> { <nl> if ( null = = head ) <nl> return ; <nl> @ @ - 68 , 11 + 69 , 11 @ @ public class IntervalTree < T > <nl> { <nl> for ( Interval < T > interval : node . intersects _ left ) <nl> { <nl> - retList . add ( interval . Data ) ; <nl> + results . add ( interval . Data ) ; <nl> } <nl> <nl> - searchInternal ( node . left , searchInterval , retList ) ; <nl> - searchInternal ( node . right , searchInterval , retList ) ; <nl> + searchInternal ( node . left , searchInterval , results ) ; <nl> + searchInternal ( node . right , searchInterval , results ) ; <nl> return ; <nl> } <nl> <nl> @ @ - 86 , 11 + 87 , 11 @ @ public class IntervalTree < T > <nl> { <nl> if ( interval . max . compareTo ( searchInterval . min ) > = 0 ) <nl> { <nl> - retList . add ( interval . Data ) ; <nl> + results . add ( interval . Data ) ; <nl> } <nl> else break ; <nl> } <nl> - searchInternal ( node . right , searchInterval , retList ) ; <nl> + searchInternal ( node . right , searchInterval , results ) ; <nl> return ; <nl> } <nl> <nl> @ @ - 104 , 11 + 105 , 11 @ @ public class IntervalTree < T > <nl> { <nl> if ( interval . min . compareTo ( searchInterval . max ) < = 0 ) <nl> { <nl> - retList . add ( interval . Data ) ; <nl> + results . add ( interval . Data ) ; <nl> } <nl> else break ; <nl> } <nl> - searchInternal ( node . left , searchInterval , retList ) ; <nl> + searchInternal ( node . left , searchInterval , results ) ; <nl> return ; <nl> } <nl> }

TEST DIFF:
diff - - git a / src / java / org / apache / cassandra / service / StorageService . java b / src / java / org / apache / cassandra / service / StorageService . java 
 index 19b4615 . . 332fbe5 100644 
 - - - a / src / java / org / apache / cassandra / service / StorageService . java 
 + + + b / src / java / org / apache / cassandra / service / StorageService . java 
 @ @ - 3567 , 6 + 3567 , 11 @ @ public class StorageService extends NotificationBroadcasterSupport implements IE 
 return operationMode . toString ( ) ; 
 } 
 
 + public boolean isStarting ( ) 
 + { 
 + return operationMode = = Mode . STARTING ; 
 + } 
 + 
 public String getDrainProgress ( ) 
 { 
 return String . format ( " Drained % s / % s ColumnFamilies " , remainingCFs , totalCFs ) ; 
 diff - - git a / src / java / org / apache / cassandra / service / StorageServiceMBean . java b / src / java / org / apache / cassandra / service / StorageServiceMBean . java 
 index e7d6f14 . . a661b97 100644 
 - - - a / src / java / org / apache / cassandra / service / StorageServiceMBean . java 
 + + + b / src / java / org / apache / cassandra / service / StorageServiceMBean . java 
 @ @ - 365 , 6 + 365 , 9 @ @ public interface StorageServiceMBean extends NotificationEmitter 
 / * * get the operational mode ( leaving , joining , normal , decommissioned , client ) * * / 
 public String getOperationMode ( ) ; 
 
 + / * * Returns whether the storage service is starting or not * / 
 + public boolean isStarting ( ) ; 
 + 
 / * * get the progress of a drain operation * / 
 public String getDrainProgress ( ) ; 
 
 diff - - git a / src / java / org / apache / cassandra / tools / NodeProbe . java b / src / java / org / apache / cassandra / tools / NodeProbe . java 
 index 38d0f74 . . 9c9e93d 100644 
 - - - a / src / java / org / apache / cassandra / tools / NodeProbe . java 
 + + + b / src / java / org / apache / cassandra / tools / NodeProbe . java 
 @ @ - 650 , 6 + 650 , 11 @ @ public class NodeProbe implements AutoCloseable 
 return ssProxy . getOperationMode ( ) ; 
 } 
 
 + public boolean isStarting ( ) 
 + { 
 + return ssProxy . isStarting ( ) ; 
 + } 
 + 
 public void truncate ( String keyspaceName , String cfName ) 
 { 
 try

NEAREST DIFF:
diff - - git a / src / java / org / apache / cassandra / utils / IntervalTree / IntervalTree . java b / src / java / org / apache / cassandra / utils / IntervalTree / IntervalTree . java 
 index a01ed53 . . 954c796 100644 
 - - - a / src / java / org / apache / cassandra / utils / IntervalTree / IntervalTree . java 
 + + + b / src / java / org / apache / cassandra / utils / IntervalTree / IntervalTree . java 
 @ @ - 21 , 6 + 21 , 7 @ @ package org . apache . cassandra . utils . IntervalTree ; 
 * / 
 
 
 + import java . util . ArrayList ; 
 import java . util . LinkedList ; 
 import java . util . List ; 
 
 @ @ - 50 , 12 + 51 , 12 @ @ public class IntervalTree < T > 
 
 public List < T > search ( Interval < T > searchInterval ) 
 { 
 - List < T > retlist = new LinkedList < T > ( ) ; 
 - searchInternal ( head , searchInterval , retlist ) ; 
 - return retlist ; 
 + List < T > results = new ArrayList < T > ( ) ; 
 + searchInternal ( head , searchInterval , results ) ; 
 + return results ; 
 } 
 
 - protected void searchInternal ( IntervalNode node , Interval < T > searchInterval , List < T > retList ) 
 + protected void searchInternal ( IntervalNode node , Interval < T > searchInterval , List < T > results ) 
 { 
 if ( null = = head ) 
 return ; 
 @ @ - 68 , 11 + 69 , 11 @ @ public class IntervalTree < T > 
 { 
 for ( Interval < T > interval : node . intersects _ left ) 
 { 
 - retList . add ( interval . Data ) ; 
 + results . add ( interval . Data ) ; 
 } 
 
 - searchInternal ( node . left , searchInterval , retList ) ; 
 - searchInternal ( node . right , searchInterval , retList ) ; 
 + searchInternal ( node . left , searchInterval , results ) ; 
 + searchInternal ( node . right , searchInterval , results ) ; 
 return ; 
 } 
 
 @ @ - 86 , 11 + 87 , 11 @ @ public class IntervalTree < T > 
 { 
 if ( interval . max . compareTo ( searchInterval . min ) > = 0 ) 
 { 
 - retList . add ( interval . Data ) ; 
 + results . add ( interval . Data ) ; 
 } 
 else break ; 
 } 
 - searchInternal ( node . right , searchInterval , retList ) ; 
 + searchInternal ( node . right , searchInterval , results ) ; 
 return ; 
 } 
 
 @ @ - 104 , 11 + 105 , 11 @ @ public class IntervalTree < T > 
 { 
 if ( interval . min . compareTo ( searchInterval . max ) < = 0 ) 
 { 
 - retList . add ( interval . Data ) ; 
 + results . add ( interval . Data ) ; 
 } 
 else break ; 
 } 
 - searchInternal ( node . left , searchInterval , retList ) ; 
 + searchInternal ( node . left , searchInterval , results ) ; 
 return ; 
 } 
 }
