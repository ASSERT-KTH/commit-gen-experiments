BLEU SCORE: 0.022650001104152773

TEST MSG: Fix build . xml to not download non - existent source jars , cleanup duplicate artifacts
GENERATED MSG: remove unused dependencies ( aws - s3 , opt - simple , whirr - cli , whirr - core )

TEST DIFF (one line): diff - - git a / build . xml b / build . xml <nl> index de57f04 . . 8c5c64aa 100644 <nl> - - - a / build . xml <nl> + + + b / build . xml <nl> @ @ - 364 , 12 + 364 , 21 @ @ <nl> 	 < exclusion groupId = " org . eclipse . jdt " artifactId = " core " / > <nl> 	 	 < exclusion groupId = " ant " artifactId = " ant " / > <nl> < / dependency > <nl> - < dependency groupId = " org . apache . hadoop " artifactId = " hadoop - minicluster " version = " 1 . 0 . 3 " / > <nl> - < dependency groupId = " org . apache . pig " artifactId = " pig " version = " 0 . 12 . 1 " / > <nl> + < dependency groupId = " org . apache . hadoop " artifactId = " hadoop - minicluster " version = " 1 . 0 . 3 " > <nl> + 	 	 < exclusion groupId = " asm " artifactId = " asm " / > < ! - - this is the outdated version 3 . 1 - - > <nl> + < / dependency > <nl> + < dependency groupId = " org . apache . pig " artifactId = " pig " version = " 0 . 12 . 1 " > <nl> + 	 < exclusion groupId = " org . mortbay . jetty " artifactId = " jetty " / > <nl> + < exclusion groupId = " hsqldb " artifactId = " hsqldb " / > < ! - - outdated version - - > <nl> + < exclusion groupId = " antlr " artifactId = " antlr " / > < ! - - outdated version - - > <nl> + < / dependency > <nl> < dependency groupId = " net . java . dev . jna " artifactId = " jna " version = " 4 . 0 . 0 " / > <nl> <nl> < dependency groupId = " net . sourceforge . cobertura " artifactId = " cobertura " version = " $ { cobertura . version } " > <nl> < exclusion groupId = " xerces " artifactId = " xercesImpl " / > <nl> + 	 < exclusion groupId = " org . mortbay . jetty " artifactId = " jetty " / > < ! - - older version , also via hadoop - core + pig - - > <nl> + 	 < exclusion groupId = " org . mortbay . jetty " artifactId = " jetty - util " / > < ! - - older version , also via hadoop - core + pig - - > <nl> + < exclusion groupId = " org . apache . ant " artifactId = " ant " / > < ! - - older version 1 . 8 . 3 - - > <nl> < / dependency > <nl> < dependency groupId = " org . jacoco " artifactId = " org . jacoco . agent " version = " $ { jacoco . version } " / > <nl> < dependency groupId = " org . jacoco " artifactId = " org . jacoco . ant " version = " $ { jacoco . version } " / > <nl> @ @ - 450 , 6 + 459 , 33 @ @ <nl> < dependency groupId = " net . ju - n . compile - command - annotations " artifactId = " compile - command - annotations " / > <nl> < dependency groupId = " org . apache . ant " artifactId = " ant - junit " version = " 1 . 9 . 4 " / > <nl> < / artifact : pom > <nl> + < ! - - this build - deps - pom - sources " artifact " is the same as build - deps - pom but only with those <nl> + artifacts that have " - source . jar " files - - > <nl> + < artifact : pom id = " build - deps - pom - sources " <nl> + artifactId = " cassandra - build - deps " > <nl> + < parent groupId = " org . apache . cassandra " <nl> + artifactId = " cassandra - parent " <nl> + version = " $ { version } " / > <nl> + < dependency groupId = " junit " artifactId = " junit " / > <nl> + < dependency groupId = " org . apache . pig " artifactId = " pig " > <nl> + < exclusion groupId = " xmlenc " artifactId = " xmlenc " / > <nl> + < exclusion groupId = " tomcat " artifactId = " jasper - runtime " / > <nl> + < exclusion groupId = " tomcat " artifactId = " jasper - compiler " / > <nl> + < exclusion groupId = " org . eclipse . jdt " artifactId = " core " / > <nl> + < exclusion groupId = " net . sf . kosmosfs " artifactId = " kfs " / > <nl> + < exclusion groupId = " hsqldb " artifactId = " hsqldb " / > <nl> + < exclusion groupId = " antlr " artifactId = " antlr " / > <nl> + < / dependency > <nl> + < ! - - TODO CASSANDRA - 9543 <nl> + < dependency groupId = " com . datastax . cassandra " artifactId = " cassandra - driver - core " classifier = " shaded " / > <nl> + - - > <nl> + < dependency groupId = " org . eclipse . jdt . core . compiler " artifactId = " ecj " / > <nl> + < dependency groupId = " org . caffinitas . ohc " artifactId = " ohc - core " / > <nl> + < dependency groupId = " org . openjdk . jmh " artifactId = " jmh - core " / > <nl> + < dependency groupId = " org . openjdk . jmh " artifactId = " jmh - generator - annprocess " / > <nl> + < dependency groupId = " net . ju - n . compile - command - annotations " artifactId = " compile - command - annotations " / > <nl> + < dependency groupId = " org . apache . ant " artifactId = " ant - junit " version = " 1 . 9 . 4 " / > <nl> + < / artifact : pom > <nl> <nl> < artifact : pom id = " coverage - deps - pom " <nl> artifactId = " cassandra - coverage - deps " > <nl> @ @ - 570 , 15 + 606 , 24 @ @ <nl> < / target > <nl> <nl> < target name = " maven - ant - tasks - retrieve - build " depends = " maven - declare - dependencies " unless = " without . maven " > <nl> + < ! - - retrieve artifacts - - > <nl> < artifact : dependencies pomRefId = " build - deps - pom " <nl> - filesetId = " build - dependency - jars " <nl> - sourcesFilesetId = " build - dependency - sources " <nl> - cacheDependencyRefs = " true " <nl> + filesetId = " build - dependency - jars " <nl> + cacheDependencyRefs = " true " <nl> dependencyRefsBuildFile = " $ { build . dir } / build - dependencies . xml " > <nl> < remoteRepository refid = " central " / > <nl> < remoteRepository refid = " apache " / > <nl> < remoteRepository refid = " java . net2 " / > <nl> < / artifact : dependencies > <nl> + < ! - - retrieve - source . jar artifacts using the reference - pom with the artifacts that have these - - > <nl> + < artifact : dependencies pomRefId = " build - deps - pom - sources " <nl> + sourcesFilesetId = " build - dependency - sources " <nl> + cacheDependencyRefs = " true " <nl> + dependencyRefsBuildFile = " $ { build . dir } / build - dependencies - sources . xml " > <nl> + < remoteRepository refid = " central " / > <nl> + < remoteRepository refid = " apache " / > <nl> + < remoteRepository refid = " java . net2 " / > <nl> + < / artifact : dependencies > <nl> < copy todir = " $ { build . dir . lib } / jars " > <nl> < fileset refid = " build - dependency - jars " / > <nl> < mapper type = " flatten " / >
NEAREST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / db / BatchlogManager . java b / src / java / org / apache / cassandra / db / BatchlogManager . java <nl> index 9d46739 . . 2e1b1a7 100644 <nl> - - - a / src / java / org / apache / cassandra / db / BatchlogManager . java <nl> + + + b / src / java / org / apache / cassandra / db / BatchlogManager . java <nl> @ @ - 179 , 7 + 179 , 8 @ @ public class BatchlogManager implements BatchlogManagerMBean <nl> <nl> try <nl> { <nl> - replaySerializedMutations ( result . one ( ) . getBytes ( " data " ) , result . one ( ) . getLong ( " written _ at " ) ) ; <nl> + UntypedResultSet . Row batch = result . one ( ) ; <nl> + replaySerializedMutations ( batch . getBytes ( " data " ) , batch . getLong ( " written _ at " ) ) ; <nl> } <nl> catch ( IOException e ) <nl> {

TEST DIFF:
diff - - git a / build . xml b / build . xml 
 index de57f04 . . 8c5c64aa 100644 
 - - - a / build . xml 
 + + + b / build . xml 
 @ @ - 364 , 12 + 364 , 21 @ @ 
 	 < exclusion groupId = " org . eclipse . jdt " artifactId = " core " / > 
 	 	 < exclusion groupId = " ant " artifactId = " ant " / > 
 < / dependency > 
 - < dependency groupId = " org . apache . hadoop " artifactId = " hadoop - minicluster " version = " 1 . 0 . 3 " / > 
 - < dependency groupId = " org . apache . pig " artifactId = " pig " version = " 0 . 12 . 1 " / > 
 + < dependency groupId = " org . apache . hadoop " artifactId = " hadoop - minicluster " version = " 1 . 0 . 3 " > 
 + 	 	 < exclusion groupId = " asm " artifactId = " asm " / > < ! - - this is the outdated version 3 . 1 - - > 
 + < / dependency > 
 + < dependency groupId = " org . apache . pig " artifactId = " pig " version = " 0 . 12 . 1 " > 
 + 	 < exclusion groupId = " org . mortbay . jetty " artifactId = " jetty " / > 
 + < exclusion groupId = " hsqldb " artifactId = " hsqldb " / > < ! - - outdated version - - > 
 + < exclusion groupId = " antlr " artifactId = " antlr " / > < ! - - outdated version - - > 
 + < / dependency > 
 < dependency groupId = " net . java . dev . jna " artifactId = " jna " version = " 4 . 0 . 0 " / > 
 
 < dependency groupId = " net . sourceforge . cobertura " artifactId = " cobertura " version = " $ { cobertura . version } " > 
 < exclusion groupId = " xerces " artifactId = " xercesImpl " / > 
 + 	 < exclusion groupId = " org . mortbay . jetty " artifactId = " jetty " / > < ! - - older version , also via hadoop - core + pig - - > 
 + 	 < exclusion groupId = " org . mortbay . jetty " artifactId = " jetty - util " / > < ! - - older version , also via hadoop - core + pig - - > 
 + < exclusion groupId = " org . apache . ant " artifactId = " ant " / > < ! - - older version 1 . 8 . 3 - - > 
 < / dependency > 
 < dependency groupId = " org . jacoco " artifactId = " org . jacoco . agent " version = " $ { jacoco . version } " / > 
 < dependency groupId = " org . jacoco " artifactId = " org . jacoco . ant " version = " $ { jacoco . version } " / > 
 @ @ - 450 , 6 + 459 , 33 @ @ 
 < dependency groupId = " net . ju - n . compile - command - annotations " artifactId = " compile - command - annotations " / > 
 < dependency groupId = " org . apache . ant " artifactId = " ant - junit " version = " 1 . 9 . 4 " / > 
 < / artifact : pom > 
 + < ! - - this build - deps - pom - sources " artifact " is the same as build - deps - pom but only with those 
 + artifacts that have " - source . jar " files - - > 
 + < artifact : pom id = " build - deps - pom - sources " 
 + artifactId = " cassandra - build - deps " > 
 + < parent groupId = " org . apache . cassandra " 
 + artifactId = " cassandra - parent " 
 + version = " $ { version } " / > 
 + < dependency groupId = " junit " artifactId = " junit " / > 
 + < dependency groupId = " org . apache . pig " artifactId = " pig " > 
 + < exclusion groupId = " xmlenc " artifactId = " xmlenc " / > 
 + < exclusion groupId = " tomcat " artifactId = " jasper - runtime " / > 
 + < exclusion groupId = " tomcat " artifactId = " jasper - compiler " / > 
 + < exclusion groupId = " org . eclipse . jdt " artifactId = " core " / > 
 + < exclusion groupId = " net . sf . kosmosfs " artifactId = " kfs " / > 
 + < exclusion groupId = " hsqldb " artifactId = " hsqldb " / > 
 + < exclusion groupId = " antlr " artifactId = " antlr " / > 
 + < / dependency > 
 + < ! - - TODO CASSANDRA - 9543 
 + < dependency groupId = " com . datastax . cassandra " artifactId = " cassandra - driver - core " classifier = " shaded " / > 
 + - - > 
 + < dependency groupId = " org . eclipse . jdt . core . compiler " artifactId = " ecj " / > 
 + < dependency groupId = " org . caffinitas . ohc " artifactId = " ohc - core " / > 
 + < dependency groupId = " org . openjdk . jmh " artifactId = " jmh - core " / > 
 + < dependency groupId = " org . openjdk . jmh " artifactId = " jmh - generator - annprocess " / > 
 + < dependency groupId = " net . ju - n . compile - command - annotations " artifactId = " compile - command - annotations " / > 
 + < dependency groupId = " org . apache . ant " artifactId = " ant - junit " version = " 1 . 9 . 4 " / > 
 + < / artifact : pom > 
 
 < artifact : pom id = " coverage - deps - pom " 
 artifactId = " cassandra - coverage - deps " > 
 @ @ - 570 , 15 + 606 , 24 @ @ 
 < / target > 
 
 < target name = " maven - ant - tasks - retrieve - build " depends = " maven - declare - dependencies " unless = " without . maven " > 
 + < ! - - retrieve artifacts - - > 
 < artifact : dependencies pomRefId = " build - deps - pom " 
 - filesetId = " build - dependency - jars " 
 - sourcesFilesetId = " build - dependency - sources " 
 - cacheDependencyRefs = " true " 
 + filesetId = " build - dependency - jars " 
 + cacheDependencyRefs = " true " 
 dependencyRefsBuildFile = " $ { build . dir } / build - dependencies . xml " > 
 < remoteRepository refid = " central " / > 
 < remoteRepository refid = " apache " / > 
 < remoteRepository refid = " java . net2 " / > 
 < / artifact : dependencies > 
 + < ! - - retrieve - source . jar artifacts using the reference - pom with the artifacts that have these - - > 
 + < artifact : dependencies pomRefId = " build - deps - pom - sources " 
 + sourcesFilesetId = " build - dependency - sources " 
 + cacheDependencyRefs = " true " 
 + dependencyRefsBuildFile = " $ { build . dir } / build - dependencies - sources . xml " > 
 + < remoteRepository refid = " central " / > 
 + < remoteRepository refid = " apache " / > 
 + < remoteRepository refid = " java . net2 " / > 
 + < / artifact : dependencies > 
 < copy todir = " $ { build . dir . lib } / jars " > 
 < fileset refid = " build - dependency - jars " / > 
 < mapper type = " flatten " / >

NEAREST DIFF:
diff - - git a / src / java / org / apache / cassandra / db / BatchlogManager . java b / src / java / org / apache / cassandra / db / BatchlogManager . java 
 index 9d46739 . . 2e1b1a7 100644 
 - - - a / src / java / org / apache / cassandra / db / BatchlogManager . java 
 + + + b / src / java / org / apache / cassandra / db / BatchlogManager . java 
 @ @ - 179 , 7 + 179 , 8 @ @ public class BatchlogManager implements BatchlogManagerMBean 
 
 try 
 { 
 - replaySerializedMutations ( result . one ( ) . getBytes ( " data " ) , result . one ( ) . getLong ( " written _ at " ) ) ; 
 + UntypedResultSet . Row batch = result . one ( ) ; 
 + replaySerializedMutations ( batch . getBytes ( " data " ) , batch . getLong ( " written _ at " ) ) ; 
 } 
 catch ( IOException e ) 
 {
