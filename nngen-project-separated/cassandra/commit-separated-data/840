BLEU SCORE: 0.04767707020457096

TEST MSG: Correct section number of opcode section in protocol spec
GENERATED MSG: Added lines for BATCH response to v2 spec

TEST DIFF (one line): diff - - git a / doc / native _ protocol _ v3 . spec b / doc / native _ protocol _ v3 . spec <nl> index 4876772 . . c38e26c 100644 <nl> - - - a / doc / native _ protocol _ v3 . spec <nl> + + + b / doc / native _ protocol _ v3 . spec <nl> @ @ - 65 , 7 + 65 , 7 @ @ Table of Contents <nl> Each frame contains a fixed size header ( 9 bytes ) followed by a variable size <nl> body . The header is described in Section 2 . The content of the body depends <nl> on the header opcode value ( the body can in particular be empty for some <nl> - opcode values ) . The list of allowed opcode is defined Section 2 . 3 and the <nl> + opcode values ) . The list of allowed opcode is defined Section 2 . 4 and the <nl> details of each corresponding message is described Section 4 . <nl> <nl> The protocol distinguishes 2 types of frames : requests and responses . Requests <nl> diff - - git a / doc / native _ protocol _ v4 . spec b / doc / native _ protocol _ v4 . spec <nl> index 7fcf1d8 . . 1889202 100644 <nl> - - - a / doc / native _ protocol _ v4 . spec <nl> + + + b / doc / native _ protocol _ v4 . spec <nl> @ @ - 65 , 7 + 65 , 7 @ @ Table of Contents <nl> Each frame contains a fixed size header ( 9 bytes ) followed by a variable size <nl> body . The header is described in Section 2 . The content of the body depends <nl> on the header opcode value ( the body can in particular be empty for some <nl> - opcode values ) . The list of allowed opcodes is defined in Section 2 . 3 and the <nl> + opcode values ) . The list of allowed opcodes is defined in Section 2 . 4 and the <nl> details of each corresponding message are described Section 4 . <nl> <nl> The protocol distinguishes two types of frames : requests and responses . Requests
NEAREST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / metrics / CassandraMetricRegistry . java b / src / java / org / apache / cassandra / metrics / CassandraMetricRegistry . java <nl> index 2f2a855 . . c69e8af 100644 <nl> - - - a / src / java / org / apache / cassandra / metrics / CassandraMetricRegistry . java <nl> + + + b / src / java / org / apache / cassandra / metrics / CassandraMetricRegistry . java <nl> @ @ - 17 , 12 + 17 , 18 @ @ <nl> * / <nl> package org . apache . cassandra . metrics ; <nl> <nl> + import com . codahale . metrics . JmxReporter ; <nl> import com . codahale . metrics . Metric ; <nl> import com . codahale . metrics . MetricRegistry ; <nl> <nl> public class CassandraMetricRegistry <nl> { <nl> private static MetricRegistry defaultRegistry = new MetricRegistry ( ) ; <nl> + static <nl> + { <nl> + JmxReporter reporter = JmxReporter . forRegistry ( defaultRegistry ) . build ( ) ; <nl> + reporter . start ( ) ; <nl> + } <nl> <nl> private CassandraMetricRegistry ( ) <nl> { <nl> diff - - git a / test / unit / org / apache / cassandra / db / RowIterationTest . java b / test / unit / org / apache / cassandra / db / RowIterationTest . java <nl> index c083b19 . . 084be2d 100644 <nl> - - - a / test / unit / org / apache / cassandra / db / RowIterationTest . java <nl> + + + b / test / unit / org / apache / cassandra / db / RowIterationTest . java <nl> @ @ - 85 , 7 + 85 , 7 @ @ public class RowIterationTest extends SchemaLoader <nl> rm . apply ( ) ; <nl> store . forceBlockingFlush ( ) ; <nl> <nl> - ColumnFamily cf = Util . getRangeSlice ( store ) . iterator ( ) . next ( ) . cf ; <nl> + ColumnFamily cf = Util . getRangeSlice ( store ) . get ( 0 ) . cf ; <nl> assert cf . deletionInfo ( ) . equals ( delInfo2 ) ; <nl> } <nl>

TEST DIFF:
diff - - git a / doc / native _ protocol _ v3 . spec b / doc / native _ protocol _ v3 . spec 
 index 4876772 . . c38e26c 100644 
 - - - a / doc / native _ protocol _ v3 . spec 
 + + + b / doc / native _ protocol _ v3 . spec 
 @ @ - 65 , 7 + 65 , 7 @ @ Table of Contents 
 Each frame contains a fixed size header ( 9 bytes ) followed by a variable size 
 body . The header is described in Section 2 . The content of the body depends 
 on the header opcode value ( the body can in particular be empty for some 
 - opcode values ) . The list of allowed opcode is defined Section 2 . 3 and the 
 + opcode values ) . The list of allowed opcode is defined Section 2 . 4 and the 
 details of each corresponding message is described Section 4 . 
 
 The protocol distinguishes 2 types of frames : requests and responses . Requests 
 diff - - git a / doc / native _ protocol _ v4 . spec b / doc / native _ protocol _ v4 . spec 
 index 7fcf1d8 . . 1889202 100644 
 - - - a / doc / native _ protocol _ v4 . spec 
 + + + b / doc / native _ protocol _ v4 . spec 
 @ @ - 65 , 7 + 65 , 7 @ @ Table of Contents 
 Each frame contains a fixed size header ( 9 bytes ) followed by a variable size 
 body . The header is described in Section 2 . The content of the body depends 
 on the header opcode value ( the body can in particular be empty for some 
 - opcode values ) . The list of allowed opcodes is defined in Section 2 . 3 and the 
 + opcode values ) . The list of allowed opcodes is defined in Section 2 . 4 and the 
 details of each corresponding message are described Section 4 . 
 
 The protocol distinguishes two types of frames : requests and responses . Requests

NEAREST DIFF:
diff - - git a / src / java / org / apache / cassandra / metrics / CassandraMetricRegistry . java b / src / java / org / apache / cassandra / metrics / CassandraMetricRegistry . java 
 index 2f2a855 . . c69e8af 100644 
 - - - a / src / java / org / apache / cassandra / metrics / CassandraMetricRegistry . java 
 + + + b / src / java / org / apache / cassandra / metrics / CassandraMetricRegistry . java 
 @ @ - 17 , 12 + 17 , 18 @ @ 
 * / 
 package org . apache . cassandra . metrics ; 
 
 + import com . codahale . metrics . JmxReporter ; 
 import com . codahale . metrics . Metric ; 
 import com . codahale . metrics . MetricRegistry ; 
 
 public class CassandraMetricRegistry 
 { 
 private static MetricRegistry defaultRegistry = new MetricRegistry ( ) ; 
 + static 
 + { 
 + JmxReporter reporter = JmxReporter . forRegistry ( defaultRegistry ) . build ( ) ; 
 + reporter . start ( ) ; 
 + } 
 
 private CassandraMetricRegistry ( ) 
 { 
 diff - - git a / test / unit / org / apache / cassandra / db / RowIterationTest . java b / test / unit / org / apache / cassandra / db / RowIterationTest . java 
 index c083b19 . . 084be2d 100644 
 - - - a / test / unit / org / apache / cassandra / db / RowIterationTest . java 
 + + + b / test / unit / org / apache / cassandra / db / RowIterationTest . java 
 @ @ - 85 , 7 + 85 , 7 @ @ public class RowIterationTest extends SchemaLoader 
 rm . apply ( ) ; 
 store . forceBlockingFlush ( ) ; 
 
 - ColumnFamily cf = Util . getRangeSlice ( store ) . iterator ( ) . next ( ) . cf ; 
 + ColumnFamily cf = Util . getRangeSlice ( store ) . get ( 0 ) . cf ; 
 assert cf . deletionInfo ( ) . equals ( delInfo2 ) ; 
 } 

