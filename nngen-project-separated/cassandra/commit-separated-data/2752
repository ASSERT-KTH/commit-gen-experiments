BLEU SCORE: 0.028465126651392333

TEST MSG: Consistencify CFMetadata equals / hashCode / toString
GENERATED MSG: Fix partition and range deletes not triggering flush

TEST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / config / CFMetaData . java b / src / java / org / apache / cassandra / config / CFMetaData . java <nl> index 9579f99 . . 5c09961 100644 <nl> - - - a / src / java / org / apache / cassandra / config / CFMetaData . java <nl> + + + b / src / java / org / apache / cassandra / config / CFMetaData . java <nl> @ @ - 890 , 51 + 890 , 51 @ @ public final class CFMetaData <nl> return droppedColumns ; <nl> } <nl> <nl> - public boolean equals ( Object obj ) <nl> + @ Override <nl> + public boolean equals ( Object o ) <nl> { <nl> - if ( obj = = this ) <nl> - { <nl> + if ( this = = o ) <nl> return true ; <nl> - } <nl> - else if ( obj = = null | | obj . getClass ( ) ! = getClass ( ) ) <nl> - { <nl> + <nl> + if ( ! ( o instanceof CFMetaData ) ) <nl> return false ; <nl> - } <nl> <nl> - CFMetaData rhs = ( CFMetaData ) obj ; <nl> - if ( ! ksName . equals ( rhs . ksName ) ) return false ; <nl> - if ( ! cfName . equals ( rhs . cfName ) ) return false ; <nl> - if ( ! cfType . equals ( rhs . cfType ) ) return false ; <nl> - if ( ! comparator . equals ( rhs . comparator ) ) return false ; <nl> - if ( ! Objects . equal ( comment , rhs . comment ) ) return false ; <nl> - if ( readRepairChance ! = rhs . readRepairChance ) return false ; <nl> - if ( dcLocalReadRepairChance ! = rhs . dcLocalReadRepairChance ) return false ; <nl> - if ( gcGraceSeconds ! = rhs . gcGraceSeconds ) return false ; <nl> - if ( ! Objects . equal ( defaultValidator , rhs . defaultValidator ) ) return false ; <nl> - if ( ! Objects . equal ( keyValidator , rhs . keyValidator ) ) return false ; <nl> - if ( minCompactionThreshold ! = rhs . minCompactionThreshold ) return false ; <nl> - if ( maxCompactionThreshold ! = rhs . maxCompactionThreshold ) return false ; <nl> - if ( ! Objects . equal ( cfId , rhs . cfId ) ) return false ; <nl> - if ( ! Objects . equal ( columnMetadata , rhs . columnMetadata ) ) return false ; <nl> - if ( ! Objects . equal ( compactionStrategyClass , rhs . compactionStrategyClass ) ) return false ; <nl> - if ( ! Objects . equal ( compactionStrategyOptions , rhs . compactionStrategyOptions ) ) return false ; <nl> - if ( ! Objects . equal ( compressionParameters , rhs . compressionParameters ) ) return false ; <nl> - if ( ! Objects . equal ( bloomFilterFpChance , rhs . bloomFilterFpChance ) ) return false ; <nl> - if ( memtableFlushPeriod ! = rhs . memtableFlushPeriod ) return false ; <nl> - if ( ! Objects . equal ( caching , rhs . caching ) ) return false ; <nl> - if ( defaultTimeToLive ! = rhs . defaultTimeToLive ) return false ; <nl> - if ( indexInterval ! = rhs . indexInterval ) return false ; <nl> - if ( ! Objects . equal ( speculativeRetry , rhs . speculativeRetry ) ) return false ; <nl> - if ( populateIoCacheOnFlush ! = rhs . populateIoCacheOnFlush ) return false ; <nl> - if ( ! Objects . equal ( droppedColumns , rhs . droppedColumns ) ) return false ; <nl> - if ( ! Objects . equal ( triggers , rhs . triggers ) ) return false ; <nl> - if ( ! Objects . equal ( rowsPerPartitionToCache , rhs . rowsPerPartitionToCache ) ) return false ; <nl> - return true ; <nl> + CFMetaData other = ( CFMetaData ) o ; <nl> + <nl> + return Objects . equal ( cfId , other . cfId ) <nl> + & & Objects . equal ( ksName , other . ksName ) <nl> + & & Objects . equal ( cfName , other . cfName ) <nl> + & & Objects . equal ( cfType , other . cfType ) <nl> + & & Objects . equal ( comparator , other . comparator ) <nl> + & & Objects . equal ( comment , other . comment ) <nl> + & & Objects . equal ( readRepairChance , other . readRepairChance ) <nl> + & & Objects . equal ( dcLocalReadRepairChance , other . dcLocalReadRepairChance ) <nl> + & & Objects . equal ( gcGraceSeconds , other . gcGraceSeconds ) <nl> + & & Objects . equal ( defaultValidator , other . defaultValidator ) <nl> + & & Objects . equal ( keyValidator , other . keyValidator ) <nl> + & & Objects . equal ( minCompactionThreshold , other . minCompactionThreshold ) <nl> + & & Objects . equal ( maxCompactionThreshold , other . maxCompactionThreshold ) <nl> + & & Objects . equal ( columnMetadata , other . columnMetadata ) <nl> + & & Objects . equal ( compactionStrategyClass , other . compactionStrategyClass ) <nl> + & & Objects . equal ( compactionStrategyOptions , other . compactionStrategyOptions ) <nl> + & & Objects . equal ( compressionParameters , other . compressionParameters ) <nl> + & & Objects . equal ( bloomFilterFpChance , other . bloomFilterFpChance ) <nl> + & & Objects . equal ( memtableFlushPeriod , other . memtableFlushPeriod ) <nl> + & & Objects . equal ( caching , other . caching ) <nl> + & & Objects . equal ( defaultTimeToLive , other . defaultTimeToLive ) <nl> + & & Objects . equal ( indexInterval , other . indexInterval ) <nl> + & & Objects . equal ( speculativeRetry , other . speculativeRetry ) <nl> + & & Objects . equal ( populateIoCacheOnFlush , other . populateIoCacheOnFlush ) <nl> + & & Objects . equal ( droppedColumns , other . droppedColumns ) <nl> + & & Objects . equal ( triggers , other . triggers ) <nl> + & & Objects . equal ( rowsPerPartitionToCache , other . rowsPerPartitionToCache ) ; <nl> } <nl> <nl> + @ Override <nl> public int hashCode ( ) <nl> { <nl> return new HashCodeBuilder ( 29 , 1597 ) <nl> + . append ( cfId ) <nl> . append ( ksName ) <nl> . append ( cfName ) <nl> . append ( cfType ) <nl> @ @ - 947 , 7 + 947 , 6 @ @ public final class CFMetaData <nl> . append ( keyValidator ) <nl> . append ( minCompactionThreshold ) <nl> . append ( maxCompactionThreshold ) <nl> - . append ( cfId ) <nl> . append ( columnMetadata ) <nl> . append ( compactionStrategyClass ) <nl> . append ( compactionStrategyOptions ) <nl> @ @ - 2222 , 17 + 2221 , 17 @ @ public final class CFMetaData <nl> . append ( " columnMetadata " , columnMetadata ) <nl> . append ( " compactionStrategyClass " , compactionStrategyClass ) <nl> . append ( " compactionStrategyOptions " , compactionStrategyOptions ) <nl> - . append ( " compressionOptions " , compressionParameters . asThriftOptions ( ) ) <nl> + . append ( " compressionParameters " , compressionParameters . asThriftOptions ( ) ) <nl> . append ( " bloomFilterFpChance " , bloomFilterFpChance ) <nl> - . append ( " memtable _ flush _ period _ in _ ms " , memtableFlushPeriod ) <nl> + . append ( " memtableFlushPeriod " , memtableFlushPeriod ) <nl> . append ( " caching " , caching ) <nl> - . append ( " rowsPerPartitionToCache " , rowsPerPartitionToCache ) <nl> . append ( " defaultTimeToLive " , defaultTimeToLive ) <nl> - . append ( " speculative _ retry " , speculativeRetry ) <nl> . append ( " indexInterval " , indexInterval ) <nl> + . append ( " speculativeRetry " , speculativeRetry ) <nl> . append ( " populateIoCacheOnFlush " , populateIoCacheOnFlush ) <nl> . append ( " droppedColumns " , droppedColumns ) <nl> . append ( " triggers " , triggers ) <nl> + . append ( " rowsPerPartitionToCache " , rowsPerPartitionToCache ) <nl> . toString ( ) ; <nl> } <nl> }
NEAREST DIFF (one line): ELIMINATEDSENTENCE

TEST DIFF:
diff - - git a / src / java / org / apache / cassandra / config / CFMetaData . java b / src / java / org / apache / cassandra / config / CFMetaData . java 
 index 9579f99 . . 5c09961 100644 
 - - - a / src / java / org / apache / cassandra / config / CFMetaData . java 
 + + + b / src / java / org / apache / cassandra / config / CFMetaData . java 
 @ @ - 890 , 51 + 890 , 51 @ @ public final class CFMetaData 
 return droppedColumns ; 
 } 
 
 - public boolean equals ( Object obj ) 
 + @ Override 
 + public boolean equals ( Object o ) 
 { 
 - if ( obj = = this ) 
 - { 
 + if ( this = = o ) 
 return true ; 
 - } 
 - else if ( obj = = null | | obj . getClass ( ) ! = getClass ( ) ) 
 - { 
 + 
 + if ( ! ( o instanceof CFMetaData ) ) 
 return false ; 
 - } 
 
 - CFMetaData rhs = ( CFMetaData ) obj ; 
 - if ( ! ksName . equals ( rhs . ksName ) ) return false ; 
 - if ( ! cfName . equals ( rhs . cfName ) ) return false ; 
 - if ( ! cfType . equals ( rhs . cfType ) ) return false ; 
 - if ( ! comparator . equals ( rhs . comparator ) ) return false ; 
 - if ( ! Objects . equal ( comment , rhs . comment ) ) return false ; 
 - if ( readRepairChance ! = rhs . readRepairChance ) return false ; 
 - if ( dcLocalReadRepairChance ! = rhs . dcLocalReadRepairChance ) return false ; 
 - if ( gcGraceSeconds ! = rhs . gcGraceSeconds ) return false ; 
 - if ( ! Objects . equal ( defaultValidator , rhs . defaultValidator ) ) return false ; 
 - if ( ! Objects . equal ( keyValidator , rhs . keyValidator ) ) return false ; 
 - if ( minCompactionThreshold ! = rhs . minCompactionThreshold ) return false ; 
 - if ( maxCompactionThreshold ! = rhs . maxCompactionThreshold ) return false ; 
 - if ( ! Objects . equal ( cfId , rhs . cfId ) ) return false ; 
 - if ( ! Objects . equal ( columnMetadata , rhs . columnMetadata ) ) return false ; 
 - if ( ! Objects . equal ( compactionStrategyClass , rhs . compactionStrategyClass ) ) return false ; 
 - if ( ! Objects . equal ( compactionStrategyOptions , rhs . compactionStrategyOptions ) ) return false ; 
 - if ( ! Objects . equal ( compressionParameters , rhs . compressionParameters ) ) return false ; 
 - if ( ! Objects . equal ( bloomFilterFpChance , rhs . bloomFilterFpChance ) ) return false ; 
 - if ( memtableFlushPeriod ! = rhs . memtableFlushPeriod ) return false ; 
 - if ( ! Objects . equal ( caching , rhs . caching ) ) return false ; 
 - if ( defaultTimeToLive ! = rhs . defaultTimeToLive ) return false ; 
 - if ( indexInterval ! = rhs . indexInterval ) return false ; 
 - if ( ! Objects . equal ( speculativeRetry , rhs . speculativeRetry ) ) return false ; 
 - if ( populateIoCacheOnFlush ! = rhs . populateIoCacheOnFlush ) return false ; 
 - if ( ! Objects . equal ( droppedColumns , rhs . droppedColumns ) ) return false ; 
 - if ( ! Objects . equal ( triggers , rhs . triggers ) ) return false ; 
 - if ( ! Objects . equal ( rowsPerPartitionToCache , rhs . rowsPerPartitionToCache ) ) return false ; 
 - return true ; 
 + CFMetaData other = ( CFMetaData ) o ; 
 + 
 + return Objects . equal ( cfId , other . cfId ) 
 + & & Objects . equal ( ksName , other . ksName ) 
 + & & Objects . equal ( cfName , other . cfName ) 
 + & & Objects . equal ( cfType , other . cfType ) 
 + & & Objects . equal ( comparator , other . comparator ) 
 + & & Objects . equal ( comment , other . comment ) 
 + & & Objects . equal ( readRepairChance , other . readRepairChance ) 
 + & & Objects . equal ( dcLocalReadRepairChance , other . dcLocalReadRepairChance ) 
 + & & Objects . equal ( gcGraceSeconds , other . gcGraceSeconds ) 
 + & & Objects . equal ( defaultValidator , other . defaultValidator ) 
 + & & Objects . equal ( keyValidator , other . keyValidator ) 
 + & & Objects . equal ( minCompactionThreshold , other . minCompactionThreshold ) 
 + & & Objects . equal ( maxCompactionThreshold , other . maxCompactionThreshold ) 
 + & & Objects . equal ( columnMetadata , other . columnMetadata ) 
 + & & Objects . equal ( compactionStrategyClass , other . compactionStrategyClass ) 
 + & & Objects . equal ( compactionStrategyOptions , other . compactionStrategyOptions ) 
 + & & Objects . equal ( compressionParameters , other . compressionParameters ) 
 + & & Objects . equal ( bloomFilterFpChance , other . bloomFilterFpChance ) 
 + & & Objects . equal ( memtableFlushPeriod , other . memtableFlushPeriod ) 
 + & & Objects . equal ( caching , other . caching ) 
 + & & Objects . equal ( defaultTimeToLive , other . defaultTimeToLive ) 
 + & & Objects . equal ( indexInterval , other . indexInterval ) 
 + & & Objects . equal ( speculativeRetry , other . speculativeRetry ) 
 + & & Objects . equal ( populateIoCacheOnFlush , other . populateIoCacheOnFlush ) 
 + & & Objects . equal ( droppedColumns , other . droppedColumns ) 
 + & & Objects . equal ( triggers , other . triggers ) 
 + & & Objects . equal ( rowsPerPartitionToCache , other . rowsPerPartitionToCache ) ; 
 } 
 
 + @ Override 
 public int hashCode ( ) 
 { 
 return new HashCodeBuilder ( 29 , 1597 ) 
 + . append ( cfId ) 
 . append ( ksName ) 
 . append ( cfName ) 
 . append ( cfType ) 
 @ @ - 947 , 7 + 947 , 6 @ @ public final class CFMetaData 
 . append ( keyValidator ) 
 . append ( minCompactionThreshold ) 
 . append ( maxCompactionThreshold ) 
 - . append ( cfId ) 
 . append ( columnMetadata ) 
 . append ( compactionStrategyClass ) 
 . append ( compactionStrategyOptions ) 
 @ @ - 2222 , 17 + 2221 , 17 @ @ public final class CFMetaData 
 . append ( " columnMetadata " , columnMetadata ) 
 . append ( " compactionStrategyClass " , compactionStrategyClass ) 
 . append ( " compactionStrategyOptions " , compactionStrategyOptions ) 
 - . append ( " compressionOptions " , compressionParameters . asThriftOptions ( ) ) 
 + . append ( " compressionParameters " , compressionParameters . asThriftOptions ( ) ) 
 . append ( " bloomFilterFpChance " , bloomFilterFpChance ) 
 - . append ( " memtable _ flush _ period _ in _ ms " , memtableFlushPeriod ) 
 + . append ( " memtableFlushPeriod " , memtableFlushPeriod ) 
 . append ( " caching " , caching ) 
 - . append ( " rowsPerPartitionToCache " , rowsPerPartitionToCache ) 
 . append ( " defaultTimeToLive " , defaultTimeToLive ) 
 - . append ( " speculative _ retry " , speculativeRetry ) 
 . append ( " indexInterval " , indexInterval ) 
 + . append ( " speculativeRetry " , speculativeRetry ) 
 . append ( " populateIoCacheOnFlush " , populateIoCacheOnFlush ) 
 . append ( " droppedColumns " , droppedColumns ) 
 . append ( " triggers " , triggers ) 
 + . append ( " rowsPerPartitionToCache " , rowsPerPartitionToCache ) 
 . toString ( ) ; 
 } 
 }

NEAREST DIFF:
ELIMINATEDSENTENCE
