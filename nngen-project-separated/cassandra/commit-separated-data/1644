BLEU SCORE: 0.03089055318156698

TEST MSG: Don ' t start Thrift rpc by default ( CASSANDRA - 9319 )
GENERATED MSG: change auto _ bootstrap default to true and remove from example config file

TEST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index 0a513ad . . 46b1505 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 1 , 4 + 1 , 5 @ @ <nl> 3 . 0 <nl> + * Don ' t start Thrift rpc by default ( CASSANDRA - 9319 ) <nl> * Only stream from unrepaired sstables with incremental repair ( CASSANDRA - 8267 ) <nl> * Aggregate UDFs allow SFUNC return type to differ from STYPE if FFUNC specified ( CASSANDRA - 9321 ) <nl> * Failure detector detects and ignores local pauses ( CASSANDRA - 9183 ) <nl> diff - - git a / NEWS . txt b / NEWS . txt <nl> index 32351a1 . . 1358c35 100644 <nl> - - - a / NEWS . txt <nl> + + + b / NEWS . txt <nl> @ @ - 74 , 6 + 74 , 8 @ @ New features <nl> <nl> Upgrading <nl> - - - - - - - - - <nl> + - Thrift rpc is no longer being started by default . <nl> + Set ` start _ rpc ` parameter to ` true ` to enable it . <nl> - Pig ' s CqlStorage has been removed , use CqlNativeStorage instead <nl> - Pig ' s CassandraStorage has been deprecated . CassandraStorage <nl> should only be used against tables created via thrift . <nl> diff - - git a / conf / cassandra . yaml b / conf / cassandra . yaml <nl> index 3bcef06 . . 5033a8d 100644 <nl> - - - a / conf / cassandra . yaml <nl> + + + b / conf / cassandra . yaml <nl> @ @ - 458 , 7 + 458 , 7 @ @ native _ transport _ port : 9042 <nl> # native _ transport _ max _ concurrent _ connections _ per _ ip : - 1 <nl> <nl> # Whether to start the thrift rpc server . <nl> - start _ rpc : true <nl> + start _ rpc : false <nl> <nl> # The address or interface to bind the Thrift RPC service and native transport <nl> # server to . <nl> diff - - git a / src / java / org / apache / cassandra / config / Config . java b / src / java / org / apache / cassandra / config / Config . java <nl> index c6131f5 . . 7d7ef01 100644 <nl> - - - a / src / java / org / apache / cassandra / config / Config . java <nl> + + + b / src / java / org / apache / cassandra / config / Config . java <nl> @ @ - 114 , 6 + 114 , 8 @ @ public class Config <nl> public String broadcast _ address ; <nl> public String internode _ authenticator ; <nl> <nl> + / * intentionally left set to true , despite being set to false in stock 2 . 2 cassandra . yaml <nl> + we don ' t want to surprise Thrift users who have the setting blank in the yaml during 2 . 1 - > 2 . 2 upgrade * / <nl> public Boolean start _ rpc = true ; <nl> public String rpc _ address ; <nl> public String rpc _ interface ;
NEAREST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index 8f7e5b6 . . 9efe2b0 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 3 , 6 + 3 , 8 @ @ <nl> * include column name in validation failure exceptions ( CASSANDRA - 2849 ) <nl> * make sure truncate clears out the commitlog so replay won ' t re - <nl> populate with truncated data ( CASSANDRA - 2950 ) <nl> + * fix NPE when debug logging is enabled and dropped CF is present <nl> + in a commitlog segment ( CASSANDRA - 3021 ) <nl> <nl> <nl> 0 . 8 . 4 <nl> diff - - git a / src / java / org / apache / cassandra / db / commitlog / CommitLogSegment . java b / src / java / org / apache / cassandra / db / commitlog / CommitLogSegment . java <nl> index 98bc7d1 . . 1fc2ad7 100644 <nl> - - - a / src / java / org / apache / cassandra / db / commitlog / CommitLogSegment . java <nl> + + + b / src / java / org / apache / cassandra / db / commitlog / CommitLogSegment . java <nl> @ @ - 212 , 7 + 212 , 7 @ @ public class CommitLogSegment <nl> for ( Integer cfId : cfLastWrite . keySet ( ) ) <nl> { <nl> CFMetaData m = DatabaseDescriptor . getCFMetaData ( cfId ) ; <nl> - sb . append ( m = = null ? m . cfName : " < deleted > " ) . append ( " ( " ) . append ( cfId ) . append ( " ) , " ) ; <nl> + sb . append ( m = = null ? " < deleted > " : m . cfName ) . append ( " ( " ) . append ( cfId ) . append ( " ) , " ) ; <nl> } <nl> return sb . toString ( ) ; <nl> }

TEST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index 0a513ad . . 46b1505 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 1 , 4 + 1 , 5 @ @ 
 3 . 0 
 + * Don ' t start Thrift rpc by default ( CASSANDRA - 9319 ) 
 * Only stream from unrepaired sstables with incremental repair ( CASSANDRA - 8267 ) 
 * Aggregate UDFs allow SFUNC return type to differ from STYPE if FFUNC specified ( CASSANDRA - 9321 ) 
 * Failure detector detects and ignores local pauses ( CASSANDRA - 9183 ) 
 diff - - git a / NEWS . txt b / NEWS . txt 
 index 32351a1 . . 1358c35 100644 
 - - - a / NEWS . txt 
 + + + b / NEWS . txt 
 @ @ - 74 , 6 + 74 , 8 @ @ New features 
 
 Upgrading 
 - - - - - - - - - 
 + - Thrift rpc is no longer being started by default . 
 + Set ` start _ rpc ` parameter to ` true ` to enable it . 
 - Pig ' s CqlStorage has been removed , use CqlNativeStorage instead 
 - Pig ' s CassandraStorage has been deprecated . CassandraStorage 
 should only be used against tables created via thrift . 
 diff - - git a / conf / cassandra . yaml b / conf / cassandra . yaml 
 index 3bcef06 . . 5033a8d 100644 
 - - - a / conf / cassandra . yaml 
 + + + b / conf / cassandra . yaml 
 @ @ - 458 , 7 + 458 , 7 @ @ native _ transport _ port : 9042 
 # native _ transport _ max _ concurrent _ connections _ per _ ip : - 1 
 
 # Whether to start the thrift rpc server . 
 - start _ rpc : true 
 + start _ rpc : false 
 
 # The address or interface to bind the Thrift RPC service and native transport 
 # server to . 
 diff - - git a / src / java / org / apache / cassandra / config / Config . java b / src / java / org / apache / cassandra / config / Config . java 
 index c6131f5 . . 7d7ef01 100644 
 - - - a / src / java / org / apache / cassandra / config / Config . java 
 + + + b / src / java / org / apache / cassandra / config / Config . java 
 @ @ - 114 , 6 + 114 , 8 @ @ public class Config 
 public String broadcast _ address ; 
 public String internode _ authenticator ; 
 
 + / * intentionally left set to true , despite being set to false in stock 2 . 2 cassandra . yaml 
 + we don ' t want to surprise Thrift users who have the setting blank in the yaml during 2 . 1 - > 2 . 2 upgrade * / 
 public Boolean start _ rpc = true ; 
 public String rpc _ address ; 
 public String rpc _ interface ;

NEAREST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index 8f7e5b6 . . 9efe2b0 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 3 , 6 + 3 , 8 @ @ 
 * include column name in validation failure exceptions ( CASSANDRA - 2849 ) 
 * make sure truncate clears out the commitlog so replay won ' t re - 
 populate with truncated data ( CASSANDRA - 2950 ) 
 + * fix NPE when debug logging is enabled and dropped CF is present 
 + in a commitlog segment ( CASSANDRA - 3021 ) 
 
 
 0 . 8 . 4 
 diff - - git a / src / java / org / apache / cassandra / db / commitlog / CommitLogSegment . java b / src / java / org / apache / cassandra / db / commitlog / CommitLogSegment . java 
 index 98bc7d1 . . 1fc2ad7 100644 
 - - - a / src / java / org / apache / cassandra / db / commitlog / CommitLogSegment . java 
 + + + b / src / java / org / apache / cassandra / db / commitlog / CommitLogSegment . java 
 @ @ - 212 , 7 + 212 , 7 @ @ public class CommitLogSegment 
 for ( Integer cfId : cfLastWrite . keySet ( ) ) 
 { 
 CFMetaData m = DatabaseDescriptor . getCFMetaData ( cfId ) ; 
 - sb . append ( m = = null ? m . cfName : " < deleted > " ) . append ( " ( " ) . append ( cfId ) . append ( " ) , " ) ; 
 + sb . append ( m = = null ? " < deleted > " : m . cfName ) . append ( " ( " ) . append ( cfId ) . append ( " ) , " ) ; 
 } 
 return sb . toString ( ) ; 
 }
