BLEU SCORE: 0.018738883683389617

TEST MSG: push down ( delay ) allocations to where they are needed
GENERATED MSG: revert compaction - stopping from 1 . 0 . x

TEST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / db / view / ViewBuilder . java b / src / java / org / apache / cassandra / db / view / ViewBuilder . java <nl> index 65e26e2 . . 956c064 100644 <nl> - - - a / src / java / org / apache / cassandra / db / view / ViewBuilder . java <nl> + + + b / src / java / org / apache / cassandra / db / view / ViewBuilder . java <nl> @ @ - 72 , 7 + 72 , 6 @ @ public class ViewBuilder extends CompactionInfo . Holder <nl> <nl> private void buildKey ( DecoratedKey key ) <nl> { <nl> - AtomicLong noBase = new AtomicLong ( Long . MAX _ VALUE ) ; <nl> ReadQuery selectQuery = view . getReadQuery ( ) ; <nl> if ( ! selectQuery . selectsKey ( key ) ) <nl> return ; <nl> @ @ - 92 , 7 + 91 , 10 @ @ public class ViewBuilder extends CompactionInfo . Holder <nl> } <nl> <nl> if ( ! mutations . isEmpty ( ) ) <nl> + { <nl> + AtomicLong noBase = new AtomicLong ( Long . MAX _ VALUE ) ; <nl> StorageProxy . mutateMV ( key . getKey ( ) , mutations , true , noBase ) ; <nl> + } <nl> } <nl> <nl> public void run ( )
NEAREST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index 9239cd3 . . 75592cf 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 1 , 4 + 1 , 5 @ @ <nl> 1 . 1 - dev <nl> + * add command to stop compactions ( CASSANDRA - 1740 , 3566 ) <nl> * multithreaded streaming ( CASSANDRA - 3494 ) <nl> * removed in - tree redhat spec ( CASSANDRA - 3567 ) <nl> * " defragment " rows for name - based queries under STCS , again ( CASSANDRA - 2503 ) <nl> @ @ - 24 , 7 + 25 , 6 @ @ <nl> <nl> 1 . 0 . 6 <nl> * fix adding to leveled manifest after streaming ( CASSANDRA - 3536 ) <nl> - * add command to stop compactions ( CASSANDRA - 1740 , 3566 ) <nl> * filter out unavailable cipher suites when using encryption ( CASSANDRA - 3178 ) <nl> * ( HADOOP ) add old - style api support for CFIF and CFRR ( CASSANDRA - 2799 ) <nl> * Support TimeUUIDType column names in Stress . java tool ( CASSANDRA - 3541 )

TEST DIFF:
diff - - git a / src / java / org / apache / cassandra / db / view / ViewBuilder . java b / src / java / org / apache / cassandra / db / view / ViewBuilder . java 
 index 65e26e2 . . 956c064 100644 
 - - - a / src / java / org / apache / cassandra / db / view / ViewBuilder . java 
 + + + b / src / java / org / apache / cassandra / db / view / ViewBuilder . java 
 @ @ - 72 , 7 + 72 , 6 @ @ public class ViewBuilder extends CompactionInfo . Holder 
 
 private void buildKey ( DecoratedKey key ) 
 { 
 - AtomicLong noBase = new AtomicLong ( Long . MAX _ VALUE ) ; 
 ReadQuery selectQuery = view . getReadQuery ( ) ; 
 if ( ! selectQuery . selectsKey ( key ) ) 
 return ; 
 @ @ - 92 , 7 + 91 , 10 @ @ public class ViewBuilder extends CompactionInfo . Holder 
 } 
 
 if ( ! mutations . isEmpty ( ) ) 
 + { 
 + AtomicLong noBase = new AtomicLong ( Long . MAX _ VALUE ) ; 
 StorageProxy . mutateMV ( key . getKey ( ) , mutations , true , noBase ) ; 
 + } 
 } 
 
 public void run ( )

NEAREST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index 9239cd3 . . 75592cf 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 1 , 4 + 1 , 5 @ @ 
 1 . 1 - dev 
 + * add command to stop compactions ( CASSANDRA - 1740 , 3566 ) 
 * multithreaded streaming ( CASSANDRA - 3494 ) 
 * removed in - tree redhat spec ( CASSANDRA - 3567 ) 
 * " defragment " rows for name - based queries under STCS , again ( CASSANDRA - 2503 ) 
 @ @ - 24 , 7 + 25 , 6 @ @ 
 
 1 . 0 . 6 
 * fix adding to leveled manifest after streaming ( CASSANDRA - 3536 ) 
 - * add command to stop compactions ( CASSANDRA - 1740 , 3566 ) 
 * filter out unavailable cipher suites when using encryption ( CASSANDRA - 3178 ) 
 * ( HADOOP ) add old - style api support for CFIF and CFRR ( CASSANDRA - 2799 ) 
 * Support TimeUUIDType column names in Stress . java tool ( CASSANDRA - 3541 )
