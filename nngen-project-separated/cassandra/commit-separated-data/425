BLEU SCORE: 0.06567274736060397

TEST MSG: Fix hint delivery when prefer _ local enabled
GENERATED MSG: Fix MOVED _ NODE client event

TEST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index 371abed . . 41489c1 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 1 , 4 + 1 , 5 @ @ <nl> 3 . 0 . 13 <nl> + * Fix hint delivery when using ext + internal IPs with prefer _ local enabled ( CASSANDRA - 13020 ) <nl> * Fix possible NPE on upgrade to 3 . 0 / 3 . X in case of IO errors ( CASSANDRA - 13389 ) <nl> * Legacy deserializer can create empty range tombstones ( CASSANDRA - 13341 ) <nl> * Use the Kernel32 library to retrieve the PID on Windows and fix startup checks ( CASSANDRA - 13333 ) <nl> diff - - git a / src / java / org / apache / cassandra / service / StorageService . java b / src / java / org / apache / cassandra / service / StorageService . java <nl> index 6760040 . . aa3407b 100644 <nl> - - - a / src / java / org / apache / cassandra / service / StorageService . java <nl> + + + b / src / java / org / apache / cassandra / service / StorageService . java <nl> @ @ - 3655 , 8 + 3655 , 7 @ @ public class StorageService extends NotificationBroadcasterSupport implements IE <nl> / / stream to the closest peer as chosen by the snitch <nl> DatabaseDescriptor . getEndpointSnitch ( ) . sortByProximity ( FBUtilities . getBroadcastAddress ( ) , candidates ) ; <nl> InetAddress hintsDestinationHost = candidates . get ( 0 ) ; <nl> - InetAddress preferred = SystemKeyspace . getPreferredIP ( hintsDestinationHost ) ; <nl> - return tokenMetadata . getHostId ( preferred ) ; <nl> + return tokenMetadata . getHostId ( hintsDestinationHost ) ; <nl> } <nl> } <nl>
NEAREST DIFF (one line): ELIMINATEDSENTENCE

TEST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index 371abed . . 41489c1 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 1 , 4 + 1 , 5 @ @ 
 3 . 0 . 13 
 + * Fix hint delivery when using ext + internal IPs with prefer _ local enabled ( CASSANDRA - 13020 ) 
 * Fix possible NPE on upgrade to 3 . 0 / 3 . X in case of IO errors ( CASSANDRA - 13389 ) 
 * Legacy deserializer can create empty range tombstones ( CASSANDRA - 13341 ) 
 * Use the Kernel32 library to retrieve the PID on Windows and fix startup checks ( CASSANDRA - 13333 ) 
 diff - - git a / src / java / org / apache / cassandra / service / StorageService . java b / src / java / org / apache / cassandra / service / StorageService . java 
 index 6760040 . . aa3407b 100644 
 - - - a / src / java / org / apache / cassandra / service / StorageService . java 
 + + + b / src / java / org / apache / cassandra / service / StorageService . java 
 @ @ - 3655 , 8 + 3655 , 7 @ @ public class StorageService extends NotificationBroadcasterSupport implements IE 
 / / stream to the closest peer as chosen by the snitch 
 DatabaseDescriptor . getEndpointSnitch ( ) . sortByProximity ( FBUtilities . getBroadcastAddress ( ) , candidates ) ; 
 InetAddress hintsDestinationHost = candidates . get ( 0 ) ; 
 - InetAddress preferred = SystemKeyspace . getPreferredIP ( hintsDestinationHost ) ; 
 - return tokenMetadata . getHostId ( preferred ) ; 
 + return tokenMetadata . getHostId ( hintsDestinationHost ) ; 
 } 
 } 


NEAREST DIFF:
ELIMINATEDSENTENCE
