BLEU SCORE: 0.016932492841722675

TEST MSG: OHCProvider doesn ' t write ByteBuffers with non - zero position correctly
GENERATED MSG: ninja : Always make a copy in BBU . getArray ( )

TEST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / cache / OHCProvider . java b / src / java / org / apache / cassandra / cache / OHCProvider . java <nl> index 95c323a . . e4cfb69 100644 <nl> - - - a / src / java / org / apache / cassandra / cache / OHCProvider . java <nl> + + + b / src / java / org / apache / cassandra / cache / OHCProvider . java <nl> @ @ - 264 , 7 + 264 , 7 @ @ public class OHCProvider implements CacheProvider < RowCacheKey , IRowCacheEntry > <nl> public void write ( ByteBuffer buffer ) throws IOException <nl> { <nl> if ( buffer . hasArray ( ) ) <nl> - out . write ( buffer . array ( ) , buffer . arrayOffset ( ) , buffer . remaining ( ) ) ; <nl> + out . write ( buffer . array ( ) , buffer . arrayOffset ( ) + buffer . position ( ) , buffer . remaining ( ) ) ; <nl> else <nl> throw new UnsupportedOperationException ( " IMPLEMENT ME " ) ; <nl> }
NEAREST DIFF (one line): ELIMINATEDSENTENCE

TEST DIFF:
diff - - git a / src / java / org / apache / cassandra / cache / OHCProvider . java b / src / java / org / apache / cassandra / cache / OHCProvider . java 
 index 95c323a . . e4cfb69 100644 
 - - - a / src / java / org / apache / cassandra / cache / OHCProvider . java 
 + + + b / src / java / org / apache / cassandra / cache / OHCProvider . java 
 @ @ - 264 , 7 + 264 , 7 @ @ public class OHCProvider implements CacheProvider < RowCacheKey , IRowCacheEntry > 
 public void write ( ByteBuffer buffer ) throws IOException 
 { 
 if ( buffer . hasArray ( ) ) 
 - out . write ( buffer . array ( ) , buffer . arrayOffset ( ) , buffer . remaining ( ) ) ; 
 + out . write ( buffer . array ( ) , buffer . arrayOffset ( ) + buffer . position ( ) , buffer . remaining ( ) ) ; 
 else 
 throw new UnsupportedOperationException ( " IMPLEMENT ME " ) ; 
 }

NEAREST DIFF:
ELIMINATEDSENTENCE
