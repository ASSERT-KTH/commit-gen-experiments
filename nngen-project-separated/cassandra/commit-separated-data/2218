BLEU SCORE: 0.024367494694068095

TEST MSG: Fix MS expiring map timeout for CAS messages
GENERATED MSG: fix DatabaseDescriptor . hasExistingNoSystemTables to skip system table correctly

TEST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index fc32426 . . d42c100 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 1 , 4 + 1 , 5 @ @ <nl> 2 . 0 . 10 <nl> + * Fix MS expiring map timeout for Paxos messages ( CASSANDRA - 7752 ) <nl> * Do not flush on truncate if durable _ writes is false ( CASSANDRA - 7750 ) <nl> * Give CRR a default input _ cql Statement ( CASSANDRA - 7226 ) <nl> * Better error message when adding a collection with the same name <nl> diff - - git a / src / java / org / apache / cassandra / config / DatabaseDescriptor . java b / src / java / org / apache / cassandra / config / DatabaseDescriptor . java <nl> index 7987193 . . 3162fd1 100644 <nl> - - - a / src / java / org / apache / cassandra / config / DatabaseDescriptor . java <nl> + + + b / src / java / org / apache / cassandra / config / DatabaseDescriptor . java <nl> @ @ - 829 , 6 + 829 , 9 @ @ public class DatabaseDescriptor <nl> return getTruncateRpcTimeout ( ) ; <nl> case READ _ REPAIR : <nl> case MUTATION : <nl> + case PAXOS _ COMMIT : <nl> + case PAXOS _ PREPARE : <nl> + case PAXOS _ PROPOSE : <nl> case COUNTER _ MUTATION : <nl> return getWriteRpcTimeout ( ) ; <nl> default :
NEAREST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / service / CassandraDaemon . java b / src / java / org / apache / cassandra / service / CassandraDaemon . java <nl> index 7d78196 . . 16a9e47 100644 <nl> - - - a / src / java / org / apache / cassandra / service / CassandraDaemon . java <nl> + + + b / src / java / org / apache / cassandra / service / CassandraDaemon . java <nl> @ @ - 119 , 7 + 119 , 36 @ @ public class CassandraDaemon <nl> * / <nl> protected void setup ( ) <nl> { <nl> - logger . info ( " JVM vendor / version : { } / { } " , System . getProperty ( " java . vm . name " ) , System . getProperty ( " java . version " ) ) ; <nl> + String javaVersion = System . getProperty ( " java . version " ) ; <nl> + String javaVmName = System . getProperty ( " java . vm . name " ) ; <nl> + logger . info ( " JVM vendor / version : { } / { } " , javaVmName , javaVersion ) ; <nl> + if ( javaVmName . contains ( " OpenJDK " ) ) <nl> + { <nl> + / / There is essentially no QA done on OpenJDK builds , and <nl> + / / clusters running OpenJDK have seen many heap and load issues . <nl> + logger . warn ( " OpenJDK is not recommended . Please upgrade to the newest Oracle Java release " ) ; <nl> + } <nl> + else if ( ! javaVmName . contains ( " HotSpot " ) ) <nl> + { <nl> + logger . warn ( " Non - Oracle JVM detected . Some features , such as immediate unmap of compacted SSTables , may not work as intended " ) ; <nl> + } <nl> + else <nl> + { <nl> + String [ ] java _ version = javaVersion . split ( " _ " ) ; <nl> + String java _ major = java _ version [ 0 ] ; <nl> + int java _ minor = ( java _ version . length > 1 ) ? Integer . parseInt ( java _ version [ 1 ] ) : 0 ; <nl> + if ( java _ major . equals ( " 1 . 6 . 0 " ) ) <nl> + { <nl> + / / These need to be updated from time to time , but these are currently valid ( 12 . 18 . 2012 ) <nl> + if ( java _ minor < 29 ) <nl> + / / Seen to be a major contributing factor for heap and load issues <nl> + logger . error ( " Your JVM is out of date . Please upgrade to the newest Oracle Java 6 . " ) ; <nl> + else if ( java _ minor < 32 ) <nl> + / / Updates 32 + have been seen to work well enough in the wild <nl> + logger . warn ( " Your JVM is out of date . Please upgrade to the newest Oracle Java 6 . " ) ; <nl> + } <nl> + } <nl> + <nl> logger . info ( " Heap size : { } / { } " , Runtime . getRuntime ( ) . totalMemory ( ) , Runtime . getRuntime ( ) . maxMemory ( ) ) ; <nl> logger . info ( " Classpath : { } " , System . getProperty ( " java . class . path " ) ) ; <nl> CLibrary . tryMlockall ( ) ;

TEST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index fc32426 . . d42c100 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 1 , 4 + 1 , 5 @ @ 
 2 . 0 . 10 
 + * Fix MS expiring map timeout for Paxos messages ( CASSANDRA - 7752 ) 
 * Do not flush on truncate if durable _ writes is false ( CASSANDRA - 7750 ) 
 * Give CRR a default input _ cql Statement ( CASSANDRA - 7226 ) 
 * Better error message when adding a collection with the same name 
 diff - - git a / src / java / org / apache / cassandra / config / DatabaseDescriptor . java b / src / java / org / apache / cassandra / config / DatabaseDescriptor . java 
 index 7987193 . . 3162fd1 100644 
 - - - a / src / java / org / apache / cassandra / config / DatabaseDescriptor . java 
 + + + b / src / java / org / apache / cassandra / config / DatabaseDescriptor . java 
 @ @ - 829 , 6 + 829 , 9 @ @ public class DatabaseDescriptor 
 return getTruncateRpcTimeout ( ) ; 
 case READ _ REPAIR : 
 case MUTATION : 
 + case PAXOS _ COMMIT : 
 + case PAXOS _ PREPARE : 
 + case PAXOS _ PROPOSE : 
 case COUNTER _ MUTATION : 
 return getWriteRpcTimeout ( ) ; 
 default :

NEAREST DIFF:
diff - - git a / src / java / org / apache / cassandra / service / CassandraDaemon . java b / src / java / org / apache / cassandra / service / CassandraDaemon . java 
 index 7d78196 . . 16a9e47 100644 
 - - - a / src / java / org / apache / cassandra / service / CassandraDaemon . java 
 + + + b / src / java / org / apache / cassandra / service / CassandraDaemon . java 
 @ @ - 119 , 7 + 119 , 36 @ @ public class CassandraDaemon 
 * / 
 protected void setup ( ) 
 { 
 - logger . info ( " JVM vendor / version : { } / { } " , System . getProperty ( " java . vm . name " ) , System . getProperty ( " java . version " ) ) ; 
 + String javaVersion = System . getProperty ( " java . version " ) ; 
 + String javaVmName = System . getProperty ( " java . vm . name " ) ; 
 + logger . info ( " JVM vendor / version : { } / { } " , javaVmName , javaVersion ) ; 
 + if ( javaVmName . contains ( " OpenJDK " ) ) 
 + { 
 + / / There is essentially no QA done on OpenJDK builds , and 
 + / / clusters running OpenJDK have seen many heap and load issues . 
 + logger . warn ( " OpenJDK is not recommended . Please upgrade to the newest Oracle Java release " ) ; 
 + } 
 + else if ( ! javaVmName . contains ( " HotSpot " ) ) 
 + { 
 + logger . warn ( " Non - Oracle JVM detected . Some features , such as immediate unmap of compacted SSTables , may not work as intended " ) ; 
 + } 
 + else 
 + { 
 + String [ ] java _ version = javaVersion . split ( " _ " ) ; 
 + String java _ major = java _ version [ 0 ] ; 
 + int java _ minor = ( java _ version . length > 1 ) ? Integer . parseInt ( java _ version [ 1 ] ) : 0 ; 
 + if ( java _ major . equals ( " 1 . 6 . 0 " ) ) 
 + { 
 + / / These need to be updated from time to time , but these are currently valid ( 12 . 18 . 2012 ) 
 + if ( java _ minor < 29 ) 
 + / / Seen to be a major contributing factor for heap and load issues 
 + logger . error ( " Your JVM is out of date . Please upgrade to the newest Oracle Java 6 . " ) ; 
 + else if ( java _ minor < 32 ) 
 + / / Updates 32 + have been seen to work well enough in the wild 
 + logger . warn ( " Your JVM is out of date . Please upgrade to the newest Oracle Java 6 . " ) ; 
 + } 
 + } 
 + 
 logger . info ( " Heap size : { } / { } " , Runtime . getRuntime ( ) . totalMemory ( ) , Runtime . getRuntime ( ) . maxMemory ( ) ) ; 
 logger . info ( " Classpath : { } " , System . getProperty ( " java . class . path " ) ) ; 
 CLibrary . tryMlockall ( ) ;
