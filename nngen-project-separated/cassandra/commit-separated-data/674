BLEU SCORE: 0.027611988917697356

TEST MSG: Do not shut down BatchlogManager twice during drain
GENERATED MSG: Use dedicated thread for sending JMX notifications

TEST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index 9bd0434 . . d6f2a9d 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 1 , 4 + 1 , 5 @ @ <nl> 3 . 0 . 9 <nl> + * Do not shut down BatchlogManager twice during drain ( CASSANDRA - 12504 ) <nl> * Disk failure policy should not be invoked on out of space ( CASSANDRA - 12385 ) <nl> * Calculate last compacted key on startup ( CASSANDRA - 6216 ) <nl> * Add schema to snapshot manifest , add USING TIMESTAMP clause to ALTER TABLE statements ( CASSANDRA - 7190 ) <nl> diff - - git a / src / java / org / apache / cassandra / service / StorageService . java b / src / java / org / apache / cassandra / service / StorageService . java <nl> index 2a167ff . . 498a5ee 100644 <nl> - - - a / src / java / org / apache / cassandra / service / StorageService . java <nl> + + + b / src / java / org / apache / cassandra / service / StorageService . java <nl> @ @ - 4017 , 8 + 4017 , 6 @ @ public class StorageService extends NotificationBroadcasterSupport implements IE <nl> } <nl> FBUtilities . waitOnFutures ( flushes ) ; <nl> <nl> - BatchlogManager . instance . shutdown ( ) ; <nl> - <nl> HintsService . instance . shutdownBlocking ( ) ; <nl> <nl> / / Interrupt on going compaction and shutdown to prevent further compaction
NEAREST DIFF (one line): ELIMINATEDSENTENCE

TEST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index 9bd0434 . . d6f2a9d 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 1 , 4 + 1 , 5 @ @ 
 3 . 0 . 9 
 + * Do not shut down BatchlogManager twice during drain ( CASSANDRA - 12504 ) 
 * Disk failure policy should not be invoked on out of space ( CASSANDRA - 12385 ) 
 * Calculate last compacted key on startup ( CASSANDRA - 6216 ) 
 * Add schema to snapshot manifest , add USING TIMESTAMP clause to ALTER TABLE statements ( CASSANDRA - 7190 ) 
 diff - - git a / src / java / org / apache / cassandra / service / StorageService . java b / src / java / org / apache / cassandra / service / StorageService . java 
 index 2a167ff . . 498a5ee 100644 
 - - - a / src / java / org / apache / cassandra / service / StorageService . java 
 + + + b / src / java / org / apache / cassandra / service / StorageService . java 
 @ @ - 4017 , 8 + 4017 , 6 @ @ public class StorageService extends NotificationBroadcasterSupport implements IE 
 } 
 FBUtilities . waitOnFutures ( flushes ) ; 
 
 - BatchlogManager . instance . shutdown ( ) ; 
 - 
 HintsService . instance . shutdownBlocking ( ) ; 
 
 / / Interrupt on going compaction and shutdown to prevent further compaction

NEAREST DIFF:
ELIMINATEDSENTENCE
