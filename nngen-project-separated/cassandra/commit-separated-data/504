BLEU SCORE: 0.2259005009024612

TEST MSG: Fix flaky GcCompactionTest
GENERATED MSG: Fixed flacky SSTablesIteratedTest

TEST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index 2f0e8f1 . . 55762e2 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 1 , 4 + 1 , 5 @ @ <nl> 3 . 10 <nl> + * Fix flaky GcCompactionTest ( CASSANDRA - 12664 ) <nl> * Fix TestHintedHandoff . hintedhandoff _ decom _ test ( CASSANDRA - 13058 ) <nl> * Fixed query monitoring for range queries ( CASSANDRA - 13050 ) <nl> * Remove outboundBindAny configuration property ( CASSANDRA - 12673 ) <nl> diff - - git a / test / unit / org / apache / cassandra / cql3 / GcCompactionTest . java b / test / unit / org / apache / cassandra / cql3 / GcCompactionTest . java <nl> index 6fed033 . . a31b9a1 100644 <nl> - - - a / test / unit / org / apache / cassandra / cql3 / GcCompactionTest . java <nl> + + + b / test / unit / org / apache / cassandra / cql3 / GcCompactionTest . java <nl> @ @ - 41 , 6 + 41 , 31 @ @ public class GcCompactionTest extends CQLTester <nl> static final int KEY _ COUNT = 10 ; <nl> static final int CLUSTERING _ COUNT = 20 ; <nl> <nl> + / / Test needs synchronous table drop to avoid flushes causing flaky failures <nl> + <nl> + @ Override <nl> + protected String createTable ( String query ) <nl> + { <nl> + return super . createTable ( KEYSPACE _ PER _ TEST , query ) ; <nl> + } <nl> + <nl> + @ Override <nl> + protected UntypedResultSet execute ( String query , Object . . . values ) throws Throwable <nl> + { <nl> + return executeFormattedQuery ( formatQuery ( KEYSPACE _ PER _ TEST , query ) , values ) ; <nl> + } <nl> + <nl> + @ Override <nl> + public ColumnFamilyStore getCurrentColumnFamilyStore ( ) <nl> + { <nl> + return super . getCurrentColumnFamilyStore ( KEYSPACE _ PER _ TEST ) ; <nl> + } <nl> + <nl> + public void flush ( ) <nl> + { <nl> + flush ( KEYSPACE _ PER _ TEST ) ; <nl> + } <nl> + <nl> @ Test <nl> public void testGcCompactionPartitions ( ) throws Throwable <nl> {
NEAREST DIFF (one line): ELIMINATEDSENTENCE

TEST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index 2f0e8f1 . . 55762e2 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 1 , 4 + 1 , 5 @ @ 
 3 . 10 
 + * Fix flaky GcCompactionTest ( CASSANDRA - 12664 ) 
 * Fix TestHintedHandoff . hintedhandoff _ decom _ test ( CASSANDRA - 13058 ) 
 * Fixed query monitoring for range queries ( CASSANDRA - 13050 ) 
 * Remove outboundBindAny configuration property ( CASSANDRA - 12673 ) 
 diff - - git a / test / unit / org / apache / cassandra / cql3 / GcCompactionTest . java b / test / unit / org / apache / cassandra / cql3 / GcCompactionTest . java 
 index 6fed033 . . a31b9a1 100644 
 - - - a / test / unit / org / apache / cassandra / cql3 / GcCompactionTest . java 
 + + + b / test / unit / org / apache / cassandra / cql3 / GcCompactionTest . java 
 @ @ - 41 , 6 + 41 , 31 @ @ public class GcCompactionTest extends CQLTester 
 static final int KEY _ COUNT = 10 ; 
 static final int CLUSTERING _ COUNT = 20 ; 
 
 + / / Test needs synchronous table drop to avoid flushes causing flaky failures 
 + 
 + @ Override 
 + protected String createTable ( String query ) 
 + { 
 + return super . createTable ( KEYSPACE _ PER _ TEST , query ) ; 
 + } 
 + 
 + @ Override 
 + protected UntypedResultSet execute ( String query , Object . . . values ) throws Throwable 
 + { 
 + return executeFormattedQuery ( formatQuery ( KEYSPACE _ PER _ TEST , query ) , values ) ; 
 + } 
 + 
 + @ Override 
 + public ColumnFamilyStore getCurrentColumnFamilyStore ( ) 
 + { 
 + return super . getCurrentColumnFamilyStore ( KEYSPACE _ PER _ TEST ) ; 
 + } 
 + 
 + public void flush ( ) 
 + { 
 + flush ( KEYSPACE _ PER _ TEST ) ; 
 + } 
 + 
 @ Test 
 public void testGcCompactionPartitions ( ) throws Throwable 
 {

NEAREST DIFF:
ELIMINATEDSENTENCE
