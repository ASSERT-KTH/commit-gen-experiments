BLEU SCORE: 0.027611988917697356

TEST MSG: Nodetool rebuild _ index requires named indexes argument
GENERATED MSG: Change nodetool setcachecapcity to manipulate global caches

TEST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index b4498fa . . 8cfffad 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 7 , 6 + 7 , 7 @ @ <nl> * Shutdown batchlog executor in SS # drain ( ) ( CASSANDRA - 7025 ) <nl> * Fix batchlog to account for CF truncation records ( CASSANDRA - 6999 ) <nl> * Fix CQLSH parsing of functions and BLOB literals ( CASSANDRA - 7018 ) <nl> + * Require nodetool rebuild _ index to specify index names ( CASSANDRA - 7038 ) <nl> <nl> <nl> 1 . 2 . 16 <nl> diff - - git a / src / java / org / apache / cassandra / tools / NodeCmd . java b / src / java / org / apache / cassandra / tools / NodeCmd . java <nl> index 6c02877 . . 4901806 100644 <nl> - - - a / src / java / org / apache / cassandra / tools / NodeCmd . java <nl> + + + b / src / java / org / apache / cassandra / tools / NodeCmd . java <nl> @ @ - 1370 , 11 + 1370 , 8 @ @ public class NodeCmd <nl> break ; <nl> <nl> case REBUILD _ INDEX : <nl> - if ( arguments . length < 2 ) { badUse ( " rebuild _ index requires ks and cf args " ) ; } <nl> - if ( arguments . length > = 3 ) <nl> + if ( arguments . length < = 2 ) { badUse ( " rebuild _ index requires ks , cf and idx args " ) ; } <nl> probe . rebuildIndex ( arguments [ 0 ] , arguments [ 1 ] , arguments [ 2 ] . split ( " , " ) ) ; <nl> - else <nl> - probe . rebuildIndex ( arguments [ 0 ] , arguments [ 1 ] ) ; <nl> <nl> break ; <nl> <nl> diff - - git a / src / resources / org / apache / cassandra / tools / NodeToolHelp . yaml b / src / resources / org / apache / cassandra / tools / NodeToolHelp . yaml <nl> index 8fe0519 . . ea2f0d7 100644 <nl> - - - a / src / resources / org / apache / cassandra / tools / NodeToolHelp . yaml <nl> + + + b / src / resources / org / apache / cassandra / tools / NodeToolHelp . yaml <nl> @ @ - 181 , 7 + 181 , 7 @ @ commands : <nl> Load newly placed SSTables to the system without restart . <nl> - name : rebuild _ index < keyspace > < cf - name > < idx1 , idx1 > <nl> help : | <nl> - a full rebuilds of native secondry index for a given column family . IndexNameExample : Standard3 . IdxName , Standard3 . IdxName1 <nl> + a full rebuild of native secondary indexes for a given column family . IndexNameExample : Standard3 . IdxName , Standard3 . IdxName1 <nl> - name : setcachecapacity < key - cache - capacity > < row - cache - capacity > <nl> help : | <nl> Set global key and row cache capacities ( in MB units ) .
NEAREST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index 7c0aa32 . . e3db234 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 45 , 6 + 45 , 7 @ @ <nl> 1 . 1 . 5 <nl> * increase stack size under Java7 to 180K <nl> * Log ( info ) schema changes ( CASSANDRA - 4547 ) <nl> + * Change nodetool setcachecapcity to manipulate global caches ( CASSANDRA - 4563 ) <nl> <nl> <nl> 1 . 1 . 4 <nl> diff - - git a / src / java / org / apache / cassandra / tools / NodeCmd . java b / src / java / org / apache / cassandra / tools / NodeCmd . java <nl> index 2a13953 . . 6bede1b 100644 <nl> - - - a / src / java / org / apache / cassandra / tools / NodeCmd . java <nl> + + + b / src / java / org / apache / cassandra / tools / NodeCmd . java <nl> @ @ - 188 , 13 + 188 , 13 @ @ public class NodeCmd <nl> addCmdHelp ( header , " cfhistograms < keyspace > < cfname > " , " Print statistic histograms for a given column family " ) ; <nl> addCmdHelp ( header , " refresh < keyspace > < cf - name > " , " Load newly placed SSTables to the system without restart . " ) ; <nl> addCmdHelp ( header , " rebuild _ index < keyspace > < cf - name > < idx1 , idx1 > " , " a full rebuilds of native secondry index for a given column family . IndexNameExample : Standard3 . IdxName , Standard3 . IdxName1 " ) ; <nl> + addCmdHelp ( header , " setcachecapacity < key - cache - capacity > < row - cache - capacity > " , " Set global key and row cache capacities ( in MB units ) . " ) ; <nl> <nl> / / Three args <nl> addCmdHelp ( header , " getendpoints < keyspace > < cf > < key > " , " Print the end points that owns the key " ) ; <nl> addCmdHelp ( header , " getsstables < keyspace > < cf > < key > " , " Print the sstable filenames that own the key " ) ; <nl> <nl> / / Four args <nl> - addCmdHelp ( header , " setcachecapacity < keyspace > < cfname > < keycachecapacity > < rowcachecapacity > " , " Set the key and row cache capacities of a given column family " ) ; <nl> addCmdHelp ( header , " setcompactionthreshold < keyspace > < cfname > < minthreshold > < maxthreshold > " , " Set the min and max compaction thresholds for a given column family " ) ; <nl> addCmdHelp ( header , " stop < compaction _ type > " , " Supported types are COMPACTION , VALIDATION , CLEANUP , SCRUB , INDEX _ BUILD " ) ; <nl> <nl> @ @ - 1075 , 8 + 1075 , 8 @ @ public class NodeCmd <nl> break ; <nl> <nl> case SETCACHECAPACITY : <nl> - if ( arguments . length ! = 4 ) { badUse ( " setcachecapacity requires ks , cf , keycachecap , and rowcachecap args . " ) ; } <nl> - probe . setCacheCapacities ( arguments [ 0 ] , arguments [ 1 ] , Integer . parseInt ( arguments [ 2 ] ) , Integer . parseInt ( arguments [ 3 ] ) ) ; <nl> + if ( arguments . length ! = 2 ) { badUse ( " setcachecapacity requires key - cache - capacity , and row - cache - capacity args . " ) ; } <nl> + probe . setCacheCapacities ( Integer . parseInt ( arguments [ 0 ] ) , Integer . parseInt ( arguments [ 1 ] ) ) ; <nl> break ; <nl> <nl> case SETCOMPACTIONTHRESHOLD : <nl> diff - - git a / src / java / org / apache / cassandra / tools / NodeProbe . java b / src / java / org / apache / cassandra / tools / NodeProbe . java <nl> index d080673 . . 494fcda 100644 <nl> - - - a / src / java / org / apache / cassandra / tools / NodeProbe . java <nl> + + + b / src / java / org / apache / cassandra / tools / NodeProbe . java <nl> @ @ - 465 , 7 + 465 , 7 @ @ public class NodeProbe <nl> cfsProxy . setCompactionThresholds ( minimumCompactionThreshold , maximumCompactionThreshold ) ; <nl> } <nl> <nl> - public void setCacheCapacities ( String tableName , String cfName , int keyCacheCapacity , int rowCacheCapacity ) <nl> + public void setCacheCapacities ( int keyCacheCapacity , int rowCacheCapacity ) <nl> { <nl> try <nl> {

TEST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index b4498fa . . 8cfffad 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 7 , 6 + 7 , 7 @ @ 
 * Shutdown batchlog executor in SS # drain ( ) ( CASSANDRA - 7025 ) 
 * Fix batchlog to account for CF truncation records ( CASSANDRA - 6999 ) 
 * Fix CQLSH parsing of functions and BLOB literals ( CASSANDRA - 7018 ) 
 + * Require nodetool rebuild _ index to specify index names ( CASSANDRA - 7038 ) 
 
 
 1 . 2 . 16 
 diff - - git a / src / java / org / apache / cassandra / tools / NodeCmd . java b / src / java / org / apache / cassandra / tools / NodeCmd . java 
 index 6c02877 . . 4901806 100644 
 - - - a / src / java / org / apache / cassandra / tools / NodeCmd . java 
 + + + b / src / java / org / apache / cassandra / tools / NodeCmd . java 
 @ @ - 1370 , 11 + 1370 , 8 @ @ public class NodeCmd 
 break ; 
 
 case REBUILD _ INDEX : 
 - if ( arguments . length < 2 ) { badUse ( " rebuild _ index requires ks and cf args " ) ; } 
 - if ( arguments . length > = 3 ) 
 + if ( arguments . length < = 2 ) { badUse ( " rebuild _ index requires ks , cf and idx args " ) ; } 
 probe . rebuildIndex ( arguments [ 0 ] , arguments [ 1 ] , arguments [ 2 ] . split ( " , " ) ) ; 
 - else 
 - probe . rebuildIndex ( arguments [ 0 ] , arguments [ 1 ] ) ; 
 
 break ; 
 
 diff - - git a / src / resources / org / apache / cassandra / tools / NodeToolHelp . yaml b / src / resources / org / apache / cassandra / tools / NodeToolHelp . yaml 
 index 8fe0519 . . ea2f0d7 100644 
 - - - a / src / resources / org / apache / cassandra / tools / NodeToolHelp . yaml 
 + + + b / src / resources / org / apache / cassandra / tools / NodeToolHelp . yaml 
 @ @ - 181 , 7 + 181 , 7 @ @ commands : 
 Load newly placed SSTables to the system without restart . 
 - name : rebuild _ index < keyspace > < cf - name > < idx1 , idx1 > 
 help : | 
 - a full rebuilds of native secondry index for a given column family . IndexNameExample : Standard3 . IdxName , Standard3 . IdxName1 
 + a full rebuild of native secondary indexes for a given column family . IndexNameExample : Standard3 . IdxName , Standard3 . IdxName1 
 - name : setcachecapacity < key - cache - capacity > < row - cache - capacity > 
 help : | 
 Set global key and row cache capacities ( in MB units ) .

NEAREST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index 7c0aa32 . . e3db234 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 45 , 6 + 45 , 7 @ @ 
 1 . 1 . 5 
 * increase stack size under Java7 to 180K 
 * Log ( info ) schema changes ( CASSANDRA - 4547 ) 
 + * Change nodetool setcachecapcity to manipulate global caches ( CASSANDRA - 4563 ) 
 
 
 1 . 1 . 4 
 diff - - git a / src / java / org / apache / cassandra / tools / NodeCmd . java b / src / java / org / apache / cassandra / tools / NodeCmd . java 
 index 2a13953 . . 6bede1b 100644 
 - - - a / src / java / org / apache / cassandra / tools / NodeCmd . java 
 + + + b / src / java / org / apache / cassandra / tools / NodeCmd . java 
 @ @ - 188 , 13 + 188 , 13 @ @ public class NodeCmd 
 addCmdHelp ( header , " cfhistograms < keyspace > < cfname > " , " Print statistic histograms for a given column family " ) ; 
 addCmdHelp ( header , " refresh < keyspace > < cf - name > " , " Load newly placed SSTables to the system without restart . " ) ; 
 addCmdHelp ( header , " rebuild _ index < keyspace > < cf - name > < idx1 , idx1 > " , " a full rebuilds of native secondry index for a given column family . IndexNameExample : Standard3 . IdxName , Standard3 . IdxName1 " ) ; 
 + addCmdHelp ( header , " setcachecapacity < key - cache - capacity > < row - cache - capacity > " , " Set global key and row cache capacities ( in MB units ) . " ) ; 
 
 / / Three args 
 addCmdHelp ( header , " getendpoints < keyspace > < cf > < key > " , " Print the end points that owns the key " ) ; 
 addCmdHelp ( header , " getsstables < keyspace > < cf > < key > " , " Print the sstable filenames that own the key " ) ; 
 
 / / Four args 
 - addCmdHelp ( header , " setcachecapacity < keyspace > < cfname > < keycachecapacity > < rowcachecapacity > " , " Set the key and row cache capacities of a given column family " ) ; 
 addCmdHelp ( header , " setcompactionthreshold < keyspace > < cfname > < minthreshold > < maxthreshold > " , " Set the min and max compaction thresholds for a given column family " ) ; 
 addCmdHelp ( header , " stop < compaction _ type > " , " Supported types are COMPACTION , VALIDATION , CLEANUP , SCRUB , INDEX _ BUILD " ) ; 
 
 @ @ - 1075 , 8 + 1075 , 8 @ @ public class NodeCmd 
 break ; 
 
 case SETCACHECAPACITY : 
 - if ( arguments . length ! = 4 ) { badUse ( " setcachecapacity requires ks , cf , keycachecap , and rowcachecap args . " ) ; } 
 - probe . setCacheCapacities ( arguments [ 0 ] , arguments [ 1 ] , Integer . parseInt ( arguments [ 2 ] ) , Integer . parseInt ( arguments [ 3 ] ) ) ; 
 + if ( arguments . length ! = 2 ) { badUse ( " setcachecapacity requires key - cache - capacity , and row - cache - capacity args . " ) ; } 
 + probe . setCacheCapacities ( Integer . parseInt ( arguments [ 0 ] ) , Integer . parseInt ( arguments [ 1 ] ) ) ; 
 break ; 
 
 case SETCOMPACTIONTHRESHOLD : 
 diff - - git a / src / java / org / apache / cassandra / tools / NodeProbe . java b / src / java / org / apache / cassandra / tools / NodeProbe . java 
 index d080673 . . 494fcda 100644 
 - - - a / src / java / org / apache / cassandra / tools / NodeProbe . java 
 + + + b / src / java / org / apache / cassandra / tools / NodeProbe . java 
 @ @ - 465 , 7 + 465 , 7 @ @ public class NodeProbe 
 cfsProxy . setCompactionThresholds ( minimumCompactionThreshold , maximumCompactionThreshold ) ; 
 } 
 
 - public void setCacheCapacities ( String tableName , String cfName , int keyCacheCapacity , int rowCacheCapacity ) 
 + public void setCacheCapacities ( int keyCacheCapacity , int rowCacheCapacity ) 
 { 
 try 
 {
