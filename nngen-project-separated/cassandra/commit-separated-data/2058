BLEU SCORE: 0.04767707020457096

TEST MSG: ninja fix to add null check on CommitLogArchiver startup
GENERATED MSG: Create backup directories for commitlog archiving during startup

TEST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / db / commitlog / CommitLogArchiver . java b / src / java / org / apache / cassandra / db / commitlog / CommitLogArchiver . java <nl> index e30443e . . 8957643 100644 <nl> - - - a / src / java / org / apache / cassandra / db / commitlog / CommitLogArchiver . java <nl> + + + b / src / java / org / apache / cassandra / db / commitlog / CommitLogArchiver . java <nl> @ @ - 82 , 14 + 82 , 17 @ @ public class CommitLogArchiver <nl> archiveCommand = commitlog _ commands . getProperty ( " archive _ command " ) ; <nl> restoreCommand = commitlog _ commands . getProperty ( " restore _ command " ) ; <nl> restoreDirectories = commitlog _ commands . getProperty ( " restore _ directories " ) ; <nl> - for ( String dir : restoreDirectories . split ( DELIMITER ) ) <nl> + if ( restoreDirectories ! = null & & ! restoreDirectories . isEmpty ( ) ) <nl> { <nl> - File directory = new File ( dir ) ; <nl> - if ( ! directory . exists ( ) ) <nl> + for ( String dir : restoreDirectories . split ( DELIMITER ) ) <nl> { <nl> - if ( ! directory . mkdir ( ) ) <nl> + File directory = new File ( dir ) ; <nl> + if ( ! directory . exists ( ) ) <nl> { <nl> - throw new RuntimeException ( " Unable to create directory " + dir ) ; <nl> + if ( ! directory . mkdir ( ) ) <nl> + { <nl> + throw new RuntimeException ( " Unable to create directory : " + dir ) ; <nl> + } <nl> } <nl> } <nl> }
NEAREST DIFF (one line): ELIMINATEDSENTENCE

TEST DIFF:
diff - - git a / src / java / org / apache / cassandra / db / commitlog / CommitLogArchiver . java b / src / java / org / apache / cassandra / db / commitlog / CommitLogArchiver . java 
 index e30443e . . 8957643 100644 
 - - - a / src / java / org / apache / cassandra / db / commitlog / CommitLogArchiver . java 
 + + + b / src / java / org / apache / cassandra / db / commitlog / CommitLogArchiver . java 
 @ @ - 82 , 14 + 82 , 17 @ @ public class CommitLogArchiver 
 archiveCommand = commitlog _ commands . getProperty ( " archive _ command " ) ; 
 restoreCommand = commitlog _ commands . getProperty ( " restore _ command " ) ; 
 restoreDirectories = commitlog _ commands . getProperty ( " restore _ directories " ) ; 
 - for ( String dir : restoreDirectories . split ( DELIMITER ) ) 
 + if ( restoreDirectories ! = null & & ! restoreDirectories . isEmpty ( ) ) 
 { 
 - File directory = new File ( dir ) ; 
 - if ( ! directory . exists ( ) ) 
 + for ( String dir : restoreDirectories . split ( DELIMITER ) ) 
 { 
 - if ( ! directory . mkdir ( ) ) 
 + File directory = new File ( dir ) ; 
 + if ( ! directory . exists ( ) ) 
 { 
 - throw new RuntimeException ( " Unable to create directory " + dir ) ; 
 + if ( ! directory . mkdir ( ) ) 
 + { 
 + throw new RuntimeException ( " Unable to create directory : " + dir ) ; 
 + } 
 } 
 } 
 }

NEAREST DIFF:
ELIMINATEDSENTENCE
