BLEU SCORE: 0.035802380724744266

TEST MSG: 10534 2 . 2 patch
GENERATED MSG: Fix CompressionInfo not being synced on close

TEST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / io / compress / CompressionMetadata . java b / src / java / org / apache / cassandra / io / compress / CompressionMetadata . java <nl> index 23a9f3e . . e5d470c 100644 <nl> - - - a / src / java / org / apache / cassandra / io / compress / CompressionMetadata . java <nl> + + + b / src / java / org / apache / cassandra / io / compress / CompressionMetadata . java <nl> @ @ - 345 , 11 + 345 , 15 @ @ public class CompressionMetadata <nl> } <nl> <nl> / / flush the data to disk <nl> - try ( DataOutputStream out = new DataOutputStream ( new BufferedOutputStream ( new FileOutputStream ( filePath ) ) ) ) <nl> + try ( FileOutputStream fos = new FileOutputStream ( filePath ) ; <nl> + DataOutputStream out = new DataOutputStream ( new BufferedOutputStream ( fos ) ) ) <nl> { <nl> writeHeader ( out , dataLength , count ) ; <nl> - for ( int i = 0 ; i < count ; i + + ) <nl> + for ( int i = 0 ; i < count ; i + + ) <nl> out . writeLong ( offsets . getLong ( i * 8L ) ) ; <nl> + <nl> + out . flush ( ) ; <nl> + fos . getFD ( ) . sync ( ) ; <nl> } <nl> catch ( IOException e ) <nl> {
NEAREST DIFF (one line): ELIMINATEDSENTENCE

TEST DIFF:
diff - - git a / src / java / org / apache / cassandra / io / compress / CompressionMetadata . java b / src / java / org / apache / cassandra / io / compress / CompressionMetadata . java 
 index 23a9f3e . . e5d470c 100644 
 - - - a / src / java / org / apache / cassandra / io / compress / CompressionMetadata . java 
 + + + b / src / java / org / apache / cassandra / io / compress / CompressionMetadata . java 
 @ @ - 345 , 11 + 345 , 15 @ @ public class CompressionMetadata 
 } 
 
 / / flush the data to disk 
 - try ( DataOutputStream out = new DataOutputStream ( new BufferedOutputStream ( new FileOutputStream ( filePath ) ) ) ) 
 + try ( FileOutputStream fos = new FileOutputStream ( filePath ) ; 
 + DataOutputStream out = new DataOutputStream ( new BufferedOutputStream ( fos ) ) ) 
 { 
 writeHeader ( out , dataLength , count ) ; 
 - for ( int i = 0 ; i < count ; i + + ) 
 + for ( int i = 0 ; i < count ; i + + ) 
 out . writeLong ( offsets . getLong ( i * 8L ) ) ; 
 + 
 + out . flush ( ) ; 
 + fos . getFD ( ) . sync ( ) ; 
 } 
 catch ( IOException e ) 
 {

NEAREST DIFF:
ELIMINATEDSENTENCE
