BLEU SCORE: 0.041961149062965476

TEST MSG: ( cqlsh ) Display the current logged - in user
GENERATED MSG: teach cqlsh to ignore comments

TEST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index fc6c942 . . 5a1767a 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 1 , 4 + 1 , 5 @ @ <nl> 2 . 1 . 1 <nl> + * ( cqlsh ) Display the current logged - in user ( CASSANDRA - 7785 ) <nl> * ( cqlsh ) Don ' t ignore CTRL - C during COPY FROM execution ( CASSANDRA - 7815 ) <nl> * ( cqlsh ) Order UDTs according to cross - type dependencies in DESCRIBE <nl> output ( CASSANDRA - 7659 ) <nl> diff - - git a / bin / cqlsh b / bin / cqlsh <nl> index 3fb972a . . c055771 100755 <nl> - - - a / bin / cqlsh <nl> + + + b / bin / cqlsh <nl> @ @ - 504 , 6 + 504 , 7 @ @ class Shell ( cmd . Cmd ) : <nl> if not password : <nl> password = getpass . getpass ( ) <nl> self . auth _ provider = PlainTextAuthProvider ( username = username , password = password ) <nl> + self . username = username <nl> self . keyspace = keyspace <nl> self . tracing _ enabled = tracing _ enabled <nl> self . expand _ enabled = expand _ enabled <nl> @ @ - 712 , 9 + 713 , 9 @ @ class Shell ( cmd . Cmd ) : <nl> <nl> def reset _ prompt ( self ) : <nl> if self . current _ keyspace is None : <nl> - self . set _ prompt ( self . default _ prompt ) <nl> + self . set _ prompt ( self . default _ prompt , True ) <nl> else : <nl> - self . set _ prompt ( self . keyspace _ prompt % self . current _ keyspace ) <nl> + self . set _ prompt ( self . keyspace _ prompt % self . current _ keyspace , True ) <nl> <nl> def set _ continue _ prompt ( self ) : <nl> if self . empty _ lines > = 3 : <nl> @ @ - 1062 , 7 + 1063 , 10 @ @ class Shell ( cmd . Cmd ) : <nl> return cqlruleset . cql _ complete ( stuff _ to _ complete , text , cassandra _ conn = self , <nl> debug = debug _ completion , startsymbol = ' cqlshCommand ' ) <nl> <nl> - def set _ prompt ( self , prompt ) : <nl> + def set _ prompt ( self , prompt , prepend _ user = False ) : <nl> + if prepend _ user and self . username : <nl> + self . prompt = " % s @ % s " % ( self . username , prompt ) <nl> + return <nl> self . prompt = prompt <nl> <nl> def cql _ unprotect _ name ( self , namestr ) :
NEAREST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / utils / FBUtilities . java b / src / java / org / apache / cassandra / utils / FBUtilities . java <nl> index 732d143 . . 87bed53 100644 <nl> - - - a / src / java / org / apache / cassandra / utils / FBUtilities . java <nl> + + + b / src / java / org / apache / cassandra / utils / FBUtilities . java <nl> @ @ - 575 , 7 + 575 , 7 @ @ public class FBUtilities <nl> <nl> public static String toString ( Map < ? , ? > map ) <nl> { <nl> - Joiner . MapJoiner joiner = Joiner . on ( " , " ) . withKeyValueSeparator ( " : " ) ; <nl> + Joiner . MapJoiner joiner = Joiner . on ( " , " ) . withKeyValueSeparator ( " : " ) ; <nl> return joiner . join ( map ) ; <nl> } <nl>

TEST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index fc6c942 . . 5a1767a 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 1 , 4 + 1 , 5 @ @ 
 2 . 1 . 1 
 + * ( cqlsh ) Display the current logged - in user ( CASSANDRA - 7785 ) 
 * ( cqlsh ) Don ' t ignore CTRL - C during COPY FROM execution ( CASSANDRA - 7815 ) 
 * ( cqlsh ) Order UDTs according to cross - type dependencies in DESCRIBE 
 output ( CASSANDRA - 7659 ) 
 diff - - git a / bin / cqlsh b / bin / cqlsh 
 index 3fb972a . . c055771 100755 
 - - - a / bin / cqlsh 
 + + + b / bin / cqlsh 
 @ @ - 504 , 6 + 504 , 7 @ @ class Shell ( cmd . Cmd ) : 
 if not password : 
 password = getpass . getpass ( ) 
 self . auth _ provider = PlainTextAuthProvider ( username = username , password = password ) 
 + self . username = username 
 self . keyspace = keyspace 
 self . tracing _ enabled = tracing _ enabled 
 self . expand _ enabled = expand _ enabled 
 @ @ - 712 , 9 + 713 , 9 @ @ class Shell ( cmd . Cmd ) : 
 
 def reset _ prompt ( self ) : 
 if self . current _ keyspace is None : 
 - self . set _ prompt ( self . default _ prompt ) 
 + self . set _ prompt ( self . default _ prompt , True ) 
 else : 
 - self . set _ prompt ( self . keyspace _ prompt % self . current _ keyspace ) 
 + self . set _ prompt ( self . keyspace _ prompt % self . current _ keyspace , True ) 
 
 def set _ continue _ prompt ( self ) : 
 if self . empty _ lines > = 3 : 
 @ @ - 1062 , 7 + 1063 , 10 @ @ class Shell ( cmd . Cmd ) : 
 return cqlruleset . cql _ complete ( stuff _ to _ complete , text , cassandra _ conn = self , 
 debug = debug _ completion , startsymbol = ' cqlshCommand ' ) 
 
 - def set _ prompt ( self , prompt ) : 
 + def set _ prompt ( self , prompt , prepend _ user = False ) : 
 + if prepend _ user and self . username : 
 + self . prompt = " % s @ % s " % ( self . username , prompt ) 
 + return 
 self . prompt = prompt 
 
 def cql _ unprotect _ name ( self , namestr ) :

NEAREST DIFF:
diff - - git a / src / java / org / apache / cassandra / utils / FBUtilities . java b / src / java / org / apache / cassandra / utils / FBUtilities . java 
 index 732d143 . . 87bed53 100644 
 - - - a / src / java / org / apache / cassandra / utils / FBUtilities . java 
 + + + b / src / java / org / apache / cassandra / utils / FBUtilities . java 
 @ @ - 575 , 7 + 575 , 7 @ @ public class FBUtilities 
 
 public static String toString ( Map < ? , ? > map ) 
 { 
 - Joiner . MapJoiner joiner = Joiner . on ( " , " ) . withKeyValueSeparator ( " : " ) ; 
 + Joiner . MapJoiner joiner = Joiner . on ( " , " ) . withKeyValueSeparator ( " : " ) ; 
 return joiner . join ( map ) ; 
 } 

