BLEU SCORE: 0.2984745896009823

TEST MSG: Don ' t set clientMode when bulk - loading
GENERATED MSG: Don ' t set client mode in SSTableLoader

TEST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index cdd2c77 . . a956eb6 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 1 , 4 + 1 , 6 @ @ <nl> 2 . 0 . 14 : <nl> + * Don ' t set clientMode to true when bulk - loading sstables to avoid <nl> + a NullPointerException ( CASSANDRA - 8238 ) <nl> * Fix ignored index _ interval change in ALTER TABLE statements ( CASSANDRA - 7976 ) <nl> * Do more aggressive compaction in old time windows in DTCS ( CASSANDRA - 8360 ) <nl> * java . lang . AssertionError when reading saved cache ( CASSANDRA - 8740 ) <nl> diff - - git a / src / java / org / apache / cassandra / config / YamlConfigurationLoader . java b / src / java / org / apache / cassandra / config / YamlConfigurationLoader . java <nl> index b520d07 . . fb82639 100644 <nl> - - - a / src / java / org / apache / cassandra / config / YamlConfigurationLoader . java <nl> + + + b / src / java / org / apache / cassandra / config / YamlConfigurationLoader . java <nl> @ @ - 61 , 7 + 61 , 8 @ @ public class YamlConfigurationLoader implements ConfigurationLoader <nl> ClassLoader loader = DatabaseDescriptor . class . getClassLoader ( ) ; <nl> url = loader . getResource ( configUrl ) ; <nl> if ( url = = null ) <nl> - throw new ConfigurationException ( " Cannot locate " + configUrl ) ; <nl> + throw new ConfigurationException ( " Cannot locate " + configUrl + " . If you are executing this from an " + <nl> + " external tool , it needs to set Config . setClientMode ( true ) to avoid loading configuration . \ " " ) ; <nl> } <nl> <nl> return url ; <nl> diff - - git a / src / java / org / apache / cassandra / io / sstable / SSTableLoader . java b / src / java / org / apache / cassandra / io / sstable / SSTableLoader . java <nl> index 85dc0e4 . . e32b3cf 100644 <nl> - - - a / src / java / org / apache / cassandra / io / sstable / SSTableLoader . java <nl> + + + b / src / java / org / apache / cassandra / io / sstable / SSTableLoader . java <nl> @ @ - 53 , 11 + 53 , 6 @ @ public class SSTableLoader implements StreamEventHandler <nl> private final List < SSTableReader > sstables = new ArrayList < > ( ) ; <nl> private final Multimap < InetAddress , StreamSession . SSTableStreamingSections > streamingDetails = HashMultimap . create ( ) ; <nl> <nl> - static <nl> - { <nl> - Config . setClientMode ( true ) ; <nl> - } <nl> - <nl> public SSTableLoader ( File directory , Client client , OutputHandler outputHandler ) <nl> { <nl> this . directory = directory ; <nl> diff - - git a / src / java / org / apache / cassandra / tools / BulkLoader . java b / src / java / org / apache / cassandra / tools / BulkLoader . java <nl> index 8e9cfb3 . . 685ebf7 100644 <nl> - - - a / src / java / org / apache / cassandra / tools / BulkLoader . java <nl> + + + b / src / java / org / apache / cassandra / tools / BulkLoader . java <nl> @ @ - 74 , 6 + 74 , 7 @ @ public class BulkLoader <nl> <nl> public static void main ( String args [ ] ) <nl> { <nl> + Config . setClientMode ( true ) ; <nl> LoaderOptions options = LoaderOptions . parseArgs ( args ) ; <nl> OutputHandler handler = new OutputHandler . SystemOutput ( options . verbose , options . debug ) ; <nl> SSTableLoader loader = new SSTableLoader ( options . directory , new ExternalClient ( options . hosts ,
NEAREST DIFF (one line): ELIMINATEDSENTENCE

TEST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index cdd2c77 . . a956eb6 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 1 , 4 + 1 , 6 @ @ 
 2 . 0 . 14 : 
 + * Don ' t set clientMode to true when bulk - loading sstables to avoid 
 + a NullPointerException ( CASSANDRA - 8238 ) 
 * Fix ignored index _ interval change in ALTER TABLE statements ( CASSANDRA - 7976 ) 
 * Do more aggressive compaction in old time windows in DTCS ( CASSANDRA - 8360 ) 
 * java . lang . AssertionError when reading saved cache ( CASSANDRA - 8740 ) 
 diff - - git a / src / java / org / apache / cassandra / config / YamlConfigurationLoader . java b / src / java / org / apache / cassandra / config / YamlConfigurationLoader . java 
 index b520d07 . . fb82639 100644 
 - - - a / src / java / org / apache / cassandra / config / YamlConfigurationLoader . java 
 + + + b / src / java / org / apache / cassandra / config / YamlConfigurationLoader . java 
 @ @ - 61 , 7 + 61 , 8 @ @ public class YamlConfigurationLoader implements ConfigurationLoader 
 ClassLoader loader = DatabaseDescriptor . class . getClassLoader ( ) ; 
 url = loader . getResource ( configUrl ) ; 
 if ( url = = null ) 
 - throw new ConfigurationException ( " Cannot locate " + configUrl ) ; 
 + throw new ConfigurationException ( " Cannot locate " + configUrl + " . If you are executing this from an " + 
 + " external tool , it needs to set Config . setClientMode ( true ) to avoid loading configuration . \ " " ) ; 
 } 
 
 return url ; 
 diff - - git a / src / java / org / apache / cassandra / io / sstable / SSTableLoader . java b / src / java / org / apache / cassandra / io / sstable / SSTableLoader . java 
 index 85dc0e4 . . e32b3cf 100644 
 - - - a / src / java / org / apache / cassandra / io / sstable / SSTableLoader . java 
 + + + b / src / java / org / apache / cassandra / io / sstable / SSTableLoader . java 
 @ @ - 53 , 11 + 53 , 6 @ @ public class SSTableLoader implements StreamEventHandler 
 private final List < SSTableReader > sstables = new ArrayList < > ( ) ; 
 private final Multimap < InetAddress , StreamSession . SSTableStreamingSections > streamingDetails = HashMultimap . create ( ) ; 
 
 - static 
 - { 
 - Config . setClientMode ( true ) ; 
 - } 
 - 
 public SSTableLoader ( File directory , Client client , OutputHandler outputHandler ) 
 { 
 this . directory = directory ; 
 diff - - git a / src / java / org / apache / cassandra / tools / BulkLoader . java b / src / java / org / apache / cassandra / tools / BulkLoader . java 
 index 8e9cfb3 . . 685ebf7 100644 
 - - - a / src / java / org / apache / cassandra / tools / BulkLoader . java 
 + + + b / src / java / org / apache / cassandra / tools / BulkLoader . java 
 @ @ - 74 , 6 + 74 , 7 @ @ public class BulkLoader 
 
 public static void main ( String args [ ] ) 
 { 
 + Config . setClientMode ( true ) ; 
 LoaderOptions options = LoaderOptions . parseArgs ( args ) ; 
 OutputHandler handler = new OutputHandler . SystemOutput ( options . verbose , options . debug ) ; 
 SSTableLoader loader = new SSTableLoader ( options . directory , new ExternalClient ( options . hosts ,

NEAREST DIFF:
ELIMINATEDSENTENCE
