BLEU SCORE: 0.08310415003234632

TEST MSG: Enable CDC unittest
GENERATED MSG: Fix various unit - test failures

TEST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index b89ad99 . . a748e28 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 1 , 4 + 1 , 5 @ @ <nl> 3 . 11 . 2 <nl> + * Enable CDC unittest ( CASSANDRA - 14141 ) <nl> * Acquire read lock before accessing CompactionStrategyManager fields ( CASSANDRA - 14139 ) <nl> * Split CommitLogStressTest to avoid timeout ( CASSANDRA - 14143 ) <nl> * Avoid invalidating disk boundaries unnecessarily ( CASSANDRA - 14083 ) <nl> diff - - git a / src / java / org / apache / cassandra / config / DatabaseDescriptor . java b / src / java / org / apache / cassandra / config / DatabaseDescriptor . java <nl> index 51fbb59 . . 8b92c5a 100644 <nl> - - - a / src / java / org / apache / cassandra / config / DatabaseDescriptor . java <nl> + + + b / src / java / org / apache / cassandra / config / DatabaseDescriptor . java <nl> @ @ - 2417 , 6 + 2417 , 11 @ @ public class DatabaseDescriptor <nl> return conf . cdc _ enabled ; <nl> } <nl> <nl> + public static void setCDCEnabled ( boolean cdc _ enabled ) <nl> + { <nl> + conf . cdc _ enabled = cdc _ enabled ; <nl> + } <nl> + <nl> public static String getCDCLogLocation ( ) <nl> { <nl> return conf . cdc _ raw _ directory ; <nl> diff - - git a / test / unit / org / apache / cassandra / cql3 / CDCStatementTest . java b / test / unit / org / apache / cassandra / cql3 / CDCStatementTest . java <nl> index 0b18eec . . fb24aa9 100644 <nl> - - - a / test / unit / org / apache / cassandra / cql3 / CDCStatementTest . java <nl> + + + b / test / unit / org / apache / cassandra / cql3 / CDCStatementTest . java <nl> @ @ - 19 , 7 + 19 , 6 @ @ <nl> package org . apache . cassandra . cql3 ; <nl> <nl> import org . junit . Assert ; <nl> - import org . junit . Assume ; <nl> import org . junit . BeforeClass ; <nl> import org . junit . Test ; <nl> <nl> @ @ - 28 , 9 + 27 , 10 @ @ import org . apache . cassandra . config . DatabaseDescriptor ; <nl> public class CDCStatementTest extends CQLTester <nl> { <nl> @ BeforeClass <nl> - public static void checkConfig ( ) <nl> + public static void setUpClass ( ) <nl> { <nl> - Assume . assumeTrue ( DatabaseDescriptor . isCDCEnabled ( ) ) ; <nl> + DatabaseDescriptor . setCDCEnabled ( true ) ; <nl> + CQLTester . setUpClass ( ) ; <nl> } <nl> <nl> @ Test <nl> diff - - git a / test / unit / org / apache / cassandra / db / commitlog / CommitLogSegmentManagerCDCTest . java b / test / unit / org / apache / cassandra / db / commitlog / CommitLogSegmentManagerCDCTest . java <nl> index 68ce57d . . 92a4bf8 100644 <nl> - - - a / test / unit / org / apache / cassandra / db / commitlog / CommitLogSegmentManagerCDCTest . java <nl> + + + b / test / unit / org / apache / cassandra / db / commitlog / CommitLogSegmentManagerCDCTest . java <nl> @ @ - 24 , 7 + 24 , 6 @ @ import java . nio . ByteBuffer ; <nl> import java . util . Random ; <nl> <nl> import org . junit . Assert ; <nl> - import org . junit . Assume ; <nl> import org . junit . Before ; <nl> import org . junit . BeforeClass ; <nl> import org . junit . Test ; <nl> @ @ - 43 , 9 + 42 , 10 @ @ public class CommitLogSegmentManagerCDCTest extends CQLTester <nl> private static Random random = new Random ( ) ; <nl> <nl> @ BeforeClass <nl> - public static void checkConfig ( ) <nl> + public static void setUpClass ( ) <nl> { <nl> - Assume . assumeTrue ( DatabaseDescriptor . isCDCEnabled ( ) ) ; <nl> + DatabaseDescriptor . setCDCEnabled ( true ) ; <nl> + CQLTester . setUpClass ( ) ; <nl> } <nl> <nl> @ Before
NEAREST DIFF (one line): ELIMINATEDSENTENCE

TEST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index b89ad99 . . a748e28 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 1 , 4 + 1 , 5 @ @ 
 3 . 11 . 2 
 + * Enable CDC unittest ( CASSANDRA - 14141 ) 
 * Acquire read lock before accessing CompactionStrategyManager fields ( CASSANDRA - 14139 ) 
 * Split CommitLogStressTest to avoid timeout ( CASSANDRA - 14143 ) 
 * Avoid invalidating disk boundaries unnecessarily ( CASSANDRA - 14083 ) 
 diff - - git a / src / java / org / apache / cassandra / config / DatabaseDescriptor . java b / src / java / org / apache / cassandra / config / DatabaseDescriptor . java 
 index 51fbb59 . . 8b92c5a 100644 
 - - - a / src / java / org / apache / cassandra / config / DatabaseDescriptor . java 
 + + + b / src / java / org / apache / cassandra / config / DatabaseDescriptor . java 
 @ @ - 2417 , 6 + 2417 , 11 @ @ public class DatabaseDescriptor 
 return conf . cdc _ enabled ; 
 } 
 
 + public static void setCDCEnabled ( boolean cdc _ enabled ) 
 + { 
 + conf . cdc _ enabled = cdc _ enabled ; 
 + } 
 + 
 public static String getCDCLogLocation ( ) 
 { 
 return conf . cdc _ raw _ directory ; 
 diff - - git a / test / unit / org / apache / cassandra / cql3 / CDCStatementTest . java b / test / unit / org / apache / cassandra / cql3 / CDCStatementTest . java 
 index 0b18eec . . fb24aa9 100644 
 - - - a / test / unit / org / apache / cassandra / cql3 / CDCStatementTest . java 
 + + + b / test / unit / org / apache / cassandra / cql3 / CDCStatementTest . java 
 @ @ - 19 , 7 + 19 , 6 @ @ 
 package org . apache . cassandra . cql3 ; 
 
 import org . junit . Assert ; 
 - import org . junit . Assume ; 
 import org . junit . BeforeClass ; 
 import org . junit . Test ; 
 
 @ @ - 28 , 9 + 27 , 10 @ @ import org . apache . cassandra . config . DatabaseDescriptor ; 
 public class CDCStatementTest extends CQLTester 
 { 
 @ BeforeClass 
 - public static void checkConfig ( ) 
 + public static void setUpClass ( ) 
 { 
 - Assume . assumeTrue ( DatabaseDescriptor . isCDCEnabled ( ) ) ; 
 + DatabaseDescriptor . setCDCEnabled ( true ) ; 
 + CQLTester . setUpClass ( ) ; 
 } 
 
 @ Test 
 diff - - git a / test / unit / org / apache / cassandra / db / commitlog / CommitLogSegmentManagerCDCTest . java b / test / unit / org / apache / cassandra / db / commitlog / CommitLogSegmentManagerCDCTest . java 
 index 68ce57d . . 92a4bf8 100644 
 - - - a / test / unit / org / apache / cassandra / db / commitlog / CommitLogSegmentManagerCDCTest . java 
 + + + b / test / unit / org / apache / cassandra / db / commitlog / CommitLogSegmentManagerCDCTest . java 
 @ @ - 24 , 7 + 24 , 6 @ @ import java . nio . ByteBuffer ; 
 import java . util . Random ; 
 
 import org . junit . Assert ; 
 - import org . junit . Assume ; 
 import org . junit . Before ; 
 import org . junit . BeforeClass ; 
 import org . junit . Test ; 
 @ @ - 43 , 9 + 42 , 10 @ @ public class CommitLogSegmentManagerCDCTest extends CQLTester 
 private static Random random = new Random ( ) ; 
 
 @ BeforeClass 
 - public static void checkConfig ( ) 
 + public static void setUpClass ( ) 
 { 
 - Assume . assumeTrue ( DatabaseDescriptor . isCDCEnabled ( ) ) ; 
 + DatabaseDescriptor . setCDCEnabled ( true ) ; 
 + CQLTester . setUpClass ( ) ; 
 } 
 
 @ Before

NEAREST DIFF:
ELIMINATEDSENTENCE
