BLEU SCORE: 0.020980574531482755

TEST MSG: Backport CASSANDRA - 7454 to 2 . 1 . 0
GENERATED MSG: Fix NPE when unknown prepared statement ID is used

TEST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index 81a35cd . . ff417b1 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 9 , 6 + 9 , 7 @ @ <nl> * Support conditional updates , tuple type , and the v3 protocol in cqlsh ( CASSANDRA - 7509 ) <nl> * Handle queries on multiple secondary index types ( CASSANDRA - 7525 ) <nl> * Fix cqlsh authentication with v3 native protocol ( CASSANDRA - 7564 ) <nl> + * Fix NPE when unknown prepared statement ID is used ( CASSANDRA - 7454 ) <nl> Merged from 2 . 0 : <nl> * ( Windows ) force range - based repair to non - sequential mode ( CASSANDRA - 7541 ) <nl> * Fix range merging when DES scores are zero ( CASSANDRA - 7535 ) <nl> diff - - git a / src / java / org / apache / cassandra / transport / messages / ExecuteMessage . java b / src / java / org / apache / cassandra / transport / messages / ExecuteMessage . java <nl> index d618f43 . . 78182b2 100644 <nl> - - - a / src / java / org / apache / cassandra / transport / messages / ExecuteMessage . java <nl> + + + b / src / java / org / apache / cassandra / transport / messages / ExecuteMessage . java <nl> @ @ - 102 , 12 + 102 , 12 @ @ public class ExecuteMessage extends Message . Request <nl> { <nl> QueryHandler handler = state . getClientState ( ) . getCQLQueryHandler ( ) ; <nl> ParsedStatement . Prepared prepared = handler . getPrepared ( statementId ) ; <nl> + if ( prepared = = null ) <nl> + throw new PreparedQueryNotFoundException ( statementId ) ; <nl> + <nl> options . prepare ( prepared . boundNames ) ; <nl> CQLStatement statement = prepared . statement ; <nl> <nl> - if ( statement = = null ) <nl> - throw new PreparedQueryNotFoundException ( statementId ) ; <nl> - <nl> if ( options . getPageSize ( ) = = 0 ) <nl> throw new ProtocolException ( " The page size cannot be 0 " ) ; <nl>
NEAREST DIFF (one line): ELIMINATEDSENTENCE

TEST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index 81a35cd . . ff417b1 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 9 , 6 + 9 , 7 @ @ 
 * Support conditional updates , tuple type , and the v3 protocol in cqlsh ( CASSANDRA - 7509 ) 
 * Handle queries on multiple secondary index types ( CASSANDRA - 7525 ) 
 * Fix cqlsh authentication with v3 native protocol ( CASSANDRA - 7564 ) 
 + * Fix NPE when unknown prepared statement ID is used ( CASSANDRA - 7454 ) 
 Merged from 2 . 0 : 
 * ( Windows ) force range - based repair to non - sequential mode ( CASSANDRA - 7541 ) 
 * Fix range merging when DES scores are zero ( CASSANDRA - 7535 ) 
 diff - - git a / src / java / org / apache / cassandra / transport / messages / ExecuteMessage . java b / src / java / org / apache / cassandra / transport / messages / ExecuteMessage . java 
 index d618f43 . . 78182b2 100644 
 - - - a / src / java / org / apache / cassandra / transport / messages / ExecuteMessage . java 
 + + + b / src / java / org / apache / cassandra / transport / messages / ExecuteMessage . java 
 @ @ - 102 , 12 + 102 , 12 @ @ public class ExecuteMessage extends Message . Request 
 { 
 QueryHandler handler = state . getClientState ( ) . getCQLQueryHandler ( ) ; 
 ParsedStatement . Prepared prepared = handler . getPrepared ( statementId ) ; 
 + if ( prepared = = null ) 
 + throw new PreparedQueryNotFoundException ( statementId ) ; 
 + 
 options . prepare ( prepared . boundNames ) ; 
 CQLStatement statement = prepared . statement ; 
 
 - if ( statement = = null ) 
 - throw new PreparedQueryNotFoundException ( statementId ) ; 
 - 
 if ( options . getPageSize ( ) = = 0 ) 
 throw new ProtocolException ( " The page size cannot be 0 " ) ; 


NEAREST DIFF:
ELIMINATEDSENTENCE
