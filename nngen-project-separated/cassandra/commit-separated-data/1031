BLEU SCORE: 0.04767707020457096

TEST MSG: Add entries for all options to cqlsh . sample
GENERATED MSG: merge from 1 . 2

TEST DIFF (one line): diff - - git a / conf / cqlshrc . sample b / conf / cqlshrc . sample <nl> index fb3f3af . . 5a33a2f 100644 <nl> - - - a / conf / cqlshrc . sample <nl> + + + b / conf / cqlshrc . sample <nl> @ @ - 18 , 51 + 18 , 196 @ @ <nl> ; Sample ~ / . cqlshrc file . <nl> <nl> [ authentication ] <nl> - username = fred <nl> - password = ! ! bang ! ! $ <nl> + ; ; If Cassandra has auth enabled , fill out these options <nl> + ; username = fred <nl> + ; password = ! ! bang ! ! $ <nl> + ; keyspace = ks1 <nl> + <nl> + <nl> <nl> [ ui ] <nl> - color = on <nl> - completekey = tab <nl> + ; ; Whether or not to display query results with colors <nl> + ; color = on <nl> + <nl> + ; ; Used for displaying timestamps ( and reading them with COPY ) <nl> + ; datetimeformat = % Y - % m - % d % H : % M : % S % z <nl> + <nl> + ; ; The number of digits displayed after the decimal point <nl> + ; ; ( note that increasing this to large numbers can result in unusual values ) <nl> + ; float _ precision = 5 <nl> + <nl> + ; ; Used for automatic completion and suggestions <nl> + ; completekey = tab <nl> + <nl> + <nl> <nl> [ cql ] <nl> - version = 3 . 2 . 1 <nl> + ; ; A version of CQL to use ( this should almost never be set ) <nl> + ; version = 3 . 2 . 1 <nl> + <nl> + <nl> <nl> [ connection ] <nl> + <nl> + ; ; The host to connect to <nl> hostname = 127 . 0 . 0 . 1 <nl> + <nl> + ; ; The port to connect to ( 9042 is the native protocol default ) <nl> port = 9042 <nl> <nl> + ; ; A timeout in seconds for opening new connections <nl> + ; timeout = 10 <nl> + <nl> + ; ; A timeout in seconds for executing queries <nl> + ; request _ timeout = 10 <nl> + <nl> + <nl> + <nl> + [ csv ] <nl> + ; ; The size limit for parsed fields <nl> + ; field _ size _ limit = 131072 <nl> + <nl> + <nl> + <nl> [ tracing ] <nl> - max _ trace _ wait = 10 . 0 <nl> + ; ; The max number of seconds to wait for a trace to complete <nl> + ; max _ trace _ wait = 10 . 0 <nl> + <nl> + <nl> <nl> ; [ ssl ] <nl> - ; certfile = ~ / keys / cassandra . cert <nl> - ; ; optional - true by default . <nl> + ; certfile = ~ / keys / cassandra . cert <nl> + <nl> + ; ; Optional - true by default . <nl> ; validate = true <nl> - ; ; to be provided when require _ client _ auth = true <nl> + <nl> + ; ; To be provided when require _ client _ auth = true <nl> ; userkey = ~ / key . pem <nl> - ; ; to be provided when require _ client _ auth = true <nl> + <nl> + ; ; To be provided when require _ client _ auth = true <nl> ; usercert = ~ / cert . pem <nl> <nl> - ; ; optional section , overrides default certfile in [ ssl ] section , if present <nl> - ; [ certfiles ] <nl> - ; 192 . 168 . 1 . 3 = ~ / keys / cassandra01 . cert <nl> - ; 192 . 168 . 1 . 4 = ~ / keys / cassandra02 . cert <nl> <nl> <nl> - ; vim : set ft = dosini : <nl> + ; ; Optional section , overrides default certfile in [ ssl ] section , if present <nl> + ; [ certfiles ] <nl> + ; 192 . 168 . 1 . 3 = ~ / keys / cassandra01 . cert <nl> + ; 192 . 168 . 1 . 4 = ~ / keys / cassandra02 . cert <nl> + <nl> + <nl> + <nl> + ; ; Options that are common to both COPY TO and COPY FROM <nl> + ; [ copy ] <nl> + <nl> + ; ; The string placeholder for null values <nl> + ; nullval = null <nl> + <nl> + ; ; For COPY TO , controls whether the first line in the CSV output file will <nl> + ; ; contain the column names . For COPY FROM , specifies whether the first <nl> + ; ; line in the CSV file contains column names . <nl> + ; header = false <nl> + <nl> + ; ; The character that is used as the decimal point separator <nl> + ; decimalsep = . <nl> + <nl> + ; ; The character that is used to separate thousands <nl> + ; ; ( defaults to the empty string ) <nl> + ; thousandssep = <nl> + <nl> + ; ; The string literal format for boolean values <nl> + ; boolstyle = True , False <nl> + <nl> + ; ; The number of child worker processes to create for <nl> + ; ; COPY tasks . Defaults to a max of 4 for COPY FROM and 16 <nl> + ; ; for COPY TO . However , at most ( num _ cores - 1 ) processes <nl> + ; ; will be created . <nl> + ; numprocesses = <nl> + <nl> + ; ; The maximum number of failed attempts to fetch a range of data ( when using <nl> + ; ; COPY TO ) or insert a chunk of data ( when using COPY FROM ) before giving up <nl> + ; maxattempts = 5 <nl> + <nl> + ; ; How often status updates are refreshed , in seconds <nl> + ; reportfrequency = 0 . 25 <nl> + <nl> + ; ; An optional file to output rate statistics to <nl> + ; ratefile = <nl> + <nl> + <nl> + <nl> + ; ; Options specific to COPY TO <nl> + ; [ copy - to ] <nl> + <nl> + ; ; The maximum number token ranges to fetch simultaneously <nl> + ; maxrequests = 6 <nl> + <nl> + ; ; The number of rows to fetch in a single page <nl> + ; pagesize = 1000 <nl> + <nl> + ; ; By default the page timeout is 10 seconds per 1000 entries <nl> + ; ; in the page size or 10 seconds if pagesize is smaller <nl> + ; pagetimeout = 10 <nl> + <nl> + ; ; Token range to export . Defaults to exporting the full ring . <nl> + ; begintoken = <nl> + ; endtoken = <nl> + <nl> + ; The maximum size of the output file measured in number of lines ; <nl> + ; beyond this maximum the output file will be split into segments . <nl> + ; - 1 means unlimited . <nl> + ; maxoutputsize = - 1 <nl> + <nl> + ; ; The encoding used for characters <nl> + ; encoding = utf8 <nl> + <nl> + <nl> + <nl> + ; ; Options specific to COPY FROM <nl> + ; [ copy - from ] <nl> + <nl> + ; ; The maximum number of rows to process per second <nl> + ; ingestrate = 100000 <nl> + <nl> + ; ; The maximum number of rows to import ( - 1 means unlimited ) <nl> + ; maxrows = - 1 <nl> + <nl> + ; ; A number of initial rows to skip <nl> + ; skiprows = 0 <nl> + <nl> + ; ; A comma - separated list of column names to ignore <nl> + ; skipcols = <nl> + <nl> + ; ; The maximum global number of parsing errors to ignore , - 1 means unlimited <nl> + ; maxparseerrors = - 1 <nl> + <nl> + ; ; The maximum global number of insert errors to ignore , - 1 means unlimited <nl> + ; maxinserterrors = - 1 <nl> + <nl> + ; ; A file to store all rows that could not be imported , by default this is <nl> + ; ; import _ < ks > _ < table > . err where < ks > is your keyspace and < table > is your table name . <nl> + ; errfile = <nl> + <nl> + ; ; The min and max number of rows inserted in a single batch <nl> + ; maxbatchsize = 20 <nl> + ; minbatchsize = 2 <nl> + <nl> + ; ; The number of rows that are passed to child worker processes from <nl> + ; ; the main process at a time <nl> + ; chunksize = 1000 <nl> + <nl> + <nl> + <nl> + ; ; The options for COPY can also be specified per - table . The following <nl> + ; ; three sections demonstrate this . <nl> <nl> - ; ; optional options for COPY TO and COPY FROM <nl> - ; [ copy ] <nl> - ; maxattempts = 10 <nl> - ; numprocesses = 4 <nl> + ; ; Optional table - specific options for COPY <nl> + ; [ copy : mykeyspace . mytable ] <nl> + ; chunksize = 1000 <nl> <nl> - ; ; optional options for COPY FROM <nl> - ; [ copy - from ] <nl> - ; chunksize = 5000 <nl> - ; ingestrate = 50000 <nl> + ; ; Optional table - specific options for COPY FROM <nl> + ; [ copy - from : mykeyspace . mytable ] <nl> + ; ingestrate = 20000 <nl> <nl> - ; ; optional options for COPY TO <nl> - ; [ copy - to ] <nl> - ; pagesize = 2000 <nl> - ; pagetimeout = 20 <nl> + ; ; Optional table - specific options for COPY TO <nl> + ; [ copy - to : mykeyspace . mytable ] <nl> + ; pagetimeout = 30
NEAREST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index b935425 . . 7f5a487 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 1 , 4 + 1 , 5 @ @ <nl> 1 . 2 - rc1 <nl> + * fix cqlsh rendering of blob fields ( CASSANDRA - 4970 ) <nl> * fix cqlsh DESCRIBE command ( CASSANDRA - 4913 ) <nl> * save truncation position in system table ( CASSANDRA - 4906 ) <nl> * Move CompressionMetadata off - heap ( CASSANDRA - 4937 ) <nl> diff - - git a / pylib / cqlshlib / formatting . py b / pylib / cqlshlib / formatting . py <nl> index d15c083 . . bab3506 100644 <nl> - - - a / pylib / cqlshlib / formatting . py <nl> + + + b / pylib / cqlshlib / formatting . py <nl> @ @ - 88 , 8 + 88 , 8 @ @ def formatter _ for ( typname ) : <nl> return f <nl> return registrator <nl> <nl> - @ formatter _ for ( ' bytes ' ) <nl> - def format _ value _ bytes ( val , colormap , * * _ ) : <nl> + @ formatter _ for ( ' blob ' ) <nl> + def format _ value _ blob ( val , colormap , * * _ ) : <nl> bval = ' ' . join ( ' % 02x ' % ord ( c ) for c in val ) <nl> return colorme ( bval , colormap , ' hex ' ) <nl>

TEST DIFF:
diff - - git a / conf / cqlshrc . sample b / conf / cqlshrc . sample 
 index fb3f3af . . 5a33a2f 100644 
 - - - a / conf / cqlshrc . sample 
 + + + b / conf / cqlshrc . sample 
 @ @ - 18 , 51 + 18 , 196 @ @ 
 ; Sample ~ / . cqlshrc file . 
 
 [ authentication ] 
 - username = fred 
 - password = ! ! bang ! ! $ 
 + ; ; If Cassandra has auth enabled , fill out these options 
 + ; username = fred 
 + ; password = ! ! bang ! ! $ 
 + ; keyspace = ks1 
 + 
 + 
 
 [ ui ] 
 - color = on 
 - completekey = tab 
 + ; ; Whether or not to display query results with colors 
 + ; color = on 
 + 
 + ; ; Used for displaying timestamps ( and reading them with COPY ) 
 + ; datetimeformat = % Y - % m - % d % H : % M : % S % z 
 + 
 + ; ; The number of digits displayed after the decimal point 
 + ; ; ( note that increasing this to large numbers can result in unusual values ) 
 + ; float _ precision = 5 
 + 
 + ; ; Used for automatic completion and suggestions 
 + ; completekey = tab 
 + 
 + 
 
 [ cql ] 
 - version = 3 . 2 . 1 
 + ; ; A version of CQL to use ( this should almost never be set ) 
 + ; version = 3 . 2 . 1 
 + 
 + 
 
 [ connection ] 
 + 
 + ; ; The host to connect to 
 hostname = 127 . 0 . 0 . 1 
 + 
 + ; ; The port to connect to ( 9042 is the native protocol default ) 
 port = 9042 
 
 + ; ; A timeout in seconds for opening new connections 
 + ; timeout = 10 
 + 
 + ; ; A timeout in seconds for executing queries 
 + ; request _ timeout = 10 
 + 
 + 
 + 
 + [ csv ] 
 + ; ; The size limit for parsed fields 
 + ; field _ size _ limit = 131072 
 + 
 + 
 + 
 [ tracing ] 
 - max _ trace _ wait = 10 . 0 
 + ; ; The max number of seconds to wait for a trace to complete 
 + ; max _ trace _ wait = 10 . 0 
 + 
 + 
 
 ; [ ssl ] 
 - ; certfile = ~ / keys / cassandra . cert 
 - ; ; optional - true by default . 
 + ; certfile = ~ / keys / cassandra . cert 
 + 
 + ; ; Optional - true by default . 
 ; validate = true 
 - ; ; to be provided when require _ client _ auth = true 
 + 
 + ; ; To be provided when require _ client _ auth = true 
 ; userkey = ~ / key . pem 
 - ; ; to be provided when require _ client _ auth = true 
 + 
 + ; ; To be provided when require _ client _ auth = true 
 ; usercert = ~ / cert . pem 
 
 - ; ; optional section , overrides default certfile in [ ssl ] section , if present 
 - ; [ certfiles ] 
 - ; 192 . 168 . 1 . 3 = ~ / keys / cassandra01 . cert 
 - ; 192 . 168 . 1 . 4 = ~ / keys / cassandra02 . cert 
 
 
 - ; vim : set ft = dosini : 
 + ; ; Optional section , overrides default certfile in [ ssl ] section , if present 
 + ; [ certfiles ] 
 + ; 192 . 168 . 1 . 3 = ~ / keys / cassandra01 . cert 
 + ; 192 . 168 . 1 . 4 = ~ / keys / cassandra02 . cert 
 + 
 + 
 + 
 + ; ; Options that are common to both COPY TO and COPY FROM 
 + ; [ copy ] 
 + 
 + ; ; The string placeholder for null values 
 + ; nullval = null 
 + 
 + ; ; For COPY TO , controls whether the first line in the CSV output file will 
 + ; ; contain the column names . For COPY FROM , specifies whether the first 
 + ; ; line in the CSV file contains column names . 
 + ; header = false 
 + 
 + ; ; The character that is used as the decimal point separator 
 + ; decimalsep = . 
 + 
 + ; ; The character that is used to separate thousands 
 + ; ; ( defaults to the empty string ) 
 + ; thousandssep = 
 + 
 + ; ; The string literal format for boolean values 
 + ; boolstyle = True , False 
 + 
 + ; ; The number of child worker processes to create for 
 + ; ; COPY tasks . Defaults to a max of 4 for COPY FROM and 16 
 + ; ; for COPY TO . However , at most ( num _ cores - 1 ) processes 
 + ; ; will be created . 
 + ; numprocesses = 
 + 
 + ; ; The maximum number of failed attempts to fetch a range of data ( when using 
 + ; ; COPY TO ) or insert a chunk of data ( when using COPY FROM ) before giving up 
 + ; maxattempts = 5 
 + 
 + ; ; How often status updates are refreshed , in seconds 
 + ; reportfrequency = 0 . 25 
 + 
 + ; ; An optional file to output rate statistics to 
 + ; ratefile = 
 + 
 + 
 + 
 + ; ; Options specific to COPY TO 
 + ; [ copy - to ] 
 + 
 + ; ; The maximum number token ranges to fetch simultaneously 
 + ; maxrequests = 6 
 + 
 + ; ; The number of rows to fetch in a single page 
 + ; pagesize = 1000 
 + 
 + ; ; By default the page timeout is 10 seconds per 1000 entries 
 + ; ; in the page size or 10 seconds if pagesize is smaller 
 + ; pagetimeout = 10 
 + 
 + ; ; Token range to export . Defaults to exporting the full ring . 
 + ; begintoken = 
 + ; endtoken = 
 + 
 + ; The maximum size of the output file measured in number of lines ; 
 + ; beyond this maximum the output file will be split into segments . 
 + ; - 1 means unlimited . 
 + ; maxoutputsize = - 1 
 + 
 + ; ; The encoding used for characters 
 + ; encoding = utf8 
 + 
 + 
 + 
 + ; ; Options specific to COPY FROM 
 + ; [ copy - from ] 
 + 
 + ; ; The maximum number of rows to process per second 
 + ; ingestrate = 100000 
 + 
 + ; ; The maximum number of rows to import ( - 1 means unlimited ) 
 + ; maxrows = - 1 
 + 
 + ; ; A number of initial rows to skip 
 + ; skiprows = 0 
 + 
 + ; ; A comma - separated list of column names to ignore 
 + ; skipcols = 
 + 
 + ; ; The maximum global number of parsing errors to ignore , - 1 means unlimited 
 + ; maxparseerrors = - 1 
 + 
 + ; ; The maximum global number of insert errors to ignore , - 1 means unlimited 
 + ; maxinserterrors = - 1 
 + 
 + ; ; A file to store all rows that could not be imported , by default this is 
 + ; ; import _ < ks > _ < table > . err where < ks > is your keyspace and < table > is your table name . 
 + ; errfile = 
 + 
 + ; ; The min and max number of rows inserted in a single batch 
 + ; maxbatchsize = 20 
 + ; minbatchsize = 2 
 + 
 + ; ; The number of rows that are passed to child worker processes from 
 + ; ; the main process at a time 
 + ; chunksize = 1000 
 + 
 + 
 + 
 + ; ; The options for COPY can also be specified per - table . The following 
 + ; ; three sections demonstrate this . 
 
 - ; ; optional options for COPY TO and COPY FROM 
 - ; [ copy ] 
 - ; maxattempts = 10 
 - ; numprocesses = 4 
 + ; ; Optional table - specific options for COPY 
 + ; [ copy : mykeyspace . mytable ] 
 + ; chunksize = 1000 
 
 - ; ; optional options for COPY FROM 
 - ; [ copy - from ] 
 - ; chunksize = 5000 
 - ; ingestrate = 50000 
 + ; ; Optional table - specific options for COPY FROM 
 + ; [ copy - from : mykeyspace . mytable ] 
 + ; ingestrate = 20000 
 
 - ; ; optional options for COPY TO 
 - ; [ copy - to ] 
 - ; pagesize = 2000 
 - ; pagetimeout = 20 
 + ; ; Optional table - specific options for COPY TO 
 + ; [ copy - to : mykeyspace . mytable ] 
 + ; pagetimeout = 30

NEAREST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index b935425 . . 7f5a487 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 1 , 4 + 1 , 5 @ @ 
 1 . 2 - rc1 
 + * fix cqlsh rendering of blob fields ( CASSANDRA - 4970 ) 
 * fix cqlsh DESCRIBE command ( CASSANDRA - 4913 ) 
 * save truncation position in system table ( CASSANDRA - 4906 ) 
 * Move CompressionMetadata off - heap ( CASSANDRA - 4937 ) 
 diff - - git a / pylib / cqlshlib / formatting . py b / pylib / cqlshlib / formatting . py 
 index d15c083 . . bab3506 100644 
 - - - a / pylib / cqlshlib / formatting . py 
 + + + b / pylib / cqlshlib / formatting . py 
 @ @ - 88 , 8 + 88 , 8 @ @ def formatter _ for ( typname ) : 
 return f 
 return registrator 
 
 - @ formatter _ for ( ' bytes ' ) 
 - def format _ value _ bytes ( val , colormap , * * _ ) : 
 + @ formatter _ for ( ' blob ' ) 
 + def format _ value _ blob ( val , colormap , * * _ ) : 
 bval = ' ' . join ( ' % 02x ' % ord ( c ) for c in val ) 
 return colorme ( bval , colormap , ' hex ' ) 

