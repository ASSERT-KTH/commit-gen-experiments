BLEU SCORE: 0.021504238591261653

TEST MSG: Fix possible race condition in NativeTransportService . testConcurrentDestroys
GENERATED MSG: Sleep for RING _ DELAY before replacing with same IP

TEST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index 0c86ff7 . . 7110b84 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 1 , 4 + 1 , 5 @ @ <nl> 3 . 6 <nl> + * Fix potential timeout in NativeTransportService . testConcurrentDestroys ( CASSANDRA - 10756 ) <nl> * Support large partitions on the 3 . 0 sstable format ( CASSANDRA - 11206 ) <nl> * JSON datetime formatting needs timezone ( CASSANDRA - 11137 ) <nl> * Add support to rebuild from specific range ( CASSANDRA - 10409 ) <nl> diff - - git a / src / java / org / apache / cassandra / service / NativeTransportService . java b / src / java / org / apache / cassandra / service / NativeTransportService . java <nl> index eff3a89 . . 48839f1 100644 <nl> - - - a / src / java / org / apache / cassandra / service / NativeTransportService . java <nl> + + + b / src / java / org / apache / cassandra / service / NativeTransportService . java <nl> @ @ - 145 , 16 + 145 , 7 @ @ public class NativeTransportService <nl> servers = Collections . emptyList ( ) ; <nl> <nl> / / shutdown executors used by netty for native transport server <nl> - Future < ? > wgStop = workerGroup . shutdownGracefully ( 0 , 0 , TimeUnit . SECONDS ) ; <nl> - <nl> - try <nl> - { <nl> - wgStop . await ( 5000 ) ; <nl> - } <nl> - catch ( InterruptedException e1 ) <nl> - { <nl> - Thread . currentThread ( ) . interrupt ( ) ; <nl> - } <nl> + workerGroup . shutdownGracefully ( 3 , 5 , TimeUnit . SECONDS ) . awaitUninterruptibly ( ) ; <nl> <nl> / / shutdownGracefully not implemented yet in RequestThreadPoolExecutor <nl> eventExecutorGroup . shutdown ( ) ;
NEAREST DIFF (one line): ELIMINATEDSENTENCE

TEST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index 0c86ff7 . . 7110b84 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 1 , 4 + 1 , 5 @ @ 
 3 . 6 
 + * Fix potential timeout in NativeTransportService . testConcurrentDestroys ( CASSANDRA - 10756 ) 
 * Support large partitions on the 3 . 0 sstable format ( CASSANDRA - 11206 ) 
 * JSON datetime formatting needs timezone ( CASSANDRA - 11137 ) 
 * Add support to rebuild from specific range ( CASSANDRA - 10409 ) 
 diff - - git a / src / java / org / apache / cassandra / service / NativeTransportService . java b / src / java / org / apache / cassandra / service / NativeTransportService . java 
 index eff3a89 . . 48839f1 100644 
 - - - a / src / java / org / apache / cassandra / service / NativeTransportService . java 
 + + + b / src / java / org / apache / cassandra / service / NativeTransportService . java 
 @ @ - 145 , 16 + 145 , 7 @ @ public class NativeTransportService 
 servers = Collections . emptyList ( ) ; 
 
 / / shutdown executors used by netty for native transport server 
 - Future < ? > wgStop = workerGroup . shutdownGracefully ( 0 , 0 , TimeUnit . SECONDS ) ; 
 - 
 - try 
 - { 
 - wgStop . await ( 5000 ) ; 
 - } 
 - catch ( InterruptedException e1 ) 
 - { 
 - Thread . currentThread ( ) . interrupt ( ) ; 
 - } 
 + workerGroup . shutdownGracefully ( 3 , 5 , TimeUnit . SECONDS ) . awaitUninterruptibly ( ) ; 
 
 / / shutdownGracefully not implemented yet in RequestThreadPoolExecutor 
 eventExecutorGroup . shutdown ( ) ;

NEAREST DIFF:
ELIMINATEDSENTENCE
