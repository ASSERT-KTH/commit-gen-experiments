BLEU SCORE: 0.016932492841722675

TEST MSG: ninja fix bounds mismatch in test , depending on prior sloppy behaviour
GENERATED MSG: Fix tests

TEST DIFF (one line): diff - - git a / test / unit / org / apache / cassandra / db / compaction / CompactionsTest . java b / test / unit / org / apache / cassandra / db / compaction / CompactionsTest . java <nl> index 4659b5c . . cc10eb6 100644 <nl> - - - a / test / unit / org / apache / cassandra / db / compaction / CompactionsTest . java <nl> + + + b / test / unit / org / apache / cassandra / db / compaction / CompactionsTest . java <nl> @ @ - 36 , 11 + 36 , 10 @ @ import org . apache . cassandra . Util ; <nl> import org . apache . cassandra . config . CFMetaData ; <nl> import org . apache . cassandra . config . DatabaseDescriptor ; <nl> import org . apache . cassandra . db . * ; <nl> + import org . apache . cassandra . db . columniterator . IdentityQueryFilter ; <nl> import org . apache . cassandra . db . columniterator . OnDiskAtomIterator ; <nl> import org . apache . cassandra . db . filter . QueryFilter ; <nl> - import org . apache . cassandra . dht . BytesToken ; <nl> - import org . apache . cassandra . dht . Range ; <nl> - import org . apache . cassandra . dht . Token ; <nl> + import org . apache . cassandra . dht . * ; <nl> import org . apache . cassandra . io . sstable . * ; <nl> import org . apache . cassandra . io . sstable . metadata . MetadataCollector ; <nl> import org . apache . cassandra . io . sstable . metadata . StatsMetadata ; <nl> @ @ - 157 , 8 + 156 , 8 @ @ public class CompactionsTest extends SchemaLoader <nl> <nl> / / check that the shadowed column is gone <nl> SSTableReader sstable = cfs . getSSTables ( ) . iterator ( ) . next ( ) ; <nl> - Range keyRange = new Range < RowPosition > ( key , sstable . partitioner . getMinimumToken ( ) . maxKeyBound ( ) ) ; <nl> - ISSTableScanner scanner = sstable . getScanner ( DataRange . forKeyRange ( keyRange ) ) ; <nl> + AbstractBounds < RowPosition > bounds = new Bounds < RowPosition > ( key , sstable . partitioner . getMinimumToken ( ) . maxKeyBound ( ) ) ; <nl> + ISSTableScanner scanner = sstable . getScanner ( new DataRange ( bounds , new IdentityQueryFilter ( ) ) ) ; <nl> OnDiskAtomIterator iter = scanner . next ( ) ; <nl> assertEquals ( key , iter . getKey ( ) ) ; <nl> assert iter . next ( ) instanceof RangeTombstone ;
NEAREST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / cql / CreateColumnFamilyStatement . java b / src / java / org / apache / cassandra / cql / CreateColumnFamilyStatement . java <nl> index dd72eaf . . 4c86b6e 100644 <nl> - - - a / src / java / org / apache / cassandra / cql / CreateColumnFamilyStatement . java <nl> + + + b / src / java / org / apache / cassandra / cql / CreateColumnFamilyStatement . java <nl> @ @ - 177 , 12 + 177 , 15 @ @ public class CreateColumnFamilyStatement <nl> . maxCompactionThreshold ( getPropertyInt ( CFPropDefs . KW _ MAXCOMPACTIONTHRESHOLD , CFMetaData . DEFAULT _ MAX _ COMPACTION _ THRESHOLD ) ) <nl> . columnMetadata ( getColumns ( comparator ) ) <nl> . keyValidator ( TypeParser . parse ( CFPropDefs . comparators . get ( getKeyType ( ) ) ) ) <nl> - . keyAliases ( Collections . < ByteBuffer > singletonList ( keyAlias ) ) <nl> . compactionStrategyClass ( cfProps . compactionStrategyClass ) <nl> . compactionStrategyOptions ( cfProps . compactionStrategyOptions ) <nl> . compressionParameters ( CompressionParameters . create ( cfProps . compressionParameters ) ) <nl> . caching ( CFMetaData . Caching . fromString ( getPropertyString ( CFPropDefs . KW _ CACHING , CFMetaData . DEFAULT _ CACHING _ STRATEGY . toString ( ) ) ) ) <nl> . bloomFilterFpChance ( getPropertyDouble ( CFPropDefs . KW _ BF _ FP _ CHANCE , CFMetaData . DEFAULT _ BF _ FP _ CHANCE ) ) ; <nl> + <nl> + / / CQL2 can have null keyAliases <nl> + if ( keyAlias ! = null ) <nl> + newCFMD . keyAliases ( Collections . < ByteBuffer > singletonList ( keyAlias ) ) ; <nl> } <nl> catch ( ConfigurationException e ) <nl> {

TEST DIFF:
diff - - git a / test / unit / org / apache / cassandra / db / compaction / CompactionsTest . java b / test / unit / org / apache / cassandra / db / compaction / CompactionsTest . java 
 index 4659b5c . . cc10eb6 100644 
 - - - a / test / unit / org / apache / cassandra / db / compaction / CompactionsTest . java 
 + + + b / test / unit / org / apache / cassandra / db / compaction / CompactionsTest . java 
 @ @ - 36 , 11 + 36 , 10 @ @ import org . apache . cassandra . Util ; 
 import org . apache . cassandra . config . CFMetaData ; 
 import org . apache . cassandra . config . DatabaseDescriptor ; 
 import org . apache . cassandra . db . * ; 
 + import org . apache . cassandra . db . columniterator . IdentityQueryFilter ; 
 import org . apache . cassandra . db . columniterator . OnDiskAtomIterator ; 
 import org . apache . cassandra . db . filter . QueryFilter ; 
 - import org . apache . cassandra . dht . BytesToken ; 
 - import org . apache . cassandra . dht . Range ; 
 - import org . apache . cassandra . dht . Token ; 
 + import org . apache . cassandra . dht . * ; 
 import org . apache . cassandra . io . sstable . * ; 
 import org . apache . cassandra . io . sstable . metadata . MetadataCollector ; 
 import org . apache . cassandra . io . sstable . metadata . StatsMetadata ; 
 @ @ - 157 , 8 + 156 , 8 @ @ public class CompactionsTest extends SchemaLoader 
 
 / / check that the shadowed column is gone 
 SSTableReader sstable = cfs . getSSTables ( ) . iterator ( ) . next ( ) ; 
 - Range keyRange = new Range < RowPosition > ( key , sstable . partitioner . getMinimumToken ( ) . maxKeyBound ( ) ) ; 
 - ISSTableScanner scanner = sstable . getScanner ( DataRange . forKeyRange ( keyRange ) ) ; 
 + AbstractBounds < RowPosition > bounds = new Bounds < RowPosition > ( key , sstable . partitioner . getMinimumToken ( ) . maxKeyBound ( ) ) ; 
 + ISSTableScanner scanner = sstable . getScanner ( new DataRange ( bounds , new IdentityQueryFilter ( ) ) ) ; 
 OnDiskAtomIterator iter = scanner . next ( ) ; 
 assertEquals ( key , iter . getKey ( ) ) ; 
 assert iter . next ( ) instanceof RangeTombstone ;

NEAREST DIFF:
diff - - git a / src / java / org / apache / cassandra / cql / CreateColumnFamilyStatement . java b / src / java / org / apache / cassandra / cql / CreateColumnFamilyStatement . java 
 index dd72eaf . . 4c86b6e 100644 
 - - - a / src / java / org / apache / cassandra / cql / CreateColumnFamilyStatement . java 
 + + + b / src / java / org / apache / cassandra / cql / CreateColumnFamilyStatement . java 
 @ @ - 177 , 12 + 177 , 15 @ @ public class CreateColumnFamilyStatement 
 . maxCompactionThreshold ( getPropertyInt ( CFPropDefs . KW _ MAXCOMPACTIONTHRESHOLD , CFMetaData . DEFAULT _ MAX _ COMPACTION _ THRESHOLD ) ) 
 . columnMetadata ( getColumns ( comparator ) ) 
 . keyValidator ( TypeParser . parse ( CFPropDefs . comparators . get ( getKeyType ( ) ) ) ) 
 - . keyAliases ( Collections . < ByteBuffer > singletonList ( keyAlias ) ) 
 . compactionStrategyClass ( cfProps . compactionStrategyClass ) 
 . compactionStrategyOptions ( cfProps . compactionStrategyOptions ) 
 . compressionParameters ( CompressionParameters . create ( cfProps . compressionParameters ) ) 
 . caching ( CFMetaData . Caching . fromString ( getPropertyString ( CFPropDefs . KW _ CACHING , CFMetaData . DEFAULT _ CACHING _ STRATEGY . toString ( ) ) ) ) 
 . bloomFilterFpChance ( getPropertyDouble ( CFPropDefs . KW _ BF _ FP _ CHANCE , CFMetaData . DEFAULT _ BF _ FP _ CHANCE ) ) ; 
 + 
 + / / CQL2 can have null keyAliases 
 + if ( keyAlias ! = null ) 
 + newCFMD . keyAliases ( Collections . < ByteBuffer > singletonList ( keyAlias ) ) ; 
 } 
 catch ( ConfigurationException e ) 
 {
