BLEU SCORE: 0.018160849415439315

TEST MSG: Add check if existing fat client entry in gossip has same broadcast address in checkForEndpointCollision to enable quicker bootstrap retries .
GENERATED MSG: handle ApplicationState . SCHEMA not present

TEST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / service / StorageService . java b / src / java / org / apache / cassandra / service / StorageService . java <nl> index 0698d11 . . 6e38b92 100644 <nl> - - - a / src / java / org / apache / cassandra / service / StorageService . java <nl> + + + b / src / java / org / apache / cassandra / service / StorageService . java <nl> @ @ - 550 , 7 + 550 , 7 @ @ public class StorageService extends NotificationBroadcasterSupport implements IE <nl> for ( Map . Entry < InetAddress , EndpointState > entry : Gossiper . instance . getEndpointStates ( ) ) <nl> { <nl> <nl> - if ( entry . getValue ( ) . getApplicationState ( ApplicationState . STATUS ) = = null ) <nl> + if ( entry . getKey ( ) . equals ( FBUtilities . getBroadcastAddress ( ) ) | | entry . getValue ( ) . getApplicationState ( ApplicationState . STATUS ) = = null ) <nl> continue ; <nl> String [ ] pieces = entry . getValue ( ) . getApplicationState ( ApplicationState . STATUS ) . value . split ( VersionedValue . DELIMITER _ STR , - 1 ) ; <nl> assert ( pieces . length > 0 ) ;
NEAREST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / service / StorageService . java b / src / java / org / apache / cassandra / service / StorageService . java <nl> index 1e73567 . . 8cd5b0b 100644 <nl> - - - a / src / java / org / apache / cassandra / service / StorageService . java <nl> + + + b / src / java / org / apache / cassandra / service / StorageService . java <nl> @ @ - 524 , 7 + 524 , 8 @ @ public class StorageService implements IEndpointStateChangeSubscriber , StorageSe <nl> continue ; <nl> } <nl> <nl> - if ( ! entry . getValue ( ) . getApplicationState ( ApplicationState . SCHEMA ) . value . equals ( Schema . emptyVersion . toString ( ) ) ) <nl> + VersionedValue schemaValue = entry . getValue ( ) . getApplicationState ( ApplicationState . SCHEMA ) ; <nl> + if ( schemaValue ! = null & & ! schemaValue . value . equals ( Schema . emptyVersion . toString ( ) ) ) <nl> { <nl> schemaPresent = true ; <nl> break ;

TEST DIFF:
diff - - git a / src / java / org / apache / cassandra / service / StorageService . java b / src / java / org / apache / cassandra / service / StorageService . java 
 index 0698d11 . . 6e38b92 100644 
 - - - a / src / java / org / apache / cassandra / service / StorageService . java 
 + + + b / src / java / org / apache / cassandra / service / StorageService . java 
 @ @ - 550 , 7 + 550 , 7 @ @ public class StorageService extends NotificationBroadcasterSupport implements IE 
 for ( Map . Entry < InetAddress , EndpointState > entry : Gossiper . instance . getEndpointStates ( ) ) 
 { 
 
 - if ( entry . getValue ( ) . getApplicationState ( ApplicationState . STATUS ) = = null ) 
 + if ( entry . getKey ( ) . equals ( FBUtilities . getBroadcastAddress ( ) ) | | entry . getValue ( ) . getApplicationState ( ApplicationState . STATUS ) = = null ) 
 continue ; 
 String [ ] pieces = entry . getValue ( ) . getApplicationState ( ApplicationState . STATUS ) . value . split ( VersionedValue . DELIMITER _ STR , - 1 ) ; 
 assert ( pieces . length > 0 ) ;

NEAREST DIFF:
diff - - git a / src / java / org / apache / cassandra / service / StorageService . java b / src / java / org / apache / cassandra / service / StorageService . java 
 index 1e73567 . . 8cd5b0b 100644 
 - - - a / src / java / org / apache / cassandra / service / StorageService . java 
 + + + b / src / java / org / apache / cassandra / service / StorageService . java 
 @ @ - 524 , 7 + 524 , 8 @ @ public class StorageService implements IEndpointStateChangeSubscriber , StorageSe 
 continue ; 
 } 
 
 - if ( ! entry . getValue ( ) . getApplicationState ( ApplicationState . SCHEMA ) . value . equals ( Schema . emptyVersion . toString ( ) ) ) 
 + VersionedValue schemaValue = entry . getValue ( ) . getApplicationState ( ApplicationState . SCHEMA ) ; 
 + if ( schemaValue ! = null & & ! schemaValue . value . equals ( Schema . emptyVersion . toString ( ) ) ) 
 { 
 schemaPresent = true ; 
 break ;
