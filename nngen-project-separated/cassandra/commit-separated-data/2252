BLEU SCORE: 0.07809849842300641

TEST MSG: Fix UDT field selection with empty field
GENERATED MSG: Fix binding null values inside UDT

TEST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index 3588553 . . d3e2f5a 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 17 , 6 + 17 , 7 @ @ Merged from 2 . 0 : <nl> 2 . 1 . 0 - final <nl> * cqlsh DESC CLUSTER fails retrieving ring information ( CASSANDRA - 7687 ) <nl> * Fix binding null values inside UDT ( CASSANDRA - 7685 ) <nl> + * Fix UDT field selection with empty fields ( CASSANDRA - 7670 ) <nl> Merged from 2 . 0 : <nl> * Update java driver ( for hadoop ) ( CASSANDRA - 7618 ) <nl> * Support connecting to ipv6 jmx with nodetool ( CASSANDRA - 7669 ) <nl> diff - - git a / src / java / org / apache / cassandra / cql3 / statements / Selection . java b / src / java / org / apache / cassandra / cql3 / statements / Selection . java <nl> index dc31dde . . 0f0cb62 100644 <nl> - - - a / src / java / org / apache / cassandra / cql3 / statements / Selection . java <nl> + + + b / src / java / org / apache / cassandra / cql3 / statements / Selection . java <nl> @ @ - 466 , 7 + 466 , 10 @ @ public abstract class Selection <nl> <nl> public ByteBuffer compute ( ResultSetBuilder rs ) throws InvalidRequestException <nl> { <nl> - ByteBuffer [ ] buffers = type . split ( selected . compute ( rs ) ) ; <nl> + ByteBuffer value = selected . compute ( rs ) ; <nl> + if ( value = = null ) <nl> + return null ; <nl> + ByteBuffer [ ] buffers = type . split ( value ) ; <nl> return field < buffers . length ? buffers [ field ] : null ; <nl> } <nl>
NEAREST DIFF (one line): ELIMINATEDSENTENCE

TEST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index 3588553 . . d3e2f5a 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 17 , 6 + 17 , 7 @ @ Merged from 2 . 0 : 
 2 . 1 . 0 - final 
 * cqlsh DESC CLUSTER fails retrieving ring information ( CASSANDRA - 7687 ) 
 * Fix binding null values inside UDT ( CASSANDRA - 7685 ) 
 + * Fix UDT field selection with empty fields ( CASSANDRA - 7670 ) 
 Merged from 2 . 0 : 
 * Update java driver ( for hadoop ) ( CASSANDRA - 7618 ) 
 * Support connecting to ipv6 jmx with nodetool ( CASSANDRA - 7669 ) 
 diff - - git a / src / java / org / apache / cassandra / cql3 / statements / Selection . java b / src / java / org / apache / cassandra / cql3 / statements / Selection . java 
 index dc31dde . . 0f0cb62 100644 
 - - - a / src / java / org / apache / cassandra / cql3 / statements / Selection . java 
 + + + b / src / java / org / apache / cassandra / cql3 / statements / Selection . java 
 @ @ - 466 , 7 + 466 , 10 @ @ public abstract class Selection 
 
 public ByteBuffer compute ( ResultSetBuilder rs ) throws InvalidRequestException 
 { 
 - ByteBuffer [ ] buffers = type . split ( selected . compute ( rs ) ) ; 
 + ByteBuffer value = selected . compute ( rs ) ; 
 + if ( value = = null ) 
 + return null ; 
 + ByteBuffer [ ] buffers = type . split ( value ) ; 
 return field < buffers . length ? buffers [ field ] : null ; 
 } 


NEAREST DIFF:
ELIMINATEDSENTENCE
