BLEU SCORE: 0.044568827606990644

TEST MSG: Cleanup MessagingService socket after catching Throwable ( ninja # 11841 )
GENERATED MSG: Explicitly handle SSL handshake errors during connect ( )

TEST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / net / IncomingStreamingConnection . java b / src / java / org / apache / cassandra / net / IncomingStreamingConnection . java <nl> index ab262c7 . . f7dc240 100644 <nl> - - - a / src / java / org / apache / cassandra / net / IncomingStreamingConnection . java <nl> + + + b / src / java / org / apache / cassandra / net / IncomingStreamingConnection . java <nl> @ @ - 74 , 10 + 74 , 9 @ @ public class IncomingStreamingConnection extends Thread implements Closeable <nl> / / parallelize said streams and the socket is blocking , so we might deadlock . <nl> StreamResultFuture . initReceivingSide ( init . sessionIndex , init . planId , init . description , init . from , this , init . isForOutgoing , version , init . keepSSTableLevel , init . isIncremental ) ; <nl> } <nl> - catch ( IOException e ) <nl> + catch ( Throwable t ) <nl> { <nl> - logger . error ( String . format ( " IOException while reading from socket from % s , closing : % s " , <nl> - socket . getRemoteSocketAddress ( ) , e ) ) ; <nl> + logger . error ( " Error while reading from socket from { } . " , socket . getRemoteSocketAddress ( ) , t ) ; <nl> close ( ) ; <nl> } <nl> } <nl> diff - - git a / src / java / org / apache / cassandra / net / MessagingService . java b / src / java / org / apache / cassandra / net / MessagingService . java <nl> index 8c8a333 . . fb0c9ca 100644 <nl> - - - a / src / java / org / apache / cassandra / net / MessagingService . java <nl> + + + b / src / java / org / apache / cassandra / net / MessagingService . java <nl> @ @ - 1034 , 9 + 1034 , 9 @ @ public final class MessagingService implements MessagingServiceMBean <nl> logger . error ( " SSL handshake error for inbound connection from " + socket , e ) ; <nl> FileUtils . closeQuietly ( socket ) ; <nl> } <nl> - catch ( IOException e ) <nl> + catch ( Throwable t ) <nl> { <nl> - logger . trace ( " Error reading the socket " + socket , e ) ; <nl> + logger . trace ( " Error reading the socket { } " , socket , t ) ; <nl> FileUtils . closeQuietly ( socket ) ; <nl> } <nl> }
NEAREST DIFF (one line): ELIMINATEDSENTENCE

TEST DIFF:
diff - - git a / src / java / org / apache / cassandra / net / IncomingStreamingConnection . java b / src / java / org / apache / cassandra / net / IncomingStreamingConnection . java 
 index ab262c7 . . f7dc240 100644 
 - - - a / src / java / org / apache / cassandra / net / IncomingStreamingConnection . java 
 + + + b / src / java / org / apache / cassandra / net / IncomingStreamingConnection . java 
 @ @ - 74 , 10 + 74 , 9 @ @ public class IncomingStreamingConnection extends Thread implements Closeable 
 / / parallelize said streams and the socket is blocking , so we might deadlock . 
 StreamResultFuture . initReceivingSide ( init . sessionIndex , init . planId , init . description , init . from , this , init . isForOutgoing , version , init . keepSSTableLevel , init . isIncremental ) ; 
 } 
 - catch ( IOException e ) 
 + catch ( Throwable t ) 
 { 
 - logger . error ( String . format ( " IOException while reading from socket from % s , closing : % s " , 
 - socket . getRemoteSocketAddress ( ) , e ) ) ; 
 + logger . error ( " Error while reading from socket from { } . " , socket . getRemoteSocketAddress ( ) , t ) ; 
 close ( ) ; 
 } 
 } 
 diff - - git a / src / java / org / apache / cassandra / net / MessagingService . java b / src / java / org / apache / cassandra / net / MessagingService . java 
 index 8c8a333 . . fb0c9ca 100644 
 - - - a / src / java / org / apache / cassandra / net / MessagingService . java 
 + + + b / src / java / org / apache / cassandra / net / MessagingService . java 
 @ @ - 1034 , 9 + 1034 , 9 @ @ public final class MessagingService implements MessagingServiceMBean 
 logger . error ( " SSL handshake error for inbound connection from " + socket , e ) ; 
 FileUtils . closeQuietly ( socket ) ; 
 } 
 - catch ( IOException e ) 
 + catch ( Throwable t ) 
 { 
 - logger . trace ( " Error reading the socket " + socket , e ) ; 
 + logger . trace ( " Error reading the socket { } " , socket , t ) ; 
 FileUtils . closeQuietly ( socket ) ; 
 } 
 }

NEAREST DIFF:
ELIMINATEDSENTENCE
