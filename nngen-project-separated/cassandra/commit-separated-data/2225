BLEU SCORE: 0.029079340872079116

TEST MSG: Turn MarshalException into ConfigurationException for Thrift
GENERATED MSG: Preserves CQL metadata when updating table from thrift

TEST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / config / CFMetaData . java b / src / java / org / apache / cassandra / config / CFMetaData . java <nl> index 650d6c4 . . 9db1c75 100644 <nl> - - - a / src / java / org / apache / cassandra / config / CFMetaData . java <nl> + + + b / src / java / org / apache / cassandra / config / CFMetaData . java <nl> @ @ - 900 , 7 + 900 , 14 @ @ public final class CFMetaData <nl> if ( cf _ def . isSetKey _ alias ( ) & & ! ( cfm . keyValidator instanceof CompositeType ) ) <nl> cfm . column _ metadata . put ( cf _ def . key _ alias , ColumnDefinition . partitionKeyDef ( cf _ def . key _ alias , cfm . keyValidator , null ) ) ; <nl> <nl> - return cfm . rebuild ( ) ; <nl> + try <nl> + { <nl> + return cfm . rebuild ( ) ; <nl> + } <nl> + catch ( MarshalException e ) <nl> + { <nl> + throw new ConfigurationException ( e . getMessage ( ) ) ; <nl> + } <nl> } <nl> <nl> public static CFMetaData fromThriftForUpdate ( org . apache . cassandra . thrift . CfDef cf _ def , CFMetaData toUpdate ) throws InvalidRequestException , ConfigurationException <nl> @ @ - 927 , 7 + 934 , 14 @ @ public final class CFMetaData <nl> cfm . addOrReplaceColumnDefinition ( def ) ; <nl> } <nl> <nl> - return cfm . rebuild ( ) ; <nl> + try <nl> + { <nl> + return cfm . rebuild ( ) ; <nl> + } <nl> + catch ( MarshalException e ) <nl> + { <nl> + throw new ConfigurationException ( e . getMessage ( ) ) ; <nl> + } <nl> } <nl> <nl> / / Do most of the work , but don ' t handle CQL metadata ( i . e . skip key _ alias and don ' t rebuild ( ) )
NEAREST DIFF (one line): ELIMINATEDSENTENCE

TEST DIFF:
diff - - git a / src / java / org / apache / cassandra / config / CFMetaData . java b / src / java / org / apache / cassandra / config / CFMetaData . java 
 index 650d6c4 . . 9db1c75 100644 
 - - - a / src / java / org / apache / cassandra / config / CFMetaData . java 
 + + + b / src / java / org / apache / cassandra / config / CFMetaData . java 
 @ @ - 900 , 7 + 900 , 14 @ @ public final class CFMetaData 
 if ( cf _ def . isSetKey _ alias ( ) & & ! ( cfm . keyValidator instanceof CompositeType ) ) 
 cfm . column _ metadata . put ( cf _ def . key _ alias , ColumnDefinition . partitionKeyDef ( cf _ def . key _ alias , cfm . keyValidator , null ) ) ; 
 
 - return cfm . rebuild ( ) ; 
 + try 
 + { 
 + return cfm . rebuild ( ) ; 
 + } 
 + catch ( MarshalException e ) 
 + { 
 + throw new ConfigurationException ( e . getMessage ( ) ) ; 
 + } 
 } 
 
 public static CFMetaData fromThriftForUpdate ( org . apache . cassandra . thrift . CfDef cf _ def , CFMetaData toUpdate ) throws InvalidRequestException , ConfigurationException 
 @ @ - 927 , 7 + 934 , 14 @ @ public final class CFMetaData 
 cfm . addOrReplaceColumnDefinition ( def ) ; 
 } 
 
 - return cfm . rebuild ( ) ; 
 + try 
 + { 
 + return cfm . rebuild ( ) ; 
 + } 
 + catch ( MarshalException e ) 
 + { 
 + throw new ConfigurationException ( e . getMessage ( ) ) ; 
 + } 
 } 
 
 / / Do most of the work , but don ' t handle CQL metadata ( i . e . skip key _ alias and don ' t rebuild ( ) )

NEAREST DIFF:
ELIMINATEDSENTENCE
