BLEU SCORE: 0.02383853510228548

TEST MSG: avoid some date math if using raw time formats
GENERATED MSG: expose bloom filter sizes via JMX

TEST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / tools / JsonTransformer . java b / src / java / org / apache / cassandra / tools / JsonTransformer . java <nl> index 3b98595 . . 801197d 100644 <nl> - - - a / src / java / org / apache / cassandra / tools / JsonTransformer . java <nl> + + + b / src / java / org / apache / cassandra / tools / JsonTransformer . java <nl> @ @ - 461 , 9 + 461 , 14 @ @ public final class JsonTransformer <nl> <nl> private String dateString ( TimeUnit from , long time ) <nl> { <nl> + if ( rawTime ) <nl> + { <nl> + return Long . toString ( time ) ; <nl> + } <nl> + <nl> long secs = from . toSeconds ( time ) ; <nl> long offset = Math . floorMod ( from . toNanos ( time ) , 1000 _ 000 _ 000L ) ; / / nanos per sec <nl> - return rawTime ? Long . toString ( time ) : Instant . ofEpochSecond ( secs , offset ) . toString ( ) ; <nl> + return Instant . ofEpochSecond ( secs , offset ) . toString ( ) ; <nl> } <nl> <nl> / * *
NEAREST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index 425a02a . . 649eb82 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 11 , 7 + 11 , 6 @ @ <nl> Merged from 0 . 8 : <nl> * fix concurrence issue in the FailureDetector ( CASSANDRA - 3519 ) <nl> * fix array out of bounds error in counter shard removal ( CASSANDRA - 3514 ) <nl> - Merged from 0 . 8 : <nl> * avoid dropping tombstones when they might still be needed to shadow <nl> data in a different sstable ( CASSANDRA - 2786 ) <nl>

TEST DIFF:
diff - - git a / src / java / org / apache / cassandra / tools / JsonTransformer . java b / src / java / org / apache / cassandra / tools / JsonTransformer . java 
 index 3b98595 . . 801197d 100644 
 - - - a / src / java / org / apache / cassandra / tools / JsonTransformer . java 
 + + + b / src / java / org / apache / cassandra / tools / JsonTransformer . java 
 @ @ - 461 , 9 + 461 , 14 @ @ public final class JsonTransformer 
 
 private String dateString ( TimeUnit from , long time ) 
 { 
 + if ( rawTime ) 
 + { 
 + return Long . toString ( time ) ; 
 + } 
 + 
 long secs = from . toSeconds ( time ) ; 
 long offset = Math . floorMod ( from . toNanos ( time ) , 1000 _ 000 _ 000L ) ; / / nanos per sec 
 - return rawTime ? Long . toString ( time ) : Instant . ofEpochSecond ( secs , offset ) . toString ( ) ; 
 + return Instant . ofEpochSecond ( secs , offset ) . toString ( ) ; 
 } 
 
 / * *

NEAREST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index 425a02a . . 649eb82 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 11 , 7 + 11 , 6 @ @ 
 Merged from 0 . 8 : 
 * fix concurrence issue in the FailureDetector ( CASSANDRA - 3519 ) 
 * fix array out of bounds error in counter shard removal ( CASSANDRA - 3514 ) 
 - Merged from 0 . 8 : 
 * avoid dropping tombstones when they might still be needed to shadow 
 data in a different sstable ( CASSANDRA - 2786 ) 

