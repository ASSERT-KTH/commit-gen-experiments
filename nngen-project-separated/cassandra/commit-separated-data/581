BLEU SCORE: 0.03283637368030199

TEST MSG: Ninja : add missing assignment in CassandraRoleManager
GENERATED MSG: Skip auth setup if AllowAllAuthenticator is used

TEST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / auth / CassandraRoleManager . java b / src / java / org / apache / cassandra / auth / CassandraRoleManager . java <nl> index a90b297 . . 87aca21 100644 <nl> - - - a / src / java / org / apache / cassandra / auth / CassandraRoleManager . java <nl> + + + b / src / java / org / apache / cassandra / auth / CassandraRoleManager . java <nl> @ @ - 511 , 7 + 511 , 7 @ @ public class CassandraRoleManager implements IRoleManager <nl> else <nl> { <nl> if ( legacySelectUserStatement = = null ) <nl> - prepareLegacySelectUserStatement ( ) ; <nl> + legacySelectUserStatement = prepareLegacySelectUserStatement ( ) ; <nl> return getRoleFromTable ( name , legacySelectUserStatement , LEGACY _ ROW _ TO _ ROLE ) ; <nl> } <nl> }
NEAREST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / config / DatabaseDescriptor . java b / src / java / org / apache / cassandra / config / DatabaseDescriptor . java <nl> index 7df2b2f . . c1ced94 100644 <nl> - - - a / src / java / org / apache / cassandra / config / DatabaseDescriptor . java <nl> + + + b / src / java / org / apache / cassandra / config / DatabaseDescriptor . java <nl> @ @ - 219 , 6 + 219 , 9 @ @ public class DatabaseDescriptor <nl> if ( conf . authorizer ! = null ) <nl> authorizer = FBUtilities . newAuthorizer ( conf . authorizer ) ; <nl> <nl> + if ( authenticator instanceof AllowAllAuthenticator & & ! ( authorizer instanceof AllowAllAuthorizer ) ) <nl> + throw new ConfigurationException ( " AllowAllAuthenticator can ' t be used with " + conf . authorizer ) ; <nl> + <nl> if ( conf . internode _ authenticator ! = null ) <nl> internodeAuthenticator = FBUtilities . construct ( conf . internode _ authenticator , " internode _ authenticator " ) ; <nl> else

TEST DIFF:
diff - - git a / src / java / org / apache / cassandra / auth / CassandraRoleManager . java b / src / java / org / apache / cassandra / auth / CassandraRoleManager . java 
 index a90b297 . . 87aca21 100644 
 - - - a / src / java / org / apache / cassandra / auth / CassandraRoleManager . java 
 + + + b / src / java / org / apache / cassandra / auth / CassandraRoleManager . java 
 @ @ - 511 , 7 + 511 , 7 @ @ public class CassandraRoleManager implements IRoleManager 
 else 
 { 
 if ( legacySelectUserStatement = = null ) 
 - prepareLegacySelectUserStatement ( ) ; 
 + legacySelectUserStatement = prepareLegacySelectUserStatement ( ) ; 
 return getRoleFromTable ( name , legacySelectUserStatement , LEGACY _ ROW _ TO _ ROLE ) ; 
 } 
 }

NEAREST DIFF:
diff - - git a / src / java / org / apache / cassandra / config / DatabaseDescriptor . java b / src / java / org / apache / cassandra / config / DatabaseDescriptor . java 
 index 7df2b2f . . c1ced94 100644 
 - - - a / src / java / org / apache / cassandra / config / DatabaseDescriptor . java 
 + + + b / src / java / org / apache / cassandra / config / DatabaseDescriptor . java 
 @ @ - 219 , 6 + 219 , 9 @ @ public class DatabaseDescriptor 
 if ( conf . authorizer ! = null ) 
 authorizer = FBUtilities . newAuthorizer ( conf . authorizer ) ; 
 
 + if ( authenticator instanceof AllowAllAuthenticator & & ! ( authorizer instanceof AllowAllAuthorizer ) ) 
 + throw new ConfigurationException ( " AllowAllAuthenticator can ' t be used with " + conf . authorizer ) ; 
 + 
 if ( conf . internode _ authenticator ! = null ) 
 internodeAuthenticator = FBUtilities . construct ( conf . internode _ authenticator , " internode _ authenticator " ) ; 
 else
