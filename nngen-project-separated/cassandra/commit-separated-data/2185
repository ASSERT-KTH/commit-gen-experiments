BLEU SCORE: 0.05341087579952926

TEST MSG: make CqlRecordReader / Writer autocloseable
GENERATED MSG: cleanup

TEST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / hadoop / cql3 / CqlRecordReader . java b / src / java / org / apache / cassandra / hadoop / cql3 / CqlRecordReader . java <nl> index 3908662 . . a31f013 100644 <nl> - - - a / src / java / org / apache / cassandra / hadoop / cql3 / CqlRecordReader . java <nl> + + + b / src / java / org / apache / cassandra / hadoop / cql3 / CqlRecordReader . java <nl> @ @ - 34 , 7 + 34 , 6 @ @ import com . google . common . collect . Maps ; <nl> <nl> import org . apache . commons . collections . CollectionUtils ; <nl> import org . apache . commons . lang3 . StringUtils ; <nl> - <nl> import org . apache . cassandra . hadoop . HadoopCompat ; <nl> import org . slf4j . Logger ; <nl> import org . slf4j . LoggerFactory ; <nl> @ @ - 67 , 7 + 66 , 7 @ @ import com . datastax . driver . core . Session ; <nl> * token ( partition _ key1 , . . . , partition _ keyn ) < = ? ( in the right order ) <nl> * / <nl> public class CqlRecordReader extends RecordReader < Long , Row > <nl> - implements org . apache . hadoop . mapred . RecordReader < Long , Row > <nl> + implements org . apache . hadoop . mapred . RecordReader < Long , Row > , AutoCloseable <nl> { <nl> private static final Logger logger = LoggerFactory . getLogger ( CqlRecordReader . class ) ; <nl> <nl> diff - - git a / src / java / org / apache / cassandra / hadoop / cql3 / CqlRecordWriter . java b / src / java / org / apache / cassandra / hadoop / cql3 / CqlRecordWriter . java <nl> index 5075be4 . . 5bac2fc 100644 <nl> - - - a / src / java / org / apache / cassandra / hadoop / cql3 / CqlRecordWriter . java <nl> + + + b / src / java / org / apache / cassandra / hadoop / cql3 / CqlRecordWriter . java <nl> @ @ - 60 , 7 + 60 , 7 @ @ import org . apache . thrift . transport . TTransport ; <nl> * <nl> * @ see CqlOutputFormat <nl> * / <nl> - class CqlRecordWriter extends AbstractColumnFamilyRecordWriter < Map < String , ByteBuffer > , List < ByteBuffer > > <nl> + class CqlRecordWriter extends AbstractColumnFamilyRecordWriter < Map < String , ByteBuffer > , List < ByteBuffer > > implements AutoCloseable <nl> { <nl> private static final Logger logger = LoggerFactory . getLogger ( CqlRecordWriter . class ) ; <nl>
NEAREST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / service / CassandraServer . java b / src / java / org / apache / cassandra / service / CassandraServer . java <nl> index 1708b75 . . 1d14676 100644 <nl> - - - a / src / java / org / apache / cassandra / service / CassandraServer . java <nl> + + + b / src / java / org / apache / cassandra / service / CassandraServer . java <nl> @ @ - 618 , 7 + 618 , 7 @ @ public class CassandraServer implements Cassandra . Iface <nl> } <nl> <nl> public List < KeySlice > get _ range _ slice ( String keyspace , ColumnParent column _ parent , SlicePredicate predicate , String start _ key , String finish _ key , int maxRows , ConsistencyLevel consistency _ level ) <nl> - throws InvalidRequestException , UnavailableException , TException , TimedOutException <nl> + throws InvalidRequestException , UnavailableException , TException , TimedOutException <nl> { <nl> if ( logger . isDebugEnabled ( ) ) <nl> logger . debug ( " range _ slice " ) ; <nl> @ @ - 664 , 7 + 664 , 6 @ @ public class CassandraServer implements Cassandra . Iface <nl> return keySlices ; <nl> } <nl> <nl> - @ Override <nl> public void login ( String keyspace , AuthenticationRequest auth _ request ) throws AuthenticationException , AuthorizationException , TException <nl> { <nl> DatabaseDescriptor . getAuthenticator ( ) . login ( keyspace , auth _ request ) ;

TEST DIFF:
diff - - git a / src / java / org / apache / cassandra / hadoop / cql3 / CqlRecordReader . java b / src / java / org / apache / cassandra / hadoop / cql3 / CqlRecordReader . java 
 index 3908662 . . a31f013 100644 
 - - - a / src / java / org / apache / cassandra / hadoop / cql3 / CqlRecordReader . java 
 + + + b / src / java / org / apache / cassandra / hadoop / cql3 / CqlRecordReader . java 
 @ @ - 34 , 7 + 34 , 6 @ @ import com . google . common . collect . Maps ; 
 
 import org . apache . commons . collections . CollectionUtils ; 
 import org . apache . commons . lang3 . StringUtils ; 
 - 
 import org . apache . cassandra . hadoop . HadoopCompat ; 
 import org . slf4j . Logger ; 
 import org . slf4j . LoggerFactory ; 
 @ @ - 67 , 7 + 66 , 7 @ @ import com . datastax . driver . core . Session ; 
 * token ( partition _ key1 , . . . , partition _ keyn ) < = ? ( in the right order ) 
 * / 
 public class CqlRecordReader extends RecordReader < Long , Row > 
 - implements org . apache . hadoop . mapred . RecordReader < Long , Row > 
 + implements org . apache . hadoop . mapred . RecordReader < Long , Row > , AutoCloseable 
 { 
 private static final Logger logger = LoggerFactory . getLogger ( CqlRecordReader . class ) ; 
 
 diff - - git a / src / java / org / apache / cassandra / hadoop / cql3 / CqlRecordWriter . java b / src / java / org / apache / cassandra / hadoop / cql3 / CqlRecordWriter . java 
 index 5075be4 . . 5bac2fc 100644 
 - - - a / src / java / org / apache / cassandra / hadoop / cql3 / CqlRecordWriter . java 
 + + + b / src / java / org / apache / cassandra / hadoop / cql3 / CqlRecordWriter . java 
 @ @ - 60 , 7 + 60 , 7 @ @ import org . apache . thrift . transport . TTransport ; 
 * 
 * @ see CqlOutputFormat 
 * / 
 - class CqlRecordWriter extends AbstractColumnFamilyRecordWriter < Map < String , ByteBuffer > , List < ByteBuffer > > 
 + class CqlRecordWriter extends AbstractColumnFamilyRecordWriter < Map < String , ByteBuffer > , List < ByteBuffer > > implements AutoCloseable 
 { 
 private static final Logger logger = LoggerFactory . getLogger ( CqlRecordWriter . class ) ; 


NEAREST DIFF:
diff - - git a / src / java / org / apache / cassandra / service / CassandraServer . java b / src / java / org / apache / cassandra / service / CassandraServer . java 
 index 1708b75 . . 1d14676 100644 
 - - - a / src / java / org / apache / cassandra / service / CassandraServer . java 
 + + + b / src / java / org / apache / cassandra / service / CassandraServer . java 
 @ @ - 618 , 7 + 618 , 7 @ @ public class CassandraServer implements Cassandra . Iface 
 } 
 
 public List < KeySlice > get _ range _ slice ( String keyspace , ColumnParent column _ parent , SlicePredicate predicate , String start _ key , String finish _ key , int maxRows , ConsistencyLevel consistency _ level ) 
 - throws InvalidRequestException , UnavailableException , TException , TimedOutException 
 + throws InvalidRequestException , UnavailableException , TException , TimedOutException 
 { 
 if ( logger . isDebugEnabled ( ) ) 
 logger . debug ( " range _ slice " ) ; 
 @ @ - 664 , 7 + 664 , 6 @ @ public class CassandraServer implements Cassandra . Iface 
 return keySlices ; 
 } 
 
 - @ Override 
 public void login ( String keyspace , AuthenticationRequest auth _ request ) throws AuthenticationException , AuthorizationException , TException 
 { 
 DatabaseDescriptor . getAuthenticator ( ) . login ( keyspace , auth _ request ) ;
