BLEU SCORE: 0.0334950357084578

TEST MSG: Fix cassandra - stress hang with default options
GENERATED MSG: Don ' t let stress write warmup data if n = 0

TEST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index 4520989 . . f9b59df 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 1 , 4 + 1 , 5 @ @ <nl> 3 . 0 . 18 <nl> + * Fix cassandra - stress write hang with default options ( CASSANDRA - 14616 ) <nl> * Differentiate between slices and RTs when decoding legacy bounds ( CASSANDRA - 14919 ) <nl> * CommitLogReplayer . handleReplayError should print stack traces ( CASSANDRA - 14589 ) <nl> * Netty epoll IOExceptions caused by unclean client disconnects being logged at INFO ( CASSANDRA - 14909 ) <nl> diff - - git a / tools / stress / src / org / apache / cassandra / stress / StressAction . java b / tools / stress / src / org / apache / cassandra / stress / StressAction . java <nl> index 8b15e92 . . 657117c 100644 <nl> - - - a / tools / stress / src / org / apache / cassandra / stress / StressAction . java <nl> + + + b / tools / stress / src / org / apache / cassandra / stress / StressAction . java <nl> @ @ - 94 , 7 + 94 , 11 @ @ public class StressAction implements Runnable <nl> { <nl> PrintStream warmupOutput = new PrintStream ( new OutputStream ( ) { @ Override public void write ( int b ) throws IOException { } } ) ; <nl> / / do 25 % of iterations as warmup but no more than 50k ( by default hotspot compiles methods after 10k invocations ) <nl> - int iterations = Math . min ( 50000 , ( int ) ( settings . command . count * 0 . 25 ) ) * settings . node . nodes . size ( ) ; <nl> + int iterations = ( settings . command . count > = 0 <nl> + ? Math . min ( 50000 , ( int ) ( settings . command . count * 0 . 25 ) ) <nl> + : 50000 ) * settings . node . nodes . size ( ) ; <nl> + if ( iterations < = 0 ) return ; <nl> + <nl> int threads = 100 ; <nl> <nl> if ( settings . rate . maxThreads > 0 )
NEAREST DIFF (one line): ELIMINATEDSENTENCE

TEST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index 4520989 . . f9b59df 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 1 , 4 + 1 , 5 @ @ 
 3 . 0 . 18 
 + * Fix cassandra - stress write hang with default options ( CASSANDRA - 14616 ) 
 * Differentiate between slices and RTs when decoding legacy bounds ( CASSANDRA - 14919 ) 
 * CommitLogReplayer . handleReplayError should print stack traces ( CASSANDRA - 14589 ) 
 * Netty epoll IOExceptions caused by unclean client disconnects being logged at INFO ( CASSANDRA - 14909 ) 
 diff - - git a / tools / stress / src / org / apache / cassandra / stress / StressAction . java b / tools / stress / src / org / apache / cassandra / stress / StressAction . java 
 index 8b15e92 . . 657117c 100644 
 - - - a / tools / stress / src / org / apache / cassandra / stress / StressAction . java 
 + + + b / tools / stress / src / org / apache / cassandra / stress / StressAction . java 
 @ @ - 94 , 7 + 94 , 11 @ @ public class StressAction implements Runnable 
 { 
 PrintStream warmupOutput = new PrintStream ( new OutputStream ( ) { @ Override public void write ( int b ) throws IOException { } } ) ; 
 / / do 25 % of iterations as warmup but no more than 50k ( by default hotspot compiles methods after 10k invocations ) 
 - int iterations = Math . min ( 50000 , ( int ) ( settings . command . count * 0 . 25 ) ) * settings . node . nodes . size ( ) ; 
 + int iterations = ( settings . command . count > = 0 
 + ? Math . min ( 50000 , ( int ) ( settings . command . count * 0 . 25 ) ) 
 + : 50000 ) * settings . node . nodes . size ( ) ; 
 + if ( iterations < = 0 ) return ; 
 + 
 int threads = 100 ; 
 
 if ( settings . rate . maxThreads > 0 )

NEAREST DIFF:
ELIMINATEDSENTENCE
