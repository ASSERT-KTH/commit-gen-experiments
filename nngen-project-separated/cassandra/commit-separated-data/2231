BLEU SCORE: 0.06699007141691557

TEST MSG: Version and licenses for 2 . 0 . 10 release
GENERATED MSG: Updates news file , version and missing licenses for 1 . 1 . 12 release

TEST DIFF (one line): diff - - git a / . rat - excludes b / . rat - excludes <nl> index 0da5ab9 . . 503b3a6 100644 <nl> - - - a / . rat - excludes <nl> + + + b / . rat - excludes <nl> @ @ - 30 , 3 + 30 , 4 @ @ examples / triggers / conf / * <nl> examples / hadoop _ word _ count / conf / log4j . properties <nl> pylib / cqlshlib / test / * * <nl> src / resources / org / apache / cassandra / config / version . properties <nl> + * * / hotspot _ compiler <nl> diff - - git a / NEWS . txt b / NEWS . txt <nl> index 0491384 . . 7fa8be9 100644 <nl> - - - a / NEWS . txt <nl> + + + b / NEWS . txt <nl> @ @ - 14 , 13 + 14 , 12 @ @ restore snapshots created with the previous major version using the <nl> using the provided ' sstableupgrade ' tool . <nl> <nl> 2 . 0 . 10 <nl> - = = = = <nl> + = = = = = = <nl> New features <nl> - - - - - - - - - - - - <nl> - CqlPaginRecordReader and CqlPagingInputFormat have both been removed . <nl> Use CqlInputFormat instead . <nl> - - If you are using Leveled Compaction , you can now disable doing <nl> - size - tiered <nl> + - If you are using Leveled Compaction , you can now disable doing size - tiered <nl> compaction in L0 by starting Cassandra with - Dcassandra . disable _ stcs _ in _ l0 <nl> ( see CASSANDRA - 6621 for details ) . <nl> - Shuffle and taketoken have been removed . For clusters that choose to <nl> diff - - git a / build . xml b / build . xml <nl> index 4b64570 . . 611345d 100644 <nl> - - - a / build . xml <nl> + + + b / build . xml <nl> @ @ - 25 , 7 + 25 , 7 @ @ <nl> < property name = " debuglevel " value = " source , lines , vars " / > <nl> <nl> < ! - - default version and SCM information - - > <nl> - < property name = " base . version " value = " 2 . 0 . 9 " / > <nl> + < property name = " base . version " value = " 2 . 0 . 10 " / > <nl> < property name = " scm . connection " value = " scm : git : / / git . apache . org / cassandra . git " / > <nl> < property name = " scm . developerConnection " value = " scm : git : / / git . apache . org / cassandra . git " / > <nl> < property name = " scm . url " value = " http : / / git - wip - us . apache . org / repos / asf ? p = cassandra . git ; a = tree " / > <nl> diff - - git a / debian / changelog b / debian / changelog <nl> index 73fea4c . . e0b1eae 100644 <nl> - - - a / debian / changelog <nl> + + + b / debian / changelog <nl> @ @ - 1 , 3 + 1 , 9 @ @ <nl> + cassandra ( 2 . 0 . 10 ) unstable ; urgency = medium <nl> + <nl> + * New release <nl> + <nl> + - - Sylvain Lebresne < slebresne @ apache . org > Fri , 08 Aug 2014 10 : 50 : 44 + 0200 <nl> + <nl> cassandra ( 2 . 0 . 9 ) unstable ; urgency = medium <nl> <nl> * New release <nl> diff - - git a / src / java / org / apache / cassandra / hadoop / pig / CqlNativeStorage . java b / src / java / org / apache / cassandra / hadoop / pig / CqlNativeStorage . java <nl> index 948d21c . . 1e48bf4 100644 <nl> - - - a / src / java / org / apache / cassandra / hadoop / pig / CqlNativeStorage . java <nl> + + + b / src / java / org / apache / cassandra / hadoop / pig / CqlNativeStorage . java <nl> @ @ - 1 , 3 + 1 , 20 @ @ <nl> + / * <nl> + * Licensed to the Apache Software Foundation ( ASF ) under one <nl> + * or more contributor license agreements . See the NOTICE file <nl> + * distributed with this work for additional information <nl> + * regarding copyright ownership . The ASF licenses this file <nl> + * to you under the Apache License , Version 2 . 0 ( the <nl> + * " License " ) ; you may not use this file except in compliance <nl> + * with the License . You may obtain a copy of the License at <nl> + * <nl> + * http : / / www . apache . org / licenses / LICENSE - 2 . 0 <nl> + * <nl> + * Unless required by applicable law or agreed to in writing , software <nl> + * distributed under the License is distributed on an " AS IS " BASIS , <nl> + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND , either express or implied . <nl> + * See the License for the specific language governing permissions and <nl> + * limitations under the License . <nl> + * / <nl> package org . apache . cassandra . hadoop . pig ; <nl> <nl> import java . io . IOException ; <nl> diff - - git a / test / unit / org / apache / cassandra / cql3 / SliceQueryFilterWithStaticColumnsPresentTest . java b / test / unit / org / apache / cassandra / cql3 / SliceQueryFilterWithStaticColumnsPresentTest . java <nl> index a21ebdc . . 75d1a1d 100644 <nl> - - - a / test / unit / org / apache / cassandra / cql3 / SliceQueryFilterWithStaticColumnsPresentTest . java <nl> + + + b / test / unit / org / apache / cassandra / cql3 / SliceQueryFilterWithStaticColumnsPresentTest . java <nl> @ @ - 1 , 3 + 1 , 20 @ @ <nl> + / * <nl> + * Licensed to the Apache Software Foundation ( ASF ) under one <nl> + * or more contributor license agreements . See the NOTICE file <nl> + * distributed with this work for additional information <nl> + * regarding copyright ownership . The ASF licenses this file <nl> + * to you under the Apache License , Version 2 . 0 ( the <nl> + * " License " ) ; you may not use this file except in compliance <nl> + * with the License . You may obtain a copy of the License at <nl> + * <nl> + * http : / / www . apache . org / licenses / LICENSE - 2 . 0 <nl> + * <nl> + * Unless required by applicable law or agreed to in writing , software <nl> + * distributed under the License is distributed on an " AS IS " BASIS , <nl> + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND , either express or implied . <nl> + * See the License for the specific language governing permissions and <nl> + * limitations under the License . <nl> + * / <nl> package org . apache . cassandra . cql3 ; <nl> <nl> import org . apache . cassandra . SchemaLoader ;
NEAREST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index 3902dec . . 21faf5a 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 1 , 4 + 1 , 5 @ @ <nl> 1 . 2 . 6 <nl> + * Move System . exit on OOM into a separate thread ( CASSANDRA - 5273 ) <nl> * Write row markers when serializing schema ( CASSANDRA - 5572 ) <nl> * Check only SSTables for the requested range when streaming ( CASSANDRA - 5569 ) <nl> * Improve batchlog replay behavior and hint ttl handling ( CASSANDRA - 5314 ) <nl> diff - - git a / src / java / org / apache / cassandra / service / CassandraDaemon . java b / src / java / org / apache / cassandra / service / CassandraDaemon . java <nl> index 40c453d . . 343d497 100644 <nl> - - - a / src / java / org / apache / cassandra / service / CassandraDaemon . java <nl> + + + b / src / java / org / apache / cassandra / service / CassandraDaemon . java <nl> @ @ - 58 , 6 + 58 , 16 @ @ public class CassandraDaemon <nl> initLog4j ( ) ; <nl> } <nl> <nl> + / / Have a dedicated thread to call exit to avoid deadlock in the case where the thread that wants to invoke exit <nl> + / / belongs to an executor that our shutdown hook wants to wait to exit gracefully . See CASSANDRA - 5273 . <nl> + private static final Thread exitThread = new Thread ( new Runnable ( ) <nl> + { <nl> + public void run ( ) <nl> + { <nl> + System . exit ( 100 ) ; <nl> + } <nl> + } , " Exit invoker " ) ; <nl> + <nl> / * * <nl> * Initialize logging in such a way that it checks for config changes every 10 seconds . <nl> * / <nl> @ @ - 178 , 7 + 188 , 7 @ @ public class CassandraDaemon <nl> { <nl> / / some code , like FileChannel . map , will wrap an OutOfMemoryError in another exception <nl> if ( e2 instanceof OutOfMemoryError ) <nl> - System . exit ( 100 ) ; <nl> + exitThread . start ( ) ; <nl> <nl> if ( e2 instanceof FSError ) <nl> {

TEST DIFF:
diff - - git a / . rat - excludes b / . rat - excludes 
 index 0da5ab9 . . 503b3a6 100644 
 - - - a / . rat - excludes 
 + + + b / . rat - excludes 
 @ @ - 30 , 3 + 30 , 4 @ @ examples / triggers / conf / * 
 examples / hadoop _ word _ count / conf / log4j . properties 
 pylib / cqlshlib / test / * * 
 src / resources / org / apache / cassandra / config / version . properties 
 + * * / hotspot _ compiler 
 diff - - git a / NEWS . txt b / NEWS . txt 
 index 0491384 . . 7fa8be9 100644 
 - - - a / NEWS . txt 
 + + + b / NEWS . txt 
 @ @ - 14 , 13 + 14 , 12 @ @ restore snapshots created with the previous major version using the 
 using the provided ' sstableupgrade ' tool . 
 
 2 . 0 . 10 
 - = = = = 
 + = = = = = = 
 New features 
 - - - - - - - - - - - - 
 - CqlPaginRecordReader and CqlPagingInputFormat have both been removed . 
 Use CqlInputFormat instead . 
 - - If you are using Leveled Compaction , you can now disable doing 
 - size - tiered 
 + - If you are using Leveled Compaction , you can now disable doing size - tiered 
 compaction in L0 by starting Cassandra with - Dcassandra . disable _ stcs _ in _ l0 
 ( see CASSANDRA - 6621 for details ) . 
 - Shuffle and taketoken have been removed . For clusters that choose to 
 diff - - git a / build . xml b / build . xml 
 index 4b64570 . . 611345d 100644 
 - - - a / build . xml 
 + + + b / build . xml 
 @ @ - 25 , 7 + 25 , 7 @ @ 
 < property name = " debuglevel " value = " source , lines , vars " / > 
 
 < ! - - default version and SCM information - - > 
 - < property name = " base . version " value = " 2 . 0 . 9 " / > 
 + < property name = " base . version " value = " 2 . 0 . 10 " / > 
 < property name = " scm . connection " value = " scm : git : / / git . apache . org / cassandra . git " / > 
 < property name = " scm . developerConnection " value = " scm : git : / / git . apache . org / cassandra . git " / > 
 < property name = " scm . url " value = " http : / / git - wip - us . apache . org / repos / asf ? p = cassandra . git ; a = tree " / > 
 diff - - git a / debian / changelog b / debian / changelog 
 index 73fea4c . . e0b1eae 100644 
 - - - a / debian / changelog 
 + + + b / debian / changelog 
 @ @ - 1 , 3 + 1 , 9 @ @ 
 + cassandra ( 2 . 0 . 10 ) unstable ; urgency = medium 
 + 
 + * New release 
 + 
 + - - Sylvain Lebresne < slebresne @ apache . org > Fri , 08 Aug 2014 10 : 50 : 44 + 0200 
 + 
 cassandra ( 2 . 0 . 9 ) unstable ; urgency = medium 
 
 * New release 
 diff - - git a / src / java / org / apache / cassandra / hadoop / pig / CqlNativeStorage . java b / src / java / org / apache / cassandra / hadoop / pig / CqlNativeStorage . java 
 index 948d21c . . 1e48bf4 100644 
 - - - a / src / java / org / apache / cassandra / hadoop / pig / CqlNativeStorage . java 
 + + + b / src / java / org / apache / cassandra / hadoop / pig / CqlNativeStorage . java 
 @ @ - 1 , 3 + 1 , 20 @ @ 
 + / * 
 + * Licensed to the Apache Software Foundation ( ASF ) under one 
 + * or more contributor license agreements . See the NOTICE file 
 + * distributed with this work for additional information 
 + * regarding copyright ownership . The ASF licenses this file 
 + * to you under the Apache License , Version 2 . 0 ( the 
 + * " License " ) ; you may not use this file except in compliance 
 + * with the License . You may obtain a copy of the License at 
 + * 
 + * http : / / www . apache . org / licenses / LICENSE - 2 . 0 
 + * 
 + * Unless required by applicable law or agreed to in writing , software 
 + * distributed under the License is distributed on an " AS IS " BASIS , 
 + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND , either express or implied . 
 + * See the License for the specific language governing permissions and 
 + * limitations under the License . 
 + * / 
 package org . apache . cassandra . hadoop . pig ; 
 
 import java . io . IOException ; 
 diff - - git a / test / unit / org / apache / cassandra / cql3 / SliceQueryFilterWithStaticColumnsPresentTest . java b / test / unit / org / apache / cassandra / cql3 / SliceQueryFilterWithStaticColumnsPresentTest . java 
 index a21ebdc . . 75d1a1d 100644 
 - - - a / test / unit / org / apache / cassandra / cql3 / SliceQueryFilterWithStaticColumnsPresentTest . java 
 + + + b / test / unit / org / apache / cassandra / cql3 / SliceQueryFilterWithStaticColumnsPresentTest . java 
 @ @ - 1 , 3 + 1 , 20 @ @ 
 + / * 
 + * Licensed to the Apache Software Foundation ( ASF ) under one 
 + * or more contributor license agreements . See the NOTICE file 
 + * distributed with this work for additional information 
 + * regarding copyright ownership . The ASF licenses this file 
 + * to you under the Apache License , Version 2 . 0 ( the 
 + * " License " ) ; you may not use this file except in compliance 
 + * with the License . You may obtain a copy of the License at 
 + * 
 + * http : / / www . apache . org / licenses / LICENSE - 2 . 0 
 + * 
 + * Unless required by applicable law or agreed to in writing , software 
 + * distributed under the License is distributed on an " AS IS " BASIS , 
 + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND , either express or implied . 
 + * See the License for the specific language governing permissions and 
 + * limitations under the License . 
 + * / 
 package org . apache . cassandra . cql3 ; 
 
 import org . apache . cassandra . SchemaLoader ;

NEAREST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index 3902dec . . 21faf5a 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 1 , 4 + 1 , 5 @ @ 
 1 . 2 . 6 
 + * Move System . exit on OOM into a separate thread ( CASSANDRA - 5273 ) 
 * Write row markers when serializing schema ( CASSANDRA - 5572 ) 
 * Check only SSTables for the requested range when streaming ( CASSANDRA - 5569 ) 
 * Improve batchlog replay behavior and hint ttl handling ( CASSANDRA - 5314 ) 
 diff - - git a / src / java / org / apache / cassandra / service / CassandraDaemon . java b / src / java / org / apache / cassandra / service / CassandraDaemon . java 
 index 40c453d . . 343d497 100644 
 - - - a / src / java / org / apache / cassandra / service / CassandraDaemon . java 
 + + + b / src / java / org / apache / cassandra / service / CassandraDaemon . java 
 @ @ - 58 , 6 + 58 , 16 @ @ public class CassandraDaemon 
 initLog4j ( ) ; 
 } 
 
 + / / Have a dedicated thread to call exit to avoid deadlock in the case where the thread that wants to invoke exit 
 + / / belongs to an executor that our shutdown hook wants to wait to exit gracefully . See CASSANDRA - 5273 . 
 + private static final Thread exitThread = new Thread ( new Runnable ( ) 
 + { 
 + public void run ( ) 
 + { 
 + System . exit ( 100 ) ; 
 + } 
 + } , " Exit invoker " ) ; 
 + 
 / * * 
 * Initialize logging in such a way that it checks for config changes every 10 seconds . 
 * / 
 @ @ - 178 , 7 + 188 , 7 @ @ public class CassandraDaemon 
 { 
 / / some code , like FileChannel . map , will wrap an OutOfMemoryError in another exception 
 if ( e2 instanceof OutOfMemoryError ) 
 - System . exit ( 100 ) ; 
 + exitThread . start ( ) ; 
 
 if ( e2 instanceof FSError ) 
 {
