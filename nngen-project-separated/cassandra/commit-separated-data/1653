BLEU SCORE: 0.041961149062965476

TEST MSG: Avoid potential overlap in LCS with single - partition sstables
GENERATED MSG: add check for sstable overlap within a level on startup

TEST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index 8473777 . . 1540d28 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 1 , 4 + 1 , 5 @ @ <nl> 2 . 0 . 15 : <nl> + * Avoid potential overlap in LCS with single - partition sstables ( CASSANDRA - 9322 ) <nl> * Log warning message when a table is queried before the schema has fully <nl> propagated ( CASSANDRA - 9136 ) <nl> * Overload SecondaryIndex # indexes to accept the column definition ( CASSANDRA - 9314 ) <nl> diff - - git a / src / java / org / apache / cassandra / db / compaction / LeveledManifest . java b / src / java / org / apache / cassandra / db / compaction / LeveledManifest . java <nl> index 867b5ce . . 81c65e4 100644 <nl> - - - a / src / java / org / apache / cassandra / db / compaction / LeveledManifest . java <nl> + + + b / src / java / org / apache / cassandra / db / compaction / LeveledManifest . java <nl> @ @ - 353 , 6 + 353 , 8 @ @ public class LeveledManifest <nl> if ( max = = null | | candidate . last . compareTo ( max ) > 0 ) <nl> max = candidate . last ; <nl> } <nl> + if ( min = = null | | max = = null | | min . equals ( max ) ) / / single partition sstables - we cannot include a high level sstable . <nl> + return candidates ; <nl> Set < SSTableReader > compacting = cfs . getDataTracker ( ) . getCompacting ( ) ; <nl> Range < RowPosition > boundaries = new Range < > ( min , max ) ; <nl> for ( SSTableReader sstable : getLevel ( i ) )
NEAREST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index ae43b77 . . b7da284 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 16 , 6 + 16 , 7 @ @ <nl> <nl> <nl> 1 . 2 . 3 <nl> + * add check for sstable overlap within a level on startup ( CASSANDRA - 5327 ) <nl> * replace ipv6 colons in jmx object names ( CASSANDRA - 5298 ) <nl> * Avoid allocating SSTableBoundedScanner during repair when the range does <nl> not intersect the sstable ( CASSANDRA - 5249 )

TEST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index 8473777 . . 1540d28 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 1 , 4 + 1 , 5 @ @ 
 2 . 0 . 15 : 
 + * Avoid potential overlap in LCS with single - partition sstables ( CASSANDRA - 9322 ) 
 * Log warning message when a table is queried before the schema has fully 
 propagated ( CASSANDRA - 9136 ) 
 * Overload SecondaryIndex # indexes to accept the column definition ( CASSANDRA - 9314 ) 
 diff - - git a / src / java / org / apache / cassandra / db / compaction / LeveledManifest . java b / src / java / org / apache / cassandra / db / compaction / LeveledManifest . java 
 index 867b5ce . . 81c65e4 100644 
 - - - a / src / java / org / apache / cassandra / db / compaction / LeveledManifest . java 
 + + + b / src / java / org / apache / cassandra / db / compaction / LeveledManifest . java 
 @ @ - 353 , 6 + 353 , 8 @ @ public class LeveledManifest 
 if ( max = = null | | candidate . last . compareTo ( max ) > 0 ) 
 max = candidate . last ; 
 } 
 + if ( min = = null | | max = = null | | min . equals ( max ) ) / / single partition sstables - we cannot include a high level sstable . 
 + return candidates ; 
 Set < SSTableReader > compacting = cfs . getDataTracker ( ) . getCompacting ( ) ; 
 Range < RowPosition > boundaries = new Range < > ( min , max ) ; 
 for ( SSTableReader sstable : getLevel ( i ) )

NEAREST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index ae43b77 . . b7da284 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 16 , 6 + 16 , 7 @ @ 
 
 
 1 . 2 . 3 
 + * add check for sstable overlap within a level on startup ( CASSANDRA - 5327 ) 
 * replace ipv6 colons in jmx object names ( CASSANDRA - 5298 ) 
 * Avoid allocating SSTableBoundedScanner during repair when the range does 
 not intersect the sstable ( CASSANDRA - 5249 )
