BLEU SCORE: 0.03089055318156698

TEST MSG: Remove left - over rows _ per _ partition _ to _ cache
GENERATED MSG: don ' t force flush of compaction _ history after each compaction

TEST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index 75a1786 . . cd16f35 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 2 , 6 + 2 , 7 @ @ <nl> * ( Windows ) handle spaces in path names ( CASSANDRA - 7451 ) <nl> * Ensure writes have completed after dropping a table , before recycling <nl> commit log segments ( CASSANDRA - 7437 ) <nl> + * Remove left - over rows _ per _ partition _ to _ cache ( CASSANDRA - 7493 ) <nl> Merged from 2 . 0 : <nl> * Fix CC # collectTimeOrderedData ( ) tombstone optimisations ( CASSANDRA - 7394 ) <nl> * Support DISTINCT for static columns and fix behaviour when DISTINC is <nl> diff - - git a / src / java / org / apache / cassandra / config / CFMetaData . java b / src / java / org / apache / cassandra / config / CFMetaData . java <nl> index de2466c . . dd3d079 100644 <nl> - - - a / src / java / org / apache / cassandra / config / CFMetaData . java <nl> + + + b / src / java / org / apache / cassandra / config / CFMetaData . java <nl> @ @ - 182 , 7 + 182 , 6 @ @ public final class CFMetaData <nl> + " min _ index _ interval int , " <nl> + " max _ index _ interval int , " <nl> + " dropped _ columns map < text , bigint > , " <nl> - + " rows _ per _ partition _ to _ cache text , " <nl> + " PRIMARY KEY ( keyspace _ name , columnfamily _ name ) " <nl> + " ) WITH COMMENT = ' ColumnFamily definitions ' AND gc _ grace _ seconds = 8640 " ) ; <nl> <nl> diff - - git a / src / java / org / apache / cassandra / cql3 / statements / CFPropDefs . java b / src / java / org / apache / cassandra / cql3 / statements / CFPropDefs . java <nl> index f920e30 . . 486fc9a 100644 <nl> - - - a / src / java / org / apache / cassandra / cql3 / statements / CFPropDefs . java <nl> + + + b / src / java / org / apache / cassandra / cql3 / statements / CFPropDefs . java <nl> @ @ - 39 , 7 + 39 , 6 @ @ public class CFPropDefs extends PropertyDefinitions <nl> public static final String KW _ MINCOMPACTIONTHRESHOLD = " min _ threshold " ; <nl> public static final String KW _ MAXCOMPACTIONTHRESHOLD = " max _ threshold " ; <nl> public static final String KW _ CACHING = " caching " ; <nl> - public static final String KW _ ROWS _ PER _ PARTITION _ TO _ CACHE = " rows _ per _ partition _ to _ cache " ; <nl> public static final String KW _ DEFAULT _ TIME _ TO _ LIVE = " default _ time _ to _ live " ; <nl> public static final String KW _ MIN _ INDEX _ INTERVAL = " min _ index _ interval " ; <nl> public static final String KW _ MAX _ INDEX _ INTERVAL = " max _ index _ interval " ;
NEAREST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / service / StorageService . java b / src / java / org / apache / cassandra / service / StorageService . java <nl> index c3f32fa . . 77a7e5a 100644 <nl> - - - a / src / java / org / apache / cassandra / service / StorageService . java <nl> + + + b / src / java / org / apache / cassandra / service / StorageService . java <nl> @ @ - 746 , 7 + 746 , 7 @ @ public class StorageService extends NotificationBroadcasterSupport implements IE <nl> tokens = new ArrayList < Token > ( initialTokens . size ( ) ) ; <nl> for ( String token : initialTokens ) <nl> tokens . add ( getPartitioner ( ) . getTokenFactory ( ) . fromString ( token ) ) ; <nl> - logger . info ( " Saved token not found . Using " + tokens + " from configuration " ) ; <nl> + logger . info ( " Saved tokens not found . Using configuration value : { } " , tokens ) ; <nl> } <nl> } <nl> else <nl> @ @ - 795 , 7 + 795 , 7 @ @ public class StorageService extends NotificationBroadcasterSupport implements IE <nl> logger . info ( " Split previous range ( " + left + " , " + right + " ] into " + tokens ) ; <nl> } <nl> else <nl> - logger . info ( " Using saved token " + tokens ) ; <nl> + logger . info ( " Using saved tokens " + tokens ) ; <nl> } <nl> } <nl>

TEST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index 75a1786 . . cd16f35 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 2 , 6 + 2 , 7 @ @ 
 * ( Windows ) handle spaces in path names ( CASSANDRA - 7451 ) 
 * Ensure writes have completed after dropping a table , before recycling 
 commit log segments ( CASSANDRA - 7437 ) 
 + * Remove left - over rows _ per _ partition _ to _ cache ( CASSANDRA - 7493 ) 
 Merged from 2 . 0 : 
 * Fix CC # collectTimeOrderedData ( ) tombstone optimisations ( CASSANDRA - 7394 ) 
 * Support DISTINCT for static columns and fix behaviour when DISTINC is 
 diff - - git a / src / java / org / apache / cassandra / config / CFMetaData . java b / src / java / org / apache / cassandra / config / CFMetaData . java 
 index de2466c . . dd3d079 100644 
 - - - a / src / java / org / apache / cassandra / config / CFMetaData . java 
 + + + b / src / java / org / apache / cassandra / config / CFMetaData . java 
 @ @ - 182 , 7 + 182 , 6 @ @ public final class CFMetaData 
 + " min _ index _ interval int , " 
 + " max _ index _ interval int , " 
 + " dropped _ columns map < text , bigint > , " 
 - + " rows _ per _ partition _ to _ cache text , " 
 + " PRIMARY KEY ( keyspace _ name , columnfamily _ name ) " 
 + " ) WITH COMMENT = ' ColumnFamily definitions ' AND gc _ grace _ seconds = 8640 " ) ; 
 
 diff - - git a / src / java / org / apache / cassandra / cql3 / statements / CFPropDefs . java b / src / java / org / apache / cassandra / cql3 / statements / CFPropDefs . java 
 index f920e30 . . 486fc9a 100644 
 - - - a / src / java / org / apache / cassandra / cql3 / statements / CFPropDefs . java 
 + + + b / src / java / org / apache / cassandra / cql3 / statements / CFPropDefs . java 
 @ @ - 39 , 7 + 39 , 6 @ @ public class CFPropDefs extends PropertyDefinitions 
 public static final String KW _ MINCOMPACTIONTHRESHOLD = " min _ threshold " ; 
 public static final String KW _ MAXCOMPACTIONTHRESHOLD = " max _ threshold " ; 
 public static final String KW _ CACHING = " caching " ; 
 - public static final String KW _ ROWS _ PER _ PARTITION _ TO _ CACHE = " rows _ per _ partition _ to _ cache " ; 
 public static final String KW _ DEFAULT _ TIME _ TO _ LIVE = " default _ time _ to _ live " ; 
 public static final String KW _ MIN _ INDEX _ INTERVAL = " min _ index _ interval " ; 
 public static final String KW _ MAX _ INDEX _ INTERVAL = " max _ index _ interval " ;

NEAREST DIFF:
diff - - git a / src / java / org / apache / cassandra / service / StorageService . java b / src / java / org / apache / cassandra / service / StorageService . java 
 index c3f32fa . . 77a7e5a 100644 
 - - - a / src / java / org / apache / cassandra / service / StorageService . java 
 + + + b / src / java / org / apache / cassandra / service / StorageService . java 
 @ @ - 746 , 7 + 746 , 7 @ @ public class StorageService extends NotificationBroadcasterSupport implements IE 
 tokens = new ArrayList < Token > ( initialTokens . size ( ) ) ; 
 for ( String token : initialTokens ) 
 tokens . add ( getPartitioner ( ) . getTokenFactory ( ) . fromString ( token ) ) ; 
 - logger . info ( " Saved token not found . Using " + tokens + " from configuration " ) ; 
 + logger . info ( " Saved tokens not found . Using configuration value : { } " , tokens ) ; 
 } 
 } 
 else 
 @ @ - 795 , 7 + 795 , 7 @ @ public class StorageService extends NotificationBroadcasterSupport implements IE 
 logger . info ( " Split previous range ( " + left + " , " + right + " ] into " + tokens ) ; 
 } 
 else 
 - logger . info ( " Using saved token " + tokens ) ; 
 + logger . info ( " Using saved tokens " + tokens ) ; 
 } 
 } 

