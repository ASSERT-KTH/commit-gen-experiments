BLEU SCORE: 0.05341087579952926

TEST MSG: merge from 1 . 2
GENERATED MSG: only fetch comparator if needed

TEST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index 622a1a9 . . 8fd794c 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 34 , 6 + 34 , 7 @ @ Merged from 1 . 2 : <nl> * Don ' t send confusing info with timeouts ( CASSANDRA - 6491 ) <nl> * Don ' t resubmit counter mutation runnables internally ( CASSANDRA - 6427 ) <nl> * Don ' t drop local mutations without a trace ( CASSANDRA - 6510 ) <nl> + * Don ' t allow null max _ hint _ window _ in _ ms ( CASSANDRA - 6419 ) <nl> <nl> <nl> 2 . 0 . 3 <nl> diff - - git a / src / java / org / apache / cassandra / config / DatabaseDescriptor . java b / src / java / org / apache / cassandra / config / DatabaseDescriptor . java <nl> index 24c1398 . . 3a6cdb4 100644 <nl> - - - a / src / java / org / apache / cassandra / config / DatabaseDescriptor . java <nl> + + + b / src / java / org / apache / cassandra / config / DatabaseDescriptor . java <nl> @ @ - 229 , 6 + 229 , 11 @ @ public class DatabaseDescriptor <nl> } <nl> paritionerName = partitioner . getClass ( ) . getCanonicalName ( ) ; <nl> <nl> + if ( conf . max _ hint _ window _ in _ ms = = null ) <nl> + { <nl> + throw new ConfigurationException ( " max _ hint _ window _ in _ ms cannot be set to null " ) ; <nl> + } <nl> + <nl> / * phi convict threshold for FailureDetector * / <nl> if ( conf . phi _ convict _ threshold < 5 | | conf . phi _ convict _ threshold > 16 ) <nl> {
NEAREST DIFF (one line): diff - - git a / conf / cassandra . yaml b / conf / cassandra . yaml <nl> index c4732db . . aa4db1c 100644 <nl> - - - a / conf / cassandra . yaml <nl> + + + b / conf / cassandra . yaml <nl> @ @ - 24 , 7 + 24 , 8 @ @ initial _ token : <nl> # See http : / / wiki . apache . org / cassandra / HintedHandoff <nl> hinted _ handoff _ enabled : true <nl> # this defines the maximum amount of time a dead host will have hints <nl> - # generated . After it has been dead this long , hints will be dropped . <nl> + # generated . After it has been dead this long , new hints for it will not be <nl> + # created until it has been seen alive and gone down again . <nl> max _ hint _ window _ in _ ms : 3600000 # one hour <nl> # Sleep this long after delivering each hint <nl> hinted _ handoff _ throttle _ delay _ in _ ms : 1

TEST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index 622a1a9 . . 8fd794c 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 34 , 6 + 34 , 7 @ @ Merged from 1 . 2 : 
 * Don ' t send confusing info with timeouts ( CASSANDRA - 6491 ) 
 * Don ' t resubmit counter mutation runnables internally ( CASSANDRA - 6427 ) 
 * Don ' t drop local mutations without a trace ( CASSANDRA - 6510 ) 
 + * Don ' t allow null max _ hint _ window _ in _ ms ( CASSANDRA - 6419 ) 
 
 
 2 . 0 . 3 
 diff - - git a / src / java / org / apache / cassandra / config / DatabaseDescriptor . java b / src / java / org / apache / cassandra / config / DatabaseDescriptor . java 
 index 24c1398 . . 3a6cdb4 100644 
 - - - a / src / java / org / apache / cassandra / config / DatabaseDescriptor . java 
 + + + b / src / java / org / apache / cassandra / config / DatabaseDescriptor . java 
 @ @ - 229 , 6 + 229 , 11 @ @ public class DatabaseDescriptor 
 } 
 paritionerName = partitioner . getClass ( ) . getCanonicalName ( ) ; 
 
 + if ( conf . max _ hint _ window _ in _ ms = = null ) 
 + { 
 + throw new ConfigurationException ( " max _ hint _ window _ in _ ms cannot be set to null " ) ; 
 + } 
 + 
 / * phi convict threshold for FailureDetector * / 
 if ( conf . phi _ convict _ threshold < 5 | | conf . phi _ convict _ threshold > 16 ) 
 {

NEAREST DIFF:
diff - - git a / conf / cassandra . yaml b / conf / cassandra . yaml 
 index c4732db . . aa4db1c 100644 
 - - - a / conf / cassandra . yaml 
 + + + b / conf / cassandra . yaml 
 @ @ - 24 , 7 + 24 , 8 @ @ initial _ token : 
 # See http : / / wiki . apache . org / cassandra / HintedHandoff 
 hinted _ handoff _ enabled : true 
 # this defines the maximum amount of time a dead host will have hints 
 - # generated . After it has been dead this long , hints will be dropped . 
 + # generated . After it has been dead this long , new hints for it will not be 
 + # created until it has been seen alive and gone down again . 
 max _ hint _ window _ in _ ms : 3600000 # one hour 
 # Sleep this long after delivering each hint 
 hinted _ handoff _ throttle _ delay _ in _ ms : 1
