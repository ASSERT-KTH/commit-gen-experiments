BLEU SCORE: 0.027611988917697356

TEST MSG: Move processing of EchoMessage response to gossip stage
GENERATED MSG: Clean up gossiper fully after shadow round .

TEST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index 5763720 . . 5af348b 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 1 , 4 + 1 , 5 @ @ <nl> 4 . 0 <nl> + * Move processing of EchoMessage response to gossip stage ( CASSANDRA - 13713 ) <nl> * Add coordinator write metric per CF ( CASSANDRA - 14232 ) <nl> * Fix scheduling of speculative retry threshold recalculation ( CASSANDRA - 14338 ) <nl> * Add support for hybrid MIN ( ) , MAX ( ) speculative retry policies ( CASSANDRA - 14293 ) <nl> diff - - git a / src / java / org / apache / cassandra / gms / Gossiper . java b / src / java / org / apache / cassandra / gms / Gossiper . java <nl> index a4e46f2 . . 24b659b 100644 <nl> - - - a / src / java / org / apache / cassandra / gms / Gossiper . java <nl> + + + b / src / java / org / apache / cassandra / gms / Gossiper . java <nl> @ @ - 1015 , 7 + 1015 , 8 @ @ public class Gossiper implements IFailureDetectionEventListener , GossiperMBean <nl> <nl> public void response ( MessageIn msg ) <nl> { <nl> - realMarkAlive ( addr , localState ) ; <nl> + / / force processing of the echo response onto the gossip stage , as it comes in on the REQUEST _ RESPONSE stage <nl> + StageManager . getStage ( Stage . GOSSIP ) . submit ( ( ) - > realMarkAlive ( addr , localState ) ) ; <nl> } <nl> } ; <nl>
NEAREST DIFF (one line): ELIMINATEDSENTENCE

TEST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index 5763720 . . 5af348b 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 1 , 4 + 1 , 5 @ @ 
 4 . 0 
 + * Move processing of EchoMessage response to gossip stage ( CASSANDRA - 13713 ) 
 * Add coordinator write metric per CF ( CASSANDRA - 14232 ) 
 * Fix scheduling of speculative retry threshold recalculation ( CASSANDRA - 14338 ) 
 * Add support for hybrid MIN ( ) , MAX ( ) speculative retry policies ( CASSANDRA - 14293 ) 
 diff - - git a / src / java / org / apache / cassandra / gms / Gossiper . java b / src / java / org / apache / cassandra / gms / Gossiper . java 
 index a4e46f2 . . 24b659b 100644 
 - - - a / src / java / org / apache / cassandra / gms / Gossiper . java 
 + + + b / src / java / org / apache / cassandra / gms / Gossiper . java 
 @ @ - 1015 , 7 + 1015 , 8 @ @ public class Gossiper implements IFailureDetectionEventListener , GossiperMBean 
 
 public void response ( MessageIn msg ) 
 { 
 - realMarkAlive ( addr , localState ) ; 
 + / / force processing of the echo response onto the gossip stage , as it comes in on the REQUEST _ RESPONSE stage 
 + StageManager . getStage ( Stage . GOSSIP ) . submit ( ( ) - > realMarkAlive ( addr , localState ) ) ; 
 } 
 } ; 


NEAREST DIFF:
ELIMINATEDSENTENCE
