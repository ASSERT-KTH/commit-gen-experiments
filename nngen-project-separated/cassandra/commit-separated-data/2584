BLEU SCORE: 0.019120691686667225

TEST MSG: Add logging about not autobootstrapping a seed .
GENERATED MSG: emit a message if an unbootstrapped autobootstrap node is configured as a seed . Patch by Gary Dusbabek , reviewed by Brandon Williams . CASSANDRA - 746

TEST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / service / StorageService . java b / src / java / org / apache / cassandra / service / StorageService . java <nl> index 6611ba9 . . 6929100 100644 <nl> - - - a / src / java / org / apache / cassandra / service / StorageService . java <nl> + + + b / src / java / org / apache / cassandra / service / StorageService . java <nl> @ @ - 652 , 6 + 652 , 8 @ @ public class StorageService extends NotificationBroadcasterSupport implements IE <nl> SystemTable . bootstrapInProgress ( ) , <nl> SystemTable . bootstrapComplete ( ) , <nl> DatabaseDescriptor . getSeeds ( ) . contains ( FBUtilities . getBroadcastAddress ( ) ) } ) ; <nl> + if ( DatabaseDescriptor . isAutoBootstrap ( ) & & ! SystemTable . bootstrapComplete ( ) & & DatabaseDescriptor . getSeeds ( ) . contains ( FBUtilities . getLocalAddress ( ) ) ) <nl> + logger . info ( " This node will not auto bootstrap because it is configured to be a seed node . " ) ; <nl> if ( DatabaseDescriptor . isAutoBootstrap ( ) <nl> & & ! SystemTable . bootstrapComplete ( ) <nl> & & ! DatabaseDescriptor . getSeeds ( ) . contains ( FBUtilities . getBroadcastAddress ( ) ) )
NEAREST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / service / StorageService . java b / src / java / org / apache / cassandra / service / StorageService . java <nl> index 18a561a . . 5c1ec28 100644 <nl> - - - a / src / java / org / apache / cassandra / service / StorageService . java <nl> + + + b / src / java / org / apache / cassandra / service / StorageService . java <nl> @ @ - 299 , 6 + 299 , 11 @ @ public class StorageService implements IEndPointStateChangeSubscriber , StorageSe <nl> Gossiper . instance . start ( FBUtilities . getLocalAddress ( ) , storageMetadata _ . getGeneration ( ) ) ; / / needed for node - ring gathering . <nl> <nl> if ( DatabaseDescriptor . isAutoBootstrap ( ) <nl> + & & DatabaseDescriptor . getSeeds ( ) . contains ( FBUtilities . getLocalAddress ( ) ) <nl> + & & ! SystemTable . isBootstrapped ( ) ) <nl> + logger _ . info ( " This node will not auto bootstrap because it is configured to be a seed node . " ) ; <nl> + <nl> + if ( DatabaseDescriptor . isAutoBootstrap ( ) <nl> & & ! ( DatabaseDescriptor . getSeeds ( ) . contains ( FBUtilities . getLocalAddress ( ) ) | | SystemTable . isBootstrapped ( ) ) ) <nl> { <nl> logger _ . info ( " Starting in bootstrap mode ( first , sleeping to get load information ) " ) ;

TEST DIFF:
diff - - git a / src / java / org / apache / cassandra / service / StorageService . java b / src / java / org / apache / cassandra / service / StorageService . java 
 index 6611ba9 . . 6929100 100644 
 - - - a / src / java / org / apache / cassandra / service / StorageService . java 
 + + + b / src / java / org / apache / cassandra / service / StorageService . java 
 @ @ - 652 , 6 + 652 , 8 @ @ public class StorageService extends NotificationBroadcasterSupport implements IE 
 SystemTable . bootstrapInProgress ( ) , 
 SystemTable . bootstrapComplete ( ) , 
 DatabaseDescriptor . getSeeds ( ) . contains ( FBUtilities . getBroadcastAddress ( ) ) } ) ; 
 + if ( DatabaseDescriptor . isAutoBootstrap ( ) & & ! SystemTable . bootstrapComplete ( ) & & DatabaseDescriptor . getSeeds ( ) . contains ( FBUtilities . getLocalAddress ( ) ) ) 
 + logger . info ( " This node will not auto bootstrap because it is configured to be a seed node . " ) ; 
 if ( DatabaseDescriptor . isAutoBootstrap ( ) 
 & & ! SystemTable . bootstrapComplete ( ) 
 & & ! DatabaseDescriptor . getSeeds ( ) . contains ( FBUtilities . getBroadcastAddress ( ) ) )

NEAREST DIFF:
diff - - git a / src / java / org / apache / cassandra / service / StorageService . java b / src / java / org / apache / cassandra / service / StorageService . java 
 index 18a561a . . 5c1ec28 100644 
 - - - a / src / java / org / apache / cassandra / service / StorageService . java 
 + + + b / src / java / org / apache / cassandra / service / StorageService . java 
 @ @ - 299 , 6 + 299 , 11 @ @ public class StorageService implements IEndPointStateChangeSubscriber , StorageSe 
 Gossiper . instance . start ( FBUtilities . getLocalAddress ( ) , storageMetadata _ . getGeneration ( ) ) ; / / needed for node - ring gathering . 
 
 if ( DatabaseDescriptor . isAutoBootstrap ( ) 
 + & & DatabaseDescriptor . getSeeds ( ) . contains ( FBUtilities . getLocalAddress ( ) ) 
 + & & ! SystemTable . isBootstrapped ( ) ) 
 + logger _ . info ( " This node will not auto bootstrap because it is configured to be a seed node . " ) ; 
 + 
 + if ( DatabaseDescriptor . isAutoBootstrap ( ) 
 & & ! ( DatabaseDescriptor . getSeeds ( ) . contains ( FBUtilities . getLocalAddress ( ) ) | | SystemTable . isBootstrapped ( ) ) ) 
 { 
 logger _ . info ( " Starting in bootstrap mode ( first , sleeping to get load information ) " ) ;
