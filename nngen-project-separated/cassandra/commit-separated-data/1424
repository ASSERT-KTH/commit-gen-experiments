BLEU SCORE: 0.03283637368030199

TEST MSG: Fixup unsued Verb . MATERIALIZEDVIEW _ MUTATION
GENERATED MSG: Fix paged ranges with multiple replicas

TEST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / config / DatabaseDescriptor . java b / src / java / org / apache / cassandra / config / DatabaseDescriptor . java <nl> index 02f3c17 . . 6d6745a 100644 <nl> - - - a / src / java / org / apache / cassandra / config / DatabaseDescriptor . java <nl> + + + b / src / java / org / apache / cassandra / config / DatabaseDescriptor . java <nl> @ @ - 992 , 7 + 992 , 6 @ @ public class DatabaseDescriptor <nl> case PAXOS _ PREPARE : <nl> case PAXOS _ PROPOSE : <nl> case BATCHLOG _ MUTATION : <nl> - case MATERIALIZED _ VIEW _ MUTATION : <nl> return getWriteRpcTimeout ( ) ; <nl> case COUNTER _ MUTATION : <nl> return getCounterWriteRpcTimeout ( ) ; <nl> diff - - git a / src / java / org / apache / cassandra / net / MessagingService . java b / src / java / org / apache / cassandra / net / MessagingService . java <nl> index e10b4cb . . da475f7 100644 <nl> - - - a / src / java / org / apache / cassandra / net / MessagingService . java <nl> + + + b / src / java / org / apache / cassandra / net / MessagingService . java <nl> @ @ - 135 , 11 + 135 , 12 @ @ public final class MessagingService implements MessagingServiceMBean <nl> PAXOS _ COMMIT , <nl> @ Deprecated PAGED _ RANGE , <nl> BATCHLOG _ MUTATION , <nl> - MATERIALIZED _ VIEW _ MUTATION , <nl> / / remember to add new verbs at the end , since we serialize by ordinal <nl> UNUSED _ 1 , <nl> UNUSED _ 2 , <nl> UNUSED _ 3 , <nl> + UNUSED _ 4 , <nl> + UNUSED _ 5 , <nl> ; <nl> } <nl> <nl> @ @ - 147 , 7 + 148 , 6 @ @ public final class MessagingService implements MessagingServiceMBean <nl> { { <nl> put ( Verb . MUTATION , Stage . MUTATION ) ; <nl> put ( Verb . COUNTER _ MUTATION , Stage . COUNTER _ MUTATION ) ; <nl> - put ( Verb . MATERIALIZED _ VIEW _ MUTATION , Stage . MATERIALIZED _ VIEW _ MUTATION ) ; <nl> put ( Verb . BATCHLOG _ MUTATION , Stage . BATCHLOG _ MUTATION ) ; <nl> put ( Verb . READ _ REPAIR , Stage . MUTATION ) ; <nl> put ( Verb . TRUNCATE , Stage . MUTATION ) ; <nl> @ @ - 208 , 7 + 208 , 6 @ @ public final class MessagingService implements MessagingServiceMBean <nl> <nl> put ( Verb . MUTATION , Mutation . serializer ) ; <nl> put ( Verb . BATCHLOG _ MUTATION , Mutation . serializer ) ; <nl> - put ( Verb . MATERIALIZED _ VIEW _ MUTATION , Mutation . serializer ) ; <nl> put ( Verb . READ _ REPAIR , Mutation . serializer ) ; <nl> put ( Verb . READ , ReadCommand . serializer ) ; <nl> / / put ( Verb . RANGE _ SLICE , ReadCommand . legacyRangeSliceCommandSerializer ) ; <nl> @ @ - 236 , 7 + 235 , 6 @ @ public final class MessagingService implements MessagingServiceMBean <nl> { { <nl> put ( Verb . MUTATION , WriteResponse . serializer ) ; <nl> put ( Verb . BATCHLOG _ MUTATION , WriteResponse . serializer ) ; <nl> - put ( Verb . MATERIALIZED _ VIEW _ MUTATION , WriteResponse . serializer ) ; <nl> put ( Verb . READ _ REPAIR , WriteResponse . serializer ) ; <nl> put ( Verb . COUNTER _ MUTATION , WriteResponse . serializer ) ; <nl> put ( Verb . RANGE _ SLICE , ReadResponse . legacyRangeSliceReplySerializer ) ; <nl> @ @ - 300 , 7 + 298 , 6 @ @ public final class MessagingService implements MessagingServiceMBean <nl> public static final EnumSet < Verb > DROPPABLE _ VERBS = EnumSet . of ( Verb . _ TRACE , <nl> Verb . MUTATION , <nl> Verb . BATCHLOG _ MUTATION , / / FIXME : should this be droppable ? ? <nl> - Verb . MATERIALIZED _ VIEW _ MUTATION , <nl> Verb . COUNTER _ MUTATION , <nl> Verb . READ _ REPAIR , <nl> Verb . READ , <nl> @ @ - 630 , 7 + 627 , 6 @ @ public final class MessagingService implements MessagingServiceMBean <nl> { <nl> assert message . verb = = Verb . MUTATION <nl> | | message . verb = = Verb . BATCHLOG _ MUTATION <nl> - | | message . verb = = Verb . MATERIALIZED _ VIEW _ MUTATION <nl> | | message . verb = = Verb . COUNTER _ MUTATION ; <nl> int messageId = nextId ( ) ; <nl> <nl> diff - - git a / src / java / org / apache / cassandra / service / StorageService . java b / src / java / org / apache / cassandra / service / StorageService . java <nl> index f263a82 . . a8ac8bf 100644 <nl> - - - a / src / java / org / apache / cassandra / service / StorageService . java <nl> + + + b / src / java / org / apache / cassandra / service / StorageService . java <nl> @ @ - 294 , 7 + 294 , 6 @ @ public class StorageService extends NotificationBroadcasterSupport implements IE <nl> / * register the verb handlers * / <nl> MessagingService . instance ( ) . registerVerbHandlers ( MessagingService . Verb . MUTATION , new MutationVerbHandler ( ) ) ; <nl> MessagingService . instance ( ) . registerVerbHandlers ( MessagingService . Verb . BATCHLOG _ MUTATION , new MutationVerbHandler ( ) ) ; <nl> - MessagingService . instance ( ) . registerVerbHandlers ( MessagingService . Verb . MATERIALIZED _ VIEW _ MUTATION , new MutationVerbHandler ( ) ) ; <nl> MessagingService . instance ( ) . registerVerbHandlers ( MessagingService . Verb . READ _ REPAIR , new ReadRepairVerbHandler ( ) ) ; <nl> MessagingService . instance ( ) . registerVerbHandlers ( MessagingService . Verb . READ , new ReadCommandVerbHandler ( ) ) ; <nl> MessagingService . instance ( ) . registerVerbHandlers ( MessagingService . Verb . RANGE _ SLICE , new ReadCommandVerbHandler ( ) ) ;
NEAREST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / io / sstable / SSTableDeletingTask . java b / src / java / org / apache / cassandra / io / sstable / SSTableDeletingTask . java <nl> index 8bdc733 . . d02efd8 100644 <nl> - - - a / src / java / org / apache / cassandra / io / sstable / SSTableDeletingTask . java <nl> + + + b / src / java / org / apache / cassandra / io / sstable / SSTableDeletingTask . java <nl> @ @ - 67 , 7 + 67 , 8 @ @ public class SSTableDeletingTask implements Runnable <nl> <nl> public void run ( ) <nl> { <nl> - tracker . notifyDeleting ( referent ) ; <nl> + if ( tracker ! = null ) <nl> + tracker . notifyDeleting ( referent ) ; <nl> <nl> / / If we can ' t successfully delete the DATA component , set the task to be retried later : see above <nl> File datafile = new File ( desc . filenameFor ( Component . DATA ) ) ;

TEST DIFF:
diff - - git a / src / java / org / apache / cassandra / config / DatabaseDescriptor . java b / src / java / org / apache / cassandra / config / DatabaseDescriptor . java 
 index 02f3c17 . . 6d6745a 100644 
 - - - a / src / java / org / apache / cassandra / config / DatabaseDescriptor . java 
 + + + b / src / java / org / apache / cassandra / config / DatabaseDescriptor . java 
 @ @ - 992 , 7 + 992 , 6 @ @ public class DatabaseDescriptor 
 case PAXOS _ PREPARE : 
 case PAXOS _ PROPOSE : 
 case BATCHLOG _ MUTATION : 
 - case MATERIALIZED _ VIEW _ MUTATION : 
 return getWriteRpcTimeout ( ) ; 
 case COUNTER _ MUTATION : 
 return getCounterWriteRpcTimeout ( ) ; 
 diff - - git a / src / java / org / apache / cassandra / net / MessagingService . java b / src / java / org / apache / cassandra / net / MessagingService . java 
 index e10b4cb . . da475f7 100644 
 - - - a / src / java / org / apache / cassandra / net / MessagingService . java 
 + + + b / src / java / org / apache / cassandra / net / MessagingService . java 
 @ @ - 135 , 11 + 135 , 12 @ @ public final class MessagingService implements MessagingServiceMBean 
 PAXOS _ COMMIT , 
 @ Deprecated PAGED _ RANGE , 
 BATCHLOG _ MUTATION , 
 - MATERIALIZED _ VIEW _ MUTATION , 
 / / remember to add new verbs at the end , since we serialize by ordinal 
 UNUSED _ 1 , 
 UNUSED _ 2 , 
 UNUSED _ 3 , 
 + UNUSED _ 4 , 
 + UNUSED _ 5 , 
 ; 
 } 
 
 @ @ - 147 , 7 + 148 , 6 @ @ public final class MessagingService implements MessagingServiceMBean 
 { { 
 put ( Verb . MUTATION , Stage . MUTATION ) ; 
 put ( Verb . COUNTER _ MUTATION , Stage . COUNTER _ MUTATION ) ; 
 - put ( Verb . MATERIALIZED _ VIEW _ MUTATION , Stage . MATERIALIZED _ VIEW _ MUTATION ) ; 
 put ( Verb . BATCHLOG _ MUTATION , Stage . BATCHLOG _ MUTATION ) ; 
 put ( Verb . READ _ REPAIR , Stage . MUTATION ) ; 
 put ( Verb . TRUNCATE , Stage . MUTATION ) ; 
 @ @ - 208 , 7 + 208 , 6 @ @ public final class MessagingService implements MessagingServiceMBean 
 
 put ( Verb . MUTATION , Mutation . serializer ) ; 
 put ( Verb . BATCHLOG _ MUTATION , Mutation . serializer ) ; 
 - put ( Verb . MATERIALIZED _ VIEW _ MUTATION , Mutation . serializer ) ; 
 put ( Verb . READ _ REPAIR , Mutation . serializer ) ; 
 put ( Verb . READ , ReadCommand . serializer ) ; 
 / / put ( Verb . RANGE _ SLICE , ReadCommand . legacyRangeSliceCommandSerializer ) ; 
 @ @ - 236 , 7 + 235 , 6 @ @ public final class MessagingService implements MessagingServiceMBean 
 { { 
 put ( Verb . MUTATION , WriteResponse . serializer ) ; 
 put ( Verb . BATCHLOG _ MUTATION , WriteResponse . serializer ) ; 
 - put ( Verb . MATERIALIZED _ VIEW _ MUTATION , WriteResponse . serializer ) ; 
 put ( Verb . READ _ REPAIR , WriteResponse . serializer ) ; 
 put ( Verb . COUNTER _ MUTATION , WriteResponse . serializer ) ; 
 put ( Verb . RANGE _ SLICE , ReadResponse . legacyRangeSliceReplySerializer ) ; 
 @ @ - 300 , 7 + 298 , 6 @ @ public final class MessagingService implements MessagingServiceMBean 
 public static final EnumSet < Verb > DROPPABLE _ VERBS = EnumSet . of ( Verb . _ TRACE , 
 Verb . MUTATION , 
 Verb . BATCHLOG _ MUTATION , / / FIXME : should this be droppable ? ? 
 - Verb . MATERIALIZED _ VIEW _ MUTATION , 
 Verb . COUNTER _ MUTATION , 
 Verb . READ _ REPAIR , 
 Verb . READ , 
 @ @ - 630 , 7 + 627 , 6 @ @ public final class MessagingService implements MessagingServiceMBean 
 { 
 assert message . verb = = Verb . MUTATION 
 | | message . verb = = Verb . BATCHLOG _ MUTATION 
 - | | message . verb = = Verb . MATERIALIZED _ VIEW _ MUTATION 
 | | message . verb = = Verb . COUNTER _ MUTATION ; 
 int messageId = nextId ( ) ; 
 
 diff - - git a / src / java / org / apache / cassandra / service / StorageService . java b / src / java / org / apache / cassandra / service / StorageService . java 
 index f263a82 . . a8ac8bf 100644 
 - - - a / src / java / org / apache / cassandra / service / StorageService . java 
 + + + b / src / java / org / apache / cassandra / service / StorageService . java 
 @ @ - 294 , 7 + 294 , 6 @ @ public class StorageService extends NotificationBroadcasterSupport implements IE 
 / * register the verb handlers * / 
 MessagingService . instance ( ) . registerVerbHandlers ( MessagingService . Verb . MUTATION , new MutationVerbHandler ( ) ) ; 
 MessagingService . instance ( ) . registerVerbHandlers ( MessagingService . Verb . BATCHLOG _ MUTATION , new MutationVerbHandler ( ) ) ; 
 - MessagingService . instance ( ) . registerVerbHandlers ( MessagingService . Verb . MATERIALIZED _ VIEW _ MUTATION , new MutationVerbHandler ( ) ) ; 
 MessagingService . instance ( ) . registerVerbHandlers ( MessagingService . Verb . READ _ REPAIR , new ReadRepairVerbHandler ( ) ) ; 
 MessagingService . instance ( ) . registerVerbHandlers ( MessagingService . Verb . READ , new ReadCommandVerbHandler ( ) ) ; 
 MessagingService . instance ( ) . registerVerbHandlers ( MessagingService . Verb . RANGE _ SLICE , new ReadCommandVerbHandler ( ) ) ;

NEAREST DIFF:
diff - - git a / src / java / org / apache / cassandra / io / sstable / SSTableDeletingTask . java b / src / java / org / apache / cassandra / io / sstable / SSTableDeletingTask . java 
 index 8bdc733 . . d02efd8 100644 
 - - - a / src / java / org / apache / cassandra / io / sstable / SSTableDeletingTask . java 
 + + + b / src / java / org / apache / cassandra / io / sstable / SSTableDeletingTask . java 
 @ @ - 67 , 7 + 67 , 8 @ @ public class SSTableDeletingTask implements Runnable 
 
 public void run ( ) 
 { 
 - tracker . notifyDeleting ( referent ) ; 
 + if ( tracker ! = null ) 
 + tracker . notifyDeleting ( referent ) ; 
 
 / / If we can ' t successfully delete the DATA component , set the task to be retried later : see above 
 File datafile = new File ( desc . filenameFor ( Component . DATA ) ) ;
