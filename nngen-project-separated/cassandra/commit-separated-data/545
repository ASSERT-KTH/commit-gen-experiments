BLEU SCORE: 0.09688464563433238

TEST MSG: nodetool stopdaemon errors out
GENERATED MSG: Include fatal errors in trace events

TEST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index ed0fc14 . . 7a7f21c 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 1 , 4 + 1 , 5 @ @ <nl> 3 . 12 <nl> + * nodetool stopdaemon errors out ( CASSANDRA - 13030 ) <nl> * Log message size in trace message in OutboundTcpConnection ( CASSANDRA - 13028 ) <nl> * Add timeUnit Days for cassandra - stress ( CASSANDRA - 13029 ) <nl> * Add mutation size and batch metrics ( CASSANDRA - 12649 ) <nl> diff - - git a / src / java / org / apache / cassandra / tools / nodetool / StopDaemon . java b / src / java / org / apache / cassandra / tools / nodetool / StopDaemon . java <nl> index 79a499a . . 24c8920 100644 <nl> - - - a / src / java / org / apache / cassandra / tools / nodetool / StopDaemon . java <nl> + + + b / src / java / org / apache / cassandra / tools / nodetool / StopDaemon . java <nl> @ @ - 19 , 6 + 19 , 7 @ @ package org . apache . cassandra . tools . nodetool ; <nl> <nl> import io . airlift . command . Command ; <nl> <nl> + import org . apache . cassandra . config . DatabaseDescriptor ; <nl> import org . apache . cassandra . tools . NodeProbe ; <nl> import org . apache . cassandra . tools . NodeTool . NodeToolCmd ; <nl> import org . apache . cassandra . utils . JVMStabilityInspector ; <nl> @ @ - 31 , 6 + 32 , 7 @ @ public class StopDaemon extends NodeToolCmd <nl> { <nl> try <nl> { <nl> + DatabaseDescriptor . toolInitialization ( ) ; <nl> probe . stopCassandraDaemon ( ) ; <nl> } catch ( Exception e ) <nl> {
NEAREST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index 18c267a . . 92e61a8 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 32 , 6 + 32 , 11 @ @ <nl> out TreeRequests ( CASSANDRA - 4932 ) <nl> * Add an official way to disable compactions ( CASSANDRA - 5074 ) <nl> <nl> + <nl> + 1 . 2 . 5 <nl> + * Include fatal errors in trace events ( CASSANDRA - 5447 ) <nl> + <nl> + <nl> 1 . 2 . 4 <nl> * Ensure that PerRowSecondaryIndex updates see the most recent values <nl> ( CASSANDRA - 5397 ) <nl> diff - - git a / src / java / org / apache / cassandra / service / CassandraDaemon . java b / src / java / org / apache / cassandra / service / CassandraDaemon . java <nl> index 0d329e7 . . 1d6cb0c 100644 <nl> - - - a / src / java / org / apache / cassandra / service / CassandraDaemon . java <nl> + + + b / src / java / org / apache / cassandra / service / CassandraDaemon . java <nl> @ @ - 44 , 6 + 44 , 7 @ @ import org . apache . cassandra . db . compaction . LegacyLeveledManifest ; <nl> import org . apache . cassandra . io . FSError ; <nl> import org . apache . cassandra . io . util . FileUtils ; <nl> import org . apache . cassandra . thrift . ThriftServer ; <nl> + import org . apache . cassandra . tracing . Tracing ; <nl> import org . apache . cassandra . utils . CLibrary ; <nl> import org . apache . cassandra . utils . Mx4jTool ; <nl> import org . apache . cassandra . utils . Pair ; <nl> @ @ - 176 , 6 + 177 , 7 @ @ public class CassandraDaemon <nl> { <nl> exceptions . incrementAndGet ( ) ; <nl> logger . error ( " Exception in thread " + t , e ) ; <nl> + Tracing . trace ( " Exception in thread " + t , e ) ; <nl> for ( Throwable e2 = e ; e2 ! = null ; e2 = e2 . getCause ( ) ) <nl> { <nl> / / some code , like FileChannel . map , will wrap an OutOfMemoryError in another exception

TEST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index ed0fc14 . . 7a7f21c 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 1 , 4 + 1 , 5 @ @ 
 3 . 12 
 + * nodetool stopdaemon errors out ( CASSANDRA - 13030 ) 
 * Log message size in trace message in OutboundTcpConnection ( CASSANDRA - 13028 ) 
 * Add timeUnit Days for cassandra - stress ( CASSANDRA - 13029 ) 
 * Add mutation size and batch metrics ( CASSANDRA - 12649 ) 
 diff - - git a / src / java / org / apache / cassandra / tools / nodetool / StopDaemon . java b / src / java / org / apache / cassandra / tools / nodetool / StopDaemon . java 
 index 79a499a . . 24c8920 100644 
 - - - a / src / java / org / apache / cassandra / tools / nodetool / StopDaemon . java 
 + + + b / src / java / org / apache / cassandra / tools / nodetool / StopDaemon . java 
 @ @ - 19 , 6 + 19 , 7 @ @ package org . apache . cassandra . tools . nodetool ; 
 
 import io . airlift . command . Command ; 
 
 + import org . apache . cassandra . config . DatabaseDescriptor ; 
 import org . apache . cassandra . tools . NodeProbe ; 
 import org . apache . cassandra . tools . NodeTool . NodeToolCmd ; 
 import org . apache . cassandra . utils . JVMStabilityInspector ; 
 @ @ - 31 , 6 + 32 , 7 @ @ public class StopDaemon extends NodeToolCmd 
 { 
 try 
 { 
 + DatabaseDescriptor . toolInitialization ( ) ; 
 probe . stopCassandraDaemon ( ) ; 
 } catch ( Exception e ) 
 {

NEAREST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index 18c267a . . 92e61a8 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 32 , 6 + 32 , 11 @ @ 
 out TreeRequests ( CASSANDRA - 4932 ) 
 * Add an official way to disable compactions ( CASSANDRA - 5074 ) 
 
 + 
 + 1 . 2 . 5 
 + * Include fatal errors in trace events ( CASSANDRA - 5447 ) 
 + 
 + 
 1 . 2 . 4 
 * Ensure that PerRowSecondaryIndex updates see the most recent values 
 ( CASSANDRA - 5397 ) 
 diff - - git a / src / java / org / apache / cassandra / service / CassandraDaemon . java b / src / java / org / apache / cassandra / service / CassandraDaemon . java 
 index 0d329e7 . . 1d6cb0c 100644 
 - - - a / src / java / org / apache / cassandra / service / CassandraDaemon . java 
 + + + b / src / java / org / apache / cassandra / service / CassandraDaemon . java 
 @ @ - 44 , 6 + 44 , 7 @ @ import org . apache . cassandra . db . compaction . LegacyLeveledManifest ; 
 import org . apache . cassandra . io . FSError ; 
 import org . apache . cassandra . io . util . FileUtils ; 
 import org . apache . cassandra . thrift . ThriftServer ; 
 + import org . apache . cassandra . tracing . Tracing ; 
 import org . apache . cassandra . utils . CLibrary ; 
 import org . apache . cassandra . utils . Mx4jTool ; 
 import org . apache . cassandra . utils . Pair ; 
 @ @ - 176 , 6 + 177 , 7 @ @ public class CassandraDaemon 
 { 
 exceptions . incrementAndGet ( ) ; 
 logger . error ( " Exception in thread " + t , e ) ; 
 + Tracing . trace ( " Exception in thread " + t , e ) ; 
 for ( Throwable e2 = e ; e2 ! = null ; e2 = e2 . getCause ( ) ) 
 { 
 / / some code , like FileChannel . map , will wrap an OutOfMemoryError in another exception
