BLEU SCORE: 0.06766764161830635

TEST MSG: fix typo
GENERATED MSG: use long math for long values

TEST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / service / StorageService . java b / src / java / org / apache / cassandra / service / StorageService . java <nl> index 9a6e67a . . 8e7c073 100644 <nl> - - - a / src / java / org / apache / cassandra / service / StorageService . java <nl> + + + b / src / java / org / apache / cassandra / service / StorageService . java <nl> @ @ - 739 , 7 + 739 , 7 @ @ public class StorageService extends NotificationBroadcasterSupport implements IE <nl> if ( existing ! = null ) <nl> { <nl> if ( Gossiper . instance . getEndpointStateForEndpoint ( existing ) . getUpdateTimestamp ( ) > ( System . currentTimeMillis ( ) - delay ) ) <nl> - throw new UnsupportedOperationException ( " Cannnot replace a live node . . . " ) ; <nl> + throw new UnsupportedOperationException ( " Cannot replace a live node . . . " ) ; <nl> current . add ( existing ) ; <nl> } <nl> else
NEAREST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / service / paxos / PaxosState . java b / src / java / org / apache / cassandra / service / paxos / PaxosState . java <nl> index e7685b2 . . 597036a 100644 <nl> - - - a / src / java / org / apache / cassandra / service / paxos / PaxosState . java <nl> + + + b / src / java / org / apache / cassandra / service / paxos / PaxosState . java <nl> @ @ - 23 , 7 + 23 , 7 @ @ public class PaxosState <nl> } <nl> private static Object lockFor ( ByteBuffer key ) <nl> { <nl> - return locks [ key . hashCode ( ) % locks . length ] ; <nl> + return locks [ ( 0x7FFFFFFF & key . hashCode ( ) ) % locks . length ] ; <nl> } <nl> <nl> private final Commit inProgressCommit ;

TEST DIFF:
diff - - git a / src / java / org / apache / cassandra / service / StorageService . java b / src / java / org / apache / cassandra / service / StorageService . java 
 index 9a6e67a . . 8e7c073 100644 
 - - - a / src / java / org / apache / cassandra / service / StorageService . java 
 + + + b / src / java / org / apache / cassandra / service / StorageService . java 
 @ @ - 739 , 7 + 739 , 7 @ @ public class StorageService extends NotificationBroadcasterSupport implements IE 
 if ( existing ! = null ) 
 { 
 if ( Gossiper . instance . getEndpointStateForEndpoint ( existing ) . getUpdateTimestamp ( ) > ( System . currentTimeMillis ( ) - delay ) ) 
 - throw new UnsupportedOperationException ( " Cannnot replace a live node . . . " ) ; 
 + throw new UnsupportedOperationException ( " Cannot replace a live node . . . " ) ; 
 current . add ( existing ) ; 
 } 
 else

NEAREST DIFF:
diff - - git a / src / java / org / apache / cassandra / service / paxos / PaxosState . java b / src / java / org / apache / cassandra / service / paxos / PaxosState . java 
 index e7685b2 . . 597036a 100644 
 - - - a / src / java / org / apache / cassandra / service / paxos / PaxosState . java 
 + + + b / src / java / org / apache / cassandra / service / paxos / PaxosState . java 
 @ @ - 23 , 7 + 23 , 7 @ @ public class PaxosState 
 } 
 private static Object lockFor ( ByteBuffer key ) 
 { 
 - return locks [ key . hashCode ( ) % locks . length ] ; 
 + return locks [ ( 0x7FFFFFFF & key . hashCode ( ) ) % locks . length ] ; 
 } 
 
 private final Commit inProgressCommit ;
