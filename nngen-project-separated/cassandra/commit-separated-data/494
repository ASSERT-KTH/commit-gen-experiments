BLEU SCORE: 1.0

TEST MSG: Fix primary index calculation for SASI
GENERATED MSG: Fix primary index calculation for SASI

TEST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index 7d5057a . . d81d472 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 2 , 6 + 2 , 7 @ @ <nl> * Move to FastThreadLocalThread and FastThreadLocal ( CASSANDRA - 13034 ) <nl> * nodetool stopdaemon errors out ( CASSANDRA - 13030 ) <nl> * Tables in system _ distributed should not use gcgs of 0 ( CASSANDRA - 12954 ) <nl> + * Fix primary index calculation for SASI ( CASSANDRA - 12910 ) <nl> Merged from 3 . 0 : <nl> * Fix handling of partition with partition - level deletion plus <nl> live rows in sstabledump ( CASSANDRA - 13177 ) <nl> diff - - git a / src / java / org / apache / cassandra / index / sasi / plan / QueryController . java b / src / java / org / apache / cassandra / index / sasi / plan / QueryController . java <nl> index fa1181f . . 155cd4f 100644 <nl> - - - a / src / java / org / apache / cassandra / index / sasi / plan / QueryController . java <nl> + + + b / src / java / org / apache / cassandra / index / sasi / plan / QueryController . java <nl> @ @ - 236 , 7 + 236 , 7 @ @ public class QueryController <nl> continue ; <nl> <nl> Set < SSTableIndex > indexes = applyScope ( view . match ( e ) ) ; <nl> - if ( primaryIndexes . size ( ) > indexes . size ( ) ) <nl> + if ( expression = = null | | primaryIndexes . size ( ) > indexes . size ( ) ) <nl> { <nl> primaryIndexes = indexes ; <nl> expression = e ;
NEAREST DIFF (one line): ELIMINATEDSENTENCE

TEST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index 7d5057a . . d81d472 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 2 , 6 + 2 , 7 @ @ 
 * Move to FastThreadLocalThread and FastThreadLocal ( CASSANDRA - 13034 ) 
 * nodetool stopdaemon errors out ( CASSANDRA - 13030 ) 
 * Tables in system _ distributed should not use gcgs of 0 ( CASSANDRA - 12954 ) 
 + * Fix primary index calculation for SASI ( CASSANDRA - 12910 ) 
 Merged from 3 . 0 : 
 * Fix handling of partition with partition - level deletion plus 
 live rows in sstabledump ( CASSANDRA - 13177 ) 
 diff - - git a / src / java / org / apache / cassandra / index / sasi / plan / QueryController . java b / src / java / org / apache / cassandra / index / sasi / plan / QueryController . java 
 index fa1181f . . 155cd4f 100644 
 - - - a / src / java / org / apache / cassandra / index / sasi / plan / QueryController . java 
 + + + b / src / java / org / apache / cassandra / index / sasi / plan / QueryController . java 
 @ @ - 236 , 7 + 236 , 7 @ @ public class QueryController 
 continue ; 
 
 Set < SSTableIndex > indexes = applyScope ( view . match ( e ) ) ; 
 - if ( primaryIndexes . size ( ) > indexes . size ( ) ) 
 + if ( expression = = null | | primaryIndexes . size ( ) > indexes . size ( ) ) 
 { 
 primaryIndexes = indexes ; 
 expression = e ;

NEAREST DIFF:
ELIMINATEDSENTENCE
