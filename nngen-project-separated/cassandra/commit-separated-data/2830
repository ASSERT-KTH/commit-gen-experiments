BLEU SCORE: 0.014044464769840425

TEST MSG: Mark EPS as dead before sending echo command .
GENERATED MSG: close temporary logWriters to avoid leaking FD . patch by Brandon Williams ; reviewed by jbellis for CASSANDRA - 313

TEST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / gms / Gossiper . java b / src / java / org / apache / cassandra / gms / Gossiper . java <nl> index 7517768 . . f0b39d1 100644 <nl> - - - a / src / java / org / apache / cassandra / gms / Gossiper . java <nl> + + + b / src / java / org / apache / cassandra / gms / Gossiper . java <nl> @ @ - 817 , 6 + 817 , 8 @ @ public class Gossiper implements IFailureDetectionEventListener , GossiperMBean <nl> return ; <nl> } <nl> <nl> + localState . markDead ( ) ; <nl> + <nl> MessageOut < EchoMessage > echoMessage = new MessageOut < EchoMessage > ( MessagingService . Verb . ECHO , new EchoMessage ( ) , EchoMessage . serializer ) ; <nl> logger . trace ( " Sending a EchoMessage to { } " , addr ) ; <nl> IAsyncCallback echoHandler = new IAsyncCallback ( )
NEAREST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / db / CommitLog . java b / src / java / org / apache / cassandra / db / CommitLog . java <nl> index cc57d9b . . 1128baa 100644 <nl> - - - a / src / java / org / apache / cassandra / db / CommitLog . java <nl> + + + b / src / java / org / apache / cassandra / db / CommitLog . java <nl> @ @ - 215 , 6 + 215 , 7 @ @ public class CommitLog <nl> { <nl> IFileWriter logWriter = CommitLog . createWriter ( commitLogFileName ) ; <nl> writeCommitLogHeader ( logWriter , bytes ) ; <nl> + logWriter . close ( ) ; <nl> } <nl> <nl> / *

TEST DIFF:
diff - - git a / src / java / org / apache / cassandra / gms / Gossiper . java b / src / java / org / apache / cassandra / gms / Gossiper . java 
 index 7517768 . . f0b39d1 100644 
 - - - a / src / java / org / apache / cassandra / gms / Gossiper . java 
 + + + b / src / java / org / apache / cassandra / gms / Gossiper . java 
 @ @ - 817 , 6 + 817 , 8 @ @ public class Gossiper implements IFailureDetectionEventListener , GossiperMBean 
 return ; 
 } 
 
 + localState . markDead ( ) ; 
 + 
 MessageOut < EchoMessage > echoMessage = new MessageOut < EchoMessage > ( MessagingService . Verb . ECHO , new EchoMessage ( ) , EchoMessage . serializer ) ; 
 logger . trace ( " Sending a EchoMessage to { } " , addr ) ; 
 IAsyncCallback echoHandler = new IAsyncCallback ( )

NEAREST DIFF:
diff - - git a / src / java / org / apache / cassandra / db / CommitLog . java b / src / java / org / apache / cassandra / db / CommitLog . java 
 index cc57d9b . . 1128baa 100644 
 - - - a / src / java / org / apache / cassandra / db / CommitLog . java 
 + + + b / src / java / org / apache / cassandra / db / CommitLog . java 
 @ @ - 215 , 6 + 215 , 7 @ @ public class CommitLog 
 { 
 IFileWriter logWriter = CommitLog . createWriter ( commitLogFileName ) ; 
 writeCommitLogHeader ( logWriter , bytes ) ; 
 + logWriter . close ( ) ; 
 } 
 
 / *
