BLEU SCORE: 0.024455939372403628

TEST MSG: ninja : Fix bad CASSANDRA - 13698 merge from 3 . 0 to 3 . 11
GENERATED MSG: Fix ReadCommandTest

TEST DIFF (one line): diff - - git a / test / unit / org / apache / cassandra / db / compaction / CompactionsTest . java b / test / unit / org / apache / cassandra / db / compaction / CompactionsTest . java <nl> index ad138bf . . c1bddd1 100644 <nl> - - - a / test / unit / org / apache / cassandra / db / compaction / CompactionsTest . java <nl> + + + b / test / unit / org / apache / cassandra / db / compaction / CompactionsTest . java <nl> @ @ - 336 , 8 + 336 , 8 @ @ public class CompactionsTest <nl> { <nl> RowUpdateBuilder deletedRowUpdateBuilder = new RowUpdateBuilder ( table , 1 , Util . dk ( Integer . toString ( dk ) ) ) ; <nl> deletedRowUpdateBuilder . clustering ( " 01 " ) . add ( " val " , " a " ) ; / / Range tombstone covers this ( timestamp 2 > 1 ) <nl> - Clustering startClustering = new Clustering ( ByteBufferUtil . bytes ( " 0 " ) ) ; <nl> - Clustering endClustering = new Clustering ( ByteBufferUtil . bytes ( " b " ) ) ; <nl> + Clustering startClustering = Clustering . make ( ByteBufferUtil . bytes ( " 0 " ) ) ; <nl> + Clustering endClustering = Clustering . make ( ByteBufferUtil . bytes ( " b " ) ) ; <nl> deletedRowUpdateBuilder . addRangeTombstone ( new RangeTombstone ( Slice . make ( startClustering , endClustering ) , new DeletionTime ( 2 , ( int ) ( System . currentTimeMillis ( ) / 1000 ) ) ) ) ; <nl> deletedRowUpdateBuilder . build ( ) . applyUnsafe ( ) ; <nl> <nl> @ @ - 389 , 8 + 389 , 8 @ @ public class CompactionsTest <nl> { <nl> k . add ( p . partitionKey ( ) ) ; <nl> final SinglePartitionReadCommand command = SinglePartitionReadCommand . create ( cfs . metadata , FBUtilities . nowInSeconds ( ) , ColumnFilter . all ( cfs . metadata ) , RowFilter . NONE , DataLimits . NONE , p . partitionKey ( ) , new ClusteringIndexSliceFilter ( Slices . ALL , false ) ) ; <nl> - try ( ReadOrderGroup orderGroup = command . startOrderGroup ( ) ; <nl> - PartitionIterator iterator = command . executeInternal ( orderGroup ) ) <nl> + try ( ReadExecutionController executionController = command . executionController ( ) ; <nl> + PartitionIterator iterator = command . executeInternal ( executionController ) ) <nl> { <nl> try ( RowIterator rowIterator = iterator . next ( ) ) <nl> {
NEAREST DIFF (one line): ELIMINATEDSENTENCE

TEST DIFF:
diff - - git a / test / unit / org / apache / cassandra / db / compaction / CompactionsTest . java b / test / unit / org / apache / cassandra / db / compaction / CompactionsTest . java 
 index ad138bf . . c1bddd1 100644 
 - - - a / test / unit / org / apache / cassandra / db / compaction / CompactionsTest . java 
 + + + b / test / unit / org / apache / cassandra / db / compaction / CompactionsTest . java 
 @ @ - 336 , 8 + 336 , 8 @ @ public class CompactionsTest 
 { 
 RowUpdateBuilder deletedRowUpdateBuilder = new RowUpdateBuilder ( table , 1 , Util . dk ( Integer . toString ( dk ) ) ) ; 
 deletedRowUpdateBuilder . clustering ( " 01 " ) . add ( " val " , " a " ) ; / / Range tombstone covers this ( timestamp 2 > 1 ) 
 - Clustering startClustering = new Clustering ( ByteBufferUtil . bytes ( " 0 " ) ) ; 
 - Clustering endClustering = new Clustering ( ByteBufferUtil . bytes ( " b " ) ) ; 
 + Clustering startClustering = Clustering . make ( ByteBufferUtil . bytes ( " 0 " ) ) ; 
 + Clustering endClustering = Clustering . make ( ByteBufferUtil . bytes ( " b " ) ) ; 
 deletedRowUpdateBuilder . addRangeTombstone ( new RangeTombstone ( Slice . make ( startClustering , endClustering ) , new DeletionTime ( 2 , ( int ) ( System . currentTimeMillis ( ) / 1000 ) ) ) ) ; 
 deletedRowUpdateBuilder . build ( ) . applyUnsafe ( ) ; 
 
 @ @ - 389 , 8 + 389 , 8 @ @ public class CompactionsTest 
 { 
 k . add ( p . partitionKey ( ) ) ; 
 final SinglePartitionReadCommand command = SinglePartitionReadCommand . create ( cfs . metadata , FBUtilities . nowInSeconds ( ) , ColumnFilter . all ( cfs . metadata ) , RowFilter . NONE , DataLimits . NONE , p . partitionKey ( ) , new ClusteringIndexSliceFilter ( Slices . ALL , false ) ) ; 
 - try ( ReadOrderGroup orderGroup = command . startOrderGroup ( ) ; 
 - PartitionIterator iterator = command . executeInternal ( orderGroup ) ) 
 + try ( ReadExecutionController executionController = command . executionController ( ) ; 
 + PartitionIterator iterator = command . executeInternal ( executionController ) ) 
 { 
 try ( RowIterator rowIterator = iterator . next ( ) ) 
 {

NEAREST DIFF:
ELIMINATEDSENTENCE
