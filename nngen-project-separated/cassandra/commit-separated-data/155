BLEU SCORE: 0.04266709328925954

TEST MSG: Simplify TableParams defaults
GENERATED MSG: Swap local and global default read repair chances

TEST DIFF (one line): diff - - git a / src / java / org / apache / cassandra / schema / TableParams . java b / src / java / org / apache / cassandra / schema / TableParams . java <nl> index 1489c81 . . b7f6806 100644 <nl> - - - a / src / java / org / apache / cassandra / schema / TableParams . java <nl> + + + b / src / java / org / apache / cassandra / schema / TableParams . java <nl> @ @ - 34 , 6 + 34 , 8 @ @ import static java . lang . String . format ; <nl> <nl> public final class TableParams <nl> { <nl> + public static final TableParams DEFAULT = TableParams . builder ( ) . build ( ) ; <nl> + <nl> public enum Option <nl> { <nl> BLOOM _ FILTER _ FP _ CHANCE , <nl> @ @ - 60 , 19 + 62 , 6 @ @ public final class TableParams <nl> } <nl> } <nl> <nl> - public static final String DEFAULT _ COMMENT = " " ; <nl> - public static final double DEFAULT _ READ _ REPAIR _ CHANCE = 0 . 0 ; <nl> - public static final double DEFAULT _ DCLOCAL _ READ _ REPAIR _ CHANCE = 0 . 1 ; <nl> - public static final int DEFAULT _ GC _ GRACE _ SECONDS = 864000 ; / / 10 days <nl> - public static final int DEFAULT _ DEFAULT _ TIME _ TO _ LIVE = 0 ; <nl> - public static final int DEFAULT _ MEMTABLE _ FLUSH _ PERIOD _ IN _ MS = 0 ; <nl> - public static final int DEFAULT _ MIN _ INDEX _ INTERVAL = 128 ; <nl> - public static final int DEFAULT _ MAX _ INDEX _ INTERVAL = 2048 ; <nl> - public static final double DEFAULT _ CRC _ CHECK _ CHANCE = 1 . 0 ; <nl> - public static final SpeculativeRetryPolicy DEFAULT _ SPECULATIVE _ RETRY = new PercentileSpeculativeRetryPolicy ( 99 . 0 ) ; <nl> - <nl> - public static final TableParams DEFAULT = TableParams . builder ( ) . build ( ) ; <nl> - <nl> public final String comment ; <nl> public final double readRepairChance ; <nl> public final double dcLocalReadRepairChance ; <nl> @ @ - 282 , 17 + 271 , 17 @ @ public final class TableParams <nl> <nl> public static final class Builder <nl> { <nl> - private String comment = DEFAULT _ COMMENT ; <nl> - private double readRepairChance = DEFAULT _ READ _ REPAIR _ CHANCE ; <nl> - private double dcLocalReadRepairChance = DEFAULT _ DCLOCAL _ READ _ REPAIR _ CHANCE ; <nl> + private String comment = " " ; <nl> + private double readRepairChance = 0 . 0 ; <nl> + private double dcLocalReadRepairChance = 0 . 1 ; <nl> private Double bloomFilterFpChance ; <nl> - public Double crcCheckChance = DEFAULT _ CRC _ CHECK _ CHANCE ; <nl> - private int gcGraceSeconds = DEFAULT _ GC _ GRACE _ SECONDS ; <nl> - private int defaultTimeToLive = DEFAULT _ DEFAULT _ TIME _ TO _ LIVE ; <nl> - private int memtableFlushPeriodInMs = DEFAULT _ MEMTABLE _ FLUSH _ PERIOD _ IN _ MS ; <nl> - private int minIndexInterval = DEFAULT _ MIN _ INDEX _ INTERVAL ; <nl> - private int maxIndexInterval = DEFAULT _ MAX _ INDEX _ INTERVAL ; <nl> - private SpeculativeRetryPolicy speculativeRetry = DEFAULT _ SPECULATIVE _ RETRY ; <nl> + public Double crcCheckChance = 1 . 0 ; <nl> + private int gcGraceSeconds = 864000 ; / / 10 days <nl> + private int defaultTimeToLive = 0 ; <nl> + private int memtableFlushPeriodInMs = 0 ; <nl> + private int minIndexInterval = 128 ; <nl> + private int maxIndexInterval = 2048 ; <nl> + private SpeculativeRetryPolicy speculativeRetry = PercentileSpeculativeRetryPolicy . NINETY _ NINE _ P ; <nl> private CachingParams caching = CachingParams . DEFAULT ; <nl> private CompactionParams compaction = CompactionParams . DEFAULT ; <nl> private CompressionParams compression = CompressionParams . DEFAULT ; <nl> diff - - git a / src / java / org / apache / cassandra / service / reads / PercentileSpeculativeRetryPolicy . java b / src / java / org / apache / cassandra / service / reads / PercentileSpeculativeRetryPolicy . java <nl> index b7ccd4c . . 9bf5d95 100644 <nl> - - - a / src / java / org / apache / cassandra / service / reads / PercentileSpeculativeRetryPolicy . java <nl> + + + b / src / java / org / apache / cassandra / service / reads / PercentileSpeculativeRetryPolicy . java <nl> @ @ - 29 , 6 + 29 , 8 @ @ import org . apache . cassandra . schema . TableParams ; <nl> <nl> public class PercentileSpeculativeRetryPolicy implements SpeculativeRetryPolicy <nl> { <nl> + public static final PercentileSpeculativeRetryPolicy NINETY _ NINE _ P = new PercentileSpeculativeRetryPolicy ( 99 . 0 ) ; <nl> + <nl> private static final Pattern PATTERN = Pattern . compile ( " ^ ( ? < val > [ 0 - 9 . ] + ) p ( ercentile ) ? $ " , Pattern . CASE _ INSENSITIVE ) ; <nl> private static final DecimalFormat FORMATTER = new DecimalFormat ( " # . # # # # " ) ; <nl> <nl> diff - - git a / test / unit / org / apache / cassandra / hints / HintTest . java b / test / unit / org / apache / cassandra / hints / HintTest . java <nl> index e8960f5 . . aac975b 100644 <nl> - - - a / test / unit / org / apache / cassandra / hints / HintTest . java <nl> + + + b / test / unit / org / apache / cassandra / hints / HintTest . java <nl> @ @ - 87 , 7 + 87 , 7 @ @ public class HintTest <nl> tokenMeta . updateNormalTokens ( BootStrapper . getRandomTokens ( tokenMeta , 1 ) , local ) ; <nl> <nl> for ( TableMetadata table : Schema . instance . getTablesAndViews ( KEYSPACE ) ) <nl> - MigrationManager . announceTableUpdate ( table . unbuild ( ) . gcGraceSeconds ( TableParams . DEFAULT _ GC _ GRACE _ SECONDS ) . build ( ) , true ) ; <nl> + MigrationManager . announceTableUpdate ( table . unbuild ( ) . gcGraceSeconds ( 864000 ) . build ( ) , true ) ; <nl> } <nl> <nl> @ Test
NEAREST DIFF (one line): ELIMINATEDSENTENCE

TEST DIFF:
diff - - git a / src / java / org / apache / cassandra / schema / TableParams . java b / src / java / org / apache / cassandra / schema / TableParams . java 
 index 1489c81 . . b7f6806 100644 
 - - - a / src / java / org / apache / cassandra / schema / TableParams . java 
 + + + b / src / java / org / apache / cassandra / schema / TableParams . java 
 @ @ - 34 , 6 + 34 , 8 @ @ import static java . lang . String . format ; 
 
 public final class TableParams 
 { 
 + public static final TableParams DEFAULT = TableParams . builder ( ) . build ( ) ; 
 + 
 public enum Option 
 { 
 BLOOM _ FILTER _ FP _ CHANCE , 
 @ @ - 60 , 19 + 62 , 6 @ @ public final class TableParams 
 } 
 } 
 
 - public static final String DEFAULT _ COMMENT = " " ; 
 - public static final double DEFAULT _ READ _ REPAIR _ CHANCE = 0 . 0 ; 
 - public static final double DEFAULT _ DCLOCAL _ READ _ REPAIR _ CHANCE = 0 . 1 ; 
 - public static final int DEFAULT _ GC _ GRACE _ SECONDS = 864000 ; / / 10 days 
 - public static final int DEFAULT _ DEFAULT _ TIME _ TO _ LIVE = 0 ; 
 - public static final int DEFAULT _ MEMTABLE _ FLUSH _ PERIOD _ IN _ MS = 0 ; 
 - public static final int DEFAULT _ MIN _ INDEX _ INTERVAL = 128 ; 
 - public static final int DEFAULT _ MAX _ INDEX _ INTERVAL = 2048 ; 
 - public static final double DEFAULT _ CRC _ CHECK _ CHANCE = 1 . 0 ; 
 - public static final SpeculativeRetryPolicy DEFAULT _ SPECULATIVE _ RETRY = new PercentileSpeculativeRetryPolicy ( 99 . 0 ) ; 
 - 
 - public static final TableParams DEFAULT = TableParams . builder ( ) . build ( ) ; 
 - 
 public final String comment ; 
 public final double readRepairChance ; 
 public final double dcLocalReadRepairChance ; 
 @ @ - 282 , 17 + 271 , 17 @ @ public final class TableParams 
 
 public static final class Builder 
 { 
 - private String comment = DEFAULT _ COMMENT ; 
 - private double readRepairChance = DEFAULT _ READ _ REPAIR _ CHANCE ; 
 - private double dcLocalReadRepairChance = DEFAULT _ DCLOCAL _ READ _ REPAIR _ CHANCE ; 
 + private String comment = " " ; 
 + private double readRepairChance = 0 . 0 ; 
 + private double dcLocalReadRepairChance = 0 . 1 ; 
 private Double bloomFilterFpChance ; 
 - public Double crcCheckChance = DEFAULT _ CRC _ CHECK _ CHANCE ; 
 - private int gcGraceSeconds = DEFAULT _ GC _ GRACE _ SECONDS ; 
 - private int defaultTimeToLive = DEFAULT _ DEFAULT _ TIME _ TO _ LIVE ; 
 - private int memtableFlushPeriodInMs = DEFAULT _ MEMTABLE _ FLUSH _ PERIOD _ IN _ MS ; 
 - private int minIndexInterval = DEFAULT _ MIN _ INDEX _ INTERVAL ; 
 - private int maxIndexInterval = DEFAULT _ MAX _ INDEX _ INTERVAL ; 
 - private SpeculativeRetryPolicy speculativeRetry = DEFAULT _ SPECULATIVE _ RETRY ; 
 + public Double crcCheckChance = 1 . 0 ; 
 + private int gcGraceSeconds = 864000 ; / / 10 days 
 + private int defaultTimeToLive = 0 ; 
 + private int memtableFlushPeriodInMs = 0 ; 
 + private int minIndexInterval = 128 ; 
 + private int maxIndexInterval = 2048 ; 
 + private SpeculativeRetryPolicy speculativeRetry = PercentileSpeculativeRetryPolicy . NINETY _ NINE _ P ; 
 private CachingParams caching = CachingParams . DEFAULT ; 
 private CompactionParams compaction = CompactionParams . DEFAULT ; 
 private CompressionParams compression = CompressionParams . DEFAULT ; 
 diff - - git a / src / java / org / apache / cassandra / service / reads / PercentileSpeculativeRetryPolicy . java b / src / java / org / apache / cassandra / service / reads / PercentileSpeculativeRetryPolicy . java 
 index b7ccd4c . . 9bf5d95 100644 
 - - - a / src / java / org / apache / cassandra / service / reads / PercentileSpeculativeRetryPolicy . java 
 + + + b / src / java / org / apache / cassandra / service / reads / PercentileSpeculativeRetryPolicy . java 
 @ @ - 29 , 6 + 29 , 8 @ @ import org . apache . cassandra . schema . TableParams ; 
 
 public class PercentileSpeculativeRetryPolicy implements SpeculativeRetryPolicy 
 { 
 + public static final PercentileSpeculativeRetryPolicy NINETY _ NINE _ P = new PercentileSpeculativeRetryPolicy ( 99 . 0 ) ; 
 + 
 private static final Pattern PATTERN = Pattern . compile ( " ^ ( ? < val > [ 0 - 9 . ] + ) p ( ercentile ) ? $ " , Pattern . CASE _ INSENSITIVE ) ; 
 private static final DecimalFormat FORMATTER = new DecimalFormat ( " # . # # # # " ) ; 
 
 diff - - git a / test / unit / org / apache / cassandra / hints / HintTest . java b / test / unit / org / apache / cassandra / hints / HintTest . java 
 index e8960f5 . . aac975b 100644 
 - - - a / test / unit / org / apache / cassandra / hints / HintTest . java 
 + + + b / test / unit / org / apache / cassandra / hints / HintTest . java 
 @ @ - 87 , 7 + 87 , 7 @ @ public class HintTest 
 tokenMeta . updateNormalTokens ( BootStrapper . getRandomTokens ( tokenMeta , 1 ) , local ) ; 
 
 for ( TableMetadata table : Schema . instance . getTablesAndViews ( KEYSPACE ) ) 
 - MigrationManager . announceTableUpdate ( table . unbuild ( ) . gcGraceSeconds ( TableParams . DEFAULT _ GC _ GRACE _ SECONDS ) . build ( ) , true ) ; 
 + MigrationManager . announceTableUpdate ( table . unbuild ( ) . gcGraceSeconds ( 864000 ) . build ( ) , true ) ; 
 } 
 
 @ Test

NEAREST DIFF:
ELIMINATEDSENTENCE
