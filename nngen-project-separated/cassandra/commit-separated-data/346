BLEU SCORE: 0.02139089632303349

TEST MSG: Fix potential NPE when resume bootstrap fails
GENERATED MSG: Sleep for RING _ DELAY before replacing with same IP

TEST DIFF (one line): diff - - git a / CHANGES . txt b / CHANGES . txt <nl> index 6740c9e . . 122ba54 100644 <nl> - - - a / CHANGES . txt <nl> + + + b / CHANGES . txt <nl> @ @ - 1 , 4 + 1 , 5 @ @ <nl> 2 . 2 . 11 <nl> + * Fix potential NPE when resume bootstrap fails ( CASSANDRA - 13272 ) <nl> * Fix toJSONString for the UDT , tuple and collection types ( CASSANDRA - 13592 ) <nl> * Fix nested Tuples / UDTs validation ( CASSANDRA - 13646 ) <nl> * Remove unused max _ value _ size _ in _ mb config setting from yaml ( CASSANDRA - 13625 <nl> diff - - git a / src / java / org / apache / cassandra / service / StorageService . java b / src / java / org / apache / cassandra / service / StorageService . java <nl> index 9d2d7bb . . 1ecedac 100644 <nl> - - - a / src / java / org / apache / cassandra / service / StorageService . java <nl> + + + b / src / java / org / apache / cassandra / service / StorageService . java <nl> @ @ - 1254 , 8 + 1254 , 16 @ @ public class StorageService extends NotificationBroadcasterSupport implements IE <nl> @ Override <nl> public void onFailure ( Throwable e ) <nl> { <nl> - String message = " Error during bootstrap : " + e . getCause ( ) . getMessage ( ) ; <nl> - logger . error ( message , e . getCause ( ) ) ; <nl> + String message = " Error during bootstrap : " ; <nl> + if ( e instanceof ExecutionException & & e . getCause ( ) ! = null ) <nl> + { <nl> + message + = e . getCause ( ) . getMessage ( ) ; <nl> + } <nl> + else <nl> + { <nl> + message + = e . getMessage ( ) ; <nl> + } <nl> + logger . error ( message , e ) ; <nl> progressSupport . progress ( " bootstrap " , new ProgressEvent ( ProgressEventType . ERROR , 1 , 1 , message ) ) ; <nl> progressSupport . progress ( " bootstrap " , new ProgressEvent ( ProgressEventType . COMPLETE , 1 , 1 , " Resume bootstrap complete " ) ) ; <nl> }
NEAREST DIFF (one line): ELIMINATEDSENTENCE

TEST DIFF:
diff - - git a / CHANGES . txt b / CHANGES . txt 
 index 6740c9e . . 122ba54 100644 
 - - - a / CHANGES . txt 
 + + + b / CHANGES . txt 
 @ @ - 1 , 4 + 1 , 5 @ @ 
 2 . 2 . 11 
 + * Fix potential NPE when resume bootstrap fails ( CASSANDRA - 13272 ) 
 * Fix toJSONString for the UDT , tuple and collection types ( CASSANDRA - 13592 ) 
 * Fix nested Tuples / UDTs validation ( CASSANDRA - 13646 ) 
 * Remove unused max _ value _ size _ in _ mb config setting from yaml ( CASSANDRA - 13625 
 diff - - git a / src / java / org / apache / cassandra / service / StorageService . java b / src / java / org / apache / cassandra / service / StorageService . java 
 index 9d2d7bb . . 1ecedac 100644 
 - - - a / src / java / org / apache / cassandra / service / StorageService . java 
 + + + b / src / java / org / apache / cassandra / service / StorageService . java 
 @ @ - 1254 , 8 + 1254 , 16 @ @ public class StorageService extends NotificationBroadcasterSupport implements IE 
 @ Override 
 public void onFailure ( Throwable e ) 
 { 
 - String message = " Error during bootstrap : " + e . getCause ( ) . getMessage ( ) ; 
 - logger . error ( message , e . getCause ( ) ) ; 
 + String message = " Error during bootstrap : " ; 
 + if ( e instanceof ExecutionException & & e . getCause ( ) ! = null ) 
 + { 
 + message + = e . getCause ( ) . getMessage ( ) ; 
 + } 
 + else 
 + { 
 + message + = e . getMessage ( ) ; 
 + } 
 + logger . error ( message , e ) ; 
 progressSupport . progress ( " bootstrap " , new ProgressEvent ( ProgressEventType . ERROR , 1 , 1 , message ) ) ; 
 progressSupport . progress ( " bootstrap " , new ProgressEvent ( ProgressEventType . COMPLETE , 1 , 1 , " Resume bootstrap complete " ) ) ; 
 }

NEAREST DIFF:
ELIMINATEDSENTENCE
