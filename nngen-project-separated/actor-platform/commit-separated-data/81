BLEU SCORE: 0.1586360939345259

TEST MSG: fix ( server ) : isSharedHistory - > isPublic check in groups
GENERATED MSG: fix ( server : groups ) : put group id in invite json

TEST DIFF (one line): diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / group / http / GroupsHttpHandler . scala b / actor - server / actor - core / src / main / scala / im / actor / server / group / http / GroupsHttpHandler . scala < nl > index de8fab6 . . 13d56db 100644 < nl > - - - a / actor - server / actor - core / src / main / scala / im / actor / server / group / http / GroupsHttpHandler . scala < nl > + + + b / actor - server / actor - core / src / main / scala / im / actor / server / group / http / GroupsHttpHandler . scala < nl > @ @ - 62 , 10 + 62 , 9 @ @ private [ group ] final class GroupsHttpHandler ( ) ( implicit system : ActorSystem ) ext < nl > case ( groupId , optInviterId ) ⇒ < nl > for { < nl > groupInfo ← GroupExtension ( system ) . getApiStruct ( groupId , 0 ) < nl > - isHistoryShared ← GroupExtension ( system ) . isHistoryShared ( groupId ) < nl > + isPublic ← GroupExtension ( system ) . getApiFullStruct ( groupId , 0 ) map ( _ . shortName . isDefined ) < nl > groupTitle = groupInfo . title < nl > - groupAvatar = groupInfo . avatar < nl > - groupAvatarUrls ← avatarUrls ( groupAvatar ) < nl > + groupAvatarUrls ← avatarUrls ( groupInfo . avatar ) < nl > < nl > optInviterInfo ← optInviterId match { < nl > case Some ( inviterId ) ⇒ < nl > @ @ - 77 , 7 + 76 , 7 @ @ private [ group ] final class GroupsHttpHandler ( ) ( implicit system : ActorSystem ) ext < nl > } < nl > } yield Right ( < nl > json . GroupInviteInfo ( < nl > - group = json . GroupInfo ( groupId , groupTitle , isHistoryShared , groupAvatarUrls ) , < nl > + group = json . GroupInfo ( groupId , groupTitle , isPublic , groupAvatarUrls ) , < nl > inviter = optInviterInfo < nl > ) < nl > ) < nl > diff - - git a / actor - server / actor - http - api / src / main / scala / im / actor / server / api / http / json / models . scala b / actor - server / actor - http - api / src / main / scala / im / actor / server / api / http / json / models . scala < nl > index 1741581 . . b3ae4a1 100644 < nl > - - - a / actor - server / actor - http - api / src / main / scala / im / actor / server / api / http / json / models . scala < nl > + + + b / actor - server / actor - http - api / src / main / scala / im / actor / server / api / http / json / models . scala < nl > @ @ - 5 , 7 + 5 , 7 @ @ case class Text ( text : String ) extends Content < nl > case class Image ( imageUrl : String ) extends Content < nl > case class Document ( documentUrl : String ) extends Content < nl > < nl > - case class GroupInfo ( id : Int , title : String , isHistoryShared : Boolean , avatars : Option [ AvatarUrls ] ) < nl > + case class GroupInfo ( id : Int , title : String , isPublic : Boolean , avatars : Option [ AvatarUrls ] ) < nl > case class InviterInfo ( name : String , avatars : Option [ AvatarUrls ] ) < nl > case class GroupInviteInfo ( group : GroupInfo , inviter : Option [ InviterInfo ] ) < nl > case class AvatarUrls ( small : Option [ String ] , large : Option [ String ] , full : Option [ String ] )
NEAREST DIFF (one line): diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / group / http / GroupsHttpHandler . scala b / actor - server / actor - core / src / main / scala / im / actor / server / group / http / GroupsHttpHandler . scala < nl > index a34d0b4 . . c369b9f 100644 < nl > - - - a / actor - server / actor - core / src / main / scala / im / actor / server / group / http / GroupsHttpHandler . scala < nl > + + + b / actor - server / actor - core / src / main / scala / im / actor / server / group / http / GroupsHttpHandler . scala < nl > @ @ - 76 , 7 + 76 , 7 @ @ private [ group ] final class GroupsHttpHandler ( ) ( implicit system : ActorSystem ) ext < nl > } < nl > } yield Right ( < nl > json . GroupInviteInfo ( < nl > - group = json . GroupInfo ( groupTitle , groupAvatarUrls ) , < nl > + group = json . GroupInfo ( groupId , groupTitle , groupAvatarUrls ) , < nl > inviter = optInviterInfo < nl > ) < nl > ) < nl > diff - - git a / actor - server / actor - http - api / src / main / scala / im / actor / server / api / http / json / models . scala b / actor - server / actor - http - api / src / main / scala / im / actor / server / api / http / json / models . scala < nl > index fc84bec . . 5ea4b6d 100644 < nl > - - - a / actor - server / actor - http - api / src / main / scala / im / actor / server / api / http / json / models . scala < nl > + + + b / actor - server / actor - http - api / src / main / scala / im / actor / server / api / http / json / models . scala < nl > @ @ - 5 , 7 + 5 , 7 @ @ case class Text ( text : String ) extends Content < nl > case class Image ( imageUrl : String ) extends Content < nl > case class Document ( documentUrl : String ) extends Content < nl > < nl > - case class GroupInfo ( title : String , avatars : Option [ AvatarUrls ] ) < nl > + case class GroupInfo ( id : Int , title : String , avatars : Option [ AvatarUrls ] ) < nl > case class InviterInfo ( name : String , avatars : Option [ AvatarUrls ] ) < nl > case class GroupInviteInfo ( group : GroupInfo , inviter : Option [ InviterInfo ] ) < nl > case class AvatarUrls ( small : Option [ String ] , large : Option [ String ] , full : Option [ String ] )

TEST DIFF:
diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / group / http / GroupsHttpHandler . scala b / actor - server / actor - core / src / main / scala / im / actor / server / group / http / GroupsHttpHandler . scala 
 index de8fab6 . . 13d56db 100644 
 - - - a / actor - server / actor - core / src / main / scala / im / actor / server / group / http / GroupsHttpHandler . scala 
 + + + b / actor - server / actor - core / src / main / scala / im / actor / server / group / http / GroupsHttpHandler . scala 
 @ @ - 62 , 10 + 62 , 9 @ @ private [ group ] final class GroupsHttpHandler ( ) ( implicit system : ActorSystem ) ext 
 case ( groupId , optInviterId ) ⇒ 
 for { 
 groupInfo ← GroupExtension ( system ) . getApiStruct ( groupId , 0 ) 
 - isHistoryShared ← GroupExtension ( system ) . isHistoryShared ( groupId ) 
 + isPublic ← GroupExtension ( system ) . getApiFullStruct ( groupId , 0 ) map ( _ . shortName . isDefined ) 
 groupTitle = groupInfo . title 
 - groupAvatar = groupInfo . avatar 
 - groupAvatarUrls ← avatarUrls ( groupAvatar ) 
 + groupAvatarUrls ← avatarUrls ( groupInfo . avatar ) 
 
 optInviterInfo ← optInviterId match { 
 case Some ( inviterId ) ⇒ 
 @ @ - 77 , 7 + 76 , 7 @ @ private [ group ] final class GroupsHttpHandler ( ) ( implicit system : ActorSystem ) ext 
 } 
 } yield Right ( 
 json . GroupInviteInfo ( 
 - group = json . GroupInfo ( groupId , groupTitle , isHistoryShared , groupAvatarUrls ) , 
 + group = json . GroupInfo ( groupId , groupTitle , isPublic , groupAvatarUrls ) , 
 inviter = optInviterInfo 
 ) 
 ) 
 diff - - git a / actor - server / actor - http - api / src / main / scala / im / actor / server / api / http / json / models . scala b / actor - server / actor - http - api / src / main / scala / im / actor / server / api / http / json / models . scala 
 index 1741581 . . b3ae4a1 100644 
 - - - a / actor - server / actor - http - api / src / main / scala / im / actor / server / api / http / json / models . scala 
 + + + b / actor - server / actor - http - api / src / main / scala / im / actor / server / api / http / json / models . scala 
 @ @ - 5 , 7 + 5 , 7 @ @ case class Text ( text : String ) extends Content 
 case class Image ( imageUrl : String ) extends Content 
 case class Document ( documentUrl : String ) extends Content 
 
 - case class GroupInfo ( id : Int , title : String , isHistoryShared : Boolean , avatars : Option [ AvatarUrls ] ) 
 + case class GroupInfo ( id : Int , title : String , isPublic : Boolean , avatars : Option [ AvatarUrls ] ) 
 case class InviterInfo ( name : String , avatars : Option [ AvatarUrls ] ) 
 case class GroupInviteInfo ( group : GroupInfo , inviter : Option [ InviterInfo ] ) 
 case class AvatarUrls ( small : Option [ String ] , large : Option [ String ] , full : Option [ String ] )

NEAREST DIFF:
diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / group / http / GroupsHttpHandler . scala b / actor - server / actor - core / src / main / scala / im / actor / server / group / http / GroupsHttpHandler . scala 
 index a34d0b4 . . c369b9f 100644 
 - - - a / actor - server / actor - core / src / main / scala / im / actor / server / group / http / GroupsHttpHandler . scala 
 + + + b / actor - server / actor - core / src / main / scala / im / actor / server / group / http / GroupsHttpHandler . scala 
 @ @ - 76 , 7 + 76 , 7 @ @ private [ group ] final class GroupsHttpHandler ( ) ( implicit system : ActorSystem ) ext 
 } 
 } yield Right ( 
 json . GroupInviteInfo ( 
 - group = json . GroupInfo ( groupTitle , groupAvatarUrls ) , 
 + group = json . GroupInfo ( groupId , groupTitle , groupAvatarUrls ) , 
 inviter = optInviterInfo 
 ) 
 ) 
 diff - - git a / actor - server / actor - http - api / src / main / scala / im / actor / server / api / http / json / models . scala b / actor - server / actor - http - api / src / main / scala / im / actor / server / api / http / json / models . scala 
 index fc84bec . . 5ea4b6d 100644 
 - - - a / actor - server / actor - http - api / src / main / scala / im / actor / server / api / http / json / models . scala 
 + + + b / actor - server / actor - http - api / src / main / scala / im / actor / server / api / http / json / models . scala 
 @ @ - 5 , 7 + 5 , 7 @ @ case class Text ( text : String ) extends Content 
 case class Image ( imageUrl : String ) extends Content 
 case class Document ( documentUrl : String ) extends Content 
 
 - case class GroupInfo ( title : String , avatars : Option [ AvatarUrls ] ) 
 + case class GroupInfo ( id : Int , title : String , avatars : Option [ AvatarUrls ] ) 
 case class InviterInfo ( name : String , avatars : Option [ AvatarUrls ] ) 
 case class GroupInviteInfo ( group : GroupInfo , inviter : Option [ InviterInfo ] ) 
 case class AvatarUrls ( small : Option [ String ] , large : Option [ String ] , full : Option [ String ] )
