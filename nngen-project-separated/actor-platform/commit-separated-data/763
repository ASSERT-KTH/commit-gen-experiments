BLEU SCORE: 0.26708679784499234

TEST MSG: feat ( android ) : add custom category icons
GENERATED MSG: style ( android ) : profile text colors from ActorStyle

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > index 25ab0fd . . 3beec67 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > + + + b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > @ @ - 130 , 6 + 130 , 12 @ @ public class Application extends ActorSDKApplication { < nl > public ActorSettingsCategory [ ] getBeforeSettingsCategories ( ) { < nl > return new ActorSettingsCategory [ ] { < nl > new ActorSettingsCategory ( ) { < nl > + < nl > + / / @ Override < nl > + / / public int getIconResourceId ( ) { < nl > + / / return R . drawable . ic _ notifications _ white _ 18dp ; < nl > + / / } < nl > + < nl > @ Override < nl > public String getCategoryName ( ) { < nl > return " test " ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsCategory . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsCategory . java < nl > index 7cea463 . . bc150d6 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsCategory . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsCategory . java < nl > @ @ - 3 , 10 + 3 , 12 @ @ package im . actor . sdk . controllers . fragment . settings ; < nl > import android . content . Context ; < nl > import android . view . View ; < nl > < nl > - / * * < nl > - * Created by root on 10 / 27 / 15 . < nl > - * / < nl > public abstract class ActorSettingsCategory implements IActorSettingsCategory { < nl > + < nl > + private int iconResourceId = 0 ; < nl > + private int iconColor = - 1 ; < nl > + < nl > + < nl > @ Override < nl > public View getView ( Context context ) { < nl > return null ; < nl > @ @ - 16 , 4 + 18 , 14 @ @ public abstract class ActorSettingsCategory implements IActorSettingsCategory { < nl > public ActorSettingsField [ ] getFields ( ) { < nl > return null ; < nl > } < nl > + < nl > + @ Override < nl > + public int getIconResourceId ( ) { < nl > + return iconResourceId ; < nl > + } < nl > + < nl > + @ Override < nl > + public int getIconColor ( ) { < nl > + return iconColor ; < nl > + } < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsField . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsField . java < nl > index 23e724a . . 84d0f8a 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsField . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsField . java < nl > @ @ - 7 , 10 + 7 , 10 @ @ import android . widget . TextView ; < nl > public class ActorSettingsField implements IActorSettingsField { < nl > private boolean addBottomDivider = true ; < nl > private View view = null ; < nl > - private int iconResourceId = 0 ; < nl > private String name = null ; < nl > private View . OnClickListener onClickListener = null ; < nl > private View rightView = null ; < nl > + private int iconResourceId = 0 ; < nl > private int iconColor = - 1 ; < nl > private TextView nameTextView ; < nl > < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java < nl > index aaa5a4c . . 29a1687 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java < nl > @ @ - 588 , 6 + 588 , 18 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements < nl > TextView categoryName = ( TextView ) categoryContainer . findViewById ( R . id . category _ name ) ; < nl > categoryName . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsMainTitleColor ( ) ) ; < nl > categoryName . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; < nl > + < nl > + / / Icon < nl > + TintImageView icon = ( TintImageView ) categoryContainer . findViewById ( R . id . icon ) ; < nl > + icon . setTint ( ActorSDK . sharedActor ( ) . style . getSettingsIconColor ( ) ) ; < nl > + if ( category . getIconResourceId ( ) ! = 0 ) { < nl > + icon . setResource ( category . getIconResourceId ( ) ) ; < nl > + if ( category . getIconColor ( ) ! = - 1 ) { < nl > + icon . setTint ( category . getIconColor ( ) ) ; < nl > + } < nl > + } else { < nl > + icon . setVisibility ( View . INVISIBLE ) ; < nl > + } < nl > categoryName . setText ( category . getCategoryName ( ) ) ; < nl > if ( category . getView ( context ) ! = null ) { < nl > settingsContainer . addView ( category . getView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / IActorSettingsCategory . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / IActorSettingsCategory . java < nl > index 206fa2d . . b54f7bf 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / IActorSettingsCategory . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / IActorSettingsCategory . java < nl > @ @ - 4 , 6 + 4 , 11 @ @ import android . content . Context ; < nl > import android . view . View ; < nl > < nl > public interface IActorSettingsCategory { < nl > + < nl > + int getIconResourceId ( ) ; < nl > + < nl > + int getIconColor ( ) ; < nl > + < nl > String getCategoryName ( ) ; < nl > < nl > View getView ( Context context ) ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / actor _ settings _ category . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / actor _ settings _ category . xml < nl > index cd66299 . . aa6abdf 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / actor _ settings _ category . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / actor _ settings _ category . xml < nl > @ @ - 5 , 14 + 5 , 23 @ @ < nl > android : layout _ height = " wrap _ content " < nl > android : orientation = " vertical " > < nl > < nl > - < TextView < nl > - android : id = " @ + id / category _ name " < nl > + < LinearLayout < nl > android : layout _ width = " match _ parent " < nl > - android : layout _ height = " 48dp " < nl > - android : gravity = " center _ vertical | left " < nl > - android : paddingLeft = " 72dp " < nl > - android : text = " @ string / settings _ header " < nl > - android : textSize = " 16sp " / > < nl > + android : layout _ height = " 48dp " > < nl > + < im . actor . sdk . view . TintImageView < nl > + android : id = " @ + id / icon " < nl > + android : layout _ width = " 72dp " < nl > + android : layout _ height = " match _ parent " / > < nl > + < nl > + < TextView < nl > + android : id = " @ + id / category _ name " < nl > + android : layout _ width = " wrap _ content " < nl > + android : layout _ height = " match _ parent " < nl > + android : gravity = " center _ vertical | left " < nl > + android : text = " @ string / settings _ header " < nl > + android : textSize = " 16sp " / > < nl > + < / LinearLayout > < nl > + < nl > < nl > < FrameLayout < nl > android : id = " @ + id / settings _ container "
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java < nl > index 284406c . . 0f2afa8 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java < nl > @ @ - 3 , 10 + 3 , 13 @ @ package im . actor . sdk ; < nl > import android . graphics . Color ; < nl > < nl > public class ActorStyle { < nl > - private int mainColor = 0 ; < nl > + private int mainColor = Color . parseColor ( " # 4d74a6 " ) ; < nl > private int toolBarColor = 0 ; < nl > private int fabColor = 0 ; < nl > private int fabColorPressed = 0 ; < nl > + private int categoryTextColor = 0 ; < nl > + private int recordIconTintColor = 0 ; < nl > + private int avatarBackgroundColor = 0 ; < nl > < nl > public int getMainColor ( ) { < nl > return mainColor ; < nl > @ @ - 53 , 6 + 56 , 44 @ @ public class ActorStyle { < nl > this . fabColorPressed = fabColorPressed ; < nl > } < nl > < nl > + public int getCategoryTextColor ( ) { < nl > + if ( categoryTextColor ! = 0 ) { < nl > + return categoryTextColor ; < nl > + } else { < nl > + return getMainColor ( ) ; < nl > + } < nl > + } < nl > + < nl > + public void setCategoryTextColor ( int categoryTextColor ) { < nl > + this . categoryTextColor = categoryTextColor ; < nl > + } < nl > + < nl > + public int getRecordIconTintColor ( ) { < nl > + if ( recordIconTintColor ! = 0 ) { < nl > + return recordIconTintColor ; < nl > + } else { < nl > + return getMainColor ( ) ; < nl > + } < nl > + } < nl > + < nl > + public void setRecordIconTintColor ( int recordIconTintColor ) { < nl > + this . recordIconTintColor = recordIconTintColor ; < nl > + } < nl > + < nl > + public int getAvatarBackgroundColor ( ) { < nl > + if ( avatarBackgroundColor ! = 0 ) { < nl > + return avatarBackgroundColor ; < nl > + } else { < nl > + return getMainColor ( ) ; < nl > + } < nl > + } < nl > + < nl > + public void setAvatarBackgroundColor ( int avatarBackgroundColor ) { < nl > + this . avatarBackgroundColor = avatarBackgroundColor ; < nl > + } < nl > + < nl > + < nl > + < nl > private int getDarkenArgb ( int color , double percent ) { < nl > return Color . argb ( Color . alpha ( color ) , ( int ) Math . round ( Color . red ( color ) * percent ) , ( int ) Math . round ( Color . green ( color ) * percent ) , ( int ) Math . round ( Color . blue ( color ) * percent ) ) ; < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / profile / ProfileFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / profile / ProfileFragment . java < nl > index 12c440d . . 0e46fd0 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / profile / ProfileFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / profile / ProfileFragment . java < nl > @ @ - 72 , 6 + 72 , 7 @ @ public class ProfileFragment extends BaseFragment { < nl > final String nick = user . getNick ( ) . get ( ) ; < nl > final String aboutText = user . getAbout ( ) . get ( ) ; < nl > baseColor = getResources ( ) . getColor ( R . color . primary ) ; < nl > + ActorStyle style = ActorSDK . sharedActor ( ) . style ; < nl > < nl > View res = inflater . inflate ( R . layout . fragment _ profile , container , false ) ; < nl > < nl > @ @ - 128 , 6 + 129 , 7 @ @ public class ProfileFragment extends BaseFragment { < nl > final UserPhone record = phones . get ( i ) ; < nl > View recordView = inflater . inflate ( R . layout . contact _ record , contactsContainer , false ) ; < nl > TintImageView tintImageView = ( TintImageView ) recordView . findViewById ( R . id . recordIcon ) ; < nl > + tintImageView . setTint ( style . getRecordIconTintColor ( ) ) ; < nl > if ( i = = 0 ) { < nl > tintImageView . setResource ( R . drawable . ic _ call _ white _ 36dp ) ; < nl > tintImageView . setVisibility ( View . VISIBLE ) ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsField . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsField . java < nl > index 4caa163 . . 6535843 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsField . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsField . java < nl > @ @ - 71 , 6 + 71 , 10 @ @ public class ActorSettingsField implements IActorSettingsField { < nl > return view ; < nl > } < nl > < nl > + public void bindCreatedView ( View view ) { < nl > + this . view = view ; < nl > + } < nl > + < nl > @ Override < nl > public int getIconResourceId ( ) { < nl > return iconResourceId ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / MyProfileFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / MyProfileFragment . java < nl > index ad3dbfd . . b9d0d22 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / MyProfileFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / MyProfileFragment . java < nl > @ @ - 135 , 6 + 135 , 7 @ @ public class MyProfileFragment extends BaseFragment { < nl > final UserPhone record = val . get ( i ) ; < nl > View recordView = inflater . inflate ( R . layout . contact _ record , contactsContainer , false ) ; < nl > TintImageView tintImageView = ( TintImageView ) recordView . findViewById ( R . id . recordIcon ) ; < nl > + tintImageView . setTint ( ActorSDK . sharedActor ( ) . style . getCategoryTextColor ( ) ) ; < nl > if ( i = = 0 ) { < nl > tintImageView . setResource ( R . drawable . ic _ call _ white _ 36dp ) ; < nl > tintImageView . setVisibility ( View . VISIBLE ) ; < nl > @ @ - 249 , 6 + 250 , 9 @ @ public class MyProfileFragment extends BaseFragment { < nl > } < nl > } ) ; < nl > < nl > + TextView settingsHeaderText = ( TextView ) view . findViewById ( R . id . settings _ header _ text ) ; < nl > + settingsHeaderText . setTextColor ( ActorSDK . sharedActor ( ) . style . getCategoryTextColor ( ) ) ; < nl > + < nl > if ( delegate . getBeforeNickSettingsView ( getActivity ( ) ) ! = null ) { < nl > FrameLayout beforeNick = ( FrameLayout ) view . findViewById ( R . id . before _ nick _ container ) ; < nl > beforeNick . addView ( delegate . getBeforeNickSettingsView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; < nl > @ @ - 277 , 7 + 281 , 10 @ @ public class MyProfileFragment extends BaseFragment { < nl > } < nl > < nl > avatarView = ( CoverAvatarView ) view . findViewById ( R . id . avatar ) ; < nl > - avatarView . setBkgrnd ( ( ImageView ) view . findViewById ( R . id . avatar _ bgrnd ) ) ; < nl > + avatarView . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getCategoryTextColor ( ) ) ; < nl > + ImageView avatarBckgrnd = ( ImageView ) view . findViewById ( R . id . avatar _ bgrnd ) ; < nl > + avatarBckgrnd . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getCategoryTextColor ( ) ) ; < nl > + avatarView . setBkgrnd ( avatarBckgrnd ) ; < nl > < nl > bind ( avatarView , users ( ) . get ( myUid ( ) ) . getAvatar ( ) ) ; < nl > < nl > @ @ - 308 , 8 + 315 , 9 @ @ public class MyProfileFragment extends BaseFragment { < nl > for ( IActorSettingsCategory category : categories ) { < nl > LinearLayout categoryContainer = ( LinearLayout ) inflater . inflate ( R . layout . actor _ settings _ category , null ) ; < nl > FrameLayout settingsContainer = ( FrameLayout ) categoryContainer . findViewById ( R . id . settings _ container ) ; < nl > - TextView beforeSettingsName = ( TextView ) categoryContainer . findViewById ( R . id . category _ name ) ; < nl > - beforeSettingsName . setText ( category . getCategoryName ( ) ) ; < nl > + TextView categoryName = ( TextView ) categoryContainer . findViewById ( R . id . category _ name ) ; < nl > + categoryName . setTextColor ( ActorSDK . sharedActor ( ) . style . getCategoryTextColor ( ) ) ; < nl > + categoryName . setText ( category . getCategoryName ( ) ) ; < nl > if ( category . getView ( context ) ! = null ) { < nl > settingsContainer . addView ( category . getView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; < nl > } else if ( category . getFields ( ) ! = null ) { < nl > @ @ - 328 , 7 + 336 , 9 @ @ public class MyProfileFragment extends BaseFragment { < nl > < nl > for ( ActorSettingsField field : fields ) { < nl > if ( field . getView ( context ) ! = null ) { < nl > - ll . addView ( field . getView ( context ) , LinearLayout . LayoutParams . MATCH _ PARENT , LinearLayout . LayoutParams . WRAP _ CONTENT ) ; < nl > + View view = field . getView ( context ) ; < nl > + ll . addView ( view , LinearLayout . LayoutParams . MATCH _ PARENT , LinearLayout . LayoutParams . WRAP _ CONTENT ) ; < nl > + field . bindCreatedView ( view ) ; < nl > } else { < nl > LinearLayout fieldLayout = ( LinearLayout ) inflater . inflate ( R . layout . actor _ settings _ field , null ) ; < nl > TintImageView icon = ( TintImageView ) fieldLayout . findViewById ( R . id . icon ) ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ settings . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ settings . xml < nl > index 87e0645 . . 816549f 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ settings . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ settings . xml < nl > @ @ - 133 , 6 + 133 , 7 @ @ < nl > android : orientation = " vertical " / > < nl > < nl > < TextView < nl > + android : id = " @ + id / settings _ header _ text " < nl > android : layout _ width = " match _ parent " < nl > android : layout _ height = " 48dp " < nl > android : gravity = " center _ vertical | left "

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 index 25ab0fd . . 3beec67 100644 
 - - - a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 + + + b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 @ @ - 130 , 6 + 130 , 12 @ @ public class Application extends ActorSDKApplication { 
 public ActorSettingsCategory [ ] getBeforeSettingsCategories ( ) { 
 return new ActorSettingsCategory [ ] { 
 new ActorSettingsCategory ( ) { 
 + 
 + / / @ Override 
 + / / public int getIconResourceId ( ) { 
 + / / return R . drawable . ic _ notifications _ white _ 18dp ; 
 + / / } 
 + 
 @ Override 
 public String getCategoryName ( ) { 
 return " test " ; 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsCategory . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsCategory . java 
 index 7cea463 . . bc150d6 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsCategory . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsCategory . java 
 @ @ - 3 , 10 + 3 , 12 @ @ package im . actor . sdk . controllers . fragment . settings ; 
 import android . content . Context ; 
 import android . view . View ; 
 
 - / * * 
 - * Created by root on 10 / 27 / 15 . 
 - * / 
 public abstract class ActorSettingsCategory implements IActorSettingsCategory { 
 + 
 + private int iconResourceId = 0 ; 
 + private int iconColor = - 1 ; 
 + 
 + 
 @ Override 
 public View getView ( Context context ) { 
 return null ; 
 @ @ - 16 , 4 + 18 , 14 @ @ public abstract class ActorSettingsCategory implements IActorSettingsCategory { 
 public ActorSettingsField [ ] getFields ( ) { 
 return null ; 
 } 
 + 
 + @ Override 
 + public int getIconResourceId ( ) { 
 + return iconResourceId ; 
 + } 
 + 
 + @ Override 
 + public int getIconColor ( ) { 
 + return iconColor ; 
 + } 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsField . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsField . java 
 index 23e724a . . 84d0f8a 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsField . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsField . java 
 @ @ - 7 , 10 + 7 , 10 @ @ import android . widget . TextView ; 
 public class ActorSettingsField implements IActorSettingsField { 
 private boolean addBottomDivider = true ; 
 private View view = null ; 
 - private int iconResourceId = 0 ; 
 private String name = null ; 
 private View . OnClickListener onClickListener = null ; 
 private View rightView = null ; 
 + private int iconResourceId = 0 ; 
 private int iconColor = - 1 ; 
 private TextView nameTextView ; 
 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java 
 index aaa5a4c . . 29a1687 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java 
 @ @ - 588 , 6 + 588 , 18 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements 
 TextView categoryName = ( TextView ) categoryContainer . findViewById ( R . id . category _ name ) ; 
 categoryName . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsMainTitleColor ( ) ) ; 
 categoryName . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; 
 + 
 + / / Icon 
 + TintImageView icon = ( TintImageView ) categoryContainer . findViewById ( R . id . icon ) ; 
 + icon . setTint ( ActorSDK . sharedActor ( ) . style . getSettingsIconColor ( ) ) ; 
 + if ( category . getIconResourceId ( ) ! = 0 ) { 
 + icon . setResource ( category . getIconResourceId ( ) ) ; 
 + if ( category . getIconColor ( ) ! = - 1 ) { 
 + icon . setTint ( category . getIconColor ( ) ) ; 
 + } 
 + } else { 
 + icon . setVisibility ( View . INVISIBLE ) ; 
 + } 
 categoryName . setText ( category . getCategoryName ( ) ) ; 
 if ( category . getView ( context ) ! = null ) { 
 settingsContainer . addView ( category . getView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / IActorSettingsCategory . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / IActorSettingsCategory . java 
 index 206fa2d . . b54f7bf 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / IActorSettingsCategory . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / IActorSettingsCategory . java 
 @ @ - 4 , 6 + 4 , 11 @ @ import android . content . Context ; 
 import android . view . View ; 
 
 public interface IActorSettingsCategory { 
 + 
 + int getIconResourceId ( ) ; 
 + 
 + int getIconColor ( ) ; 
 + 
 String getCategoryName ( ) ; 
 
 View getView ( Context context ) ; 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / actor _ settings _ category . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / actor _ settings _ category . xml 
 index cd66299 . . aa6abdf 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / actor _ settings _ category . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / actor _ settings _ category . xml 
 @ @ - 5 , 14 + 5 , 23 @ @ 
 android : layout _ height = " wrap _ content " 
 android : orientation = " vertical " > 
 
 - < TextView 
 - android : id = " @ + id / category _ name " 
 + < LinearLayout 
 android : layout _ width = " match _ parent " 
 - android : layout _ height = " 48dp " 
 - android : gravity = " center _ vertical | left " 
 - android : paddingLeft = " 72dp " 
 - android : text = " @ string / settings _ header " 
 - android : textSize = " 16sp " / > 
 + android : layout _ height = " 48dp " > 
 + < im . actor . sdk . view . TintImageView 
 + android : id = " @ + id / icon " 
 + android : layout _ width = " 72dp " 
 + android : layout _ height = " match _ parent " / > 
 + 
 + < TextView 
 + android : id = " @ + id / category _ name " 
 + android : layout _ width = " wrap _ content " 
 + android : layout _ height = " match _ parent " 
 + android : gravity = " center _ vertical | left " 
 + android : text = " @ string / settings _ header " 
 + android : textSize = " 16sp " / > 
 + < / LinearLayout > 
 + 
 
 < FrameLayout 
 android : id = " @ + id / settings _ container "

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java 
 index 284406c . . 0f2afa8 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java 
 @ @ - 3 , 10 + 3 , 13 @ @ package im . actor . sdk ; 
 import android . graphics . Color ; 
 
 public class ActorStyle { 
 - private int mainColor = 0 ; 
 + private int mainColor = Color . parseColor ( " # 4d74a6 " ) ; 
 private int toolBarColor = 0 ; 
 private int fabColor = 0 ; 
 private int fabColorPressed = 0 ; 
 + private int categoryTextColor = 0 ; 
 + private int recordIconTintColor = 0 ; 
 + private int avatarBackgroundColor = 0 ; 
 
 public int getMainColor ( ) { 
 return mainColor ; 
 @ @ - 53 , 6 + 56 , 44 @ @ public class ActorStyle { 
 this . fabColorPressed = fabColorPressed ; 
 } 
 
 + public int getCategoryTextColor ( ) { 
 + if ( categoryTextColor ! = 0 ) { 
 + return categoryTextColor ; 
 + } else { 
 + return getMainColor ( ) ; 
 + } 
 + } 
 + 
 + public void setCategoryTextColor ( int categoryTextColor ) { 
 + this . categoryTextColor = categoryTextColor ; 
 + } 
 + 
 + public int getRecordIconTintColor ( ) { 
 + if ( recordIconTintColor ! = 0 ) { 
 + return recordIconTintColor ; 
 + } else { 
 + return getMainColor ( ) ; 
 + } 
 + } 
 + 
 + public void setRecordIconTintColor ( int recordIconTintColor ) { 
 + this . recordIconTintColor = recordIconTintColor ; 
 + } 
 + 
 + public int getAvatarBackgroundColor ( ) { 
 + if ( avatarBackgroundColor ! = 0 ) { 
 + return avatarBackgroundColor ; 
 + } else { 
 + return getMainColor ( ) ; 
 + } 
 + } 
 + 
 + public void setAvatarBackgroundColor ( int avatarBackgroundColor ) { 
 + this . avatarBackgroundColor = avatarBackgroundColor ; 
 + } 
 + 
 + 
 + 
 private int getDarkenArgb ( int color , double percent ) { 
 return Color . argb ( Color . alpha ( color ) , ( int ) Math . round ( Color . red ( color ) * percent ) , ( int ) Math . round ( Color . green ( color ) * percent ) , ( int ) Math . round ( Color . blue ( color ) * percent ) ) ; 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / profile / ProfileFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / profile / ProfileFragment . java 
 index 12c440d . . 0e46fd0 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / profile / ProfileFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / profile / ProfileFragment . java 
 @ @ - 72 , 6 + 72 , 7 @ @ public class ProfileFragment extends BaseFragment { 
 final String nick = user . getNick ( ) . get ( ) ; 
 final String aboutText = user . getAbout ( ) . get ( ) ; 
 baseColor = getResources ( ) . getColor ( R . color . primary ) ; 
 + ActorStyle style = ActorSDK . sharedActor ( ) . style ; 
 
 View res = inflater . inflate ( R . layout . fragment _ profile , container , false ) ; 
 
 @ @ - 128 , 6 + 129 , 7 @ @ public class ProfileFragment extends BaseFragment { 
 final UserPhone record = phones . get ( i ) ; 
 View recordView = inflater . inflate ( R . layout . contact _ record , contactsContainer , false ) ; 
 TintImageView tintImageView = ( TintImageView ) recordView . findViewById ( R . id . recordIcon ) ; 
 + tintImageView . setTint ( style . getRecordIconTintColor ( ) ) ; 
 if ( i = = 0 ) { 
 tintImageView . setResource ( R . drawable . ic _ call _ white _ 36dp ) ; 
 tintImageView . setVisibility ( View . VISIBLE ) ; 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsField . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsField . java 
 index 4caa163 . . 6535843 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsField . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsField . java 
 @ @ - 71 , 6 + 71 , 10 @ @ public class ActorSettingsField implements IActorSettingsField { 
 return view ; 
 } 
 
 + public void bindCreatedView ( View view ) { 
 + this . view = view ; 
 + } 
 + 
 @ Override 
 public int getIconResourceId ( ) { 
 return iconResourceId ; 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / MyProfileFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / MyProfileFragment . java 
 index ad3dbfd . . b9d0d22 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / MyProfileFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / MyProfileFragment . java 
 @ @ - 135 , 6 + 135 , 7 @ @ public class MyProfileFragment extends BaseFragment { 
 final UserPhone record = val . get ( i ) ; 
 View recordView = inflater . inflate ( R . layout . contact _ record , contactsContainer , false ) ; 
 TintImageView tintImageView = ( TintImageView ) recordView . findViewById ( R . id . recordIcon ) ; 
 + tintImageView . setTint ( ActorSDK . sharedActor ( ) . style . getCategoryTextColor ( ) ) ; 
 if ( i = = 0 ) { 
 tintImageView . setResource ( R . drawable . ic _ call _ white _ 36dp ) ; 
 tintImageView . setVisibility ( View . VISIBLE ) ; 
 @ @ - 249 , 6 + 250 , 9 @ @ public class MyProfileFragment extends BaseFragment { 
 } 
 } ) ; 
 
 + TextView settingsHeaderText = ( TextView ) view . findViewById ( R . id . settings _ header _ text ) ; 
 + settingsHeaderText . setTextColor ( ActorSDK . sharedActor ( ) . style . getCategoryTextColor ( ) ) ; 
 + 
 if ( delegate . getBeforeNickSettingsView ( getActivity ( ) ) ! = null ) { 
 FrameLayout beforeNick = ( FrameLayout ) view . findViewById ( R . id . before _ nick _ container ) ; 
 beforeNick . addView ( delegate . getBeforeNickSettingsView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; 
 @ @ - 277 , 7 + 281 , 10 @ @ public class MyProfileFragment extends BaseFragment { 
 } 
 
 avatarView = ( CoverAvatarView ) view . findViewById ( R . id . avatar ) ; 
 - avatarView . setBkgrnd ( ( ImageView ) view . findViewById ( R . id . avatar _ bgrnd ) ) ; 
 + avatarView . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getCategoryTextColor ( ) ) ; 
 + ImageView avatarBckgrnd = ( ImageView ) view . findViewById ( R . id . avatar _ bgrnd ) ; 
 + avatarBckgrnd . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getCategoryTextColor ( ) ) ; 
 + avatarView . setBkgrnd ( avatarBckgrnd ) ; 
 
 bind ( avatarView , users ( ) . get ( myUid ( ) ) . getAvatar ( ) ) ; 
 
 @ @ - 308 , 8 + 315 , 9 @ @ public class MyProfileFragment extends BaseFragment { 
 for ( IActorSettingsCategory category : categories ) { 
 LinearLayout categoryContainer = ( LinearLayout ) inflater . inflate ( R . layout . actor _ settings _ category , null ) ; 
 FrameLayout settingsContainer = ( FrameLayout ) categoryContainer . findViewById ( R . id . settings _ container ) ; 
 - TextView beforeSettingsName = ( TextView ) categoryContainer . findViewById ( R . id . category _ name ) ; 
 - beforeSettingsName . setText ( category . getCategoryName ( ) ) ; 
 + TextView categoryName = ( TextView ) categoryContainer . findViewById ( R . id . category _ name ) ; 
 + categoryName . setTextColor ( ActorSDK . sharedActor ( ) . style . getCategoryTextColor ( ) ) ; 
 + categoryName . setText ( category . getCategoryName ( ) ) ; 
 if ( category . getView ( context ) ! = null ) { 
 settingsContainer . addView ( category . getView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; 
 } else if ( category . getFields ( ) ! = null ) { 
 @ @ - 328 , 7 + 336 , 9 @ @ public class MyProfileFragment extends BaseFragment { 
 
 for ( ActorSettingsField field : fields ) { 
 if ( field . getView ( context ) ! = null ) { 
 - ll . addView ( field . getView ( context ) , LinearLayout . LayoutParams . MATCH _ PARENT , LinearLayout . LayoutParams . WRAP _ CONTENT ) ; 
 + View view = field . getView ( context ) ; 
 + ll . addView ( view , LinearLayout . LayoutParams . MATCH _ PARENT , LinearLayout . LayoutParams . WRAP _ CONTENT ) ; 
 + field . bindCreatedView ( view ) ; 
 } else { 
 LinearLayout fieldLayout = ( LinearLayout ) inflater . inflate ( R . layout . actor _ settings _ field , null ) ; 
 TintImageView icon = ( TintImageView ) fieldLayout . findViewById ( R . id . icon ) ; 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ settings . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ settings . xml 
 index 87e0645 . . 816549f 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ settings . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ settings . xml 
 @ @ - 133 , 6 + 133 , 7 @ @ 
 android : orientation = " vertical " / > 
 
 < TextView 
 + android : id = " @ + id / settings _ header _ text " 
 android : layout _ width = " match _ parent " 
 android : layout _ height = " 48dp " 
 android : gravity = " center _ vertical | left "
