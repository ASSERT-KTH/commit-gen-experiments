BLEU SCORE: 0.21401603033752975

TEST MSG: fix ( android ) : group - > channel in long tap menu
GENERATED MSG: feat ( android ) : error message in group and chat operations

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / DialogsDefaultFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / DialogsDefaultFragment . java < nl > index 572471b . . f885363 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / DialogsDefaultFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / DialogsDefaultFragment . java < nl > @ @ - 5 , 6 + 5 , 7 @ @ import android . support . v7 . app . AlertDialog ; < nl > import android . widget . Toast ; < nl > < nl > import im . actor . core . entity . Dialog ; < nl > + import im . actor . core . entity . GroupType ; < nl > import im . actor . core . entity . PeerType ; < nl > import im . actor . core . viewmodel . CommandCallback ; < nl > import im . actor . core . viewmodel . GroupVM ; < nl > @ @ - 70 , 12 + 71 , 16 @ @ public class DialogsDefaultFragment extends BaseDialogFragment { < nl > } else if ( dialog . getPeer ( ) . getPeerType ( ) = = PeerType . GROUP ) { < nl > GroupVM groupVM = groups ( ) . get ( dialog . getPeer ( ) . getPeerId ( ) ) ; < nl > CharSequence [ ] items ; < nl > + int dialogs _ menu _ view = groupVM . getGroupType ( ) . equals ( GroupType . GROUP ) ? R . string . dialogs _ menu _ group _ view : R . string . dialogs _ menu _ channel _ view ; < nl > + int dialogs _ menu _ rename = groupVM . getGroupType ( ) . equals ( GroupType . GROUP ) ? R . string . dialogs _ menu _ group _ rename : R . string . dialogs _ menu _ channel _ rename ; < nl > + int dialogs _ menu _ leave = groupVM . getGroupType ( ) . equals ( GroupType . GROUP ) ? R . string . dialogs _ menu _ group _ leave : R . string . dialogs _ menu _ channel _ leave ; < nl > + int dialogs _ menu _ delete = groupVM . getGroupType ( ) . equals ( GroupType . GROUP ) ? R . string . dialogs _ menu _ group _ delete : R . string . dialogs _ menu _ channel _ delete ; < nl > items = new CharSequence [ ] { < nl > - getString ( R . string . dialogs _ menu _ group _ view ) , < nl > - getString ( R . string . dialogs _ menu _ group _ rename ) , < nl > - getString ( groupVM . getIsCanLeave ( ) . get ( ) ? R . string . dialogs _ menu _ group _ leave : < nl > - groupVM . getIsCanDelete ( ) . get ( ) ? R . string . dialogs _ menu _ group _ delete : < nl > - R . string . dialogs _ menu _ group _ delete ) , < nl > + getString ( dialogs _ menu _ view ) , < nl > + getString ( dialogs _ menu _ rename ) , < nl > + getString ( groupVM . getIsCanLeave ( ) . get ( ) ? dialogs _ menu _ leave : < nl > + groupVM . getIsCanDelete ( ) . get ( ) ? dialogs _ menu _ delete : < nl > + dialogs _ menu _ delete ) , < nl > } ; < nl > new AlertDialog . Builder ( getActivity ( ) ) < nl > . setItems ( items , ( d , which ) - > { < nl > @ @ - 84 , 12 + 89 , 14 @ @ public class DialogsDefaultFragment extends BaseDialogFragment { < nl > } else if ( which = = 1 ) { < nl > startActivity ( Intents . editGroupTitle ( dialog . getPeer ( ) . getPeerId ( ) , getActivity ( ) ) ) ; < nl > } else if ( which = = 2 ) { < nl > + int alert _ delete _ title = groupVM . getGroupType ( ) . equals ( GroupType . GROUP ) ? R . string . alert _ delete _ group _ title : R . string . alert _ delete _ channel _ title ; < nl > + int alert _ leave _ message = groupVM . getGroupType ( ) . equals ( GroupType . GROUP ) ? R . string . alert _ leave _ group _ message : R . string . alert _ leave _ channel _ message ; < nl > new AlertDialog . Builder ( getActivity ( ) ) < nl > - . setMessage ( getString ( groupVM . getIsCanLeave ( ) . get ( ) ? R . string . alert _ delete _ group _ title : < nl > - groupVM . getIsCanDelete ( ) . get ( ) ? R . string . alert _ delete _ group _ title : < nl > - R . string . alert _ leave _ group _ message , dialog . getDialogTitle ( ) ) ) < nl > + . setMessage ( getString ( groupVM . getIsCanLeave ( ) . get ( ) ? alert _ delete _ title : < nl > + groupVM . getIsCanDelete ( ) . get ( ) ? alert _ delete _ title : < nl > + alert _ leave _ message , dialog . getDialogTitle ( ) ) ) < nl > . setNegativeButton ( R . string . dialog _ cancel , null ) < nl > - . setPositiveButton ( R . string . alert _ leave _ group _ yes , ( d1 , which1 ) - > { < nl > + . setPositiveButton ( groupVM . getIsCanLeave ( ) . get ( ) ? R . string . alert _ leave _ group _ yes : R . string . alert _ delete _ group _ yes , ( d1 , which1 ) - > { < nl > if ( groupVM . getIsCanLeave ( ) . get ( ) ) { < nl > execute ( messenger ( ) . leaveAndDeleteGroup ( dialog . getPeer ( ) . getPeerId ( ) ) , R . string . progress _ common ) . failure ( e - > { < nl > Toast . makeText ( getActivity ( ) , R . string . toast _ unable _ leave , Toast . LENGTH _ LONG ) . show ( ) ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml < nl > index 4a230e8 . . a576924 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml < nl > @ @ - 229 , 6 + 229 , 12 @ @ < nl > < string name = " dialogs _ menu _ group _ leave " > В ы й т и и з г р у п п ы < / string > < nl > < string name = " dialogs _ menu _ group _ delete " > У д а л и т ь г р у п п у < / string > < nl > < nl > + < string name = " dialogs _ menu _ channel _ view " > И н ф о р м а ц и я о к а н а л е < / string > < nl > + < string name = " dialogs _ menu _ channel _ rename " > П е р е и м е н о в а т ь к а н а л < / string > < nl > + < string name = " dialogs _ menu _ channel _ leave " > В ы й т и и з к а н а л а < / string > < nl > + < string name = " dialogs _ menu _ channel _ delete " > У д а л и т ь к а н а л < / string > < nl > + < nl > + < nl > < ! - - Contacts - - > < nl > < string name = " contacts _ title " > К о н т а к т ы < / string > < nl > < string name = " contacts _ empty _ short " > Е щ е н е т к о н т а к т о в < / string > < nl > @ @ - 585 , 9 + 591 , 11 @ @ < nl > < nl > < ! - - Dialogs - - > < nl > < string name = " alert _ leave _ group _ message " > В ы у в е р е н ы , ч т о х о т и т е в ы й т и и з г р у п п ы " % 1 $ s " ? < / string > < nl > + < string name = " alert _ leave _ channel _ message " > В ы у в е р е н ы , ч т о х о т и т е в ы й т и и з к а н а л а " % 1 $ s " ? < / string > < nl > < string name = " alert _ leave _ group _ yes " > В ы й т и < / string > < nl > < nl > < string name = " alert _ delete _ group _ title " > В ы у в е р е н ы , ч т о х о т и т е у д а л и т ь г р у п п у " % 1 $ s " ? < / string > < nl > + < string name = " alert _ delete _ channel _ title " > В ы у в е р е н ы , ч т о х о т и т е у д а л и т ь к а н а л " % 1 $ s " ? < / string > < nl > < string name = " alert _ delete _ group _ yes " > У д а л и т ь < / string > < nl > < nl > < string name = " alert _ delete _ chat _ message " > В ы у в е р е н ы , ч т о х о т и т е у д а л и т ь ч а т с " % 1 $ s " ? < / string > < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml < nl > index 663ad2f . . ed7a708 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml < nl > @ @ - 216 , 6 + 216 , 11 @ @ < nl > < string name = " dialogs _ menu _ group _ leave " > Exit group < / string > < nl > < string name = " dialogs _ menu _ group _ delete " > Delete group < / string > < nl > < nl > + < string name = " dialogs _ menu _ channel _ view " > View channel info < / string > < nl > + < string name = " dialogs _ menu _ channel _ rename " > Rename channel < / string > < nl > + < string name = " dialogs _ menu _ channel _ leave " > Exit channel < / string > < nl > + < string name = " dialogs _ menu _ channel _ delete " > Delete channel < / string > < nl > + < nl > < ! - - Contacts - - > < nl > < string name = " contacts _ title " > Contacts < / string > < nl > < string name = " contacts _ empty _ short " > No contacts here yet < / string > < nl > @ @ - 585 , 9 + 590 , 11 @ @ < nl > < nl > < ! - - Dialogs - - > < nl > < string name = " alert _ leave _ group _ message " > Are you sure you want to exit group " % 1 $ s " ? < / string > < nl > + < string name = " alert _ leave _ channel _ message " > Are you sure you want to exit channel " % 1 $ s " ? < / string > < nl > < string name = " alert _ leave _ group _ yes " > Exit < / string > < nl > < nl > < string name = " alert _ delete _ group _ title " > Delete " % 1 $ s " group ? < / string > < nl > + < string name = " alert _ delete _ channel _ title " > Delete " % 1 $ s " channel ? < / string > < nl > < string name = " alert _ delete _ group _ yes " > Delete < / string > < nl > < nl > < string name = " alert _ delete _ chat _ message " > Delete chat with " % 1 $ s " ? < / string >
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / compose / GroupUsersFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / compose / GroupUsersFragment . java < nl > index 237720d . . 70d8573 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / compose / GroupUsersFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / compose / GroupUsersFragment . java < nl > @ @ - 14 , 6 + 14 , 7 @ @ import android . view . View ; < nl > import android . view . ViewGroup ; < nl > import android . widget . EditText ; < nl > < nl > + import android . widget . Toast ; < nl > import im . actor . core . entity . Contact ; < nl > import im . actor . core . viewmodel . CommandCallback ; < nl > import im . actor . sdk . ActorSDK ; < nl > @ @ - 110 , 6 + 111 , 7 @ @ public class GroupUsersFragment extends BaseContactFragment { < nl > < nl > @ Override < nl > public void onError ( Exception e ) { < nl > + Toast . makeText ( getActivity ( ) , getString ( R . string . toast _ unable _ create _ group ) , Toast . LENGTH _ LONG ) . show ( ) ; < nl > < nl > } < nl > } ) ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > index 34d9c73 . . 3f3eb7e 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > @ @ - 1167 , 7 + 1167 , 17 @ @ public class ChatActivity extends ActorEditTextActivity { < nl > . setPositiveButton ( R . string . alert _ delete _ all _ messages _ yes , new DialogInterface . OnClickListener ( ) { < nl > @ Override < nl > public void onClick ( DialogInterface dialog , int which ) { < nl > - execute ( messenger ( ) . clearChat ( peer ) ) ; < nl > + execute ( messenger ( ) . clearChat ( peer ) , R . string . progress _ common , < nl > + new CommandCallback < Boolean > ( ) { < nl > + @ Override < nl > + public void onResult ( Boolean res ) { < nl > + < nl > + } < nl > + < nl > + @ Override < nl > + public void onError ( Exception e ) { < nl > + Toast . makeText ( getApplicationContext ( ) , R . string . toast _ unable _ clear _ chat , Toast . LENGTH _ LONG ) . show ( ) ; } < nl > + } ) ; < nl > } < nl > } ) < nl > . setNegativeButton ( R . string . dialog _ cancel , null ) < nl > @ @ - 1181 , 7 + 1191 , 22 @ @ public class ChatActivity extends ActorEditTextActivity { < nl > . setPositiveButton ( R . string . alert _ leave _ group _ yes , new DialogInterface . OnClickListener ( ) { < nl > @ Override < nl > public void onClick ( DialogInterface dialog2 , int which ) { < nl > - execute ( messenger ( ) . leaveGroup ( peer . getPeerId ( ) ) ) ; < nl > + execute ( messenger ( ) . leaveGroup ( peer . getPeerId ( ) ) , R . string . progress _ common , new CommandCallback < Boolean > ( ) { < nl > + @ Override < nl > + public void onResult ( Boolean res ) { < nl > + < nl > + } < nl > + < nl > + @ Override < nl > + public void onError ( final Exception e ) { < nl > + runOnUiThread ( new Runnable ( ) { < nl > + @ Override < nl > + public void run ( ) { < nl > + Toast . makeText ( getApplicationContext ( ) , R . string . toast _ unable _ leave , Toast . LENGTH _ LONG ) . show ( ) ; < nl > + } < nl > + } ) ; < nl > + } < nl > + } ) ; < nl > finish ( ) ; < nl > } < nl > } ) < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / DialogsFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / DialogsFragment . java < nl > index 254c54c . . 29cb47c 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / DialogsFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / DialogsFragment . java < nl > @ @ - 3 , 8 + 3 , 10 @ @ package im . actor . sdk . controllers . dialogs ; < nl > import android . content . DialogInterface ; < nl > import android . support . v7 . app . AlertDialog ; < nl > < nl > + import android . widget . Toast ; < nl > import im . actor . core . entity . Dialog ; < nl > import im . actor . core . entity . PeerType ; < nl > + import im . actor . core . viewmodel . CommandCallback ; < nl > import im . actor . core . viewmodel . GroupVM ; < nl > import im . actor . sdk . ActorSDK ; < nl > import im . actor . sdk . R ; < nl > @ @ - 85 , 7 + 87 , 17 @ @ public class DialogsFragment extends BaseDialogFragment { < nl > . setPositiveButton ( R . string . alert _ leave _ group _ yes , new DialogInterface . OnClickListener ( ) { < nl > @ Override < nl > public void onClick ( DialogInterface d , int which ) { < nl > - execute ( messenger ( ) . leaveGroup ( dialog . getPeer ( ) . getPeerId ( ) ) ) ; < nl > + execute ( messenger ( ) . leaveGroup ( dialog . getPeer ( ) . getPeerId ( ) ) , R . string . progress _ common , < nl > + new CommandCallback < Boolean > ( ) { < nl > + @ Override < nl > + public void onResult ( Boolean res ) { < nl > + < nl > + } < nl > + < nl > + @ Override < nl > + public void onError ( Exception e ) { < nl > + Toast . makeText ( getActivity ( ) , R . string . toast _ unable _ leave , Toast . LENGTH _ LONG ) . show ( ) ; } < nl > + } ) ; < nl > } < nl > } ) < nl > . show ( ) ; < nl > @ @ - 96 , 7 + 108 , 17 @ @ public class DialogsFragment extends BaseDialogFragment { < nl > . setPositiveButton ( R . string . alert _ delete _ group _ yes , new DialogInterface . OnClickListener ( ) { < nl > @ Override < nl > public void onClick ( DialogInterface d , int which ) { < nl > - execute ( messenger ( ) . deleteChat ( dialog . getPeer ( ) ) ) ; < nl > + execute ( messenger ( ) . deleteChat ( dialog . getPeer ( ) ) , R . string . progress _ common , < nl > + new CommandCallback < Boolean > ( ) { < nl > + @ Override < nl > + public void onResult ( Boolean res ) { < nl > + < nl > + } < nl > + < nl > + @ Override < nl > + public void onError ( Exception e ) { < nl > + Toast . makeText ( getActivity ( ) , R . string . toast _ unable _ delete _ chat , Toast . LENGTH _ LONG ) . show ( ) ; } < nl > + } ) ; < nl > } < nl > } ) < nl > . show ( ) ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - fa / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - fa / ui _ text . xml < nl > index 0f1e11a . . d99268b 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - fa / ui _ text . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - fa / ui _ text . xml < nl > @ @ - 33 , 6 + 33 , 10 @ @ < nl > < string name = " toast _ unable _ change _ nick " > ت غ ی ی ر ن ا م ک ا ر ب ر ی ب ا ش ک س ت م و ا ج ه ش د ( آ ی ا ش م ا ا ز ک ا ر ا ک ت ر ه ا ی م ج ا ز ا س ت ف ا د ه ک ر د ی د ؟ ) < / string > < nl > < string name = " toast _ empty _ about " > م ع ر ف ی ن م ی ‌ ت و ا ن د خ ا ل ی ب ا ش د < / string > < nl > < string name = " toast _ unable _ open " > ب ر ن ا م ه ا ی ب ر ا ی ب ا ز ک ر د ن ا ی ن ف ا ی ل و ج و د ن د ا ر د < / string > < nl > + < string name = " toast _ unable _ leave " > خ ر و ج ا ز گ ر و ه ب ا خ ط ا م و ا ج ه ش د < / string > < nl > + < string name = " toast _ unable _ create _ group " > ا ی ج ا د گ ر و ه ب ا خ ط ا م و ا ج ه ش د < / string > < nl > + < string name = " toast _ unable _ delete _ chat " > ح ذ ف گ پ ب ا خ ط ا م و ا ج ه ش د < / string > < nl > + < string name = " toast _ unable _ clear _ chat " > پ ا ک ک ر د ن گ پ ب ا خ ط ا م و ا ج ه ش د < / string > < nl > < nl > < string name = " menu _ share " > ا ش ت ر ا ک < / string > < nl > < string name = " menu _ save " > ذ خ ی ر ه د ر ت ل ف ن < / string > < nl > @ @ - 313 , 7 + 317 , 7 @ @ < nl > < nl > < ! - - Add Contact - - > < nl > < string name = " add _ contact _ title " > ا ف ز و د ن م خ ا ط ب < / string > < nl > - < string name = " add _ contact _ phone _ hint " > ش م ا ر ه ه م ر ا ه ر ا و ا ر د ک ن ی د < / string > < nl > + < string name = " add _ contact _ phone _ hint " > ش م ا ر ه ه م ر ا ه ، ث ا ب ت ی ا ا ی م ی ل ‌ ت ا ن ر ا و ا ر د ک ن ی د < / string > < nl > < string name = " add _ contact _ bar _ cancel " > ب ی ‌ خ ی ا ل < / string > < nl > < string name = " add _ contact _ bar _ continue " > ا د ا م ه ب د ه ی د < / string > < nl > < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml < nl > index 9d018c8 . . 4182ac0 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml < nl > @ @ - 34 , 6 + 34 , 10 @ @ < nl > < string name = " toast _ unable _ change _ nick " > Unable to change the nickname < / string > < nl > < string name = " toast _ empty _ about " > " About " section can \ ' t be empty < / string > < nl > < string name = " toast _ unable _ open " > No app is available to open this < / string > < nl > + < string name = " toast _ unable _ leave " > Unable to leave from group < / string > < nl > + < string name = " toast _ unable _ create _ group " > Unable to create the group < / string > < nl > + < string name = " toast _ unable _ delete _ chat " > Unable to delete the chat < / string > < nl > + < string name = " toast _ unable _ clear _ chat " > Unable to clear the chat < / string > < nl > < nl > < string name = " menu _ share " > Share < / string > < nl > < string name = " menu _ save " > Save to Phone < / string >

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / DialogsDefaultFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / DialogsDefaultFragment . java 
 index 572471b . . f885363 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / DialogsDefaultFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / DialogsDefaultFragment . java 
 @ @ - 5 , 6 + 5 , 7 @ @ import android . support . v7 . app . AlertDialog ; 
 import android . widget . Toast ; 
 
 import im . actor . core . entity . Dialog ; 
 + import im . actor . core . entity . GroupType ; 
 import im . actor . core . entity . PeerType ; 
 import im . actor . core . viewmodel . CommandCallback ; 
 import im . actor . core . viewmodel . GroupVM ; 
 @ @ - 70 , 12 + 71 , 16 @ @ public class DialogsDefaultFragment extends BaseDialogFragment { 
 } else if ( dialog . getPeer ( ) . getPeerType ( ) = = PeerType . GROUP ) { 
 GroupVM groupVM = groups ( ) . get ( dialog . getPeer ( ) . getPeerId ( ) ) ; 
 CharSequence [ ] items ; 
 + int dialogs _ menu _ view = groupVM . getGroupType ( ) . equals ( GroupType . GROUP ) ? R . string . dialogs _ menu _ group _ view : R . string . dialogs _ menu _ channel _ view ; 
 + int dialogs _ menu _ rename = groupVM . getGroupType ( ) . equals ( GroupType . GROUP ) ? R . string . dialogs _ menu _ group _ rename : R . string . dialogs _ menu _ channel _ rename ; 
 + int dialogs _ menu _ leave = groupVM . getGroupType ( ) . equals ( GroupType . GROUP ) ? R . string . dialogs _ menu _ group _ leave : R . string . dialogs _ menu _ channel _ leave ; 
 + int dialogs _ menu _ delete = groupVM . getGroupType ( ) . equals ( GroupType . GROUP ) ? R . string . dialogs _ menu _ group _ delete : R . string . dialogs _ menu _ channel _ delete ; 
 items = new CharSequence [ ] { 
 - getString ( R . string . dialogs _ menu _ group _ view ) , 
 - getString ( R . string . dialogs _ menu _ group _ rename ) , 
 - getString ( groupVM . getIsCanLeave ( ) . get ( ) ? R . string . dialogs _ menu _ group _ leave : 
 - groupVM . getIsCanDelete ( ) . get ( ) ? R . string . dialogs _ menu _ group _ delete : 
 - R . string . dialogs _ menu _ group _ delete ) , 
 + getString ( dialogs _ menu _ view ) , 
 + getString ( dialogs _ menu _ rename ) , 
 + getString ( groupVM . getIsCanLeave ( ) . get ( ) ? dialogs _ menu _ leave : 
 + groupVM . getIsCanDelete ( ) . get ( ) ? dialogs _ menu _ delete : 
 + dialogs _ menu _ delete ) , 
 } ; 
 new AlertDialog . Builder ( getActivity ( ) ) 
 . setItems ( items , ( d , which ) - > { 
 @ @ - 84 , 12 + 89 , 14 @ @ public class DialogsDefaultFragment extends BaseDialogFragment { 
 } else if ( which = = 1 ) { 
 startActivity ( Intents . editGroupTitle ( dialog . getPeer ( ) . getPeerId ( ) , getActivity ( ) ) ) ; 
 } else if ( which = = 2 ) { 
 + int alert _ delete _ title = groupVM . getGroupType ( ) . equals ( GroupType . GROUP ) ? R . string . alert _ delete _ group _ title : R . string . alert _ delete _ channel _ title ; 
 + int alert _ leave _ message = groupVM . getGroupType ( ) . equals ( GroupType . GROUP ) ? R . string . alert _ leave _ group _ message : R . string . alert _ leave _ channel _ message ; 
 new AlertDialog . Builder ( getActivity ( ) ) 
 - . setMessage ( getString ( groupVM . getIsCanLeave ( ) . get ( ) ? R . string . alert _ delete _ group _ title : 
 - groupVM . getIsCanDelete ( ) . get ( ) ? R . string . alert _ delete _ group _ title : 
 - R . string . alert _ leave _ group _ message , dialog . getDialogTitle ( ) ) ) 
 + . setMessage ( getString ( groupVM . getIsCanLeave ( ) . get ( ) ? alert _ delete _ title : 
 + groupVM . getIsCanDelete ( ) . get ( ) ? alert _ delete _ title : 
 + alert _ leave _ message , dialog . getDialogTitle ( ) ) ) 
 . setNegativeButton ( R . string . dialog _ cancel , null ) 
 - . setPositiveButton ( R . string . alert _ leave _ group _ yes , ( d1 , which1 ) - > { 
 + . setPositiveButton ( groupVM . getIsCanLeave ( ) . get ( ) ? R . string . alert _ leave _ group _ yes : R . string . alert _ delete _ group _ yes , ( d1 , which1 ) - > { 
 if ( groupVM . getIsCanLeave ( ) . get ( ) ) { 
 execute ( messenger ( ) . leaveAndDeleteGroup ( dialog . getPeer ( ) . getPeerId ( ) ) , R . string . progress _ common ) . failure ( e - > { 
 Toast . makeText ( getActivity ( ) , R . string . toast _ unable _ leave , Toast . LENGTH _ LONG ) . show ( ) ; 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml 
 index 4a230e8 . . a576924 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml 
 @ @ - 229 , 6 + 229 , 12 @ @ 
 < string name = " dialogs _ menu _ group _ leave " > В ы й т и и з г р у п п ы < / string > 
 < string name = " dialogs _ menu _ group _ delete " > У д а л и т ь г р у п п у < / string > 
 
 + < string name = " dialogs _ menu _ channel _ view " > И н ф о р м а ц и я о к а н а л е < / string > 
 + < string name = " dialogs _ menu _ channel _ rename " > П е р е и м е н о в а т ь к а н а л < / string > 
 + < string name = " dialogs _ menu _ channel _ leave " > В ы й т и и з к а н а л а < / string > 
 + < string name = " dialogs _ menu _ channel _ delete " > У д а л и т ь к а н а л < / string > 
 + 
 + 
 < ! - - Contacts - - > 
 < string name = " contacts _ title " > К о н т а к т ы < / string > 
 < string name = " contacts _ empty _ short " > Е щ е н е т к о н т а к т о в < / string > 
 @ @ - 585 , 9 + 591 , 11 @ @ 
 
 < ! - - Dialogs - - > 
 < string name = " alert _ leave _ group _ message " > В ы у в е р е н ы , ч т о х о т и т е в ы й т и и з г р у п п ы " % 1 $ s " ? < / string > 
 + < string name = " alert _ leave _ channel _ message " > В ы у в е р е н ы , ч т о х о т и т е в ы й т и и з к а н а л а " % 1 $ s " ? < / string > 
 < string name = " alert _ leave _ group _ yes " > В ы й т и < / string > 
 
 < string name = " alert _ delete _ group _ title " > В ы у в е р е н ы , ч т о х о т и т е у д а л и т ь г р у п п у " % 1 $ s " ? < / string > 
 + < string name = " alert _ delete _ channel _ title " > В ы у в е р е н ы , ч т о х о т и т е у д а л и т ь к а н а л " % 1 $ s " ? < / string > 
 < string name = " alert _ delete _ group _ yes " > У д а л и т ь < / string > 
 
 < string name = " alert _ delete _ chat _ message " > В ы у в е р е н ы , ч т о х о т и т е у д а л и т ь ч а т с " % 1 $ s " ? < / string > 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml 
 index 663ad2f . . ed7a708 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml 
 @ @ - 216 , 6 + 216 , 11 @ @ 
 < string name = " dialogs _ menu _ group _ leave " > Exit group < / string > 
 < string name = " dialogs _ menu _ group _ delete " > Delete group < / string > 
 
 + < string name = " dialogs _ menu _ channel _ view " > View channel info < / string > 
 + < string name = " dialogs _ menu _ channel _ rename " > Rename channel < / string > 
 + < string name = " dialogs _ menu _ channel _ leave " > Exit channel < / string > 
 + < string name = " dialogs _ menu _ channel _ delete " > Delete channel < / string > 
 + 
 < ! - - Contacts - - > 
 < string name = " contacts _ title " > Contacts < / string > 
 < string name = " contacts _ empty _ short " > No contacts here yet < / string > 
 @ @ - 585 , 9 + 590 , 11 @ @ 
 
 < ! - - Dialogs - - > 
 < string name = " alert _ leave _ group _ message " > Are you sure you want to exit group " % 1 $ s " ? < / string > 
 + < string name = " alert _ leave _ channel _ message " > Are you sure you want to exit channel " % 1 $ s " ? < / string > 
 < string name = " alert _ leave _ group _ yes " > Exit < / string > 
 
 < string name = " alert _ delete _ group _ title " > Delete " % 1 $ s " group ? < / string > 
 + < string name = " alert _ delete _ channel _ title " > Delete " % 1 $ s " channel ? < / string > 
 < string name = " alert _ delete _ group _ yes " > Delete < / string > 
 
 < string name = " alert _ delete _ chat _ message " > Delete chat with " % 1 $ s " ? < / string >

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / compose / GroupUsersFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / compose / GroupUsersFragment . java 
 index 237720d . . 70d8573 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / compose / GroupUsersFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / compose / GroupUsersFragment . java 
 @ @ - 14 , 6 + 14 , 7 @ @ import android . view . View ; 
 import android . view . ViewGroup ; 
 import android . widget . EditText ; 
 
 + import android . widget . Toast ; 
 import im . actor . core . entity . Contact ; 
 import im . actor . core . viewmodel . CommandCallback ; 
 import im . actor . sdk . ActorSDK ; 
 @ @ - 110 , 6 + 111 , 7 @ @ public class GroupUsersFragment extends BaseContactFragment { 
 
 @ Override 
 public void onError ( Exception e ) { 
 + Toast . makeText ( getActivity ( ) , getString ( R . string . toast _ unable _ create _ group ) , Toast . LENGTH _ LONG ) . show ( ) ; 
 
 } 
 } ) ; 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 index 34d9c73 . . 3f3eb7e 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 @ @ - 1167 , 7 + 1167 , 17 @ @ public class ChatActivity extends ActorEditTextActivity { 
 . setPositiveButton ( R . string . alert _ delete _ all _ messages _ yes , new DialogInterface . OnClickListener ( ) { 
 @ Override 
 public void onClick ( DialogInterface dialog , int which ) { 
 - execute ( messenger ( ) . clearChat ( peer ) ) ; 
 + execute ( messenger ( ) . clearChat ( peer ) , R . string . progress _ common , 
 + new CommandCallback < Boolean > ( ) { 
 + @ Override 
 + public void onResult ( Boolean res ) { 
 + 
 + } 
 + 
 + @ Override 
 + public void onError ( Exception e ) { 
 + Toast . makeText ( getApplicationContext ( ) , R . string . toast _ unable _ clear _ chat , Toast . LENGTH _ LONG ) . show ( ) ; } 
 + } ) ; 
 } 
 } ) 
 . setNegativeButton ( R . string . dialog _ cancel , null ) 
 @ @ - 1181 , 7 + 1191 , 22 @ @ public class ChatActivity extends ActorEditTextActivity { 
 . setPositiveButton ( R . string . alert _ leave _ group _ yes , new DialogInterface . OnClickListener ( ) { 
 @ Override 
 public void onClick ( DialogInterface dialog2 , int which ) { 
 - execute ( messenger ( ) . leaveGroup ( peer . getPeerId ( ) ) ) ; 
 + execute ( messenger ( ) . leaveGroup ( peer . getPeerId ( ) ) , R . string . progress _ common , new CommandCallback < Boolean > ( ) { 
 + @ Override 
 + public void onResult ( Boolean res ) { 
 + 
 + } 
 + 
 + @ Override 
 + public void onError ( final Exception e ) { 
 + runOnUiThread ( new Runnable ( ) { 
 + @ Override 
 + public void run ( ) { 
 + Toast . makeText ( getApplicationContext ( ) , R . string . toast _ unable _ leave , Toast . LENGTH _ LONG ) . show ( ) ; 
 + } 
 + } ) ; 
 + } 
 + } ) ; 
 finish ( ) ; 
 } 
 } ) 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / DialogsFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / DialogsFragment . java 
 index 254c54c . . 29cb47c 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / DialogsFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / DialogsFragment . java 
 @ @ - 3 , 8 + 3 , 10 @ @ package im . actor . sdk . controllers . dialogs ; 
 import android . content . DialogInterface ; 
 import android . support . v7 . app . AlertDialog ; 
 
 + import android . widget . Toast ; 
 import im . actor . core . entity . Dialog ; 
 import im . actor . core . entity . PeerType ; 
 + import im . actor . core . viewmodel . CommandCallback ; 
 import im . actor . core . viewmodel . GroupVM ; 
 import im . actor . sdk . ActorSDK ; 
 import im . actor . sdk . R ; 
 @ @ - 85 , 7 + 87 , 17 @ @ public class DialogsFragment extends BaseDialogFragment { 
 . setPositiveButton ( R . string . alert _ leave _ group _ yes , new DialogInterface . OnClickListener ( ) { 
 @ Override 
 public void onClick ( DialogInterface d , int which ) { 
 - execute ( messenger ( ) . leaveGroup ( dialog . getPeer ( ) . getPeerId ( ) ) ) ; 
 + execute ( messenger ( ) . leaveGroup ( dialog . getPeer ( ) . getPeerId ( ) ) , R . string . progress _ common , 
 + new CommandCallback < Boolean > ( ) { 
 + @ Override 
 + public void onResult ( Boolean res ) { 
 + 
 + } 
 + 
 + @ Override 
 + public void onError ( Exception e ) { 
 + Toast . makeText ( getActivity ( ) , R . string . toast _ unable _ leave , Toast . LENGTH _ LONG ) . show ( ) ; } 
 + } ) ; 
 } 
 } ) 
 . show ( ) ; 
 @ @ - 96 , 7 + 108 , 17 @ @ public class DialogsFragment extends BaseDialogFragment { 
 . setPositiveButton ( R . string . alert _ delete _ group _ yes , new DialogInterface . OnClickListener ( ) { 
 @ Override 
 public void onClick ( DialogInterface d , int which ) { 
 - execute ( messenger ( ) . deleteChat ( dialog . getPeer ( ) ) ) ; 
 + execute ( messenger ( ) . deleteChat ( dialog . getPeer ( ) ) , R . string . progress _ common , 
 + new CommandCallback < Boolean > ( ) { 
 + @ Override 
 + public void onResult ( Boolean res ) { 
 + 
 + } 
 + 
 + @ Override 
 + public void onError ( Exception e ) { 
 + Toast . makeText ( getActivity ( ) , R . string . toast _ unable _ delete _ chat , Toast . LENGTH _ LONG ) . show ( ) ; } 
 + } ) ; 
 } 
 } ) 
 . show ( ) ; 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - fa / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - fa / ui _ text . xml 
 index 0f1e11a . . d99268b 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - fa / ui _ text . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - fa / ui _ text . xml 
 @ @ - 33 , 6 + 33 , 10 @ @ 
 < string name = " toast _ unable _ change _ nick " > ت غ ی ی ر ن ا م ک ا ر ب ر ی ب ا ش ک س ت م و ا ج ه ش د ( آ ی ا ش م ا ا ز ک ا ر ا ک ت ر ه ا ی م ج ا ز ا س ت ف ا د ه ک ر د ی د ؟ ) < / string > 
 < string name = " toast _ empty _ about " > م ع ر ف ی ن م ی ‌ ت و ا ن د خ ا ل ی ب ا ش د < / string > 
 < string name = " toast _ unable _ open " > ب ر ن ا م ه ا ی ب ر ا ی ب ا ز ک ر د ن ا ی ن ف ا ی ل و ج و د ن د ا ر د < / string > 
 + < string name = " toast _ unable _ leave " > خ ر و ج ا ز گ ر و ه ب ا خ ط ا م و ا ج ه ش د < / string > 
 + < string name = " toast _ unable _ create _ group " > ا ی ج ا د گ ر و ه ب ا خ ط ا م و ا ج ه ش د < / string > 
 + < string name = " toast _ unable _ delete _ chat " > ح ذ ف گ پ ب ا خ ط ا م و ا ج ه ش د < / string > 
 + < string name = " toast _ unable _ clear _ chat " > پ ا ک ک ر د ن گ پ ب ا خ ط ا م و ا ج ه ش د < / string > 
 
 < string name = " menu _ share " > ا ش ت ر ا ک < / string > 
 < string name = " menu _ save " > ذ خ ی ر ه د ر ت ل ف ن < / string > 
 @ @ - 313 , 7 + 317 , 7 @ @ 
 
 < ! - - Add Contact - - > 
 < string name = " add _ contact _ title " > ا ف ز و د ن م خ ا ط ب < / string > 
 - < string name = " add _ contact _ phone _ hint " > ش م ا ر ه ه م ر ا ه ر ا و ا ر د ک ن ی د < / string > 
 + < string name = " add _ contact _ phone _ hint " > ش م ا ر ه ه م ر ا ه ، ث ا ب ت ی ا ا ی م ی ل ‌ ت ا ن ر ا و ا ر د ک ن ی د < / string > 
 < string name = " add _ contact _ bar _ cancel " > ب ی ‌ خ ی ا ل < / string > 
 < string name = " add _ contact _ bar _ continue " > ا د ا م ه ب د ه ی د < / string > 
 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml 
 index 9d018c8 . . 4182ac0 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml 
 @ @ - 34 , 6 + 34 , 10 @ @ 
 < string name = " toast _ unable _ change _ nick " > Unable to change the nickname < / string > 
 < string name = " toast _ empty _ about " > " About " section can \ ' t be empty < / string > 
 < string name = " toast _ unable _ open " > No app is available to open this < / string > 
 + < string name = " toast _ unable _ leave " > Unable to leave from group < / string > 
 + < string name = " toast _ unable _ create _ group " > Unable to create the group < / string > 
 + < string name = " toast _ unable _ delete _ chat " > Unable to delete the chat < / string > 
 + < string name = " toast _ unable _ clear _ chat " > Unable to clear the chat < / string > 
 
 < string name = " menu _ share " > Share < / string > 
 < string name = " menu _ save " > Save to Phone < / string >
