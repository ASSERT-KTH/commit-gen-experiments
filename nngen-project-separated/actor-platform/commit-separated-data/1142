BLEU SCORE: 0.44632361378533286

TEST MSG: feat ( core ) : Adding anonymous authentication method
GENERATED MSG: feat ( core ) : Added password validation

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java < nl > index 1ff74d7 . . 1a36d66 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java < nl > @ @ - 148 , 6 + 148 , 18 @ @ public class Messenger { < nl > } < nl > < nl > / * * < nl > + * Request user name anonymous auth < nl > + * < nl > + * @ param userName userName to authenticate < nl > + * @ return Command for execution < nl > + * / < nl > + @ NotNull < nl > + @ ObjectiveCName ( " requestStartAuthCommandWithUserName : " ) < nl > + public Command < AuthState > requestStartAnonymousAuth ( String userName ) { < nl > + return modules . getAuthModule ( ) . requestStartAnonumousAuth ( userName ) ; < nl > + } < nl > + < nl > + / * * < nl > * Request user name auth < nl > * < nl > * @ param userName userName to authenticate < nl > diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / Authentication . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / Authentication . java < nl > index 02e9edc . . 482e019 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / Authentication . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / Authentication . java < nl > @ @ - 14 , 6 + 14 , 7 @ @ import im . actor . core . api . rpc . RequestCompleteOAuth2 ; < nl > import im . actor . core . api . rpc . RequestGetOAuth2Params ; < nl > import im . actor . core . api . rpc . RequestSendCodeByPhoneCall ; < nl > import im . actor . core . api . rpc . RequestSignUp ; < nl > + import im . actor . core . api . rpc . RequestStartAnonymousAuth ; < nl > import im . actor . core . api . rpc . RequestStartEmailAuth ; < nl > import im . actor . core . api . rpc . RequestStartPhoneAuth ; < nl > import im . actor . core . api . rpc . RequestStartUsernameAuth ; < nl > @ @ - 40 , 6 + 41 , 8 @ @ import im . actor . runtime . Runtime ; < nl > < nl > public class Authentication { < nl > < nl > + private static final String TAG = " Authentication " ; < nl > + < nl > private static final String KEY _ DEVICE _ HASH = " device _ hash " ; < nl > < nl > private static final String KEY _ AUTH = " auth _ yes " ; < nl > @ @ - 113 , 6 + 116 , 41 @ @ public class Authentication { < nl > } < nl > } < nl > < nl > + public Command < AuthState > requestStartAnonumousAuth ( final String userName ) { < nl > + return new Command < AuthState > ( ) { < nl > + @ Override < nl > + public void start ( final CommandCallback < AuthState > callback ) { < nl > + ArrayList < String > langs = new ArrayList < String > ( ) ; < nl > + for ( String s : modules . getConfiguration ( ) . getPreferredLanguages ( ) ) { < nl > + langs . add ( s ) ; < nl > + } < nl > + request ( new RequestStartAnonymousAuth ( userName , < nl > + apiConfiguration . getAppId ( ) , < nl > + apiConfiguration . getAppKey ( ) , < nl > + deviceHash , < nl > + apiConfiguration . getDeviceTitle ( ) , < nl > + modules . getConfiguration ( ) . getTimeZone ( ) , < nl > + langs ) , new RpcCallback < ResponseAuth > ( ) { < nl > + @ Override < nl > + public void onResult ( ResponseAuth response ) { < nl > + onLoggedIn ( callback , response ) ; < nl > + } < nl > + < nl > + @ Override < nl > + public void onError ( final RpcException e ) { < nl > + im . actor . runtime . Runtime . postToMainThread ( new Runnable ( ) { < nl > + @ Override < nl > + public void run ( ) { < nl > + Log . e ( TAG , e ) ; < nl > + callback . onError ( e ) ; < nl > + } < nl > + } ) ; < nl > + } < nl > + } ) ; < nl > + } < nl > + } ; < nl > + } < nl > + < nl > public Command < AuthState > requestStartEmailAuth ( final String email ) { < nl > return new Command < AuthState > ( ) { < nl > @ Override < nl > @ @ - 156 , 8 + 194 , 8 @ @ public class Authentication { < nl > im . actor . runtime . Runtime . postToMainThread ( new Runnable ( ) { < nl > @ Override < nl > public void run ( ) { < nl > + Log . e ( TAG , e ) ; < nl > callback . onError ( e ) ; < nl > - e . printStackTrace ( ) ; < nl > } < nl > } ) ; < nl > } < nl > @ @ - 201 , 8 + 239 , 8 @ @ public class Authentication { < nl > im . actor . runtime . Runtime . postToMainThread ( new Runnable ( ) { < nl > @ Override < nl > public void run ( ) { < nl > + Log . e ( TAG , e ) ; < nl > callback . onError ( e ) ; < nl > - e . printStackTrace ( ) ; < nl > } < nl > } ) ; < nl > } < nl > @ @ - 247 , 8 + 285 , 8 @ @ public class Authentication { < nl > im . actor . runtime . Runtime . postToMainThread ( new Runnable ( ) { < nl > @ Override < nl > public void run ( ) { < nl > + Log . e ( TAG , e ) ; < nl > callback . onError ( e ) ; < nl > - e . printStackTrace ( ) ; < nl > } < nl > } ) ; < nl > } < nl > @ @ - 283 , 8 + 321 , 8 @ @ public class Authentication { < nl > im . actor . runtime . Runtime . postToMainThread ( new Runnable ( ) { < nl > @ Override < nl > public void run ( ) { < nl > + Log . e ( TAG , e ) ; < nl > callback . onError ( e ) ; < nl > - e . printStackTrace ( ) ; < nl > } < nl > } ) ; < nl > } < nl > @ @ - 317 , 6 + 355 , 7 @ @ public class Authentication { < nl > Runtime . postToMainThread ( new Runnable ( ) { < nl > @ Override < nl > public void run ( ) { < nl > + Log . e ( TAG , e ) ; < nl > callback . onError ( e ) ; < nl > } < nl > } ) ; < nl > @ @ - 348 , 6 + 387 , 7 @ @ public class Authentication { < nl > Runtime . postToMainThread ( new Runnable ( ) { < nl > @ Override < nl > public void run ( ) { < nl > + Log . e ( TAG , e ) ; < nl > callback . onError ( e ) ; < nl > } < nl > } ) ; < nl > @ @ - 392 , 6 + 432 , 7 @ @ public class Authentication { < nl > Runtime . postToMainThread ( new Runnable ( ) { < nl > @ Override < nl > public void run ( ) { < nl > + Log . e ( TAG , e ) ; < nl > callback . onError ( e ) ; < nl > } < nl > } ) ; < nl > @ @ - 430 , 6 + 471 , 7 @ @ public class Authentication { < nl > Runtime . postToMainThread ( new Runnable ( ) { < nl > @ Override < nl > public void run ( ) { < nl > + Log . e ( TAG , e ) ; < nl > callback . onError ( e ) ; < nl > } < nl > } ) ;
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / AuthState . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / AuthState . java < nl > index 096d2d1 . . a677dbc 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / AuthState . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / AuthState . java < nl > @ @ - 14 , 6 + 14 , 7 @ @ public enum AuthState { < nl > AUTH _ CUSTOM , < nl > CODE _ VALIDATION _ PHONE , < nl > CODE _ VALIDATION _ EMAIL , < nl > + PASSWORD _ VALIDATION , < nl > CODE _ VALIDATION _ CUSTOM , < nl > GET _ OAUTH _ PARAMS , < nl > COMPLETE _ OAUTH , < nl > diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java < nl > index cf4f5d4 . . 797a6a1 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java < nl > @ @ - 192 , 6 + 192 , 18 @ @ public class Messenger { < nl > } < nl > < nl > / * * < nl > + * Sending password < nl > + * < nl > + * @ param password Account password < nl > + * @ return Command for execution < nl > + * / < nl > + @ NotNull < nl > + @ ObjectiveCName ( " validatePasswordCommand : " ) < nl > + public Command < AuthState > validatePassword ( String password ) { < nl > + return modules . getAuthModule ( ) . requestValidatePassword ( password ) ; < nl > + } < nl > + < nl > + / * * < nl > * Perform signup < nl > * < nl > * @ param name Name of User < nl > @ @ - 678 , 11 + 690 , 11 @ @ public class Messenger { < nl > / * * < nl > * Send Location Message < nl > * < nl > - * @ param peer destination peer < nl > - * @ param longitude user location longitude < nl > - * @ param latitude user location latitude < nl > - * @ param street user location street < nl > - * @ param place user location place < nl > + * @ param peer destination peer < nl > + * @ param longitude user location longitude < nl > + * @ param latitude user location latitude < nl > + * @ param street user location street < nl > + * @ param place user location place < nl > * / < nl > @ ObjectiveCName ( " sendLocationWithPeer : withLongitude : withLatitude : withStreet : withPlace : " ) < nl > public void sendLocation ( @ NotNull Peer peer , < nl > @ @ - 1772 , 7 + 1784 , 7 @ @ public class Messenger { < nl > } < nl > < nl > / * * < nl > - * Getting saved sticker packs < nl > + * Getting saved sticker packs < nl > * < nl > * @ return list of saved sticker packs Value Models < nl > * / < nl > diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / Authentication . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / Authentication . java < nl > index fa988f4 . . 93798a5 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / Authentication . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / Authentication . java < nl > @ @ - 17 , 6 + 17 , 7 @ @ import im . actor . core . api . rpc . RequestSignUp ; < nl > import im . actor . core . api . rpc . RequestStartEmailAuth ; < nl > import im . actor . core . api . rpc . RequestStartPhoneAuth ; < nl > import im . actor . core . api . rpc . RequestValidateCode ; < nl > + import im . actor . core . api . rpc . RequestValidatePassword ; < nl > import im . actor . core . api . rpc . ResponseAuth ; < nl > import im . actor . core . api . rpc . ResponseGetOAuth2Params ; < nl > import im . actor . core . api . rpc . ResponseStartEmailAuth ; < nl > @ @ - 46 , 7 + 47 , 7 @ @ public class Authentication { < nl > private static final String KEY _ SMS _ HASH = " auth _ sms _ hash " ; < nl > private static final String KEY _ SMS _ CODE = " auth _ sms _ code " ; < nl > private static final String KEY _ TRANSACTION _ HASH = " auth _ transaction _ hash " ; < nl > - private static final String KEY _ CODE = " auth _ code " ; < nl > + / / private static final String KEY _ CODE = " auth _ code " ; < nl > private static final String KEY _ OAUTH _ REDIRECT _ URL = " oauth _ redirect _ url " ; < nl > < nl > private Modules modules ; < nl > @ @ - 136 , 6 + 137 , 8 @ @ public class Authentication { < nl > state = AuthState . GET _ OAUTH _ PARAMS ; < nl > } else if ( emailActivationType . equals ( ApiEmailActivationType . CODE ) ) { < nl > state = AuthState . CODE _ VALIDATION _ EMAIL ; < nl > + } else if ( emailActivationType . equals ( ApiEmailActivationType . PASSWORD ) ) { < nl > + state = AuthState . PASSWORD _ VALIDATION ; < nl > } < nl > < nl > im . actor . runtime . Runtime . postToMainThread ( new Runnable ( ) { < nl > @ @ - 258 , 7 + 261 , 7 @ @ public class Authentication { < nl > if ( " EMAIL _ EXPIRED " . equals ( e . getTag ( ) ) ) { < nl > resetAuth ( ) ; < nl > } else if ( " EMAIL _ UNOCCUPIED " . equals ( e . getTag ( ) ) ) { < nl > - modules . getPreferences ( ) . putString ( KEY _ CODE , code ) ; < nl > + / / modules . getPreferences ( ) . putString ( KEY _ CODE , code ) ; < nl > state = AuthState . SIGN _ UP ; < nl > callback . onResult ( AuthState . SIGN _ UP ) ; < nl > return ; < nl > @ @ - 328 , 7 + 331 , 7 @ @ public class Authentication { < nl > if ( " PHONE _ CODE _ EXPIRED " . equals ( e . getTag ( ) ) | | " EMAIL _ CODE _ EXPIRED " . equals ( e . getTag ( ) ) ) { < nl > resetAuth ( ) ; < nl > } else if ( " PHONE _ NUMBER _ UNOCCUPIED " . equals ( e . getTag ( ) ) | | " EMAIL _ UNOCCUPIED " . equals ( e . getTag ( ) ) ) { < nl > - modules . getPreferences ( ) . putString ( KEY _ CODE , code ) ; < nl > + / / modules . getPreferences ( ) . putString ( KEY _ CODE , code ) ; < nl > state = AuthState . SIGN _ UP ; < nl > Runtime . postToMainThread ( new Runnable ( ) { < nl > @ Override < nl > @ @ - 351 , 6 + 354 , 44 @ @ public class Authentication { < nl > } ; < nl > } < nl > < nl > + public Command < AuthState > requestValidatePassword ( final String password ) { < nl > + return new Command < AuthState > ( ) { < nl > + @ Override < nl > + public void start ( final CommandCallback < AuthState > callback ) { < nl > + String transactionHash = modules . getPreferences ( ) < nl > + . getString ( KEY _ TRANSACTION _ HASH ) ; < nl > + request ( new RequestValidatePassword ( transactionHash , password ) , < nl > + new RpcCallback < ResponseAuth > ( ) { < nl > + @ Override < nl > + public void onResult ( ResponseAuth response ) { < nl > + onLoggedIn ( callback , response ) ; < nl > + } < nl > + < nl > + @ Override < nl > + public void onError ( final RpcException e ) { < nl > + if ( " PHONE _ NUMBER _ UNOCCUPIED " . equals ( e . getTag ( ) ) | | " EMAIL _ UNOCCUPIED " . equals ( e . getTag ( ) ) ) { < nl > + state = AuthState . SIGN _ UP ; < nl > + Runtime . postToMainThread ( new Runnable ( ) { < nl > + @ Override < nl > + public void run ( ) { < nl > + callback . onResult ( AuthState . SIGN _ UP ) ; < nl > + } < nl > + } ) ; < nl > + return ; < nl > + } < nl > + < nl > + Runtime . postToMainThread ( new Runnable ( ) { < nl > + @ Override < nl > + public void run ( ) { < nl > + callback . onError ( e ) ; < nl > + } < nl > + } ) ; < nl > + } < nl > + } ) ; < nl > + } < nl > + } ; < nl > + } < nl > + < nl > public Command < Boolean > requestCallActivation ( ) { < nl > return new Command < Boolean > ( ) { < nl > @ Override

TEST DIFF:
diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java 
 index 1ff74d7 . . 1a36d66 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java 
 @ @ - 148 , 6 + 148 , 18 @ @ public class Messenger { 
 } 
 
 / * * 
 + * Request user name anonymous auth 
 + * 
 + * @ param userName userName to authenticate 
 + * @ return Command for execution 
 + * / 
 + @ NotNull 
 + @ ObjectiveCName ( " requestStartAuthCommandWithUserName : " ) 
 + public Command < AuthState > requestStartAnonymousAuth ( String userName ) { 
 + return modules . getAuthModule ( ) . requestStartAnonumousAuth ( userName ) ; 
 + } 
 + 
 + / * * 
 * Request user name auth 
 * 
 * @ param userName userName to authenticate 
 diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / Authentication . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / Authentication . java 
 index 02e9edc . . 482e019 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / Authentication . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / Authentication . java 
 @ @ - 14 , 6 + 14 , 7 @ @ import im . actor . core . api . rpc . RequestCompleteOAuth2 ; 
 import im . actor . core . api . rpc . RequestGetOAuth2Params ; 
 import im . actor . core . api . rpc . RequestSendCodeByPhoneCall ; 
 import im . actor . core . api . rpc . RequestSignUp ; 
 + import im . actor . core . api . rpc . RequestStartAnonymousAuth ; 
 import im . actor . core . api . rpc . RequestStartEmailAuth ; 
 import im . actor . core . api . rpc . RequestStartPhoneAuth ; 
 import im . actor . core . api . rpc . RequestStartUsernameAuth ; 
 @ @ - 40 , 6 + 41 , 8 @ @ import im . actor . runtime . Runtime ; 
 
 public class Authentication { 
 
 + private static final String TAG = " Authentication " ; 
 + 
 private static final String KEY _ DEVICE _ HASH = " device _ hash " ; 
 
 private static final String KEY _ AUTH = " auth _ yes " ; 
 @ @ - 113 , 6 + 116 , 41 @ @ public class Authentication { 
 } 
 } 
 
 + public Command < AuthState > requestStartAnonumousAuth ( final String userName ) { 
 + return new Command < AuthState > ( ) { 
 + @ Override 
 + public void start ( final CommandCallback < AuthState > callback ) { 
 + ArrayList < String > langs = new ArrayList < String > ( ) ; 
 + for ( String s : modules . getConfiguration ( ) . getPreferredLanguages ( ) ) { 
 + langs . add ( s ) ; 
 + } 
 + request ( new RequestStartAnonymousAuth ( userName , 
 + apiConfiguration . getAppId ( ) , 
 + apiConfiguration . getAppKey ( ) , 
 + deviceHash , 
 + apiConfiguration . getDeviceTitle ( ) , 
 + modules . getConfiguration ( ) . getTimeZone ( ) , 
 + langs ) , new RpcCallback < ResponseAuth > ( ) { 
 + @ Override 
 + public void onResult ( ResponseAuth response ) { 
 + onLoggedIn ( callback , response ) ; 
 + } 
 + 
 + @ Override 
 + public void onError ( final RpcException e ) { 
 + im . actor . runtime . Runtime . postToMainThread ( new Runnable ( ) { 
 + @ Override 
 + public void run ( ) { 
 + Log . e ( TAG , e ) ; 
 + callback . onError ( e ) ; 
 + } 
 + } ) ; 
 + } 
 + } ) ; 
 + } 
 + } ; 
 + } 
 + 
 public Command < AuthState > requestStartEmailAuth ( final String email ) { 
 return new Command < AuthState > ( ) { 
 @ Override 
 @ @ - 156 , 8 + 194 , 8 @ @ public class Authentication { 
 im . actor . runtime . Runtime . postToMainThread ( new Runnable ( ) { 
 @ Override 
 public void run ( ) { 
 + Log . e ( TAG , e ) ; 
 callback . onError ( e ) ; 
 - e . printStackTrace ( ) ; 
 } 
 } ) ; 
 } 
 @ @ - 201 , 8 + 239 , 8 @ @ public class Authentication { 
 im . actor . runtime . Runtime . postToMainThread ( new Runnable ( ) { 
 @ Override 
 public void run ( ) { 
 + Log . e ( TAG , e ) ; 
 callback . onError ( e ) ; 
 - e . printStackTrace ( ) ; 
 } 
 } ) ; 
 } 
 @ @ - 247 , 8 + 285 , 8 @ @ public class Authentication { 
 im . actor . runtime . Runtime . postToMainThread ( new Runnable ( ) { 
 @ Override 
 public void run ( ) { 
 + Log . e ( TAG , e ) ; 
 callback . onError ( e ) ; 
 - e . printStackTrace ( ) ; 
 } 
 } ) ; 
 } 
 @ @ - 283 , 8 + 321 , 8 @ @ public class Authentication { 
 im . actor . runtime . Runtime . postToMainThread ( new Runnable ( ) { 
 @ Override 
 public void run ( ) { 
 + Log . e ( TAG , e ) ; 
 callback . onError ( e ) ; 
 - e . printStackTrace ( ) ; 
 } 
 } ) ; 
 } 
 @ @ - 317 , 6 + 355 , 7 @ @ public class Authentication { 
 Runtime . postToMainThread ( new Runnable ( ) { 
 @ Override 
 public void run ( ) { 
 + Log . e ( TAG , e ) ; 
 callback . onError ( e ) ; 
 } 
 } ) ; 
 @ @ - 348 , 6 + 387 , 7 @ @ public class Authentication { 
 Runtime . postToMainThread ( new Runnable ( ) { 
 @ Override 
 public void run ( ) { 
 + Log . e ( TAG , e ) ; 
 callback . onError ( e ) ; 
 } 
 } ) ; 
 @ @ - 392 , 6 + 432 , 7 @ @ public class Authentication { 
 Runtime . postToMainThread ( new Runnable ( ) { 
 @ Override 
 public void run ( ) { 
 + Log . e ( TAG , e ) ; 
 callback . onError ( e ) ; 
 } 
 } ) ; 
 @ @ - 430 , 6 + 471 , 7 @ @ public class Authentication { 
 Runtime . postToMainThread ( new Runnable ( ) { 
 @ Override 
 public void run ( ) { 
 + Log . e ( TAG , e ) ; 
 callback . onError ( e ) ; 
 } 
 } ) ;

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / AuthState . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / AuthState . java 
 index 096d2d1 . . a677dbc 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / AuthState . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / AuthState . java 
 @ @ - 14 , 6 + 14 , 7 @ @ public enum AuthState { 
 AUTH _ CUSTOM , 
 CODE _ VALIDATION _ PHONE , 
 CODE _ VALIDATION _ EMAIL , 
 + PASSWORD _ VALIDATION , 
 CODE _ VALIDATION _ CUSTOM , 
 GET _ OAUTH _ PARAMS , 
 COMPLETE _ OAUTH , 
 diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java 
 index cf4f5d4 . . 797a6a1 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java 
 @ @ - 192 , 6 + 192 , 18 @ @ public class Messenger { 
 } 
 
 / * * 
 + * Sending password 
 + * 
 + * @ param password Account password 
 + * @ return Command for execution 
 + * / 
 + @ NotNull 
 + @ ObjectiveCName ( " validatePasswordCommand : " ) 
 + public Command < AuthState > validatePassword ( String password ) { 
 + return modules . getAuthModule ( ) . requestValidatePassword ( password ) ; 
 + } 
 + 
 + / * * 
 * Perform signup 
 * 
 * @ param name Name of User 
 @ @ - 678 , 11 + 690 , 11 @ @ public class Messenger { 
 / * * 
 * Send Location Message 
 * 
 - * @ param peer destination peer 
 - * @ param longitude user location longitude 
 - * @ param latitude user location latitude 
 - * @ param street user location street 
 - * @ param place user location place 
 + * @ param peer destination peer 
 + * @ param longitude user location longitude 
 + * @ param latitude user location latitude 
 + * @ param street user location street 
 + * @ param place user location place 
 * / 
 @ ObjectiveCName ( " sendLocationWithPeer : withLongitude : withLatitude : withStreet : withPlace : " ) 
 public void sendLocation ( @ NotNull Peer peer , 
 @ @ - 1772 , 7 + 1784 , 7 @ @ public class Messenger { 
 } 
 
 / * * 
 - * Getting saved sticker packs 
 + * Getting saved sticker packs 
 * 
 * @ return list of saved sticker packs Value Models 
 * / 
 diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / Authentication . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / Authentication . java 
 index fa988f4 . . 93798a5 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / Authentication . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / Authentication . java 
 @ @ - 17 , 6 + 17 , 7 @ @ import im . actor . core . api . rpc . RequestSignUp ; 
 import im . actor . core . api . rpc . RequestStartEmailAuth ; 
 import im . actor . core . api . rpc . RequestStartPhoneAuth ; 
 import im . actor . core . api . rpc . RequestValidateCode ; 
 + import im . actor . core . api . rpc . RequestValidatePassword ; 
 import im . actor . core . api . rpc . ResponseAuth ; 
 import im . actor . core . api . rpc . ResponseGetOAuth2Params ; 
 import im . actor . core . api . rpc . ResponseStartEmailAuth ; 
 @ @ - 46 , 7 + 47 , 7 @ @ public class Authentication { 
 private static final String KEY _ SMS _ HASH = " auth _ sms _ hash " ; 
 private static final String KEY _ SMS _ CODE = " auth _ sms _ code " ; 
 private static final String KEY _ TRANSACTION _ HASH = " auth _ transaction _ hash " ; 
 - private static final String KEY _ CODE = " auth _ code " ; 
 + / / private static final String KEY _ CODE = " auth _ code " ; 
 private static final String KEY _ OAUTH _ REDIRECT _ URL = " oauth _ redirect _ url " ; 
 
 private Modules modules ; 
 @ @ - 136 , 6 + 137 , 8 @ @ public class Authentication { 
 state = AuthState . GET _ OAUTH _ PARAMS ; 
 } else if ( emailActivationType . equals ( ApiEmailActivationType . CODE ) ) { 
 state = AuthState . CODE _ VALIDATION _ EMAIL ; 
 + } else if ( emailActivationType . equals ( ApiEmailActivationType . PASSWORD ) ) { 
 + state = AuthState . PASSWORD _ VALIDATION ; 
 } 
 
 im . actor . runtime . Runtime . postToMainThread ( new Runnable ( ) { 
 @ @ - 258 , 7 + 261 , 7 @ @ public class Authentication { 
 if ( " EMAIL _ EXPIRED " . equals ( e . getTag ( ) ) ) { 
 resetAuth ( ) ; 
 } else if ( " EMAIL _ UNOCCUPIED " . equals ( e . getTag ( ) ) ) { 
 - modules . getPreferences ( ) . putString ( KEY _ CODE , code ) ; 
 + / / modules . getPreferences ( ) . putString ( KEY _ CODE , code ) ; 
 state = AuthState . SIGN _ UP ; 
 callback . onResult ( AuthState . SIGN _ UP ) ; 
 return ; 
 @ @ - 328 , 7 + 331 , 7 @ @ public class Authentication { 
 if ( " PHONE _ CODE _ EXPIRED " . equals ( e . getTag ( ) ) | | " EMAIL _ CODE _ EXPIRED " . equals ( e . getTag ( ) ) ) { 
 resetAuth ( ) ; 
 } else if ( " PHONE _ NUMBER _ UNOCCUPIED " . equals ( e . getTag ( ) ) | | " EMAIL _ UNOCCUPIED " . equals ( e . getTag ( ) ) ) { 
 - modules . getPreferences ( ) . putString ( KEY _ CODE , code ) ; 
 + / / modules . getPreferences ( ) . putString ( KEY _ CODE , code ) ; 
 state = AuthState . SIGN _ UP ; 
 Runtime . postToMainThread ( new Runnable ( ) { 
 @ Override 
 @ @ - 351 , 6 + 354 , 44 @ @ public class Authentication { 
 } ; 
 } 
 
 + public Command < AuthState > requestValidatePassword ( final String password ) { 
 + return new Command < AuthState > ( ) { 
 + @ Override 
 + public void start ( final CommandCallback < AuthState > callback ) { 
 + String transactionHash = modules . getPreferences ( ) 
 + . getString ( KEY _ TRANSACTION _ HASH ) ; 
 + request ( new RequestValidatePassword ( transactionHash , password ) , 
 + new RpcCallback < ResponseAuth > ( ) { 
 + @ Override 
 + public void onResult ( ResponseAuth response ) { 
 + onLoggedIn ( callback , response ) ; 
 + } 
 + 
 + @ Override 
 + public void onError ( final RpcException e ) { 
 + if ( " PHONE _ NUMBER _ UNOCCUPIED " . equals ( e . getTag ( ) ) | | " EMAIL _ UNOCCUPIED " . equals ( e . getTag ( ) ) ) { 
 + state = AuthState . SIGN _ UP ; 
 + Runtime . postToMainThread ( new Runnable ( ) { 
 + @ Override 
 + public void run ( ) { 
 + callback . onResult ( AuthState . SIGN _ UP ) ; 
 + } 
 + } ) ; 
 + return ; 
 + } 
 + 
 + Runtime . postToMainThread ( new Runnable ( ) { 
 + @ Override 
 + public void run ( ) { 
 + callback . onError ( e ) ; 
 + } 
 + } ) ; 
 + } 
 + } ) ; 
 + } 
 + } ; 
 + } 
 + 
 public Command < Boolean > requestCallActivation ( ) { 
 return new Command < Boolean > ( ) { 
 @ Override
