BLEU SCORE: 0.3498761149110956

TEST MSG: fix ( iOS ) : fix photo / voice and etc no permissions bug
GENERATED MSG: fix ( iOS ) : fix localizations for attachment menu

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - ios / ActorApp / Supporting Files / Info . plist b / actor - sdk / sdk - core - ios / ActorApp / Supporting Files / Info . plist < nl > index 326a0fa . . fb9ee46 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorApp / Supporting Files / Info . plist 	 < nl > + + + b / actor - sdk / sdk - core - ios / ActorApp / Supporting Files / Info . plist 	 < nl > @ @ - 34 , 7 + 34 , 7 @ @ < nl > 	 	 < / dict > < nl > 	 < / array > < nl > 	 < key > CFBundleVersion < / key > < nl > - 	 < string > 515 < / string > < nl > + 	 < string > 518 < / string > < nl > 	 < key > Fabric < / key > < nl > 	 < dict > < nl > 	 	 < key > APIKey < / key > < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings b / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings < nl > index 25c6ad2 . . 6fe0adc 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings < nl > @ @ - 331 , 6 + 331 , 8 @ @ < nl > < nl > " ChatSlideUpToCancel " = " Slide up to cancel " ; < nl > < nl > + " Chat . MicrophoneAccessDisabled " = " We needs access to your microphone for voice messages . Please go to Settings — Privacy — Microphone and set to ON " ; < nl > + < nl > / * < nl > * Chat attachment menu < nl > * / < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Views / AAThumbnailView . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Views / AAThumbnailView . swift < nl > index a085a6d . . 5338598 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Views / AAThumbnailView . swift < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Views / AAThumbnailView . swift < nl > @ @ - 51 , 10 + 51 , 9 @ @ class AAThumbnailView : UIView , UICollectionViewDelegate , UICollectionViewDataSou < nl > func open ( ) { < nl > < nl > dispatchBackground { ( ) - > Void in < nl > - self . imageManager = PHCachingImageManager ( ) < nl > < nl > if PHPhotoLibrary . authorizationStatus ( ) = = . Authorized { < nl > - < nl > + self . imageManager = PHCachingImageManager ( ) < nl > self . fetchAssets ( ) < nl > dispatch _ async ( dispatch _ get _ main _ queue ( ) ) { < nl > self . collectionView . reloadData ( ) < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Utils / AudioRecorder / AAAudioRecorder . m b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Utils / AudioRecorder / AAAudioRecorder . m < nl > index 9130b12 . . 7792ba0 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Utils / AudioRecorder / AAAudioRecorder . m < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Utils / AudioRecorder / AAAudioRecorder . m < nl > @ @ - 110 , 7 + 110 , 7 @ @ static void playSoundCompleted ( _ _ unused SystemSoundID ssID , _ _ unused void * clien < nl > } < nl > else < nl > { < nl > - [ [ [ AAAlertView alloc ] initWithTitle : nil message : NSLocalizedString ( @ " Conversation . MicrophoneAccessDisabled " , nil ) delegate : nil cancelButtonTitle : NSLocalizedString ( @ " Common . OK " , nil ) otherButtonTitles : nil ] show ] ; < nl > + [ [ [ AAAlertView alloc ] initWithTitle : nil message : NSLocalizedString ( @ " Chat . MicrophoneAccessDisabled " , nil ) delegate : nil cancelButtonTitle : NSLocalizedString ( @ " AlertOk " , nil ) otherButtonTitles : nil ] show ] ; < nl > } < nl > } ;
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings b / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings < nl > index 9bbb039 . . e0faa59 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings < nl > @ @ - 331 , 6 + 331 , 14 @ @ < nl > " ChatSlideUpToCancel " = " Slide up to cancel " ; < nl > < nl > / * < nl > + * Chat attachment menu < nl > + * / < nl > + < nl > + " AttachmentsSendPhoto " = " Send { count } Photo " ; < nl > + < nl > + " AttachmentsSendPhotos " = " Send { count } Photos " ; < nl > + < nl > + / * < nl > * Find < nl > * / < nl > < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Resources / es . lproj / Localizable . strings b / actor - sdk / sdk - core - ios / ActorSDK / Resources / es . lproj / Localizable . strings < nl > index 14fca3b . . 0b76cba 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Resources / es . lproj / Localizable . strings < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Resources / es . lproj / Localizable . strings < nl > @ @ - 231 , 6 + 231 , 14 @ @ < nl > " ChatSlideUpToCancel " = " Deslizar para cancelar " ; < nl > < nl > / * < nl > + * Chat attachment menu < nl > + * / < nl > + < nl > + " AttachmentsSendPhoto " = " Enviar { count } Foto " ; < nl > + < nl > + " AttachmentsSendPhotos " = " Enviar { count } Fotos " ; < nl > + < nl > + / * < nl > * Notifications < nl > * / < nl > < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Resources / ru . lproj / Localizable . strings b / actor - sdk / sdk - core - ios / ActorSDK / Resources / ru . lproj / Localizable . strings < nl > index f297325 . . 6f45ffe 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Resources / ru . lproj / Localizable . strings < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Resources / ru . lproj / Localizable . strings < nl > @ @ - 309 , 6 + 309 , 14 @ @ < nl > " ChatNoGroupAccess " = " В ы н е с о с т о и т е в г р у п п е " ; < nl > < nl > / * < nl > + * Chat attachment menu < nl > + * / < nl > + < nl > + " AttachmentsSendPhoto " = " О т п р а в и т ь { count } Ф о т о " ; < nl > + < nl > + " AttachmentsSendPhotos " = " О т п р а в и т ь { count } Ф о т о " ; < nl > + < nl > + / * < nl > * Find < nl > * / < nl > < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Views / AAConvActionSheet . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Views / AAConvActionSheet . swift < nl > index 018c044 . . 58f4ec0 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Views / AAConvActionSheet . swift < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Views / AAConvActionSheet . swift < nl > @ @ - 250 , 9 + 250 , 9 @ @ class AAConvActionSheet : UIView { < nl > var sendString : String ! < nl > < nl > if self . thumbnailView . selectedAssets . count = = 1 { < nl > - sendString = " Send \ ( self . thumbnailView . selectedAssets . count ) Photo " < nl > + sendString = AALocalized ( " AttachmentsSendPhoto " ) . replace ( " { count } " , dest : " \ ( self . thumbnailView . selectedAssets . count ) " ) < nl > } else { < nl > - sendString = " Send \ ( self . thumbnailView . selectedAssets . count ) Photos " < nl > + sendString = AALocalized ( " AttachmentsSendPhotos " ) . replace ( " { count } " , dest : " \ ( self . thumbnailView . selectedAssets . count ) " ) < nl > } < nl > < nl > / / remove target

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - ios / ActorApp / Supporting Files / Info . plist b / actor - sdk / sdk - core - ios / ActorApp / Supporting Files / Info . plist 
 index 326a0fa . . fb9ee46 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorApp / Supporting Files / Info . plist 	 
 + + + b / actor - sdk / sdk - core - ios / ActorApp / Supporting Files / Info . plist 	 
 @ @ - 34 , 7 + 34 , 7 @ @ 
 	 	 < / dict > 
 	 < / array > 
 	 < key > CFBundleVersion < / key > 
 - 	 < string > 515 < / string > 
 + 	 < string > 518 < / string > 
 	 < key > Fabric < / key > 
 	 < dict > 
 	 	 < key > APIKey < / key > 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings b / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings 
 index 25c6ad2 . . 6fe0adc 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings 
 @ @ - 331 , 6 + 331 , 8 @ @ 
 
 " ChatSlideUpToCancel " = " Slide up to cancel " ; 
 
 + " Chat . MicrophoneAccessDisabled " = " We needs access to your microphone for voice messages . Please go to Settings — Privacy — Microphone and set to ON " ; 
 + 
 / * 
 * Chat attachment menu 
 * / 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Views / AAThumbnailView . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Views / AAThumbnailView . swift 
 index a085a6d . . 5338598 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Views / AAThumbnailView . swift 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Views / AAThumbnailView . swift 
 @ @ - 51 , 10 + 51 , 9 @ @ class AAThumbnailView : UIView , UICollectionViewDelegate , UICollectionViewDataSou 
 func open ( ) { 
 
 dispatchBackground { ( ) - > Void in 
 - self . imageManager = PHCachingImageManager ( ) 
 
 if PHPhotoLibrary . authorizationStatus ( ) = = . Authorized { 
 - 
 + self . imageManager = PHCachingImageManager ( ) 
 self . fetchAssets ( ) 
 dispatch _ async ( dispatch _ get _ main _ queue ( ) ) { 
 self . collectionView . reloadData ( ) 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Utils / AudioRecorder / AAAudioRecorder . m b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Utils / AudioRecorder / AAAudioRecorder . m 
 index 9130b12 . . 7792ba0 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Utils / AudioRecorder / AAAudioRecorder . m 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Utils / AudioRecorder / AAAudioRecorder . m 
 @ @ - 110 , 7 + 110 , 7 @ @ static void playSoundCompleted ( _ _ unused SystemSoundID ssID , _ _ unused void * clien 
 } 
 else 
 { 
 - [ [ [ AAAlertView alloc ] initWithTitle : nil message : NSLocalizedString ( @ " Conversation . MicrophoneAccessDisabled " , nil ) delegate : nil cancelButtonTitle : NSLocalizedString ( @ " Common . OK " , nil ) otherButtonTitles : nil ] show ] ; 
 + [ [ [ AAAlertView alloc ] initWithTitle : nil message : NSLocalizedString ( @ " Chat . MicrophoneAccessDisabled " , nil ) delegate : nil cancelButtonTitle : NSLocalizedString ( @ " AlertOk " , nil ) otherButtonTitles : nil ] show ] ; 
 } 
 } ;

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings b / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings 
 index 9bbb039 . . e0faa59 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings 
 @ @ - 331 , 6 + 331 , 14 @ @ 
 " ChatSlideUpToCancel " = " Slide up to cancel " ; 
 
 / * 
 + * Chat attachment menu 
 + * / 
 + 
 + " AttachmentsSendPhoto " = " Send { count } Photo " ; 
 + 
 + " AttachmentsSendPhotos " = " Send { count } Photos " ; 
 + 
 + / * 
 * Find 
 * / 
 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Resources / es . lproj / Localizable . strings b / actor - sdk / sdk - core - ios / ActorSDK / Resources / es . lproj / Localizable . strings 
 index 14fca3b . . 0b76cba 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Resources / es . lproj / Localizable . strings 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Resources / es . lproj / Localizable . strings 
 @ @ - 231 , 6 + 231 , 14 @ @ 
 " ChatSlideUpToCancel " = " Deslizar para cancelar " ; 
 
 / * 
 + * Chat attachment menu 
 + * / 
 + 
 + " AttachmentsSendPhoto " = " Enviar { count } Foto " ; 
 + 
 + " AttachmentsSendPhotos " = " Enviar { count } Fotos " ; 
 + 
 + / * 
 * Notifications 
 * / 
 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Resources / ru . lproj / Localizable . strings b / actor - sdk / sdk - core - ios / ActorSDK / Resources / ru . lproj / Localizable . strings 
 index f297325 . . 6f45ffe 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Resources / ru . lproj / Localizable . strings 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Resources / ru . lproj / Localizable . strings 
 @ @ - 309 , 6 + 309 , 14 @ @ 
 " ChatNoGroupAccess " = " В ы н е с о с т о и т е в г р у п п е " ; 
 
 / * 
 + * Chat attachment menu 
 + * / 
 + 
 + " AttachmentsSendPhoto " = " О т п р а в и т ь { count } Ф о т о " ; 
 + 
 + " AttachmentsSendPhotos " = " О т п р а в и т ь { count } Ф о т о " ; 
 + 
 + / * 
 * Find 
 * / 
 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Views / AAConvActionSheet . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Views / AAConvActionSheet . swift 
 index 018c044 . . 58f4ec0 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Views / AAConvActionSheet . swift 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Views / AAConvActionSheet . swift 
 @ @ - 250 , 9 + 250 , 9 @ @ class AAConvActionSheet : UIView { 
 var sendString : String ! 
 
 if self . thumbnailView . selectedAssets . count = = 1 { 
 - sendString = " Send \ ( self . thumbnailView . selectedAssets . count ) Photo " 
 + sendString = AALocalized ( " AttachmentsSendPhoto " ) . replace ( " { count } " , dest : " \ ( self . thumbnailView . selectedAssets . count ) " ) 
 } else { 
 - sendString = " Send \ ( self . thumbnailView . selectedAssets . count ) Photos " 
 + sendString = AALocalized ( " AttachmentsSendPhotos " ) . replace ( " { count } " , dest : " \ ( self . thumbnailView . selectedAssets . count ) " ) 
 } 
 
 / / remove target
