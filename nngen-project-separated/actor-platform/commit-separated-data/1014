BLEU SCORE: 0.11830764107863238

TEST MSG: fix ( server ) : typo
GENERATED MSG: fix ( server : users ) : isBot was not flusted to sql

TEST DIFF (one line): diff - - git a / actor - server / actor - core / src / main / scala / im / actor / api / rpc / raw / MapStyleRawApiService . scala b / actor - server / actor - core / src / main / scala / im / actor / api / rpc / raw / MapStyleRawApiService . scala < nl > index c40859b . . 1d4acd3 100644 < nl > - - - a / actor - server / actor - core / src / main / scala / im / actor / api / rpc / raw / MapStyleRawApiService . scala < nl > + + + b / actor - server / actor - core / src / main / scala / im / actor / api / rpc / raw / MapStyleRawApiService . scala < nl > @ @ - 17 , 7 + 17 , 7 @ @ trait ProductImplicits { < nl > * < nl > * @ param product case class or case object < nl > * / < nl > - implicit class Foo ( product : Product ) { < nl > + implicit class Product2ApiValue ( product : Product ) { < nl > def asApiMap : ApiMapValue = { < nl > / / case object or empty case class < nl > if ( product . productArity = = 0 ) { < nl > diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / user / UserCommandHandlers . scala b / actor - server / actor - core / src / main / scala / im / actor / server / user / UserCommandHandlers . scala < nl > index 24d7279 . . 42fce42 100644 < nl > - - - a / actor - server / actor - core / src / main / scala / im / actor / server / user / UserCommandHandlers . scala < nl > + + + b / actor - server / actor - core / src / main / scala / im / actor / server / user / UserCommandHandlers . scala < nl > @ @ - 103 , 7 + 103 , 7 @ @ private [ user ] trait UserCommandHandlers { < nl > db . run ( for { < nl > _ ← p . UserRepo . create ( user ) < nl > } yield CreateAck ( ) ) andThen { < nl > - case Success ( _ ) = > userExt . hooks . afterCreate . runAll ( user . id ) < nl > + case Success ( _ ) ⇒ userExt . hooks . afterCreate . runAll ( user . id ) < nl > } < nl > } < nl > } else {
NEAREST DIFF (one line): diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / user / UserCommandHandlers . scala b / actor - server / actor - core / src / main / scala / im / actor / server / user / UserCommandHandlers . scala < nl > index e87444b . . cc7ae16 100644 < nl > - - - a / actor - server / actor - core / src / main / scala / im / actor / server / user / UserCommandHandlers . scala < nl > + + + b / actor - server / actor - core / src / main / scala / im / actor / server / user / UserCommandHandlers . scala < nl > @ @ - 81 , 7 + 81 , 8 @ @ private [ user ] trait UserCommandHandlers { < nl > sex = models . Sex . fromInt ( sex . id ) , < nl > state = models . UserState . Registered , < nl > createdAt = LocalDateTime . now ( ZoneOffset . UTC ) , < nl > - external = external < nl > + external = external , < nl > + isBot = isBot < nl > ) < nl > db . run ( for ( _ ← p . UserRepo . create ( user ) ) yield CreateAck ( ) ) < nl > }

TEST DIFF:
diff - - git a / actor - server / actor - core / src / main / scala / im / actor / api / rpc / raw / MapStyleRawApiService . scala b / actor - server / actor - core / src / main / scala / im / actor / api / rpc / raw / MapStyleRawApiService . scala 
 index c40859b . . 1d4acd3 100644 
 - - - a / actor - server / actor - core / src / main / scala / im / actor / api / rpc / raw / MapStyleRawApiService . scala 
 + + + b / actor - server / actor - core / src / main / scala / im / actor / api / rpc / raw / MapStyleRawApiService . scala 
 @ @ - 17 , 7 + 17 , 7 @ @ trait ProductImplicits { 
 * 
 * @ param product case class or case object 
 * / 
 - implicit class Foo ( product : Product ) { 
 + implicit class Product2ApiValue ( product : Product ) { 
 def asApiMap : ApiMapValue = { 
 / / case object or empty case class 
 if ( product . productArity = = 0 ) { 
 diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / user / UserCommandHandlers . scala b / actor - server / actor - core / src / main / scala / im / actor / server / user / UserCommandHandlers . scala 
 index 24d7279 . . 42fce42 100644 
 - - - a / actor - server / actor - core / src / main / scala / im / actor / server / user / UserCommandHandlers . scala 
 + + + b / actor - server / actor - core / src / main / scala / im / actor / server / user / UserCommandHandlers . scala 
 @ @ - 103 , 7 + 103 , 7 @ @ private [ user ] trait UserCommandHandlers { 
 db . run ( for { 
 _ ← p . UserRepo . create ( user ) 
 } yield CreateAck ( ) ) andThen { 
 - case Success ( _ ) = > userExt . hooks . afterCreate . runAll ( user . id ) 
 + case Success ( _ ) ⇒ userExt . hooks . afterCreate . runAll ( user . id ) 
 } 
 } 
 } else {

NEAREST DIFF:
diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / user / UserCommandHandlers . scala b / actor - server / actor - core / src / main / scala / im / actor / server / user / UserCommandHandlers . scala 
 index e87444b . . cc7ae16 100644 
 - - - a / actor - server / actor - core / src / main / scala / im / actor / server / user / UserCommandHandlers . scala 
 + + + b / actor - server / actor - core / src / main / scala / im / actor / server / user / UserCommandHandlers . scala 
 @ @ - 81 , 7 + 81 , 8 @ @ private [ user ] trait UserCommandHandlers { 
 sex = models . Sex . fromInt ( sex . id ) , 
 state = models . UserState . Registered , 
 createdAt = LocalDateTime . now ( ZoneOffset . UTC ) , 
 - external = external 
 + external = external , 
 + isBot = isBot 
 ) 
 db . run ( for ( _ ← p . UserRepo . create ( user ) ) yield CreateAck ( ) ) 
 }
