BLEU SCORE: 0.38753858253732953

TEST MSG: fix ( server : webrtc ) : video flag typo
GENERATED MSG: fix ( server : webrtc ) : fixed peer in GetCallInfo if call is private

TEST DIFF (one line): diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala b / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala < nl > index c8bf5a5 . . a8bdc15 100644 < nl > - - - a / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala < nl > + + + b / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala < nl > @ @ - 392 , 7 + 392 , 7 @ @ private final class WebrtcCallActor extends StashingActor with ActorLogging with < nl > participantUserIds = memberUserIds . toSeq , < nl > isAudioOnlyCall = isAudioOnlyCall , < nl > isVideoOnlyCall = isVideoOnlyCall , < nl > - isVideoPreferred = isVideoOnlyCall < nl > + isVideoPreferred = isVideoPreferred < nl > ) < nl > } else { < nl > sender ( ) ! GetInfoAck ( < nl > @ @ - 401 , 7 + 401 , 7 @ @ private final class WebrtcCallActor extends StashingActor with ActorLogging with < nl > participantUserIds = memberUserIds . toSeq , < nl > isAudioOnlyCall = isAudioOnlyCall , < nl > isVideoOnlyCall = isVideoOnlyCall , < nl > - isVideoPreferred = isVideoOnlyCall < nl > + isVideoPreferred = isVideoPreferred < nl > ) < nl > } < nl > case EventBus . Joined ( _ , client , deviceId ) ⇒
NEAREST DIFF (one line): diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala b / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala < nl > index 062069f . . 138783d 100644 < nl > - - - a / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala < nl > + + + b / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala < nl > @ @ - 329 , 7 + 329 , 11 @ @ private final class WebrtcCallActor extends StashingActor with ActorLogging with < nl > / / If everyone rejected dialing , there will no any conversation ; ( < nl > ( ! this . isConversationStarted & & everyoneRejected ( callerUserId ) ) ) end ( ) < nl > case GetInfo ⇒ < nl > - sender ( ) ! GetInfoAck ( eventBusId , peer , memberUserIds . toSeq ) < nl > + if ( peer . typ . isPrivate ) { < nl > + sender ( ) ! GetInfoAck ( eventBusId , Peer ( PeerType . Private , memberUserIds . filterNot ( _ = = peer . id ) . head ) , memberUserIds . toSeq ) < nl > + } else { < nl > + sender ( ) ! GetInfoAck ( eventBusId , peer , memberUserIds . toSeq ) < nl > + } < nl > case EventBus . Joined ( _ , client , deviceId ) ⇒ < nl > if ( client . isExternal ) < nl > advertiseMaster ( eventBusId , deviceId )

TEST DIFF:
diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala b / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala 
 index c8bf5a5 . . a8bdc15 100644 
 - - - a / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala 
 + + + b / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala 
 @ @ - 392 , 7 + 392 , 7 @ @ private final class WebrtcCallActor extends StashingActor with ActorLogging with 
 participantUserIds = memberUserIds . toSeq , 
 isAudioOnlyCall = isAudioOnlyCall , 
 isVideoOnlyCall = isVideoOnlyCall , 
 - isVideoPreferred = isVideoOnlyCall 
 + isVideoPreferred = isVideoPreferred 
 ) 
 } else { 
 sender ( ) ! GetInfoAck ( 
 @ @ - 401 , 7 + 401 , 7 @ @ private final class WebrtcCallActor extends StashingActor with ActorLogging with 
 participantUserIds = memberUserIds . toSeq , 
 isAudioOnlyCall = isAudioOnlyCall , 
 isVideoOnlyCall = isVideoOnlyCall , 
 - isVideoPreferred = isVideoOnlyCall 
 + isVideoPreferred = isVideoPreferred 
 ) 
 } 
 case EventBus . Joined ( _ , client , deviceId ) ⇒

NEAREST DIFF:
diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala b / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala 
 index 062069f . . 138783d 100644 
 - - - a / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala 
 + + + b / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala 
 @ @ - 329 , 7 + 329 , 11 @ @ private final class WebrtcCallActor extends StashingActor with ActorLogging with 
 / / If everyone rejected dialing , there will no any conversation ; ( 
 ( ! this . isConversationStarted & & everyoneRejected ( callerUserId ) ) ) end ( ) 
 case GetInfo ⇒ 
 - sender ( ) ! GetInfoAck ( eventBusId , peer , memberUserIds . toSeq ) 
 + if ( peer . typ . isPrivate ) { 
 + sender ( ) ! GetInfoAck ( eventBusId , Peer ( PeerType . Private , memberUserIds . filterNot ( _ = = peer . id ) . head ) , memberUserIds . toSeq ) 
 + } else { 
 + sender ( ) ! GetInfoAck ( eventBusId , peer , memberUserIds . toSeq ) 
 + } 
 case EventBus . Joined ( _ , client , deviceId ) ⇒ 
 if ( client . isExternal ) 
 advertiseMaster ( eventBusId , deviceId )
