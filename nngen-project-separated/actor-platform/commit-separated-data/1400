BLEU SCORE: 0.07561318691530973

TEST MSG: chore ( android ) : StickerAdapter using 128 image
GENERATED MSG: fix ( core ) : Fix crash on receiving updates before auth

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / stickers / StickerAdapter . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / stickers / StickerAdapter . java < nl > index 83fad38 . . a1a3389 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / stickers / StickerAdapter . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / stickers / StickerAdapter . java < nl > @ @ - 201 , 12 + 201 , 12 @ @ class StickerAdapter extends HolderAdapter < StickerLine > { < nl > StickerView sv ; < nl > if ( s ! = null & & s . getFileReference256 ( ) ! = null ) { < nl > < nl > - sv = stickersCache . get ( s . getFileReference256 ( ) . getFileId ( ) ) ; < nl > + sv = stickersCache . get ( s . getFileReference128 ( ) . getFileId ( ) ) ; < nl > if ( sv = = null ) { < nl > sv = new StickerView ( context ) ; < nl > sv . setPadding ( STICKER _ PADDING , STICKER _ PADDING , STICKER _ PADDING , STICKER _ PADDING ) ; < nl > - sv . bind ( s . getFileReference256 ( ) , STICKER _ SIZE ) ; < nl > - stickersCache . put ( s . getFileReference256 ( ) . getFileId ( ) , sv ) ; < nl > + sv . bind ( s . getFileReference128 ( ) , STICKER _ SIZE ) ; < nl > + stickersCache . put ( s . getFileReference128 ( ) . getFileId ( ) , sv ) ; < nl > < nl > } else if ( sv . isLoaded ( ) ) { < nl > if ( sv . getParent ( ) ! = null ) { < nl > @ @ - 221 , 7 + 221 , 6 @ @ class StickerAdapter extends HolderAdapter < StickerLine > { < nl > keyboard . onStickerClicked ( s ) ; < nl > } < nl > } ) ; < nl > - < nl > ll . addView ( sv , stikerlp ) ; < nl > } < nl > }
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java < nl > index 593095a . . ab9a17a 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java < nl > @ @ - 8 , 6 + 8 , 9 @ @ import im . actor . sdk . controllers . fragment . auth . BaseAuthFragment ; < nl > import im . actor . sdk . controllers . fragment . settings . ActorSettingsCategory ; < nl > import im . actor . sdk . intents . ActorIntent ; < nl > < nl > + / * * < nl > + * SDK Delegate . Used for delegating some work to < nl > + * / < nl > public interface ActorSDKDelegate { < nl > < nl > / * * < nl > @ @ - 31 , 19 + 34 , 34 @ @ public interface ActorSDKDelegate { < nl > * / < nl > ActorIntent getStartIntent ( ) ; < nl > < nl > + / * * < nl > + * If not null returned , overrides settings activity intent < nl > + * < nl > + * @ return Actor Intent < nl > + * / < nl > + ActorIntent getSettingsIntent ( ) ; < nl > + < nl > + @ Deprecated < nl > AuthState getAuthStartState ( ) ; < nl > < nl > + @ Deprecated < nl > BaseAuthFragment getSignFragment ( ) ; < nl > < nl > + @ Deprecated < nl > View getBeforeNickSettingsView ( Context context ) ; < nl > < nl > + @ Deprecated < nl > View getAfterPhoneSettingsView ( Context context ) ; < nl > < nl > + @ Deprecated < nl > View getSettingsTopView ( Context context ) ; < nl > < nl > + @ Deprecated < nl > View getSettingsBottomView ( Context context ) ; < nl > < nl > + @ Deprecated < nl > ActorSettingsCategory [ ] getBeforeSettingsCategories ( ) ; < nl > < nl > + @ Deprecated < nl > ActorSettingsCategory [ ] getAfterSettingsCategories ( ) ; < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java < nl > index 68ec210 . . 9741d06 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java < nl > @ @ - 61 , 6 + 61 , 11 @ @ public class BaseActorSDKDelegate implements ActorSDKDelegate { < nl > return null ; < nl > } < nl > < nl > + @ Override < nl > + public ActorIntent getSettingsIntent ( ) { < nl > + return null ; < nl > + } < nl > + < nl > / / < nl > / / Hacking settings activity < nl > / / < nl > diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / ApiModule . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / ApiModule . java < nl > index bbb081d . . 2518330 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / ApiModule . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / ApiModule . java < nl > @ @ - 113 , 7 + 113 , 9 @ @ public class ApiModule extends AbsModule implements BusSubscriber { < nl > < nl > @ Override < nl > public void onUpdateReceived ( Object obj ) { < nl > - context ( ) . getUpdatesModule ( ) . onUpdateReceived ( obj ) ; < nl > + if ( context ( ) . getUpdatesModule ( ) ! = null ) { < nl > + context ( ) . getUpdatesModule ( ) . onUpdateReceived ( obj ) ; < nl > + } < nl > } < nl > < nl > @ Override

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / stickers / StickerAdapter . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / stickers / StickerAdapter . java 
 index 83fad38 . . a1a3389 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / stickers / StickerAdapter . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / stickers / StickerAdapter . java 
 @ @ - 201 , 12 + 201 , 12 @ @ class StickerAdapter extends HolderAdapter < StickerLine > { 
 StickerView sv ; 
 if ( s ! = null & & s . getFileReference256 ( ) ! = null ) { 
 
 - sv = stickersCache . get ( s . getFileReference256 ( ) . getFileId ( ) ) ; 
 + sv = stickersCache . get ( s . getFileReference128 ( ) . getFileId ( ) ) ; 
 if ( sv = = null ) { 
 sv = new StickerView ( context ) ; 
 sv . setPadding ( STICKER _ PADDING , STICKER _ PADDING , STICKER _ PADDING , STICKER _ PADDING ) ; 
 - sv . bind ( s . getFileReference256 ( ) , STICKER _ SIZE ) ; 
 - stickersCache . put ( s . getFileReference256 ( ) . getFileId ( ) , sv ) ; 
 + sv . bind ( s . getFileReference128 ( ) , STICKER _ SIZE ) ; 
 + stickersCache . put ( s . getFileReference128 ( ) . getFileId ( ) , sv ) ; 
 
 } else if ( sv . isLoaded ( ) ) { 
 if ( sv . getParent ( ) ! = null ) { 
 @ @ - 221 , 7 + 221 , 6 @ @ class StickerAdapter extends HolderAdapter < StickerLine > { 
 keyboard . onStickerClicked ( s ) ; 
 } 
 } ) ; 
 - 
 ll . addView ( sv , stikerlp ) ; 
 } 
 }

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java 
 index 593095a . . ab9a17a 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java 
 @ @ - 8 , 6 + 8 , 9 @ @ import im . actor . sdk . controllers . fragment . auth . BaseAuthFragment ; 
 import im . actor . sdk . controllers . fragment . settings . ActorSettingsCategory ; 
 import im . actor . sdk . intents . ActorIntent ; 
 
 + / * * 
 + * SDK Delegate . Used for delegating some work to 
 + * / 
 public interface ActorSDKDelegate { 
 
 / * * 
 @ @ - 31 , 19 + 34 , 34 @ @ public interface ActorSDKDelegate { 
 * / 
 ActorIntent getStartIntent ( ) ; 
 
 + / * * 
 + * If not null returned , overrides settings activity intent 
 + * 
 + * @ return Actor Intent 
 + * / 
 + ActorIntent getSettingsIntent ( ) ; 
 + 
 + @ Deprecated 
 AuthState getAuthStartState ( ) ; 
 
 + @ Deprecated 
 BaseAuthFragment getSignFragment ( ) ; 
 
 + @ Deprecated 
 View getBeforeNickSettingsView ( Context context ) ; 
 
 + @ Deprecated 
 View getAfterPhoneSettingsView ( Context context ) ; 
 
 + @ Deprecated 
 View getSettingsTopView ( Context context ) ; 
 
 + @ Deprecated 
 View getSettingsBottomView ( Context context ) ; 
 
 + @ Deprecated 
 ActorSettingsCategory [ ] getBeforeSettingsCategories ( ) ; 
 
 + @ Deprecated 
 ActorSettingsCategory [ ] getAfterSettingsCategories ( ) ; 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java 
 index 68ec210 . . 9741d06 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java 
 @ @ - 61 , 6 + 61 , 11 @ @ public class BaseActorSDKDelegate implements ActorSDKDelegate { 
 return null ; 
 } 
 
 + @ Override 
 + public ActorIntent getSettingsIntent ( ) { 
 + return null ; 
 + } 
 + 
 / / 
 / / Hacking settings activity 
 / / 
 diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / ApiModule . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / ApiModule . java 
 index bbb081d . . 2518330 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / ApiModule . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / ApiModule . java 
 @ @ - 113 , 7 + 113 , 9 @ @ public class ApiModule extends AbsModule implements BusSubscriber { 
 
 @ Override 
 public void onUpdateReceived ( Object obj ) { 
 - context ( ) . getUpdatesModule ( ) . onUpdateReceived ( obj ) ; 
 + if ( context ( ) . getUpdatesModule ( ) ! = null ) { 
 + context ( ) . getUpdatesModule ( ) . onUpdateReceived ( obj ) ; 
 + } 
 } 
 
 @ Override
