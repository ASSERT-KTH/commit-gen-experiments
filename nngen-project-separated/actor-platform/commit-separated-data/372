BLEU SCORE: 0.26084743001221455

TEST MSG: fix ( js ) : Fixing js compilation error
GENERATED MSG: fix ( android ) : Fixing compilation error

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core / runtime / runtime - android / src / main / java / im / actor / runtime / android / files / AndroidFileSystemReference . java b / actor - sdk / sdk - core / runtime / runtime - android / src / main / java / im / actor / runtime / android / files / AndroidFileSystemReference . java < nl > index fc06831 . . e776c30 100644 < nl > - - - a / actor - sdk / sdk - core / runtime / runtime - android / src / main / java / im / actor / runtime / android / files / AndroidFileSystemReference . java < nl > + + + b / actor - sdk / sdk - core / runtime / runtime - android / src / main / java / im / actor / runtime / android / files / AndroidFileSystemReference . java < nl > @ @ - 47 , 7 + 47 , 7 @ @ public class AndroidFileSystemReference implements FileSystemReference { < nl > public int getSize ( ) { < nl > return ( int ) new File ( fileName ) . length ( ) ; < nl > } < nl > - < nl > + < nl > @ Override < nl > public Promise < OutputFile > openWrite ( int size ) { < nl > try { < nl > diff - - git a / actor - sdk / sdk - core / runtime / runtime - js / src / main / java / im / actor / runtime / js / fs / JsFileSystemReference . java b / actor - sdk / sdk - core / runtime / runtime - js / src / main / java / im / actor / runtime / js / fs / JsFileSystemReference . java < nl > index d7a257d . . e51dd00 100644 < nl > - - - a / actor - sdk / sdk - core / runtime / runtime - js / src / main / java / im / actor / runtime / js / fs / JsFileSystemReference . java < nl > + + + b / actor - sdk / sdk - core / runtime / runtime - js / src / main / java / im / actor / runtime / js / fs / JsFileSystemReference . java < nl > @ @ - 7 , 6 + 7 , 7 @ @ package im . actor . runtime . js . fs ; < nl > import im . actor . runtime . files . FileSystemReference ; < nl > import im . actor . runtime . files . InputFile ; < nl > import im . actor . runtime . files . OutputFile ; < nl > + import im . actor . runtime . promise . Promise ; < nl > < nl > public class JsFileSystemReference implements FileSystemReference { < nl > < nl > @ @ - 42 , 14 + 43 , 14 @ @ public class JsFileSystemReference implements FileSystemReference { < nl > public int getSize ( ) { < nl > return file . getSize ( ) ; < nl > } < nl > - < nl > + < nl > @ Override < nl > - public OutputFile openWrite ( int size ) { < nl > - throw new RuntimeException ( " Unsupported exception " ) ; < nl > + public Promise < OutputFile > openWrite ( int size ) { < nl > + return Promise . failure ( new RuntimeException ( " Unsupported exception " ) ) ; < nl > } < nl > < nl > @ Override < nl > - public InputFile openRead ( ) { < nl > - return new JsFileInput ( file ) ; < nl > + public Promise < InputFile > openRead ( ) { < nl > + return Promise . success ( new JsFileInput ( file ) ) ; < nl > } < nl > }
NEAREST DIFF (one line): diff - - git a / actor - apps / core - async - android / build . gradle b / actor - apps / core - async - android / build . gradle < nl > index 756aa50 . . 34d5aff 100644 < nl > - - - a / actor - apps / core - async - android / build . gradle < nl > + + + b / actor - apps / core - async - android / build . gradle < nl > @ @ - 24 , 6 + 24 , 7 @ @ dependencies { < nl > compile project ( ' : core ' ) < nl > compile project ( ' : core - crypto ' ) < nl > compile project ( ' : core - async - ui ' ) < nl > + compile project ( ' : core - async - tcp ' ) < nl > < nl > / / Network < nl > compile ' com . squareup . okhttp : okhttp : 2 . 3 . 0 ' < nl > diff - - git a / actor - apps / core - async - android / src / main / java / im / actor / android / AndroidConfigurationBuilder . java b / actor - apps / core - async - android / src / main / java / im / actor / android / AndroidConfigurationBuilder . java < nl > index a005458 . . 5e52d67 100644 < nl > - - - a / actor - apps / core - async - android / src / main / java / im / actor / android / AndroidConfigurationBuilder . java < nl > + + + b / actor - apps / core - async - android / src / main / java / im / actor / android / AndroidConfigurationBuilder . java < nl > @ @ - 7 , 6 + 7 , 7 @ @ package im . actor . android ; < nl > import android . content . Context ; < nl > < nl > import im . actor . model . AsyncConfigurationBuilder ; < nl > + import im . actor . model . tcp . TcpNetworkProvider ; < nl > < nl > public class AndroidConfigurationBuilder extends AsyncConfigurationBuilder { < nl > < nl > @ @ - 20 , 7 + 21 , 7 @ @ public class AndroidConfigurationBuilder extends AsyncConfigurationBuilder { < nl > setCryptoProvider ( new AndroidCryptoProvider ( ) ) ; < nl > setHttpProvider ( new AndroidHttpSupport ( ) ) ; < nl > setLifecycleProvider ( new AndroidLifecycleProvider ( ) ) ; < nl > - setNetworkProvider ( new AndroidNetworkProvider ( ) ) ; < nl > + setNetworkProvider ( new TcpNetworkProvider ( ) ) ; < nl > setLocaleProvider ( new AndroidLocale ( locale ) ) ; < nl > } < nl > }

TEST DIFF:
diff - - git a / actor - sdk / sdk - core / runtime / runtime - android / src / main / java / im / actor / runtime / android / files / AndroidFileSystemReference . java b / actor - sdk / sdk - core / runtime / runtime - android / src / main / java / im / actor / runtime / android / files / AndroidFileSystemReference . java 
 index fc06831 . . e776c30 100644 
 - - - a / actor - sdk / sdk - core / runtime / runtime - android / src / main / java / im / actor / runtime / android / files / AndroidFileSystemReference . java 
 + + + b / actor - sdk / sdk - core / runtime / runtime - android / src / main / java / im / actor / runtime / android / files / AndroidFileSystemReference . java 
 @ @ - 47 , 7 + 47 , 7 @ @ public class AndroidFileSystemReference implements FileSystemReference { 
 public int getSize ( ) { 
 return ( int ) new File ( fileName ) . length ( ) ; 
 } 
 - 
 + 
 @ Override 
 public Promise < OutputFile > openWrite ( int size ) { 
 try { 
 diff - - git a / actor - sdk / sdk - core / runtime / runtime - js / src / main / java / im / actor / runtime / js / fs / JsFileSystemReference . java b / actor - sdk / sdk - core / runtime / runtime - js / src / main / java / im / actor / runtime / js / fs / JsFileSystemReference . java 
 index d7a257d . . e51dd00 100644 
 - - - a / actor - sdk / sdk - core / runtime / runtime - js / src / main / java / im / actor / runtime / js / fs / JsFileSystemReference . java 
 + + + b / actor - sdk / sdk - core / runtime / runtime - js / src / main / java / im / actor / runtime / js / fs / JsFileSystemReference . java 
 @ @ - 7 , 6 + 7 , 7 @ @ package im . actor . runtime . js . fs ; 
 import im . actor . runtime . files . FileSystemReference ; 
 import im . actor . runtime . files . InputFile ; 
 import im . actor . runtime . files . OutputFile ; 
 + import im . actor . runtime . promise . Promise ; 
 
 public class JsFileSystemReference implements FileSystemReference { 
 
 @ @ - 42 , 14 + 43 , 14 @ @ public class JsFileSystemReference implements FileSystemReference { 
 public int getSize ( ) { 
 return file . getSize ( ) ; 
 } 
 - 
 + 
 @ Override 
 - public OutputFile openWrite ( int size ) { 
 - throw new RuntimeException ( " Unsupported exception " ) ; 
 + public Promise < OutputFile > openWrite ( int size ) { 
 + return Promise . failure ( new RuntimeException ( " Unsupported exception " ) ) ; 
 } 
 
 @ Override 
 - public InputFile openRead ( ) { 
 - return new JsFileInput ( file ) ; 
 + public Promise < InputFile > openRead ( ) { 
 + return Promise . success ( new JsFileInput ( file ) ) ; 
 } 
 }

NEAREST DIFF:
diff - - git a / actor - apps / core - async - android / build . gradle b / actor - apps / core - async - android / build . gradle 
 index 756aa50 . . 34d5aff 100644 
 - - - a / actor - apps / core - async - android / build . gradle 
 + + + b / actor - apps / core - async - android / build . gradle 
 @ @ - 24 , 6 + 24 , 7 @ @ dependencies { 
 compile project ( ' : core ' ) 
 compile project ( ' : core - crypto ' ) 
 compile project ( ' : core - async - ui ' ) 
 + compile project ( ' : core - async - tcp ' ) 
 
 / / Network 
 compile ' com . squareup . okhttp : okhttp : 2 . 3 . 0 ' 
 diff - - git a / actor - apps / core - async - android / src / main / java / im / actor / android / AndroidConfigurationBuilder . java b / actor - apps / core - async - android / src / main / java / im / actor / android / AndroidConfigurationBuilder . java 
 index a005458 . . 5e52d67 100644 
 - - - a / actor - apps / core - async - android / src / main / java / im / actor / android / AndroidConfigurationBuilder . java 
 + + + b / actor - apps / core - async - android / src / main / java / im / actor / android / AndroidConfigurationBuilder . java 
 @ @ - 7 , 6 + 7 , 7 @ @ package im . actor . android ; 
 import android . content . Context ; 
 
 import im . actor . model . AsyncConfigurationBuilder ; 
 + import im . actor . model . tcp . TcpNetworkProvider ; 
 
 public class AndroidConfigurationBuilder extends AsyncConfigurationBuilder { 
 
 @ @ - 20 , 7 + 21 , 7 @ @ public class AndroidConfigurationBuilder extends AsyncConfigurationBuilder { 
 setCryptoProvider ( new AndroidCryptoProvider ( ) ) ; 
 setHttpProvider ( new AndroidHttpSupport ( ) ) ; 
 setLifecycleProvider ( new AndroidLifecycleProvider ( ) ) ; 
 - setNetworkProvider ( new AndroidNetworkProvider ( ) ) ; 
 + setNetworkProvider ( new TcpNetworkProvider ( ) ) ; 
 setLocaleProvider ( new AndroidLocale ( locale ) ) ; 
 } 
 }
