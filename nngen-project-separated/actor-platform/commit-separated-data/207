BLEU SCORE: 0.5201870634468553

TEST MSG: fix ( server : push ) : additional logging
GENERATED MSG: fix ( server : push ) : log cert id on initialization

TEST DIFF (one line): diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / sequence / ApplePushExtension . scala b / actor - server / actor - core / src / main / scala / im / actor / server / sequence / ApplePushExtension . scala < nl > index 71fc667 . . 3da6747 100644 < nl > - - - a / actor - server / actor - core / src / main / scala / im / actor / server / sequence / ApplePushExtension . scala < nl > + + + b / actor - server / actor - core / src / main / scala / im / actor / server / sequence / ApplePushExtension . scala < nl > @ @ - 100 , 7 + 100 , 7 @ @ final class ApplePushExtension ( system : ActorSystem ) extends Extension with AnyRe < nl > / / during previous creation < nl > private def recreateClient ( cert : ApnsCert , attemptLeft : Int ) : Unit = { < nl > val certKey = extractCertKey ( cert ) < nl > - log . debug ( " Retry to create client for cert : { } , is voip : { } " , certKey , cert . isVoip ) < nl > + log . debug ( " Retry to create client for cert : { } , is voip : { } , { } attempts left " , certKey , cert . isVoip , attemptLeft ) < nl > val targetMap = if ( cert . isVoip ) voipClients else clients < nl > targetMap + = certKey → createClient ( cert , attemptLeft ) < nl > }
NEAREST DIFF (one line): diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / sequence / ApplePushExtension . scala b / actor - server / actor - core / src / main / scala / im / actor / server / sequence / ApplePushExtension . scala < nl > index e3142fb . . cb85827 100644 < nl > - - - a / actor - server / actor - core / src / main / scala / im / actor / server / sequence / ApplePushExtension . scala < nl > + + + b / actor - server / actor - core / src / main / scala / im / actor / server / sequence / ApplePushExtension . scala < nl > @ @ - 86 , 7 + 86 , 7 @ @ final class ApplePushExtension ( system : ActorSystem ) extends Extension with AnyRe < nl > / / recreate and try to connect client , if client connection failed < nl > / / during previous creation < nl > private def recreateClient ( cert : ApnsCert ) : Unit = { < nl > - log . debug ( " Retry to create client for cert : { } , is voip : { } " , cert . key , cert . isVoip ) < nl > + log . debug ( " Retry to create client for cert : { } , is voip : { } " , extractCertKey ( cert ) , cert . isVoip ) < nl > val targetMap = if ( cert . isVoip ) voipClients else clients < nl > val certKey = extractCertKey ( cert ) < nl > targetMap - = certKey

TEST DIFF:
diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / sequence / ApplePushExtension . scala b / actor - server / actor - core / src / main / scala / im / actor / server / sequence / ApplePushExtension . scala 
 index 71fc667 . . 3da6747 100644 
 - - - a / actor - server / actor - core / src / main / scala / im / actor / server / sequence / ApplePushExtension . scala 
 + + + b / actor - server / actor - core / src / main / scala / im / actor / server / sequence / ApplePushExtension . scala 
 @ @ - 100 , 7 + 100 , 7 @ @ final class ApplePushExtension ( system : ActorSystem ) extends Extension with AnyRe 
 / / during previous creation 
 private def recreateClient ( cert : ApnsCert , attemptLeft : Int ) : Unit = { 
 val certKey = extractCertKey ( cert ) 
 - log . debug ( " Retry to create client for cert : { } , is voip : { } " , certKey , cert . isVoip ) 
 + log . debug ( " Retry to create client for cert : { } , is voip : { } , { } attempts left " , certKey , cert . isVoip , attemptLeft ) 
 val targetMap = if ( cert . isVoip ) voipClients else clients 
 targetMap + = certKey → createClient ( cert , attemptLeft ) 
 }

NEAREST DIFF:
diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / sequence / ApplePushExtension . scala b / actor - server / actor - core / src / main / scala / im / actor / server / sequence / ApplePushExtension . scala 
 index e3142fb . . cb85827 100644 
 - - - a / actor - server / actor - core / src / main / scala / im / actor / server / sequence / ApplePushExtension . scala 
 + + + b / actor - server / actor - core / src / main / scala / im / actor / server / sequence / ApplePushExtension . scala 
 @ @ - 86 , 7 + 86 , 7 @ @ final class ApplePushExtension ( system : ActorSystem ) extends Extension with AnyRe 
 / / recreate and try to connect client , if client connection failed 
 / / during previous creation 
 private def recreateClient ( cert : ApnsCert ) : Unit = { 
 - log . debug ( " Retry to create client for cert : { } , is voip : { } " , cert . key , cert . isVoip ) 
 + log . debug ( " Retry to create client for cert : { } , is voip : { } " , extractCertKey ( cert ) , cert . isVoip ) 
 val targetMap = if ( cert . isVoip ) voipClients else clients 
 val certKey = extractCertKey ( cert ) 
 targetMap - = certKey
