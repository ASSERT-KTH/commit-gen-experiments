BLEU SCORE: 0.26584835766658776

TEST MSG: fix ( android ) : notify app state dialogs loaded if dialogs are empty
GENERATED MSG: fix ( android ) : recover save phoneBook ids

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / auth / AuthActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / auth / AuthActivity . java < nl > index 8fb7cca . . 6bc99ce 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / auth / AuthActivity . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / auth / AuthActivity . java < nl > @ @ - 243 , 7 + 243 , 7 @ @ public class AuthActivity extends BaseFragmentActivity { < nl > } < nl > } ) ; < nl > } else { < nl > - signUp ( messenger ( ) . doSignup ( currentName , currentSex , transactionHash ) , currentName , currentSex ) ; < nl > + signUp ( messenger ( ) . doSignup ( currentName , currentSex ! = null ? currentSex : Sex . UNKNOWN , transactionHash ) , currentName , currentSex ) ; < nl > } < nl > } < nl > } < nl > @ @ - 348 , 7 + 348 , 7 @ @ public class AuthActivity extends BaseFragmentActivity { < nl > break ; < nl > < nl > case SIGN _ UP : < nl > - signUp ( messenger ( ) . doSignup ( currentName , currentSex , transactionHash ) , currentName , currentSex ) ; < nl > + signUp ( messenger ( ) . doSignup ( currentName , currentSex ! = null ? currentSex : Sex . UNKNOWN , transactionHash ) , currentName , currentSex ) ; < nl > break ; < nl > } < nl > < nl > diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / messaging / history / DialogsHistoryActor . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / messaging / history / DialogsHistoryActor . java < nl > index c0dde14 . . 1226b01 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / messaging / history / DialogsHistoryActor . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / messaging / history / DialogsHistoryActor . java < nl > @ @ - 88 , 6 + 88 , 7 @ @ public class DialogsHistoryActor extends ModuleActor { < nl > } < nl > } ) ; < nl > } else { < nl > + context ( ) . getAppStateModule ( ) . onDialogsLoaded ( ) ; < nl > markAsLoaded ( ) ; < nl > } < nl > }
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / contacts / InviteContactAdapter . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / contacts / InviteContactAdapter . java < nl > index e34f558 . . 2a220aa 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / contacts / InviteContactAdapter . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / contacts / InviteContactAdapter . java < nl > @ @ - 37 , 6 + 37 , 7 @ @ public class InviteContactAdapter extends BindedListAdapter < PhoneBookContact , In < nl > this . context = context ; < nl > this . onItemClickedListener = onItemClickedListener ; < nl > < nl > + updateIds ( ) ; < nl > < nl > } < nl > < nl > @ @ - 97 , 6 + 98 , 7 @ @ public class InviteContactAdapter extends BindedListAdapter < PhoneBookContact , In < nl > for ( long id : ids . getIds ( ) ) { < nl > selectedUsers . add ( id ) ; < nl > } < nl > + notifyDataSetChanged ( ) ; < nl > } catch ( Exception e ) { < nl > e . printStackTrace ( ) ; < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / contacts / InviteFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / contacts / InviteFragment . java < nl > index 497ceb8 . . 4509af7 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / contacts / InviteFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / contacts / InviteFragment . java < nl > @ @ - 255 , 7 + 255 , 10 @ @ public class InviteFragment extends DisplayListFragment < PhoneBookContact , Invite < nl > public void onCollectionChanged ( ) { < nl > super . onCollectionChanged ( ) ; < nl > checkSendButton ( ) ; < nl > - ( ( InviteContactAdapter ) getAdapter ( ) ) . updateIds ( ) ; < nl > + InviteContactAdapter adapter = ( InviteContactAdapter ) getAdapter ( ) ; < nl > + if ( adapter ! = null ) { < nl > + adapter . updateIds ( ) ; < nl > + } < nl > } < nl > < nl > } < nl > diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / contacts / BookImportActor . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / contacts / BookImportActor . java < nl > index 06a01c2 . . a173dfb 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / contacts / BookImportActor . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / contacts / BookImportActor . java < nl > @ @ - 109 , 7 + 109 , 7 @ @ public class BookImportActor extends ModuleActor { < nl > List < Long > oldids = new ArrayList < Long > ( ) ; < nl > try { < nl > oldids . addAll ( Bser . parse ( new PhoneBookIds ( ) , preferences ( ) . getBytes ( " phone _ book _ ids " ) ) . getIds ( ) ) ; < nl > - } catch ( IOException e ) { < nl > + } catch ( Exception e ) { < nl > e . printStackTrace ( ) ; < nl > } < nl > for ( PhoneBookContact record : phoneBook ) {

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / auth / AuthActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / auth / AuthActivity . java 
 index 8fb7cca . . 6bc99ce 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / auth / AuthActivity . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / auth / AuthActivity . java 
 @ @ - 243 , 7 + 243 , 7 @ @ public class AuthActivity extends BaseFragmentActivity { 
 } 
 } ) ; 
 } else { 
 - signUp ( messenger ( ) . doSignup ( currentName , currentSex , transactionHash ) , currentName , currentSex ) ; 
 + signUp ( messenger ( ) . doSignup ( currentName , currentSex ! = null ? currentSex : Sex . UNKNOWN , transactionHash ) , currentName , currentSex ) ; 
 } 
 } 
 } 
 @ @ - 348 , 7 + 348 , 7 @ @ public class AuthActivity extends BaseFragmentActivity { 
 break ; 
 
 case SIGN _ UP : 
 - signUp ( messenger ( ) . doSignup ( currentName , currentSex , transactionHash ) , currentName , currentSex ) ; 
 + signUp ( messenger ( ) . doSignup ( currentName , currentSex ! = null ? currentSex : Sex . UNKNOWN , transactionHash ) , currentName , currentSex ) ; 
 break ; 
 } 
 
 diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / messaging / history / DialogsHistoryActor . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / messaging / history / DialogsHistoryActor . java 
 index c0dde14 . . 1226b01 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / messaging / history / DialogsHistoryActor . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / messaging / history / DialogsHistoryActor . java 
 @ @ - 88 , 6 + 88 , 7 @ @ public class DialogsHistoryActor extends ModuleActor { 
 } 
 } ) ; 
 } else { 
 + context ( ) . getAppStateModule ( ) . onDialogsLoaded ( ) ; 
 markAsLoaded ( ) ; 
 } 
 }

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / contacts / InviteContactAdapter . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / contacts / InviteContactAdapter . java 
 index e34f558 . . 2a220aa 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / contacts / InviteContactAdapter . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / contacts / InviteContactAdapter . java 
 @ @ - 37 , 6 + 37 , 7 @ @ public class InviteContactAdapter extends BindedListAdapter < PhoneBookContact , In 
 this . context = context ; 
 this . onItemClickedListener = onItemClickedListener ; 
 
 + updateIds ( ) ; 
 
 } 
 
 @ @ - 97 , 6 + 98 , 7 @ @ public class InviteContactAdapter extends BindedListAdapter < PhoneBookContact , In 
 for ( long id : ids . getIds ( ) ) { 
 selectedUsers . add ( id ) ; 
 } 
 + notifyDataSetChanged ( ) ; 
 } catch ( Exception e ) { 
 e . printStackTrace ( ) ; 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / contacts / InviteFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / contacts / InviteFragment . java 
 index 497ceb8 . . 4509af7 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / contacts / InviteFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / contacts / InviteFragment . java 
 @ @ - 255 , 7 + 255 , 10 @ @ public class InviteFragment extends DisplayListFragment < PhoneBookContact , Invite 
 public void onCollectionChanged ( ) { 
 super . onCollectionChanged ( ) ; 
 checkSendButton ( ) ; 
 - ( ( InviteContactAdapter ) getAdapter ( ) ) . updateIds ( ) ; 
 + InviteContactAdapter adapter = ( InviteContactAdapter ) getAdapter ( ) ; 
 + if ( adapter ! = null ) { 
 + adapter . updateIds ( ) ; 
 + } 
 } 
 
 } 
 diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / contacts / BookImportActor . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / contacts / BookImportActor . java 
 index 06a01c2 . . a173dfb 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / contacts / BookImportActor . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / contacts / BookImportActor . java 
 @ @ - 109 , 7 + 109 , 7 @ @ public class BookImportActor extends ModuleActor { 
 List < Long > oldids = new ArrayList < Long > ( ) ; 
 try { 
 oldids . addAll ( Bser . parse ( new PhoneBookIds ( ) , preferences ( ) . getBytes ( " phone _ book _ ids " ) ) . getIds ( ) ) ; 
 - } catch ( IOException e ) { 
 + } catch ( Exception e ) { 
 e . printStackTrace ( ) ; 
 } 
 for ( PhoneBookContact record : phoneBook ) {
