BLEU SCORE: 0.10735252131161191

TEST MSG: refactor ( server ) : removed unnessesary debug
GENERATED MSG: perf ( server : push ) : minify json in push

TEST DIFF (one line): diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / encryption / EncryptionExtension . scala b / actor - server / actor - core / src / main / scala / im / actor / server / encryption / EncryptionExtension . scala < nl > index ddaae1c . . cdbf259 100644 < nl > - - - a / actor - server / actor - core / src / main / scala / im / actor / server / encryption / EncryptionExtension . scala < nl > + + + b / actor - server / actor - core / src / main / scala / im / actor / server / encryption / EncryptionExtension . scala < nl > @ @ - 226 , 8 + 226 , 6 @ @ final class EncryptionExtension ( system : ActorSystem ) extends Extension { < nl > . map ( kg ⇒ ApiKeyGroupId ( userId , kg . id ) ) < nl > . force < nl > < nl > - log . debug ( " Missing key groups : { } , ignoredKeyGroups : { } , ignored : { } " , missingKgs , ignoredKeyGroups , ignored ) < nl > - < nl > / / kgs presented in box but deleted by receiver < nl > val obsKgs = keys . view < nl > . filterNot ( kg ⇒ kgs . exists ( _ . id = = kg . keyGroupId ) )
NEAREST DIFF (one line): diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / push / actor / ActorPush . scala b / actor - server / actor - core / src / main / scala / im / actor / server / push / actor / ActorPush . scala < nl > index bdc07d0 . . 145658b 100644 < nl > - - - a / actor - server / actor - core / src / main / scala / im / actor / server / push / actor / ActorPush . scala < nl > + + + b / actor - server / actor - core / src / main / scala / im / actor / server / push / actor / ActorPush . scala < nl > @ @ - 46 , 7 + 46 , 7 @ @ final class ActorPush ( _ system : ActorSystem ) extends Extension { < nl > method = HttpMethods . POST , < nl > uri = uri , < nl > headers = pushHeaders , < nl > - entity = HttpEntity ( ContentTypes . ` application / json ` , m . asJson . toString ) < nl > + entity = HttpEntity ( ContentTypes . ` application / json ` , m . asJson . noSpaces ) < nl > ) → ActorPushDelivery ( creds , m ) < nl > } < nl > } < nl > diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / sequence / GooglePushManager . scala b / actor - server / actor - core / src / main / scala / im / actor / server / sequence / GooglePushManager . scala < nl > index 824d134 . . c5e950a 100644 < nl > - - - a / actor - server / actor - core / src / main / scala / im / actor / server / sequence / GooglePushManager . scala < nl > + + + b / actor - server / actor - core / src / main / scala / im / actor / server / sequence / GooglePushManager . scala < nl > @ @ - 170 , 7 + 170 , 7 @ @ private final class GooglePushDelivery extends ActorPublisher [ ( HttpRequest , Goog < nl > method = HttpMethods . POST , < nl > uri = uri , < nl > headers = List ( headers . Authorization ( headers . GenericHttpCredentials ( s " key = $ { d . key } " , Map . empty [ String , String ] ) ) ) , < nl > - entity = HttpEntity ( ContentTypes . ` application / json ` , d . m . asJson . toString ( ) ) < nl > + entity = HttpEntity ( ContentTypes . ` application / json ` , d . m . asJson . noSpaces ) < nl > ) → d < nl > } < nl > } < nl > \ No newline at end of file

TEST DIFF:
diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / encryption / EncryptionExtension . scala b / actor - server / actor - core / src / main / scala / im / actor / server / encryption / EncryptionExtension . scala 
 index ddaae1c . . cdbf259 100644 
 - - - a / actor - server / actor - core / src / main / scala / im / actor / server / encryption / EncryptionExtension . scala 
 + + + b / actor - server / actor - core / src / main / scala / im / actor / server / encryption / EncryptionExtension . scala 
 @ @ - 226 , 8 + 226 , 6 @ @ final class EncryptionExtension ( system : ActorSystem ) extends Extension { 
 . map ( kg ⇒ ApiKeyGroupId ( userId , kg . id ) ) 
 . force 
 
 - log . debug ( " Missing key groups : { } , ignoredKeyGroups : { } , ignored : { } " , missingKgs , ignoredKeyGroups , ignored ) 
 - 
 / / kgs presented in box but deleted by receiver 
 val obsKgs = keys . view 
 . filterNot ( kg ⇒ kgs . exists ( _ . id = = kg . keyGroupId ) )

NEAREST DIFF:
diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / push / actor / ActorPush . scala b / actor - server / actor - core / src / main / scala / im / actor / server / push / actor / ActorPush . scala 
 index bdc07d0 . . 145658b 100644 
 - - - a / actor - server / actor - core / src / main / scala / im / actor / server / push / actor / ActorPush . scala 
 + + + b / actor - server / actor - core / src / main / scala / im / actor / server / push / actor / ActorPush . scala 
 @ @ - 46 , 7 + 46 , 7 @ @ final class ActorPush ( _ system : ActorSystem ) extends Extension { 
 method = HttpMethods . POST , 
 uri = uri , 
 headers = pushHeaders , 
 - entity = HttpEntity ( ContentTypes . ` application / json ` , m . asJson . toString ) 
 + entity = HttpEntity ( ContentTypes . ` application / json ` , m . asJson . noSpaces ) 
 ) → ActorPushDelivery ( creds , m ) 
 } 
 } 
 diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / sequence / GooglePushManager . scala b / actor - server / actor - core / src / main / scala / im / actor / server / sequence / GooglePushManager . scala 
 index 824d134 . . c5e950a 100644 
 - - - a / actor - server / actor - core / src / main / scala / im / actor / server / sequence / GooglePushManager . scala 
 + + + b / actor - server / actor - core / src / main / scala / im / actor / server / sequence / GooglePushManager . scala 
 @ @ - 170 , 7 + 170 , 7 @ @ private final class GooglePushDelivery extends ActorPublisher [ ( HttpRequest , Goog 
 method = HttpMethods . POST , 
 uri = uri , 
 headers = List ( headers . Authorization ( headers . GenericHttpCredentials ( s " key = $ { d . key } " , Map . empty [ String , String ] ) ) ) , 
 - entity = HttpEntity ( ContentTypes . ` application / json ` , d . m . asJson . toString ( ) ) 
 + entity = HttpEntity ( ContentTypes . ` application / json ` , d . m . asJson . noSpaces ) 
 ) → d 
 } 
 } 
 \ No newline at end of file
