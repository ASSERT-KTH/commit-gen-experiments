BLEU SCORE: 0.21200626759025185

TEST MSG: fix ( android ) : move barAvatar unbind from onPause to onDestroy
GENERATED MSG: feat ( android ) : settings fragment ask question visibility setup

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > index b800250 . . 9e5b313 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > @ @ - 744 , 9 + 744 , 6 @ @ public class ChatActivity extends ActorEditTextActivity { < nl > / / Saving draft < nl > messenger ( ) . saveDraft ( peer , messageEditText . getText ( ) . toString ( ) ) ; < nl > < nl > - if ( barAvatar ! = null ) { < nl > - barAvatar . unbind ( ) ; < nl > - } < nl > } < nl > < nl > / / Message send < nl > @ @ - 1388 , 6 + 1385 , 10 @ @ public class ChatActivity extends ActorEditTextActivity { < nl > fastShareAdapter . release ( ) ; < nl > fastShareAdapter = null ; < nl > } < nl > + < nl > + if ( barAvatar ! = null ) { < nl > + barAvatar . unbind ( ) ; < nl > + } < nl > } < nl > < nl > private void hideAudio ( boolean cancel ) { < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / keyboard / emoji / EmojiKeyboard . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / keyboard / emoji / EmojiKeyboard . java < nl > index 14bd776 . . b5e979f 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / keyboard / emoji / EmojiKeyboard . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / keyboard / emoji / EmojiKeyboard . java < nl > @ @ - 214 , 7 + 214 , 9 @ @ public class EmojiKeyboard extends BaseKeyboard implements OnSmileClickListener , < nl > } < nl > < nl > public void release ( ) { < nl > - mEmojisAdapter . release ( ) ; < nl > + if ( mEmojisAdapter ! = null ) { < nl > + mEmojisAdapter . release ( ) ; < nl > + } < nl > } < nl > < nl > } < nl > \ No newline at end of file < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / keyboard / emoji / smiles / SmilePagerAdapter . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / keyboard / emoji / smiles / SmilePagerAdapter . java < nl > index 0bd3c25 . . ae38390 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / keyboard / emoji / smiles / SmilePagerAdapter . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / keyboard / emoji / smiles / SmilePagerAdapter . java < nl > @ @ - 202 , 6 + 202 , 8 @ @ public class SmilePagerAdapter extends PagerAdapter implements PagerSlidingTabSt < nl > } < nl > < nl > public void release ( ) { < nl > - stickersView . relesase ( ) ; < nl > + if ( stickersView ! = null ) { < nl > + stickersView . relesase ( ) ; < nl > + } < nl > } < nl > } < nl > \ No newline at end of file < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / stickers / StickersAdapter . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / stickers / StickersAdapter . java < nl > index 78cde97 . . 34549ac 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / stickers / StickersAdapter . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / stickers / StickersAdapter . java < nl > @ @ - 186 , 6 + 186 , 8 @ @ public class StickersAdapter extends RecyclerView . Adapter < StickersAdapter . Sticke < nl > } < nl > < nl > public void release ( ) { < nl > - binder . unbindAll ( ) ; < nl > + if ( binder ! = null ) { < nl > + binder . unbindAll ( ) ; < nl > + } < nl > } < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / stickers / StickersView . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / stickers / StickersView . java < nl > index 54d4d1b . . 2ef6c0a 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / stickers / StickersView . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / stickers / StickersView . java < nl > @ @ - 61 , 7 + 61 , 9 @ @ public class StickersView extends RecyclerView { < nl > } < nl > < nl > public void relesase ( ) { < nl > - stickersAdapter . release ( ) ; < nl > + if ( stickersAdapter ! = null ) { < nl > + stickersAdapter . release ( ) ; < nl > + } < nl > } < nl > < nl > } < nl > \ No newline at end of file
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > index 824a959 . . d348cd0 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > + + + b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > @ @ - 111 , 6 + 111 , 11 @ @ public class Application extends ActorSDKApplication { < nl > } < nl > < nl > @ Override < nl > + public boolean showAskQuestion ( ) { < nl > + return true ; < nl > + } < nl > + < nl > + @ Override < nl > public ActorSettingsCategory [ ] getBeforeSettingsCategories ( ) { < nl > return new ActorSettingsCategory [ ] { < nl > new ActorSettingsCategory ( ) { < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsFragment . java < nl > index 7bfd48b . . 4818849 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsFragment . java < nl > @ @ - 33 , 6 + 33 , 11 @ @ public class ActorSettingsFragment extends BaseActorSettingsFragment { < nl > } < nl > < nl > @ Override < nl > + public boolean showAskQuestion ( ) { < nl > + return true ; < nl > + } < nl > + < nl > + @ Override < nl > public ActorSettingsCategory [ ] getBeforeSettingsCategories ( ) { < nl > return null ; < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java < nl > index f16f1a1 . . bce726e 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java < nl > @ @ - 360 , 7 + 360 , 8 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements < nl > } < nl > } ) ; < nl > < nl > - view . findViewById ( R . id . askQuestion ) . setOnClickListener ( new View . OnClickListener ( ) { < nl > + View askQuestion = view . findViewById ( R . id . askQuestion ) ; < nl > + askQuestion . setOnClickListener ( new View . OnClickListener ( ) { < nl > @ Override < nl > public void onClick ( View view ) { < nl > execute ( messenger ( ) . findUsers ( ActorSDK . sharedActor ( ) . getDelegate ( ) . getHelpPhone ( ) ) , R . string . progress _ common , new CommandCallback < UserVM [ ] > ( ) { < nl > @ @ - 379 , 6 + 380 , 11 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements < nl > } < nl > } ) ; < nl > < nl > + if ( ! showAskQuestion ( ) ) { < nl > + askQuestion . setVisibility ( View . GONE ) ; < nl > + view . findViewById ( R . id . divider3 ) . setVisibility ( View . GONE ) ; < nl > + } < nl > + < nl > TextView settingsHeaderText = ( TextView ) view . findViewById ( R . id . settings _ header _ text ) ; < nl > settingsHeaderText . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; < nl > < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / IActorSettingsFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / IActorSettingsFragment . java < nl > index f2fd839 . . a50d1a2 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / IActorSettingsFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / IActorSettingsFragment . java < nl > @ @ - 7 , 6 + 7 , 7 @ @ import android . view . View ; < nl > * Created by root on 11 / 11 / 15 . < nl > * / < nl > public interface IActorSettingsFragment { < nl > + < nl > View getBeforeNickSettingsView ( ) ; < nl > < nl > View getAfterPhoneSettingsView ( ) ; < nl > @ @ - 17 , 6 + 18 , 8 @ @ public interface IActorSettingsFragment { < nl > < nl > boolean showWallpaperCategory ( ) ; < nl > < nl > + boolean showAskQuestion ( ) ; < nl > + < nl > ActorSettingsCategory [ ] getBeforeSettingsCategories ( ) ; < nl > < nl > ActorSettingsCategory [ ] getAfterSettingsCategories ( ) ;

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 index b800250 . . 9e5b313 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 @ @ - 744 , 9 + 744 , 6 @ @ public class ChatActivity extends ActorEditTextActivity { 
 / / Saving draft 
 messenger ( ) . saveDraft ( peer , messageEditText . getText ( ) . toString ( ) ) ; 
 
 - if ( barAvatar ! = null ) { 
 - barAvatar . unbind ( ) ; 
 - } 
 } 
 
 / / Message send 
 @ @ - 1388 , 6 + 1385 , 10 @ @ public class ChatActivity extends ActorEditTextActivity { 
 fastShareAdapter . release ( ) ; 
 fastShareAdapter = null ; 
 } 
 + 
 + if ( barAvatar ! = null ) { 
 + barAvatar . unbind ( ) ; 
 + } 
 } 
 
 private void hideAudio ( boolean cancel ) { 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / keyboard / emoji / EmojiKeyboard . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / keyboard / emoji / EmojiKeyboard . java 
 index 14bd776 . . b5e979f 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / keyboard / emoji / EmojiKeyboard . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / keyboard / emoji / EmojiKeyboard . java 
 @ @ - 214 , 7 + 214 , 9 @ @ public class EmojiKeyboard extends BaseKeyboard implements OnSmileClickListener , 
 } 
 
 public void release ( ) { 
 - mEmojisAdapter . release ( ) ; 
 + if ( mEmojisAdapter ! = null ) { 
 + mEmojisAdapter . release ( ) ; 
 + } 
 } 
 
 } 
 \ No newline at end of file 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / keyboard / emoji / smiles / SmilePagerAdapter . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / keyboard / emoji / smiles / SmilePagerAdapter . java 
 index 0bd3c25 . . ae38390 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / keyboard / emoji / smiles / SmilePagerAdapter . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / keyboard / emoji / smiles / SmilePagerAdapter . java 
 @ @ - 202 , 6 + 202 , 8 @ @ public class SmilePagerAdapter extends PagerAdapter implements PagerSlidingTabSt 
 } 
 
 public void release ( ) { 
 - stickersView . relesase ( ) ; 
 + if ( stickersView ! = null ) { 
 + stickersView . relesase ( ) ; 
 + } 
 } 
 } 
 \ No newline at end of file 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / stickers / StickersAdapter . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / stickers / StickersAdapter . java 
 index 78cde97 . . 34549ac 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / stickers / StickersAdapter . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / stickers / StickersAdapter . java 
 @ @ - 186 , 6 + 186 , 8 @ @ public class StickersAdapter extends RecyclerView . Adapter < StickersAdapter . Sticke 
 } 
 
 public void release ( ) { 
 - binder . unbindAll ( ) ; 
 + if ( binder ! = null ) { 
 + binder . unbindAll ( ) ; 
 + } 
 } 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / stickers / StickersView . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / stickers / StickersView . java 
 index 54d4d1b . . 2ef6c0a 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / stickers / StickersView . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / stickers / StickersView . java 
 @ @ - 61 , 7 + 61 , 9 @ @ public class StickersView extends RecyclerView { 
 } 
 
 public void relesase ( ) { 
 - stickersAdapter . release ( ) ; 
 + if ( stickersAdapter ! = null ) { 
 + stickersAdapter . release ( ) ; 
 + } 
 } 
 
 } 
 \ No newline at end of file

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 index 824a959 . . d348cd0 100644 
 - - - a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 + + + b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 @ @ - 111 , 6 + 111 , 11 @ @ public class Application extends ActorSDKApplication { 
 } 
 
 @ Override 
 + public boolean showAskQuestion ( ) { 
 + return true ; 
 + } 
 + 
 + @ Override 
 public ActorSettingsCategory [ ] getBeforeSettingsCategories ( ) { 
 return new ActorSettingsCategory [ ] { 
 new ActorSettingsCategory ( ) { 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsFragment . java 
 index 7bfd48b . . 4818849 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsFragment . java 
 @ @ - 33 , 6 + 33 , 11 @ @ public class ActorSettingsFragment extends BaseActorSettingsFragment { 
 } 
 
 @ Override 
 + public boolean showAskQuestion ( ) { 
 + return true ; 
 + } 
 + 
 + @ Override 
 public ActorSettingsCategory [ ] getBeforeSettingsCategories ( ) { 
 return null ; 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java 
 index f16f1a1 . . bce726e 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java 
 @ @ - 360 , 7 + 360 , 8 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements 
 } 
 } ) ; 
 
 - view . findViewById ( R . id . askQuestion ) . setOnClickListener ( new View . OnClickListener ( ) { 
 + View askQuestion = view . findViewById ( R . id . askQuestion ) ; 
 + askQuestion . setOnClickListener ( new View . OnClickListener ( ) { 
 @ Override 
 public void onClick ( View view ) { 
 execute ( messenger ( ) . findUsers ( ActorSDK . sharedActor ( ) . getDelegate ( ) . getHelpPhone ( ) ) , R . string . progress _ common , new CommandCallback < UserVM [ ] > ( ) { 
 @ @ - 379 , 6 + 380 , 11 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements 
 } 
 } ) ; 
 
 + if ( ! showAskQuestion ( ) ) { 
 + askQuestion . setVisibility ( View . GONE ) ; 
 + view . findViewById ( R . id . divider3 ) . setVisibility ( View . GONE ) ; 
 + } 
 + 
 TextView settingsHeaderText = ( TextView ) view . findViewById ( R . id . settings _ header _ text ) ; 
 settingsHeaderText . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; 
 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / IActorSettingsFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / IActorSettingsFragment . java 
 index f2fd839 . . a50d1a2 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / IActorSettingsFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / IActorSettingsFragment . java 
 @ @ - 7 , 6 + 7 , 7 @ @ import android . view . View ; 
 * Created by root on 11 / 11 / 15 . 
 * / 
 public interface IActorSettingsFragment { 
 + 
 View getBeforeNickSettingsView ( ) ; 
 
 View getAfterPhoneSettingsView ( ) ; 
 @ @ - 17 , 6 + 18 , 8 @ @ public interface IActorSettingsFragment { 
 
 boolean showWallpaperCategory ( ) ; 
 
 + boolean showAskQuestion ( ) ; 
 + 
 ActorSettingsCategory [ ] getBeforeSettingsCategories ( ) ; 
 
 ActorSettingsCategory [ ] getAfterSettingsCategories ( ) ;
