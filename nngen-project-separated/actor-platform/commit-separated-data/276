BLEU SCORE: 0.13485111859503685

TEST MSG: feat ( iOS ) : Adding YYWebImage to dependencies
GENERATED MSG: feat ( IOS ) : addblockUser Button on OtherUserProfileScreen

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - ios / ActorApp . xcodeproj / project . pbxproj b / actor - sdk / sdk - core - ios / ActorApp . xcodeproj / project . pbxproj < nl > index 6da5e1e . . eea2566 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorApp . xcodeproj / project . pbxproj < nl > + + + b / actor - sdk / sdk - core - ios / ActorApp . xcodeproj / project . pbxproj < nl > @ @ - 174 , 14 + 174 , 14 @ @ < nl > 	 	 	 isa = PBXNativeTarget ; < nl > 	 	 	 buildConfigurationList = 58731A67470ABB64477A86D26A0C38CA / * Build configuration list for PBXNativeTarget " ActorApp " * / ; < nl > 	 	 	 buildPhases = ( < nl > - 	 	 	 	 712B269FC35BFB6C85DF769C / * ? ? Check Pods Manifest . lock * / , < nl > + 	 	 	 	 712B269FC35BFB6C85DF769C / * [ CP ] Check Pods Manifest . lock * / , < nl > 	 	 	 	 50CB7471D350DF82230B74B5952FA7BD / * Sources * / , < nl > 	 	 	 	 4533F91FE5E247335BA76B35E6FC28C1 / * Frameworks * / , < nl > 	 	 	 	 B094A1F03E91E4354C789DE8702D2FB4 / * Resources * / , < nl > 	 	 	 	 06FC5E741BAB2DCC0071F153 / * Configure Crashlytics * / , < nl > 	 	 	 	 06230F0D1BC7FF3500A4807B / * Embed Frameworks * / , < nl > - 	 	 	 	 AAA022A9BD9362E00B0F9BDE / * ? ? Embed Pods Frameworks * / , < nl > - 	 	 	 	 EFFD470B63C1BB419D199F19 / * ? ? Copy Pods Resources * / , < nl > + 	 	 	 	 AAA022A9BD9362E00B0F9BDE / * [ CP ] Embed Pods Frameworks * / , < nl > + 	 	 	 	 EFFD470B63C1BB419D199F19 / * [ CP ] Copy Pods Resources * / , < nl > 	 	 	 	 851EE1A34619AE6677649A27 / * Embed Pods Frameworks * / , < nl > 	 	 	 ) ; < nl > 	 	 	 buildRules = ( < nl > @ @ - 288 , 14 + 288 , 14 @ @ < nl > 	 	 	 shellPath = / bin / sh ; < nl > 	 	 	 shellScript = " # Initialization of Crashlytics \ n \ n # Getting build secret \ nBUILD _ SECRET = $ FABRIC _ BUILD _ SECRET \ n \ n # Getting api key from Info . plist \ nAPI _ KEY = $ ( / usr / libexec / PlistBuddy \ " $ { PRODUCT _ SETTINGS _ PATH } \ " - c \ " Print : Fabric : APIKey \ " ) \ n \ nif [ - n \ " $ BUILD _ SECRET \ " ] ; then \ n if [ [ $ ? - ne 0 ] ] ; then \ n echo \ " Crashlytics not installed , skipping \ " \ n else \ n if [ - n \ " $ API _ KEY \ " ] ; then \ n echo \ " Uploading symbols to crashlytics \ " \ " $ API _ KEY \ " \ " $ BUILD _ SECRET \ " \ n \ " $ { PODS _ ROOT } / Fabric / Fabric . framework / run \ " \ " $ API _ KEY \ " \ " $ BUILD _ SECRET \ " \ n else \ n echo \ " Crashlytics not installed , skipping \ " \ n fi \ n fi \ nelse \ n echo \ " Crashlytics build secret not set , skipping \ " \ nfi " ; < nl > 	 	 } ; < nl > - 	 	 712B269FC35BFB6C85DF769C / * ? ? Check Pods Manifest . lock * / = { < nl > + 	 	 712B269FC35BFB6C85DF769C / * [ CP ] Check Pods Manifest . lock * / = { < nl > 	 	 	 isa = PBXShellScriptBuildPhase ; < nl > 	 	 	 buildActionMask = 2147483647 ; < nl > 	 	 	 files = ( < nl > 	 	 	 ) ; < nl > 	 	 	 inputPaths = ( < nl > 	 	 	 ) ; < nl > - 	 	 	 name = " ? ? Check Pods Manifest . lock " ; < nl > + 	 	 	 name = " [ CP ] Check Pods Manifest . lock " ; < nl > 	 	 	 outputPaths = ( < nl > 	 	 	 ) ; < nl > 	 	 	 runOnlyForDeploymentPostprocessing = 0 ; < nl > @ @ - 318 , 14 + 318 , 14 @ @ < nl > 	 	 	 shellScript = " \ " $ { SRCROOT } / Pods / Target Support Files / Pods - ActorApp / Pods - ActorApp - frameworks . sh \ " \ n " ; < nl > 	 	 	 showEnvVarsInLog = 0 ; < nl > 	 	 } ; < nl > - 	 	 AAA022A9BD9362E00B0F9BDE / * ? ? Embed Pods Frameworks * / = { < nl > + 	 	 AAA022A9BD9362E00B0F9BDE / * [ CP ] Embed Pods Frameworks * / = { < nl > 	 	 	 isa = PBXShellScriptBuildPhase ; < nl > 	 	 	 buildActionMask = 2147483647 ; < nl > 	 	 	 files = ( < nl > 	 	 	 ) ; < nl > 	 	 	 inputPaths = ( < nl > 	 	 	 ) ; < nl > - 	 	 	 name = " ? ? Embed Pods Frameworks " ; < nl > + 	 	 	 name = " [ CP ] Embed Pods Frameworks " ; < nl > 	 	 	 outputPaths = ( < nl > 	 	 	 ) ; < nl > 	 	 	 runOnlyForDeploymentPostprocessing = 0 ; < nl > @ @ - 333 , 14 + 333 , 14 @ @ < nl > 	 	 	 shellScript = " \ " $ { SRCROOT } / Pods / Target Support Files / Pods - ActorApp / Pods - ActorApp - frameworks . sh \ " \ n " ; < nl > 	 	 	 showEnvVarsInLog = 0 ; < nl > 	 	 } ; < nl > - 	 	 EFFD470B63C1BB419D199F19 / * ? ? Copy Pods Resources * / = { < nl > + 	 	 EFFD470B63C1BB419D199F19 / * [ CP ] Copy Pods Resources * / = { < nl > 	 	 	 isa = PBXShellScriptBuildPhase ; < nl > 	 	 	 buildActionMask = 2147483647 ; < nl > 	 	 	 files = ( < nl > 	 	 	 ) ; < nl > 	 	 	 inputPaths = ( < nl > 	 	 	 ) ; < nl > - 	 	 	 name = " ? ? Copy Pods Resources " ; < nl > + 	 	 	 name = " [ CP ] Copy Pods Resources " ; < nl > 	 	 	 outputPaths = ( < nl > 	 	 	 ) ; < nl > 	 	 	 runOnlyForDeploymentPostprocessing = 0 ; < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK - iOS . podspec b / actor - sdk / sdk - core - ios / ActorSDK - iOS . podspec < nl > index 47cb419 . . 36f1bd8 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK - iOS . podspec < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK - iOS . podspec < nl > @ @ - 29 , 6 + 29 , 7 @ @ Pod : : Spec . new do | s | < nl > s . dependency ' YYImage ' < nl > s . dependency ' YYImage / WebP ' < nl > s . dependency ' YYCategories ' < nl > + s . dependency ' YYWebImage ' < nl > s . dependency ' DZNWebViewController ' < nl > < nl > s . dependency ' TTTAttributedLabel ' < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj b / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj < nl > index 28e9401 . . 0755db5 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj < nl > @ @ - 1882 , 13 + 1882 , 13 @ @ < nl > 	 	 	 isa = PBXNativeTarget ; < nl > 	 	 	 buildConfigurationList = 066A50DA1BC4AE63000E606E / * Build configuration list for PBXNativeTarget " ActorSDK " * / ; < nl > 	 	 	 buildPhases = ( < nl > - 	 	 	 	 5B00FFD27DD7E01F43B31D13 / * ? ? Check Pods Manifest . lock * / , < nl > + 	 	 	 	 5B00FFD27DD7E01F43B31D13 / * [ CP ] Check Pods Manifest . lock * / , < nl > 	 	 	 	 066A52091BC4EA95000E606E / * Build and Install Actor Core * / , < nl > 	 	 	 	 066A50CD1BC4AE63000E606E / * Sources * / , < nl > 	 	 	 	 066A50CF1BC4AE63000E606E / * Headers * / , < nl > 	 	 	 	 066A50CE1BC4AE63000E606E / * Frameworks * / , < nl > 	 	 	 	 066A50D01BC4AE63000E606E / * Resources * / , < nl > - 	 	 	 	 A2ED258362D73946D3AE7FB4 / * ? ? Copy Pods Resources * / , < nl > + 	 	 	 	 A2ED258362D73946D3AE7FB4 / * [ CP ] Copy Pods Resources * / , < nl > 	 	 	 ) ; < nl > 	 	 	 buildRules = ( < nl > 	 	 	 ) ; < nl > @ @ - 1984 , 14 + 1984 , 14 @ @ < nl > 	 	 	 shellPath = / bin / sh ; < nl > 	 	 	 shellScript = " set - e \ n \ ncd ActorSDK / Sources / ActorCore \ nmake translate \ nmake build - j3 \ n \ ncd \ " $ { CONFIGURATION _ TEMP _ DIR } / j2objc / \ " \ npython \ " $ { PROJECT _ DIR } / ActorSDK / Sources / ActorCore / convert . py \ " \ " $ { PROJECT _ DIR } / ActorSDK / Sources / ActorCore / ActorCore . h \ " \ n \ ncp - af \ " $ { PODS _ ROOT } / libjingle _ peerconnection / libjingle _ peerconnection / Headers / \ " \ " $ { CONFIGURATION _ BUILD _ DIR } / ActorSDK . framework / Headers / \ " \ n \ ncp - a \ " $ { CONFIGURATION _ TEMP _ DIR } / j2objc / Public / \ " \ " $ { CONFIGURATION _ BUILD _ DIR } / ActorSDK . framework / Headers / \ " \ n \ n \ ncp - a \ " $ { PROJECT _ DIR } / . . / sdk - core / core / core - shared / src / main / resources / \ " \ " $ { CONFIGURATION _ BUILD _ DIR } / ActorSDK . framework / \ " " ; < nl > 	 	 } ; < nl > - 	 	 5B00FFD27DD7E01F43B31D13 / * ? ? Check Pods Manifest . lock * / = { < nl > + 	 	 5B00FFD27DD7E01F43B31D13 / * [ CP ] Check Pods Manifest . lock * / = { < nl > 	 	 	 isa = PBXShellScriptBuildPhase ; < nl > 	 	 	 buildActionMask = 2147483647 ; < nl > 	 	 	 files = ( < nl > 	 	 	 ) ; < nl > 	 	 	 inputPaths = ( < nl > 	 	 	 ) ; < nl > - 	 	 	 name = " ? ? Check Pods Manifest . lock " ; < nl > + 	 	 	 name = " [ CP ] Check Pods Manifest . lock " ; < nl > 	 	 	 outputPaths = ( < nl > 	 	 	 ) ; < nl > 	 	 	 runOnlyForDeploymentPostprocessing = 0 ; < nl > @ @ - 1999 , 14 + 1999 , 14 @ @ < nl > 	 	 	 shellScript = " diff \ " $ { PODS _ ROOT } / . . / Podfile . lock \ " \ " $ { PODS _ ROOT } / Manifest . lock \ " > / dev / null \ nif [ [ $ ? ! = 0 ] ] ; then \ n cat < < EOM \ nerror : The sandbox is not in sync with the Podfile . lock . Run ' pod install ' or update your CocoaPods installation . \ nEOM \ n exit 1 \ nfi \ n " ; < nl > 	 	 	 showEnvVarsInLog = 0 ; < nl > 	 	 } ; < nl > - 	 	 A2ED258362D73946D3AE7FB4 / * ? ? Copy Pods Resources * / = { < nl > + 	 	 A2ED258362D73946D3AE7FB4 / * [ CP ] Copy Pods Resources * / = { < nl > 	 	 	 isa = PBXShellScriptBuildPhase ; < nl > 	 	 	 buildActionMask = 2147483647 ; < nl > 	 	 	 files = ( < nl > 	 	 	 ) ; < nl > 	 	 	 inputPaths = ( < nl > 	 	 	 ) ; < nl > - 	 	 	 name = " ? ? Copy Pods Resources " ; < nl > + 	 	 	 name = " [ CP ] Copy Pods Resources " ; < nl > 	 	 	 outputPaths = ( < nl > 	 	 	 ) ; < nl > 	 	 	 runOnlyForDeploymentPostprocessing = 0 ; < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleMediaCell . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleMediaCell . swift < nl > index 4635626 . . 4ba8612 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleMediaCell . swift < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleMediaCell . swift < nl > @ @ - 5 , 6 + 5 , 7 @ @ < nl > import Foundation < nl > import VBFPopFlatButton < nl > import YYImage < nl > + import YYWebImage < nl > import YYCategories < nl > < nl > public class AABubbleMediaCell : AABubbleBaseFileCell , NYTPhotosViewControllerDelegate { < nl > @ @ - 184 , 24 + 185 , 11 @ @ public class AABubbleMediaCell : AABubbleBaseFileCell , NYTPhotosViewControllerDe < nl > < nl > let preloadedThumb : YYImage = YYImage ( data : bindedLayout . fastThumb ! ) ! < nl > < nl > - let loadedThumb : UIImage ! < nl > - if ( preloadedThumb . animatedImageType = = YYImageType . GIF ) { < nl > - loadedThumb = preloadedThumb . roundCorners ( bindedLayout . screenSize . width , < nl > - h : bindedLayout . screenSize . height , < nl > - roundSize : 14 ) < nl > - < nl > - } else if ( preloadedThumb . animatedImageType = = YYImageType . WebP ) { < nl > - loadedThumb = preloadedThumb . roundCorners ( bindedLayout . screenSize . width , < nl > - h : bindedLayout . screenSize . height , < nl > - roundSize : 14 ) < nl > - } else { < nl > - loadedThumb = preloadedThumb . imageByBlurLight ( ) ! . roundCorners ( bindedLayout . screenSize . width , < nl > - h : bindedLayout . screenSize . height , < nl > - roundSize : 14 ) < nl > - } < nl > + let loadedThumb = preloadedThumb . imageByBlurLight ( ) ! < nl > + . roundCorners ( bindedLayout . screenSize . width , h : bindedLayout . screenSize . height , roundSize : 14 ) < nl > < nl > runOnUiThread ( selfGeneration , closure : { ( ) - > ( ) in < nl > - self . setPreviewImage ( loadedThumb ! , fast : true ) < nl > + self . setPreviewImage ( loadedThumb , fast : true ) < nl > } ) ; < nl > } < nl > } < nl > @ @ - 215 , 11 + 203 , 9 @ @ public class AABubbleMediaCell : AABubbleBaseFileCell , NYTPhotosViewControllerDe < nl > var loadedContent : UIImage ! < nl > if bindedMessage ! . content is ACAnimationContent { < nl > loadedContent = YYImage ( contentsOfFile : CocoaFiles . pathFromDescriptor ( reference ) ) < nl > - < nl > - } else if CocoaFiles . pathFromDescriptor ( reference ) . pathExtension ! = = " webp " { < nl > - loadedContent = YYImage ( contentsOfFile : CocoaFiles . pathFromDescriptor ( reference ) ) < nl > } else { < nl > - loadedContent = YYImage ( contentsOfFile : CocoaFiles . pathFromDescriptor ( reference ) ) ? . roundCorners ( self . bindedLayout . screenSize . width , h : self . bindedLayout . screenSize . height , roundSize : 14 ) < nl > + loadedContent = YYImage ( contentsOfFile : CocoaFiles . pathFromDescriptor ( reference ) ) ? < nl > + . roundCorners ( self . bindedLayout . screenSize . width , h : self . bindedLayout . screenSize . height , roundSize : 14 ) < nl > } < nl > if ( loadedContent = = nil ) { < nl > return < nl > @ @ - 232 , 7 + 218 , 7 @ @ public class AABubbleMediaCell : AABubbleBaseFileCell , NYTPhotosViewControllerDe < nl > < nl > public func setPreviewImage ( img : UIImage , fast : Bool ) { < nl > if ( ( fast & & self . preview . image = = nil ) | | ! fast ) { < nl > - self . preview . image = img ; < nl > + self . preview . image = img < nl > self . preview . showView ( ) < nl > } < nl > } < nl > diff - - git a / actor - sdk / sdk - core - ios / Podfile b / actor - sdk / sdk - core - ios / Podfile < nl > index 4f673d2 . . 16b7e24 100644 < nl > - - - a / actor - sdk / sdk - core - ios / Podfile < nl > + + + b / actor - sdk / sdk - core - ios / Podfile < nl > @ @ - 21 , 6 + 21 , 7 @ @ target ' ActorApp ' do < nl > pod ' JDStatusBarNotification ' < nl > pod ' YYImage ' < nl > pod ' YYImage / WebP ' < nl > + pod ' YYWebImage ' < nl > pod ' YYCategories ' < nl > pod ' DZNWebViewController ' < nl > < nl > @ @ - 53 , 6 + 54 , 7 @ @ target ' ActorSDK ' do < nl > pod ' JDStatusBarNotification ' < nl > pod ' YYImage ' < nl > pod ' YYImage / WebP ' < nl > + pod ' YYWebImage ' < nl > pod ' YYCategories ' < nl > pod ' DZNWebViewController '
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core - ios / ActorApp . xcodeproj / project . pbxproj b / actor - sdk / sdk - core - ios / ActorApp . xcodeproj / project . pbxproj < nl > index 84a1352 . . ad2f025 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorApp . xcodeproj / project . pbxproj < nl > + + + b / actor - sdk / sdk - core - ios / ActorApp . xcodeproj / project . pbxproj < nl > @ @ - 182 , 6 + 182 , 7 @ @ < nl > 	 	 	 	 06230F0D1BC7FF3500A4807B / * Embed Frameworks * / , < nl > 	 	 	 	 AAA022A9BD9362E00B0F9BDE / * ? ? Embed Pods Frameworks * / , < nl > 	 	 	 	 EFFD470B63C1BB419D199F19 / * ? ? Copy Pods Resources * / , < nl > + 	 	 	 	 851EE1A34619AE6677649A27 / * Embed Pods Frameworks * / , < nl > 	 	 	 ) ; < nl > 	 	 	 buildRules = ( < nl > 	 	 	 ) ; < nl > @ @ - 205 , 7 + 206 , 7 @ @ < nl > 	 	 	 	 TargetAttributes = { < nl > 	 	 	 	 	 EA6B7348F8364542DDD264F741AAAA19 = { < nl > 	 	 	 	 	 	 CreatedOnToolsVersion = 6 . 4 ; < nl > - 	 	 	 	 	 	 DevelopmentTeam = HVJR44Y5B6 ; < nl > + 	 	 	 	 	 	 DevelopmentTeam = DR9YEJ8YRD ; < nl > 	 	 	 	 	 	 SystemCapabilities = { < nl > 	 	 	 	 	 	 	 com . apple . Maps . iOS = { < nl > 	 	 	 	 	 	 	 	 enabled = 1 ; < nl > @ @ - 302 , 6 + 303 , 21 @ @ < nl > 	 	 	 shellScript = " diff \ " $ { PODS _ ROOT } / . . / Podfile . lock \ " \ " $ { PODS _ ROOT } / Manifest . lock \ " > / dev / null \ nif [ [ $ ? ! = 0 ] ] ; then \ n cat < < EOM \ nerror : The sandbox is not in sync with the Podfile . lock . Run ' pod install ' or update your CocoaPods installation . \ nEOM \ n exit 1 \ nfi \ n " ; < nl > 	 	 	 showEnvVarsInLog = 0 ; < nl > 	 	 } ; < nl > + 	 	 851EE1A34619AE6677649A27 / * Embed Pods Frameworks * / = { < nl > + 	 	 	 isa = PBXShellScriptBuildPhase ; < nl > + 	 	 	 buildActionMask = 2147483647 ; < nl > + 	 	 	 files = ( < nl > + 	 	 	 ) ; < nl > + 	 	 	 inputPaths = ( < nl > + 	 	 	 ) ; < nl > + 	 	 	 name = " Embed Pods Frameworks " ; < nl > + 	 	 	 outputPaths = ( < nl > + 	 	 	 ) ; < nl > + 	 	 	 runOnlyForDeploymentPostprocessing = 0 ; < nl > + 	 	 	 shellPath = / bin / sh ; < nl > + 	 	 	 shellScript = " \ " $ { SRCROOT } / Pods / Target Support Files / Pods - ActorApp / Pods - ActorApp - frameworks . sh \ " \ n " ; < nl > + 	 	 	 showEnvVarsInLog = 0 ; < nl > + 	 	 } ; < nl > 	 	 AAA022A9BD9362E00B0F9BDE / * ? ? Embed Pods Frameworks * / = { < nl > 	 	 	 isa = PBXShellScriptBuildPhase ; < nl > 	 	 	 buildActionMask = 2147483647 ; < nl > @ @ - 400 , 7 + 416 , 7 @ @ < nl > 	 	 	 	 LIBRARY _ SEARCH _ PATHS = " $ ( inherited ) " ; < nl > 	 	 	 	 ONLY _ ACTIVE _ ARCH = YES ; < nl > 	 	 	 	 OTHER _ LDFLAGS = " $ ( inherited ) " ; < nl > - 	 	 	 	 PRODUCT _ BUNDLE _ IDENTIFIER = im . actor . sdk . dev ; < nl > + 	 	 	 	 PRODUCT _ BUNDLE _ IDENTIFIER = im . actor . sdk . dev . me ; < nl > 	 	 	 	 PRODUCT _ NAME = " $ ( TARGET _ NAME ) " ; < nl > 	 	 	 	 PROVISIONING _ PROFILE = " " ; < nl > 	 	 	 	 SDK _ PATH = " . . / actor - sdk " ; < nl > @ @ - 476 , 7 + 492 , 7 @ @ < nl > 	 	 	 	 LD _ RUNPATH _ SEARCH _ PATHS = " $ ( inherited ) @ executable _ path / Frameworks @ loader _ path / Frameworks " ; < nl > 	 	 	 	 LIBRARY _ SEARCH _ PATHS = " $ ( inherited ) " ; < nl > 	 	 	 	 OTHER _ LDFLAGS = " $ ( inherited ) " ; < nl > - 	 	 	 	 PRODUCT _ BUNDLE _ IDENTIFIER = im . actor . sdk . dev ; < nl > + 	 	 	 	 PRODUCT _ BUNDLE _ IDENTIFIER = im . actor . sdk . dev . me ; < nl > 	 	 	 	 PRODUCT _ NAME = " $ ( TARGET _ NAME ) " ; < nl > 	 	 	 	 PROVISIONING _ PROFILE = " " ; < nl > 	 	 	 	 SDK _ PATH = " . . / actor - sdk " ; < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj b / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj < nl > index edca9a1 . . 40f3e87 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj < nl > @ @ - 1900 , 7 + 1900 , 7 @ @ < nl > 	 	 	 	 TargetAttributes = { < nl > 	 	 	 	 	 066A50D11BC4AE63000E606E = { < nl > 	 	 	 	 	 	 CreatedOnToolsVersion = 7 . 0 ; < nl > - 	 	 	 	 	 	 DevelopmentTeam = HVJR44Y5B6 ; < nl > + 	 	 	 	 	 	 DevelopmentTeam = DR9YEJ8YRD ; < nl > 	 	 	 	 	 } ; < nl > 	 	 	 	 } ; < nl > 	 	 	 } ; < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings b / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings < nl > index bb52807 . . 810b88f 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings < nl > @ @ - 149 , 6 + 149 , 8 @ @ < nl > < nl > " ProfileRemoveFromContacts " = " Remove from Contacts " ; < nl > < nl > + " ProfileBlockContact " = " Block Contact " ; < nl > + < nl > " ProfileRename " = " Rename Contact " ; < nl > < nl > " ProfileRenameMessage " = " You can rename contacts to organize your contact list . Changes will only be visible to you . " ; < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Managed Runtime / Executions . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Managed Runtime / Executions . swift < nl > index 8c317a1 . . fd9ca30 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Managed Runtime / Executions . swift 	 < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Managed Runtime / Executions . swift 	 < nl > @ @ - 167 , 6 + 167 , 10 @ @ public extension UIViewController { < nl > AAExecutions . execute ( command ) < nl > } < nl > < nl > + public func executePromise ( promise : ARPromise ) { < nl > + AAExecutions . execute ( promise ) < nl > + } < nl > + < nl > public func execute ( command : ACCommand , successBlock : ( ( val : Any ? ) - > Void ) ? , failureBlock : ( ( val : Any ? ) - > Void ) ? ) { < nl > AAExecutions . execute ( command , successBlock : successBlock , failureBlock : failureBlock ) < nl > } < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / User / AAUserViewController . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / User / AAUserViewController . swift < nl > index 17b4e7b . . 5fb0dfb 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / User / AAUserViewController . swift < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / User / AAUserViewController . swift < nl > @ @ - 8 , 10 + 8 , 10 @ @ class AAUserViewController : AAContentTableController { < nl > < nl > var headerRow : AAAvatarRow ! < nl > var isContactRow : AACommonRow ! < nl > - < nl > + < nl > init ( uid : Int ) { < nl > super . init ( style : AAContentTableStyle . SettingsPlain ) < nl > - < nl > + < nl > self . uid = uid < nl > self . autoTrack = true < nl > < nl > @ @ - 26 , 7 + 26 , 7 @ @ class AAUserViewController : AAContentTableController { < nl > < nl > / / Profile < nl > section { ( s ) - > ( ) in < nl > - < nl > + < nl > / / Profile : Avatar < nl > self . headerRow = s . avatar { ( r ) - > ( ) in < nl > < nl > @ @ - 92 , 7 + 92 , 7 @ @ class AAUserViewController : AAContentTableController { < nl > let about = self . user . getAboutModel ( ) . get ( ) < nl > < nl > if ! self . isBot | | nick ! = nil | | about ! = nil { < nl > - < nl > + < nl > / / Contact < nl > section { ( s ) - > ( ) in < nl > < nl > @ @ - 176 , 7 + 176 , 7 @ @ class AAUserViewController : AAContentTableController { < nl > < nl > / / Edit contact < nl > section { ( s ) - > ( ) in < nl > - < nl > + < nl > / / Edit contact : Add / Remove < nl > self . isContactRow = s . common { ( r ) - > ( ) in < nl > r . bindAction = { ( r ) - > ( ) in < nl > @ @ - 188 , 6 + 188 , 7 @ @ class AAUserViewController : AAContentTableController { < nl > r . style = . Action < nl > } < nl > } < nl > + < nl > r . selectAction = { ( ) - > Bool in < nl > if ( self . user . isContactModel ( ) . get ( ) . booleanValue ( ) ) { < nl > self . execute ( Actor . removeContactCommandWithUid ( jint ( self . uid ) ) ! ) < nl > @ @ - 234 , 10 + 235 , 29 @ @ class AAUserViewController : AAContentTableController { < nl > return true < nl > } < nl > } < nl > + < nl > } < nl > - < nl > + < nl > } < nl > < nl > + / / Block Contact < nl > + section { ( s ) - > ( ) in < nl > + < nl > + / / Block Contact < nl > + self . isContactRow = s . common { ( r ) - > ( ) in < nl > + r . bindAction = { ( r ) - > ( ) in < nl > + if self . user . isContactModel ( ) . get ( ) . booleanValue ( ) { < nl > + r . content = AALocalized ( " ProfileBlockContact " ) < nl > + r . style = . Action < nl > + } < nl > + } < nl > + r . selectAction = { ( ) - > Bool in < nl > + self . executePromise ( Actor . blockUser ( jint ( self . uid ) ) ) < nl > + < nl > + return true < nl > + } < nl > + } < nl > + } < nl > } < nl > < nl > override func tableWillBind ( binder : AABinder ) { < nl > diff - - git a / actor - sdk / sdk - core - ios / Podfile b / actor - sdk / sdk - core - ios / Podfile < nl > index 93476e1 . . 20769e5 100644 < nl > - - - a / actor - sdk / sdk - core - ios / Podfile < nl > + + + b / actor - sdk / sdk - core - ios / Podfile < nl > @ @ - 2 , 15 + 2 , 15 @ @ platform : ios , ' 8 . 0 ' < nl > use _ frameworks ! < nl > < nl > workspace ' ActorSDK ' < nl > - project ' ActorSDK . xcodeproj ' < nl > - project ' ActorApp . xcodeproj ' < nl > + xcodeproj ' ActorSDK . xcodeproj ' < nl > + xcodeproj ' ActorApp . xcodeproj ' < nl > < nl > inhibit _ all _ warnings ! < nl > < nl > # link _ with ' ActorApp ' < nl > < nl > target ' ActorApp ' do < nl > - project ' ActorApp . xcodeproj ' < nl > + xcodeproj ' ActorApp . xcodeproj ' < nl > < nl > # Core Tools < nl > pod ' RegexKitLite ' < nl > @ @ - 38 , 7 + 38 , 7 @ @ target ' ActorApp ' do < nl > end < nl > < nl > target ' ActorSDK ' do < nl > - project ' ActorSDK . xcodeproj ' < nl > + xcodeproj ' ActorSDK . xcodeproj ' < nl > < nl > # J2Objc Runtime < nl > pod ' J2ObjC - Framework '

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - ios / ActorApp . xcodeproj / project . pbxproj b / actor - sdk / sdk - core - ios / ActorApp . xcodeproj / project . pbxproj 
 index 6da5e1e . . eea2566 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorApp . xcodeproj / project . pbxproj 
 + + + b / actor - sdk / sdk - core - ios / ActorApp . xcodeproj / project . pbxproj 
 @ @ - 174 , 14 + 174 , 14 @ @ 
 	 	 	 isa = PBXNativeTarget ; 
 	 	 	 buildConfigurationList = 58731A67470ABB64477A86D26A0C38CA / * Build configuration list for PBXNativeTarget " ActorApp " * / ; 
 	 	 	 buildPhases = ( 
 - 	 	 	 	 712B269FC35BFB6C85DF769C / * ? ? Check Pods Manifest . lock * / , 
 + 	 	 	 	 712B269FC35BFB6C85DF769C / * [ CP ] Check Pods Manifest . lock * / , 
 	 	 	 	 50CB7471D350DF82230B74B5952FA7BD / * Sources * / , 
 	 	 	 	 4533F91FE5E247335BA76B35E6FC28C1 / * Frameworks * / , 
 	 	 	 	 B094A1F03E91E4354C789DE8702D2FB4 / * Resources * / , 
 	 	 	 	 06FC5E741BAB2DCC0071F153 / * Configure Crashlytics * / , 
 	 	 	 	 06230F0D1BC7FF3500A4807B / * Embed Frameworks * / , 
 - 	 	 	 	 AAA022A9BD9362E00B0F9BDE / * ? ? Embed Pods Frameworks * / , 
 - 	 	 	 	 EFFD470B63C1BB419D199F19 / * ? ? Copy Pods Resources * / , 
 + 	 	 	 	 AAA022A9BD9362E00B0F9BDE / * [ CP ] Embed Pods Frameworks * / , 
 + 	 	 	 	 EFFD470B63C1BB419D199F19 / * [ CP ] Copy Pods Resources * / , 
 	 	 	 	 851EE1A34619AE6677649A27 / * Embed Pods Frameworks * / , 
 	 	 	 ) ; 
 	 	 	 buildRules = ( 
 @ @ - 288 , 14 + 288 , 14 @ @ 
 	 	 	 shellPath = / bin / sh ; 
 	 	 	 shellScript = " # Initialization of Crashlytics \ n \ n # Getting build secret \ nBUILD _ SECRET = $ FABRIC _ BUILD _ SECRET \ n \ n # Getting api key from Info . plist \ nAPI _ KEY = $ ( / usr / libexec / PlistBuddy \ " $ { PRODUCT _ SETTINGS _ PATH } \ " - c \ " Print : Fabric : APIKey \ " ) \ n \ nif [ - n \ " $ BUILD _ SECRET \ " ] ; then \ n if [ [ $ ? - ne 0 ] ] ; then \ n echo \ " Crashlytics not installed , skipping \ " \ n else \ n if [ - n \ " $ API _ KEY \ " ] ; then \ n echo \ " Uploading symbols to crashlytics \ " \ " $ API _ KEY \ " \ " $ BUILD _ SECRET \ " \ n \ " $ { PODS _ ROOT } / Fabric / Fabric . framework / run \ " \ " $ API _ KEY \ " \ " $ BUILD _ SECRET \ " \ n else \ n echo \ " Crashlytics not installed , skipping \ " \ n fi \ n fi \ nelse \ n echo \ " Crashlytics build secret not set , skipping \ " \ nfi " ; 
 	 	 } ; 
 - 	 	 712B269FC35BFB6C85DF769C / * ? ? Check Pods Manifest . lock * / = { 
 + 	 	 712B269FC35BFB6C85DF769C / * [ CP ] Check Pods Manifest . lock * / = { 
 	 	 	 isa = PBXShellScriptBuildPhase ; 
 	 	 	 buildActionMask = 2147483647 ; 
 	 	 	 files = ( 
 	 	 	 ) ; 
 	 	 	 inputPaths = ( 
 	 	 	 ) ; 
 - 	 	 	 name = " ? ? Check Pods Manifest . lock " ; 
 + 	 	 	 name = " [ CP ] Check Pods Manifest . lock " ; 
 	 	 	 outputPaths = ( 
 	 	 	 ) ; 
 	 	 	 runOnlyForDeploymentPostprocessing = 0 ; 
 @ @ - 318 , 14 + 318 , 14 @ @ 
 	 	 	 shellScript = " \ " $ { SRCROOT } / Pods / Target Support Files / Pods - ActorApp / Pods - ActorApp - frameworks . sh \ " \ n " ; 
 	 	 	 showEnvVarsInLog = 0 ; 
 	 	 } ; 
 - 	 	 AAA022A9BD9362E00B0F9BDE / * ? ? Embed Pods Frameworks * / = { 
 + 	 	 AAA022A9BD9362E00B0F9BDE / * [ CP ] Embed Pods Frameworks * / = { 
 	 	 	 isa = PBXShellScriptBuildPhase ; 
 	 	 	 buildActionMask = 2147483647 ; 
 	 	 	 files = ( 
 	 	 	 ) ; 
 	 	 	 inputPaths = ( 
 	 	 	 ) ; 
 - 	 	 	 name = " ? ? Embed Pods Frameworks " ; 
 + 	 	 	 name = " [ CP ] Embed Pods Frameworks " ; 
 	 	 	 outputPaths = ( 
 	 	 	 ) ; 
 	 	 	 runOnlyForDeploymentPostprocessing = 0 ; 
 @ @ - 333 , 14 + 333 , 14 @ @ 
 	 	 	 shellScript = " \ " $ { SRCROOT } / Pods / Target Support Files / Pods - ActorApp / Pods - ActorApp - frameworks . sh \ " \ n " ; 
 	 	 	 showEnvVarsInLog = 0 ; 
 	 	 } ; 
 - 	 	 EFFD470B63C1BB419D199F19 / * ? ? Copy Pods Resources * / = { 
 + 	 	 EFFD470B63C1BB419D199F19 / * [ CP ] Copy Pods Resources * / = { 
 	 	 	 isa = PBXShellScriptBuildPhase ; 
 	 	 	 buildActionMask = 2147483647 ; 
 	 	 	 files = ( 
 	 	 	 ) ; 
 	 	 	 inputPaths = ( 
 	 	 	 ) ; 
 - 	 	 	 name = " ? ? Copy Pods Resources " ; 
 + 	 	 	 name = " [ CP ] Copy Pods Resources " ; 
 	 	 	 outputPaths = ( 
 	 	 	 ) ; 
 	 	 	 runOnlyForDeploymentPostprocessing = 0 ; 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK - iOS . podspec b / actor - sdk / sdk - core - ios / ActorSDK - iOS . podspec 
 index 47cb419 . . 36f1bd8 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK - iOS . podspec 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK - iOS . podspec 
 @ @ - 29 , 6 + 29 , 7 @ @ Pod : : Spec . new do | s | 
 s . dependency ' YYImage ' 
 s . dependency ' YYImage / WebP ' 
 s . dependency ' YYCategories ' 
 + s . dependency ' YYWebImage ' 
 s . dependency ' DZNWebViewController ' 
 
 s . dependency ' TTTAttributedLabel ' 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj b / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj 
 index 28e9401 . . 0755db5 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj 
 @ @ - 1882 , 13 + 1882 , 13 @ @ 
 	 	 	 isa = PBXNativeTarget ; 
 	 	 	 buildConfigurationList = 066A50DA1BC4AE63000E606E / * Build configuration list for PBXNativeTarget " ActorSDK " * / ; 
 	 	 	 buildPhases = ( 
 - 	 	 	 	 5B00FFD27DD7E01F43B31D13 / * ? ? Check Pods Manifest . lock * / , 
 + 	 	 	 	 5B00FFD27DD7E01F43B31D13 / * [ CP ] Check Pods Manifest . lock * / , 
 	 	 	 	 066A52091BC4EA95000E606E / * Build and Install Actor Core * / , 
 	 	 	 	 066A50CD1BC4AE63000E606E / * Sources * / , 
 	 	 	 	 066A50CF1BC4AE63000E606E / * Headers * / , 
 	 	 	 	 066A50CE1BC4AE63000E606E / * Frameworks * / , 
 	 	 	 	 066A50D01BC4AE63000E606E / * Resources * / , 
 - 	 	 	 	 A2ED258362D73946D3AE7FB4 / * ? ? Copy Pods Resources * / , 
 + 	 	 	 	 A2ED258362D73946D3AE7FB4 / * [ CP ] Copy Pods Resources * / , 
 	 	 	 ) ; 
 	 	 	 buildRules = ( 
 	 	 	 ) ; 
 @ @ - 1984 , 14 + 1984 , 14 @ @ 
 	 	 	 shellPath = / bin / sh ; 
 	 	 	 shellScript = " set - e \ n \ ncd ActorSDK / Sources / ActorCore \ nmake translate \ nmake build - j3 \ n \ ncd \ " $ { CONFIGURATION _ TEMP _ DIR } / j2objc / \ " \ npython \ " $ { PROJECT _ DIR } / ActorSDK / Sources / ActorCore / convert . py \ " \ " $ { PROJECT _ DIR } / ActorSDK / Sources / ActorCore / ActorCore . h \ " \ n \ ncp - af \ " $ { PODS _ ROOT } / libjingle _ peerconnection / libjingle _ peerconnection / Headers / \ " \ " $ { CONFIGURATION _ BUILD _ DIR } / ActorSDK . framework / Headers / \ " \ n \ ncp - a \ " $ { CONFIGURATION _ TEMP _ DIR } / j2objc / Public / \ " \ " $ { CONFIGURATION _ BUILD _ DIR } / ActorSDK . framework / Headers / \ " \ n \ n \ ncp - a \ " $ { PROJECT _ DIR } / . . / sdk - core / core / core - shared / src / main / resources / \ " \ " $ { CONFIGURATION _ BUILD _ DIR } / ActorSDK . framework / \ " " ; 
 	 	 } ; 
 - 	 	 5B00FFD27DD7E01F43B31D13 / * ? ? Check Pods Manifest . lock * / = { 
 + 	 	 5B00FFD27DD7E01F43B31D13 / * [ CP ] Check Pods Manifest . lock * / = { 
 	 	 	 isa = PBXShellScriptBuildPhase ; 
 	 	 	 buildActionMask = 2147483647 ; 
 	 	 	 files = ( 
 	 	 	 ) ; 
 	 	 	 inputPaths = ( 
 	 	 	 ) ; 
 - 	 	 	 name = " ? ? Check Pods Manifest . lock " ; 
 + 	 	 	 name = " [ CP ] Check Pods Manifest . lock " ; 
 	 	 	 outputPaths = ( 
 	 	 	 ) ; 
 	 	 	 runOnlyForDeploymentPostprocessing = 0 ; 
 @ @ - 1999 , 14 + 1999 , 14 @ @ 
 	 	 	 shellScript = " diff \ " $ { PODS _ ROOT } / . . / Podfile . lock \ " \ " $ { PODS _ ROOT } / Manifest . lock \ " > / dev / null \ nif [ [ $ ? ! = 0 ] ] ; then \ n cat < < EOM \ nerror : The sandbox is not in sync with the Podfile . lock . Run ' pod install ' or update your CocoaPods installation . \ nEOM \ n exit 1 \ nfi \ n " ; 
 	 	 	 showEnvVarsInLog = 0 ; 
 	 	 } ; 
 - 	 	 A2ED258362D73946D3AE7FB4 / * ? ? Copy Pods Resources * / = { 
 + 	 	 A2ED258362D73946D3AE7FB4 / * [ CP ] Copy Pods Resources * / = { 
 	 	 	 isa = PBXShellScriptBuildPhase ; 
 	 	 	 buildActionMask = 2147483647 ; 
 	 	 	 files = ( 
 	 	 	 ) ; 
 	 	 	 inputPaths = ( 
 	 	 	 ) ; 
 - 	 	 	 name = " ? ? Copy Pods Resources " ; 
 + 	 	 	 name = " [ CP ] Copy Pods Resources " ; 
 	 	 	 outputPaths = ( 
 	 	 	 ) ; 
 	 	 	 runOnlyForDeploymentPostprocessing = 0 ; 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleMediaCell . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleMediaCell . swift 
 index 4635626 . . 4ba8612 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleMediaCell . swift 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleMediaCell . swift 
 @ @ - 5 , 6 + 5 , 7 @ @ 
 import Foundation 
 import VBFPopFlatButton 
 import YYImage 
 + import YYWebImage 
 import YYCategories 
 
 public class AABubbleMediaCell : AABubbleBaseFileCell , NYTPhotosViewControllerDelegate { 
 @ @ - 184 , 24 + 185 , 11 @ @ public class AABubbleMediaCell : AABubbleBaseFileCell , NYTPhotosViewControllerDe 
 
 let preloadedThumb : YYImage = YYImage ( data : bindedLayout . fastThumb ! ) ! 
 
 - let loadedThumb : UIImage ! 
 - if ( preloadedThumb . animatedImageType = = YYImageType . GIF ) { 
 - loadedThumb = preloadedThumb . roundCorners ( bindedLayout . screenSize . width , 
 - h : bindedLayout . screenSize . height , 
 - roundSize : 14 ) 
 - 
 - } else if ( preloadedThumb . animatedImageType = = YYImageType . WebP ) { 
 - loadedThumb = preloadedThumb . roundCorners ( bindedLayout . screenSize . width , 
 - h : bindedLayout . screenSize . height , 
 - roundSize : 14 ) 
 - } else { 
 - loadedThumb = preloadedThumb . imageByBlurLight ( ) ! . roundCorners ( bindedLayout . screenSize . width , 
 - h : bindedLayout . screenSize . height , 
 - roundSize : 14 ) 
 - } 
 + let loadedThumb = preloadedThumb . imageByBlurLight ( ) ! 
 + . roundCorners ( bindedLayout . screenSize . width , h : bindedLayout . screenSize . height , roundSize : 14 ) 
 
 runOnUiThread ( selfGeneration , closure : { ( ) - > ( ) in 
 - self . setPreviewImage ( loadedThumb ! , fast : true ) 
 + self . setPreviewImage ( loadedThumb , fast : true ) 
 } ) ; 
 } 
 } 
 @ @ - 215 , 11 + 203 , 9 @ @ public class AABubbleMediaCell : AABubbleBaseFileCell , NYTPhotosViewControllerDe 
 var loadedContent : UIImage ! 
 if bindedMessage ! . content is ACAnimationContent { 
 loadedContent = YYImage ( contentsOfFile : CocoaFiles . pathFromDescriptor ( reference ) ) 
 - 
 - } else if CocoaFiles . pathFromDescriptor ( reference ) . pathExtension ! = = " webp " { 
 - loadedContent = YYImage ( contentsOfFile : CocoaFiles . pathFromDescriptor ( reference ) ) 
 } else { 
 - loadedContent = YYImage ( contentsOfFile : CocoaFiles . pathFromDescriptor ( reference ) ) ? . roundCorners ( self . bindedLayout . screenSize . width , h : self . bindedLayout . screenSize . height , roundSize : 14 ) 
 + loadedContent = YYImage ( contentsOfFile : CocoaFiles . pathFromDescriptor ( reference ) ) ? 
 + . roundCorners ( self . bindedLayout . screenSize . width , h : self . bindedLayout . screenSize . height , roundSize : 14 ) 
 } 
 if ( loadedContent = = nil ) { 
 return 
 @ @ - 232 , 7 + 218 , 7 @ @ public class AABubbleMediaCell : AABubbleBaseFileCell , NYTPhotosViewControllerDe 
 
 public func setPreviewImage ( img : UIImage , fast : Bool ) { 
 if ( ( fast & & self . preview . image = = nil ) | | ! fast ) { 
 - self . preview . image = img ; 
 + self . preview . image = img 
 self . preview . showView ( ) 
 } 
 } 
 diff - - git a / actor - sdk / sdk - core - ios / Podfile b / actor - sdk / sdk - core - ios / Podfile 
 index 4f673d2 . . 16b7e24 100644 
 - - - a / actor - sdk / sdk - core - ios / Podfile 
 + + + b / actor - sdk / sdk - core - ios / Podfile 
 @ @ - 21 , 6 + 21 , 7 @ @ target ' ActorApp ' do 
 pod ' JDStatusBarNotification ' 
 pod ' YYImage ' 
 pod ' YYImage / WebP ' 
 + pod ' YYWebImage ' 
 pod ' YYCategories ' 
 pod ' DZNWebViewController ' 
 
 @ @ - 53 , 6 + 54 , 7 @ @ target ' ActorSDK ' do 
 pod ' JDStatusBarNotification ' 
 pod ' YYImage ' 
 pod ' YYImage / WebP ' 
 + pod ' YYWebImage ' 
 pod ' YYCategories ' 
 pod ' DZNWebViewController '

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core - ios / ActorApp . xcodeproj / project . pbxproj b / actor - sdk / sdk - core - ios / ActorApp . xcodeproj / project . pbxproj 
 index 84a1352 . . ad2f025 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorApp . xcodeproj / project . pbxproj 
 + + + b / actor - sdk / sdk - core - ios / ActorApp . xcodeproj / project . pbxproj 
 @ @ - 182 , 6 + 182 , 7 @ @ 
 	 	 	 	 06230F0D1BC7FF3500A4807B / * Embed Frameworks * / , 
 	 	 	 	 AAA022A9BD9362E00B0F9BDE / * ? ? Embed Pods Frameworks * / , 
 	 	 	 	 EFFD470B63C1BB419D199F19 / * ? ? Copy Pods Resources * / , 
 + 	 	 	 	 851EE1A34619AE6677649A27 / * Embed Pods Frameworks * / , 
 	 	 	 ) ; 
 	 	 	 buildRules = ( 
 	 	 	 ) ; 
 @ @ - 205 , 7 + 206 , 7 @ @ 
 	 	 	 	 TargetAttributes = { 
 	 	 	 	 	 EA6B7348F8364542DDD264F741AAAA19 = { 
 	 	 	 	 	 	 CreatedOnToolsVersion = 6 . 4 ; 
 - 	 	 	 	 	 	 DevelopmentTeam = HVJR44Y5B6 ; 
 + 	 	 	 	 	 	 DevelopmentTeam = DR9YEJ8YRD ; 
 	 	 	 	 	 	 SystemCapabilities = { 
 	 	 	 	 	 	 	 com . apple . Maps . iOS = { 
 	 	 	 	 	 	 	 	 enabled = 1 ; 
 @ @ - 302 , 6 + 303 , 21 @ @ 
 	 	 	 shellScript = " diff \ " $ { PODS _ ROOT } / . . / Podfile . lock \ " \ " $ { PODS _ ROOT } / Manifest . lock \ " > / dev / null \ nif [ [ $ ? ! = 0 ] ] ; then \ n cat < < EOM \ nerror : The sandbox is not in sync with the Podfile . lock . Run ' pod install ' or update your CocoaPods installation . \ nEOM \ n exit 1 \ nfi \ n " ; 
 	 	 	 showEnvVarsInLog = 0 ; 
 	 	 } ; 
 + 	 	 851EE1A34619AE6677649A27 / * Embed Pods Frameworks * / = { 
 + 	 	 	 isa = PBXShellScriptBuildPhase ; 
 + 	 	 	 buildActionMask = 2147483647 ; 
 + 	 	 	 files = ( 
 + 	 	 	 ) ; 
 + 	 	 	 inputPaths = ( 
 + 	 	 	 ) ; 
 + 	 	 	 name = " Embed Pods Frameworks " ; 
 + 	 	 	 outputPaths = ( 
 + 	 	 	 ) ; 
 + 	 	 	 runOnlyForDeploymentPostprocessing = 0 ; 
 + 	 	 	 shellPath = / bin / sh ; 
 + 	 	 	 shellScript = " \ " $ { SRCROOT } / Pods / Target Support Files / Pods - ActorApp / Pods - ActorApp - frameworks . sh \ " \ n " ; 
 + 	 	 	 showEnvVarsInLog = 0 ; 
 + 	 	 } ; 
 	 	 AAA022A9BD9362E00B0F9BDE / * ? ? Embed Pods Frameworks * / = { 
 	 	 	 isa = PBXShellScriptBuildPhase ; 
 	 	 	 buildActionMask = 2147483647 ; 
 @ @ - 400 , 7 + 416 , 7 @ @ 
 	 	 	 	 LIBRARY _ SEARCH _ PATHS = " $ ( inherited ) " ; 
 	 	 	 	 ONLY _ ACTIVE _ ARCH = YES ; 
 	 	 	 	 OTHER _ LDFLAGS = " $ ( inherited ) " ; 
 - 	 	 	 	 PRODUCT _ BUNDLE _ IDENTIFIER = im . actor . sdk . dev ; 
 + 	 	 	 	 PRODUCT _ BUNDLE _ IDENTIFIER = im . actor . sdk . dev . me ; 
 	 	 	 	 PRODUCT _ NAME = " $ ( TARGET _ NAME ) " ; 
 	 	 	 	 PROVISIONING _ PROFILE = " " ; 
 	 	 	 	 SDK _ PATH = " . . / actor - sdk " ; 
 @ @ - 476 , 7 + 492 , 7 @ @ 
 	 	 	 	 LD _ RUNPATH _ SEARCH _ PATHS = " $ ( inherited ) @ executable _ path / Frameworks @ loader _ path / Frameworks " ; 
 	 	 	 	 LIBRARY _ SEARCH _ PATHS = " $ ( inherited ) " ; 
 	 	 	 	 OTHER _ LDFLAGS = " $ ( inherited ) " ; 
 - 	 	 	 	 PRODUCT _ BUNDLE _ IDENTIFIER = im . actor . sdk . dev ; 
 + 	 	 	 	 PRODUCT _ BUNDLE _ IDENTIFIER = im . actor . sdk . dev . me ; 
 	 	 	 	 PRODUCT _ NAME = " $ ( TARGET _ NAME ) " ; 
 	 	 	 	 PROVISIONING _ PROFILE = " " ; 
 	 	 	 	 SDK _ PATH = " . . / actor - sdk " ; 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj b / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj 
 index edca9a1 . . 40f3e87 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj 
 @ @ - 1900 , 7 + 1900 , 7 @ @ 
 	 	 	 	 TargetAttributes = { 
 	 	 	 	 	 066A50D11BC4AE63000E606E = { 
 	 	 	 	 	 	 CreatedOnToolsVersion = 7 . 0 ; 
 - 	 	 	 	 	 	 DevelopmentTeam = HVJR44Y5B6 ; 
 + 	 	 	 	 	 	 DevelopmentTeam = DR9YEJ8YRD ; 
 	 	 	 	 	 } ; 
 	 	 	 	 } ; 
 	 	 	 } ; 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings b / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings 
 index bb52807 . . 810b88f 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings 
 @ @ - 149 , 6 + 149 , 8 @ @ 
 
 " ProfileRemoveFromContacts " = " Remove from Contacts " ; 
 
 + " ProfileBlockContact " = " Block Contact " ; 
 + 
 " ProfileRename " = " Rename Contact " ; 
 
 " ProfileRenameMessage " = " You can rename contacts to organize your contact list . Changes will only be visible to you . " ; 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Managed Runtime / Executions . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Managed Runtime / Executions . swift 
 index 8c317a1 . . fd9ca30 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Managed Runtime / Executions . swift 	 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Managed Runtime / Executions . swift 	 
 @ @ - 167 , 6 + 167 , 10 @ @ public extension UIViewController { 
 AAExecutions . execute ( command ) 
 } 
 
 + public func executePromise ( promise : ARPromise ) { 
 + AAExecutions . execute ( promise ) 
 + } 
 + 
 public func execute ( command : ACCommand , successBlock : ( ( val : Any ? ) - > Void ) ? , failureBlock : ( ( val : Any ? ) - > Void ) ? ) { 
 AAExecutions . execute ( command , successBlock : successBlock , failureBlock : failureBlock ) 
 } 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / User / AAUserViewController . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / User / AAUserViewController . swift 
 index 17b4e7b . . 5fb0dfb 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / User / AAUserViewController . swift 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / User / AAUserViewController . swift 
 @ @ - 8 , 10 + 8 , 10 @ @ class AAUserViewController : AAContentTableController { 
 
 var headerRow : AAAvatarRow ! 
 var isContactRow : AACommonRow ! 
 - 
 + 
 init ( uid : Int ) { 
 super . init ( style : AAContentTableStyle . SettingsPlain ) 
 - 
 + 
 self . uid = uid 
 self . autoTrack = true 
 
 @ @ - 26 , 7 + 26 , 7 @ @ class AAUserViewController : AAContentTableController { 
 
 / / Profile 
 section { ( s ) - > ( ) in 
 - 
 + 
 / / Profile : Avatar 
 self . headerRow = s . avatar { ( r ) - > ( ) in 
 
 @ @ - 92 , 7 + 92 , 7 @ @ class AAUserViewController : AAContentTableController { 
 let about = self . user . getAboutModel ( ) . get ( ) 
 
 if ! self . isBot | | nick ! = nil | | about ! = nil { 
 - 
 + 
 / / Contact 
 section { ( s ) - > ( ) in 
 
 @ @ - 176 , 7 + 176 , 7 @ @ class AAUserViewController : AAContentTableController { 
 
 / / Edit contact 
 section { ( s ) - > ( ) in 
 - 
 + 
 / / Edit contact : Add / Remove 
 self . isContactRow = s . common { ( r ) - > ( ) in 
 r . bindAction = { ( r ) - > ( ) in 
 @ @ - 188 , 6 + 188 , 7 @ @ class AAUserViewController : AAContentTableController { 
 r . style = . Action 
 } 
 } 
 + 
 r . selectAction = { ( ) - > Bool in 
 if ( self . user . isContactModel ( ) . get ( ) . booleanValue ( ) ) { 
 self . execute ( Actor . removeContactCommandWithUid ( jint ( self . uid ) ) ! ) 
 @ @ - 234 , 10 + 235 , 29 @ @ class AAUserViewController : AAContentTableController { 
 return true 
 } 
 } 
 + 
 } 
 - 
 + 
 } 
 
 + / / Block Contact 
 + section { ( s ) - > ( ) in 
 + 
 + / / Block Contact 
 + self . isContactRow = s . common { ( r ) - > ( ) in 
 + r . bindAction = { ( r ) - > ( ) in 
 + if self . user . isContactModel ( ) . get ( ) . booleanValue ( ) { 
 + r . content = AALocalized ( " ProfileBlockContact " ) 
 + r . style = . Action 
 + } 
 + } 
 + r . selectAction = { ( ) - > Bool in 
 + self . executePromise ( Actor . blockUser ( jint ( self . uid ) ) ) 
 + 
 + return true 
 + } 
 + } 
 + } 
 } 
 
 override func tableWillBind ( binder : AABinder ) { 
 diff - - git a / actor - sdk / sdk - core - ios / Podfile b / actor - sdk / sdk - core - ios / Podfile 
 index 93476e1 . . 20769e5 100644 
 - - - a / actor - sdk / sdk - core - ios / Podfile 
 + + + b / actor - sdk / sdk - core - ios / Podfile 
 @ @ - 2 , 15 + 2 , 15 @ @ platform : ios , ' 8 . 0 ' 
 use _ frameworks ! 
 
 workspace ' ActorSDK ' 
 - project ' ActorSDK . xcodeproj ' 
 - project ' ActorApp . xcodeproj ' 
 + xcodeproj ' ActorSDK . xcodeproj ' 
 + xcodeproj ' ActorApp . xcodeproj ' 
 
 inhibit _ all _ warnings ! 
 
 # link _ with ' ActorApp ' 
 
 target ' ActorApp ' do 
 - project ' ActorApp . xcodeproj ' 
 + xcodeproj ' ActorApp . xcodeproj ' 
 
 # Core Tools 
 pod ' RegexKitLite ' 
 @ @ - 38 , 7 + 38 , 7 @ @ target ' ActorApp ' do 
 end 
 
 target ' ActorSDK ' do 
 - project ' ActorSDK . xcodeproj ' 
 + xcodeproj ' ActorSDK . xcodeproj ' 
 
 # J2Objc Runtime 
 pod ' J2ObjC - Framework '
