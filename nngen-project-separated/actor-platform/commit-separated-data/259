BLEU SCORE: 0.2891784933232571

TEST MSG: fix ( iOS ) : Hide avatar and name on remote view open
GENERATED MSG: fix ( iOS ) : small pause / play voice fix

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Calls / AACallViewController . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Calls / AACallViewController . swift < nl > index 9e7a617 . . faa8cc7 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Calls / AACallViewController . swift < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Calls / AACallViewController . swift < nl > @ @ - 401 , 6 + 401 , 8 @ @ public class AACallViewController : AAViewController , RTCEAGLVideoViewDelegate { < nl > } < nl > self . remoteVideoTrack = track < nl > self . remoteView . showViewAnimated ( ) < nl > + self . senderAvatar . hideViewAnimated ( ) < nl > + self . peerTitle . hideViewAnimated ( ) < nl > track . addRenderer ( self . remoteView ) < nl > } < nl > needUnbind = false < nl > @ @ - 411 , 6 + 413 , 8 @ @ public class AACallViewController : AAViewController , RTCEAGLVideoViewDelegate { < nl > self . remoteVideoTrack = nil < nl > } < nl > self . remoteView . hideViewAnimated ( ) < nl > + self . senderAvatar . showViewAnimated ( ) < nl > + self . peerTitle . showViewAnimated ( ) < nl > } < nl > } )
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / AAConversationContentController . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / AAConversationContentController . swift < nl > index 6ce5e8c . . 692d99e 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / AAConversationContentController . swift < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / AAConversationContentController . swift < nl > @ @ - 370 , 17 + 370 , 20 @ @ public class AAConversationContentController : SLKTextViewController , ARDisplayLi < nl > func playVoiceFromPath ( path : String , fileId : jlong , position : Float ) { < nl > < nl > if ( self . currentAudioFileId ! = fileId ) { < nl > - self . currentAudioFileId = fileId < nl > < nl > self . voicePlayer ? . stop ( ) < nl > self . voicePlayer ? . audioPlayerStopAndFinish ( ) < nl > < nl > + self . voicesCache [ self . currentAudioFileId ] = 0 . 0 < nl > + < nl > self . voicePlayer = AAModernConversationAudioPlayer ( filePath : path ) < nl > self . voiceContext = self . voicePlayer . inlineMediaContext ( ) < nl > < nl > < nl > self . voicePlayer ? . play ( ) < nl > < nl > + self . currentAudioFileId = fileId < nl > + < nl > } else { < nl > < nl > if self . voicePlayer ? . isPaused ( ) = = false { < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleVoiceCell . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleVoiceCell . swift < nl > index 7677fd4 . . c75df24 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleVoiceCell . swift < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleVoiceCell . swift < nl > @ @ - 361 , 10 + 361 , 11 @ @ public class AABubbleVoiceCell : AABubbleBaseFileCell , AAModernConversationAudioPl < nl > public func audioPlayerDidFinish ( ) { < nl > < nl > dispatchOnUi { ( ) - > Void in < nl > + < nl > self . playPauseButton . setImage ( UIImage . bundled ( " aa _ playrecordbutton " ) , forState : UIControlState . Normal ) < nl > self . soundProgressSlider . value = 0 . 0 < nl > - self . controller . currentAudioFileId = 0 < nl > self . controller . voicesCache [ ( self . bindedMessage ? . rid ) ! ] = 0 . 0 < nl > + < nl > } < nl > < nl > }

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Calls / AACallViewController . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Calls / AACallViewController . swift 
 index 9e7a617 . . faa8cc7 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Calls / AACallViewController . swift 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Calls / AACallViewController . swift 
 @ @ - 401 , 6 + 401 , 8 @ @ public class AACallViewController : AAViewController , RTCEAGLVideoViewDelegate { 
 } 
 self . remoteVideoTrack = track 
 self . remoteView . showViewAnimated ( ) 
 + self . senderAvatar . hideViewAnimated ( ) 
 + self . peerTitle . hideViewAnimated ( ) 
 track . addRenderer ( self . remoteView ) 
 } 
 needUnbind = false 
 @ @ - 411 , 6 + 413 , 8 @ @ public class AACallViewController : AAViewController , RTCEAGLVideoViewDelegate { 
 self . remoteVideoTrack = nil 
 } 
 self . remoteView . hideViewAnimated ( ) 
 + self . senderAvatar . showViewAnimated ( ) 
 + self . peerTitle . showViewAnimated ( ) 
 } 
 } )

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / AAConversationContentController . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / AAConversationContentController . swift 
 index 6ce5e8c . . 692d99e 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / AAConversationContentController . swift 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / AAConversationContentController . swift 
 @ @ - 370 , 17 + 370 , 20 @ @ public class AAConversationContentController : SLKTextViewController , ARDisplayLi 
 func playVoiceFromPath ( path : String , fileId : jlong , position : Float ) { 
 
 if ( self . currentAudioFileId ! = fileId ) { 
 - self . currentAudioFileId = fileId 
 
 self . voicePlayer ? . stop ( ) 
 self . voicePlayer ? . audioPlayerStopAndFinish ( ) 
 
 + self . voicesCache [ self . currentAudioFileId ] = 0 . 0 
 + 
 self . voicePlayer = AAModernConversationAudioPlayer ( filePath : path ) 
 self . voiceContext = self . voicePlayer . inlineMediaContext ( ) 
 
 
 self . voicePlayer ? . play ( ) 
 
 + self . currentAudioFileId = fileId 
 + 
 } else { 
 
 if self . voicePlayer ? . isPaused ( ) = = false { 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleVoiceCell . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleVoiceCell . swift 
 index 7677fd4 . . c75df24 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleVoiceCell . swift 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleVoiceCell . swift 
 @ @ - 361 , 10 + 361 , 11 @ @ public class AABubbleVoiceCell : AABubbleBaseFileCell , AAModernConversationAudioPl 
 public func audioPlayerDidFinish ( ) { 
 
 dispatchOnUi { ( ) - > Void in 
 + 
 self . playPauseButton . setImage ( UIImage . bundled ( " aa _ playrecordbutton " ) , forState : UIControlState . Normal ) 
 self . soundProgressSlider . value = 0 . 0 
 - self . controller . currentAudioFileId = 0 
 self . controller . voicesCache [ ( self . bindedMessage ? . rid ) ! ] = 0 . 0 
 + 
 } 
 
 }
