BLEU SCORE: 0.09287528999566796

TEST MSG: fix ( iOS ) : Fixing block / unblock UI
GENERATED MSG: feat ( IOS ) : addblockUser Button on OtherUserProfileScreen

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings b / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings < nl > index fe6a19e . . 84412a1 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings < nl > @ @ - 230 , 9 + 230 , 9 @ @ < nl > < nl > " ProfileRemoveFromContacts " = " Remove from Contacts " ; < nl > < nl > - " ProfileBlockContact " = " Block Contact " ; < nl > + " ProfileBlockContact " = " Block User " ; < nl > < nl > - " ProfileUnblockContact " = " Unblock Contact " ; < nl > + " ProfileUnblockContact " = " Unblock User " ; < nl > < nl > " ProfileRename " = " Rename Contact " ; < nl > < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Resources / es . lproj / Localizable . strings b / actor - sdk / sdk - core - ios / ActorSDK / Resources / es . lproj / Localizable . strings < nl > index 832ca18 . . 52e98a5 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Resources / es . lproj / Localizable . strings < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Resources / es . lproj / Localizable . strings < nl > @ @ - 241 , 6 + 241 , 10 @ @ < nl > < nl > " ProfileUsername " = " Nombre de usuario " ; < nl > < nl > + " ProfileBlockContact " = " Block User " ; < nl > + < nl > + " ProfileUnblockContact " = " Unblock User " ; < nl > + < nl > " ProfileTitle " = " Info " ; < nl > < nl > " CallNumber " = " Llamar al n ú mero " ; < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Resources / pt . lproj / Localizable . strings b / actor - sdk / sdk - core - ios / ActorSDK / Resources / pt . lproj / Localizable . strings < nl > index 5bbf458 . . c7e8025 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Resources / pt . lproj / Localizable . strings < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Resources / pt . lproj / Localizable . strings < nl > @ @ - 235 , 6 + 235 , 10 @ @ < nl > < nl > " ProfileTitle " = " Info " ; < nl > < nl > + " ProfileBlockContact " = " Block User " ; < nl > + < nl > + " ProfileUnblockContact " = " Unblock User " ; < nl > + < nl > " CallNumber " = " Chamar n ú mero " ; < nl > < nl > " CopyNumber " = " Copiar n ú mero " ; < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Resources / ru . lproj / Localizable . strings b / actor - sdk / sdk - core - ios / ActorSDK / Resources / ru . lproj / Localizable . strings < nl > index 77fb696 . . 4a46333 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Resources / ru . lproj / Localizable . strings < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Resources / ru . lproj / Localizable . strings < nl > @ @ - 244 , 6 + 244 , 10 @ @ < nl > < nl > " ProfileTitle " = " И н ф о р м а ц и я " ; < nl > < nl > + " ProfileBlockContact " = " З а б л о к и р о в а т ь П о л ь з о в а т е л я " ; < nl > + < nl > + " ProfileUnblockContact " = " Р а з б л о к и р о в а т ь п о л ь з о в а т е л я " ; < nl > + < nl > " CallNumber " = " П о з в о н и т ь " ; < nl > < nl > " ShareNumber " = " П е р е с л а т ь н о м е р " ; < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Resources / zh - Hans . lproj / Localizable . strings b / actor - sdk / sdk - core - ios / ActorSDK / Resources / zh - Hans . lproj / Localizable . strings < nl > index 3b12221 . . 7d4471b 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Resources / zh - Hans . lproj / Localizable . strings < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Resources / zh - Hans . lproj / Localizable . strings < nl > @ @ - 222 , 6 + 222 , 10 @ @ < nl > < nl > " ProfileTitle " = " 详 细 资 料 " ; < nl > < nl > + " ProfileBlockContact " = " Block User " ; < nl > + < nl > + " ProfileUnblockContact " = " Unblock User " ; < nl > + < nl > " CallNumber " = " 拨 打 电 话 " ; < nl > < nl > " CopyNumber " = " 复 制 号 码 " ; < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift < nl > index 7932d57 . . 3555ce6 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift < nl > @ @ - 304 , 18 + 304 , 6 @ @ public class ConversationViewController : < nl > } < nl > } < nl > } ) < nl > - < nl > - < nl > - / / < nl > - / / Unblock User < nl > - / / < nl > - < nl > - if ( blockStatus ) { < nl > - confirmAlertUser ( " AlertUnblock " , action : " AlertUnblock " , tapYes : { < nl > - self . executePromise ( Actor . unblockUser ( Actor . getUserWithUid ( self . peer . peerId ) . getId ( ) ) ) < nl > - } ) < nl > - } < nl > - < nl > } else if ( peer . peerType . ordinal ( ) = = ACPeerType . GROUP ( ) . ordinal ( ) ) { < nl > let group = Actor . getGroupWithGid ( peer . peerId ) < nl > let nameModel = group . getNameModel ( ) < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / User / AAUserViewController . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / User / AAUserViewController . swift < nl > index cf4f6fe . . d322040 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / User / AAUserViewController . swift < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / User / AAUserViewController . swift < nl > @ @ - 258 , 40 + 258 , 36 @ @ class AAUserViewController : AAContentTableController { < nl > } < nl > } < nl > < nl > - if ! self . isBot { < nl > - / / Block Contact < nl > - section { ( s ) - > ( ) in < nl > - s . common { ( r ) - > ( ) in < nl > - r . bindAction = { ( r ) - > ( ) in < nl > - if ! self . user . isBlockedModel ( ) . get ( ) . booleanValue ( ) { < nl > - r . content = AALocalized ( " ProfileBlockContact " ) < nl > - } else { < nl > - r . content = AALocalized ( " ProfileUnblockContact " ) < nl > - } < nl > - r . style = . Action < nl > + / / Block Contact < nl > + section { ( s ) - > ( ) in < nl > + s . common { ( r ) - > ( ) in < nl > + r . bindAction = { ( r ) - > ( ) in < nl > + if ! self . user . isBlockedModel ( ) . get ( ) . booleanValue ( ) { < nl > + r . content = AALocalized ( " ProfileBlockContact " ) < nl > + } else { < nl > + r . content = AALocalized ( " ProfileUnblockContact " ) < nl > } < nl > - < nl > - r . selectAction = { ( ) - > Bool in < nl > - if ! self . user . isBlockedModel ( ) . get ( ) . booleanValue ( ) { < nl > - self . executePromise ( Actor . blockUser ( jint ( self . uid ) ) , < nl > - successBlock : { success in < nl > - dispatch _ async ( dispatch _ get _ main _ queue ( ) , { < nl > - let peer = ACPeer . userWithInt ( jint ( self . uid ) ) < nl > - self . execute ( Actor . deleteChatCommandWithPeer ( peer ) ) < nl > - r . reload ( ) < nl > - } ) < nl > - } , failureBlock : nil ) < nl > - } else { < nl > - self . executePromise ( Actor . unblockUser ( jint ( self . uid ) ) , < nl > - successBlock : { success in < nl > - dispatch _ async ( dispatch _ get _ main _ queue ( ) , { < nl > - r . reload ( ) < nl > - } ) < nl > - } , failureBlock : nil ) < nl > - } < nl > - r . reload ( ) < nl > - return true < nl > + r . style = . Destructive < nl > + } < nl > + < nl > + r . selectAction = { ( ) - > Bool in < nl > + if ! self . user . isBlockedModel ( ) . get ( ) . booleanValue ( ) { < nl > + self . executePromise ( Actor . blockUser ( jint ( self . uid ) ) , < nl > + successBlock : { success in < nl > + dispatch _ async ( dispatch _ get _ main _ queue ( ) , { < nl > + r . reload ( ) < nl > + } ) < nl > + } , failureBlock : nil ) < nl > + } else { < nl > + self . executePromise ( Actor . unblockUser ( jint ( self . uid ) ) , < nl > + successBlock : { success in < nl > + dispatch _ async ( dispatch _ get _ main _ queue ( ) , { < nl > + r . reload ( ) < nl > + } ) < nl > + } , failureBlock : nil ) < nl > } < nl > + r . reload ( ) < nl > + return true < nl > } < nl > } < nl > }
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core - ios / ActorApp . xcodeproj / project . pbxproj b / actor - sdk / sdk - core - ios / ActorApp . xcodeproj / project . pbxproj < nl > index 84a1352 . . ad2f025 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorApp . xcodeproj / project . pbxproj < nl > + + + b / actor - sdk / sdk - core - ios / ActorApp . xcodeproj / project . pbxproj < nl > @ @ - 182 , 6 + 182 , 7 @ @ < nl > 	 	 	 	 06230F0D1BC7FF3500A4807B / * Embed Frameworks * / , < nl > 	 	 	 	 AAA022A9BD9362E00B0F9BDE / * ? ? Embed Pods Frameworks * / , < nl > 	 	 	 	 EFFD470B63C1BB419D199F19 / * ? ? Copy Pods Resources * / , < nl > + 	 	 	 	 851EE1A34619AE6677649A27 / * Embed Pods Frameworks * / , < nl > 	 	 	 ) ; < nl > 	 	 	 buildRules = ( < nl > 	 	 	 ) ; < nl > @ @ - 205 , 7 + 206 , 7 @ @ < nl > 	 	 	 	 TargetAttributes = { < nl > 	 	 	 	 	 EA6B7348F8364542DDD264F741AAAA19 = { < nl > 	 	 	 	 	 	 CreatedOnToolsVersion = 6 . 4 ; < nl > - 	 	 	 	 	 	 DevelopmentTeam = HVJR44Y5B6 ; < nl > + 	 	 	 	 	 	 DevelopmentTeam = DR9YEJ8YRD ; < nl > 	 	 	 	 	 	 SystemCapabilities = { < nl > 	 	 	 	 	 	 	 com . apple . Maps . iOS = { < nl > 	 	 	 	 	 	 	 	 enabled = 1 ; < nl > @ @ - 302 , 6 + 303 , 21 @ @ < nl > 	 	 	 shellScript = " diff \ " $ { PODS _ ROOT } / . . / Podfile . lock \ " \ " $ { PODS _ ROOT } / Manifest . lock \ " > / dev / null \ nif [ [ $ ? ! = 0 ] ] ; then \ n cat < < EOM \ nerror : The sandbox is not in sync with the Podfile . lock . Run ' pod install ' or update your CocoaPods installation . \ nEOM \ n exit 1 \ nfi \ n " ; < nl > 	 	 	 showEnvVarsInLog = 0 ; < nl > 	 	 } ; < nl > + 	 	 851EE1A34619AE6677649A27 / * Embed Pods Frameworks * / = { < nl > + 	 	 	 isa = PBXShellScriptBuildPhase ; < nl > + 	 	 	 buildActionMask = 2147483647 ; < nl > + 	 	 	 files = ( < nl > + 	 	 	 ) ; < nl > + 	 	 	 inputPaths = ( < nl > + 	 	 	 ) ; < nl > + 	 	 	 name = " Embed Pods Frameworks " ; < nl > + 	 	 	 outputPaths = ( < nl > + 	 	 	 ) ; < nl > + 	 	 	 runOnlyForDeploymentPostprocessing = 0 ; < nl > + 	 	 	 shellPath = / bin / sh ; < nl > + 	 	 	 shellScript = " \ " $ { SRCROOT } / Pods / Target Support Files / Pods - ActorApp / Pods - ActorApp - frameworks . sh \ " \ n " ; < nl > + 	 	 	 showEnvVarsInLog = 0 ; < nl > + 	 	 } ; < nl > 	 	 AAA022A9BD9362E00B0F9BDE / * ? ? Embed Pods Frameworks * / = { < nl > 	 	 	 isa = PBXShellScriptBuildPhase ; < nl > 	 	 	 buildActionMask = 2147483647 ; < nl > @ @ - 400 , 7 + 416 , 7 @ @ < nl > 	 	 	 	 LIBRARY _ SEARCH _ PATHS = " $ ( inherited ) " ; < nl > 	 	 	 	 ONLY _ ACTIVE _ ARCH = YES ; < nl > 	 	 	 	 OTHER _ LDFLAGS = " $ ( inherited ) " ; < nl > - 	 	 	 	 PRODUCT _ BUNDLE _ IDENTIFIER = im . actor . sdk . dev ; < nl > + 	 	 	 	 PRODUCT _ BUNDLE _ IDENTIFIER = im . actor . sdk . dev . me ; < nl > 	 	 	 	 PRODUCT _ NAME = " $ ( TARGET _ NAME ) " ; < nl > 	 	 	 	 PROVISIONING _ PROFILE = " " ; < nl > 	 	 	 	 SDK _ PATH = " . . / actor - sdk " ; < nl > @ @ - 476 , 7 + 492 , 7 @ @ < nl > 	 	 	 	 LD _ RUNPATH _ SEARCH _ PATHS = " $ ( inherited ) @ executable _ path / Frameworks @ loader _ path / Frameworks " ; < nl > 	 	 	 	 LIBRARY _ SEARCH _ PATHS = " $ ( inherited ) " ; < nl > 	 	 	 	 OTHER _ LDFLAGS = " $ ( inherited ) " ; < nl > - 	 	 	 	 PRODUCT _ BUNDLE _ IDENTIFIER = im . actor . sdk . dev ; < nl > + 	 	 	 	 PRODUCT _ BUNDLE _ IDENTIFIER = im . actor . sdk . dev . me ; < nl > 	 	 	 	 PRODUCT _ NAME = " $ ( TARGET _ NAME ) " ; < nl > 	 	 	 	 PROVISIONING _ PROFILE = " " ; < nl > 	 	 	 	 SDK _ PATH = " . . / actor - sdk " ; < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj b / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj < nl > index edca9a1 . . 40f3e87 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj < nl > @ @ - 1900 , 7 + 1900 , 7 @ @ < nl > 	 	 	 	 TargetAttributes = { < nl > 	 	 	 	 	 066A50D11BC4AE63000E606E = { < nl > 	 	 	 	 	 	 CreatedOnToolsVersion = 7 . 0 ; < nl > - 	 	 	 	 	 	 DevelopmentTeam = HVJR44Y5B6 ; < nl > + 	 	 	 	 	 	 DevelopmentTeam = DR9YEJ8YRD ; < nl > 	 	 	 	 	 } ; < nl > 	 	 	 	 } ; < nl > 	 	 	 } ; < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings b / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings < nl > index bb52807 . . 810b88f 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings < nl > @ @ - 149 , 6 + 149 , 8 @ @ < nl > < nl > " ProfileRemoveFromContacts " = " Remove from Contacts " ; < nl > < nl > + " ProfileBlockContact " = " Block Contact " ; < nl > + < nl > " ProfileRename " = " Rename Contact " ; < nl > < nl > " ProfileRenameMessage " = " You can rename contacts to organize your contact list . Changes will only be visible to you . " ; < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Managed Runtime / Executions . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Managed Runtime / Executions . swift < nl > index 8c317a1 . . fd9ca30 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Managed Runtime / Executions . swift 	 < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Managed Runtime / Executions . swift 	 < nl > @ @ - 167 , 6 + 167 , 10 @ @ public extension UIViewController { < nl > AAExecutions . execute ( command ) < nl > } < nl > < nl > + public func executePromise ( promise : ARPromise ) { < nl > + AAExecutions . execute ( promise ) < nl > + } < nl > + < nl > public func execute ( command : ACCommand , successBlock : ( ( val : Any ? ) - > Void ) ? , failureBlock : ( ( val : Any ? ) - > Void ) ? ) { < nl > AAExecutions . execute ( command , successBlock : successBlock , failureBlock : failureBlock ) < nl > } < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / User / AAUserViewController . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / User / AAUserViewController . swift < nl > index 17b4e7b . . 5fb0dfb 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / User / AAUserViewController . swift < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / User / AAUserViewController . swift < nl > @ @ - 8 , 10 + 8 , 10 @ @ class AAUserViewController : AAContentTableController { < nl > < nl > var headerRow : AAAvatarRow ! < nl > var isContactRow : AACommonRow ! < nl > - < nl > + < nl > init ( uid : Int ) { < nl > super . init ( style : AAContentTableStyle . SettingsPlain ) < nl > - < nl > + < nl > self . uid = uid < nl > self . autoTrack = true < nl > < nl > @ @ - 26 , 7 + 26 , 7 @ @ class AAUserViewController : AAContentTableController { < nl > < nl > / / Profile < nl > section { ( s ) - > ( ) in < nl > - < nl > + < nl > / / Profile : Avatar < nl > self . headerRow = s . avatar { ( r ) - > ( ) in < nl > < nl > @ @ - 92 , 7 + 92 , 7 @ @ class AAUserViewController : AAContentTableController { < nl > let about = self . user . getAboutModel ( ) . get ( ) < nl > < nl > if ! self . isBot | | nick ! = nil | | about ! = nil { < nl > - < nl > + < nl > / / Contact < nl > section { ( s ) - > ( ) in < nl > < nl > @ @ - 176 , 7 + 176 , 7 @ @ class AAUserViewController : AAContentTableController { < nl > < nl > / / Edit contact < nl > section { ( s ) - > ( ) in < nl > - < nl > + < nl > / / Edit contact : Add / Remove < nl > self . isContactRow = s . common { ( r ) - > ( ) in < nl > r . bindAction = { ( r ) - > ( ) in < nl > @ @ - 188 , 6 + 188 , 7 @ @ class AAUserViewController : AAContentTableController { < nl > r . style = . Action < nl > } < nl > } < nl > + < nl > r . selectAction = { ( ) - > Bool in < nl > if ( self . user . isContactModel ( ) . get ( ) . booleanValue ( ) ) { < nl > self . execute ( Actor . removeContactCommandWithUid ( jint ( self . uid ) ) ! ) < nl > @ @ - 234 , 10 + 235 , 29 @ @ class AAUserViewController : AAContentTableController { < nl > return true < nl > } < nl > } < nl > + < nl > } < nl > - < nl > + < nl > } < nl > < nl > + / / Block Contact < nl > + section { ( s ) - > ( ) in < nl > + < nl > + / / Block Contact < nl > + self . isContactRow = s . common { ( r ) - > ( ) in < nl > + r . bindAction = { ( r ) - > ( ) in < nl > + if self . user . isContactModel ( ) . get ( ) . booleanValue ( ) { < nl > + r . content = AALocalized ( " ProfileBlockContact " ) < nl > + r . style = . Action < nl > + } < nl > + } < nl > + r . selectAction = { ( ) - > Bool in < nl > + self . executePromise ( Actor . blockUser ( jint ( self . uid ) ) ) < nl > + < nl > + return true < nl > + } < nl > + } < nl > + } < nl > } < nl > < nl > override func tableWillBind ( binder : AABinder ) { < nl > diff - - git a / actor - sdk / sdk - core - ios / Podfile b / actor - sdk / sdk - core - ios / Podfile < nl > index 93476e1 . . 20769e5 100644 < nl > - - - a / actor - sdk / sdk - core - ios / Podfile < nl > + + + b / actor - sdk / sdk - core - ios / Podfile < nl > @ @ - 2 , 15 + 2 , 15 @ @ platform : ios , ' 8 . 0 ' < nl > use _ frameworks ! < nl > < nl > workspace ' ActorSDK ' < nl > - project ' ActorSDK . xcodeproj ' < nl > - project ' ActorApp . xcodeproj ' < nl > + xcodeproj ' ActorSDK . xcodeproj ' < nl > + xcodeproj ' ActorApp . xcodeproj ' < nl > < nl > inhibit _ all _ warnings ! < nl > < nl > # link _ with ' ActorApp ' < nl > < nl > target ' ActorApp ' do < nl > - project ' ActorApp . xcodeproj ' < nl > + xcodeproj ' ActorApp . xcodeproj ' < nl > < nl > # Core Tools < nl > pod ' RegexKitLite ' < nl > @ @ - 38 , 7 + 38 , 7 @ @ target ' ActorApp ' do < nl > end < nl > < nl > target ' ActorSDK ' do < nl > - project ' ActorSDK . xcodeproj ' < nl > + xcodeproj ' ActorSDK . xcodeproj ' < nl > < nl > # J2Objc Runtime < nl > pod ' J2ObjC - Framework '

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings b / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings 
 index fe6a19e . . 84412a1 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings 
 @ @ - 230 , 9 + 230 , 9 @ @ 
 
 " ProfileRemoveFromContacts " = " Remove from Contacts " ; 
 
 - " ProfileBlockContact " = " Block Contact " ; 
 + " ProfileBlockContact " = " Block User " ; 
 
 - " ProfileUnblockContact " = " Unblock Contact " ; 
 + " ProfileUnblockContact " = " Unblock User " ; 
 
 " ProfileRename " = " Rename Contact " ; 
 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Resources / es . lproj / Localizable . strings b / actor - sdk / sdk - core - ios / ActorSDK / Resources / es . lproj / Localizable . strings 
 index 832ca18 . . 52e98a5 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Resources / es . lproj / Localizable . strings 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Resources / es . lproj / Localizable . strings 
 @ @ - 241 , 6 + 241 , 10 @ @ 
 
 " ProfileUsername " = " Nombre de usuario " ; 
 
 + " ProfileBlockContact " = " Block User " ; 
 + 
 + " ProfileUnblockContact " = " Unblock User " ; 
 + 
 " ProfileTitle " = " Info " ; 
 
 " CallNumber " = " Llamar al n ú mero " ; 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Resources / pt . lproj / Localizable . strings b / actor - sdk / sdk - core - ios / ActorSDK / Resources / pt . lproj / Localizable . strings 
 index 5bbf458 . . c7e8025 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Resources / pt . lproj / Localizable . strings 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Resources / pt . lproj / Localizable . strings 
 @ @ - 235 , 6 + 235 , 10 @ @ 
 
 " ProfileTitle " = " Info " ; 
 
 + " ProfileBlockContact " = " Block User " ; 
 + 
 + " ProfileUnblockContact " = " Unblock User " ; 
 + 
 " CallNumber " = " Chamar n ú mero " ; 
 
 " CopyNumber " = " Copiar n ú mero " ; 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Resources / ru . lproj / Localizable . strings b / actor - sdk / sdk - core - ios / ActorSDK / Resources / ru . lproj / Localizable . strings 
 index 77fb696 . . 4a46333 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Resources / ru . lproj / Localizable . strings 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Resources / ru . lproj / Localizable . strings 
 @ @ - 244 , 6 + 244 , 10 @ @ 
 
 " ProfileTitle " = " И н ф о р м а ц и я " ; 
 
 + " ProfileBlockContact " = " З а б л о к и р о в а т ь П о л ь з о в а т е л я " ; 
 + 
 + " ProfileUnblockContact " = " Р а з б л о к и р о в а т ь п о л ь з о в а т е л я " ; 
 + 
 " CallNumber " = " П о з в о н и т ь " ; 
 
 " ShareNumber " = " П е р е с л а т ь н о м е р " ; 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Resources / zh - Hans . lproj / Localizable . strings b / actor - sdk / sdk - core - ios / ActorSDK / Resources / zh - Hans . lproj / Localizable . strings 
 index 3b12221 . . 7d4471b 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Resources / zh - Hans . lproj / Localizable . strings 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Resources / zh - Hans . lproj / Localizable . strings 
 @ @ - 222 , 6 + 222 , 10 @ @ 
 
 " ProfileTitle " = " 详 细 资 料 " ; 
 
 + " ProfileBlockContact " = " Block User " ; 
 + 
 + " ProfileUnblockContact " = " Unblock User " ; 
 + 
 " CallNumber " = " 拨 打 电 话 " ; 
 
 " CopyNumber " = " 复 制 号 码 " ; 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift 
 index 7932d57 . . 3555ce6 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift 
 @ @ - 304 , 18 + 304 , 6 @ @ public class ConversationViewController : 
 } 
 } 
 } ) 
 - 
 - 
 - / / 
 - / / Unblock User 
 - / / 
 - 
 - if ( blockStatus ) { 
 - confirmAlertUser ( " AlertUnblock " , action : " AlertUnblock " , tapYes : { 
 - self . executePromise ( Actor . unblockUser ( Actor . getUserWithUid ( self . peer . peerId ) . getId ( ) ) ) 
 - } ) 
 - } 
 - 
 } else if ( peer . peerType . ordinal ( ) = = ACPeerType . GROUP ( ) . ordinal ( ) ) { 
 let group = Actor . getGroupWithGid ( peer . peerId ) 
 let nameModel = group . getNameModel ( ) 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / User / AAUserViewController . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / User / AAUserViewController . swift 
 index cf4f6fe . . d322040 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / User / AAUserViewController . swift 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / User / AAUserViewController . swift 
 @ @ - 258 , 40 + 258 , 36 @ @ class AAUserViewController : AAContentTableController { 
 } 
 } 
 
 - if ! self . isBot { 
 - / / Block Contact 
 - section { ( s ) - > ( ) in 
 - s . common { ( r ) - > ( ) in 
 - r . bindAction = { ( r ) - > ( ) in 
 - if ! self . user . isBlockedModel ( ) . get ( ) . booleanValue ( ) { 
 - r . content = AALocalized ( " ProfileBlockContact " ) 
 - } else { 
 - r . content = AALocalized ( " ProfileUnblockContact " ) 
 - } 
 - r . style = . Action 
 + / / Block Contact 
 + section { ( s ) - > ( ) in 
 + s . common { ( r ) - > ( ) in 
 + r . bindAction = { ( r ) - > ( ) in 
 + if ! self . user . isBlockedModel ( ) . get ( ) . booleanValue ( ) { 
 + r . content = AALocalized ( " ProfileBlockContact " ) 
 + } else { 
 + r . content = AALocalized ( " ProfileUnblockContact " ) 
 } 
 - 
 - r . selectAction = { ( ) - > Bool in 
 - if ! self . user . isBlockedModel ( ) . get ( ) . booleanValue ( ) { 
 - self . executePromise ( Actor . blockUser ( jint ( self . uid ) ) , 
 - successBlock : { success in 
 - dispatch _ async ( dispatch _ get _ main _ queue ( ) , { 
 - let peer = ACPeer . userWithInt ( jint ( self . uid ) ) 
 - self . execute ( Actor . deleteChatCommandWithPeer ( peer ) ) 
 - r . reload ( ) 
 - } ) 
 - } , failureBlock : nil ) 
 - } else { 
 - self . executePromise ( Actor . unblockUser ( jint ( self . uid ) ) , 
 - successBlock : { success in 
 - dispatch _ async ( dispatch _ get _ main _ queue ( ) , { 
 - r . reload ( ) 
 - } ) 
 - } , failureBlock : nil ) 
 - } 
 - r . reload ( ) 
 - return true 
 + r . style = . Destructive 
 + } 
 + 
 + r . selectAction = { ( ) - > Bool in 
 + if ! self . user . isBlockedModel ( ) . get ( ) . booleanValue ( ) { 
 + self . executePromise ( Actor . blockUser ( jint ( self . uid ) ) , 
 + successBlock : { success in 
 + dispatch _ async ( dispatch _ get _ main _ queue ( ) , { 
 + r . reload ( ) 
 + } ) 
 + } , failureBlock : nil ) 
 + } else { 
 + self . executePromise ( Actor . unblockUser ( jint ( self . uid ) ) , 
 + successBlock : { success in 
 + dispatch _ async ( dispatch _ get _ main _ queue ( ) , { 
 + r . reload ( ) 
 + } ) 
 + } , failureBlock : nil ) 
 } 
 + r . reload ( ) 
 + return true 
 } 
 } 
 }

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core - ios / ActorApp . xcodeproj / project . pbxproj b / actor - sdk / sdk - core - ios / ActorApp . xcodeproj / project . pbxproj 
 index 84a1352 . . ad2f025 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorApp . xcodeproj / project . pbxproj 
 + + + b / actor - sdk / sdk - core - ios / ActorApp . xcodeproj / project . pbxproj 
 @ @ - 182 , 6 + 182 , 7 @ @ 
 	 	 	 	 06230F0D1BC7FF3500A4807B / * Embed Frameworks * / , 
 	 	 	 	 AAA022A9BD9362E00B0F9BDE / * ? ? Embed Pods Frameworks * / , 
 	 	 	 	 EFFD470B63C1BB419D199F19 / * ? ? Copy Pods Resources * / , 
 + 	 	 	 	 851EE1A34619AE6677649A27 / * Embed Pods Frameworks * / , 
 	 	 	 ) ; 
 	 	 	 buildRules = ( 
 	 	 	 ) ; 
 @ @ - 205 , 7 + 206 , 7 @ @ 
 	 	 	 	 TargetAttributes = { 
 	 	 	 	 	 EA6B7348F8364542DDD264F741AAAA19 = { 
 	 	 	 	 	 	 CreatedOnToolsVersion = 6 . 4 ; 
 - 	 	 	 	 	 	 DevelopmentTeam = HVJR44Y5B6 ; 
 + 	 	 	 	 	 	 DevelopmentTeam = DR9YEJ8YRD ; 
 	 	 	 	 	 	 SystemCapabilities = { 
 	 	 	 	 	 	 	 com . apple . Maps . iOS = { 
 	 	 	 	 	 	 	 	 enabled = 1 ; 
 @ @ - 302 , 6 + 303 , 21 @ @ 
 	 	 	 shellScript = " diff \ " $ { PODS _ ROOT } / . . / Podfile . lock \ " \ " $ { PODS _ ROOT } / Manifest . lock \ " > / dev / null \ nif [ [ $ ? ! = 0 ] ] ; then \ n cat < < EOM \ nerror : The sandbox is not in sync with the Podfile . lock . Run ' pod install ' or update your CocoaPods installation . \ nEOM \ n exit 1 \ nfi \ n " ; 
 	 	 	 showEnvVarsInLog = 0 ; 
 	 	 } ; 
 + 	 	 851EE1A34619AE6677649A27 / * Embed Pods Frameworks * / = { 
 + 	 	 	 isa = PBXShellScriptBuildPhase ; 
 + 	 	 	 buildActionMask = 2147483647 ; 
 + 	 	 	 files = ( 
 + 	 	 	 ) ; 
 + 	 	 	 inputPaths = ( 
 + 	 	 	 ) ; 
 + 	 	 	 name = " Embed Pods Frameworks " ; 
 + 	 	 	 outputPaths = ( 
 + 	 	 	 ) ; 
 + 	 	 	 runOnlyForDeploymentPostprocessing = 0 ; 
 + 	 	 	 shellPath = / bin / sh ; 
 + 	 	 	 shellScript = " \ " $ { SRCROOT } / Pods / Target Support Files / Pods - ActorApp / Pods - ActorApp - frameworks . sh \ " \ n " ; 
 + 	 	 	 showEnvVarsInLog = 0 ; 
 + 	 	 } ; 
 	 	 AAA022A9BD9362E00B0F9BDE / * ? ? Embed Pods Frameworks * / = { 
 	 	 	 isa = PBXShellScriptBuildPhase ; 
 	 	 	 buildActionMask = 2147483647 ; 
 @ @ - 400 , 7 + 416 , 7 @ @ 
 	 	 	 	 LIBRARY _ SEARCH _ PATHS = " $ ( inherited ) " ; 
 	 	 	 	 ONLY _ ACTIVE _ ARCH = YES ; 
 	 	 	 	 OTHER _ LDFLAGS = " $ ( inherited ) " ; 
 - 	 	 	 	 PRODUCT _ BUNDLE _ IDENTIFIER = im . actor . sdk . dev ; 
 + 	 	 	 	 PRODUCT _ BUNDLE _ IDENTIFIER = im . actor . sdk . dev . me ; 
 	 	 	 	 PRODUCT _ NAME = " $ ( TARGET _ NAME ) " ; 
 	 	 	 	 PROVISIONING _ PROFILE = " " ; 
 	 	 	 	 SDK _ PATH = " . . / actor - sdk " ; 
 @ @ - 476 , 7 + 492 , 7 @ @ 
 	 	 	 	 LD _ RUNPATH _ SEARCH _ PATHS = " $ ( inherited ) @ executable _ path / Frameworks @ loader _ path / Frameworks " ; 
 	 	 	 	 LIBRARY _ SEARCH _ PATHS = " $ ( inherited ) " ; 
 	 	 	 	 OTHER _ LDFLAGS = " $ ( inherited ) " ; 
 - 	 	 	 	 PRODUCT _ BUNDLE _ IDENTIFIER = im . actor . sdk . dev ; 
 + 	 	 	 	 PRODUCT _ BUNDLE _ IDENTIFIER = im . actor . sdk . dev . me ; 
 	 	 	 	 PRODUCT _ NAME = " $ ( TARGET _ NAME ) " ; 
 	 	 	 	 PROVISIONING _ PROFILE = " " ; 
 	 	 	 	 SDK _ PATH = " . . / actor - sdk " ; 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj b / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj 
 index edca9a1 . . 40f3e87 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj 
 @ @ - 1900 , 7 + 1900 , 7 @ @ 
 	 	 	 	 TargetAttributes = { 
 	 	 	 	 	 066A50D11BC4AE63000E606E = { 
 	 	 	 	 	 	 CreatedOnToolsVersion = 7 . 0 ; 
 - 	 	 	 	 	 	 DevelopmentTeam = HVJR44Y5B6 ; 
 + 	 	 	 	 	 	 DevelopmentTeam = DR9YEJ8YRD ; 
 	 	 	 	 	 } ; 
 	 	 	 	 } ; 
 	 	 	 } ; 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings b / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings 
 index bb52807 . . 810b88f 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Resources / Base . lproj / Localizable . strings 
 @ @ - 149 , 6 + 149 , 8 @ @ 
 
 " ProfileRemoveFromContacts " = " Remove from Contacts " ; 
 
 + " ProfileBlockContact " = " Block Contact " ; 
 + 
 " ProfileRename " = " Rename Contact " ; 
 
 " ProfileRenameMessage " = " You can rename contacts to organize your contact list . Changes will only be visible to you . " ; 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Managed Runtime / Executions . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Managed Runtime / Executions . swift 
 index 8c317a1 . . fd9ca30 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Managed Runtime / Executions . swift 	 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Managed Runtime / Executions . swift 	 
 @ @ - 167 , 6 + 167 , 10 @ @ public extension UIViewController { 
 AAExecutions . execute ( command ) 
 } 
 
 + public func executePromise ( promise : ARPromise ) { 
 + AAExecutions . execute ( promise ) 
 + } 
 + 
 public func execute ( command : ACCommand , successBlock : ( ( val : Any ? ) - > Void ) ? , failureBlock : ( ( val : Any ? ) - > Void ) ? ) { 
 AAExecutions . execute ( command , successBlock : successBlock , failureBlock : failureBlock ) 
 } 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / User / AAUserViewController . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / User / AAUserViewController . swift 
 index 17b4e7b . . 5fb0dfb 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / User / AAUserViewController . swift 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / User / AAUserViewController . swift 
 @ @ - 8 , 10 + 8 , 10 @ @ class AAUserViewController : AAContentTableController { 
 
 var headerRow : AAAvatarRow ! 
 var isContactRow : AACommonRow ! 
 - 
 + 
 init ( uid : Int ) { 
 super . init ( style : AAContentTableStyle . SettingsPlain ) 
 - 
 + 
 self . uid = uid 
 self . autoTrack = true 
 
 @ @ - 26 , 7 + 26 , 7 @ @ class AAUserViewController : AAContentTableController { 
 
 / / Profile 
 section { ( s ) - > ( ) in 
 - 
 + 
 / / Profile : Avatar 
 self . headerRow = s . avatar { ( r ) - > ( ) in 
 
 @ @ - 92 , 7 + 92 , 7 @ @ class AAUserViewController : AAContentTableController { 
 let about = self . user . getAboutModel ( ) . get ( ) 
 
 if ! self . isBot | | nick ! = nil | | about ! = nil { 
 - 
 + 
 / / Contact 
 section { ( s ) - > ( ) in 
 
 @ @ - 176 , 7 + 176 , 7 @ @ class AAUserViewController : AAContentTableController { 
 
 / / Edit contact 
 section { ( s ) - > ( ) in 
 - 
 + 
 / / Edit contact : Add / Remove 
 self . isContactRow = s . common { ( r ) - > ( ) in 
 r . bindAction = { ( r ) - > ( ) in 
 @ @ - 188 , 6 + 188 , 7 @ @ class AAUserViewController : AAContentTableController { 
 r . style = . Action 
 } 
 } 
 + 
 r . selectAction = { ( ) - > Bool in 
 if ( self . user . isContactModel ( ) . get ( ) . booleanValue ( ) ) { 
 self . execute ( Actor . removeContactCommandWithUid ( jint ( self . uid ) ) ! ) 
 @ @ - 234 , 10 + 235 , 29 @ @ class AAUserViewController : AAContentTableController { 
 return true 
 } 
 } 
 + 
 } 
 - 
 + 
 } 
 
 + / / Block Contact 
 + section { ( s ) - > ( ) in 
 + 
 + / / Block Contact 
 + self . isContactRow = s . common { ( r ) - > ( ) in 
 + r . bindAction = { ( r ) - > ( ) in 
 + if self . user . isContactModel ( ) . get ( ) . booleanValue ( ) { 
 + r . content = AALocalized ( " ProfileBlockContact " ) 
 + r . style = . Action 
 + } 
 + } 
 + r . selectAction = { ( ) - > Bool in 
 + self . executePromise ( Actor . blockUser ( jint ( self . uid ) ) ) 
 + 
 + return true 
 + } 
 + } 
 + } 
 } 
 
 override func tableWillBind ( binder : AABinder ) { 
 diff - - git a / actor - sdk / sdk - core - ios / Podfile b / actor - sdk / sdk - core - ios / Podfile 
 index 93476e1 . . 20769e5 100644 
 - - - a / actor - sdk / sdk - core - ios / Podfile 
 + + + b / actor - sdk / sdk - core - ios / Podfile 
 @ @ - 2 , 15 + 2 , 15 @ @ platform : ios , ' 8 . 0 ' 
 use _ frameworks ! 
 
 workspace ' ActorSDK ' 
 - project ' ActorSDK . xcodeproj ' 
 - project ' ActorApp . xcodeproj ' 
 + xcodeproj ' ActorSDK . xcodeproj ' 
 + xcodeproj ' ActorApp . xcodeproj ' 
 
 inhibit _ all _ warnings ! 
 
 # link _ with ' ActorApp ' 
 
 target ' ActorApp ' do 
 - project ' ActorApp . xcodeproj ' 
 + xcodeproj ' ActorApp . xcodeproj ' 
 
 # Core Tools 
 pod ' RegexKitLite ' 
 @ @ - 38 , 7 + 38 , 7 @ @ target ' ActorApp ' do 
 end 
 
 target ' ActorSDK ' do 
 - project ' ActorSDK . xcodeproj ' 
 + xcodeproj ' ActorSDK . xcodeproj ' 
 
 # J2Objc Runtime 
 pod ' J2ObjC - Framework '
