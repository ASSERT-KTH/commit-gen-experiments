BLEU SCORE: 0.392814650900513

TEST MSG: fix ( android ) : sendUri check mimeType for null
GENERATED MSG: fix ( android ) : file forwarding

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core / core / core - android / src / main / java / im / actor / core / AndroidMessenger . java b / actor - sdk / sdk - core / core / core - android / src / main / java / im / actor / core / AndroidMessenger . java < nl > index a78aae7 . . 6ddf47c 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - android / src / main / java / im / actor / core / AndroidMessenger . java < nl > + + + b / actor - sdk / sdk - core / core / core - android / src / main / java / im / actor / core / AndroidMessenger . java < nl > @ @ - 324 , 9 + 324 , 6 @ @ public class AndroidMessenger extends im . actor . core . Messenger { < nl > picturePath = cursor . getString ( cursor . getColumnIndex ( filePathColumn [ 0 ] ) ) ; < nl > mimeType = cursor . getString ( cursor . getColumnIndex ( filePathColumn [ 1 ] ) ) ; < nl > fileName = cursor . getString ( cursor . getColumnIndex ( filePathColumn [ 2 ] ) ) ; < nl > - if ( mimeType = = null ) { < nl > - mimeType = " ? / ? " ; < nl > - } < nl > cursor . close ( ) ; < nl > } else { < nl > picturePath = uri . getPath ( ) ; < nl > @ @ - 339 , 6 + 336 , 10 @ @ public class AndroidMessenger extends im . actor . core . Messenger { < nl > } < nl > } < nl > < nl > + if ( mimeType = = null ) { < nl > + mimeType = " ? / ? " ; < nl > + } < nl > + < nl > if ( picturePath = = null | | ! uri . getScheme ( ) . equals ( " file " ) ) { < nl > File externalFile = context . getExternalFilesDir ( null ) ; < nl > if ( externalFile = = null ) {
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core / core / core - android / src / main / java / im / actor / core / AndroidMessenger . java b / actor - sdk / sdk - core / core / core - android / src / main / java / im / actor / core / AndroidMessenger . java < nl > index 50267e2 . . c4605ce 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - android / src / main / java / im / actor / core / AndroidMessenger . java < nl > + + + b / actor - sdk / sdk - core / core / core - android / src / main / java / im / actor / core / AndroidMessenger . java < nl > @ @ - 302 , 7 + 302 , 7 @ @ public class AndroidMessenger extends im . actor . core . Messenger { < nl > } else { < nl > picturePath = uri . getPath ( ) ; < nl > fileName = new File ( uri . getPath ( ) ) . getName ( ) ; < nl > - int index = fileName . lastIndexOf ( " " ) ; < nl > + int index = fileName . lastIndexOf ( " . " ) ; < nl > if ( index > 0 ) { < nl > mimeType = MimeTypeMap . getSingleton ( ) . getMimeTypeFromExtension ( fileName . substring ( index + 1 ) ) ; < nl > } else {

TEST DIFF:
diff - - git a / actor - sdk / sdk - core / core / core - android / src / main / java / im / actor / core / AndroidMessenger . java b / actor - sdk / sdk - core / core / core - android / src / main / java / im / actor / core / AndroidMessenger . java 
 index a78aae7 . . 6ddf47c 100644 
 - - - a / actor - sdk / sdk - core / core / core - android / src / main / java / im / actor / core / AndroidMessenger . java 
 + + + b / actor - sdk / sdk - core / core / core - android / src / main / java / im / actor / core / AndroidMessenger . java 
 @ @ - 324 , 9 + 324 , 6 @ @ public class AndroidMessenger extends im . actor . core . Messenger { 
 picturePath = cursor . getString ( cursor . getColumnIndex ( filePathColumn [ 0 ] ) ) ; 
 mimeType = cursor . getString ( cursor . getColumnIndex ( filePathColumn [ 1 ] ) ) ; 
 fileName = cursor . getString ( cursor . getColumnIndex ( filePathColumn [ 2 ] ) ) ; 
 - if ( mimeType = = null ) { 
 - mimeType = " ? / ? " ; 
 - } 
 cursor . close ( ) ; 
 } else { 
 picturePath = uri . getPath ( ) ; 
 @ @ - 339 , 6 + 336 , 10 @ @ public class AndroidMessenger extends im . actor . core . Messenger { 
 } 
 } 
 
 + if ( mimeType = = null ) { 
 + mimeType = " ? / ? " ; 
 + } 
 + 
 if ( picturePath = = null | | ! uri . getScheme ( ) . equals ( " file " ) ) { 
 File externalFile = context . getExternalFilesDir ( null ) ; 
 if ( externalFile = = null ) {

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core / core / core - android / src / main / java / im / actor / core / AndroidMessenger . java b / actor - sdk / sdk - core / core / core - android / src / main / java / im / actor / core / AndroidMessenger . java 
 index 50267e2 . . c4605ce 100644 
 - - - a / actor - sdk / sdk - core / core / core - android / src / main / java / im / actor / core / AndroidMessenger . java 
 + + + b / actor - sdk / sdk - core / core / core - android / src / main / java / im / actor / core / AndroidMessenger . java 
 @ @ - 302 , 7 + 302 , 7 @ @ public class AndroidMessenger extends im . actor . core . Messenger { 
 } else { 
 picturePath = uri . getPath ( ) ; 
 fileName = new File ( uri . getPath ( ) ) . getName ( ) ; 
 - int index = fileName . lastIndexOf ( " " ) ; 
 + int index = fileName . lastIndexOf ( " . " ) ; 
 if ( index > 0 ) { 
 mimeType = MimeTypeMap . getSingleton ( ) . getMimeTypeFromExtension ( fileName . substring ( index + 1 ) ) ; 
 } else {
