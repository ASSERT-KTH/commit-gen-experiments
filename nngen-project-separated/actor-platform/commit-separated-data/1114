BLEU SCORE: 0.177655053068759

TEST MSG: fix ( core ) : Fixing compilation error
GENERATED MSG: fix ( js ) : Fixing nullable in js properties storage

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core / runtime / runtime - shared / src / main / java / im / actor / runtime / storage / IndexEngine . java b / actor - sdk / sdk - core / runtime / runtime - shared / src / main / java / im / actor / runtime / storage / IndexEngine . java < nl > index 33f7c0e . . 59eba17 100644 < nl > - - - a / actor - sdk / sdk - core / runtime / runtime - shared / src / main / java / im / actor / runtime / storage / IndexEngine . java < nl > + + + b / actor - sdk / sdk - core / runtime / runtime - shared / src / main / java / im / actor / runtime / storage / IndexEngine . java < nl > @ @ - 31 , 16 + 31 , 6 @ @ public class IndexEngine implements IndexStorage { < nl > } < nl > < nl > @ Override < nl > - public Long loadTop ( ) { < nl > - return storage . loadTop ( ) ; < nl > - } < nl > - < nl > - @ Override < nl > - public Long loadBottom ( ) { < nl > - return storage . loadBottom ( ) ; < nl > - } < nl > - < nl > - @ Override < nl > public void remove ( long key ) { < nl > storage . remove ( key ) ; < nl > }
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core / runtime / runtime - js / src / main / java / im / actor / runtime / js / storage / JsPreferencesStorage . java b / actor - sdk / sdk - core / runtime / runtime - js / src / main / java / im / actor / runtime / js / storage / JsPreferencesStorage . java < nl > index cfb8082 . . d0be729 100644 < nl > - - - a / actor - sdk / sdk - core / runtime / runtime - js / src / main / java / im / actor / runtime / js / storage / JsPreferencesStorage . java < nl > + + + b / actor - sdk / sdk - core / runtime / runtime - js / src / main / java / im / actor / runtime / js / storage / JsPreferencesStorage . java < nl > @ @ - 69 , 7 + 69 , 12 @ @ public class JsPreferencesStorage implements PreferencesStorage { < nl > < nl > @ Override < nl > public void putBytes ( String key , byte [ ] v ) { < nl > - storage . setItem ( convertKey ( key ) , toBase64 ( v ) ) ; < nl > + key = convertKey ( key ) ; < nl > + if ( v = = null ) { < nl > + storage . removeItem ( key ) ; < nl > + } else { < nl > + storage . setItem ( key , toBase64 ( v ) ) ; < nl > + } < nl > } < nl > < nl > @ Override < nl > @ @ - 84 , 7 + 89 , 12 @ @ public class JsPreferencesStorage implements PreferencesStorage { < nl > < nl > @ Override < nl > public void putString ( String key , String v ) { < nl > - storage . setItem ( convertKey ( key ) , v ) ; < nl > + key = convertKey ( key ) ; < nl > + if ( v = = null ) { < nl > + storage . removeItem ( key ) ; < nl > + } else { < nl > + storage . setItem ( convertKey ( key ) , v ) ; < nl > + } < nl > } < nl > < nl > @ Override

TEST DIFF:
diff - - git a / actor - sdk / sdk - core / runtime / runtime - shared / src / main / java / im / actor / runtime / storage / IndexEngine . java b / actor - sdk / sdk - core / runtime / runtime - shared / src / main / java / im / actor / runtime / storage / IndexEngine . java 
 index 33f7c0e . . 59eba17 100644 
 - - - a / actor - sdk / sdk - core / runtime / runtime - shared / src / main / java / im / actor / runtime / storage / IndexEngine . java 
 + + + b / actor - sdk / sdk - core / runtime / runtime - shared / src / main / java / im / actor / runtime / storage / IndexEngine . java 
 @ @ - 31 , 16 + 31 , 6 @ @ public class IndexEngine implements IndexStorage { 
 } 
 
 @ Override 
 - public Long loadTop ( ) { 
 - return storage . loadTop ( ) ; 
 - } 
 - 
 - @ Override 
 - public Long loadBottom ( ) { 
 - return storage . loadBottom ( ) ; 
 - } 
 - 
 - @ Override 
 public void remove ( long key ) { 
 storage . remove ( key ) ; 
 }

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core / runtime / runtime - js / src / main / java / im / actor / runtime / js / storage / JsPreferencesStorage . java b / actor - sdk / sdk - core / runtime / runtime - js / src / main / java / im / actor / runtime / js / storage / JsPreferencesStorage . java 
 index cfb8082 . . d0be729 100644 
 - - - a / actor - sdk / sdk - core / runtime / runtime - js / src / main / java / im / actor / runtime / js / storage / JsPreferencesStorage . java 
 + + + b / actor - sdk / sdk - core / runtime / runtime - js / src / main / java / im / actor / runtime / js / storage / JsPreferencesStorage . java 
 @ @ - 69 , 7 + 69 , 12 @ @ public class JsPreferencesStorage implements PreferencesStorage { 
 
 @ Override 
 public void putBytes ( String key , byte [ ] v ) { 
 - storage . setItem ( convertKey ( key ) , toBase64 ( v ) ) ; 
 + key = convertKey ( key ) ; 
 + if ( v = = null ) { 
 + storage . removeItem ( key ) ; 
 + } else { 
 + storage . setItem ( key , toBase64 ( v ) ) ; 
 + } 
 } 
 
 @ Override 
 @ @ - 84 , 7 + 89 , 12 @ @ public class JsPreferencesStorage implements PreferencesStorage { 
 
 @ Override 
 public void putString ( String key , String v ) { 
 - storage . setItem ( convertKey ( key ) , v ) ; 
 + key = convertKey ( key ) ; 
 + if ( v = = null ) { 
 + storage . removeItem ( key ) ; 
 + } else { 
 + storage . setItem ( convertKey ( key ) , v ) ; 
 + } 
 } 
 
 @ Override
