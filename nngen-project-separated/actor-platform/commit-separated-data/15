BLEU SCORE: 0.10127993013562818

TEST MSG: fix ( server ) : def - > val in config map
GENERATED MSG: perf ( server : push ) : minify json in push

TEST DIFF (one line): diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / push / google / configs . scala b / actor - server / actor - core / src / main / scala / im / actor / server / push / google / configs . scala < nl > index d27dfbb . . 36aff09 100644 < nl > - - - a / actor - server / actor - core / src / main / scala / im / actor / server / push / google / configs . scala < nl > + + + b / actor - server / actor - core / src / main / scala / im / actor / server / push / google / configs . scala < nl > @ @ - 9 , 7 + 9 , 7 @ @ import scala . util . Try < nl > private final case class GooglePushKey ( projectId : Long , key : String ) < nl > < nl > private [ google ] final case class GooglePushManagerConfig ( keys : List [ GooglePushKey ] ) { < nl > - def keyMap : Map [ Long , String ] = < nl > + val keyMap : Map [ Long , String ] = < nl > ( keys map { < nl > case GooglePushKey ( projectId , key ) ⇒ projectId → key < nl > } ) . toMap
NEAREST DIFF (one line): diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / push / actor / ActorPush . scala b / actor - server / actor - core / src / main / scala / im / actor / server / push / actor / ActorPush . scala < nl > index bdc07d0 . . 145658b 100644 < nl > - - - a / actor - server / actor - core / src / main / scala / im / actor / server / push / actor / ActorPush . scala < nl > + + + b / actor - server / actor - core / src / main / scala / im / actor / server / push / actor / ActorPush . scala < nl > @ @ - 46 , 7 + 46 , 7 @ @ final class ActorPush ( _ system : ActorSystem ) extends Extension { < nl > method = HttpMethods . POST , < nl > uri = uri , < nl > headers = pushHeaders , < nl > - entity = HttpEntity ( ContentTypes . ` application / json ` , m . asJson . toString ) < nl > + entity = HttpEntity ( ContentTypes . ` application / json ` , m . asJson . noSpaces ) < nl > ) → ActorPushDelivery ( creds , m ) < nl > } < nl > } < nl > diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / sequence / GooglePushManager . scala b / actor - server / actor - core / src / main / scala / im / actor / server / sequence / GooglePushManager . scala < nl > index 824d134 . . c5e950a 100644 < nl > - - - a / actor - server / actor - core / src / main / scala / im / actor / server / sequence / GooglePushManager . scala < nl > + + + b / actor - server / actor - core / src / main / scala / im / actor / server / sequence / GooglePushManager . scala < nl > @ @ - 170 , 7 + 170 , 7 @ @ private final class GooglePushDelivery extends ActorPublisher [ ( HttpRequest , Goog < nl > method = HttpMethods . POST , < nl > uri = uri , < nl > headers = List ( headers . Authorization ( headers . GenericHttpCredentials ( s " key = $ { d . key } " , Map . empty [ String , String ] ) ) ) , < nl > - entity = HttpEntity ( ContentTypes . ` application / json ` , d . m . asJson . toString ( ) ) < nl > + entity = HttpEntity ( ContentTypes . ` application / json ` , d . m . asJson . noSpaces ) < nl > ) → d < nl > } < nl > } < nl > \ No newline at end of file

TEST DIFF:
diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / push / google / configs . scala b / actor - server / actor - core / src / main / scala / im / actor / server / push / google / configs . scala 
 index d27dfbb . . 36aff09 100644 
 - - - a / actor - server / actor - core / src / main / scala / im / actor / server / push / google / configs . scala 
 + + + b / actor - server / actor - core / src / main / scala / im / actor / server / push / google / configs . scala 
 @ @ - 9 , 7 + 9 , 7 @ @ import scala . util . Try 
 private final case class GooglePushKey ( projectId : Long , key : String ) 
 
 private [ google ] final case class GooglePushManagerConfig ( keys : List [ GooglePushKey ] ) { 
 - def keyMap : Map [ Long , String ] = 
 + val keyMap : Map [ Long , String ] = 
 ( keys map { 
 case GooglePushKey ( projectId , key ) ⇒ projectId → key 
 } ) . toMap

NEAREST DIFF:
diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / push / actor / ActorPush . scala b / actor - server / actor - core / src / main / scala / im / actor / server / push / actor / ActorPush . scala 
 index bdc07d0 . . 145658b 100644 
 - - - a / actor - server / actor - core / src / main / scala / im / actor / server / push / actor / ActorPush . scala 
 + + + b / actor - server / actor - core / src / main / scala / im / actor / server / push / actor / ActorPush . scala 
 @ @ - 46 , 7 + 46 , 7 @ @ final class ActorPush ( _ system : ActorSystem ) extends Extension { 
 method = HttpMethods . POST , 
 uri = uri , 
 headers = pushHeaders , 
 - entity = HttpEntity ( ContentTypes . ` application / json ` , m . asJson . toString ) 
 + entity = HttpEntity ( ContentTypes . ` application / json ` , m . asJson . noSpaces ) 
 ) → ActorPushDelivery ( creds , m ) 
 } 
 } 
 diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / sequence / GooglePushManager . scala b / actor - server / actor - core / src / main / scala / im / actor / server / sequence / GooglePushManager . scala 
 index 824d134 . . c5e950a 100644 
 - - - a / actor - server / actor - core / src / main / scala / im / actor / server / sequence / GooglePushManager . scala 
 + + + b / actor - server / actor - core / src / main / scala / im / actor / server / sequence / GooglePushManager . scala 
 @ @ - 170 , 7 + 170 , 7 @ @ private final class GooglePushDelivery extends ActorPublisher [ ( HttpRequest , Goog 
 method = HttpMethods . POST , 
 uri = uri , 
 headers = List ( headers . Authorization ( headers . GenericHttpCredentials ( s " key = $ { d . key } " , Map . empty [ String , String ] ) ) ) , 
 - entity = HttpEntity ( ContentTypes . ` application / json ` , d . m . asJson . toString ( ) ) 
 + entity = HttpEntity ( ContentTypes . ` application / json ` , d . m . asJson . noSpaces ) 
 ) → d 
 } 
 } 
 \ No newline at end of file
