BLEU SCORE: 0.6434588841607617

TEST MSG: feat ( core ) : Updated API
GENERATED MSG: feat ( core ) : Update API

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / ApiGroup . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / ApiGroup . java < nl > index 95963d3 . . 8d63742 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / ApiGroup . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / ApiGroup . java < nl > @ @ - 25 , 9 + 25 , 10 @ @ public class ApiGroup extends BserObject { < nl > private Boolean isHidden ; < nl > private ApiGroupType groupType ; < nl > private Boolean canSendMessage ; < nl > + private Boolean isDeleted ; < nl > private ApiMapValue ext ; < nl > < nl > - public ApiGroup ( int id , long accessHash , @ NotNull String title , @ Nullable ApiAvatar avatar , @ Nullable Integer membersCount , @ Nullable Boolean isMember , @ Nullable Boolean isHidden , @ Nullable ApiGroupType groupType , @ Nullable Boolean canSendMessage , @ Nullable ApiMapValue ext ) { < nl > + public ApiGroup ( int id , long accessHash , @ NotNull String title , @ Nullable ApiAvatar avatar , @ Nullable Integer membersCount , @ Nullable Boolean isMember , @ Nullable Boolean isHidden , @ Nullable ApiGroupType groupType , @ Nullable Boolean canSendMessage , @ Nullable Boolean isDeleted , @ Nullable ApiMapValue ext ) { < nl > this . id = id ; < nl > this . accessHash = accessHash ; < nl > this . title = title ; < nl > @ @ - 37 , 6 + 38 , 7 @ @ public class ApiGroup extends BserObject { < nl > this . isHidden = isHidden ; < nl > this . groupType = groupType ; < nl > this . canSendMessage = canSendMessage ; < nl > + this . isDeleted = isDeleted ; < nl > this . ext = ext ; < nl > } < nl > < nl > @ @ - 88 , 6 + 90 , 11 @ @ public class ApiGroup extends BserObject { < nl > } < nl > < nl > @ Nullable < nl > + public Boolean isDeleted ( ) { < nl > + return this . isDeleted ; < nl > + } < nl > + < nl > + @ Nullable < nl > public ApiMapValue getExt ( ) { < nl > return this . ext ; < nl > } < nl > @ @ - 106 , 6 + 113 , 7 @ @ public class ApiGroup extends BserObject { < nl > this . groupType = ApiGroupType . parse ( val _ groupType ) ; < nl > } < nl > this . canSendMessage = values . optBool ( 26 ) ; < nl > + this . isDeleted = values . optBool ( 27 ) ; < nl > this . ext = values . optObj ( 22 , new ApiMapValue ( ) ) ; < nl > if ( values . hasRemaining ( ) ) { < nl > setUnmappedObjects ( values . buildRemaining ( ) ) ; < nl > @ @ - 138 , 6 + 146 , 9 @ @ public class ApiGroup extends BserObject { < nl > if ( this . canSendMessage ! = null ) { < nl > writer . writeBool ( 26 , this . canSendMessage ) ; < nl > } < nl > + if ( this . isDeleted ! = null ) { < nl > + writer . writeBool ( 27 , this . isDeleted ) ; < nl > + } < nl > if ( this . ext ! = null ) { < nl > writer . writeObject ( 22 , this . ext ) ; < nl > } < nl > @ @ - 161 , 6 + 172 , 7 @ @ public class ApiGroup extends BserObject { < nl > res + = " , isHidden = " + this . isHidden ; < nl > res + = " , groupType = " + this . groupType ; < nl > res + = " , canSendMessage = " + this . canSendMessage ; < nl > + res + = " , isDeleted = " + this . isDeleted ; < nl > res + = " , ext = " + this . ext ; < nl > res + = " } " ; < nl > return res ; < nl > diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / ApiPeerSearchResult . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / ApiPeerSearchResult . java < nl > index 2db3b2d . . a12c4a8 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / ApiPeerSearchResult . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / ApiPeerSearchResult . java < nl > @ @ - 17 , 23 + 17 , 11 @ @ import java . util . ArrayList ; < nl > public class ApiPeerSearchResult extends BserObject { < nl > < nl > private ApiPeer peer ; < nl > - private String title ; < nl > - private String description ; < nl > - private Integer membersCount ; < nl > - private Long dateCreated ; < nl > - private Integer creator ; < nl > - private Boolean isPublic ; < nl > - private Boolean isJoined ; < nl > + private String optMatchString ; < nl > < nl > - public ApiPeerSearchResult ( @ NotNull ApiPeer peer , @ NotNull String title , @ Nullable String description , @ Nullable Integer membersCount , @ Nullable Long dateCreated , @ Nullable Integer creator , @ Nullable Boolean isPublic , @ Nullable Boolean isJoined ) { < nl > + public ApiPeerSearchResult ( @ NotNull ApiPeer peer , @ Nullable String optMatchString ) { < nl > this . peer = peer ; < nl > - this . title = title ; < nl > - this . description = description ; < nl > - this . membersCount = membersCount ; < nl > - this . dateCreated = dateCreated ; < nl > - this . creator = creator ; < nl > - this . isPublic = isPublic ; < nl > - this . isJoined = isJoined ; < nl > + this . optMatchString = optMatchString ; < nl > } < nl > < nl > public ApiPeerSearchResult ( ) { < nl > @ @ - 45 , 51 + 33 , 15 @ @ public class ApiPeerSearchResult extends BserObject { < nl > return this . peer ; < nl > } < nl > < nl > - @ NotNull < nl > - public String getTitle ( ) { < nl > - return this . title ; < nl > - } < nl > - < nl > @ Nullable < nl > - public String getDescription ( ) { < nl > - return this . description ; < nl > - } < nl > - < nl > - @ Nullable < nl > - public Integer getMembersCount ( ) { < nl > - return this . membersCount ; < nl > - } < nl > - < nl > - @ Nullable < nl > - public Long getDateCreated ( ) { < nl > - return this . dateCreated ; < nl > - } < nl > - < nl > - @ Nullable < nl > - public Integer getCreator ( ) { < nl > - return this . creator ; < nl > - } < nl > - < nl > - @ Nullable < nl > - public Boolean isPublic ( ) { < nl > - return this . isPublic ; < nl > - } < nl > - < nl > - @ Nullable < nl > - public Boolean isJoined ( ) { < nl > - return this . isJoined ; < nl > + public String getOptMatchString ( ) { < nl > + return this . optMatchString ; < nl > } < nl > < nl > @ Override < nl > public void parse ( BserValues values ) throws IOException { < nl > this . peer = values . getObj ( 1 , new ApiPeer ( ) ) ; < nl > - this . title = values . getString ( 2 ) ; < nl > - this . description = values . optString ( 3 ) ; < nl > - this . membersCount = values . optInt ( 4 ) ; < nl > - this . dateCreated = values . optLong ( 5 ) ; < nl > - this . creator = values . optInt ( 6 ) ; < nl > - this . isPublic = values . optBool ( 7 ) ; < nl > - this . isJoined = values . optBool ( 8 ) ; < nl > + this . optMatchString = values . optString ( 3 ) ; < nl > } < nl > < nl > @ Override < nl > @ @ - 98 , 27 + 50 , 8 @ @ public class ApiPeerSearchResult extends BserObject { < nl > throw new IOException ( ) ; < nl > } < nl > writer . writeObject ( 1 , this . peer ) ; < nl > - if ( this . title = = null ) { < nl > - throw new IOException ( ) ; < nl > - } < nl > - writer . writeString ( 2 , this . title ) ; < nl > - if ( this . description ! = null ) { < nl > - writer . writeString ( 3 , this . description ) ; < nl > - } < nl > - if ( this . membersCount ! = null ) { < nl > - writer . writeInt ( 4 , this . membersCount ) ; < nl > - } < nl > - if ( this . dateCreated ! = null ) { < nl > - writer . writeLong ( 5 , this . dateCreated ) ; < nl > - } < nl > - if ( this . creator ! = null ) { < nl > - writer . writeInt ( 6 , this . creator ) ; < nl > - } < nl > - if ( this . isPublic ! = null ) { < nl > - writer . writeBool ( 7 , this . isPublic ) ; < nl > - } < nl > - if ( this . isJoined ! = null ) { < nl > - writer . writeBool ( 8 , this . isJoined ) ; < nl > + if ( this . optMatchString ! = null ) { < nl > + writer . writeString ( 3 , this . optMatchString ) ; < nl > } < nl > } < nl > < nl > @ @ - 126 , 12 + 59 , 7 @ @ public class ApiPeerSearchResult extends BserObject { < nl > public String toString ( ) { < nl > String res = " struct PeerSearchResult { " ; < nl > res + = " peer = " + this . peer ; < nl > - res + = " , title = " + this . title ; < nl > - res + = " , description = " + this . description ; < nl > - res + = " , membersCount = " + this . membersCount ; < nl > - res + = " , dateCreated = " + this . dateCreated ; < nl > - res + = " , creator = " + this . creator ; < nl > - res + = " , isPublic = " + this . isPublic ; < nl > + res + = " , optMatchString = " + this . optMatchString ; < nl > res + = " } " ; < nl > return res ; < nl > } < nl > diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / parser / UpdatesParser . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / parser / UpdatesParser . java < nl > index a372a3c . . 9963a12 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / parser / UpdatesParser . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / parser / UpdatesParser . java < nl > @ @ - 69 , 6 + 69 , 7 @ @ public class UpdatesParser extends BaseParser < Update > { < nl > case 2647 : return UpdateGroupCanLeaveChanged . fromBytes ( payload ) ; < nl > case 2648 : return UpdateGroupCanDeleteChanged . fromBytes ( payload ) ; < nl > case 2641 : return UpdateGroupCanEditAdminSettingsChanged . fromBytes ( payload ) ; < nl > + case 2658 : return UpdateGroupDeleted . fromBytes ( payload ) ; < nl > case 2612 : return UpdateGroupMemberChanged . fromBytes ( payload ) ; < nl > case 2615 : return UpdateGroupMembersBecameAsync . fromBytes ( payload ) ; < nl > case 2614 : return UpdateGroupMembersUpdated . fromBytes ( payload ) ; < nl > diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / updates / UpdateGroupDeleted . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / updates / UpdateGroupDeleted . java < nl > new file mode 100644 < nl > index 0000000 . . f1603eb < nl > - - - / dev / null < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / updates / UpdateGroupDeleted . java < nl > @ @ - 0 , 0 + 1 , 61 @ @ < nl > + package im . actor . core . api . updates ; < nl > + / * < nl > + * Generated by the Actor API Scheme generator . DO NOT EDIT ! < nl > + * / < nl > + < nl > + import im . actor . runtime . bser . * ; < nl > + import im . actor . runtime . collections . * ; < nl > + import static im . actor . runtime . bser . Utils . * ; < nl > + import im . actor . core . network . parser . * ; < nl > + import org . jetbrains . annotations . Nullable ; < nl > + import org . jetbrains . annotations . NotNull ; < nl > + import com . google . j2objc . annotations . ObjectiveCName ; < nl > + import java . io . IOException ; < nl > + import java . util . List ; < nl > + import java . util . ArrayList ; < nl > + import im . actor . core . api . * ; < nl > + < nl > + public class UpdateGroupDeleted extends Update { < nl > + < nl > + public static final int HEADER = 0xa62 ; < nl > + public static UpdateGroupDeleted fromBytes ( byte [ ] data ) throws IOException { < nl > + return Bser . parse ( new UpdateGroupDeleted ( ) , data ) ; < nl > + } < nl > + < nl > + private int groupId ; < nl > + < nl > + public UpdateGroupDeleted ( int groupId ) { < nl > + this . groupId = groupId ; < nl > + } < nl > + < nl > + public UpdateGroupDeleted ( ) { < nl > + < nl > + } < nl > + < nl > + public int getGroupId ( ) { < nl > + return this . groupId ; < nl > + } < nl > + < nl > + @ Override < nl > + public void parse ( BserValues values ) throws IOException { < nl > + this . groupId = values . getInt ( 1 ) ; < nl > + } < nl > + < nl > + @ Override < nl > + public void serialize ( BserWriter writer ) throws IOException { < nl > + writer . writeInt ( 1 , this . groupId ) ; < nl > + } < nl > + < nl > + @ Override < nl > + public String toString ( ) { < nl > + String res = " update GroupDeleted { " ; < nl > + res + = " groupId = " + this . groupId ; < nl > + res + = " } " ; < nl > + return res ; < nl > + } < nl > + < nl > + @ Override < nl > + public int getHeaderKey ( ) { < nl > + return HEADER ; < nl > + } < nl > + }
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / RequestDoCall . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / RequestDoCall . java < nl > index dfa49f1 . . ea38082 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / RequestDoCall . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / RequestDoCall . java < nl > @ @ - 24 , 10 + 24 , 16 @ @ public class RequestDoCall extends Request < ResponseDoCall > { < nl > < nl > private ApiOutPeer peer ; < nl > private Long timeout ; < nl > + private Boolean isAudioOnlyCall ; < nl > + private Boolean isVideoOnlyCall ; < nl > + private Boolean isVideoPreferred ; < nl > < nl > - public RequestDoCall ( @ NotNull ApiOutPeer peer , @ Nullable Long timeout ) { < nl > + public RequestDoCall ( @ NotNull ApiOutPeer peer , @ Nullable Long timeout , @ Nullable Boolean isAudioOnlyCall , @ Nullable Boolean isVideoOnlyCall , @ Nullable Boolean isVideoPreferred ) { < nl > this . peer = peer ; < nl > this . timeout = timeout ; < nl > + this . isAudioOnlyCall = isAudioOnlyCall ; < nl > + this . isVideoOnlyCall = isVideoOnlyCall ; < nl > + this . isVideoPreferred = isVideoPreferred ; < nl > } < nl > < nl > public RequestDoCall ( ) { < nl > @ @ - 44 , 10 + 50 , 28 @ @ public class RequestDoCall extends Request < ResponseDoCall > { < nl > return this . timeout ; < nl > } < nl > < nl > + @ Nullable < nl > + public Boolean isAudioOnlyCall ( ) { < nl > + return this . isAudioOnlyCall ; < nl > + } < nl > + < nl > + @ Nullable < nl > + public Boolean isVideoOnlyCall ( ) { < nl > + return this . isVideoOnlyCall ; < nl > + } < nl > + < nl > + @ Nullable < nl > + public Boolean isVideoPreferred ( ) { < nl > + return this . isVideoPreferred ; < nl > + } < nl > + < nl > @ Override < nl > public void parse ( BserValues values ) throws IOException { < nl > this . peer = values . getObj ( 1 , new ApiOutPeer ( ) ) ; < nl > this . timeout = values . optLong ( 2 ) ; < nl > + this . isAudioOnlyCall = values . optBool ( 3 ) ; < nl > + this . isVideoOnlyCall = values . optBool ( 4 ) ; < nl > + this . isVideoPreferred = values . optBool ( 6 ) ; < nl > } < nl > < nl > @ Override < nl > @ @ - 59 , 12 + 83 , 25 @ @ public class RequestDoCall extends Request < ResponseDoCall > { < nl > if ( this . timeout ! = null ) { < nl > writer . writeLong ( 2 , this . timeout ) ; < nl > } < nl > + if ( this . isAudioOnlyCall ! = null ) { < nl > + writer . writeBool ( 3 , this . isAudioOnlyCall ) ; < nl > + } < nl > + if ( this . isVideoOnlyCall ! = null ) { < nl > + writer . writeBool ( 4 , this . isVideoOnlyCall ) ; < nl > + } < nl > + if ( this . isVideoPreferred ! = null ) { < nl > + writer . writeBool ( 6 , this . isVideoPreferred ) ; < nl > + } < nl > } < nl > < nl > @ Override < nl > public String toString ( ) { < nl > String res = " rpc DoCall { " ; < nl > res + = " peer = " + this . peer ; < nl > + res + = " , timeout = " + this . timeout ; < nl > + res + = " , isAudioOnlyCall = " + this . isAudioOnlyCall ; < nl > + res + = " , isVideoOnlyCall = " + this . isVideoOnlyCall ; < nl > + res + = " , isVideoPreferred = " + this . isVideoPreferred ; < nl > res + = " } " ; < nl > return res ; < nl > } < nl > diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / ResponseGetCallInfo . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / ResponseGetCallInfo . java < nl > index 634ea3a . . daf246f 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / ResponseGetCallInfo . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / ResponseGetCallInfo . java < nl > @ @ - 26 , 12 + 26 , 18 @ @ public class ResponseGetCallInfo extends Response { < nl > private List < ApiGroupOutPeer > groups ; < nl > private List < ApiUserOutPeer > users ; < nl > private String eventBusId ; < nl > + private Boolean isAudioOnlyCall ; < nl > + private Boolean isVideoOnlyCall ; < nl > + private Boolean isVideoPreferred ; < nl > < nl > - public ResponseGetCallInfo ( @ NotNull ApiPeer peer , @ NotNull List < ApiGroupOutPeer > groups , @ NotNull List < ApiUserOutPeer > users , @ NotNull String eventBusId ) { < nl > + public ResponseGetCallInfo ( @ NotNull ApiPeer peer , @ NotNull List < ApiGroupOutPeer > groups , @ NotNull List < ApiUserOutPeer > users , @ NotNull String eventBusId , @ Nullable Boolean isAudioOnlyCall , @ Nullable Boolean isVideoOnlyCall , @ Nullable Boolean isVideoPreferred ) { < nl > this . peer = peer ; < nl > this . groups = groups ; < nl > this . users = users ; < nl > this . eventBusId = eventBusId ; < nl > + this . isAudioOnlyCall = isAudioOnlyCall ; < nl > + this . isVideoOnlyCall = isVideoOnlyCall ; < nl > + this . isVideoPreferred = isVideoPreferred ; < nl > } < nl > < nl > public ResponseGetCallInfo ( ) { < nl > @ @ - 58 , 6 + 64 , 21 @ @ public class ResponseGetCallInfo extends Response { < nl > return this . eventBusId ; < nl > } < nl > < nl > + @ Nullable < nl > + public Boolean isAudioOnlyCall ( ) { < nl > + return this . isAudioOnlyCall ; < nl > + } < nl > + < nl > + @ Nullable < nl > + public Boolean isVideoOnlyCall ( ) { < nl > + return this . isVideoOnlyCall ; < nl > + } < nl > + < nl > + @ Nullable < nl > + public Boolean isVideoPreferred ( ) { < nl > + return this . isVideoPreferred ; < nl > + } < nl > + < nl > @ Override < nl > public void parse ( BserValues values ) throws IOException { < nl > this . peer = values . getObj ( 1 , new ApiPeer ( ) ) ; < nl > @ @ - 72 , 6 + 93 , 9 @ @ public class ResponseGetCallInfo extends Response { < nl > } < nl > this . users = values . getRepeatedObj ( 3 , _ users ) ; < nl > this . eventBusId = values . getString ( 4 ) ; < nl > + this . isAudioOnlyCall = values . optBool ( 5 ) ; < nl > + this . isVideoOnlyCall = values . optBool ( 6 ) ; < nl > + this . isVideoPreferred = values . optBool ( 7 ) ; < nl > } < nl > < nl > @ Override < nl > @ @ - 86 , 6 + 110 , 15 @ @ public class ResponseGetCallInfo extends Response { < nl > throw new IOException ( ) ; < nl > } < nl > writer . writeString ( 4 , this . eventBusId ) ; < nl > + if ( this . isAudioOnlyCall ! = null ) { < nl > + writer . writeBool ( 5 , this . isAudioOnlyCall ) ; < nl > + } < nl > + if ( this . isVideoOnlyCall ! = null ) { < nl > + writer . writeBool ( 6 , this . isVideoOnlyCall ) ; < nl > + } < nl > + if ( this . isVideoPreferred ! = null ) { < nl > + writer . writeBool ( 7 , this . isVideoPreferred ) ; < nl > + } < nl > } < nl > < nl > @ Override < nl > diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / calls / CallActor . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / calls / CallActor . java < nl > index 8f374e2 . . 53449fe 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / calls / CallActor . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / calls / CallActor . java < nl > @ @ - 69 , 7 + 69 , 7 @ @ public class CallActor extends AbsCallActor { < nl > public void preStart ( ) { < nl > super . preStart ( ) ; < nl > if ( isMaster ) { < nl > - api ( new RequestDoCall ( buidOutPeer ( peer ) , CallBusActor . TIMEOUT ) ) . then ( responseDoCall - > { < nl > + api ( new RequestDoCall ( buidOutPeer ( peer ) , CallBusActor . TIMEOUT , false , false , isVideoInitiallyEnabled ) ) . then ( responseDoCall - > { < nl > callId = responseDoCall . getCallId ( ) ; < nl > callBus . joinMasterBus ( responseDoCall . getEventBusId ( ) , responseDoCall . getDeviceId ( ) ) ; < nl > callBus . changeVideoEnabled ( isVideoInitiallyEnabled ) ; < nl > @ @ - 80 , 7 + 80 , 10 @ @ public class CallActor extends AbsCallActor { < nl > api ( new RequestGetCallInfo ( callId ) ) . then ( responseGetCallInfo - > { < nl > peer = convert ( responseGetCallInfo . getPeer ( ) ) ; < nl > callBus . joinBus ( responseGetCallInfo . getEventBusId ( ) ) ; < nl > - callBus . changeVideoEnabled ( isVideoInitiallyEnabled ) ; < nl > + if ( responseGetCallInfo . isVideoPreferred ( ) ! = null ) { < nl > + isVideoInitiallyEnabled = responseGetCallInfo . isVideoPreferred ( ) ; < nl > + callBus . changeVideoEnabled ( isVideoInitiallyEnabled ) ; < nl > + } < nl > callVM = callViewModels . spawnNewIncomingVM ( callId , peer , isVideoInitiallyEnabled , CallState . RINGING ) ; < nl > } ) . failure ( e - > self ( ) . send ( PoisonPill . INSTANCE ) ) ; < nl > }

TEST DIFF:
diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / ApiGroup . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / ApiGroup . java 
 index 95963d3 . . 8d63742 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / ApiGroup . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / ApiGroup . java 
 @ @ - 25 , 9 + 25 , 10 @ @ public class ApiGroup extends BserObject { 
 private Boolean isHidden ; 
 private ApiGroupType groupType ; 
 private Boolean canSendMessage ; 
 + private Boolean isDeleted ; 
 private ApiMapValue ext ; 
 
 - public ApiGroup ( int id , long accessHash , @ NotNull String title , @ Nullable ApiAvatar avatar , @ Nullable Integer membersCount , @ Nullable Boolean isMember , @ Nullable Boolean isHidden , @ Nullable ApiGroupType groupType , @ Nullable Boolean canSendMessage , @ Nullable ApiMapValue ext ) { 
 + public ApiGroup ( int id , long accessHash , @ NotNull String title , @ Nullable ApiAvatar avatar , @ Nullable Integer membersCount , @ Nullable Boolean isMember , @ Nullable Boolean isHidden , @ Nullable ApiGroupType groupType , @ Nullable Boolean canSendMessage , @ Nullable Boolean isDeleted , @ Nullable ApiMapValue ext ) { 
 this . id = id ; 
 this . accessHash = accessHash ; 
 this . title = title ; 
 @ @ - 37 , 6 + 38 , 7 @ @ public class ApiGroup extends BserObject { 
 this . isHidden = isHidden ; 
 this . groupType = groupType ; 
 this . canSendMessage = canSendMessage ; 
 + this . isDeleted = isDeleted ; 
 this . ext = ext ; 
 } 
 
 @ @ - 88 , 6 + 90 , 11 @ @ public class ApiGroup extends BserObject { 
 } 
 
 @ Nullable 
 + public Boolean isDeleted ( ) { 
 + return this . isDeleted ; 
 + } 
 + 
 + @ Nullable 
 public ApiMapValue getExt ( ) { 
 return this . ext ; 
 } 
 @ @ - 106 , 6 + 113 , 7 @ @ public class ApiGroup extends BserObject { 
 this . groupType = ApiGroupType . parse ( val _ groupType ) ; 
 } 
 this . canSendMessage = values . optBool ( 26 ) ; 
 + this . isDeleted = values . optBool ( 27 ) ; 
 this . ext = values . optObj ( 22 , new ApiMapValue ( ) ) ; 
 if ( values . hasRemaining ( ) ) { 
 setUnmappedObjects ( values . buildRemaining ( ) ) ; 
 @ @ - 138 , 6 + 146 , 9 @ @ public class ApiGroup extends BserObject { 
 if ( this . canSendMessage ! = null ) { 
 writer . writeBool ( 26 , this . canSendMessage ) ; 
 } 
 + if ( this . isDeleted ! = null ) { 
 + writer . writeBool ( 27 , this . isDeleted ) ; 
 + } 
 if ( this . ext ! = null ) { 
 writer . writeObject ( 22 , this . ext ) ; 
 } 
 @ @ - 161 , 6 + 172 , 7 @ @ public class ApiGroup extends BserObject { 
 res + = " , isHidden = " + this . isHidden ; 
 res + = " , groupType = " + this . groupType ; 
 res + = " , canSendMessage = " + this . canSendMessage ; 
 + res + = " , isDeleted = " + this . isDeleted ; 
 res + = " , ext = " + this . ext ; 
 res + = " } " ; 
 return res ; 
 diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / ApiPeerSearchResult . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / ApiPeerSearchResult . java 
 index 2db3b2d . . a12c4a8 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / ApiPeerSearchResult . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / ApiPeerSearchResult . java 
 @ @ - 17 , 23 + 17 , 11 @ @ import java . util . ArrayList ; 
 public class ApiPeerSearchResult extends BserObject { 
 
 private ApiPeer peer ; 
 - private String title ; 
 - private String description ; 
 - private Integer membersCount ; 
 - private Long dateCreated ; 
 - private Integer creator ; 
 - private Boolean isPublic ; 
 - private Boolean isJoined ; 
 + private String optMatchString ; 
 
 - public ApiPeerSearchResult ( @ NotNull ApiPeer peer , @ NotNull String title , @ Nullable String description , @ Nullable Integer membersCount , @ Nullable Long dateCreated , @ Nullable Integer creator , @ Nullable Boolean isPublic , @ Nullable Boolean isJoined ) { 
 + public ApiPeerSearchResult ( @ NotNull ApiPeer peer , @ Nullable String optMatchString ) { 
 this . peer = peer ; 
 - this . title = title ; 
 - this . description = description ; 
 - this . membersCount = membersCount ; 
 - this . dateCreated = dateCreated ; 
 - this . creator = creator ; 
 - this . isPublic = isPublic ; 
 - this . isJoined = isJoined ; 
 + this . optMatchString = optMatchString ; 
 } 
 
 public ApiPeerSearchResult ( ) { 
 @ @ - 45 , 51 + 33 , 15 @ @ public class ApiPeerSearchResult extends BserObject { 
 return this . peer ; 
 } 
 
 - @ NotNull 
 - public String getTitle ( ) { 
 - return this . title ; 
 - } 
 - 
 @ Nullable 
 - public String getDescription ( ) { 
 - return this . description ; 
 - } 
 - 
 - @ Nullable 
 - public Integer getMembersCount ( ) { 
 - return this . membersCount ; 
 - } 
 - 
 - @ Nullable 
 - public Long getDateCreated ( ) { 
 - return this . dateCreated ; 
 - } 
 - 
 - @ Nullable 
 - public Integer getCreator ( ) { 
 - return this . creator ; 
 - } 
 - 
 - @ Nullable 
 - public Boolean isPublic ( ) { 
 - return this . isPublic ; 
 - } 
 - 
 - @ Nullable 
 - public Boolean isJoined ( ) { 
 - return this . isJoined ; 
 + public String getOptMatchString ( ) { 
 + return this . optMatchString ; 
 } 
 
 @ Override 
 public void parse ( BserValues values ) throws IOException { 
 this . peer = values . getObj ( 1 , new ApiPeer ( ) ) ; 
 - this . title = values . getString ( 2 ) ; 
 - this . description = values . optString ( 3 ) ; 
 - this . membersCount = values . optInt ( 4 ) ; 
 - this . dateCreated = values . optLong ( 5 ) ; 
 - this . creator = values . optInt ( 6 ) ; 
 - this . isPublic = values . optBool ( 7 ) ; 
 - this . isJoined = values . optBool ( 8 ) ; 
 + this . optMatchString = values . optString ( 3 ) ; 
 } 
 
 @ Override 
 @ @ - 98 , 27 + 50 , 8 @ @ public class ApiPeerSearchResult extends BserObject { 
 throw new IOException ( ) ; 
 } 
 writer . writeObject ( 1 , this . peer ) ; 
 - if ( this . title = = null ) { 
 - throw new IOException ( ) ; 
 - } 
 - writer . writeString ( 2 , this . title ) ; 
 - if ( this . description ! = null ) { 
 - writer . writeString ( 3 , this . description ) ; 
 - } 
 - if ( this . membersCount ! = null ) { 
 - writer . writeInt ( 4 , this . membersCount ) ; 
 - } 
 - if ( this . dateCreated ! = null ) { 
 - writer . writeLong ( 5 , this . dateCreated ) ; 
 - } 
 - if ( this . creator ! = null ) { 
 - writer . writeInt ( 6 , this . creator ) ; 
 - } 
 - if ( this . isPublic ! = null ) { 
 - writer . writeBool ( 7 , this . isPublic ) ; 
 - } 
 - if ( this . isJoined ! = null ) { 
 - writer . writeBool ( 8 , this . isJoined ) ; 
 + if ( this . optMatchString ! = null ) { 
 + writer . writeString ( 3 , this . optMatchString ) ; 
 } 
 } 
 
 @ @ - 126 , 12 + 59 , 7 @ @ public class ApiPeerSearchResult extends BserObject { 
 public String toString ( ) { 
 String res = " struct PeerSearchResult { " ; 
 res + = " peer = " + this . peer ; 
 - res + = " , title = " + this . title ; 
 - res + = " , description = " + this . description ; 
 - res + = " , membersCount = " + this . membersCount ; 
 - res + = " , dateCreated = " + this . dateCreated ; 
 - res + = " , creator = " + this . creator ; 
 - res + = " , isPublic = " + this . isPublic ; 
 + res + = " , optMatchString = " + this . optMatchString ; 
 res + = " } " ; 
 return res ; 
 } 
 diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / parser / UpdatesParser . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / parser / UpdatesParser . java 
 index a372a3c . . 9963a12 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / parser / UpdatesParser . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / parser / UpdatesParser . java 
 @ @ - 69 , 6 + 69 , 7 @ @ public class UpdatesParser extends BaseParser < Update > { 
 case 2647 : return UpdateGroupCanLeaveChanged . fromBytes ( payload ) ; 
 case 2648 : return UpdateGroupCanDeleteChanged . fromBytes ( payload ) ; 
 case 2641 : return UpdateGroupCanEditAdminSettingsChanged . fromBytes ( payload ) ; 
 + case 2658 : return UpdateGroupDeleted . fromBytes ( payload ) ; 
 case 2612 : return UpdateGroupMemberChanged . fromBytes ( payload ) ; 
 case 2615 : return UpdateGroupMembersBecameAsync . fromBytes ( payload ) ; 
 case 2614 : return UpdateGroupMembersUpdated . fromBytes ( payload ) ; 
 diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / updates / UpdateGroupDeleted . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / updates / UpdateGroupDeleted . java 
 new file mode 100644 
 index 0000000 . . f1603eb 
 - - - / dev / null 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / updates / UpdateGroupDeleted . java 
 @ @ - 0 , 0 + 1 , 61 @ @ 
 + package im . actor . core . api . updates ; 
 + / * 
 + * Generated by the Actor API Scheme generator . DO NOT EDIT ! 
 + * / 
 + 
 + import im . actor . runtime . bser . * ; 
 + import im . actor . runtime . collections . * ; 
 + import static im . actor . runtime . bser . Utils . * ; 
 + import im . actor . core . network . parser . * ; 
 + import org . jetbrains . annotations . Nullable ; 
 + import org . jetbrains . annotations . NotNull ; 
 + import com . google . j2objc . annotations . ObjectiveCName ; 
 + import java . io . IOException ; 
 + import java . util . List ; 
 + import java . util . ArrayList ; 
 + import im . actor . core . api . * ; 
 + 
 + public class UpdateGroupDeleted extends Update { 
 + 
 + public static final int HEADER = 0xa62 ; 
 + public static UpdateGroupDeleted fromBytes ( byte [ ] data ) throws IOException { 
 + return Bser . parse ( new UpdateGroupDeleted ( ) , data ) ; 
 + } 
 + 
 + private int groupId ; 
 + 
 + public UpdateGroupDeleted ( int groupId ) { 
 + this . groupId = groupId ; 
 + } 
 + 
 + public UpdateGroupDeleted ( ) { 
 + 
 + } 
 + 
 + public int getGroupId ( ) { 
 + return this . groupId ; 
 + } 
 + 
 + @ Override 
 + public void parse ( BserValues values ) throws IOException { 
 + this . groupId = values . getInt ( 1 ) ; 
 + } 
 + 
 + @ Override 
 + public void serialize ( BserWriter writer ) throws IOException { 
 + writer . writeInt ( 1 , this . groupId ) ; 
 + } 
 + 
 + @ Override 
 + public String toString ( ) { 
 + String res = " update GroupDeleted { " ; 
 + res + = " groupId = " + this . groupId ; 
 + res + = " } " ; 
 + return res ; 
 + } 
 + 
 + @ Override 
 + public int getHeaderKey ( ) { 
 + return HEADER ; 
 + } 
 + }

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / RequestDoCall . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / RequestDoCall . java 
 index dfa49f1 . . ea38082 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / RequestDoCall . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / RequestDoCall . java 
 @ @ - 24 , 10 + 24 , 16 @ @ public class RequestDoCall extends Request < ResponseDoCall > { 
 
 private ApiOutPeer peer ; 
 private Long timeout ; 
 + private Boolean isAudioOnlyCall ; 
 + private Boolean isVideoOnlyCall ; 
 + private Boolean isVideoPreferred ; 
 
 - public RequestDoCall ( @ NotNull ApiOutPeer peer , @ Nullable Long timeout ) { 
 + public RequestDoCall ( @ NotNull ApiOutPeer peer , @ Nullable Long timeout , @ Nullable Boolean isAudioOnlyCall , @ Nullable Boolean isVideoOnlyCall , @ Nullable Boolean isVideoPreferred ) { 
 this . peer = peer ; 
 this . timeout = timeout ; 
 + this . isAudioOnlyCall = isAudioOnlyCall ; 
 + this . isVideoOnlyCall = isVideoOnlyCall ; 
 + this . isVideoPreferred = isVideoPreferred ; 
 } 
 
 public RequestDoCall ( ) { 
 @ @ - 44 , 10 + 50 , 28 @ @ public class RequestDoCall extends Request < ResponseDoCall > { 
 return this . timeout ; 
 } 
 
 + @ Nullable 
 + public Boolean isAudioOnlyCall ( ) { 
 + return this . isAudioOnlyCall ; 
 + } 
 + 
 + @ Nullable 
 + public Boolean isVideoOnlyCall ( ) { 
 + return this . isVideoOnlyCall ; 
 + } 
 + 
 + @ Nullable 
 + public Boolean isVideoPreferred ( ) { 
 + return this . isVideoPreferred ; 
 + } 
 + 
 @ Override 
 public void parse ( BserValues values ) throws IOException { 
 this . peer = values . getObj ( 1 , new ApiOutPeer ( ) ) ; 
 this . timeout = values . optLong ( 2 ) ; 
 + this . isAudioOnlyCall = values . optBool ( 3 ) ; 
 + this . isVideoOnlyCall = values . optBool ( 4 ) ; 
 + this . isVideoPreferred = values . optBool ( 6 ) ; 
 } 
 
 @ Override 
 @ @ - 59 , 12 + 83 , 25 @ @ public class RequestDoCall extends Request < ResponseDoCall > { 
 if ( this . timeout ! = null ) { 
 writer . writeLong ( 2 , this . timeout ) ; 
 } 
 + if ( this . isAudioOnlyCall ! = null ) { 
 + writer . writeBool ( 3 , this . isAudioOnlyCall ) ; 
 + } 
 + if ( this . isVideoOnlyCall ! = null ) { 
 + writer . writeBool ( 4 , this . isVideoOnlyCall ) ; 
 + } 
 + if ( this . isVideoPreferred ! = null ) { 
 + writer . writeBool ( 6 , this . isVideoPreferred ) ; 
 + } 
 } 
 
 @ Override 
 public String toString ( ) { 
 String res = " rpc DoCall { " ; 
 res + = " peer = " + this . peer ; 
 + res + = " , timeout = " + this . timeout ; 
 + res + = " , isAudioOnlyCall = " + this . isAudioOnlyCall ; 
 + res + = " , isVideoOnlyCall = " + this . isVideoOnlyCall ; 
 + res + = " , isVideoPreferred = " + this . isVideoPreferred ; 
 res + = " } " ; 
 return res ; 
 } 
 diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / ResponseGetCallInfo . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / ResponseGetCallInfo . java 
 index 634ea3a . . daf246f 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / ResponseGetCallInfo . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / ResponseGetCallInfo . java 
 @ @ - 26 , 12 + 26 , 18 @ @ public class ResponseGetCallInfo extends Response { 
 private List < ApiGroupOutPeer > groups ; 
 private List < ApiUserOutPeer > users ; 
 private String eventBusId ; 
 + private Boolean isAudioOnlyCall ; 
 + private Boolean isVideoOnlyCall ; 
 + private Boolean isVideoPreferred ; 
 
 - public ResponseGetCallInfo ( @ NotNull ApiPeer peer , @ NotNull List < ApiGroupOutPeer > groups , @ NotNull List < ApiUserOutPeer > users , @ NotNull String eventBusId ) { 
 + public ResponseGetCallInfo ( @ NotNull ApiPeer peer , @ NotNull List < ApiGroupOutPeer > groups , @ NotNull List < ApiUserOutPeer > users , @ NotNull String eventBusId , @ Nullable Boolean isAudioOnlyCall , @ Nullable Boolean isVideoOnlyCall , @ Nullable Boolean isVideoPreferred ) { 
 this . peer = peer ; 
 this . groups = groups ; 
 this . users = users ; 
 this . eventBusId = eventBusId ; 
 + this . isAudioOnlyCall = isAudioOnlyCall ; 
 + this . isVideoOnlyCall = isVideoOnlyCall ; 
 + this . isVideoPreferred = isVideoPreferred ; 
 } 
 
 public ResponseGetCallInfo ( ) { 
 @ @ - 58 , 6 + 64 , 21 @ @ public class ResponseGetCallInfo extends Response { 
 return this . eventBusId ; 
 } 
 
 + @ Nullable 
 + public Boolean isAudioOnlyCall ( ) { 
 + return this . isAudioOnlyCall ; 
 + } 
 + 
 + @ Nullable 
 + public Boolean isVideoOnlyCall ( ) { 
 + return this . isVideoOnlyCall ; 
 + } 
 + 
 + @ Nullable 
 + public Boolean isVideoPreferred ( ) { 
 + return this . isVideoPreferred ; 
 + } 
 + 
 @ Override 
 public void parse ( BserValues values ) throws IOException { 
 this . peer = values . getObj ( 1 , new ApiPeer ( ) ) ; 
 @ @ - 72 , 6 + 93 , 9 @ @ public class ResponseGetCallInfo extends Response { 
 } 
 this . users = values . getRepeatedObj ( 3 , _ users ) ; 
 this . eventBusId = values . getString ( 4 ) ; 
 + this . isAudioOnlyCall = values . optBool ( 5 ) ; 
 + this . isVideoOnlyCall = values . optBool ( 6 ) ; 
 + this . isVideoPreferred = values . optBool ( 7 ) ; 
 } 
 
 @ Override 
 @ @ - 86 , 6 + 110 , 15 @ @ public class ResponseGetCallInfo extends Response { 
 throw new IOException ( ) ; 
 } 
 writer . writeString ( 4 , this . eventBusId ) ; 
 + if ( this . isAudioOnlyCall ! = null ) { 
 + writer . writeBool ( 5 , this . isAudioOnlyCall ) ; 
 + } 
 + if ( this . isVideoOnlyCall ! = null ) { 
 + writer . writeBool ( 6 , this . isVideoOnlyCall ) ; 
 + } 
 + if ( this . isVideoPreferred ! = null ) { 
 + writer . writeBool ( 7 , this . isVideoPreferred ) ; 
 + } 
 } 
 
 @ Override 
 diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / calls / CallActor . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / calls / CallActor . java 
 index 8f374e2 . . 53449fe 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / calls / CallActor . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / calls / CallActor . java 
 @ @ - 69 , 7 + 69 , 7 @ @ public class CallActor extends AbsCallActor { 
 public void preStart ( ) { 
 super . preStart ( ) ; 
 if ( isMaster ) { 
 - api ( new RequestDoCall ( buidOutPeer ( peer ) , CallBusActor . TIMEOUT ) ) . then ( responseDoCall - > { 
 + api ( new RequestDoCall ( buidOutPeer ( peer ) , CallBusActor . TIMEOUT , false , false , isVideoInitiallyEnabled ) ) . then ( responseDoCall - > { 
 callId = responseDoCall . getCallId ( ) ; 
 callBus . joinMasterBus ( responseDoCall . getEventBusId ( ) , responseDoCall . getDeviceId ( ) ) ; 
 callBus . changeVideoEnabled ( isVideoInitiallyEnabled ) ; 
 @ @ - 80 , 7 + 80 , 10 @ @ public class CallActor extends AbsCallActor { 
 api ( new RequestGetCallInfo ( callId ) ) . then ( responseGetCallInfo - > { 
 peer = convert ( responseGetCallInfo . getPeer ( ) ) ; 
 callBus . joinBus ( responseGetCallInfo . getEventBusId ( ) ) ; 
 - callBus . changeVideoEnabled ( isVideoInitiallyEnabled ) ; 
 + if ( responseGetCallInfo . isVideoPreferred ( ) ! = null ) { 
 + isVideoInitiallyEnabled = responseGetCallInfo . isVideoPreferred ( ) ; 
 + callBus . changeVideoEnabled ( isVideoInitiallyEnabled ) ; 
 + } 
 callVM = callViewModels . spawnNewIncomingVM ( callId , peer , isVideoInitiallyEnabled , CallState . RINGING ) ; 
 } ) . failure ( e - > self ( ) . send ( PoisonPill . INSTANCE ) ) ; 
 }
