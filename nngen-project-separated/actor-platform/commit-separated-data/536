BLEU SCORE: 0.26708679784499234

TEST MSG: chore ( android ) : rename images export dir
GENERATED MSG: fix ( android ) : fix getDelegatedFragment ( ) signature

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / preview / PictureActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / preview / PictureActivity . java < nl > index bca2a78 . . 5467857 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / preview / PictureActivity . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / preview / PictureActivity . java < nl > @ @ - 479 , 9 + 479 , 10 @ @ public class PictureActivity extends BaseActivity { < nl > Toast . makeText ( getActivity ( ) , R . string . toast _ no _ sdcard , Toast . LENGTH _ LONG ) . show ( ) ; < nl > } else { < nl > String externalPath = externalFile . getAbsolutePath ( ) ; < nl > - new File ( externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / " ) . mkdirs ( ) ; < nl > + String exportPathBase = externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " images " + " / " ; < nl > + new File ( exportPathBase ) . mkdirs ( ) ; < nl > try { < nl > - String exportPath = externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / " + ( fileName ! = null ? fileName : " exported " ) + " _ " + Randoms . randomId ( ) + " . jpg " ; < nl > + String exportPath = exportPathBase + ( fileName ! = null ? fileName : " exported " ) + " _ " + Randoms . randomId ( ) + " . jpg " ; < nl > Files . copy ( new File ( this . path ) , new File ( exportPath ) ) ; < nl > MediaScannerConnection . scanFile ( getActivity ( ) , new String [ ] { exportPath } , new String [ ] { " image / jpeg " } , null ) ; < nl > Toast . makeText ( getActivity ( ) , getString ( R . string . file _ saved ) + " " + exportPath , Toast . LENGTH _ LONG ) . show ( ) ;
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java < nl > index 4749abb . . 26e1a1b 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java < nl > @ @ - 423 , 15 + 423 , 15 @ @ public class ActorSDK { < nl > context . startActivity ( intent ) ; < nl > } < nl > < nl > - public < T extends android . support . v4 . app . Fragment > T getDelegatedFragment ( ActorIntent delegatedIntent , T baseFragment ) { < nl > - Class type = baseFragment . getClass ( ) . getSuperclass ( ) ; < nl > + public < T > T getDelegatedFragment ( ActorIntent delegatedIntent , android . support . v4 . app . Fragment baseFragment , Class < T > type ) { < nl > + < nl > if ( delegatedIntent ! = null & & < nl > delegatedIntent instanceof ActorIntentFragmentActivity & & < nl > ( ( ActorIntentFragmentActivity ) delegatedIntent ) . getFragment ( ) ! = null < nl > & & type . isInstance ( ( ( ActorIntentFragmentActivity ) delegatedIntent ) . getFragment ( ) ) ) { < nl > return ( T ) ( ( ActorIntentFragmentActivity ) delegatedIntent ) . getFragment ( ) ; < nl > } else { < nl > - return baseFragment ; < nl > + return ( T ) baseFragment ; < nl > } < nl > < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / auth / AuthActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / auth / AuthActivity . java < nl > index a3a060d . . 35428cb 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / auth / AuthActivity . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / auth / AuthActivity . java < nl > @ @ - 85 , 7 + 85 , 7 @ @ public class AuthActivity extends BaseFragmentActivity { < nl > switch ( state ) { < nl > case AUTH _ START : < nl > < nl > - signFragment = ActorSDK . sharedActor ( ) . getDelegatedFragment ( ActorSDK . sharedActor ( ) . getDelegate ( ) . getAuthStartIntent ( ) , new SignPhoneFragment ( ) ) ; < nl > + signFragment = ActorSDK . sharedActor ( ) . getDelegatedFragment ( ActorSDK . sharedActor ( ) . getDelegate ( ) . getAuthStartIntent ( ) , new SignPhoneFragment ( ) , BaseAuthFragment . class ) ; < nl > < nl > if ( signFragment instanceof SignPhoneFragment ) { < nl > authType = AUTH _ TYPE _ PHONE ;

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / preview / PictureActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / preview / PictureActivity . java 
 index bca2a78 . . 5467857 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / preview / PictureActivity . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / preview / PictureActivity . java 
 @ @ - 479 , 9 + 479 , 10 @ @ public class PictureActivity extends BaseActivity { 
 Toast . makeText ( getActivity ( ) , R . string . toast _ no _ sdcard , Toast . LENGTH _ LONG ) . show ( ) ; 
 } else { 
 String externalPath = externalFile . getAbsolutePath ( ) ; 
 - new File ( externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / " ) . mkdirs ( ) ; 
 + String exportPathBase = externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " images " + " / " ; 
 + new File ( exportPathBase ) . mkdirs ( ) ; 
 try { 
 - String exportPath = externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / " + ( fileName ! = null ? fileName : " exported " ) + " _ " + Randoms . randomId ( ) + " . jpg " ; 
 + String exportPath = exportPathBase + ( fileName ! = null ? fileName : " exported " ) + " _ " + Randoms . randomId ( ) + " . jpg " ; 
 Files . copy ( new File ( this . path ) , new File ( exportPath ) ) ; 
 MediaScannerConnection . scanFile ( getActivity ( ) , new String [ ] { exportPath } , new String [ ] { " image / jpeg " } , null ) ; 
 Toast . makeText ( getActivity ( ) , getString ( R . string . file _ saved ) + " " + exportPath , Toast . LENGTH _ LONG ) . show ( ) ;

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java 
 index 4749abb . . 26e1a1b 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java 
 @ @ - 423 , 15 + 423 , 15 @ @ public class ActorSDK { 
 context . startActivity ( intent ) ; 
 } 
 
 - public < T extends android . support . v4 . app . Fragment > T getDelegatedFragment ( ActorIntent delegatedIntent , T baseFragment ) { 
 - Class type = baseFragment . getClass ( ) . getSuperclass ( ) ; 
 + public < T > T getDelegatedFragment ( ActorIntent delegatedIntent , android . support . v4 . app . Fragment baseFragment , Class < T > type ) { 
 + 
 if ( delegatedIntent ! = null & & 
 delegatedIntent instanceof ActorIntentFragmentActivity & & 
 ( ( ActorIntentFragmentActivity ) delegatedIntent ) . getFragment ( ) ! = null 
 & & type . isInstance ( ( ( ActorIntentFragmentActivity ) delegatedIntent ) . getFragment ( ) ) ) { 
 return ( T ) ( ( ActorIntentFragmentActivity ) delegatedIntent ) . getFragment ( ) ; 
 } else { 
 - return baseFragment ; 
 + return ( T ) baseFragment ; 
 } 
 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / auth / AuthActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / auth / AuthActivity . java 
 index a3a060d . . 35428cb 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / auth / AuthActivity . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / auth / AuthActivity . java 
 @ @ - 85 , 7 + 85 , 7 @ @ public class AuthActivity extends BaseFragmentActivity { 
 switch ( state ) { 
 case AUTH _ START : 
 
 - signFragment = ActorSDK . sharedActor ( ) . getDelegatedFragment ( ActorSDK . sharedActor ( ) . getDelegate ( ) . getAuthStartIntent ( ) , new SignPhoneFragment ( ) ) ; 
 + signFragment = ActorSDK . sharedActor ( ) . getDelegatedFragment ( ActorSDK . sharedActor ( ) . getDelegate ( ) . getAuthStartIntent ( ) , new SignPhoneFragment ( ) , BaseAuthFragment . class ) ; 
 
 if ( signFragment instanceof SignPhoneFragment ) { 
 authType = AUTH _ TYPE _ PHONE ;
