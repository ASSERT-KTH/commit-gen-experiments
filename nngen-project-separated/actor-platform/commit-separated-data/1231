BLEU SCORE: 0.23229101174398836

TEST MSG: fix ( iOS ) : fix change icons when typing
GENERATED MSG: fix ( iOS ) : fix sticker button and open sticker keyboard if predictive mode ( on )

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift < nl > index a57f360 . . a7b5601 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift < nl > @ @ - 381 , 24 + 381 , 16 @ @ class ConversationViewController : AAConversationContentController , UIDocumentMen < nl > } < nl > < nl > } else { < nl > - self . stickersButton . hidden = false < nl > - / / if ( self . audioButton . hidden ) { < nl > - / / < nl > - / / self . rightButton . tintColor = appStyle . chatSendColor < nl > - / / self . rightButton . setImage ( UIImage . tinted ( " aa _ keyboard " , color : appStyle . chatAttachColor ) , forState : UIControlState . Normal ) < nl > - / / self . rightButton . setTitle ( " " , forState : UIControlState . Normal ) < nl > - / / self . rightButton . enabled = true < nl > - / / < nl > - / / } else { < nl > - / / < nl > - / / self . rightButton . tintColor = appStyle . chatSendColor < nl > - / / self . rightButton . setImage ( UIImage . tinted ( " aa _ keyboard " , color : appStyle . chatAttachColor ) , forState : UIControlState . Normal ) < nl > - / / self . rightButton . setTitle ( " " , forState : UIControlState . Normal ) < nl > - / / self . rightButton . enabled = true < nl > - / / < nl > - / / } < nl > < nl > - self . micOn = true < nl > + self . stickersButton . hidden = false < nl > + if ( self . micOn = = false ) { < nl > + < nl > + self . rightButton . tintColor = appStyle . chatAttachColor < nl > + self . rightButton . setImage ( UIImage . bundled ( " aa _ micbutton " ) , forState : UIControlState . Normal ) < nl > + self . rightButton . setTitle ( " " , forState : UIControlState . Normal ) < nl > + self . rightButton . enabled = true < nl > + < nl > + } < nl > < nl > } < nl > < nl > @ @ - 417 , 9 + 409 , 11 @ @ class ConversationViewController : AAConversationContentController , UIDocumentMen < nl > super . didPressRightButton ( sender ) < nl > < nl > } else { < nl > - < nl > + < nl > if ( self . audioButton . hidden ) { < nl > - / / self . textView . resignFirstResponder ( ) < nl > + self . textView . resignFirstResponder ( ) < nl > + < nl > + self . micOn = true < nl > < nl > self . rightButton . tintColor = appStyle . chatAttachColor < nl > self . rightButton . setImage ( UIImage . bundled ( " keyboard _ button " ) , forState : UIControlState . Normal ) < nl > @ @ - 436 , 6 + 430 , 9 @ @ class ConversationViewController : AAConversationContentController , UIDocumentMen < nl > < nl > < nl > } else { < nl > + < nl > + self . micOn = false < nl > + < nl > self . audioButton . hidden = true ; < nl > < nl > self . rightButton . tintColor = appStyle . chatAttachColor
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift < nl > index 1a03d01 . . 05b8c87 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift < nl > @ @ - 432 , 6 + 432 , 8 @ @ class ConversationViewController : AAConversationContentController , UIDocumentMen < nl > self . audioButton . frame = textView . frame < nl > self . audioButton . hidden = false ; < nl > < nl > + self . stickersButton . hidden = true ; < nl > + < nl > < nl > } else { < nl > self . audioButton . hidden = true ; < nl > @ @ - 443 , 6 + 445 , 8 @ @ class ConversationViewController : AAConversationContentController , UIDocumentMen < nl > < nl > self . textInputbar . layoutIfNeeded ( ) < nl > self . rightButton . layoutIfNeeded ( ) < nl > + < nl > + self . stickersButton . hidden = false < nl > } < nl > < nl > } < nl > @ @ - 759 , 19 + 763 , 23 @ @ class ConversationViewController : AAConversationContentController , UIDocumentMen < nl > < nl > func changeKeyboard ( ) { < nl > < nl > - self . stickersView . loadStickers ( ) < nl > < nl > if self . stickersOpen = = false { < nl > + self . stickersView . loadStickers ( ) < nl > < nl > - self . textInputbar . textView . becomeFirstResponder ( ) < nl > + / / self . textInputbar . textView . becomeFirstResponder ( ) < nl > self . textInputbar . textView . inputView = self . stickersView < nl > self . textInputbar . textView . refreshFirstResponder ( ) < nl > self . textInputbar . textView . refreshInputViews ( ) < nl > + self . textInputbar . textView . becomeFirstResponder ( ) < nl > < nl > self . stickersButton . setImage ( UIImage . bundled ( " keyboard _ button " ) , forState : UIControlState . Normal ) < nl > < nl > self . stickersOpen = true < nl > < nl > + self . textInputbar . layoutIfNeeded ( ) < nl > + self . view . layoutIfNeeded ( ) < nl > + < nl > < nl > } else { < nl > < nl > @ @ - 779 , 11 + 787 , 15 @ @ class ConversationViewController : AAConversationContentController , UIDocumentMen < nl > self . textInputbar . textView . inputView = nil < nl > self . textInputbar . textView . refreshFirstResponder ( ) < nl > self . textInputbar . textView . refreshInputViews ( ) < nl > + self . textInputbar . textView . becomeFirstResponder ( ) < nl > < nl > self . stickersButton . setImage ( UIImage . bundled ( " sticker _ button " ) , forState : UIControlState . Normal ) < nl > < nl > self . stickersOpen = false < nl > < nl > + self . textInputbar . layoutIfNeeded ( ) < nl > + self . view . layoutIfNeeded ( ) < nl > + < nl > } < nl > < nl > }

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift 
 index a57f360 . . a7b5601 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift 
 @ @ - 381 , 24 + 381 , 16 @ @ class ConversationViewController : AAConversationContentController , UIDocumentMen 
 } 
 
 } else { 
 - self . stickersButton . hidden = false 
 - / / if ( self . audioButton . hidden ) { 
 - / / 
 - / / self . rightButton . tintColor = appStyle . chatSendColor 
 - / / self . rightButton . setImage ( UIImage . tinted ( " aa _ keyboard " , color : appStyle . chatAttachColor ) , forState : UIControlState . Normal ) 
 - / / self . rightButton . setTitle ( " " , forState : UIControlState . Normal ) 
 - / / self . rightButton . enabled = true 
 - / / 
 - / / } else { 
 - / / 
 - / / self . rightButton . tintColor = appStyle . chatSendColor 
 - / / self . rightButton . setImage ( UIImage . tinted ( " aa _ keyboard " , color : appStyle . chatAttachColor ) , forState : UIControlState . Normal ) 
 - / / self . rightButton . setTitle ( " " , forState : UIControlState . Normal ) 
 - / / self . rightButton . enabled = true 
 - / / 
 - / / } 
 
 - self . micOn = true 
 + self . stickersButton . hidden = false 
 + if ( self . micOn = = false ) { 
 + 
 + self . rightButton . tintColor = appStyle . chatAttachColor 
 + self . rightButton . setImage ( UIImage . bundled ( " aa _ micbutton " ) , forState : UIControlState . Normal ) 
 + self . rightButton . setTitle ( " " , forState : UIControlState . Normal ) 
 + self . rightButton . enabled = true 
 + 
 + } 
 
 } 
 
 @ @ - 417 , 9 + 409 , 11 @ @ class ConversationViewController : AAConversationContentController , UIDocumentMen 
 super . didPressRightButton ( sender ) 
 
 } else { 
 - 
 + 
 if ( self . audioButton . hidden ) { 
 - / / self . textView . resignFirstResponder ( ) 
 + self . textView . resignFirstResponder ( ) 
 + 
 + self . micOn = true 
 
 self . rightButton . tintColor = appStyle . chatAttachColor 
 self . rightButton . setImage ( UIImage . bundled ( " keyboard _ button " ) , forState : UIControlState . Normal ) 
 @ @ - 436 , 6 + 430 , 9 @ @ class ConversationViewController : AAConversationContentController , UIDocumentMen 
 
 
 } else { 
 + 
 + self . micOn = false 
 + 
 self . audioButton . hidden = true ; 
 
 self . rightButton . tintColor = appStyle . chatAttachColor

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift 
 index 1a03d01 . . 05b8c87 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift 
 @ @ - 432 , 6 + 432 , 8 @ @ class ConversationViewController : AAConversationContentController , UIDocumentMen 
 self . audioButton . frame = textView . frame 
 self . audioButton . hidden = false ; 
 
 + self . stickersButton . hidden = true ; 
 + 
 
 } else { 
 self . audioButton . hidden = true ; 
 @ @ - 443 , 6 + 445 , 8 @ @ class ConversationViewController : AAConversationContentController , UIDocumentMen 
 
 self . textInputbar . layoutIfNeeded ( ) 
 self . rightButton . layoutIfNeeded ( ) 
 + 
 + self . stickersButton . hidden = false 
 } 
 
 } 
 @ @ - 759 , 19 + 763 , 23 @ @ class ConversationViewController : AAConversationContentController , UIDocumentMen 
 
 func changeKeyboard ( ) { 
 
 - self . stickersView . loadStickers ( ) 
 
 if self . stickersOpen = = false { 
 + self . stickersView . loadStickers ( ) 
 
 - self . textInputbar . textView . becomeFirstResponder ( ) 
 + / / self . textInputbar . textView . becomeFirstResponder ( ) 
 self . textInputbar . textView . inputView = self . stickersView 
 self . textInputbar . textView . refreshFirstResponder ( ) 
 self . textInputbar . textView . refreshInputViews ( ) 
 + self . textInputbar . textView . becomeFirstResponder ( ) 
 
 self . stickersButton . setImage ( UIImage . bundled ( " keyboard _ button " ) , forState : UIControlState . Normal ) 
 
 self . stickersOpen = true 
 
 + self . textInputbar . layoutIfNeeded ( ) 
 + self . view . layoutIfNeeded ( ) 
 + 
 
 } else { 
 
 @ @ - 779 , 11 + 787 , 15 @ @ class ConversationViewController : AAConversationContentController , UIDocumentMen 
 self . textInputbar . textView . inputView = nil 
 self . textInputbar . textView . refreshFirstResponder ( ) 
 self . textInputbar . textView . refreshInputViews ( ) 
 + self . textInputbar . textView . becomeFirstResponder ( ) 
 
 self . stickersButton . setImage ( UIImage . bundled ( " sticker _ button " ) , forState : UIControlState . Normal ) 
 
 self . stickersOpen = false 
 
 + self . textInputbar . layoutIfNeeded ( ) 
 + self . view . layoutIfNeeded ( ) 
 + 
 } 
 
 }
