BLEU SCORE: 0.1760870361361878

TEST MSG: chore ( android ) : choose push type in delegate
GENERATED MSG: fix ( android ) : doc load percents color , emoji keyboard start page

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java < nl > index 65dbbff . . 06000c9 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java < nl > @ @ - 15 , 8 + 15 , 6 @ @ import com . facebook . drawee . backends . pipeline . Fresco ; < nl > < nl > import org . jetbrains . annotations . NotNull ; < nl > < nl > - import java . util . ArrayList ; < nl > - import java . util . List ; < nl > import java . util . Locale ; < nl > import java . util . TimeZone ; < nl > < nl > @ @ - 25 , 11 + 23 , 9 @ @ import im . actor . core . ApiConfiguration ; < nl > import im . actor . core . ConfigurationBuilder ; < nl > import im . actor . core . DeviceCategory ; < nl > import im . actor . core . PlatformType ; < nl > - import im . actor . core . entity . content . AbsContent ; < nl > import im . actor . core . modules . events . IncomingCall ; < nl > import im . actor . core . modules . internal . CallsModule ; < nl > import im . actor . runtime . Log ; < nl > - import im . actor . runtime . actors . ActorContext ; < nl > import im . actor . runtime . android . view . BindedViewHolder ; < nl > import im . actor . runtime . eventbus . BusSubscriber ; < nl > import im . actor . runtime . eventbus . Event ; < nl > @ @ - 37 , 7 + 33 , 6 @ @ import im . actor . sdk . controllers . activity . ActorMainActivity ; < nl > import im . actor . sdk . controllers . conversation . messages . MessageHolder ; < nl > import im . actor . sdk . controllers . conversation . messages . MessagesAdapter ; < nl > import im . actor . sdk . controllers . fragment . auth . AuthActivity ; < nl > - import im . actor . sdk . controllers . fragment . dialogs . DialogHolder ; < nl > import im . actor . sdk . controllers . fragment . settings . MyProfileActivity ; < nl > import im . actor . sdk . core . AndroidNotifications ; < nl > import im . actor . sdk . core . AndroidPhoneBook ; < nl > @ @ - 253 , 7 + 248 , 7 @ @ public class ActorSDK { < nl > / / Actor Push < nl > / / < nl > < nl > - if ( actorPushEndpoint ! = null ) { < nl > + if ( actorPushEndpoint ! = null & & delegate . useActorPush ( ) ) { < nl > ActorPushRegister . registerForPush ( application , actorPushEndpoint , new ActorPushRegister . Callback ( ) { < nl > @ Override < nl > public void onRegistered ( String endpoint ) { < nl > @ @ - 268 , 8 + 263 , 8 @ @ public class ActorSDK { < nl > / / < nl > < nl > try { < nl > - final ActorPushManager pushManager = ( ActorPushManager ) Class . forName ( " im . actor . push . PushManager " ) . newInstance ( ) ; < nl > - if ( pushId ! = 0 ) { < nl > + if ( pushId ! = 0 & & ! delegate . useActorPush ( ) ) { < nl > + final ActorPushManager pushManager = ( ActorPushManager ) Class . forName ( " im . actor . push . PushManager " ) . newInstance ( ) ; < nl > pushManager . registerPush ( application ) ; < nl > } < nl > } catch ( Exception e ) { < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java < nl > index 658b26d . . 0948fe9 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java < nl > @ @ - 117 , 4 + 117 , 6 @ @ public interface ActorSDKDelegate { < nl > ActorSettingsCategory [ ] getAfterSettingsCategories ( ) ; < nl > < nl > MessageHolder getCustomMessageViewHolder ( int id , MessagesAdapter messagesAdapter , ViewGroup viewGroup ) ; < nl > + < nl > + boolean useActorPush ( ) ; < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java < nl > index 3274a45 . . 0b0a3cd 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java < nl > @ @ - 162 , 5 + 162 , 10 @ @ public class BaseActorSDKDelegate implements ActorSDKDelegate { < nl > return null ; < nl > } < nl > < nl > + @ Override < nl > + public boolean useActorPush ( ) { < nl > + return true ; < nl > + } < nl > + < nl > < nl > }
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > index df016db . . eede092 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > + + + b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > @ @ - 4 , 6 + 4 , 8 @ @ import android . graphics . Color ; < nl > import android . view . View ; < nl > import android . widget . CheckBox ; < nl > < nl > + import java . util . ArrayList ; < nl > + < nl > import im . actor . sdk . ActorSDK ; < nl > import im . actor . sdk . ActorSDKApplication ; < nl > import im . actor . sdk . ActorStyle ; < nl > @ @ - 23 , 6 + 25 , 11 @ @ public class Application extends ActorSDKApplication { < nl > ActorSDK . sharedActor ( ) . setDelegate ( new ActorSDKDelegate ( ) ) ; < nl > ActorSDK . sharedActor ( ) . setPushId ( 209133700967L ) ; < nl > < nl > + / / ArrayList < String > endpoints = new ArrayList < String > ( ) ; < nl > + / / endpoints . add ( " foo1 " ) ; < nl > + / / endpoints . add ( " foo2 " ) ; < nl > + / / ActorSDK . sharedActor ( ) . setEndpoints ( endpoints ) ; < nl > + < nl > ActorStyle style = ActorSDK . sharedActor ( ) . style ; < nl > style . setMainColor ( Color . parseColor ( " # 529a88 " ) ) ; < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / DocHolder . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / DocHolder . java < nl > index 822c736 . . 3b0d483 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / DocHolder . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / DocHolder . java < nl > @ @ - 140 , 7 + 140 , 7 @ @ public class DocHolder extends MessageHolder { < nl > progressView = ( CircularView ) itemView . findViewById ( R . id . progressView ) ; < nl > progressView . setColor ( ActorSDK . sharedActor ( ) . style . getMainColor ( ) ) ; < nl > progressValue = ( TextView ) itemView . findViewById ( R . id . progressValue ) ; < nl > - progressValue . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextPrimaryInvColor ( ) ) ; < nl > + progressValue . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextSecondaryColor ( ) ) ; < nl > } < nl > < nl > @ Override < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / keyboard / emoji / EmojiKeyboard . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / keyboard / emoji / EmojiKeyboard . java < nl > index 5d6b852 . . 96d3b82 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / keyboard / emoji / EmojiKeyboard . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / keyboard / emoji / EmojiKeyboard . java < nl > @ @ - 34 , 6 + 34 , 7 @ @ import im . actor . sdk . view . emoji . keyboard . emoji . smiles . SmilePagerAdapter ; < nl > import im . actor . sdk . util . Screen ; < nl > import im . actor . sdk . view . MaterialInterpolator ; < nl > import im . actor . sdk . view . PagerSlidingTabStrip ; < nl > + import im . actor . sdk . view . emoji . smiles . SmilesPack ; < nl > < nl > public class EmojiKeyboard extends BaseKeyboard implements OnSmileClickListener , < nl > OnBackspaceClickListener { < nl > @ @ - 110 , 6 + 111 , 11 @ @ public class EmojiKeyboard extends BaseKeyboard implements OnSmileClickListener , < nl > / / emojiPagerIndicator . setViewPager ( emojiPager ) ; < nl > / / } < nl > / / } , BINDING _ DELAY ) ; < nl > + < nl > + if ( SmilesPack . getRecent ( ) . size ( ) = = 0 ) { < nl > + emojiPager . setCurrentItem ( 1 ) ; < nl > + } < nl > + < nl > return emojiPagerView ; < nl > }

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java 
 index 65dbbff . . 06000c9 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java 
 @ @ - 15 , 8 + 15 , 6 @ @ import com . facebook . drawee . backends . pipeline . Fresco ; 
 
 import org . jetbrains . annotations . NotNull ; 
 
 - import java . util . ArrayList ; 
 - import java . util . List ; 
 import java . util . Locale ; 
 import java . util . TimeZone ; 
 
 @ @ - 25 , 11 + 23 , 9 @ @ import im . actor . core . ApiConfiguration ; 
 import im . actor . core . ConfigurationBuilder ; 
 import im . actor . core . DeviceCategory ; 
 import im . actor . core . PlatformType ; 
 - import im . actor . core . entity . content . AbsContent ; 
 import im . actor . core . modules . events . IncomingCall ; 
 import im . actor . core . modules . internal . CallsModule ; 
 import im . actor . runtime . Log ; 
 - import im . actor . runtime . actors . ActorContext ; 
 import im . actor . runtime . android . view . BindedViewHolder ; 
 import im . actor . runtime . eventbus . BusSubscriber ; 
 import im . actor . runtime . eventbus . Event ; 
 @ @ - 37 , 7 + 33 , 6 @ @ import im . actor . sdk . controllers . activity . ActorMainActivity ; 
 import im . actor . sdk . controllers . conversation . messages . MessageHolder ; 
 import im . actor . sdk . controllers . conversation . messages . MessagesAdapter ; 
 import im . actor . sdk . controllers . fragment . auth . AuthActivity ; 
 - import im . actor . sdk . controllers . fragment . dialogs . DialogHolder ; 
 import im . actor . sdk . controllers . fragment . settings . MyProfileActivity ; 
 import im . actor . sdk . core . AndroidNotifications ; 
 import im . actor . sdk . core . AndroidPhoneBook ; 
 @ @ - 253 , 7 + 248 , 7 @ @ public class ActorSDK { 
 / / Actor Push 
 / / 
 
 - if ( actorPushEndpoint ! = null ) { 
 + if ( actorPushEndpoint ! = null & & delegate . useActorPush ( ) ) { 
 ActorPushRegister . registerForPush ( application , actorPushEndpoint , new ActorPushRegister . Callback ( ) { 
 @ Override 
 public void onRegistered ( String endpoint ) { 
 @ @ - 268 , 8 + 263 , 8 @ @ public class ActorSDK { 
 / / 
 
 try { 
 - final ActorPushManager pushManager = ( ActorPushManager ) Class . forName ( " im . actor . push . PushManager " ) . newInstance ( ) ; 
 - if ( pushId ! = 0 ) { 
 + if ( pushId ! = 0 & & ! delegate . useActorPush ( ) ) { 
 + final ActorPushManager pushManager = ( ActorPushManager ) Class . forName ( " im . actor . push . PushManager " ) . newInstance ( ) ; 
 pushManager . registerPush ( application ) ; 
 } 
 } catch ( Exception e ) { 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java 
 index 658b26d . . 0948fe9 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java 
 @ @ - 117 , 4 + 117 , 6 @ @ public interface ActorSDKDelegate { 
 ActorSettingsCategory [ ] getAfterSettingsCategories ( ) ; 
 
 MessageHolder getCustomMessageViewHolder ( int id , MessagesAdapter messagesAdapter , ViewGroup viewGroup ) ; 
 + 
 + boolean useActorPush ( ) ; 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java 
 index 3274a45 . . 0b0a3cd 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java 
 @ @ - 162 , 5 + 162 , 10 @ @ public class BaseActorSDKDelegate implements ActorSDKDelegate { 
 return null ; 
 } 
 
 + @ Override 
 + public boolean useActorPush ( ) { 
 + return true ; 
 + } 
 + 
 
 }

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 index df016db . . eede092 100644 
 - - - a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 + + + b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 @ @ - 4 , 6 + 4 , 8 @ @ import android . graphics . Color ; 
 import android . view . View ; 
 import android . widget . CheckBox ; 
 
 + import java . util . ArrayList ; 
 + 
 import im . actor . sdk . ActorSDK ; 
 import im . actor . sdk . ActorSDKApplication ; 
 import im . actor . sdk . ActorStyle ; 
 @ @ - 23 , 6 + 25 , 11 @ @ public class Application extends ActorSDKApplication { 
 ActorSDK . sharedActor ( ) . setDelegate ( new ActorSDKDelegate ( ) ) ; 
 ActorSDK . sharedActor ( ) . setPushId ( 209133700967L ) ; 
 
 + / / ArrayList < String > endpoints = new ArrayList < String > ( ) ; 
 + / / endpoints . add ( " foo1 " ) ; 
 + / / endpoints . add ( " foo2 " ) ; 
 + / / ActorSDK . sharedActor ( ) . setEndpoints ( endpoints ) ; 
 + 
 ActorStyle style = ActorSDK . sharedActor ( ) . style ; 
 style . setMainColor ( Color . parseColor ( " # 529a88 " ) ) ; 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / DocHolder . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / DocHolder . java 
 index 822c736 . . 3b0d483 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / DocHolder . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / DocHolder . java 
 @ @ - 140 , 7 + 140 , 7 @ @ public class DocHolder extends MessageHolder { 
 progressView = ( CircularView ) itemView . findViewById ( R . id . progressView ) ; 
 progressView . setColor ( ActorSDK . sharedActor ( ) . style . getMainColor ( ) ) ; 
 progressValue = ( TextView ) itemView . findViewById ( R . id . progressValue ) ; 
 - progressValue . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextPrimaryInvColor ( ) ) ; 
 + progressValue . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextSecondaryColor ( ) ) ; 
 } 
 
 @ Override 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / keyboard / emoji / EmojiKeyboard . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / keyboard / emoji / EmojiKeyboard . java 
 index 5d6b852 . . 96d3b82 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / keyboard / emoji / EmojiKeyboard . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / emoji / keyboard / emoji / EmojiKeyboard . java 
 @ @ - 34 , 6 + 34 , 7 @ @ import im . actor . sdk . view . emoji . keyboard . emoji . smiles . SmilePagerAdapter ; 
 import im . actor . sdk . util . Screen ; 
 import im . actor . sdk . view . MaterialInterpolator ; 
 import im . actor . sdk . view . PagerSlidingTabStrip ; 
 + import im . actor . sdk . view . emoji . smiles . SmilesPack ; 
 
 public class EmojiKeyboard extends BaseKeyboard implements OnSmileClickListener , 
 OnBackspaceClickListener { 
 @ @ - 110 , 6 + 111 , 11 @ @ public class EmojiKeyboard extends BaseKeyboard implements OnSmileClickListener , 
 / / emojiPagerIndicator . setViewPager ( emojiPager ) ; 
 / / } 
 / / } , BINDING _ DELAY ) ; 
 + 
 + if ( SmilesPack . getRecent ( ) . size ( ) = = 0 ) { 
 + emojiPager . setCurrentItem ( 1 ) ; 
 + } 
 + 
 return emojiPagerView ; 
 }
