BLEU SCORE: 0.392814650900513

TEST MSG: fix ( android ) : rebind chat for notification intent
GENERATED MSG: fix ( android ) : forward text crash fix

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > index e73d12e . . 5edd333 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > @ @ - 95 , 16 + 95 , 26 @ @ public class ChatActivity extends BaseActivity { < nl > / / < nl > < nl > if ( saveInstance = = null ) { < nl > - Peer peer = Peer . fromUniqueId ( getIntent ( ) . getExtras ( ) . getLong ( EXTRA _ CHAT _ PEER ) ) ; < nl > - chatFragment = ActorSDK . sharedActor ( ) . getDelegate ( ) . fragmentForChat ( peer ) ; < nl > - if ( chatFragment = = null ) { < nl > - chatFragment = ChatFragment . create ( peer ) ; < nl > - } < nl > - getSupportFragmentManager ( ) . beginTransaction ( ) < nl > - . add ( R . id . chatFragment , chatFragment ) < nl > - . commitNow ( ) ; < nl > - quote = getIntent ( ) . getStringExtra ( " forward _ text _ raw " ) ; < nl > + handleIntent ( getIntent ( ) ) ; < nl > + } < nl > + } < nl > + < nl > + @ Override < nl > + protected void onNewIntent ( Intent intent ) { < nl > + super . onNewIntent ( intent ) ; < nl > + handleIntent ( intent ) ; < nl > + } < nl > + < nl > + protected void handleIntent ( Intent intent ) { < nl > + Peer peer = Peer . fromUniqueId ( intent . getExtras ( ) . getLong ( EXTRA _ CHAT _ PEER ) ) ; < nl > + chatFragment = ActorSDK . sharedActor ( ) . getDelegate ( ) . fragmentForChat ( peer ) ; < nl > + if ( chatFragment = = null ) { < nl > + chatFragment = ChatFragment . create ( peer ) ; < nl > } < nl > + getSupportFragmentManager ( ) . beginTransaction ( ) < nl > + . add ( R . id . chatFragment , chatFragment ) < nl > + . commitNow ( ) ; < nl > + quote = intent . getStringExtra ( " forward _ text _ raw " ) ; < nl > } < nl > < nl > @ Override
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > index ef30244 . . f740e82 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > @ @ - 17 , 6 + 17 , 8 @ @ import im . actor . sdk . controllers . activity . BaseActivity ; < nl > public class ChatActivity extends BaseActivity { < nl > < nl > public static final String EXTRA _ CHAT _ PEER = " chat _ peer " ; < nl > + private String quote ; < nl > + private ChatFragment chatFragment ; < nl > < nl > public static Intent build ( Peer peer , Context context ) { < nl > final Intent intent = new Intent ( context , ChatActivity . class ) ; < nl > @ @ - 42 , 14 + 44 , 11 @ @ public class ChatActivity extends BaseActivity { < nl > / / < nl > if ( saveInstance = = null ) { < nl > Peer peer = Peer . fromUniqueId ( getIntent ( ) . getExtras ( ) . getLong ( EXTRA _ CHAT _ PEER ) ) ; < nl > - ChatFragment chatFragment = ChatFragment . create ( peer ) ; < nl > + chatFragment = ChatFragment . create ( peer ) ; < nl > getSupportFragmentManager ( ) . beginTransaction ( ) < nl > . add ( R . id . chatFragment , chatFragment ) < nl > . commitNow ( ) ; < nl > - String quote = getIntent ( ) . getStringExtra ( " forward _ text _ raw " ) ; < nl > - if ( quote ! = null ) { < nl > - chatFragment . onMessageQuote ( quote ) ; < nl > - } < nl > + quote = getIntent ( ) . getStringExtra ( " forward _ text _ raw " ) ; < nl > } < nl > } < nl > < nl > @ @ - 67 , 6 + 66 , 15 @ @ public class ChatActivity extends BaseActivity { < nl > } < nl > < nl > @ Override < nl > + protected void onResume ( ) { < nl > + super . onResume ( ) ; < nl > + if ( quote ! = null ) { < nl > + chatFragment . onMessageQuote ( quote ) ; < nl > + quote = null ; < nl > + } < nl > + } < nl > + < nl > + @ Override < nl > public ActionMode startSupportActionMode ( @ NonNull final ActionMode . Callback callback ) { < nl > / / Fix for bug https : / / code . google . com / p / android / issues / detail ? id = 159527 < nl > final ActionMode mode = super . startSupportActionMode ( callback ) ;

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 index e73d12e . . 5edd333 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 @ @ - 95 , 16 + 95 , 26 @ @ public class ChatActivity extends BaseActivity { 
 / / 
 
 if ( saveInstance = = null ) { 
 - Peer peer = Peer . fromUniqueId ( getIntent ( ) . getExtras ( ) . getLong ( EXTRA _ CHAT _ PEER ) ) ; 
 - chatFragment = ActorSDK . sharedActor ( ) . getDelegate ( ) . fragmentForChat ( peer ) ; 
 - if ( chatFragment = = null ) { 
 - chatFragment = ChatFragment . create ( peer ) ; 
 - } 
 - getSupportFragmentManager ( ) . beginTransaction ( ) 
 - . add ( R . id . chatFragment , chatFragment ) 
 - . commitNow ( ) ; 
 - quote = getIntent ( ) . getStringExtra ( " forward _ text _ raw " ) ; 
 + handleIntent ( getIntent ( ) ) ; 
 + } 
 + } 
 + 
 + @ Override 
 + protected void onNewIntent ( Intent intent ) { 
 + super . onNewIntent ( intent ) ; 
 + handleIntent ( intent ) ; 
 + } 
 + 
 + protected void handleIntent ( Intent intent ) { 
 + Peer peer = Peer . fromUniqueId ( intent . getExtras ( ) . getLong ( EXTRA _ CHAT _ PEER ) ) ; 
 + chatFragment = ActorSDK . sharedActor ( ) . getDelegate ( ) . fragmentForChat ( peer ) ; 
 + if ( chatFragment = = null ) { 
 + chatFragment = ChatFragment . create ( peer ) ; 
 } 
 + getSupportFragmentManager ( ) . beginTransaction ( ) 
 + . add ( R . id . chatFragment , chatFragment ) 
 + . commitNow ( ) ; 
 + quote = intent . getStringExtra ( " forward _ text _ raw " ) ; 
 } 
 
 @ Override

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 index ef30244 . . f740e82 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 @ @ - 17 , 6 + 17 , 8 @ @ import im . actor . sdk . controllers . activity . BaseActivity ; 
 public class ChatActivity extends BaseActivity { 
 
 public static final String EXTRA _ CHAT _ PEER = " chat _ peer " ; 
 + private String quote ; 
 + private ChatFragment chatFragment ; 
 
 public static Intent build ( Peer peer , Context context ) { 
 final Intent intent = new Intent ( context , ChatActivity . class ) ; 
 @ @ - 42 , 14 + 44 , 11 @ @ public class ChatActivity extends BaseActivity { 
 / / 
 if ( saveInstance = = null ) { 
 Peer peer = Peer . fromUniqueId ( getIntent ( ) . getExtras ( ) . getLong ( EXTRA _ CHAT _ PEER ) ) ; 
 - ChatFragment chatFragment = ChatFragment . create ( peer ) ; 
 + chatFragment = ChatFragment . create ( peer ) ; 
 getSupportFragmentManager ( ) . beginTransaction ( ) 
 . add ( R . id . chatFragment , chatFragment ) 
 . commitNow ( ) ; 
 - String quote = getIntent ( ) . getStringExtra ( " forward _ text _ raw " ) ; 
 - if ( quote ! = null ) { 
 - chatFragment . onMessageQuote ( quote ) ; 
 - } 
 + quote = getIntent ( ) . getStringExtra ( " forward _ text _ raw " ) ; 
 } 
 } 
 
 @ @ - 67 , 6 + 66 , 15 @ @ public class ChatActivity extends BaseActivity { 
 } 
 
 @ Override 
 + protected void onResume ( ) { 
 + super . onResume ( ) ; 
 + if ( quote ! = null ) { 
 + chatFragment . onMessageQuote ( quote ) ; 
 + quote = null ; 
 + } 
 + } 
 + 
 + @ Override 
 public ActionMode startSupportActionMode ( @ NonNull final ActionMode . Callback callback ) { 
 / / Fix for bug https : / / code . google . com / p / android / issues / detail ? id = 159527 
 final ActionMode mode = super . startSupportActionMode ( callback ) ;
