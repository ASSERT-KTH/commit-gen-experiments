BLEU SCORE: 0.2626909894424158

TEST MSG: feat ( android ) : add dialogs fragment to delegate
GENERATED MSG: fix ( android ) : audio stop onPause

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java < nl > index 6911161 . . dc94c1e 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java < nl > @ @ - 15 , 6 + 15 , 7 @ @ import im . actor . sdk . controllers . conversation . inputbar . InputBarFragment ; < nl > import im . actor . sdk . controllers . conversation . mentions . AutocompleteFragment ; < nl > import im . actor . sdk . controllers . conversation . messages . BubbleLayouter ; < nl > import im . actor . sdk . controllers . conversation . quote . QuoteFragment ; < nl > + import im . actor . sdk . controllers . dialogs . DialogsDefaultFragment ; < nl > import im . actor . sdk . intents . ActorIntent ; < nl > import im . actor . sdk . intents . ActorIntentFragmentActivity ; < nl > < nl > @ @ - 217 , 4 + 218 , 6 @ @ public interface ActorSDKDelegate { < nl > * @ param layouters default layouters < nl > * / < nl > void configureChatViewHolders ( ArrayList < BubbleLayouter > layouters ) ; < nl > + < nl > + DialogsDefaultFragment fragmentForDialogs ( ) ; < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java < nl > index f9725ba . . b4f8729 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java < nl > @ @ - 16 , 6 + 16 , 7 @ @ import im . actor . sdk . controllers . conversation . inputbar . InputBarFragment ; < nl > import im . actor . sdk . controllers . conversation . mentions . AutocompleteFragment ; < nl > import im . actor . sdk . controllers . conversation . messages . BubbleLayouter ; < nl > import im . actor . sdk . controllers . conversation . quote . QuoteFragment ; < nl > + import im . actor . sdk . controllers . dialogs . DialogsDefaultFragment ; < nl > import im . actor . sdk . intents . ActorIntent ; < nl > import im . actor . sdk . intents . ActorIntentFragmentActivity ; < nl > < nl > @ @ - 158 , 4 + 159 , 9 @ @ public class BaseActorSDKDelegate implements ActorSDKDelegate { < nl > @ Override < nl > public void configureChatViewHolders ( ArrayList < BubbleLayouter > layouters ) { < nl > } < nl > + < nl > + @ Override < nl > + public DialogsDefaultFragment fragmentForDialogs ( ) { < nl > + return null ; < nl > + } < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / root / RootFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / root / RootFragment . java < nl > index 8862456 . . 382abab 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / root / RootFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / root / RootFragment . java < nl > @ @ - 74 , 8 + 74 , 9 @ @ public class RootFragment extends BaseFragment { < nl > < nl > if ( ! isInited ) { < nl > isInited = true ; < nl > + DialogsDefaultFragment dialogsDefaultFragment = ActorSDK . sharedActor ( ) . getDelegate ( ) . fragmentForDialogs ( ) ; < nl > getChildFragmentManager ( ) . beginTransaction ( ) < nl > - . add ( R . id . content , new DialogsDefaultFragment ( ) ) < nl > + . add ( R . id . content , dialogsDefaultFragment ! = null ? dialogsDefaultFragment : new DialogsDefaultFragment ( ) ) < nl > . add ( R . id . fab , new ComposeFabFragment ( ) ) < nl > . add ( R . id . search , new GlobalSearchDefaultFragment ( ) ) < nl > . add ( R . id . placeholder , new GlobalPlaceholderFragment ( ) )
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > index 0aeccf1 . . 7b89f42 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > @ @ - 49 , 6 + 49 , 7 @ @ import im . actor . sdk . ActorSDK ; < nl > import im . actor . sdk . R ; < nl > import im . actor . sdk . controllers . Intents ; < nl > import im . actor . sdk . controllers . conversation . mentions . MentionsAdapter ; < nl > + import im . actor . sdk . controllers . conversation . messages . AudioHolder ; < nl > import im . actor . sdk . controllers . conversation . messages . MessagesFragment ; < nl > import im . actor . sdk . core . audio . VoiceCaptureActor ; < nl > import im . actor . sdk . util . Randoms ; < nl > @ @ - 474 , 6 + 475 , 7 @ @ public class ChatActivity extends ActorEditTextActivity { < nl > super . onPause ( ) ; < nl > < nl > voiceRecordActor . send ( PoisonPill . INSTANCE ) ; < nl > + AudioHolder . stopPlaying ( ) ; < nl > / / Saving draft < nl > messenger ( ) . saveDraft ( peer , messageEditText . getText ( ) . toString ( ) ) ; < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / AudioHolder . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / AudioHolder . java < nl > index aae668e . . d0caf8b 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / AudioHolder . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / AudioHolder . java < nl > @ @ - 385 , 4 + 385 , 9 @ @ public class AudioHolder extends MessageHolder { < nl > messageBubble . getBackground ( ) . setColorFilter ( null ) ; < nl > } < nl > < nl > + public static void stopPlaying ( ) { < nl > + if ( audioActor ! = null ) { < nl > + audioActor . send ( new AudioPlayerActor . Stop ( ) ) ; < nl > + } < nl > + } < nl > }

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java 
 index 6911161 . . dc94c1e 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java 
 @ @ - 15 , 6 + 15 , 7 @ @ import im . actor . sdk . controllers . conversation . inputbar . InputBarFragment ; 
 import im . actor . sdk . controllers . conversation . mentions . AutocompleteFragment ; 
 import im . actor . sdk . controllers . conversation . messages . BubbleLayouter ; 
 import im . actor . sdk . controllers . conversation . quote . QuoteFragment ; 
 + import im . actor . sdk . controllers . dialogs . DialogsDefaultFragment ; 
 import im . actor . sdk . intents . ActorIntent ; 
 import im . actor . sdk . intents . ActorIntentFragmentActivity ; 
 
 @ @ - 217 , 4 + 218 , 6 @ @ public interface ActorSDKDelegate { 
 * @ param layouters default layouters 
 * / 
 void configureChatViewHolders ( ArrayList < BubbleLayouter > layouters ) ; 
 + 
 + DialogsDefaultFragment fragmentForDialogs ( ) ; 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java 
 index f9725ba . . b4f8729 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java 
 @ @ - 16 , 6 + 16 , 7 @ @ import im . actor . sdk . controllers . conversation . inputbar . InputBarFragment ; 
 import im . actor . sdk . controllers . conversation . mentions . AutocompleteFragment ; 
 import im . actor . sdk . controllers . conversation . messages . BubbleLayouter ; 
 import im . actor . sdk . controllers . conversation . quote . QuoteFragment ; 
 + import im . actor . sdk . controllers . dialogs . DialogsDefaultFragment ; 
 import im . actor . sdk . intents . ActorIntent ; 
 import im . actor . sdk . intents . ActorIntentFragmentActivity ; 
 
 @ @ - 158 , 4 + 159 , 9 @ @ public class BaseActorSDKDelegate implements ActorSDKDelegate { 
 @ Override 
 public void configureChatViewHolders ( ArrayList < BubbleLayouter > layouters ) { 
 } 
 + 
 + @ Override 
 + public DialogsDefaultFragment fragmentForDialogs ( ) { 
 + return null ; 
 + } 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / root / RootFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / root / RootFragment . java 
 index 8862456 . . 382abab 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / root / RootFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / root / RootFragment . java 
 @ @ - 74 , 8 + 74 , 9 @ @ public class RootFragment extends BaseFragment { 
 
 if ( ! isInited ) { 
 isInited = true ; 
 + DialogsDefaultFragment dialogsDefaultFragment = ActorSDK . sharedActor ( ) . getDelegate ( ) . fragmentForDialogs ( ) ; 
 getChildFragmentManager ( ) . beginTransaction ( ) 
 - . add ( R . id . content , new DialogsDefaultFragment ( ) ) 
 + . add ( R . id . content , dialogsDefaultFragment ! = null ? dialogsDefaultFragment : new DialogsDefaultFragment ( ) ) 
 . add ( R . id . fab , new ComposeFabFragment ( ) ) 
 . add ( R . id . search , new GlobalSearchDefaultFragment ( ) ) 
 . add ( R . id . placeholder , new GlobalPlaceholderFragment ( ) )

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 index 0aeccf1 . . 7b89f42 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 @ @ - 49 , 6 + 49 , 7 @ @ import im . actor . sdk . ActorSDK ; 
 import im . actor . sdk . R ; 
 import im . actor . sdk . controllers . Intents ; 
 import im . actor . sdk . controllers . conversation . mentions . MentionsAdapter ; 
 + import im . actor . sdk . controllers . conversation . messages . AudioHolder ; 
 import im . actor . sdk . controllers . conversation . messages . MessagesFragment ; 
 import im . actor . sdk . core . audio . VoiceCaptureActor ; 
 import im . actor . sdk . util . Randoms ; 
 @ @ - 474 , 6 + 475 , 7 @ @ public class ChatActivity extends ActorEditTextActivity { 
 super . onPause ( ) ; 
 
 voiceRecordActor . send ( PoisonPill . INSTANCE ) ; 
 + AudioHolder . stopPlaying ( ) ; 
 / / Saving draft 
 messenger ( ) . saveDraft ( peer , messageEditText . getText ( ) . toString ( ) ) ; 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / AudioHolder . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / AudioHolder . java 
 index aae668e . . d0caf8b 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / AudioHolder . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / AudioHolder . java 
 @ @ - 385 , 4 + 385 , 9 @ @ public class AudioHolder extends MessageHolder { 
 messageBubble . getBackground ( ) . setColorFilter ( null ) ; 
 } 
 
 + public static void stopPlaying ( ) { 
 + if ( audioActor ! = null ) { 
 + audioActor . send ( new AudioPlayerActor . Stop ( ) ) ; 
 + } 
 + } 
 }
