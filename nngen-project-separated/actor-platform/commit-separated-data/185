BLEU SCORE: 0.3433629176453739

TEST MSG: feat ( android ) : Updated DialogView
GENERATED MSG: feat ( android ) : Updated default wallpaper , updated service messages style

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java < nl > index 6dd2be1 . . 6c38382 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java < nl > @ @ - 358 , 6 + 358 , 16 @ @ public class ActorStyle { < nl > this . dialogsTitleColor = dialogsTitleColor ; < nl > } < nl > < nl > + private int dialogsTitleSecureColor = 0xff559d44 ; < nl > + < nl > + public int getDialogsTitleSecureColor ( ) { < nl > + return getColorWithFallback ( dialogsTitleSecureColor , getDialogsTitleColor ( ) ) ; < nl > + } < nl > + < nl > + public void setDialogsTitleSecureColor ( int dialogsTitleSecureColor ) { < nl > + this . dialogsTitleSecureColor = dialogsTitleSecureColor ; < nl > + } < nl > + < nl > private int dialogsTextColor = 0 ; < nl > < nl > public int getDialogsTextColor ( ) { < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / view / DialogView . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / view / DialogView . java < nl > index f3330dd . . 7c300bd 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / view / DialogView . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / view / DialogView . java < nl > @ @ - 53 , 6 + 53 , 7 @ @ public class DialogView extends ListItemBackgroundView < Dialog , DialogView . Dialog < nl > < nl > private static boolean isStylesLoaded = false ; < nl > private static TextPaint titlePaint ; < nl > + private static TextPaint titleSecurePaint ; < nl > private static TextPaint datePaint ; < nl > private static TextPaint textPaint ; < nl > private static TextPaint textActivePaint ; < nl > @ @ - 60 , 6 + 61 , 7 @ @ public class DialogView extends ListItemBackgroundView < Dialog , DialogView . Dialog < nl > private static Paint counterBgPaint ; < nl > private static int senderTextColor ; < nl > private static Drawable groupIcon ; < nl > + private static Drawable secretIcon ; < nl > private static int [ ] placeholderColors ; < nl > private static Paint avatarBorder ; < nl > private static Paint fillPaint ; < nl > @ @ - 144 , 7 + 146 , 10 @ @ public class DialogView extends ListItemBackgroundView < Dialog , DialogView . Dialog < nl > / / < nl > < nl > if ( layout . getTitleIcon ( ) ! = null ) { < nl > - layout . getTitleIcon ( ) . setBounds ( Screen . sp ( 72 ) , Screen . sp ( 16 + 3 ) , Screen . dp ( 72 + 16 ) , Screen . dp ( 16 + 3 + 10 ) ) ; < nl > + int left = Screen . dp ( 72 ) + ( Screen . dp ( 16 ) - layout . getTitleIcon ( ) . getIntrinsicWidth ( ) ) / 2 ; < nl > + int bottom = layout . getTitleIconTop ( ) ; < nl > + layout . getTitleIcon ( ) . setBounds ( left , bottom - layout . getTitleIcon ( ) . getIntrinsicHeight ( ) , < nl > + left + layout . getTitleIcon ( ) . getIntrinsicWidth ( ) , bottom ) ; < nl > layout . getTitleIcon ( ) . draw ( canvas ) ; < nl > } < nl > < nl > @ @ - 248 , 12 + 253 , 15 @ @ public class DialogView extends ListItemBackgroundView < Dialog , DialogView . Dialog < nl > ActorStyle style = ActorSDK . sharedActor ( ) . style ; < nl > Context context = getContext ( ) ; < nl > titlePaint = createTextPaint ( Fonts . medium ( ) , 16 , style . getDialogsTitleColor ( ) ) ; < nl > + titleSecurePaint = createTextPaint ( Fonts . medium ( ) , 16 , style . getDialogsTitleSecureColor ( ) ) ; < nl > datePaint = createTextPaint ( Fonts . regular ( ) , 14 , style . getDialogsTimeColor ( ) ) ; < nl > textPaint = createTextPaint ( Fonts . regular ( ) , 16 , style . getDialogsTimeColor ( ) ) ; < nl > textActivePaint = createTextPaint ( Fonts . regular ( ) , 16 , style . getDialogsActiveTextColor ( ) ) ; < nl > senderTextColor = style . getDialogsActiveTextColor ( ) ; < nl > - groupIcon = new TintDrawable ( context . getResources ( ) . getDrawable ( R . drawable . dialogs _ group ) , < nl > + groupIcon = new TintDrawable ( context . getResources ( ) . getDrawable ( R . drawable . ic _ group _ black _ 18dp ) , < nl > style . getDialogsTitleColor ( ) ) ; < nl > + secretIcon = new TintDrawable ( context . getResources ( ) . getDrawable ( R . drawable . ic _ lock _ black _ 18dp ) , < nl > + style . getDialogsTitleSecureColor ( ) ) ; < nl > counterTextPaint = createTextPaint ( Fonts . medium ( ) , 14 , style . getDialogsCounterTextColor ( ) ) ; < nl > counterTextPaint . setTextAlign ( Paint . Align . CENTER ) ; < nl > counterBgPaint = createFilledPaint ( style . getDialogsCounterBackgroundColor ( ) ) ; < nl > @ @ - 337 , 6 + 345 , 11 @ @ public class DialogView extends ListItemBackgroundView < Dialog , DialogView . Dialog < nl > < nl > if ( arg . getPeer ( ) . getPeerType ( ) = = PeerType . GROUP ) { < nl > res . setTitleIcon ( groupIcon ) ; < nl > + res . setTitleIconTop ( Screen . dp ( 33 ) ) ; < nl > + maxTitleWidth - = Screen . dp ( 16 / * icon width * / + 4 / * padding * / ) ; < nl > + } else if ( arg . getPeer ( ) . getPeerType ( ) = = PeerType . PRIVATE _ ENCRYPTED ) { < nl > + res . setTitleIcon ( secretIcon ) ; < nl > + res . setTitleIconTop ( Screen . dp ( 31 ) ) ; < nl > maxTitleWidth - = Screen . dp ( 16 / * icon width * / + 4 / * padding * / ) ; < nl > } < nl > < nl > @ @ - 351 , 7 + 364 , 11 @ @ public class DialogView extends ListItemBackgroundView < Dialog , DialogView . Dialog < nl > maxTitleWidth - = Screen . dp ( 20 ) ; < nl > } < nl > < nl > - res . setTitleLayout ( singleLineText ( arg . getDialogTitle ( ) , titlePaint , maxTitleWidth ) ) ; < nl > + res . setTitleLayout ( singleLineText ( arg . getDialogTitle ( ) , < nl > + arg . getPeer ( ) . getPeerType ( ) = = PeerType . PRIVATE _ ENCRYPTED < nl > + ? titleSecurePaint < nl > + : titlePaint , < nl > + maxTitleWidth ) ) ; < nl > < nl > / / Second Row < nl > int maxWidth = width - Screen . dp ( 72 ) - Screen . dp ( 8 ) ; < nl > @ @ - 516 , 6 + 533 , 7 @ @ public class DialogView extends ListItemBackgroundView < Dialog , DialogView . Dialog < nl > private CharSequence shortName ; < nl > private Layout titleLayout ; < nl > private Drawable titleIcon ; < nl > + private int titleIconTop ; < nl > private String date ; < nl > private int dateWidth ; < nl > private Layout textLayout ; < nl > @ @ - 523 , 6 + 541 , 14 @ @ public class DialogView extends ListItemBackgroundView < Dialog , DialogView . Dialog < nl > private int counterWidth ; < nl > private Drawable state ; < nl > < nl > + public int getTitleIconTop ( ) { < nl > + return titleIconTop ; < nl > + } < nl > + < nl > + public void setTitleIconTop ( int titleIconTop ) { < nl > + this . titleIconTop = titleIconTop ; < nl > + } < nl > + < nl > public Drawable getState ( ) { < nl > return state ; < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - hdpi / ic _ group _ black _ 18dp . png b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - hdpi / ic _ group _ black _ 18dp . png < nl > new file mode 100644 < nl > index 0000000 . . c098ddc < nl > Binary files / dev / null and b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - hdpi / ic _ group _ black _ 18dp . png differ < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - hdpi / ic _ lock _ black _ 18dp . png b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - hdpi / ic _ lock _ black _ 18dp . png < nl > new file mode 100644 < nl > index 0000000 . . ef52300 < nl > Binary files / dev / null and b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - hdpi / ic _ lock _ black _ 18dp . png differ < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - mdpi / ic _ group _ black _ 18dp . png b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - mdpi / ic _ group _ black _ 18dp . png < nl > new file mode 100644 < nl > index 0000000 . . 735614e < nl > Binary files / dev / null and b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - mdpi / ic _ group _ black _ 18dp . png differ < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - mdpi / ic _ lock _ black _ 18dp . png b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - mdpi / ic _ lock _ black _ 18dp . png < nl > new file mode 100644 < nl > index 0000000 . . 3dab038 < nl > Binary files / dev / null and b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - mdpi / ic _ lock _ black _ 18dp . png differ < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xhdpi / ic _ group _ black _ 18dp . png b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xhdpi / ic _ group _ black _ 18dp . png < nl > new file mode 100644 < nl > index 0000000 . . 792d67d < nl > Binary files / dev / null and b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xhdpi / ic _ group _ black _ 18dp . png differ < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xhdpi / ic _ lock _ black _ 18dp . png b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xhdpi / ic _ lock _ black _ 18dp . png < nl > new file mode 100644 < nl > index 0000000 . . 0032524 < nl > Binary files / dev / null and b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xhdpi / ic _ lock _ black _ 18dp . png differ < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xxhdpi / ic _ group _ black _ 18dp . png b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xxhdpi / ic _ group _ black _ 18dp . png < nl > new file mode 100644 < nl > index 0000000 . . 4fe1b2a < nl > Binary files / dev / null and b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xxhdpi / ic _ group _ black _ 18dp . png differ < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xxhdpi / ic _ lock _ black _ 18dp . png b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xxhdpi / ic _ lock _ black _ 18dp . png < nl > new file mode 100644 < nl > index 0000000 . . 507e39b < nl > Binary files / dev / null and b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xxhdpi / ic _ lock _ black _ 18dp . png differ < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xxxhdpi / ic _ group _ black _ 18dp . png b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xxxhdpi / ic _ group _ black _ 18dp . png < nl > new file mode 100644 < nl > index 0000000 . . ba45085 < nl > Binary files / dev / null and b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xxxhdpi / ic _ group _ black _ 18dp . png differ
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > index 83b9609 . . b047413 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > + + + b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > @ @ - 46 , 6 + 46 , 7 @ @ public class Application extends ActorSDKApplication { < nl > ActorSDK . sharedActor ( ) . setPrivacyText ( " bla bla bla " ) ; < nl > < nl > ActorSDK . sharedActor ( ) . setVideoCallsEnabled ( true ) ; < nl > + ActorSDK . sharedActor ( ) . style . setShowAvatarInTitle ( false ) ; < nl > < nl > / / ActorSDK . sharedActor ( ) . setTwitter ( " " ) ; < nl > / / ActorSDK . sharedActor ( ) . setHomePage ( " http : / / www . foo . com " ) ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java < nl > index 0f6dce0 . . 7aa0541 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java < nl > @ @ - 14 , 7 + 14 , 7 @ @ public class ActorStyle { < nl > / / BACKGROUNDS / / < nl > / / / / / / / / / / / / / / / / / / / / / / / / / / < nl > < nl > - private int [ ] defaultBackgrouds = new int [ ] { R . drawable . img _ chat _ background _ default , R . drawable . bg _ 1 , R . drawable . bg _ 2 , R . drawable . bg _ 3 } ; < nl > + private int [ ] defaultBackgrouds = new int [ ] { R . drawable . bg _ default _ pattern , R . drawable . bg _ 1 , R . drawable . bg _ 2 , R . drawable . bg _ 3 } ; < nl > < nl > public int [ ] getDefaultBackgrouds ( ) { < nl > return defaultBackgrouds ; < nl > @ @ - 928 , 4 + 928 , 13 @ @ public class ActorStyle { < nl > this . contactsMainPaddingTop = contactsMainPaddingTop ; < nl > } < nl > < nl > + private boolean showAvatarInTitle = true ; < nl > + < nl > + public boolean isShowAvatarInTitle ( ) { < nl > + return showAvatarInTitle ; < nl > + } < nl > + < nl > + public void setShowAvatarInTitle ( boolean showAvatarInTitle ) { < nl > + this . showAvatarInTitle = showAvatarInTitle ; < nl > + } < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > index 95d9117 . . d3be477 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > @ @ - 665 , 6 + 665 , 9 @ @ public class ChatActivity extends ActorEditTextActivity { < nl > barTypingContainer . setVisibility ( View . INVISIBLE ) ; < nl > barAvatar = ( AvatarView ) barView . findViewById ( R . id . avatarPreview ) ; < nl > barAvatar . init ( Screen . dp ( 32 ) , 18 ) ; < nl > + if ( ! style . isShowAvatarInTitle ( ) ) { < nl > + barAvatar . setVisibility ( View . GONE ) ; < nl > + } < nl > barView . findViewById ( R . id . titleContainer ) . setOnClickListener ( new View . OnClickListener ( ) { < nl > @ Override < nl > public void onClick ( View v ) { < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / MessagesFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / MessagesFragment . java < nl > index 9ccf79b . . fdce3fc 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / MessagesFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / MessagesFragment . java < nl > @ @ - 121 , 7 + 121 , 7 @ @ public class MessagesFragment extends DisplayListFragment < Message , MessageHolder < nl > } < nl > Drawable background ; < nl > < nl > - int [ ] backgrounds = ActorSDK . sharedActor ( ) . style . getDefaultBackgrouds ( ) ; < nl > + int [ ] backgrounds = ActorSDK . sharedActor ( ) . style . getDefaultBackgrouds ( ) ; < nl > String selectedWallpaper = messenger ( ) . getSelectedWallpaper ( ) ; < nl > < nl > if ( selectedWallpaper ! = null ) { < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java < nl > index ff96358 . . 5b4ed79 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java < nl > @ @ - 89 , 7 + 89 , 9 @ @ public abstract class MessageHolder extends BindedViewHolder < nl > container . makeOutboundBubble ( ) ; < nl > } else { < nl > boolean isGroupBot = getPeer ( ) . getPeerType ( ) . equals ( PeerType . GROUP ) & & users ( ) . get ( message . getSenderId ( ) ) . getName ( ) . get ( ) . equals ( " Bot " ) ; < nl > - container . makeInboundBubble ( getPeer ( ) . getPeerType ( ) = = PeerType . GROUP , message . getSenderId ( ) , isGroupBot ? getPeer ( ) . getPeerId ( ) : 0 ) ; < nl > + container . makeInboundBubble ( < nl > + getPeer ( ) . getPeerType ( ) = = PeerType . GROUP | | ! ActorSDK . sharedActor ( ) . style . isShowAvatarInTitle ( ) , < nl > + message . getSenderId ( ) , isGroupBot ? getPeer ( ) . getPeerId ( ) : 0 ) ; < nl > } < nl > } < nl > < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xhdpi / bg _ default _ pattern . png b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xhdpi / bg _ default _ pattern . png < nl > new file mode 100644 < nl > index 0000000 . . 9afda79 < nl > Binary files / dev / null and b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xhdpi / bg _ default _ pattern . png differ < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable / conv _ bubble _ date _ bg . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable / conv _ bubble _ date _ bg . xml < nl > index 03ad2f4 . . 541fa9f 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable / conv _ bubble _ date _ bg . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable / conv _ bubble _ date _ bg . xml < nl > @ @ - 1 , 14 + 1 , 13 @ @ < nl > - < ? xml version = " 1 . 0 " encoding = " utf - 8 " ? > < nl > - < ! - - < nl > + < ? xml version = " 1 . 0 " encoding = " utf - 8 " ? > < ! - - < nl > ~ Copyright ( C ) 2015 Actor LLC . < https : / / actor . im > < nl > - - > < nl > < nl > < shape xmlns : android = " http : / / schemas . android . com / apk / res / android " < nl > android : shape = " rectangle " > < nl > - < corners android : radius = " 2dp " / > < nl > + < corners android : radius = " 12dp " / > < nl > < solid android : color = " @ color / conv _ date _ bg " / > < nl > < padding < nl > - android : bottom = " 6dp " < nl > + android : bottom = " 6dp " < nl > android : left = " 8dp " < nl > android : right = " 8dp " < nl > android : top = " 6dp " / > < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / colors . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / colors . xml < nl > index e989a8a . . 0a52296 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / colors . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / colors . xml < nl > @ @ - 107 , 7 + 107 , 7 @ @ < nl > < nl > < ! - - < color name = " conv _ date _ line " > # 14000000 < / color > - - > < nl > < ! - - < color name = " conv _ date _ text " > # ffffff < / color > - - > < nl > - < color name = " conv _ date _ bg " > # 99000000 < / color > < nl > + < color name = " conv _ date _ bg " > # 64000000 < / color > < nl > < nl > < ! - - < color name = " conv _ text " > @ color / text _ primary < / color > - - > < nl > < ! - - < color name = " conv _ time " > # 60000000 < / color > - - >

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java 
 index 6dd2be1 . . 6c38382 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java 
 @ @ - 358 , 6 + 358 , 16 @ @ public class ActorStyle { 
 this . dialogsTitleColor = dialogsTitleColor ; 
 } 
 
 + private int dialogsTitleSecureColor = 0xff559d44 ; 
 + 
 + public int getDialogsTitleSecureColor ( ) { 
 + return getColorWithFallback ( dialogsTitleSecureColor , getDialogsTitleColor ( ) ) ; 
 + } 
 + 
 + public void setDialogsTitleSecureColor ( int dialogsTitleSecureColor ) { 
 + this . dialogsTitleSecureColor = dialogsTitleSecureColor ; 
 + } 
 + 
 private int dialogsTextColor = 0 ; 
 
 public int getDialogsTextColor ( ) { 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / view / DialogView . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / view / DialogView . java 
 index f3330dd . . 7c300bd 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / view / DialogView . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / view / DialogView . java 
 @ @ - 53 , 6 + 53 , 7 @ @ public class DialogView extends ListItemBackgroundView < Dialog , DialogView . Dialog 
 
 private static boolean isStylesLoaded = false ; 
 private static TextPaint titlePaint ; 
 + private static TextPaint titleSecurePaint ; 
 private static TextPaint datePaint ; 
 private static TextPaint textPaint ; 
 private static TextPaint textActivePaint ; 
 @ @ - 60 , 6 + 61 , 7 @ @ public class DialogView extends ListItemBackgroundView < Dialog , DialogView . Dialog 
 private static Paint counterBgPaint ; 
 private static int senderTextColor ; 
 private static Drawable groupIcon ; 
 + private static Drawable secretIcon ; 
 private static int [ ] placeholderColors ; 
 private static Paint avatarBorder ; 
 private static Paint fillPaint ; 
 @ @ - 144 , 7 + 146 , 10 @ @ public class DialogView extends ListItemBackgroundView < Dialog , DialogView . Dialog 
 / / 
 
 if ( layout . getTitleIcon ( ) ! = null ) { 
 - layout . getTitleIcon ( ) . setBounds ( Screen . sp ( 72 ) , Screen . sp ( 16 + 3 ) , Screen . dp ( 72 + 16 ) , Screen . dp ( 16 + 3 + 10 ) ) ; 
 + int left = Screen . dp ( 72 ) + ( Screen . dp ( 16 ) - layout . getTitleIcon ( ) . getIntrinsicWidth ( ) ) / 2 ; 
 + int bottom = layout . getTitleIconTop ( ) ; 
 + layout . getTitleIcon ( ) . setBounds ( left , bottom - layout . getTitleIcon ( ) . getIntrinsicHeight ( ) , 
 + left + layout . getTitleIcon ( ) . getIntrinsicWidth ( ) , bottom ) ; 
 layout . getTitleIcon ( ) . draw ( canvas ) ; 
 } 
 
 @ @ - 248 , 12 + 253 , 15 @ @ public class DialogView extends ListItemBackgroundView < Dialog , DialogView . Dialog 
 ActorStyle style = ActorSDK . sharedActor ( ) . style ; 
 Context context = getContext ( ) ; 
 titlePaint = createTextPaint ( Fonts . medium ( ) , 16 , style . getDialogsTitleColor ( ) ) ; 
 + titleSecurePaint = createTextPaint ( Fonts . medium ( ) , 16 , style . getDialogsTitleSecureColor ( ) ) ; 
 datePaint = createTextPaint ( Fonts . regular ( ) , 14 , style . getDialogsTimeColor ( ) ) ; 
 textPaint = createTextPaint ( Fonts . regular ( ) , 16 , style . getDialogsTimeColor ( ) ) ; 
 textActivePaint = createTextPaint ( Fonts . regular ( ) , 16 , style . getDialogsActiveTextColor ( ) ) ; 
 senderTextColor = style . getDialogsActiveTextColor ( ) ; 
 - groupIcon = new TintDrawable ( context . getResources ( ) . getDrawable ( R . drawable . dialogs _ group ) , 
 + groupIcon = new TintDrawable ( context . getResources ( ) . getDrawable ( R . drawable . ic _ group _ black _ 18dp ) , 
 style . getDialogsTitleColor ( ) ) ; 
 + secretIcon = new TintDrawable ( context . getResources ( ) . getDrawable ( R . drawable . ic _ lock _ black _ 18dp ) , 
 + style . getDialogsTitleSecureColor ( ) ) ; 
 counterTextPaint = createTextPaint ( Fonts . medium ( ) , 14 , style . getDialogsCounterTextColor ( ) ) ; 
 counterTextPaint . setTextAlign ( Paint . Align . CENTER ) ; 
 counterBgPaint = createFilledPaint ( style . getDialogsCounterBackgroundColor ( ) ) ; 
 @ @ - 337 , 6 + 345 , 11 @ @ public class DialogView extends ListItemBackgroundView < Dialog , DialogView . Dialog 
 
 if ( arg . getPeer ( ) . getPeerType ( ) = = PeerType . GROUP ) { 
 res . setTitleIcon ( groupIcon ) ; 
 + res . setTitleIconTop ( Screen . dp ( 33 ) ) ; 
 + maxTitleWidth - = Screen . dp ( 16 / * icon width * / + 4 / * padding * / ) ; 
 + } else if ( arg . getPeer ( ) . getPeerType ( ) = = PeerType . PRIVATE _ ENCRYPTED ) { 
 + res . setTitleIcon ( secretIcon ) ; 
 + res . setTitleIconTop ( Screen . dp ( 31 ) ) ; 
 maxTitleWidth - = Screen . dp ( 16 / * icon width * / + 4 / * padding * / ) ; 
 } 
 
 @ @ - 351 , 7 + 364 , 11 @ @ public class DialogView extends ListItemBackgroundView < Dialog , DialogView . Dialog 
 maxTitleWidth - = Screen . dp ( 20 ) ; 
 } 
 
 - res . setTitleLayout ( singleLineText ( arg . getDialogTitle ( ) , titlePaint , maxTitleWidth ) ) ; 
 + res . setTitleLayout ( singleLineText ( arg . getDialogTitle ( ) , 
 + arg . getPeer ( ) . getPeerType ( ) = = PeerType . PRIVATE _ ENCRYPTED 
 + ? titleSecurePaint 
 + : titlePaint , 
 + maxTitleWidth ) ) ; 
 
 / / Second Row 
 int maxWidth = width - Screen . dp ( 72 ) - Screen . dp ( 8 ) ; 
 @ @ - 516 , 6 + 533 , 7 @ @ public class DialogView extends ListItemBackgroundView < Dialog , DialogView . Dialog 
 private CharSequence shortName ; 
 private Layout titleLayout ; 
 private Drawable titleIcon ; 
 + private int titleIconTop ; 
 private String date ; 
 private int dateWidth ; 
 private Layout textLayout ; 
 @ @ - 523 , 6 + 541 , 14 @ @ public class DialogView extends ListItemBackgroundView < Dialog , DialogView . Dialog 
 private int counterWidth ; 
 private Drawable state ; 
 
 + public int getTitleIconTop ( ) { 
 + return titleIconTop ; 
 + } 
 + 
 + public void setTitleIconTop ( int titleIconTop ) { 
 + this . titleIconTop = titleIconTop ; 
 + } 
 + 
 public Drawable getState ( ) { 
 return state ; 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - hdpi / ic _ group _ black _ 18dp . png b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - hdpi / ic _ group _ black _ 18dp . png 
 new file mode 100644 
 index 0000000 . . c098ddc 
 Binary files / dev / null and b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - hdpi / ic _ group _ black _ 18dp . png differ 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - hdpi / ic _ lock _ black _ 18dp . png b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - hdpi / ic _ lock _ black _ 18dp . png 
 new file mode 100644 
 index 0000000 . . ef52300 
 Binary files / dev / null and b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - hdpi / ic _ lock _ black _ 18dp . png differ 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - mdpi / ic _ group _ black _ 18dp . png b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - mdpi / ic _ group _ black _ 18dp . png 
 new file mode 100644 
 index 0000000 . . 735614e 
 Binary files / dev / null and b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - mdpi / ic _ group _ black _ 18dp . png differ 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - mdpi / ic _ lock _ black _ 18dp . png b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - mdpi / ic _ lock _ black _ 18dp . png 
 new file mode 100644 
 index 0000000 . . 3dab038 
 Binary files / dev / null and b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - mdpi / ic _ lock _ black _ 18dp . png differ 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xhdpi / ic _ group _ black _ 18dp . png b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xhdpi / ic _ group _ black _ 18dp . png 
 new file mode 100644 
 index 0000000 . . 792d67d 
 Binary files / dev / null and b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xhdpi / ic _ group _ black _ 18dp . png differ 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xhdpi / ic _ lock _ black _ 18dp . png b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xhdpi / ic _ lock _ black _ 18dp . png 
 new file mode 100644 
 index 0000000 . . 0032524 
 Binary files / dev / null and b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xhdpi / ic _ lock _ black _ 18dp . png differ 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xxhdpi / ic _ group _ black _ 18dp . png b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xxhdpi / ic _ group _ black _ 18dp . png 
 new file mode 100644 
 index 0000000 . . 4fe1b2a 
 Binary files / dev / null and b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xxhdpi / ic _ group _ black _ 18dp . png differ 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xxhdpi / ic _ lock _ black _ 18dp . png b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xxhdpi / ic _ lock _ black _ 18dp . png 
 new file mode 100644 
 index 0000000 . . 507e39b 
 Binary files / dev / null and b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xxhdpi / ic _ lock _ black _ 18dp . png differ 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xxxhdpi / ic _ group _ black _ 18dp . png b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xxxhdpi / ic _ group _ black _ 18dp . png 
 new file mode 100644 
 index 0000000 . . ba45085 
 Binary files / dev / null and b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xxxhdpi / ic _ group _ black _ 18dp . png differ

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 index 83b9609 . . b047413 100644 
 - - - a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 + + + b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 @ @ - 46 , 6 + 46 , 7 @ @ public class Application extends ActorSDKApplication { 
 ActorSDK . sharedActor ( ) . setPrivacyText ( " bla bla bla " ) ; 
 
 ActorSDK . sharedActor ( ) . setVideoCallsEnabled ( true ) ; 
 + ActorSDK . sharedActor ( ) . style . setShowAvatarInTitle ( false ) ; 
 
 / / ActorSDK . sharedActor ( ) . setTwitter ( " " ) ; 
 / / ActorSDK . sharedActor ( ) . setHomePage ( " http : / / www . foo . com " ) ; 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java 
 index 0f6dce0 . . 7aa0541 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java 
 @ @ - 14 , 7 + 14 , 7 @ @ public class ActorStyle { 
 / / BACKGROUNDS / / 
 / / / / / / / / / / / / / / / / / / / / / / / / / / 
 
 - private int [ ] defaultBackgrouds = new int [ ] { R . drawable . img _ chat _ background _ default , R . drawable . bg _ 1 , R . drawable . bg _ 2 , R . drawable . bg _ 3 } ; 
 + private int [ ] defaultBackgrouds = new int [ ] { R . drawable . bg _ default _ pattern , R . drawable . bg _ 1 , R . drawable . bg _ 2 , R . drawable . bg _ 3 } ; 
 
 public int [ ] getDefaultBackgrouds ( ) { 
 return defaultBackgrouds ; 
 @ @ - 928 , 4 + 928 , 13 @ @ public class ActorStyle { 
 this . contactsMainPaddingTop = contactsMainPaddingTop ; 
 } 
 
 + private boolean showAvatarInTitle = true ; 
 + 
 + public boolean isShowAvatarInTitle ( ) { 
 + return showAvatarInTitle ; 
 + } 
 + 
 + public void setShowAvatarInTitle ( boolean showAvatarInTitle ) { 
 + this . showAvatarInTitle = showAvatarInTitle ; 
 + } 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 index 95d9117 . . d3be477 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 @ @ - 665 , 6 + 665 , 9 @ @ public class ChatActivity extends ActorEditTextActivity { 
 barTypingContainer . setVisibility ( View . INVISIBLE ) ; 
 barAvatar = ( AvatarView ) barView . findViewById ( R . id . avatarPreview ) ; 
 barAvatar . init ( Screen . dp ( 32 ) , 18 ) ; 
 + if ( ! style . isShowAvatarInTitle ( ) ) { 
 + barAvatar . setVisibility ( View . GONE ) ; 
 + } 
 barView . findViewById ( R . id . titleContainer ) . setOnClickListener ( new View . OnClickListener ( ) { 
 @ Override 
 public void onClick ( View v ) { 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / MessagesFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / MessagesFragment . java 
 index 9ccf79b . . fdce3fc 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / MessagesFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / MessagesFragment . java 
 @ @ - 121 , 7 + 121 , 7 @ @ public class MessagesFragment extends DisplayListFragment < Message , MessageHolder 
 } 
 Drawable background ; 
 
 - int [ ] backgrounds = ActorSDK . sharedActor ( ) . style . getDefaultBackgrouds ( ) ; 
 + int [ ] backgrounds = ActorSDK . sharedActor ( ) . style . getDefaultBackgrouds ( ) ; 
 String selectedWallpaper = messenger ( ) . getSelectedWallpaper ( ) ; 
 
 if ( selectedWallpaper ! = null ) { 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java 
 index ff96358 . . 5b4ed79 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java 
 @ @ - 89 , 7 + 89 , 9 @ @ public abstract class MessageHolder extends BindedViewHolder 
 container . makeOutboundBubble ( ) ; 
 } else { 
 boolean isGroupBot = getPeer ( ) . getPeerType ( ) . equals ( PeerType . GROUP ) & & users ( ) . get ( message . getSenderId ( ) ) . getName ( ) . get ( ) . equals ( " Bot " ) ; 
 - container . makeInboundBubble ( getPeer ( ) . getPeerType ( ) = = PeerType . GROUP , message . getSenderId ( ) , isGroupBot ? getPeer ( ) . getPeerId ( ) : 0 ) ; 
 + container . makeInboundBubble ( 
 + getPeer ( ) . getPeerType ( ) = = PeerType . GROUP | | ! ActorSDK . sharedActor ( ) . style . isShowAvatarInTitle ( ) , 
 + message . getSenderId ( ) , isGroupBot ? getPeer ( ) . getPeerId ( ) : 0 ) ; 
 } 
 } 
 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xhdpi / bg _ default _ pattern . png b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xhdpi / bg _ default _ pattern . png 
 new file mode 100644 
 index 0000000 . . 9afda79 
 Binary files / dev / null and b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xhdpi / bg _ default _ pattern . png differ 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable / conv _ bubble _ date _ bg . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable / conv _ bubble _ date _ bg . xml 
 index 03ad2f4 . . 541fa9f 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable / conv _ bubble _ date _ bg . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable / conv _ bubble _ date _ bg . xml 
 @ @ - 1 , 14 + 1 , 13 @ @ 
 - < ? xml version = " 1 . 0 " encoding = " utf - 8 " ? > 
 - < ! - - 
 + < ? xml version = " 1 . 0 " encoding = " utf - 8 " ? > < ! - - 
 ~ Copyright ( C ) 2015 Actor LLC . < https : / / actor . im > 
 - - > 
 
 < shape xmlns : android = " http : / / schemas . android . com / apk / res / android " 
 android : shape = " rectangle " > 
 - < corners android : radius = " 2dp " / > 
 + < corners android : radius = " 12dp " / > 
 < solid android : color = " @ color / conv _ date _ bg " / > 
 < padding 
 - android : bottom = " 6dp " 
 + android : bottom = " 6dp " 
 android : left = " 8dp " 
 android : right = " 8dp " 
 android : top = " 6dp " / > 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / colors . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / colors . xml 
 index e989a8a . . 0a52296 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / colors . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / colors . xml 
 @ @ - 107 , 7 + 107 , 7 @ @ 
 
 < ! - - < color name = " conv _ date _ line " > # 14000000 < / color > - - > 
 < ! - - < color name = " conv _ date _ text " > # ffffff < / color > - - > 
 - < color name = " conv _ date _ bg " > # 99000000 < / color > 
 + < color name = " conv _ date _ bg " > # 64000000 < / color > 
 
 < ! - - < color name = " conv _ text " > @ color / text _ primary < / color > - - > 
 < ! - - < color name = " conv _ time " > # 60000000 < / color > - - >
