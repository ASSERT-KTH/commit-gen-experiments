BLEU SCORE: 0.054129891865452646

TEST MSG: fix ( core ) : Better message on no trusted keys installed on server # 327
GENERATED MSG: feat ( android ) : get auth id

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / network / api / AuthKeyActor . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / network / api / AuthKeyActor . java < nl > index cef662d . . 6be85dc 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / network / api / AuthKeyActor . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / network / api / AuthKeyActor . java < nl > @ @ - 152 , 6 + 152 , 10 @ @ public class AuthKeyActor extends Actor { < nl > } < nl > long [ ] keys = startAuth . getAvailableKeys ( ) ; < nl > < nl > + if ( keys . length = = 0 ) { < nl > + throw new IOException ( " No keys installed on server . Please , configure your server correctly . " ) ; < nl > + } < nl > + < nl > if ( endpoints . getTrustedKeys ( ) . length = = 0 ) { < nl > gotoKeyDownloadState ( keys [ 0 ] , startAuth . getServerNonce ( ) ) ; < nl > } else {
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java < nl > index 99c6fb2 . . 830d0b5 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java < nl > @ @ - 1919 , 4 + 1919 , 8 @ @ public class Messenger { < nl > ModuleContext getModuleContext ( ) { < nl > return modules ; < nl > } < nl > + < nl > + public long getAuthId ( ) { < nl > + return modules . getApiModule ( ) . getActorApi ( ) . getKeyStorage ( ) . getAuthKey ( ) ; < nl > + } < nl > } < nl > \ No newline at end of file < nl > diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / network / ActorApi . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / network / ActorApi . java < nl > index acfcafa . . 85b25fd 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / network / ActorApi . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / network / ActorApi . java < nl > @ @ - 99 , 4 + 99 , 8 @ @ public class ActorApi { < nl > public synchronized void forceNetworkCheck ( ) { < nl > this . apiBroker . send ( new ApiBroker . ForceNetworkCheck ( ) ) ; < nl > } < nl > + < nl > + public AuthKeyStorage getKeyStorage ( ) { < nl > + return keyStorage ; < nl > + } < nl > }

TEST DIFF:
diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / network / api / AuthKeyActor . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / network / api / AuthKeyActor . java 
 index cef662d . . 6be85dc 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / network / api / AuthKeyActor . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / network / api / AuthKeyActor . java 
 @ @ - 152 , 6 + 152 , 10 @ @ public class AuthKeyActor extends Actor { 
 } 
 long [ ] keys = startAuth . getAvailableKeys ( ) ; 
 
 + if ( keys . length = = 0 ) { 
 + throw new IOException ( " No keys installed on server . Please , configure your server correctly . " ) ; 
 + } 
 + 
 if ( endpoints . getTrustedKeys ( ) . length = = 0 ) { 
 gotoKeyDownloadState ( keys [ 0 ] , startAuth . getServerNonce ( ) ) ; 
 } else {

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java 
 index 99c6fb2 . . 830d0b5 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java 
 @ @ - 1919 , 4 + 1919 , 8 @ @ public class Messenger { 
 ModuleContext getModuleContext ( ) { 
 return modules ; 
 } 
 + 
 + public long getAuthId ( ) { 
 + return modules . getApiModule ( ) . getActorApi ( ) . getKeyStorage ( ) . getAuthKey ( ) ; 
 + } 
 } 
 \ No newline at end of file 
 diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / network / ActorApi . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / network / ActorApi . java 
 index acfcafa . . 85b25fd 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / network / ActorApi . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / network / ActorApi . java 
 @ @ - 99 , 4 + 99 , 8 @ @ public class ActorApi { 
 public synchronized void forceNetworkCheck ( ) { 
 this . apiBroker . send ( new ApiBroker . ForceNetworkCheck ( ) ) ; 
 } 
 + 
 + public AuthKeyStorage getKeyStorage ( ) { 
 + return keyStorage ; 
 + } 
 }
