BLEU SCORE: 0.41266825715677186

TEST MSG: feat ( scheme ) : Adding WebRTC signaling
GENERATED MSG: feat ( scheme ) : Adding shared storage , updated encryption API

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - api / actor . json b / actor - sdk / sdk - api / actor . json < nl > index 81b3c84 . . dd57b91 100644 < nl > - - - a / actor - sdk / sdk - api / actor . json < nl > + + + b / actor - sdk / sdk - api / actor . json < nl > @ @ - 12293 , 10 + 12293 , 10 @ @ < nl > { < nl > " type " : " update " , < nl > " content " : { < nl > - " name " : " CallEnded " , < nl > + " name " : " CallHandled " , < nl > " header " : 53 , < nl > " doc " : [ < nl > - " Update about call end " , < nl > + " Update about incoming call handled " , < nl > { < nl > " type " : " reference " , < nl > " argument " : " callId " , < nl > @ @ - 12314 , 43 + 12314 , 6 @ @ < nl > } < nl > } , < nl > { < nl > - " type " : " update " , < nl > - " content " : { < nl > - " name " : " CallRejected " , < nl > - " header " : 56 , < nl > - " doc " : [ < nl > - " Update about call reject " , < nl > - { < nl > - " type " : " reference " , < nl > - " argument " : " callId " , < nl > - " category " : " full " , < nl > - " description " : " Call Id " < nl > - } , < nl > - { < nl > - " type " : " reference " , < nl > - " argument " : " userId " , < nl > - " category " : " full " , < nl > - " description " : " User Id " < nl > - } < nl > - ] , < nl > - " attributes " : [ < nl > - { < nl > - " type " : " int64 " , < nl > - " id " : 1 , < nl > - " name " : " callId " < nl > - } , < nl > - { < nl > - " type " : { < nl > - " type " : " alias " , < nl > - " childType " : " userId " < nl > - } , < nl > - " id " : 2 , < nl > - " name " : " userId " < nl > - } < nl > - ] < nl > - } < nl > - } , < nl > - { < nl > " type " : " rpc " , < nl > " content " : { < nl > " name " : " GetCallInfo " , < nl > @ @ - 12497 , 83 + 12460 , 356 @ @ < nl > } < nl > } , < nl > { < nl > - " type " : " rpc " , < nl > + " type " : " trait " , < nl > " content " : { < nl > - " name " : " JoinCall " , < nl > - " header " : 2599 , < nl > - " response " : { < nl > - " type " : " reference " , < nl > - " name " : " Void " < nl > + " isContainer " : " true " , < nl > + " name " : " WebRTCSignaling " , < nl > + " attributes " : [ ] < nl > + } < nl > + } , < nl > + { < nl > + " type " : " struct " , < nl > + " content " : { < nl > + " name " : " AnswerCall " , < nl > + " doc " : [ < nl > + " Answer Call signal " < nl > + ] , < nl > + " trait " : { < nl > + " name " : " WebRTCSignaling " , < nl > + " key " : 1 < nl > } , < nl > + " attributes " : [ ] < nl > + } < nl > + } , < nl > + { < nl > + " type " : " struct " , < nl > + " content " : { < nl > + " name " : " EndCall " , < nl > " doc " : [ < nl > - " Answer Call " , < nl > + " Ending Call signal " < nl > + ] , < nl > + " trait " : { < nl > + " name " : " WebRTCSignaling " , < nl > + " key " : 2 < nl > + } , < nl > + " attributes " : [ ] < nl > + } < nl > + } , < nl > + { < nl > + " type " : " struct " , < nl > + " content " : { < nl > + " name " : " Candidate " , < nl > + " doc " : [ < nl > + " Candidate signal " , < nl > { < nl > " type " : " reference " , < nl > - " argument " : " peer " , < nl > + " argument " : " sessionId " , < nl > + " category " : " full " , < nl > + " description " : " Session Id of candidate " < nl > + } < nl > + ] , < nl > + " trait " : { < nl > + " name " : " WebRTCSignaling " , < nl > + " key " : 3 < nl > + } , < nl > + " attributes " : [ < nl > + { < nl > + " type " : { < nl > + " type " : " alias " , < nl > + " childType " : " randomId " < nl > + } , < nl > + " id " : 1 , < nl > + " name " : " sessionId " < nl > + } < nl > + ] < nl > + } < nl > + } , < nl > + { < nl > + " type " : " struct " , < nl > + " content " : { < nl > + " name " : " Offer " , < nl > + " doc " : [ < nl > + " Offer signal " , < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " sessionId " , < nl > " category " : " full " , < nl > - " description " : " Call Peer " < nl > + " description " : " Session Id of offer " < nl > } , < nl > { < nl > " type " : " reference " , < nl > - " argument " : " callId " , < nl > + " argument " : " sdp " , < nl > " category " : " full " , < nl > - " description " : " Call Id " < nl > + " description " : " Offer SDP " < nl > } < nl > ] , < nl > + " trait " : { < nl > + " name " : " WebRTCSignaling " , < nl > + " key " : 4 < nl > + } , < nl > " attributes " : [ < nl > { < nl > " type " : { < nl > - " type " : " struct " , < nl > - " childType " : " OutPeer " < nl > + " type " : " alias " , < nl > + " childType " : " randomId " < nl > } , < nl > " id " : 1 , < nl > - " name " : " peer " < nl > + " name " : " sessionId " < nl > } , < nl > { < nl > - " type " : " int64 " , < nl > + " type " : " string " , < nl > " id " : 2 , < nl > - " name " : " callId " < nl > + " name " : " sdp " < nl > } < nl > ] < nl > } < nl > } , < nl > { < nl > - " type " : " rpc " , < nl > + " type " : " struct " , < nl > " content " : { < nl > - " name " : " RejectCall " , < nl > - " header " : 2607 , < nl > - " response " : { < nl > - " type " : " reference " , < nl > - " name " : " Void " < nl > + " name " : " Answer " , < nl > + " doc " : [ < nl > + " Answer signal " , < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " sessionId " , < nl > + " category " : " full " , < nl > + " description " : " Session Id of answer " < nl > + } , < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " sdp " , < nl > + " category " : " full " , < nl > + " description " : " Answer SDP " < nl > + } < nl > + ] , < nl > + " trait " : { < nl > + " name " : " WebRTCSignaling " , < nl > + " key " : 5 < nl > } , < nl > + " attributes " : [ < nl > + { < nl > + " type " : { < nl > + " type " : " alias " , < nl > + " childType " : " randomId " < nl > + } , < nl > + " id " : 1 , < nl > + " name " : " sessionId " < nl > + } , < nl > + { < nl > + " type " : " string " , < nl > + " id " : 2 , < nl > + " name " : " sdp " < nl > + } < nl > + ] < nl > + } < nl > + } , < nl > + { < nl > + " type " : " struct " , < nl > + " content " : { < nl > + " name " : " NeedRenegotiate " , < nl > " doc " : [ < nl > - " End Call " , < nl > + " Need renegotiate session . For example when streams are changed . " , < nl > { < nl > " type " : " reference " , < nl > - " argument " : " peer " , < nl > + " argument " : " sessionId " , < nl > " category " : " full " , < nl > - " description " : " Call Peer " < nl > + " description " : " Session Id for renegotiation " < nl > + } < nl > + ] , < nl > + " trait " : { < nl > + " name " : " WebRTCSignaling " , < nl > + " key " : 6 < nl > + } , < nl > + " attributes " : [ < nl > + { < nl > + " type " : { < nl > + " type " : " alias " , < nl > + " childType " : " randomId " < nl > + } , < nl > + " id " : 1 , < nl > + " name " : " sessionId " < nl > + } < nl > + ] < nl > + } < nl > + } , < nl > + { < nl > + " type " : " struct " , < nl > + " content " : { < nl > + " name " : " ConnectedDevice " , < nl > + " doc " : [ < nl > + " Connected Device " , < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " device " , < nl > + " category " : " full " , < nl > + " description " : " Device Id " < nl > } , < nl > { < nl > " type " : " reference " , < nl > - " argument " : " callId " , < nl > + " argument " : " isConnecting " , < nl > " category " : " full " , < nl > - " description " : " Call Id " < nl > + " description " : " Is Connecting to device . Default is false . " < nl > + } , < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " isConnected " , < nl > + " category " : " full " , < nl > + " description " : " Is Connected to device . Default is false . " < nl > } < nl > ] , < nl > " attributes " : [ < nl > { < nl > " type " : { < nl > - " type " : " struct " , < nl > - " childType " : " OutPeer " < nl > + " type " : " alias " , < nl > + " childType " : " randomId " < nl > } , < nl > " id " : 1 , < nl > - " name " : " peer " < nl > + " name " : " device " < nl > } , < nl > { < nl > - " type " : " int64 " , < nl > + " type " : { < nl > + " type " : " opt " , < nl > + " childType " : " bool " < nl > + } , < nl > " id " : 2 , < nl > - " name " : " callId " < nl > + " name " : " isConnecting " < nl > + } , < nl > + { < nl > + " type " : { < nl > + " type " : " opt " , < nl > + " childType " : " bool " < nl > + } , < nl > + " id " : 3 , < nl > + " name " : " isConnected " < nl > + } < nl > + ] < nl > + } < nl > + } , < nl > + { < nl > + " type " : " struct " , < nl > + " content " : { < nl > + " name " : " ConnectedUser " , < nl > + " doc " : [ < nl > + " Connected User " , < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " uid " , < nl > + " category " : " full " , < nl > + " description " : " Device uid " < nl > + } , < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " isConnecting " , < nl > + " category " : " full " , < nl > + " description " : " Is Connecting to user . Default is false . " < nl > + } , < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " isConnected " , < nl > + " category " : " full " , < nl > + " description " : " Is connected to user . Default is false . " < nl > + } < nl > + ] , < nl > + " attributes " : [ < nl > + { < nl > + " type " : { < nl > + " type " : " alias " , < nl > + " childType " : " userId " < nl > + } , < nl > + " id " : 1 , < nl > + " name " : " uid " < nl > + } , < nl > + { < nl > + " type " : { < nl > + " type " : " opt " , < nl > + " childType " : " bool " < nl > + } , < nl > + " id " : 4 , < nl > + " name " : " isConnecting " < nl > + } , < nl > + { < nl > + " type " : { < nl > + " type " : " opt " , < nl > + " childType " : " bool " < nl > + } , < nl > + " id " : 5 , < nl > + " name " : " isConnected " < nl > + } < nl > + ] < nl > + } < nl > + } , < nl > + { < nl > + " type " : " struct " , < nl > + " content " : { < nl > + " name " : " ActiveDevices " , < nl > + " doc " : [ < nl > + " List of current memb " , < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " users " , < nl > + " category " : " full " , < nl > + " description " : " Currently active users " < nl > + } < nl > + ] , < nl > + " trait " : { < nl > + " name " : " WebRTCSignaling " , < nl > + " key " : 7 < nl > + } , < nl > + " attributes " : [ < nl > + { < nl > + " type " : { < nl > + " type " : " list " , < nl > + " childType " : { < nl > + " type " : " struct " , < nl > + " childType " : " ConnectedUser " < nl > + } < nl > + } , < nl > + " id " : 2 , < nl > + " name " : " users " < nl > + } < nl > + ] < nl > + } < nl > + } , < nl > + { < nl > + " type " : " struct " , < nl > + " content " : { < nl > + " name " : " NeedOffer " , < nl > + " doc " : [ < nl > + " Notification from owner that offer is required " , < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " uid " , < nl > + " category " : " full " , < nl > + " description " : " User ' s Id " < nl > + } , < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " device " , < nl > + " category " : " full " , < nl > + " description " : " Destination Device Id " < nl > + } < nl > + ] , < nl > + " trait " : { < nl > + " name " : " WebRTCSignaling " , < nl > + " key " : 8 < nl > + } , < nl > + " attributes " : [ < nl > + { < nl > + " type " : { < nl > + " type " : " alias " , < nl > + " childType " : " userId " < nl > + } , < nl > + " id " : 1 , < nl > + " name " : " uid " < nl > + } , < nl > + { < nl > + " type " : { < nl > + " type " : " alias " , < nl > + " childType " : " randomId " < nl > + } , < nl > + " id " : 2 , < nl > + " name " : " device " < nl > } < nl > ] < nl > } < nl > diff - - git a / actor - sdk / sdk - api / api - language / solutions / im . actor . api / models / im / actor / api / scheme . mps b / actor - sdk / sdk - api / api - language / solutions / im . actor . api / models / im / actor / api / scheme . mps < nl > index d36ae63 . . 9162f96 100644 < nl > - - - a / actor - sdk / sdk - api / api - language / solutions / im . actor . api / models / im / actor / api / scheme . mps < nl > + + + b / actor - sdk / sdk - api / api - language / solutions / im . actor . api / models / im / actor / api / scheme . mps < nl > @ @ - 10582 , 54 + 10582 , 23 @ @ < nl > < ref role = " NX6Kv " node = " 6tgpW9bxt9W " resolve = " callId " / > < nl > < / node > < nl > < / node > < nl > - < node concept = " NpBTk " id = " 6tgpW9bxuRr " role = " 2m5mJr " > < nl > - < property role = " TrG5h " value = " CallEnded " / > < nl > - < node concept = " 2m7Kf5 " id = " 6tgpW9bxuRJ " role = " 2m0hLx " > < nl > + < node concept = " NpBTk " id = " 3Tolai5NHAS " role = " 2m5mJr " > < nl > + < property role = " TrG5h " value = " CallHandled " / > < nl > + < node concept = " 2m7Kf5 " id = " 3Tolai5NHBM " role = " 2m0hLx " > < nl > < property role = " 2m7DUN " value = " 1 " / > < nl > < property role = " TrG5h " value = " callId " / > < nl > - < node concept = " 2m5ndQ " id = " 6tgpW9bxuRN " role = " 2m7DVh " / > < nl > + < node concept = " 2m5ndQ " id = " 3Tolai5NHBQ " role = " 2m7DVh " / > < nl > < / node > < nl > - < node concept = " Nu42z " id = " 6tgpW9bxuRs " role = " NuuwV " > < nl > + < node concept = " Nu42z " id = " 3Tolai5NHAT " role = " NuuwV " > < nl > < property role = " Nu42W " value = " 35 " / > < nl > < / node > < nl > - < node concept = " NXeRC " id = " 6tgpW9bxuRQ " role = " NXp _ 2 " > < nl > - < property role = " NXePf " value = " Update about call end " / > < nl > + < node concept = " NXeRC " id = " 3Tolai5NHBT " role = " NXp _ 2 " > < nl > + < property role = " NXePf " value = " Update about incoming call handled " / > < nl > < / node > < nl > - < node concept = " NX1gA " id = " 6tgpW9bxz9I " role = " NXp _ 2 " > < nl > + < node concept = " NX1gA " id = " 3Tolai5NHBY " role = " NXp _ 2 " > < nl > < property role = " NX6R2 " value = " Call Id " / > < nl > < property role = " 1GSvIU " value = " full " / > < nl > - < ref role = " NX6Kv " node = " 6tgpW9bxuRJ " resolve = " callId " / > < nl > - < / node > < nl > - < / node > < nl > - < node concept = " NpBTk " id = " 3Tolai5NAU $ " role = " 2m5mJr " > < nl > - < property role = " TrG5h " value = " CallRejected " / > < nl > - < node concept = " 2m7Kf5 " id = " 3Tolai5NAVJ " role = " 2m0hLx " > < nl > - < property role = " 2m7DUN " value = " 1 " / > < nl > - < property role = " TrG5h " value = " callId " / > < nl > - < node concept = " 2m5ndQ " id = " 3Tolai5NAVN " role = " 2m7DVh " / > < nl > - < / node > < nl > - < node concept = " 2m7Kf5 " id = " 3Tolai5NAVQ " role = " 2m0hLx " > < nl > - < property role = " 2m7DUN " value = " 2 " / > < nl > - < property role = " TrG5h " value = " userId " / > < nl > - < node concept = " wb0Ql " id = " 3Tolai5NAVW " role = " 2m7DVh " > < nl > - < ref role = " wb18D " node = " 5qm50Y0e3uz " resolve = " userId " / > < nl > - < / node > < nl > - < / node > < nl > - < node concept = " Nu42z " id = " 3Tolai5NAU _ " role = " NuuwV " > < nl > - < property role = " Nu42W " value = " 38 " / > < nl > - < / node > < nl > - < node concept = " NXeRC " id = " 3Tolai5NAVZ " role = " NXp _ 2 " > < nl > - < property role = " NXePf " value = " Update about call reject " / > < nl > - < / node > < nl > - < node concept = " NX1gA " id = " 3Tolai5NAW4 " role = " NXp _ 2 " > < nl > - < property role = " NX6R2 " value = " Call Id " / > < nl > - < property role = " 1GSvIU " value = " full " / > < nl > - < ref role = " NX6Kv " node = " 3Tolai5NAVJ " resolve = " callId " / > < nl > - < / node > < nl > - < node concept = " NX1gA " id = " 3Tolai5NAWc " role = " NXp _ 2 " > < nl > - < property role = " NX6R2 " value = " User Id " / > < nl > - < property role = " 1GSvIU " value = " full " / > < nl > - < ref role = " NX6Kv " node = " 3Tolai5NAVQ " resolve = " userId " / > < nl > + < ref role = " NX6Kv " node = " 3Tolai5NHBM " resolve = " callId " / > < nl > < / node > < nl > < / node > < nl > < node concept = " 2m6fVq " id = " 3Tolai5Njx7 " role = " 2m5mJr " > < nl > @ @ - 10756 , 82 + 10725 , 286 @ @ < nl > < ref role = " NX6Kv " node = " 201xLeQvfRW " resolve = " peer " / > < nl > < / node > < nl > < / node > < nl > - < node concept = " 2m6fVq " id = " 3Tolai5NguP " role = " 2m5mJr " > < nl > - < property role = " TrG5h " value = " JoinCall " / > < nl > - < node concept = " 2uC4CA " id = " 3Tolai5NzMn " role = " 2uC9gA " > < nl > - < property role = " 2uC4DK " value = " 400 " / > < nl > - < property role = " 2uC4Qe " value = " CALL _ ENDED " / > < nl > - < property role = " 2uCiSL " value = " Throws when call is already ended " / > < nl > + < node concept = " w93zz " id = " 3Tolai5NMKi " role = " 2m5mJr " > < nl > + < property role = " TrG5h " value = " WebRTCSignaling " / > < nl > + < property role = " 1FaRnq " value = " true " / > < nl > + < / node > < nl > + < node concept = " 2m5naR " id = " 3Tolai5NMLS " role = " 2m5mJr " > < nl > + < property role = " TrG5h " value = " AnswerCall " / > < nl > + < property role = " w4tQU " value = " true " / > < nl > + < ref role = " w4 $ XZ " node = " 3Tolai5NMKi " resolve = " WebRTCSignaling " / > < nl > + < node concept = " Nu42z " id = " 3Tolai5NMMG " role = " 3BtCOu " > < nl > + < property role = " Nu42W " value = " 01 " / > < nl > + < / node > < nl > + < node concept = " NXeRC " id = " 3Tolai5NP1p " role = " NXodf " > < nl > + < property role = " NXePf " value = " Answer Call signal " / > < nl > < / node > < nl > - < node concept = " 2m7Kf5 " id = " 3Tolai5Ngvv " role = " 2m0hLx " > < nl > + < / node > < nl > + < node concept = " 2m5naR " id = " 3Tolai5NMQT " role = " 2m5mJr " > < nl > + < property role = " TrG5h " value = " EndCall " / > < nl > + < property role = " w4tQU " value = " true " / > < nl > + < ref role = " w4 $ XZ " node = " 3Tolai5NMKi " resolve = " WebRTCSignaling " / > < nl > + < node concept = " Nu42z " id = " 3Tolai5NMRJ " role = " 3BtCOu " > < nl > + < property role = " Nu42W " value = " 02 " / > < nl > + < / node > < nl > + < node concept = " NXeRC " id = " 3Tolai5NP1v " role = " NXodf " > < nl > + < property role = " NXePf " value = " Ending Call signal " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " 2m5naR " id = " 3Tolai5NNT3 " role = " 2m5mJr " > < nl > + < property role = " TrG5h " value = " Candidate " / > < nl > + < property role = " w4tQU " value = " true " / > < nl > + < ref role = " w4 $ XZ " node = " 3Tolai5NMKi " resolve = " WebRTCSignaling " / > < nl > + < node concept = " 2m7Kf5 " id = " 3Tolai5NNYb " role = " 2m0hLx " > < nl > < property role = " 2m7DUN " value = " 1 " / > < nl > - < property role = " TrG5h " value = " peer " / > < nl > - < node concept = " 2m5mGg " id = " 3Tolai5NgvC " role = " 2m7DVh " > < nl > - < ref role = " 2m5mJy " node = " GBscvBB6hj " resolve = " OutPeer " / > < nl > + < property role = " TrG5h " value = " sessionId " / > < nl > + < node concept = " wb0Ql " id = " 3Tolai5NNYf " role = " 2m7DVh " > < nl > + < ref role = " wb18D " node = " 2vxDjotnUB8 " resolve = " randomId " / > < nl > < / node > < nl > < / node > < nl > - < node concept = " 2m7Kf5 " id = " 3Tolai5NgvF " role = " 2m0hLx " > < nl > + < node concept = " Nu42z " id = " 3Tolai5NNTV " role = " 3BtCOu " > < nl > + < property role = " Nu42W " value = " 03 " / > < nl > + < / node > < nl > + < node concept = " NXeRC " id = " 3Tolai5NP1x " role = " NXodf " > < nl > + < property role = " NXePf " value = " Candidate signal " / > < nl > + < / node > < nl > + < node concept = " NX1gA " id = " 3Tolai5NRa2 " role = " NXodf " > < nl > + < property role = " 1GSvIU " value = " full " / > < nl > + < property role = " NX6R2 " value = " Session Id of candidate " / > < nl > + < ref role = " NX6Kv " node = " 3Tolai5NNYb " resolve = " sessionId " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " 2m5naR " id = " 3Tolai5NNUQ " role = " 2m5mJr " > < nl > + < property role = " TrG5h " value = " Offer " / > < nl > + < property role = " w4tQU " value = " true " / > < nl > + < ref role = " w4 $ XZ " node = " 3Tolai5NMKi " resolve = " WebRTCSignaling " / > < nl > + < node concept = " 2m7Kf5 " id = " 3Tolai5NNXT " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 1 " / > < nl > + < property role = " TrG5h " value = " sessionId " / > < nl > + < node concept = " wb0Ql " id = " 3Tolai5NNXZ " role = " 2m7DVh " > < nl > + < ref role = " wb18D " node = " 2vxDjotnUB8 " resolve = " randomId " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " 2m7Kf5 " id = " 3Tolai5NNXF " role = " 2m0hLx " > < nl > < property role = " 2m7DUN " value = " 2 " / > < nl > - < property role = " TrG5h " value = " callId " / > < nl > - < node concept = " 2m5ndQ " id = " 3Tolai5NgvL " role = " 2m7DVh " / > < nl > + < property role = " TrG5h " value = " sdp " / > < nl > + < node concept = " 2m5ndX " id = " 3Tolai5NNXJ " role = " 2m7DVh " / > < nl > < / node > < nl > - < node concept = " Nu42z " id = " 3Tolai5NguQ " role = " NuuwV " > < nl > - < property role = " Nu42W " value = " A27 " / > < nl > + < node concept = " Nu42z " id = " 3Tolai5NNVK " role = " 3BtCOu " > < nl > + < property role = " Nu42W " value = " 04 " / > < nl > < / node > < nl > - < node concept = " NXeRC " id = " 3Tolai5NuI0 " role = " 1GBnQ6 " > < nl > - < property role = " NXePf " value = " Answer Call " / > < nl > + < node concept = " NXeRC " id = " 3Tolai5NP1z " role = " NXodf " > < nl > + < property role = " NXePf " value = " Offer signal " / > < nl > < / node > < nl > - < node concept = " NX1gA " id = " 3Tolai5NuI5 " role = " 1GBnQ6 " > < nl > - < property role = " NX6R2 " value = " Call Peer " / > < nl > + < node concept = " NX1gA " id = " 3Tolai5NRak " role = " NXodf " > < nl > < property role = " 1GSvIU " value = " full " / > < nl > - < ref role = " NX6Kv " node = " 3Tolai5Ngvv " resolve = " peer " / > < nl > + < property role = " NX6R2 " value = " Session Id of offer " / > < nl > + < ref role = " NX6Kv " node = " 3Tolai5NNXT " resolve = " sessionId " / > < nl > < / node > < nl > - < node concept = " NX1gA " id = " 3Tolai5NuId " role = " 1GBnQ6 " > < nl > - < property role = " NX6R2 " value = " Call Id " / > < nl > + < node concept = " NX1gA " id = " 3Tolai5NRas " role = " NXodf " > < nl > + < property role = " NX6R2 " value = " Offer SDP " / > < nl > < property role = " 1GSvIU " value = " full " / > < nl > - < ref role = " NX6Kv " node = " 3Tolai5NgvF " resolve = " callId " / > < nl > + < ref role = " NX6Kv " node = " 3Tolai5NNXF " resolve = " sdp " / > < nl > < / node > < nl > - < node concept = " 2m1Rp1 " id = " 3Tolai5NxKV " role = " 2m6efq " > < nl > - < ref role = " 2m1o9l " node = " GBscvBB6 _ K " resolve = " Void " / > < nl > + < / node > < nl > + < node concept = " 2m5naR " id = " 3Tolai5NNWH " role = " 2m5mJr " > < nl > + < property role = " TrG5h " value = " Answer " / > < nl > + < property role = " w4tQU " value = " true " / > < nl > + < ref role = " w4 $ XZ " node = " 3Tolai5NMKi " resolve = " WebRTCSignaling " / > < nl > + < node concept = " 2m7Kf5 " id = " 3Tolai5NNY2 " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 1 " / > < nl > + < property role = " TrG5h " value = " sessionId " / > < nl > + < node concept = " wb0Ql " id = " 3Tolai5NNY8 " role = " 2m7DVh " > < nl > + < ref role = " wb18D " node = " 2vxDjotnUB8 " resolve = " randomId " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " 2m7Kf5 " id = " 3Tolai5NNXM " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 2 " / > < nl > + < property role = " TrG5h " value = " sdp " / > < nl > + < node concept = " 2m5ndX " id = " 3Tolai5NNXQ " role = " 2m7DVh " / > < nl > + < / node > < nl > + < node concept = " Nu42z " id = " 3Tolai5NNXD " role = " 3BtCOu " > < nl > + < property role = " Nu42W " value = " 05 " / > < nl > + < / node > < nl > + < node concept = " NXeRC " id = " 3Tolai5NP1 _ " role = " NXodf " > < nl > + < property role = " NXePf " value = " Answer signal " / > < nl > + < / node > < nl > + < node concept = " NX1gA " id = " 3Tolai5NRa $ " role = " NXodf " > < nl > + < property role = " NX6R2 " value = " Session Id of answer " / > < nl > + < property role = " 1GSvIU " value = " full " / > < nl > + < ref role = " NX6Kv " node = " 3Tolai5NNY2 " resolve = " sessionId " / > < nl > + < / node > < nl > + < node concept = " NX1gA " id = " 3Tolai5NRaG " role = " NXodf " > < nl > + < property role = " 1GSvIU " value = " full " / > < nl > + < property role = " NX6R2 " value = " Answer SDP " / > < nl > + < ref role = " NX6Kv " node = " 3Tolai5NNXM " resolve = " sdp " / > < nl > < / node > < nl > < / node > < nl > - < node concept = " 2m6fVq " id = " 3Tolai5NsC _ " role = " 2m5mJr " > < nl > - < property role = " TrG5h " value = " RejectCall " / > < nl > - < node concept = " 2uC4CA " id = " 3Tolai5NzMs " role = " 2uC9gA " > < nl > - < property role = " 2uC4DK " value = " 400 " / > < nl > - < property role = " 2uC4Qe " value = " CALL _ ENDED " / > < nl > - < property role = " 2uCiSL " value = " Throws when call is already ended " / > < nl > + < node concept = " 2m5naR " id = " 3Tolai5NNZp " role = " 2m5mJr " > < nl > + < property role = " TrG5h " value = " NeedRenegotiate " / > < nl > + < property role = " w4tQU " value = " true " / > < nl > + < ref role = " w4 $ XZ " node = " 3Tolai5NMKi " resolve = " WebRTCSignaling " / > < nl > + < node concept = " 2m7Kf5 " id = " 3Tolai5NO0z " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 1 " / > < nl > + < property role = " TrG5h " value = " sessionId " / > < nl > + < node concept = " wb0Ql " id = " 3Tolai5NO0B " role = " 2m7DVh " > < nl > + < ref role = " wb18D " node = " 2vxDjotnUB8 " resolve = " randomId " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " Nu42z " id = " 3Tolai5NO0x " role = " 3BtCOu " > < nl > + < property role = " Nu42W " value = " 06 " / > < nl > + < / node > < nl > + < node concept = " NXeRC " id = " 3Tolai5NP1B " role = " NXodf " > < nl > + < property role = " NXePf " value = " Need renegotiate session . For example when streams are changed . " / > < nl > < / node > < nl > - < node concept = " 2m7Kf5 " id = " 3Tolai5NsD $ " role = " 2m0hLx " > < nl > + < node concept = " NX1gA " id = " 3Tolai5NR9V " role = " NXodf " > < nl > + < property role = " NX6R2 " value = " Session Id for renegotiation " / > < nl > + < property role = " 1GSvIU " value = " full " / > < nl > + < ref role = " NX6Kv " node = " 3Tolai5NO0z " resolve = " sessionId " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " 2m5naR " id = " 3Tolai5NY1Q " role = " 2m5mJr " > < nl > + < property role = " TrG5h " value = " ConnectedDevice " / > < nl > + < node concept = " 2m7Kf5 " id = " 3Tolai5NY3D " role = " 2m0hLx " > < nl > < property role = " 2m7DUN " value = " 1 " / > < nl > - < property role = " TrG5h " value = " peer " / > < nl > - < node concept = " 2m5mGg " id = " 3Tolai5NsDC " role = " 2m7DVh " > < nl > - < ref role = " 2m5mJy " node = " GBscvBB6hj " resolve = " OutPeer " / > < nl > + < property role = " TrG5h " value = " device " / > < nl > + < node concept = " wb0Ql " id = " 3Tolai5NY3H " role = " 2m7DVh " > < nl > + < ref role = " wb18D " node = " 2vxDjotnUB8 " resolve = " randomId " / > < nl > < / node > < nl > < / node > < nl > - < node concept = " 2m7Kf5 " id = " 3Tolai5NsDF " role = " 2m0hLx " > < nl > + < node concept = " 2m7Kf5 " id = " 3Tolai5NY3K " role = " 2m0hLx " > < nl > < property role = " 2m7DUN " value = " 2 " / > < nl > - < property role = " TrG5h " value = " callId " / > < nl > - < node concept = " 2m5ndQ " id = " 3Tolai5NsDL " role = " 2m7DVh " / > < nl > + < property role = " TrG5h " value = " isConnecting " / > < nl > + < node concept = " 2m5nlT " id = " 3Tolai5NY3Q " role = " 2m7DVh " > < nl > + < node concept = " 2m5ndN " id = " 3Tolai5NY3W " role = " 3GH5xg " / > < nl > + < / node > < nl > < / node > < nl > - < node concept = " Nu42z " id = " 3Tolai5NsCA " role = " NuuwV " > < nl > - < property role = " Nu42W " value = " A2F " / > < nl > + < node concept = " 2m7Kf5 " id = " 3Tolai5NY3Z " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 3 " / > < nl > + < property role = " TrG5h " value = " isConnected " / > < nl > + < node concept = " 2m5nlT " id = " 3Tolai5NY48 " role = " 2m7DVh " > < nl > + < node concept = " 2m5ndN " id = " 3Tolai5NY4e " role = " 3GH5xg " / > < nl > + < / node > < nl > < / node > < nl > - < node concept = " 2m1Rp1 " id = " 3Tolai5NsDO " role = " 2m6efq " > < nl > - < ref role = " 2m1o9l " node = " GBscvBB6 _ K " resolve = " Void " / > < nl > + < node concept = " NXeRC " id = " 3Tolai5NY4h " role = " NXodf " > < nl > + < property role = " NXePf " value = " Connected Device " / > < nl > + < / node > < nl > + < node concept = " NX1gA " id = " 3Tolai5NY4m " role = " NXodf " > < nl > + < property role = " 1GSvIU " value = " full " / > < nl > + < property role = " NX6R2 " value = " Device Id " / > < nl > + < ref role = " NX6Kv " node = " 3Tolai5NY3D " resolve = " device " / > < nl > < / node > < nl > - < node concept = " NXeRC " id = " 3Tolai5NuIi " role = " 1GBnQ6 " > < nl > - < property role = " NXePf " value = " End Call " / > < nl > + < node concept = " NX1gA " id = " 3Tolai5NY4u " role = " NXodf " > < nl > + < property role = " NX6R2 " value = " Is Connecting to device . Default is false . " / > < nl > + < property role = " 1GSvIU " value = " full " / > < nl > + < ref role = " NX6Kv " node = " 3Tolai5NY3K " resolve = " isConnecting " / > < nl > < / node > < nl > - < node concept = " NX1gA " id = " 3Tolai5NuIn " role = " 1GBnQ6 " > < nl > - < property role = " NX6R2 " value = " Call Peer " / > < nl > + < node concept = " NX1gA " id = " 3Tolai5NZ6a " role = " NXodf " > < nl > + < property role = " NX6R2 " value = " Is Connected to device . Default is false . " / > < nl > < property role = " 1GSvIU " value = " full " / > < nl > - < ref role = " NX6Kv " node = " 3Tolai5NsD $ " resolve = " peer " / > < nl > + < ref role = " NX6Kv " node = " 3Tolai5NY3Z " resolve = " isConnected " / > < nl > < / node > < nl > - < node concept = " NX1gA " id = " 3Tolai5NuIv " role = " 1GBnQ6 " > < nl > - < property role = " NX6R2 " value = " Call Id " / > < nl > + < / node > < nl > + < node concept = " 2m5naR " id = " 3Tolai5NWF $ " role = " 2m5mJr " > < nl > + < property role = " TrG5h " value = " ConnectedUser " / > < nl > + < node concept = " 2m7Kf5 " id = " 3Tolai5NWIt " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 1 " / > < nl > + < property role = " TrG5h " value = " uid " / > < nl > + < node concept = " wb0Ql " id = " 3Tolai5NWIA " role = " 2m7DVh " > < nl > + < ref role = " wb18D " node = " 5qm50Y0e3uz " resolve = " userId " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " 2m7Kf5 " id = " 3Tolai5NWID " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 4 " / > < nl > + < property role = " TrG5h " value = " isConnecting " / > < nl > + < node concept = " 2m5nlT " id = " 3Tolai5NWIO " role = " 2m7DVh " > < nl > + < node concept = " 2m5ndN " id = " 3Tolai5NWIU " role = " 3GH5xg " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " 2m7Kf5 " id = " 3Tolai5NWIX " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 5 " / > < nl > + < property role = " TrG5h " value = " isConnected " / > < nl > + < node concept = " 2m5nlT " id = " 3Tolai5NWJb " role = " 2m7DVh " > < nl > + < node concept = " 2m5ndN " id = " 3Tolai5NWJh " role = " 3GH5xg " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " NXeRC " id = " 3Tolai5NWIr " role = " NXodf " > < nl > + < property role = " NXePf " value = " Connected User " / > < nl > + < / node > < nl > + < node concept = " NX1gA " id = " 3Tolai5NWLe " role = " NXodf " > < nl > + < property role = " 1GSvIU " value = " full " / > < nl > + < property role = " NX6R2 " value = " Device uid " / > < nl > + < ref role = " NX6Kv " node = " 3Tolai5NWIt " resolve = " uid " / > < nl > + < / node > < nl > + < node concept = " NX1gA " id = " 3Tolai5NZ6k " role = " NXodf " > < nl > + < property role = " NX6R2 " value = " Is Connecting to user . Default is false . " / > < nl > + < property role = " 1GSvIU " value = " full " / > < nl > + < ref role = " NX6Kv " node = " 3Tolai5NWID " resolve = " isConnecting " / > < nl > + < / node > < nl > + < node concept = " NX1gA " id = " 3Tolai5NZ6u " role = " NXodf " > < nl > + < property role = " NX6R2 " value = " Is connected to user . Default is false . " / > < nl > + < property role = " 1GSvIU " value = " full " / > < nl > + < ref role = " NX6Kv " node = " 3Tolai5NWIX " resolve = " isConnected " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " 2m5naR " id = " 3Tolai5NTfk " role = " 2m5mJr " > < nl > + < property role = " TrG5h " value = " ActiveDevices " / > < nl > + < property role = " w4tQU " value = " true " / > < nl > + < ref role = " w4 $ XZ " node = " 3Tolai5NMKi " resolve = " WebRTCSignaling " / > < nl > + < node concept = " 2m7Kf5 " id = " 3Tolai5NUvf " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 2 " / > < nl > + < property role = " TrG5h " value = " users " / > < nl > + < node concept = " 2m5nlk " id = " 3Tolai5NUvm " role = " 2m7DVh " > < nl > + < node concept = " 2m5mGg " id = " 3Tolai5NWJk " role = " 3GJlyp " > < nl > + < ref role = " 2m5mJy " node = " 3Tolai5NWF $ " resolve = " ConnectedUser " / > < nl > + < / node > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " NXeRC " id = " 3Tolai5NTgY " role = " NXodf " > < nl > + < property role = " NXePf " value = " List of current memb " / > < nl > + < / node > < nl > + < node concept = " NX1gA " id = " 3Tolai5NUv _ " role = " NXodf " > < nl > + < property role = " NX6R2 " value = " Currently active users " / > < nl > + < property role = " 1GSvIU " value = " full " / > < nl > + < ref role = " NX6Kv " node = " 3Tolai5NUvf " resolve = " users " / > < nl > + < / node > < nl > + < node concept = " Nu42z " id = " 3Tolai5NUyY " role = " 3BtCOu " > < nl > + < property role = " Nu42W " value = " 07 " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " 2m5naR " id = " 3Tolai5NUxj " role = " 2m5mJr " > < nl > + < property role = " TrG5h " value = " NeedOffer " / > < nl > + < property role = " w4tQU " value = " true " / > < nl > + < ref role = " w4 $ XZ " node = " 3Tolai5NMKi " resolve = " WebRTCSignaling " / > < nl > + < node concept = " 2m7Kf5 " id = " 3Tolai5NVBK " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 1 " / > < nl > + < property role = " TrG5h " value = " uid " / > < nl > + < node concept = " wb0Ql " id = " 3Tolai5NVBO " role = " 2m7DVh " > < nl > + < ref role = " wb18D " node = " 5qm50Y0e3uz " resolve = " userId " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " 2m7Kf5 " id = " 3Tolai5NVBR " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 2 " / > < nl > + < property role = " TrG5h " value = " device " / > < nl > + < node concept = " wb0Ql " id = " 3Tolai5NVBX " role = " 2m7DVh " > < nl > + < ref role = " wb18D " node = " 2vxDjotnUB8 " resolve = " randomId " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " Nu42z " id = " 3Tolai5NVC0 " role = " 3BtCOu " > < nl > + < property role = " Nu42W " value = " 08 " / > < nl > + < / node > < nl > + < node concept = " NXeRC " id = " 3Tolai5NVC2 " role = " NXodf " > < nl > + < property role = " NXePf " value = " Notification from owner that offer is required " / > < nl > + < / node > < nl > + < node concept = " NX1gA " id = " 3Tolai5NVC7 " role = " NXodf " > < nl > + < property role = " NX6R2 " value = " User ' s Id " / > < nl > + < property role = " 1GSvIU " value = " full " / > < nl > + < ref role = " NX6Kv " node = " 3Tolai5NVBK " resolve = " uid " / > < nl > + < / node > < nl > + < node concept = " NX1gA " id = " 3Tolai5NVCf " role = " NXodf " > < nl > < property role = " 1GSvIU " value = " full " / > < nl > - < ref role = " NX6Kv " node = " 3Tolai5NsDF " resolve = " callId " / > < nl > + < property role = " NX6R2 " value = " Destination Device Id " / > < nl > + < ref role = " NX6Kv " node = " 3Tolai5NVBR " resolve = " device " / > < nl > < / node > < nl > < / node > < nl > < node concept = " 1Dx9M1 " id = " 6tgpW9bxpK8 " role = " 1Dx9rD " >
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - api / actor . json b / actor - sdk / sdk - api / actor . json < nl > index 62f2b5e . . 897a7ef 100644 < nl > - - - a / actor - sdk / sdk - api / actor . json < nl > + + + b / actor - sdk / sdk - api / actor . json < nl > @ @ - 12949 , 7 + 12949 , 7 @ @ < nl > { < nl > " type " : " rpc " , < nl > " content " : { < nl > - " name " : " LoadEphermalPublicKeys " , < nl > + " name " : " LoadPrePublicKeys " , < nl > " header " : 2603 , < nl > " response " : { < nl > " type " : " reference " , < nl > @ @ - 13428 , 7 + 13428 , 7 @ @ < nl > { < nl > " type " : " rpc " , < nl > " content " : { < nl > - " name " : " UploadEphermalKey " , < nl > + " name " : " UploadPreKey " , < nl > " header " : 2612 , < nl > " response " : { < nl > " type " : " reference " , < nl > @ @ - 13516 , 11 + 13516 , 26 @ @ < nl > " argument " : " encPackage " , < nl > " category " : " full " , < nl > " description " : " Encrypted package " < nl > + } , < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " senderKeyGroupId " , < nl > + " category " : " full " , < nl > + " description " : " Sender key group " < nl > } < nl > ] , < nl > + " expandable " : " true " , < nl > " attributes " : [ < nl > { < nl > " type " : { < nl > + " type " : " alias " , < nl > + " childType " : " keyGroupId " < nl > + } , < nl > + " id " : 4 , < nl > + " name " : " senderKeyGroupId " < nl > + } , < nl > + { < nl > + " type " : { < nl > " type " : " list " , < nl > " childType " : { < nl > " type " : " struct " , < nl > @ @ - 13539 , 6 + 13554 , 50 @ @ < nl > " type " : " bytes " , < nl > " id " : 3 , < nl > " name " : " encPackage " < nl > + } , < nl > + { < nl > + " type " : { < nl > + " type " : " list " , < nl > + " childType " : { < nl > + " type " : " struct " , < nl > + " childType " : " EncryptedBoxSignature " < nl > + } < nl > + } , < nl > + " id " : 5 , < nl > + " name " : " signatures " < nl > + } < nl > + ] < nl > + } < nl > + } , < nl > + { < nl > + " type " : " struct " , < nl > + " content " : { < nl > + " name " : " EncryptedBoxSignature " , < nl > + " doc " : [ < nl > + " Signature for encrypted package " , < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " algType " , < nl > + " category " : " full " , < nl > + " description " : " Alg Type " < nl > + } , < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " signature " , < nl > + " category " : " full " , < nl > + " description " : " Signature of encrypted package " < nl > + } < nl > + ] , < nl > + " attributes " : [ < nl > + { < nl > + " type " : " string " , < nl > + " id " : 1 , < nl > + " name " : " algType " < nl > + } , < nl > + { < nl > + " type " : " bytes " , < nl > + " id " : 2 , < nl > + " name " : " signature " < nl > } < nl > ] < nl > } < nl > @ @ - 13568 , 6 + 13627 , 7 @ @ < nl > " description " : " Encrypted encryption key " < nl > } < nl > ] , < nl > + " expandable " : " true " , < nl > " attributes " : [ < nl > { < nl > " type " : { < nl > @ @ - 13597 , 6 + 13657 , 381 @ @ < nl > } < nl > ] < nl > } < nl > + } , < nl > + { < nl > + " type " : " struct " , < nl > + " content " : { < nl > + " name " : " KeyGroupId " , < nl > + " doc " : [ < nl > + " References to key groups " , < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " uid " , < nl > + " category " : " full " , < nl > + " description " : " User ' s id " < nl > + } , < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " keyGroupId " , < nl > + " category " : " hidden " , < nl > + " description " : " Key Group Id " < nl > + } < nl > + ] , < nl > + " attributes " : [ < nl > + { < nl > + " type " : { < nl > + " type " : " alias " , < nl > + " childType " : " userId " < nl > + } , < nl > + " id " : 1 , < nl > + " name " : " uid " < nl > + } , < nl > + { < nl > + " type " : { < nl > + " type " : " alias " , < nl > + " childType " : " keyGroupId " < nl > + } , < nl > + " id " : 2 , < nl > + " name " : " keyGroupId " < nl > + } < nl > + ] < nl > + } < nl > + } , < nl > + { < nl > + " type " : " rpc " , < nl > + " content " : { < nl > + " name " : " SendEncryptedPackage " , < nl > + " header " : 2657 , < nl > + " response " : { < nl > + " type " : " anonymous " , < nl > + " header " : 2664 , < nl > + " attributes " : [ < nl > + { < nl > + " type " : { < nl > + " type " : " opt " , < nl > + " childType " : " int32 " < nl > + } , < nl > + " id " : 1 , < nl > + " name " : " seq " < nl > + } , < nl > + { < nl > + " type " : { < nl > + " type " : " opt " , < nl > + " childType " : { < nl > + " type " : " alias " , < nl > + " childType " : " seq _ state " < nl > + } < nl > + } , < nl > + " id " : 2 , < nl > + " name " : " state " < nl > + } , < nl > + { < nl > + " type " : { < nl > + " type " : " opt " , < nl > + " childType " : { < nl > + " type " : " alias " , < nl > + " childType " : " date " < nl > + } < nl > + } , < nl > + " id " : 3 , < nl > + " name " : " date " < nl > + } , < nl > + { < nl > + " type " : { < nl > + " type " : " list " , < nl > + " childType " : { < nl > + " type " : " struct " , < nl > + " childType " : " KeyGroupId " < nl > + } < nl > + } , < nl > + " id " : 4 , < nl > + " name " : " obsoleteKeyGroups " < nl > + } , < nl > + { < nl > + " type " : { < nl > + " type " : " list " , < nl > + " childType " : { < nl > + " type " : " struct " , < nl > + " childType " : " KeyGroupId " < nl > + } < nl > + } , < nl > + " id " : 5 , < nl > + " name " : " missedKeyGroups " < nl > + } < nl > + ] < nl > + } , < nl > + " doc " : [ < nl > + " Sending encrypted package " , < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " randomId " , < nl > + " category " : " hidden " , < nl > + " description " : " Random id " < nl > + } < nl > + ] , < nl > + " attributes " : [ < nl > + { < nl > + " type " : { < nl > + " type " : " alias " , < nl > + " childType " : " randomId " < nl > + } , < nl > + " id " : 1 , < nl > + " name " : " randomId " < nl > + } , < nl > + { < nl > + " type " : { < nl > + " type " : " list " , < nl > + " childType " : { < nl > + " type " : " struct " , < nl > + " childType " : " UserOutPeer " < nl > + } < nl > + } , < nl > + " id " : 2 , < nl > + " name " : " destPeers " < nl > + } , < nl > + { < nl > + " type " : { < nl > + " type " : " list " , < nl > + " childType " : { < nl > + " type " : " struct " , < nl > + " childType " : " KeyGroupId " < nl > + } < nl > + } , < nl > + " id " : 3 , < nl > + " name " : " ignoredKeyGroups " < nl > + } , < nl > + { < nl > + " type " : { < nl > + " type " : " struct " , < nl > + " childType " : " EncryptedBox " < nl > + } , < nl > + " id " : 4 , < nl > + " name " : " encryptedBox " < nl > + } < nl > + ] < nl > + } < nl > + } , < nl > + { < nl > + " type " : " update " , < nl > + " content " : { < nl > + " name " : " EncryptedPackage " , < nl > + " header " : 177 , < nl > + " doc " : [ < nl > + " Update about encrypted package " , < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " randomId " , < nl > + " category " : " full " , < nl > + " description " : " Random Id of package " < nl > + } , < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " date " , < nl > + " category " : " full " , < nl > + " description " : " Sending date of package " < nl > + } , < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " senderId " , < nl > + " category " : " full " , < nl > + " description " : " Sender id of package " < nl > + } , < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " encryptedBox " , < nl > + " category " : " full " , < nl > + " description " : " Encrypted box " < nl > + } < nl > + ] , < nl > + " attributes " : [ < nl > + { < nl > + " type " : { < nl > + " type " : " alias " , < nl > + " childType " : " randomId " < nl > + } , < nl > + " id " : 1 , < nl > + " name " : " randomId " < nl > + } , < nl > + { < nl > + " type " : { < nl > + " type " : " alias " , < nl > + " childType " : " date " < nl > + } , < nl > + " id " : 2 , < nl > + " name " : " date " < nl > + } , < nl > + { < nl > + " type " : { < nl > + " type " : " alias " , < nl > + " childType " : " userId " < nl > + } , < nl > + " id " : 3 , < nl > + " name " : " senderId " < nl > + } , < nl > + { < nl > + " type " : { < nl > + " type " : " struct " , < nl > + " childType " : " EncryptedBox " < nl > + } , < nl > + " id " : 4 , < nl > + " name " : " encryptedBox " < nl > + } < nl > + ] < nl > + } < nl > + } < nl > + ] < nl > + } , < nl > + { < nl > + " title " : " Storage " , < nl > + " package " : " storage " , < nl > + " items " : [ < nl > + { < nl > + " type " : " rpc " , < nl > + " content " : { < nl > + " name " : " UploadSharedBlob " , < nl > + " header " : 2660 , < nl > + " response " : { < nl > + " type " : " anonymous " , < nl > + " header " : 2661 , < nl > + " doc " : [ < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " sharedObjectId " , < nl > + " category " : " full " , < nl > + " description " : " Id of shared object " < nl > + } < nl > + ] , < nl > + " attributes " : [ < nl > + { < nl > + " type " : " int32 " , < nl > + " id " : 1 , < nl > + " name " : " sharedObjectId " < nl > + } < nl > + ] < nl > + } , < nl > + " doc " : [ < nl > + " Upload shared blob with user " , < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " destPeer " , < nl > + " category " : " full " , < nl > + " description " : " Destination peer " < nl > + } , < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " bucket " , < nl > + " category " : " full " , < nl > + " description " : " Bucked name " < nl > + } , < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " blob " , < nl > + " category " : " full " , < nl > + " description " : " Blob data " < nl > + } , < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " randomId " , < nl > + " category " : " full " , < nl > + " description " : " Random id for protecting from double upload " < nl > + } < nl > + ] , < nl > + " attributes " : [ < nl > + { < nl > + " type " : { < nl > + " type " : " struct " , < nl > + " childType " : " UserOutPeer " < nl > + } , < nl > + " id " : 1 , < nl > + " name " : " destPeer " < nl > + } , < nl > + { < nl > + " type " : " string " , < nl > + " id " : 2 , < nl > + " name " : " bucket " < nl > + } , < nl > + { < nl > + " type " : " bytes " , < nl > + " id " : 3 , < nl > + " name " : " blob " < nl > + } , < nl > + { < nl > + " type " : { < nl > + " type " : " alias " , < nl > + " childType " : " randomId " < nl > + } , < nl > + " id " : 4 , < nl > + " name " : " randomId " < nl > + } < nl > + ] < nl > + } < nl > + } , < nl > + { < nl > + " type " : " rpc " , < nl > + " content " : { < nl > + " name " : " DownloadSharedBlob " , < nl > + " header " : 2662 , < nl > + " response " : { < nl > + " type " : " anonymous " , < nl > + " header " : 2663 , < nl > + " doc " : [ < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " blob " , < nl > + " category " : " full " , < nl > + " description " : " Blob contents " < nl > + } < nl > + ] , < nl > + " attributes " : [ < nl > + { < nl > + " type " : " bytes " , < nl > + " id " : 1 , < nl > + " name " : " blob " < nl > + } < nl > + ] < nl > + } , < nl > + " doc " : [ < nl > + " Download shared blob " , < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " destPeer " , < nl > + " category " : " full " , < nl > + " description " : " Destination peer " < nl > + } , < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " bucket " , < nl > + " category " : " full " , < nl > + " description " : " Bucket name " < nl > + } , < nl > + { < nl > + " type " : " reference " , < nl > + " argument " : " objectId " , < nl > + " category " : " full " , < nl > + " description " : " Object Id " < nl > + } < nl > + ] , < nl > + " attributes " : [ < nl > + { < nl > + " type " : { < nl > + " type " : " struct " , < nl > + " childType " : " UserOutPeer " < nl > + } , < nl > + " id " : 1 , < nl > + " name " : " destPeer " < nl > + } , < nl > + { < nl > + " type " : " string " , < nl > + " id " : 2 , < nl > + " name " : " bucket " < nl > + } , < nl > + { < nl > + " type " : " int32 " , < nl > + " id " : 3 , < nl > + " name " : " objectId " < nl > + } < nl > + ] < nl > + } < nl > } < nl > ] < nl > } , < nl > diff - - git a / actor - sdk / sdk - api / api - language / solutions / im . actor . api / models / im / actor / api / scheme . mps b / actor - sdk / sdk - api / api - language / solutions / im . actor . api / models / im / actor / api / scheme . mps < nl > index 666a8f1 . . 073f198 100644 < nl > - - - a / actor - sdk / sdk - api / api - language / solutions / im . actor . api / models / im / actor / api / scheme . mps < nl > + + + b / actor - sdk / sdk - api / api - language / solutions / im . actor . api / models / im / actor / api / scheme . mps < nl > @ @ - 11145 , 7 + 11145 , 7 @ @ < nl > < / node > < nl > < / node > < nl > < node concept = " 2m6fVq " id = " 5 _ CDdZ2jMNJ " role = " 2m5mJr " > < nl > - < property role = " TrG5h " value = " LoadEphermalPublicKeys " / > < nl > + < property role = " TrG5h " value = " LoadPrePublicKeys " / > < nl > < node concept = " 2uC4CA " id = " 5 _ CDdZ2jQvA " role = " 2uC9gA " > < nl > < property role = " 2uC4DK " value = " 400 " / > < nl > < property role = " 2uC4Qe " value = " NO _ GROUP _ FOUND " / > < nl > @ @ - 11542 , 7 + 11542 , 7 @ @ < nl > < / node > < nl > < / node > < nl > < node concept = " 2m6fVq " id = " 5 _ CDdZ2qOwz " role = " 2m5mJr " > < nl > - < property role = " TrG5h " value = " UploadEphermalKey " / > < nl > + < property role = " TrG5h " value = " UploadPreKey " / > < nl > < node concept = " 2m7Kf5 " id = " 5 _ CDdZ2qOzv " role = " 2m0hLx " > < nl > < property role = " 2m7DUN " value = " 1 " / > < nl > < property role = " TrG5h " value = " keyGroupId " / > < nl > @ @ - 11598 , 6 + 11598 , 14 @ @ < nl > < / node > < nl > < node concept = " 2m5naR " id = " 5 _ CDdZ2r0S4 " role = " 2m5mJr " > < nl > < property role = " TrG5h " value = " EncryptedBox " / > < nl > + < property role = " tsOgz " value = " true " / > < nl > + < node concept = " 2m7Kf5 " id = " 1HaN6CbFN4V " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 4 " / > < nl > + < property role = " TrG5h " value = " senderKeyGroupId " / > < nl > + < node concept = " wb0Ql " id = " 1HaN6CbFYzW " role = " 2m7DVh " > < nl > + < ref role = " wb18D " node = " 5 _ CDdZ2q76m " resolve = " keyGroupId " / > < nl > + < / node > < nl > + < / node > < nl > < node concept = " 2m7Kf5 " id = " 5 _ CDdZ2r6rJ " role = " 2m0hLx " > < nl > < property role = " 2m7DUN " value = " 1 " / > < nl > < property role = " TrG5h " value = " keys " / > < nl > @ @ - 11617 , 6 + 11625 , 15 @ @ < nl > < property role = " TrG5h " value = " encPackage " / > < nl > < node concept = " 2m61tm " id = " 5 _ CDdZ2r6s6 " role = " 2m7DVh " / > < nl > < / node > < nl > + < node concept = " 2m7Kf5 " id = " 1HaN6CbGaH4 " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 5 " / > < nl > + < property role = " TrG5h " value = " signatures " / > < nl > + < node concept = " 2m5nlk " id = " 1HaN6CbGaHh " role = " 2m7DVh " > < nl > + < node concept = " 2m5mGg " id = " 1HaN6CbGaHn " role = " 3GJlyp " > < nl > + < ref role = " 2m5mJy " node = " 1HaN6CbG9Fu " resolve = " EncryptedBoxSignature " / > < nl > + < / node > < nl > + < / node > < nl > + < / node > < nl > < node concept = " NXeRC " id = " 5 _ CDdZ2r6s9 " role = " NXodf " > < nl > < property role = " NXePf " value = " Encrypted package that is encrypted for multiple keys " / > < nl > < / node > < nl > @ @ - 11635 , 9 + 11652 , 41 @ @ < nl > < property role = " NX6R2 " value = " Encrypted package " / > < nl > < ref role = " NX6Kv " node = " 5 _ CDdZ2r6rZ " resolve = " encPackage " / > < nl > < / node > < nl > + < node concept = " NX1gA " id = " 1HaN6CbG0sE " role = " NXodf " > < nl > + < property role = " NX6R2 " value = " Sender key group " / > < nl > + < property role = " 1GSvIU " value = " full " / > < nl > + < ref role = " NX6Kv " node = " 1HaN6CbFN4V " resolve = " senderKeyGroupId " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " 2m5naR " id = " 1HaN6CbG9Fu " role = " 2m5mJr " > < nl > + < property role = " TrG5h " value = " EncryptedBoxSignature " / > < nl > + < node concept = " 2m7Kf5 " id = " 1HaN6CbG9JP " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 1 " / > < nl > + < property role = " TrG5h " value = " algType " / > < nl > + < node concept = " 2m5ndX " id = " 1HaN6CbG9JT " role = " 2m7DVh " / > < nl > + < / node > < nl > + < node concept = " 2m7Kf5 " id = " 1HaN6CbG9JW " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 2 " / > < nl > + < property role = " TrG5h " value = " signature " / > < nl > + < node concept = " 2m61tm " id = " 1HaN6CbG9K2 " role = " 2m7DVh " / > < nl > + < / node > < nl > + < node concept = " NXeRC " id = " 1HaN6CbGaGM " role = " NXodf " > < nl > + < property role = " NXePf " value = " Signature for encrypted package " / > < nl > + < / node > < nl > + < node concept = " NX1gA " id = " 1HaN6CbGaGR " role = " NXodf " > < nl > + < property role = " NX6R2 " value = " Alg Type " / > < nl > + < property role = " 1GSvIU " value = " full " / > < nl > + < ref role = " NX6Kv " node = " 1HaN6CbG9JP " resolve = " algType " / > < nl > + < / node > < nl > + < node concept = " NX1gA " id = " 1HaN6CbGaGZ " role = " NXodf " > < nl > + < property role = " NX6R2 " value = " Signature of encrypted package " / > < nl > + < property role = " 1GSvIU " value = " full " / > < nl > + < ref role = " NX6Kv " node = " 1HaN6CbG9JW " resolve = " signature " / > < nl > + < / node > < nl > < / node > < nl > < node concept = " 2m5naR " id = " 5 _ CDdZ2r0YU " role = " 2m5mJr " > < nl > < property role = " TrG5h " value = " EncyptedBoxKey " / > < nl > + < property role = " tsOgz " value = " true " / > < nl > < node concept = " 2m7Kf5 " id = " 5 _ CDdZ2rhAZ " role = " 2m0hLx " > < nl > < property role = " 2m7DUN " value = " 1 " / > < nl > < property role = " TrG5h " value = " usersId " / > < nl > @ @ - 11680 , 6 + 11729 , 185 @ @ < nl > < ref role = " NX6Kv " node = " 5 _ CDdZ2r2Pn " resolve = " encryptedKey " / > < nl > < / node > < nl > < / node > < nl > + < node concept = " 2m5naR " id = " 1HaN6CbG4qO " role = " 2m5mJr " > < nl > + < property role = " TrG5h " value = " KeyGroupId " / > < nl > + < node concept = " 2m7Kf5 " id = " 1HaN6CbG4Is " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 1 " / > < nl > + < property role = " TrG5h " value = " uid " / > < nl > + < node concept = " wb0Ql " id = " 1HaN6CbG4Iz " role = " 2m7DVh " > < nl > + < ref role = " wb18D " node = " 5qm50Y0e3uz " resolve = " userId " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " 2m7Kf5 " id = " 1HaN6CbG4IA " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 2 " / > < nl > + < property role = " TrG5h " value = " keyGroupId " / > < nl > + < node concept = " wb0Ql " id = " 1HaN6CbG4IG " role = " 2m7DVh " > < nl > + < ref role = " wb18D " node = " 5 _ CDdZ2q76m " resolve = " keyGroupId " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " NXeRC " id = " 1HaN6CbG4IJ " role = " NXodf " > < nl > + < property role = " NXePf " value = " References to key groups " / > < nl > + < / node > < nl > + < node concept = " NX1gA " id = " 1HaN6CbG4IO " role = " NXodf " > < nl > + < property role = " 1GSvIU " value = " full " / > < nl > + < property role = " NX6R2 " value = " User ' s id " / > < nl > + < ref role = " NX6Kv " node = " 1HaN6CbG4Is " resolve = " uid " / > < nl > + < / node > < nl > + < node concept = " NX1gA " id = " 1HaN6CbG4IW " role = " NXodf " > < nl > + < property role = " NX6R2 " value = " Key Group Id " / > < nl > + < ref role = " NX6Kv " node = " 1HaN6CbG4IA " resolve = " keyGroupId " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " 2m6fVq " id = " 1HaN6CbG2pe " role = " 2m5mJr " > < nl > + < property role = " TrG5h " value = " SendEncryptedPackage " / > < nl > + < node concept = " 2m7Kf5 " id = " 1HaN6CbG2tq " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 1 " / > < nl > + < property role = " TrG5h " value = " randomId " / > < nl > + < node concept = " wb0Ql " id = " 1HaN6CbG2tx " role = " 2m7DVh " > < nl > + < ref role = " wb18D " node = " 2vxDjotnUB8 " resolve = " randomId " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " 2m7Kf5 " id = " 1HaN6CbG2td " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 2 " / > < nl > + < property role = " TrG5h " value = " destPeers " / > < nl > + < node concept = " 2m5nlk " id = " 1HaN6CbG2th " role = " 2m7DVh " > < nl > + < node concept = " 2m5mGg " id = " 1HaN6CbG2tn " role = " 3GJlyp " > < nl > + < ref role = " 2m5mJy " node = " GBscvBB6ia " resolve = " UserOutPeer " / > < nl > + < / node > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " 2m7Kf5 " id = " 1HaN6CbG4J1 " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 3 " / > < nl > + < property role = " TrG5h " value = " ignoredKeyGroups " / > < nl > + < node concept = " 2m5nlk " id = " 1HaN6CbG4Jc " role = " 2m7DVh " > < nl > + < node concept = " 2m5mGg " id = " 1HaN6CbG4Ji " role = " 3GJlyp " > < nl > + < ref role = " 2m5mJy " node = " 1HaN6CbG4qO " resolve = " KeyGroupId " / > < nl > + < / node > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " 2m7Kf5 " id = " 1HaN6CbG2t $ " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 4 " / > < nl > + < property role = " TrG5h " value = " encryptedBox " / > < nl > + < node concept = " 2m5mGg " id = " 1HaN6CbG2tH " role = " 2m7DVh " > < nl > + < ref role = " 2m5mJy " node = " 5 _ CDdZ2r0S4 " resolve = " EncryptedBox " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " Nu42z " id = " 1HaN6CbG2pf " role = " NuuwV " > < nl > + < property role = " Nu42W " value = " A61 " / > < nl > + < / node > < nl > + < node concept = " NXeRC " id = " 1HaN6CbG8En " role = " 1GBnQ6 " > < nl > + < property role = " NXePf " value = " Sending encrypted package " / > < nl > + < / node > < nl > + < node concept = " NX1gA " id = " 1HaN6CbG8Es " role = " 1GBnQ6 " > < nl > + < property role = " NX6R2 " value = " Random id " / > < nl > + < ref role = " NX6Kv " node = " 1HaN6CbG2tq " resolve = " randomId " / > < nl > + < / node > < nl > + < node concept = " 2m1R6W " id = " 1HaN6CbGoUb " role = " 2m6efq " > < nl > + < node concept = " 2m7Kf5 " id = " 1HaN6CbGoUg " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 1 " / > < nl > + < property role = " TrG5h " value = " seq " / > < nl > + < node concept = " 2m5nlT " id = " 1HaN6CbGoUk " role = " 2m7DVh " > < nl > + < node concept = " 2m5ndE " id = " 1HaN6CbGoUq " role = " 3GH5xg " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " 2m7Kf5 " id = " 1HaN6CbGoUt " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 2 " / > < nl > + < property role = " TrG5h " value = " state " / > < nl > + < node concept = " 2m5nlT " id = " 1HaN6CbGoU $ " role = " 2m7DVh " > < nl > + < node concept = " wb0Ql " id = " 1HaN6CbGoUE " role = " 3GH5xg " > < nl > + < ref role = " wb18D " node = " 55bmeIQ7 $ gx " resolve = " seq _ state " / > < nl > + < / node > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " 2m7Kf5 " id = " 1HaN6CbGoUH " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 3 " / > < nl > + < property role = " TrG5h " value = " date " / > < nl > + < node concept = " 2m5nlT " id = " 1HaN6CbGoUR " role = " 2m7DVh " > < nl > + < node concept = " wb0Ql " id = " 1HaN6CbGoUX " role = " 3GH5xg " > < nl > + < ref role = " wb18D " node = " 2vxDjotnO8T " resolve = " date " / > < nl > + < / node > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " 2m7Kf5 " id = " 1HaN6CbGoV0 " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 4 " / > < nl > + < property role = " TrG5h " value = " obsoleteKeyGroups " / > < nl > + < node concept = " 2m5nlk " id = " 1HaN6CbGoVd " role = " 2m7DVh " > < nl > + < node concept = " 2m5mGg " id = " 1HaN6CbGoVj " role = " 3GJlyp " > < nl > + < ref role = " 2m5mJy " node = " 1HaN6CbG4qO " resolve = " KeyGroupId " / > < nl > + < / node > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " 2m7Kf5 " id = " 1HaN6CbGpT1 " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 5 " / > < nl > + < property role = " TrG5h " value = " missedKeyGroups " / > < nl > + < node concept = " 2m5nlk " id = " 1HaN6CbGpTo " role = " 2m7DVh " > < nl > + < node concept = " 2m5mGg " id = " 1HaN6CbGt1 $ " role = " 3GJlyp " > < nl > + < ref role = " 2m5mJy " node = " 1HaN6CbG4qO " resolve = " KeyGroupId " / > < nl > + < / node > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " Nu42z " id = " 1HaN6CbGoUc " role = " NuuwV " > < nl > + < property role = " Nu42W " value = " A68 " / > < nl > + < / node > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " NpBTk " id = " 1HaN6CbG8 _ f " role = " 2m5mJr " > < nl > + < property role = " TrG5h " value = " EncryptedPackage " / > < nl > + < node concept = " 2m7Kf5 " id = " 1HaN6CbG8Dz " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 1 " / > < nl > + < property role = " TrG5h " value = " randomId " / > < nl > + < node concept = " wb0Ql " id = " 1HaN6CbG8DB " role = " 2m7DVh " > < nl > + < ref role = " wb18D " node = " 2vxDjotnUB8 " resolve = " randomId " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " 2m7Kf5 " id = " 1HaN6CbG8DE " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 2 " / > < nl > + < property role = " TrG5h " value = " date " / > < nl > + < node concept = " wb0Ql " id = " 1HaN6CbG8DW " role = " 2m7DVh " > < nl > + < ref role = " wb18D " node = " 2vxDjotnO8T " resolve = " date " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " 2m7Kf5 " id = " 1HaN6CbG8DZ " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 3 " / > < nl > + < property role = " TrG5h " value = " senderId " / > < nl > + < node concept = " wb0Ql " id = " 1HaN6CbG8E7 " role = " 2m7DVh " > < nl > + < ref role = " wb18D " node = " 5qm50Y0e3uz " resolve = " userId " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " 2m7Kf5 " id = " 1HaN6CbG8Ea " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 4 " / > < nl > + < property role = " TrG5h " value = " encryptedBox " / > < nl > + < node concept = " 2m5mGg " id = " 1HaN6CbG8Ek " role = " 2m7DVh " > < nl > + < ref role = " 2m5mJy " node = " 5 _ CDdZ2r0S4 " resolve = " EncryptedBox " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " Nu42z " id = " 1HaN6CbG8 _ g " role = " NuuwV " > < nl > + < property role = " Nu42W " value = " B1 " / > < nl > + < / node > < nl > + < node concept = " NXeRC " id = " 1HaN6CbGbEd " role = " NXp _ 2 " > < nl > + < property role = " NXePf " value = " Update about encrypted package " / > < nl > + < / node > < nl > + < node concept = " NX1gA " id = " 1HaN6CbGcB6 " role = " NXp _ 2 " > < nl > + < property role = " NX6R2 " value = " Random Id of package " / > < nl > + < property role = " 1GSvIU " value = " full " / > < nl > + < ref role = " NX6Kv " node = " 1HaN6CbG8Dz " resolve = " randomId " / > < nl > + < / node > < nl > + < node concept = " NX1gA " id = " 1HaN6CbGcBe " role = " NXp _ 2 " > < nl > + < property role = " 1GSvIU " value = " full " / > < nl > + < property role = " NX6R2 " value = " Sending date of package " / > < nl > + < ref role = " NX6Kv " node = " 1HaN6CbG8DE " resolve = " date " / > < nl > + < / node > < nl > + < node concept = " NX1gA " id = " 1HaN6CbGcBo " role = " NXp _ 2 " > < nl > + < property role = " NX6R2 " value = " Sender id of package " / > < nl > + < property role = " 1GSvIU " value = " full " / > < nl > + < ref role = " NX6Kv " node = " 1HaN6CbG8DZ " resolve = " senderId " / > < nl > + < / node > < nl > + < node concept = " NX1gA " id = " 1HaN6CbGcB $ " role = " NXp _ 2 " > < nl > + < property role = " 1GSvIU " value = " full " / > < nl > + < property role = " NX6R2 " value = " Encrypted box " / > < nl > + < ref role = " NX6Kv " node = " 1HaN6CbG8Ea " resolve = " encryptedBox " / > < nl > + < / node > < nl > + < / node > < nl > < node concept = " 1Dx9M1 " id = " 7ZzLuuoIXYH " role = " 1Dx9rD " > < nl > < property role = " 1Dx9K7 " value = " Package that include encryption support " / > < nl > < / node > < nl > @ @ - 11711 , 6 + 11939 , 134 @ @ < nl > < property role = " 1Dx9K7 " value = " * Ed25519 - used curve25519 conveted to Ed255519 for signing and validataion " / > < nl > < / node > < nl > < / node > < nl > + < node concept = " 2m5mJO " id = " 1HaN6CbGgOl " role = " 2m5lHt " > < nl > + < property role = " TrG5h " value = " Storage " / > < nl > + < property role = " 3XOG $ Z " value = " storage " / > < nl > + < node concept = " 2m6fVq " id = " 1HaN6CbGiIe " role = " 2m5mJr " > < nl > + < property role = " TrG5h " value = " UploadSharedBlob " / > < nl > + < node concept = " 2m7Kf5 " id = " 1HaN6CbGjFw " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 1 " / > < nl > + < property role = " TrG5h " value = " destPeer " / > < nl > + < node concept = " 2m5mGg " id = " 1HaN6CbGkDE " role = " 2m7DVh " > < nl > + < ref role = " 2m5mJy " node = " GBscvBB6ia " resolve = " UserOutPeer " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " 2m7Kf5 " id = " 1HaN6CbGkDJ " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 2 " / > < nl > + < property role = " TrG5h " value = " bucket " / > < nl > + < node concept = " 2m5ndX " id = " 1HaN6CbGkDR " role = " 2m7DVh " / > < nl > + < / node > < nl > + < node concept = " 2m7Kf5 " id = " 1HaN6CbGjFB " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 3 " / > < nl > + < property role = " TrG5h " value = " blob " / > < nl > + < node concept = " 2m61tm " id = " 1HaN6CbGjFH " role = " 2m7DVh " / > < nl > + < / node > < nl > + < node concept = " 2m7Kf5 " id = " 1HaN6CbGlBL " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 4 " / > < nl > + < property role = " TrG5h " value = " randomId " / > < nl > + < node concept = " wb0Ql " id = " 1HaN6CbGlBV " role = " 2m7DVh " > < nl > + < ref role = " wb18D " node = " 2vxDjotnUB8 " resolve = " randomId " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " Nu42z " id = " 1HaN6CbGiIf " role = " NuuwV " > < nl > + < property role = " Nu42W " value = " A64 " / > < nl > + < / node > < nl > + < node concept = " 2m1R6W " id = " 1HaN6CbGjFV " role = " 2m6efq " > < nl > + < node concept = " 2m7Kf5 " id = " 1HaN6CbGjG0 " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 1 " / > < nl > + < property role = " TrG5h " value = " sharedObjectId " / > < nl > + < node concept = " 2m5ndE " id = " 1HaN6CbGkDs " role = " 2m7DVh " / > < nl > + < / node > < nl > + < node concept = " Nu42z " id = " 1HaN6CbGjFW " role = " NuuwV " > < nl > + < property role = " Nu42W " value = " A65 " / > < nl > + < / node > < nl > + < node concept = " NX1gA " id = " 1HaN6CbGlBJ " role = " 1y2DgH " > < nl > + < property role = " NX6R2 " value = " Id of shared object " / > < nl > + < property role = " 1GSvIU " value = " full " / > < nl > + < ref role = " NX6Kv " node = " 1HaN6CbGjG0 " resolve = " sharedObjectId " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " NXeRC " id = " 1HaN6CbGkDU " role = " 1GBnQ6 " > < nl > + < property role = " NXePf " value = " Upload shared blob with user " / > < nl > + < / node > < nl > + < node concept = " NX1gA " id = " 1HaN6CbGkDZ " role = " 1GBnQ6 " > < nl > + < property role = " 1GSvIU " value = " full " / > < nl > + < property role = " NX6R2 " value = " Destination peer " / > < nl > + < ref role = " NX6Kv " node = " 1HaN6CbGjFw " resolve = " destPeer " / > < nl > + < / node > < nl > + < node concept = " NX1gA " id = " 1HaN6CbGkE7 " role = " 1GBnQ6 " > < nl > + < property role = " NX6R2 " value = " Bucked name " / > < nl > + < property role = " 1GSvIU " value = " full " / > < nl > + < ref role = " NX6Kv " node = " 1HaN6CbGkDJ " resolve = " bucket " / > < nl > + < / node > < nl > + < node concept = " NX1gA " id = " 1HaN6CbGlBB " role = " 1GBnQ6 " > < nl > + < property role = " NX6R2 " value = " Blob data " / > < nl > + < property role = " 1GSvIU " value = " full " / > < nl > + < ref role = " NX6Kv " node = " 1HaN6CbGjFB " resolve = " blob " / > < nl > + < / node > < nl > + < node concept = " NX1gA " id = " 1HaN6CbGlC4 " role = " 1GBnQ6 " > < nl > + < property role = " 1GSvIU " value = " full " / > < nl > + < property role = " NX6R2 " value = " Random id for protecting from double upload " / > < nl > + < ref role = " NX6Kv " node = " 1HaN6CbGlBL " resolve = " randomId " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " 2m6fVq " id = " 1HaN6CbGlCx " role = " 2m5mJr " > < nl > + < property role = " TrG5h " value = " DownloadSharedBlob " / > < nl > + < node concept = " 2m7Kf5 " id = " 1HaN6CbGlCX " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 1 " / > < nl > + < property role = " TrG5h " value = " destPeer " / > < nl > + < node concept = " 2m5mGg " id = " 1HaN6CbGlD1 " role = " 2m7DVh " > < nl > + < ref role = " 2m5mJy " node = " GBscvBB6ia " resolve = " UserOutPeer " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " 2m7Kf5 " id = " 1HaN6CbGlD4 " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 2 " / > < nl > + < property role = " TrG5h " value = " bucket " / > < nl > + < node concept = " 2m5ndX " id = " 1HaN6CbGlDa " role = " 2m7DVh " / > < nl > + < / node > < nl > + < node concept = " 2m7Kf5 " id = " 1HaN6CbGlDd " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 3 " / > < nl > + < property role = " TrG5h " value = " objectId " / > < nl > + < node concept = " 2m5ndE " id = " 1HaN6CbGlDl " role = " 2m7DVh " / > < nl > + < / node > < nl > + < node concept = " Nu42z " id = " 1HaN6CbGlCy " role = " NuuwV " > < nl > + < property role = " Nu42W " value = " A66 " / > < nl > + < / node > < nl > + < node concept = " 2m1R6W " id = " 1HaN6CbGlDC " role = " 2m6efq " > < nl > + < node concept = " 2m7Kf5 " id = " 1HaN6CbGlDH " role = " 2m0hLx " > < nl > + < property role = " 2m7DUN " value = " 1 " / > < nl > + < property role = " TrG5h " value = " blob " / > < nl > + < node concept = " 2m61tm " id = " 1HaN6CbGlDL " role = " 2m7DVh " / > < nl > + < / node > < nl > + < node concept = " Nu42z " id = " 1HaN6CbGlDD " role = " NuuwV " > < nl > + < property role = " Nu42W " value = " A67 " / > < nl > + < / node > < nl > + < node concept = " NX1gA " id = " 1HaN6CbGmBY " role = " 1y2DgH " > < nl > + < property role = " 1GSvIU " value = " full " / > < nl > + < property role = " NX6R2 " value = " Blob contents " / > < nl > + < ref role = " NX6Kv " node = " 1HaN6CbGlDH " resolve = " blob " / > < nl > + < / node > < nl > + < / node > < nl > + < node concept = " NXeRC " id = " 1HaN6CbGlDO " role = " 1GBnQ6 " > < nl > + < property role = " NXePf " value = " Download shared blob " / > < nl > + < / node > < nl > + < node concept = " NX1gA " id = " 1HaN6CbGlDT " role = " 1GBnQ6 " > < nl > + < property role = " 1GSvIU " value = " full " / > < nl > + < property role = " NX6R2 " value = " Destination peer " / > < nl > + < ref role = " NX6Kv " node = " 1HaN6CbGlCX " resolve = " destPeer " / > < nl > + < / node > < nl > + < node concept = " NX1gA " id = " 1HaN6CbGlE1 " role = " 1GBnQ6 " > < nl > + < property role = " NX6R2 " value = " Bucket name " / > < nl > + < property role = " 1GSvIU " value = " full " / > < nl > + < ref role = " NX6Kv " node = " 1HaN6CbGlD4 " resolve = " bucket " / > < nl > + < / node > < nl > + < node concept = " NX1gA " id = " 1HaN6CbGlEb " role = " 1GBnQ6 " > < nl > + < property role = " 1GSvIU " value = " full " / > < nl > + < property role = " NX6R2 " value = " Object Id " / > < nl > + < ref role = " NX6Kv " node = " 1HaN6CbGlDd " resolve = " objectId " / > < nl > + < / node > < nl > + < / node > < nl > + < / node > < nl > < node concept = " 2m5mJO " id = " GBscvBB6e7 " role = " 2m5lHt " > < nl > < property role = " TrG5h " value = " Peers " / > < nl > < property role = " 3XOG $ Z " value = " peers " / >

TEST DIFF:
diff - - git a / actor - sdk / sdk - api / actor . json b / actor - sdk / sdk - api / actor . json 
 index 81b3c84 . . dd57b91 100644 
 - - - a / actor - sdk / sdk - api / actor . json 
 + + + b / actor - sdk / sdk - api / actor . json 
 @ @ - 12293 , 10 + 12293 , 10 @ @ 
 { 
 " type " : " update " , 
 " content " : { 
 - " name " : " CallEnded " , 
 + " name " : " CallHandled " , 
 " header " : 53 , 
 " doc " : [ 
 - " Update about call end " , 
 + " Update about incoming call handled " , 
 { 
 " type " : " reference " , 
 " argument " : " callId " , 
 @ @ - 12314 , 43 + 12314 , 6 @ @ 
 } 
 } , 
 { 
 - " type " : " update " , 
 - " content " : { 
 - " name " : " CallRejected " , 
 - " header " : 56 , 
 - " doc " : [ 
 - " Update about call reject " , 
 - { 
 - " type " : " reference " , 
 - " argument " : " callId " , 
 - " category " : " full " , 
 - " description " : " Call Id " 
 - } , 
 - { 
 - " type " : " reference " , 
 - " argument " : " userId " , 
 - " category " : " full " , 
 - " description " : " User Id " 
 - } 
 - ] , 
 - " attributes " : [ 
 - { 
 - " type " : " int64 " , 
 - " id " : 1 , 
 - " name " : " callId " 
 - } , 
 - { 
 - " type " : { 
 - " type " : " alias " , 
 - " childType " : " userId " 
 - } , 
 - " id " : 2 , 
 - " name " : " userId " 
 - } 
 - ] 
 - } 
 - } , 
 - { 
 " type " : " rpc " , 
 " content " : { 
 " name " : " GetCallInfo " , 
 @ @ - 12497 , 83 + 12460 , 356 @ @ 
 } 
 } , 
 { 
 - " type " : " rpc " , 
 + " type " : " trait " , 
 " content " : { 
 - " name " : " JoinCall " , 
 - " header " : 2599 , 
 - " response " : { 
 - " type " : " reference " , 
 - " name " : " Void " 
 + " isContainer " : " true " , 
 + " name " : " WebRTCSignaling " , 
 + " attributes " : [ ] 
 + } 
 + } , 
 + { 
 + " type " : " struct " , 
 + " content " : { 
 + " name " : " AnswerCall " , 
 + " doc " : [ 
 + " Answer Call signal " 
 + ] , 
 + " trait " : { 
 + " name " : " WebRTCSignaling " , 
 + " key " : 1 
 } , 
 + " attributes " : [ ] 
 + } 
 + } , 
 + { 
 + " type " : " struct " , 
 + " content " : { 
 + " name " : " EndCall " , 
 " doc " : [ 
 - " Answer Call " , 
 + " Ending Call signal " 
 + ] , 
 + " trait " : { 
 + " name " : " WebRTCSignaling " , 
 + " key " : 2 
 + } , 
 + " attributes " : [ ] 
 + } 
 + } , 
 + { 
 + " type " : " struct " , 
 + " content " : { 
 + " name " : " Candidate " , 
 + " doc " : [ 
 + " Candidate signal " , 
 { 
 " type " : " reference " , 
 - " argument " : " peer " , 
 + " argument " : " sessionId " , 
 + " category " : " full " , 
 + " description " : " Session Id of candidate " 
 + } 
 + ] , 
 + " trait " : { 
 + " name " : " WebRTCSignaling " , 
 + " key " : 3 
 + } , 
 + " attributes " : [ 
 + { 
 + " type " : { 
 + " type " : " alias " , 
 + " childType " : " randomId " 
 + } , 
 + " id " : 1 , 
 + " name " : " sessionId " 
 + } 
 + ] 
 + } 
 + } , 
 + { 
 + " type " : " struct " , 
 + " content " : { 
 + " name " : " Offer " , 
 + " doc " : [ 
 + " Offer signal " , 
 + { 
 + " type " : " reference " , 
 + " argument " : " sessionId " , 
 " category " : " full " , 
 - " description " : " Call Peer " 
 + " description " : " Session Id of offer " 
 } , 
 { 
 " type " : " reference " , 
 - " argument " : " callId " , 
 + " argument " : " sdp " , 
 " category " : " full " , 
 - " description " : " Call Id " 
 + " description " : " Offer SDP " 
 } 
 ] , 
 + " trait " : { 
 + " name " : " WebRTCSignaling " , 
 + " key " : 4 
 + } , 
 " attributes " : [ 
 { 
 " type " : { 
 - " type " : " struct " , 
 - " childType " : " OutPeer " 
 + " type " : " alias " , 
 + " childType " : " randomId " 
 } , 
 " id " : 1 , 
 - " name " : " peer " 
 + " name " : " sessionId " 
 } , 
 { 
 - " type " : " int64 " , 
 + " type " : " string " , 
 " id " : 2 , 
 - " name " : " callId " 
 + " name " : " sdp " 
 } 
 ] 
 } 
 } , 
 { 
 - " type " : " rpc " , 
 + " type " : " struct " , 
 " content " : { 
 - " name " : " RejectCall " , 
 - " header " : 2607 , 
 - " response " : { 
 - " type " : " reference " , 
 - " name " : " Void " 
 + " name " : " Answer " , 
 + " doc " : [ 
 + " Answer signal " , 
 + { 
 + " type " : " reference " , 
 + " argument " : " sessionId " , 
 + " category " : " full " , 
 + " description " : " Session Id of answer " 
 + } , 
 + { 
 + " type " : " reference " , 
 + " argument " : " sdp " , 
 + " category " : " full " , 
 + " description " : " Answer SDP " 
 + } 
 + ] , 
 + " trait " : { 
 + " name " : " WebRTCSignaling " , 
 + " key " : 5 
 } , 
 + " attributes " : [ 
 + { 
 + " type " : { 
 + " type " : " alias " , 
 + " childType " : " randomId " 
 + } , 
 + " id " : 1 , 
 + " name " : " sessionId " 
 + } , 
 + { 
 + " type " : " string " , 
 + " id " : 2 , 
 + " name " : " sdp " 
 + } 
 + ] 
 + } 
 + } , 
 + { 
 + " type " : " struct " , 
 + " content " : { 
 + " name " : " NeedRenegotiate " , 
 " doc " : [ 
 - " End Call " , 
 + " Need renegotiate session . For example when streams are changed . " , 
 { 
 " type " : " reference " , 
 - " argument " : " peer " , 
 + " argument " : " sessionId " , 
 " category " : " full " , 
 - " description " : " Call Peer " 
 + " description " : " Session Id for renegotiation " 
 + } 
 + ] , 
 + " trait " : { 
 + " name " : " WebRTCSignaling " , 
 + " key " : 6 
 + } , 
 + " attributes " : [ 
 + { 
 + " type " : { 
 + " type " : " alias " , 
 + " childType " : " randomId " 
 + } , 
 + " id " : 1 , 
 + " name " : " sessionId " 
 + } 
 + ] 
 + } 
 + } , 
 + { 
 + " type " : " struct " , 
 + " content " : { 
 + " name " : " ConnectedDevice " , 
 + " doc " : [ 
 + " Connected Device " , 
 + { 
 + " type " : " reference " , 
 + " argument " : " device " , 
 + " category " : " full " , 
 + " description " : " Device Id " 
 } , 
 { 
 " type " : " reference " , 
 - " argument " : " callId " , 
 + " argument " : " isConnecting " , 
 " category " : " full " , 
 - " description " : " Call Id " 
 + " description " : " Is Connecting to device . Default is false . " 
 + } , 
 + { 
 + " type " : " reference " , 
 + " argument " : " isConnected " , 
 + " category " : " full " , 
 + " description " : " Is Connected to device . Default is false . " 
 } 
 ] , 
 " attributes " : [ 
 { 
 " type " : { 
 - " type " : " struct " , 
 - " childType " : " OutPeer " 
 + " type " : " alias " , 
 + " childType " : " randomId " 
 } , 
 " id " : 1 , 
 - " name " : " peer " 
 + " name " : " device " 
 } , 
 { 
 - " type " : " int64 " , 
 + " type " : { 
 + " type " : " opt " , 
 + " childType " : " bool " 
 + } , 
 " id " : 2 , 
 - " name " : " callId " 
 + " name " : " isConnecting " 
 + } , 
 + { 
 + " type " : { 
 + " type " : " opt " , 
 + " childType " : " bool " 
 + } , 
 + " id " : 3 , 
 + " name " : " isConnected " 
 + } 
 + ] 
 + } 
 + } , 
 + { 
 + " type " : " struct " , 
 + " content " : { 
 + " name " : " ConnectedUser " , 
 + " doc " : [ 
 + " Connected User " , 
 + { 
 + " type " : " reference " , 
 + " argument " : " uid " , 
 + " category " : " full " , 
 + " description " : " Device uid " 
 + } , 
 + { 
 + " type " : " reference " , 
 + " argument " : " isConnecting " , 
 + " category " : " full " , 
 + " description " : " Is Connecting to user . Default is false . " 
 + } , 
 + { 
 + " type " : " reference " , 
 + " argument " : " isConnected " , 
 + " category " : " full " , 
 + " description " : " Is connected to user . Default is false . " 
 + } 
 + ] , 
 + " attributes " : [ 
 + { 
 + " type " : { 
 + " type " : " alias " , 
 + " childType " : " userId " 
 + } , 
 + " id " : 1 , 
 + " name " : " uid " 
 + } , 
 + { 
 + " type " : { 
 + " type " : " opt " , 
 + " childType " : " bool " 
 + } , 
 + " id " : 4 , 
 + " name " : " isConnecting " 
 + } , 
 + { 
 + " type " : { 
 + " type " : " opt " , 
 + " childType " : " bool " 
 + } , 
 + " id " : 5 , 
 + " name " : " isConnected " 
 + } 
 + ] 
 + } 
 + } , 
 + { 
 + " type " : " struct " , 
 + " content " : { 
 + " name " : " ActiveDevices " , 
 + " doc " : [ 
 + " List of current memb " , 
 + { 
 + " type " : " reference " , 
 + " argument " : " users " , 
 + " category " : " full " , 
 + " description " : " Currently active users " 
 + } 
 + ] , 
 + " trait " : { 
 + " name " : " WebRTCSignaling " , 
 + " key " : 7 
 + } , 
 + " attributes " : [ 
 + { 
 + " type " : { 
 + " type " : " list " , 
 + " childType " : { 
 + " type " : " struct " , 
 + " childType " : " ConnectedUser " 
 + } 
 + } , 
 + " id " : 2 , 
 + " name " : " users " 
 + } 
 + ] 
 + } 
 + } , 
 + { 
 + " type " : " struct " , 
 + " content " : { 
 + " name " : " NeedOffer " , 
 + " doc " : [ 
 + " Notification from owner that offer is required " , 
 + { 
 + " type " : " reference " , 
 + " argument " : " uid " , 
 + " category " : " full " , 
 + " description " : " User ' s Id " 
 + } , 
 + { 
 + " type " : " reference " , 
 + " argument " : " device " , 
 + " category " : " full " , 
 + " description " : " Destination Device Id " 
 + } 
 + ] , 
 + " trait " : { 
 + " name " : " WebRTCSignaling " , 
 + " key " : 8 
 + } , 
 + " attributes " : [ 
 + { 
 + " type " : { 
 + " type " : " alias " , 
 + " childType " : " userId " 
 + } , 
 + " id " : 1 , 
 + " name " : " uid " 
 + } , 
 + { 
 + " type " : { 
 + " type " : " alias " , 
 + " childType " : " randomId " 
 + } , 
 + " id " : 2 , 
 + " name " : " device " 
 } 
 ] 
 } 
 diff - - git a / actor - sdk / sdk - api / api - language / solutions / im . actor . api / models / im / actor / api / scheme . mps b / actor - sdk / sdk - api / api - language / solutions / im . actor . api / models / im / actor / api / scheme . mps 
 index d36ae63 . . 9162f96 100644 
 - - - a / actor - sdk / sdk - api / api - language / solutions / im . actor . api / models / im / actor / api / scheme . mps 
 + + + b / actor - sdk / sdk - api / api - language / solutions / im . actor . api / models / im / actor / api / scheme . mps 
 @ @ - 10582 , 54 + 10582 , 23 @ @ 
 < ref role = " NX6Kv " node = " 6tgpW9bxt9W " resolve = " callId " / > 
 < / node > 
 < / node > 
 - < node concept = " NpBTk " id = " 6tgpW9bxuRr " role = " 2m5mJr " > 
 - < property role = " TrG5h " value = " CallEnded " / > 
 - < node concept = " 2m7Kf5 " id = " 6tgpW9bxuRJ " role = " 2m0hLx " > 
 + < node concept = " NpBTk " id = " 3Tolai5NHAS " role = " 2m5mJr " > 
 + < property role = " TrG5h " value = " CallHandled " / > 
 + < node concept = " 2m7Kf5 " id = " 3Tolai5NHBM " role = " 2m0hLx " > 
 < property role = " 2m7DUN " value = " 1 " / > 
 < property role = " TrG5h " value = " callId " / > 
 - < node concept = " 2m5ndQ " id = " 6tgpW9bxuRN " role = " 2m7DVh " / > 
 + < node concept = " 2m5ndQ " id = " 3Tolai5NHBQ " role = " 2m7DVh " / > 
 < / node > 
 - < node concept = " Nu42z " id = " 6tgpW9bxuRs " role = " NuuwV " > 
 + < node concept = " Nu42z " id = " 3Tolai5NHAT " role = " NuuwV " > 
 < property role = " Nu42W " value = " 35 " / > 
 < / node > 
 - < node concept = " NXeRC " id = " 6tgpW9bxuRQ " role = " NXp _ 2 " > 
 - < property role = " NXePf " value = " Update about call end " / > 
 + < node concept = " NXeRC " id = " 3Tolai5NHBT " role = " NXp _ 2 " > 
 + < property role = " NXePf " value = " Update about incoming call handled " / > 
 < / node > 
 - < node concept = " NX1gA " id = " 6tgpW9bxz9I " role = " NXp _ 2 " > 
 + < node concept = " NX1gA " id = " 3Tolai5NHBY " role = " NXp _ 2 " > 
 < property role = " NX6R2 " value = " Call Id " / > 
 < property role = " 1GSvIU " value = " full " / > 
 - < ref role = " NX6Kv " node = " 6tgpW9bxuRJ " resolve = " callId " / > 
 - < / node > 
 - < / node > 
 - < node concept = " NpBTk " id = " 3Tolai5NAU $ " role = " 2m5mJr " > 
 - < property role = " TrG5h " value = " CallRejected " / > 
 - < node concept = " 2m7Kf5 " id = " 3Tolai5NAVJ " role = " 2m0hLx " > 
 - < property role = " 2m7DUN " value = " 1 " / > 
 - < property role = " TrG5h " value = " callId " / > 
 - < node concept = " 2m5ndQ " id = " 3Tolai5NAVN " role = " 2m7DVh " / > 
 - < / node > 
 - < node concept = " 2m7Kf5 " id = " 3Tolai5NAVQ " role = " 2m0hLx " > 
 - < property role = " 2m7DUN " value = " 2 " / > 
 - < property role = " TrG5h " value = " userId " / > 
 - < node concept = " wb0Ql " id = " 3Tolai5NAVW " role = " 2m7DVh " > 
 - < ref role = " wb18D " node = " 5qm50Y0e3uz " resolve = " userId " / > 
 - < / node > 
 - < / node > 
 - < node concept = " Nu42z " id = " 3Tolai5NAU _ " role = " NuuwV " > 
 - < property role = " Nu42W " value = " 38 " / > 
 - < / node > 
 - < node concept = " NXeRC " id = " 3Tolai5NAVZ " role = " NXp _ 2 " > 
 - < property role = " NXePf " value = " Update about call reject " / > 
 - < / node > 
 - < node concept = " NX1gA " id = " 3Tolai5NAW4 " role = " NXp _ 2 " > 
 - < property role = " NX6R2 " value = " Call Id " / > 
 - < property role = " 1GSvIU " value = " full " / > 
 - < ref role = " NX6Kv " node = " 3Tolai5NAVJ " resolve = " callId " / > 
 - < / node > 
 - < node concept = " NX1gA " id = " 3Tolai5NAWc " role = " NXp _ 2 " > 
 - < property role = " NX6R2 " value = " User Id " / > 
 - < property role = " 1GSvIU " value = " full " / > 
 - < ref role = " NX6Kv " node = " 3Tolai5NAVQ " resolve = " userId " / > 
 + < ref role = " NX6Kv " node = " 3Tolai5NHBM " resolve = " callId " / > 
 < / node > 
 < / node > 
 < node concept = " 2m6fVq " id = " 3Tolai5Njx7 " role = " 2m5mJr " > 
 @ @ - 10756 , 82 + 10725 , 286 @ @ 
 < ref role = " NX6Kv " node = " 201xLeQvfRW " resolve = " peer " / > 
 < / node > 
 < / node > 
 - < node concept = " 2m6fVq " id = " 3Tolai5NguP " role = " 2m5mJr " > 
 - < property role = " TrG5h " value = " JoinCall " / > 
 - < node concept = " 2uC4CA " id = " 3Tolai5NzMn " role = " 2uC9gA " > 
 - < property role = " 2uC4DK " value = " 400 " / > 
 - < property role = " 2uC4Qe " value = " CALL _ ENDED " / > 
 - < property role = " 2uCiSL " value = " Throws when call is already ended " / > 
 + < node concept = " w93zz " id = " 3Tolai5NMKi " role = " 2m5mJr " > 
 + < property role = " TrG5h " value = " WebRTCSignaling " / > 
 + < property role = " 1FaRnq " value = " true " / > 
 + < / node > 
 + < node concept = " 2m5naR " id = " 3Tolai5NMLS " role = " 2m5mJr " > 
 + < property role = " TrG5h " value = " AnswerCall " / > 
 + < property role = " w4tQU " value = " true " / > 
 + < ref role = " w4 $ XZ " node = " 3Tolai5NMKi " resolve = " WebRTCSignaling " / > 
 + < node concept = " Nu42z " id = " 3Tolai5NMMG " role = " 3BtCOu " > 
 + < property role = " Nu42W " value = " 01 " / > 
 + < / node > 
 + < node concept = " NXeRC " id = " 3Tolai5NP1p " role = " NXodf " > 
 + < property role = " NXePf " value = " Answer Call signal " / > 
 < / node > 
 - < node concept = " 2m7Kf5 " id = " 3Tolai5Ngvv " role = " 2m0hLx " > 
 + < / node > 
 + < node concept = " 2m5naR " id = " 3Tolai5NMQT " role = " 2m5mJr " > 
 + < property role = " TrG5h " value = " EndCall " / > 
 + < property role = " w4tQU " value = " true " / > 
 + < ref role = " w4 $ XZ " node = " 3Tolai5NMKi " resolve = " WebRTCSignaling " / > 
 + < node concept = " Nu42z " id = " 3Tolai5NMRJ " role = " 3BtCOu " > 
 + < property role = " Nu42W " value = " 02 " / > 
 + < / node > 
 + < node concept = " NXeRC " id = " 3Tolai5NP1v " role = " NXodf " > 
 + < property role = " NXePf " value = " Ending Call signal " / > 
 + < / node > 
 + < / node > 
 + < node concept = " 2m5naR " id = " 3Tolai5NNT3 " role = " 2m5mJr " > 
 + < property role = " TrG5h " value = " Candidate " / > 
 + < property role = " w4tQU " value = " true " / > 
 + < ref role = " w4 $ XZ " node = " 3Tolai5NMKi " resolve = " WebRTCSignaling " / > 
 + < node concept = " 2m7Kf5 " id = " 3Tolai5NNYb " role = " 2m0hLx " > 
 < property role = " 2m7DUN " value = " 1 " / > 
 - < property role = " TrG5h " value = " peer " / > 
 - < node concept = " 2m5mGg " id = " 3Tolai5NgvC " role = " 2m7DVh " > 
 - < ref role = " 2m5mJy " node = " GBscvBB6hj " resolve = " OutPeer " / > 
 + < property role = " TrG5h " value = " sessionId " / > 
 + < node concept = " wb0Ql " id = " 3Tolai5NNYf " role = " 2m7DVh " > 
 + < ref role = " wb18D " node = " 2vxDjotnUB8 " resolve = " randomId " / > 
 < / node > 
 < / node > 
 - < node concept = " 2m7Kf5 " id = " 3Tolai5NgvF " role = " 2m0hLx " > 
 + < node concept = " Nu42z " id = " 3Tolai5NNTV " role = " 3BtCOu " > 
 + < property role = " Nu42W " value = " 03 " / > 
 + < / node > 
 + < node concept = " NXeRC " id = " 3Tolai5NP1x " role = " NXodf " > 
 + < property role = " NXePf " value = " Candidate signal " / > 
 + < / node > 
 + < node concept = " NX1gA " id = " 3Tolai5NRa2 " role = " NXodf " > 
 + < property role = " 1GSvIU " value = " full " / > 
 + < property role = " NX6R2 " value = " Session Id of candidate " / > 
 + < ref role = " NX6Kv " node = " 3Tolai5NNYb " resolve = " sessionId " / > 
 + < / node > 
 + < / node > 
 + < node concept = " 2m5naR " id = " 3Tolai5NNUQ " role = " 2m5mJr " > 
 + < property role = " TrG5h " value = " Offer " / > 
 + < property role = " w4tQU " value = " true " / > 
 + < ref role = " w4 $ XZ " node = " 3Tolai5NMKi " resolve = " WebRTCSignaling " / > 
 + < node concept = " 2m7Kf5 " id = " 3Tolai5NNXT " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 1 " / > 
 + < property role = " TrG5h " value = " sessionId " / > 
 + < node concept = " wb0Ql " id = " 3Tolai5NNXZ " role = " 2m7DVh " > 
 + < ref role = " wb18D " node = " 2vxDjotnUB8 " resolve = " randomId " / > 
 + < / node > 
 + < / node > 
 + < node concept = " 2m7Kf5 " id = " 3Tolai5NNXF " role = " 2m0hLx " > 
 < property role = " 2m7DUN " value = " 2 " / > 
 - < property role = " TrG5h " value = " callId " / > 
 - < node concept = " 2m5ndQ " id = " 3Tolai5NgvL " role = " 2m7DVh " / > 
 + < property role = " TrG5h " value = " sdp " / > 
 + < node concept = " 2m5ndX " id = " 3Tolai5NNXJ " role = " 2m7DVh " / > 
 < / node > 
 - < node concept = " Nu42z " id = " 3Tolai5NguQ " role = " NuuwV " > 
 - < property role = " Nu42W " value = " A27 " / > 
 + < node concept = " Nu42z " id = " 3Tolai5NNVK " role = " 3BtCOu " > 
 + < property role = " Nu42W " value = " 04 " / > 
 < / node > 
 - < node concept = " NXeRC " id = " 3Tolai5NuI0 " role = " 1GBnQ6 " > 
 - < property role = " NXePf " value = " Answer Call " / > 
 + < node concept = " NXeRC " id = " 3Tolai5NP1z " role = " NXodf " > 
 + < property role = " NXePf " value = " Offer signal " / > 
 < / node > 
 - < node concept = " NX1gA " id = " 3Tolai5NuI5 " role = " 1GBnQ6 " > 
 - < property role = " NX6R2 " value = " Call Peer " / > 
 + < node concept = " NX1gA " id = " 3Tolai5NRak " role = " NXodf " > 
 < property role = " 1GSvIU " value = " full " / > 
 - < ref role = " NX6Kv " node = " 3Tolai5Ngvv " resolve = " peer " / > 
 + < property role = " NX6R2 " value = " Session Id of offer " / > 
 + < ref role = " NX6Kv " node = " 3Tolai5NNXT " resolve = " sessionId " / > 
 < / node > 
 - < node concept = " NX1gA " id = " 3Tolai5NuId " role = " 1GBnQ6 " > 
 - < property role = " NX6R2 " value = " Call Id " / > 
 + < node concept = " NX1gA " id = " 3Tolai5NRas " role = " NXodf " > 
 + < property role = " NX6R2 " value = " Offer SDP " / > 
 < property role = " 1GSvIU " value = " full " / > 
 - < ref role = " NX6Kv " node = " 3Tolai5NgvF " resolve = " callId " / > 
 + < ref role = " NX6Kv " node = " 3Tolai5NNXF " resolve = " sdp " / > 
 < / node > 
 - < node concept = " 2m1Rp1 " id = " 3Tolai5NxKV " role = " 2m6efq " > 
 - < ref role = " 2m1o9l " node = " GBscvBB6 _ K " resolve = " Void " / > 
 + < / node > 
 + < node concept = " 2m5naR " id = " 3Tolai5NNWH " role = " 2m5mJr " > 
 + < property role = " TrG5h " value = " Answer " / > 
 + < property role = " w4tQU " value = " true " / > 
 + < ref role = " w4 $ XZ " node = " 3Tolai5NMKi " resolve = " WebRTCSignaling " / > 
 + < node concept = " 2m7Kf5 " id = " 3Tolai5NNY2 " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 1 " / > 
 + < property role = " TrG5h " value = " sessionId " / > 
 + < node concept = " wb0Ql " id = " 3Tolai5NNY8 " role = " 2m7DVh " > 
 + < ref role = " wb18D " node = " 2vxDjotnUB8 " resolve = " randomId " / > 
 + < / node > 
 + < / node > 
 + < node concept = " 2m7Kf5 " id = " 3Tolai5NNXM " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 2 " / > 
 + < property role = " TrG5h " value = " sdp " / > 
 + < node concept = " 2m5ndX " id = " 3Tolai5NNXQ " role = " 2m7DVh " / > 
 + < / node > 
 + < node concept = " Nu42z " id = " 3Tolai5NNXD " role = " 3BtCOu " > 
 + < property role = " Nu42W " value = " 05 " / > 
 + < / node > 
 + < node concept = " NXeRC " id = " 3Tolai5NP1 _ " role = " NXodf " > 
 + < property role = " NXePf " value = " Answer signal " / > 
 + < / node > 
 + < node concept = " NX1gA " id = " 3Tolai5NRa $ " role = " NXodf " > 
 + < property role = " NX6R2 " value = " Session Id of answer " / > 
 + < property role = " 1GSvIU " value = " full " / > 
 + < ref role = " NX6Kv " node = " 3Tolai5NNY2 " resolve = " sessionId " / > 
 + < / node > 
 + < node concept = " NX1gA " id = " 3Tolai5NRaG " role = " NXodf " > 
 + < property role = " 1GSvIU " value = " full " / > 
 + < property role = " NX6R2 " value = " Answer SDP " / > 
 + < ref role = " NX6Kv " node = " 3Tolai5NNXM " resolve = " sdp " / > 
 < / node > 
 < / node > 
 - < node concept = " 2m6fVq " id = " 3Tolai5NsC _ " role = " 2m5mJr " > 
 - < property role = " TrG5h " value = " RejectCall " / > 
 - < node concept = " 2uC4CA " id = " 3Tolai5NzMs " role = " 2uC9gA " > 
 - < property role = " 2uC4DK " value = " 400 " / > 
 - < property role = " 2uC4Qe " value = " CALL _ ENDED " / > 
 - < property role = " 2uCiSL " value = " Throws when call is already ended " / > 
 + < node concept = " 2m5naR " id = " 3Tolai5NNZp " role = " 2m5mJr " > 
 + < property role = " TrG5h " value = " NeedRenegotiate " / > 
 + < property role = " w4tQU " value = " true " / > 
 + < ref role = " w4 $ XZ " node = " 3Tolai5NMKi " resolve = " WebRTCSignaling " / > 
 + < node concept = " 2m7Kf5 " id = " 3Tolai5NO0z " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 1 " / > 
 + < property role = " TrG5h " value = " sessionId " / > 
 + < node concept = " wb0Ql " id = " 3Tolai5NO0B " role = " 2m7DVh " > 
 + < ref role = " wb18D " node = " 2vxDjotnUB8 " resolve = " randomId " / > 
 + < / node > 
 + < / node > 
 + < node concept = " Nu42z " id = " 3Tolai5NO0x " role = " 3BtCOu " > 
 + < property role = " Nu42W " value = " 06 " / > 
 + < / node > 
 + < node concept = " NXeRC " id = " 3Tolai5NP1B " role = " NXodf " > 
 + < property role = " NXePf " value = " Need renegotiate session . For example when streams are changed . " / > 
 < / node > 
 - < node concept = " 2m7Kf5 " id = " 3Tolai5NsD $ " role = " 2m0hLx " > 
 + < node concept = " NX1gA " id = " 3Tolai5NR9V " role = " NXodf " > 
 + < property role = " NX6R2 " value = " Session Id for renegotiation " / > 
 + < property role = " 1GSvIU " value = " full " / > 
 + < ref role = " NX6Kv " node = " 3Tolai5NO0z " resolve = " sessionId " / > 
 + < / node > 
 + < / node > 
 + < node concept = " 2m5naR " id = " 3Tolai5NY1Q " role = " 2m5mJr " > 
 + < property role = " TrG5h " value = " ConnectedDevice " / > 
 + < node concept = " 2m7Kf5 " id = " 3Tolai5NY3D " role = " 2m0hLx " > 
 < property role = " 2m7DUN " value = " 1 " / > 
 - < property role = " TrG5h " value = " peer " / > 
 - < node concept = " 2m5mGg " id = " 3Tolai5NsDC " role = " 2m7DVh " > 
 - < ref role = " 2m5mJy " node = " GBscvBB6hj " resolve = " OutPeer " / > 
 + < property role = " TrG5h " value = " device " / > 
 + < node concept = " wb0Ql " id = " 3Tolai5NY3H " role = " 2m7DVh " > 
 + < ref role = " wb18D " node = " 2vxDjotnUB8 " resolve = " randomId " / > 
 < / node > 
 < / node > 
 - < node concept = " 2m7Kf5 " id = " 3Tolai5NsDF " role = " 2m0hLx " > 
 + < node concept = " 2m7Kf5 " id = " 3Tolai5NY3K " role = " 2m0hLx " > 
 < property role = " 2m7DUN " value = " 2 " / > 
 - < property role = " TrG5h " value = " callId " / > 
 - < node concept = " 2m5ndQ " id = " 3Tolai5NsDL " role = " 2m7DVh " / > 
 + < property role = " TrG5h " value = " isConnecting " / > 
 + < node concept = " 2m5nlT " id = " 3Tolai5NY3Q " role = " 2m7DVh " > 
 + < node concept = " 2m5ndN " id = " 3Tolai5NY3W " role = " 3GH5xg " / > 
 + < / node > 
 < / node > 
 - < node concept = " Nu42z " id = " 3Tolai5NsCA " role = " NuuwV " > 
 - < property role = " Nu42W " value = " A2F " / > 
 + < node concept = " 2m7Kf5 " id = " 3Tolai5NY3Z " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 3 " / > 
 + < property role = " TrG5h " value = " isConnected " / > 
 + < node concept = " 2m5nlT " id = " 3Tolai5NY48 " role = " 2m7DVh " > 
 + < node concept = " 2m5ndN " id = " 3Tolai5NY4e " role = " 3GH5xg " / > 
 + < / node > 
 < / node > 
 - < node concept = " 2m1Rp1 " id = " 3Tolai5NsDO " role = " 2m6efq " > 
 - < ref role = " 2m1o9l " node = " GBscvBB6 _ K " resolve = " Void " / > 
 + < node concept = " NXeRC " id = " 3Tolai5NY4h " role = " NXodf " > 
 + < property role = " NXePf " value = " Connected Device " / > 
 + < / node > 
 + < node concept = " NX1gA " id = " 3Tolai5NY4m " role = " NXodf " > 
 + < property role = " 1GSvIU " value = " full " / > 
 + < property role = " NX6R2 " value = " Device Id " / > 
 + < ref role = " NX6Kv " node = " 3Tolai5NY3D " resolve = " device " / > 
 < / node > 
 - < node concept = " NXeRC " id = " 3Tolai5NuIi " role = " 1GBnQ6 " > 
 - < property role = " NXePf " value = " End Call " / > 
 + < node concept = " NX1gA " id = " 3Tolai5NY4u " role = " NXodf " > 
 + < property role = " NX6R2 " value = " Is Connecting to device . Default is false . " / > 
 + < property role = " 1GSvIU " value = " full " / > 
 + < ref role = " NX6Kv " node = " 3Tolai5NY3K " resolve = " isConnecting " / > 
 < / node > 
 - < node concept = " NX1gA " id = " 3Tolai5NuIn " role = " 1GBnQ6 " > 
 - < property role = " NX6R2 " value = " Call Peer " / > 
 + < node concept = " NX1gA " id = " 3Tolai5NZ6a " role = " NXodf " > 
 + < property role = " NX6R2 " value = " Is Connected to device . Default is false . " / > 
 < property role = " 1GSvIU " value = " full " / > 
 - < ref role = " NX6Kv " node = " 3Tolai5NsD $ " resolve = " peer " / > 
 + < ref role = " NX6Kv " node = " 3Tolai5NY3Z " resolve = " isConnected " / > 
 < / node > 
 - < node concept = " NX1gA " id = " 3Tolai5NuIv " role = " 1GBnQ6 " > 
 - < property role = " NX6R2 " value = " Call Id " / > 
 + < / node > 
 + < node concept = " 2m5naR " id = " 3Tolai5NWF $ " role = " 2m5mJr " > 
 + < property role = " TrG5h " value = " ConnectedUser " / > 
 + < node concept = " 2m7Kf5 " id = " 3Tolai5NWIt " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 1 " / > 
 + < property role = " TrG5h " value = " uid " / > 
 + < node concept = " wb0Ql " id = " 3Tolai5NWIA " role = " 2m7DVh " > 
 + < ref role = " wb18D " node = " 5qm50Y0e3uz " resolve = " userId " / > 
 + < / node > 
 + < / node > 
 + < node concept = " 2m7Kf5 " id = " 3Tolai5NWID " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 4 " / > 
 + < property role = " TrG5h " value = " isConnecting " / > 
 + < node concept = " 2m5nlT " id = " 3Tolai5NWIO " role = " 2m7DVh " > 
 + < node concept = " 2m5ndN " id = " 3Tolai5NWIU " role = " 3GH5xg " / > 
 + < / node > 
 + < / node > 
 + < node concept = " 2m7Kf5 " id = " 3Tolai5NWIX " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 5 " / > 
 + < property role = " TrG5h " value = " isConnected " / > 
 + < node concept = " 2m5nlT " id = " 3Tolai5NWJb " role = " 2m7DVh " > 
 + < node concept = " 2m5ndN " id = " 3Tolai5NWJh " role = " 3GH5xg " / > 
 + < / node > 
 + < / node > 
 + < node concept = " NXeRC " id = " 3Tolai5NWIr " role = " NXodf " > 
 + < property role = " NXePf " value = " Connected User " / > 
 + < / node > 
 + < node concept = " NX1gA " id = " 3Tolai5NWLe " role = " NXodf " > 
 + < property role = " 1GSvIU " value = " full " / > 
 + < property role = " NX6R2 " value = " Device uid " / > 
 + < ref role = " NX6Kv " node = " 3Tolai5NWIt " resolve = " uid " / > 
 + < / node > 
 + < node concept = " NX1gA " id = " 3Tolai5NZ6k " role = " NXodf " > 
 + < property role = " NX6R2 " value = " Is Connecting to user . Default is false . " / > 
 + < property role = " 1GSvIU " value = " full " / > 
 + < ref role = " NX6Kv " node = " 3Tolai5NWID " resolve = " isConnecting " / > 
 + < / node > 
 + < node concept = " NX1gA " id = " 3Tolai5NZ6u " role = " NXodf " > 
 + < property role = " NX6R2 " value = " Is connected to user . Default is false . " / > 
 + < property role = " 1GSvIU " value = " full " / > 
 + < ref role = " NX6Kv " node = " 3Tolai5NWIX " resolve = " isConnected " / > 
 + < / node > 
 + < / node > 
 + < node concept = " 2m5naR " id = " 3Tolai5NTfk " role = " 2m5mJr " > 
 + < property role = " TrG5h " value = " ActiveDevices " / > 
 + < property role = " w4tQU " value = " true " / > 
 + < ref role = " w4 $ XZ " node = " 3Tolai5NMKi " resolve = " WebRTCSignaling " / > 
 + < node concept = " 2m7Kf5 " id = " 3Tolai5NUvf " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 2 " / > 
 + < property role = " TrG5h " value = " users " / > 
 + < node concept = " 2m5nlk " id = " 3Tolai5NUvm " role = " 2m7DVh " > 
 + < node concept = " 2m5mGg " id = " 3Tolai5NWJk " role = " 3GJlyp " > 
 + < ref role = " 2m5mJy " node = " 3Tolai5NWF $ " resolve = " ConnectedUser " / > 
 + < / node > 
 + < / node > 
 + < / node > 
 + < node concept = " NXeRC " id = " 3Tolai5NTgY " role = " NXodf " > 
 + < property role = " NXePf " value = " List of current memb " / > 
 + < / node > 
 + < node concept = " NX1gA " id = " 3Tolai5NUv _ " role = " NXodf " > 
 + < property role = " NX6R2 " value = " Currently active users " / > 
 + < property role = " 1GSvIU " value = " full " / > 
 + < ref role = " NX6Kv " node = " 3Tolai5NUvf " resolve = " users " / > 
 + < / node > 
 + < node concept = " Nu42z " id = " 3Tolai5NUyY " role = " 3BtCOu " > 
 + < property role = " Nu42W " value = " 07 " / > 
 + < / node > 
 + < / node > 
 + < node concept = " 2m5naR " id = " 3Tolai5NUxj " role = " 2m5mJr " > 
 + < property role = " TrG5h " value = " NeedOffer " / > 
 + < property role = " w4tQU " value = " true " / > 
 + < ref role = " w4 $ XZ " node = " 3Tolai5NMKi " resolve = " WebRTCSignaling " / > 
 + < node concept = " 2m7Kf5 " id = " 3Tolai5NVBK " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 1 " / > 
 + < property role = " TrG5h " value = " uid " / > 
 + < node concept = " wb0Ql " id = " 3Tolai5NVBO " role = " 2m7DVh " > 
 + < ref role = " wb18D " node = " 5qm50Y0e3uz " resolve = " userId " / > 
 + < / node > 
 + < / node > 
 + < node concept = " 2m7Kf5 " id = " 3Tolai5NVBR " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 2 " / > 
 + < property role = " TrG5h " value = " device " / > 
 + < node concept = " wb0Ql " id = " 3Tolai5NVBX " role = " 2m7DVh " > 
 + < ref role = " wb18D " node = " 2vxDjotnUB8 " resolve = " randomId " / > 
 + < / node > 
 + < / node > 
 + < node concept = " Nu42z " id = " 3Tolai5NVC0 " role = " 3BtCOu " > 
 + < property role = " Nu42W " value = " 08 " / > 
 + < / node > 
 + < node concept = " NXeRC " id = " 3Tolai5NVC2 " role = " NXodf " > 
 + < property role = " NXePf " value = " Notification from owner that offer is required " / > 
 + < / node > 
 + < node concept = " NX1gA " id = " 3Tolai5NVC7 " role = " NXodf " > 
 + < property role = " NX6R2 " value = " User ' s Id " / > 
 + < property role = " 1GSvIU " value = " full " / > 
 + < ref role = " NX6Kv " node = " 3Tolai5NVBK " resolve = " uid " / > 
 + < / node > 
 + < node concept = " NX1gA " id = " 3Tolai5NVCf " role = " NXodf " > 
 < property role = " 1GSvIU " value = " full " / > 
 - < ref role = " NX6Kv " node = " 3Tolai5NsDF " resolve = " callId " / > 
 + < property role = " NX6R2 " value = " Destination Device Id " / > 
 + < ref role = " NX6Kv " node = " 3Tolai5NVBR " resolve = " device " / > 
 < / node > 
 < / node > 
 < node concept = " 1Dx9M1 " id = " 6tgpW9bxpK8 " role = " 1Dx9rD " >

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - api / actor . json b / actor - sdk / sdk - api / actor . json 
 index 62f2b5e . . 897a7ef 100644 
 - - - a / actor - sdk / sdk - api / actor . json 
 + + + b / actor - sdk / sdk - api / actor . json 
 @ @ - 12949 , 7 + 12949 , 7 @ @ 
 { 
 " type " : " rpc " , 
 " content " : { 
 - " name " : " LoadEphermalPublicKeys " , 
 + " name " : " LoadPrePublicKeys " , 
 " header " : 2603 , 
 " response " : { 
 " type " : " reference " , 
 @ @ - 13428 , 7 + 13428 , 7 @ @ 
 { 
 " type " : " rpc " , 
 " content " : { 
 - " name " : " UploadEphermalKey " , 
 + " name " : " UploadPreKey " , 
 " header " : 2612 , 
 " response " : { 
 " type " : " reference " , 
 @ @ - 13516 , 11 + 13516 , 26 @ @ 
 " argument " : " encPackage " , 
 " category " : " full " , 
 " description " : " Encrypted package " 
 + } , 
 + { 
 + " type " : " reference " , 
 + " argument " : " senderKeyGroupId " , 
 + " category " : " full " , 
 + " description " : " Sender key group " 
 } 
 ] , 
 + " expandable " : " true " , 
 " attributes " : [ 
 { 
 " type " : { 
 + " type " : " alias " , 
 + " childType " : " keyGroupId " 
 + } , 
 + " id " : 4 , 
 + " name " : " senderKeyGroupId " 
 + } , 
 + { 
 + " type " : { 
 " type " : " list " , 
 " childType " : { 
 " type " : " struct " , 
 @ @ - 13539 , 6 + 13554 , 50 @ @ 
 " type " : " bytes " , 
 " id " : 3 , 
 " name " : " encPackage " 
 + } , 
 + { 
 + " type " : { 
 + " type " : " list " , 
 + " childType " : { 
 + " type " : " struct " , 
 + " childType " : " EncryptedBoxSignature " 
 + } 
 + } , 
 + " id " : 5 , 
 + " name " : " signatures " 
 + } 
 + ] 
 + } 
 + } , 
 + { 
 + " type " : " struct " , 
 + " content " : { 
 + " name " : " EncryptedBoxSignature " , 
 + " doc " : [ 
 + " Signature for encrypted package " , 
 + { 
 + " type " : " reference " , 
 + " argument " : " algType " , 
 + " category " : " full " , 
 + " description " : " Alg Type " 
 + } , 
 + { 
 + " type " : " reference " , 
 + " argument " : " signature " , 
 + " category " : " full " , 
 + " description " : " Signature of encrypted package " 
 + } 
 + ] , 
 + " attributes " : [ 
 + { 
 + " type " : " string " , 
 + " id " : 1 , 
 + " name " : " algType " 
 + } , 
 + { 
 + " type " : " bytes " , 
 + " id " : 2 , 
 + " name " : " signature " 
 } 
 ] 
 } 
 @ @ - 13568 , 6 + 13627 , 7 @ @ 
 " description " : " Encrypted encryption key " 
 } 
 ] , 
 + " expandable " : " true " , 
 " attributes " : [ 
 { 
 " type " : { 
 @ @ - 13597 , 6 + 13657 , 381 @ @ 
 } 
 ] 
 } 
 + } , 
 + { 
 + " type " : " struct " , 
 + " content " : { 
 + " name " : " KeyGroupId " , 
 + " doc " : [ 
 + " References to key groups " , 
 + { 
 + " type " : " reference " , 
 + " argument " : " uid " , 
 + " category " : " full " , 
 + " description " : " User ' s id " 
 + } , 
 + { 
 + " type " : " reference " , 
 + " argument " : " keyGroupId " , 
 + " category " : " hidden " , 
 + " description " : " Key Group Id " 
 + } 
 + ] , 
 + " attributes " : [ 
 + { 
 + " type " : { 
 + " type " : " alias " , 
 + " childType " : " userId " 
 + } , 
 + " id " : 1 , 
 + " name " : " uid " 
 + } , 
 + { 
 + " type " : { 
 + " type " : " alias " , 
 + " childType " : " keyGroupId " 
 + } , 
 + " id " : 2 , 
 + " name " : " keyGroupId " 
 + } 
 + ] 
 + } 
 + } , 
 + { 
 + " type " : " rpc " , 
 + " content " : { 
 + " name " : " SendEncryptedPackage " , 
 + " header " : 2657 , 
 + " response " : { 
 + " type " : " anonymous " , 
 + " header " : 2664 , 
 + " attributes " : [ 
 + { 
 + " type " : { 
 + " type " : " opt " , 
 + " childType " : " int32 " 
 + } , 
 + " id " : 1 , 
 + " name " : " seq " 
 + } , 
 + { 
 + " type " : { 
 + " type " : " opt " , 
 + " childType " : { 
 + " type " : " alias " , 
 + " childType " : " seq _ state " 
 + } 
 + } , 
 + " id " : 2 , 
 + " name " : " state " 
 + } , 
 + { 
 + " type " : { 
 + " type " : " opt " , 
 + " childType " : { 
 + " type " : " alias " , 
 + " childType " : " date " 
 + } 
 + } , 
 + " id " : 3 , 
 + " name " : " date " 
 + } , 
 + { 
 + " type " : { 
 + " type " : " list " , 
 + " childType " : { 
 + " type " : " struct " , 
 + " childType " : " KeyGroupId " 
 + } 
 + } , 
 + " id " : 4 , 
 + " name " : " obsoleteKeyGroups " 
 + } , 
 + { 
 + " type " : { 
 + " type " : " list " , 
 + " childType " : { 
 + " type " : " struct " , 
 + " childType " : " KeyGroupId " 
 + } 
 + } , 
 + " id " : 5 , 
 + " name " : " missedKeyGroups " 
 + } 
 + ] 
 + } , 
 + " doc " : [ 
 + " Sending encrypted package " , 
 + { 
 + " type " : " reference " , 
 + " argument " : " randomId " , 
 + " category " : " hidden " , 
 + " description " : " Random id " 
 + } 
 + ] , 
 + " attributes " : [ 
 + { 
 + " type " : { 
 + " type " : " alias " , 
 + " childType " : " randomId " 
 + } , 
 + " id " : 1 , 
 + " name " : " randomId " 
 + } , 
 + { 
 + " type " : { 
 + " type " : " list " , 
 + " childType " : { 
 + " type " : " struct " , 
 + " childType " : " UserOutPeer " 
 + } 
 + } , 
 + " id " : 2 , 
 + " name " : " destPeers " 
 + } , 
 + { 
 + " type " : { 
 + " type " : " list " , 
 + " childType " : { 
 + " type " : " struct " , 
 + " childType " : " KeyGroupId " 
 + } 
 + } , 
 + " id " : 3 , 
 + " name " : " ignoredKeyGroups " 
 + } , 
 + { 
 + " type " : { 
 + " type " : " struct " , 
 + " childType " : " EncryptedBox " 
 + } , 
 + " id " : 4 , 
 + " name " : " encryptedBox " 
 + } 
 + ] 
 + } 
 + } , 
 + { 
 + " type " : " update " , 
 + " content " : { 
 + " name " : " EncryptedPackage " , 
 + " header " : 177 , 
 + " doc " : [ 
 + " Update about encrypted package " , 
 + { 
 + " type " : " reference " , 
 + " argument " : " randomId " , 
 + " category " : " full " , 
 + " description " : " Random Id of package " 
 + } , 
 + { 
 + " type " : " reference " , 
 + " argument " : " date " , 
 + " category " : " full " , 
 + " description " : " Sending date of package " 
 + } , 
 + { 
 + " type " : " reference " , 
 + " argument " : " senderId " , 
 + " category " : " full " , 
 + " description " : " Sender id of package " 
 + } , 
 + { 
 + " type " : " reference " , 
 + " argument " : " encryptedBox " , 
 + " category " : " full " , 
 + " description " : " Encrypted box " 
 + } 
 + ] , 
 + " attributes " : [ 
 + { 
 + " type " : { 
 + " type " : " alias " , 
 + " childType " : " randomId " 
 + } , 
 + " id " : 1 , 
 + " name " : " randomId " 
 + } , 
 + { 
 + " type " : { 
 + " type " : " alias " , 
 + " childType " : " date " 
 + } , 
 + " id " : 2 , 
 + " name " : " date " 
 + } , 
 + { 
 + " type " : { 
 + " type " : " alias " , 
 + " childType " : " userId " 
 + } , 
 + " id " : 3 , 
 + " name " : " senderId " 
 + } , 
 + { 
 + " type " : { 
 + " type " : " struct " , 
 + " childType " : " EncryptedBox " 
 + } , 
 + " id " : 4 , 
 + " name " : " encryptedBox " 
 + } 
 + ] 
 + } 
 + } 
 + ] 
 + } , 
 + { 
 + " title " : " Storage " , 
 + " package " : " storage " , 
 + " items " : [ 
 + { 
 + " type " : " rpc " , 
 + " content " : { 
 + " name " : " UploadSharedBlob " , 
 + " header " : 2660 , 
 + " response " : { 
 + " type " : " anonymous " , 
 + " header " : 2661 , 
 + " doc " : [ 
 + { 
 + " type " : " reference " , 
 + " argument " : " sharedObjectId " , 
 + " category " : " full " , 
 + " description " : " Id of shared object " 
 + } 
 + ] , 
 + " attributes " : [ 
 + { 
 + " type " : " int32 " , 
 + " id " : 1 , 
 + " name " : " sharedObjectId " 
 + } 
 + ] 
 + } , 
 + " doc " : [ 
 + " Upload shared blob with user " , 
 + { 
 + " type " : " reference " , 
 + " argument " : " destPeer " , 
 + " category " : " full " , 
 + " description " : " Destination peer " 
 + } , 
 + { 
 + " type " : " reference " , 
 + " argument " : " bucket " , 
 + " category " : " full " , 
 + " description " : " Bucked name " 
 + } , 
 + { 
 + " type " : " reference " , 
 + " argument " : " blob " , 
 + " category " : " full " , 
 + " description " : " Blob data " 
 + } , 
 + { 
 + " type " : " reference " , 
 + " argument " : " randomId " , 
 + " category " : " full " , 
 + " description " : " Random id for protecting from double upload " 
 + } 
 + ] , 
 + " attributes " : [ 
 + { 
 + " type " : { 
 + " type " : " struct " , 
 + " childType " : " UserOutPeer " 
 + } , 
 + " id " : 1 , 
 + " name " : " destPeer " 
 + } , 
 + { 
 + " type " : " string " , 
 + " id " : 2 , 
 + " name " : " bucket " 
 + } , 
 + { 
 + " type " : " bytes " , 
 + " id " : 3 , 
 + " name " : " blob " 
 + } , 
 + { 
 + " type " : { 
 + " type " : " alias " , 
 + " childType " : " randomId " 
 + } , 
 + " id " : 4 , 
 + " name " : " randomId " 
 + } 
 + ] 
 + } 
 + } , 
 + { 
 + " type " : " rpc " , 
 + " content " : { 
 + " name " : " DownloadSharedBlob " , 
 + " header " : 2662 , 
 + " response " : { 
 + " type " : " anonymous " , 
 + " header " : 2663 , 
 + " doc " : [ 
 + { 
 + " type " : " reference " , 
 + " argument " : " blob " , 
 + " category " : " full " , 
 + " description " : " Blob contents " 
 + } 
 + ] , 
 + " attributes " : [ 
 + { 
 + " type " : " bytes " , 
 + " id " : 1 , 
 + " name " : " blob " 
 + } 
 + ] 
 + } , 
 + " doc " : [ 
 + " Download shared blob " , 
 + { 
 + " type " : " reference " , 
 + " argument " : " destPeer " , 
 + " category " : " full " , 
 + " description " : " Destination peer " 
 + } , 
 + { 
 + " type " : " reference " , 
 + " argument " : " bucket " , 
 + " category " : " full " , 
 + " description " : " Bucket name " 
 + } , 
 + { 
 + " type " : " reference " , 
 + " argument " : " objectId " , 
 + " category " : " full " , 
 + " description " : " Object Id " 
 + } 
 + ] , 
 + " attributes " : [ 
 + { 
 + " type " : { 
 + " type " : " struct " , 
 + " childType " : " UserOutPeer " 
 + } , 
 + " id " : 1 , 
 + " name " : " destPeer " 
 + } , 
 + { 
 + " type " : " string " , 
 + " id " : 2 , 
 + " name " : " bucket " 
 + } , 
 + { 
 + " type " : " int32 " , 
 + " id " : 3 , 
 + " name " : " objectId " 
 + } 
 + ] 
 + } 
 } 
 ] 
 } , 
 diff - - git a / actor - sdk / sdk - api / api - language / solutions / im . actor . api / models / im / actor / api / scheme . mps b / actor - sdk / sdk - api / api - language / solutions / im . actor . api / models / im / actor / api / scheme . mps 
 index 666a8f1 . . 073f198 100644 
 - - - a / actor - sdk / sdk - api / api - language / solutions / im . actor . api / models / im / actor / api / scheme . mps 
 + + + b / actor - sdk / sdk - api / api - language / solutions / im . actor . api / models / im / actor / api / scheme . mps 
 @ @ - 11145 , 7 + 11145 , 7 @ @ 
 < / node > 
 < / node > 
 < node concept = " 2m6fVq " id = " 5 _ CDdZ2jMNJ " role = " 2m5mJr " > 
 - < property role = " TrG5h " value = " LoadEphermalPublicKeys " / > 
 + < property role = " TrG5h " value = " LoadPrePublicKeys " / > 
 < node concept = " 2uC4CA " id = " 5 _ CDdZ2jQvA " role = " 2uC9gA " > 
 < property role = " 2uC4DK " value = " 400 " / > 
 < property role = " 2uC4Qe " value = " NO _ GROUP _ FOUND " / > 
 @ @ - 11542 , 7 + 11542 , 7 @ @ 
 < / node > 
 < / node > 
 < node concept = " 2m6fVq " id = " 5 _ CDdZ2qOwz " role = " 2m5mJr " > 
 - < property role = " TrG5h " value = " UploadEphermalKey " / > 
 + < property role = " TrG5h " value = " UploadPreKey " / > 
 < node concept = " 2m7Kf5 " id = " 5 _ CDdZ2qOzv " role = " 2m0hLx " > 
 < property role = " 2m7DUN " value = " 1 " / > 
 < property role = " TrG5h " value = " keyGroupId " / > 
 @ @ - 11598 , 6 + 11598 , 14 @ @ 
 < / node > 
 < node concept = " 2m5naR " id = " 5 _ CDdZ2r0S4 " role = " 2m5mJr " > 
 < property role = " TrG5h " value = " EncryptedBox " / > 
 + < property role = " tsOgz " value = " true " / > 
 + < node concept = " 2m7Kf5 " id = " 1HaN6CbFN4V " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 4 " / > 
 + < property role = " TrG5h " value = " senderKeyGroupId " / > 
 + < node concept = " wb0Ql " id = " 1HaN6CbFYzW " role = " 2m7DVh " > 
 + < ref role = " wb18D " node = " 5 _ CDdZ2q76m " resolve = " keyGroupId " / > 
 + < / node > 
 + < / node > 
 < node concept = " 2m7Kf5 " id = " 5 _ CDdZ2r6rJ " role = " 2m0hLx " > 
 < property role = " 2m7DUN " value = " 1 " / > 
 < property role = " TrG5h " value = " keys " / > 
 @ @ - 11617 , 6 + 11625 , 15 @ @ 
 < property role = " TrG5h " value = " encPackage " / > 
 < node concept = " 2m61tm " id = " 5 _ CDdZ2r6s6 " role = " 2m7DVh " / > 
 < / node > 
 + < node concept = " 2m7Kf5 " id = " 1HaN6CbGaH4 " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 5 " / > 
 + < property role = " TrG5h " value = " signatures " / > 
 + < node concept = " 2m5nlk " id = " 1HaN6CbGaHh " role = " 2m7DVh " > 
 + < node concept = " 2m5mGg " id = " 1HaN6CbGaHn " role = " 3GJlyp " > 
 + < ref role = " 2m5mJy " node = " 1HaN6CbG9Fu " resolve = " EncryptedBoxSignature " / > 
 + < / node > 
 + < / node > 
 + < / node > 
 < node concept = " NXeRC " id = " 5 _ CDdZ2r6s9 " role = " NXodf " > 
 < property role = " NXePf " value = " Encrypted package that is encrypted for multiple keys " / > 
 < / node > 
 @ @ - 11635 , 9 + 11652 , 41 @ @ 
 < property role = " NX6R2 " value = " Encrypted package " / > 
 < ref role = " NX6Kv " node = " 5 _ CDdZ2r6rZ " resolve = " encPackage " / > 
 < / node > 
 + < node concept = " NX1gA " id = " 1HaN6CbG0sE " role = " NXodf " > 
 + < property role = " NX6R2 " value = " Sender key group " / > 
 + < property role = " 1GSvIU " value = " full " / > 
 + < ref role = " NX6Kv " node = " 1HaN6CbFN4V " resolve = " senderKeyGroupId " / > 
 + < / node > 
 + < / node > 
 + < node concept = " 2m5naR " id = " 1HaN6CbG9Fu " role = " 2m5mJr " > 
 + < property role = " TrG5h " value = " EncryptedBoxSignature " / > 
 + < node concept = " 2m7Kf5 " id = " 1HaN6CbG9JP " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 1 " / > 
 + < property role = " TrG5h " value = " algType " / > 
 + < node concept = " 2m5ndX " id = " 1HaN6CbG9JT " role = " 2m7DVh " / > 
 + < / node > 
 + < node concept = " 2m7Kf5 " id = " 1HaN6CbG9JW " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 2 " / > 
 + < property role = " TrG5h " value = " signature " / > 
 + < node concept = " 2m61tm " id = " 1HaN6CbG9K2 " role = " 2m7DVh " / > 
 + < / node > 
 + < node concept = " NXeRC " id = " 1HaN6CbGaGM " role = " NXodf " > 
 + < property role = " NXePf " value = " Signature for encrypted package " / > 
 + < / node > 
 + < node concept = " NX1gA " id = " 1HaN6CbGaGR " role = " NXodf " > 
 + < property role = " NX6R2 " value = " Alg Type " / > 
 + < property role = " 1GSvIU " value = " full " / > 
 + < ref role = " NX6Kv " node = " 1HaN6CbG9JP " resolve = " algType " / > 
 + < / node > 
 + < node concept = " NX1gA " id = " 1HaN6CbGaGZ " role = " NXodf " > 
 + < property role = " NX6R2 " value = " Signature of encrypted package " / > 
 + < property role = " 1GSvIU " value = " full " / > 
 + < ref role = " NX6Kv " node = " 1HaN6CbG9JW " resolve = " signature " / > 
 + < / node > 
 < / node > 
 < node concept = " 2m5naR " id = " 5 _ CDdZ2r0YU " role = " 2m5mJr " > 
 < property role = " TrG5h " value = " EncyptedBoxKey " / > 
 + < property role = " tsOgz " value = " true " / > 
 < node concept = " 2m7Kf5 " id = " 5 _ CDdZ2rhAZ " role = " 2m0hLx " > 
 < property role = " 2m7DUN " value = " 1 " / > 
 < property role = " TrG5h " value = " usersId " / > 
 @ @ - 11680 , 6 + 11729 , 185 @ @ 
 < ref role = " NX6Kv " node = " 5 _ CDdZ2r2Pn " resolve = " encryptedKey " / > 
 < / node > 
 < / node > 
 + < node concept = " 2m5naR " id = " 1HaN6CbG4qO " role = " 2m5mJr " > 
 + < property role = " TrG5h " value = " KeyGroupId " / > 
 + < node concept = " 2m7Kf5 " id = " 1HaN6CbG4Is " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 1 " / > 
 + < property role = " TrG5h " value = " uid " / > 
 + < node concept = " wb0Ql " id = " 1HaN6CbG4Iz " role = " 2m7DVh " > 
 + < ref role = " wb18D " node = " 5qm50Y0e3uz " resolve = " userId " / > 
 + < / node > 
 + < / node > 
 + < node concept = " 2m7Kf5 " id = " 1HaN6CbG4IA " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 2 " / > 
 + < property role = " TrG5h " value = " keyGroupId " / > 
 + < node concept = " wb0Ql " id = " 1HaN6CbG4IG " role = " 2m7DVh " > 
 + < ref role = " wb18D " node = " 5 _ CDdZ2q76m " resolve = " keyGroupId " / > 
 + < / node > 
 + < / node > 
 + < node concept = " NXeRC " id = " 1HaN6CbG4IJ " role = " NXodf " > 
 + < property role = " NXePf " value = " References to key groups " / > 
 + < / node > 
 + < node concept = " NX1gA " id = " 1HaN6CbG4IO " role = " NXodf " > 
 + < property role = " 1GSvIU " value = " full " / > 
 + < property role = " NX6R2 " value = " User ' s id " / > 
 + < ref role = " NX6Kv " node = " 1HaN6CbG4Is " resolve = " uid " / > 
 + < / node > 
 + < node concept = " NX1gA " id = " 1HaN6CbG4IW " role = " NXodf " > 
 + < property role = " NX6R2 " value = " Key Group Id " / > 
 + < ref role = " NX6Kv " node = " 1HaN6CbG4IA " resolve = " keyGroupId " / > 
 + < / node > 
 + < / node > 
 + < node concept = " 2m6fVq " id = " 1HaN6CbG2pe " role = " 2m5mJr " > 
 + < property role = " TrG5h " value = " SendEncryptedPackage " / > 
 + < node concept = " 2m7Kf5 " id = " 1HaN6CbG2tq " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 1 " / > 
 + < property role = " TrG5h " value = " randomId " / > 
 + < node concept = " wb0Ql " id = " 1HaN6CbG2tx " role = " 2m7DVh " > 
 + < ref role = " wb18D " node = " 2vxDjotnUB8 " resolve = " randomId " / > 
 + < / node > 
 + < / node > 
 + < node concept = " 2m7Kf5 " id = " 1HaN6CbG2td " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 2 " / > 
 + < property role = " TrG5h " value = " destPeers " / > 
 + < node concept = " 2m5nlk " id = " 1HaN6CbG2th " role = " 2m7DVh " > 
 + < node concept = " 2m5mGg " id = " 1HaN6CbG2tn " role = " 3GJlyp " > 
 + < ref role = " 2m5mJy " node = " GBscvBB6ia " resolve = " UserOutPeer " / > 
 + < / node > 
 + < / node > 
 + < / node > 
 + < node concept = " 2m7Kf5 " id = " 1HaN6CbG4J1 " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 3 " / > 
 + < property role = " TrG5h " value = " ignoredKeyGroups " / > 
 + < node concept = " 2m5nlk " id = " 1HaN6CbG4Jc " role = " 2m7DVh " > 
 + < node concept = " 2m5mGg " id = " 1HaN6CbG4Ji " role = " 3GJlyp " > 
 + < ref role = " 2m5mJy " node = " 1HaN6CbG4qO " resolve = " KeyGroupId " / > 
 + < / node > 
 + < / node > 
 + < / node > 
 + < node concept = " 2m7Kf5 " id = " 1HaN6CbG2t $ " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 4 " / > 
 + < property role = " TrG5h " value = " encryptedBox " / > 
 + < node concept = " 2m5mGg " id = " 1HaN6CbG2tH " role = " 2m7DVh " > 
 + < ref role = " 2m5mJy " node = " 5 _ CDdZ2r0S4 " resolve = " EncryptedBox " / > 
 + < / node > 
 + < / node > 
 + < node concept = " Nu42z " id = " 1HaN6CbG2pf " role = " NuuwV " > 
 + < property role = " Nu42W " value = " A61 " / > 
 + < / node > 
 + < node concept = " NXeRC " id = " 1HaN6CbG8En " role = " 1GBnQ6 " > 
 + < property role = " NXePf " value = " Sending encrypted package " / > 
 + < / node > 
 + < node concept = " NX1gA " id = " 1HaN6CbG8Es " role = " 1GBnQ6 " > 
 + < property role = " NX6R2 " value = " Random id " / > 
 + < ref role = " NX6Kv " node = " 1HaN6CbG2tq " resolve = " randomId " / > 
 + < / node > 
 + < node concept = " 2m1R6W " id = " 1HaN6CbGoUb " role = " 2m6efq " > 
 + < node concept = " 2m7Kf5 " id = " 1HaN6CbGoUg " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 1 " / > 
 + < property role = " TrG5h " value = " seq " / > 
 + < node concept = " 2m5nlT " id = " 1HaN6CbGoUk " role = " 2m7DVh " > 
 + < node concept = " 2m5ndE " id = " 1HaN6CbGoUq " role = " 3GH5xg " / > 
 + < / node > 
 + < / node > 
 + < node concept = " 2m7Kf5 " id = " 1HaN6CbGoUt " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 2 " / > 
 + < property role = " TrG5h " value = " state " / > 
 + < node concept = " 2m5nlT " id = " 1HaN6CbGoU $ " role = " 2m7DVh " > 
 + < node concept = " wb0Ql " id = " 1HaN6CbGoUE " role = " 3GH5xg " > 
 + < ref role = " wb18D " node = " 55bmeIQ7 $ gx " resolve = " seq _ state " / > 
 + < / node > 
 + < / node > 
 + < / node > 
 + < node concept = " 2m7Kf5 " id = " 1HaN6CbGoUH " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 3 " / > 
 + < property role = " TrG5h " value = " date " / > 
 + < node concept = " 2m5nlT " id = " 1HaN6CbGoUR " role = " 2m7DVh " > 
 + < node concept = " wb0Ql " id = " 1HaN6CbGoUX " role = " 3GH5xg " > 
 + < ref role = " wb18D " node = " 2vxDjotnO8T " resolve = " date " / > 
 + < / node > 
 + < / node > 
 + < / node > 
 + < node concept = " 2m7Kf5 " id = " 1HaN6CbGoV0 " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 4 " / > 
 + < property role = " TrG5h " value = " obsoleteKeyGroups " / > 
 + < node concept = " 2m5nlk " id = " 1HaN6CbGoVd " role = " 2m7DVh " > 
 + < node concept = " 2m5mGg " id = " 1HaN6CbGoVj " role = " 3GJlyp " > 
 + < ref role = " 2m5mJy " node = " 1HaN6CbG4qO " resolve = " KeyGroupId " / > 
 + < / node > 
 + < / node > 
 + < / node > 
 + < node concept = " 2m7Kf5 " id = " 1HaN6CbGpT1 " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 5 " / > 
 + < property role = " TrG5h " value = " missedKeyGroups " / > 
 + < node concept = " 2m5nlk " id = " 1HaN6CbGpTo " role = " 2m7DVh " > 
 + < node concept = " 2m5mGg " id = " 1HaN6CbGt1 $ " role = " 3GJlyp " > 
 + < ref role = " 2m5mJy " node = " 1HaN6CbG4qO " resolve = " KeyGroupId " / > 
 + < / node > 
 + < / node > 
 + < / node > 
 + < node concept = " Nu42z " id = " 1HaN6CbGoUc " role = " NuuwV " > 
 + < property role = " Nu42W " value = " A68 " / > 
 + < / node > 
 + < / node > 
 + < / node > 
 + < node concept = " NpBTk " id = " 1HaN6CbG8 _ f " role = " 2m5mJr " > 
 + < property role = " TrG5h " value = " EncryptedPackage " / > 
 + < node concept = " 2m7Kf5 " id = " 1HaN6CbG8Dz " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 1 " / > 
 + < property role = " TrG5h " value = " randomId " / > 
 + < node concept = " wb0Ql " id = " 1HaN6CbG8DB " role = " 2m7DVh " > 
 + < ref role = " wb18D " node = " 2vxDjotnUB8 " resolve = " randomId " / > 
 + < / node > 
 + < / node > 
 + < node concept = " 2m7Kf5 " id = " 1HaN6CbG8DE " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 2 " / > 
 + < property role = " TrG5h " value = " date " / > 
 + < node concept = " wb0Ql " id = " 1HaN6CbG8DW " role = " 2m7DVh " > 
 + < ref role = " wb18D " node = " 2vxDjotnO8T " resolve = " date " / > 
 + < / node > 
 + < / node > 
 + < node concept = " 2m7Kf5 " id = " 1HaN6CbG8DZ " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 3 " / > 
 + < property role = " TrG5h " value = " senderId " / > 
 + < node concept = " wb0Ql " id = " 1HaN6CbG8E7 " role = " 2m7DVh " > 
 + < ref role = " wb18D " node = " 5qm50Y0e3uz " resolve = " userId " / > 
 + < / node > 
 + < / node > 
 + < node concept = " 2m7Kf5 " id = " 1HaN6CbG8Ea " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 4 " / > 
 + < property role = " TrG5h " value = " encryptedBox " / > 
 + < node concept = " 2m5mGg " id = " 1HaN6CbG8Ek " role = " 2m7DVh " > 
 + < ref role = " 2m5mJy " node = " 5 _ CDdZ2r0S4 " resolve = " EncryptedBox " / > 
 + < / node > 
 + < / node > 
 + < node concept = " Nu42z " id = " 1HaN6CbG8 _ g " role = " NuuwV " > 
 + < property role = " Nu42W " value = " B1 " / > 
 + < / node > 
 + < node concept = " NXeRC " id = " 1HaN6CbGbEd " role = " NXp _ 2 " > 
 + < property role = " NXePf " value = " Update about encrypted package " / > 
 + < / node > 
 + < node concept = " NX1gA " id = " 1HaN6CbGcB6 " role = " NXp _ 2 " > 
 + < property role = " NX6R2 " value = " Random Id of package " / > 
 + < property role = " 1GSvIU " value = " full " / > 
 + < ref role = " NX6Kv " node = " 1HaN6CbG8Dz " resolve = " randomId " / > 
 + < / node > 
 + < node concept = " NX1gA " id = " 1HaN6CbGcBe " role = " NXp _ 2 " > 
 + < property role = " 1GSvIU " value = " full " / > 
 + < property role = " NX6R2 " value = " Sending date of package " / > 
 + < ref role = " NX6Kv " node = " 1HaN6CbG8DE " resolve = " date " / > 
 + < / node > 
 + < node concept = " NX1gA " id = " 1HaN6CbGcBo " role = " NXp _ 2 " > 
 + < property role = " NX6R2 " value = " Sender id of package " / > 
 + < property role = " 1GSvIU " value = " full " / > 
 + < ref role = " NX6Kv " node = " 1HaN6CbG8DZ " resolve = " senderId " / > 
 + < / node > 
 + < node concept = " NX1gA " id = " 1HaN6CbGcB $ " role = " NXp _ 2 " > 
 + < property role = " 1GSvIU " value = " full " / > 
 + < property role = " NX6R2 " value = " Encrypted box " / > 
 + < ref role = " NX6Kv " node = " 1HaN6CbG8Ea " resolve = " encryptedBox " / > 
 + < / node > 
 + < / node > 
 < node concept = " 1Dx9M1 " id = " 7ZzLuuoIXYH " role = " 1Dx9rD " > 
 < property role = " 1Dx9K7 " value = " Package that include encryption support " / > 
 < / node > 
 @ @ - 11711 , 6 + 11939 , 134 @ @ 
 < property role = " 1Dx9K7 " value = " * Ed25519 - used curve25519 conveted to Ed255519 for signing and validataion " / > 
 < / node > 
 < / node > 
 + < node concept = " 2m5mJO " id = " 1HaN6CbGgOl " role = " 2m5lHt " > 
 + < property role = " TrG5h " value = " Storage " / > 
 + < property role = " 3XOG $ Z " value = " storage " / > 
 + < node concept = " 2m6fVq " id = " 1HaN6CbGiIe " role = " 2m5mJr " > 
 + < property role = " TrG5h " value = " UploadSharedBlob " / > 
 + < node concept = " 2m7Kf5 " id = " 1HaN6CbGjFw " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 1 " / > 
 + < property role = " TrG5h " value = " destPeer " / > 
 + < node concept = " 2m5mGg " id = " 1HaN6CbGkDE " role = " 2m7DVh " > 
 + < ref role = " 2m5mJy " node = " GBscvBB6ia " resolve = " UserOutPeer " / > 
 + < / node > 
 + < / node > 
 + < node concept = " 2m7Kf5 " id = " 1HaN6CbGkDJ " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 2 " / > 
 + < property role = " TrG5h " value = " bucket " / > 
 + < node concept = " 2m5ndX " id = " 1HaN6CbGkDR " role = " 2m7DVh " / > 
 + < / node > 
 + < node concept = " 2m7Kf5 " id = " 1HaN6CbGjFB " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 3 " / > 
 + < property role = " TrG5h " value = " blob " / > 
 + < node concept = " 2m61tm " id = " 1HaN6CbGjFH " role = " 2m7DVh " / > 
 + < / node > 
 + < node concept = " 2m7Kf5 " id = " 1HaN6CbGlBL " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 4 " / > 
 + < property role = " TrG5h " value = " randomId " / > 
 + < node concept = " wb0Ql " id = " 1HaN6CbGlBV " role = " 2m7DVh " > 
 + < ref role = " wb18D " node = " 2vxDjotnUB8 " resolve = " randomId " / > 
 + < / node > 
 + < / node > 
 + < node concept = " Nu42z " id = " 1HaN6CbGiIf " role = " NuuwV " > 
 + < property role = " Nu42W " value = " A64 " / > 
 + < / node > 
 + < node concept = " 2m1R6W " id = " 1HaN6CbGjFV " role = " 2m6efq " > 
 + < node concept = " 2m7Kf5 " id = " 1HaN6CbGjG0 " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 1 " / > 
 + < property role = " TrG5h " value = " sharedObjectId " / > 
 + < node concept = " 2m5ndE " id = " 1HaN6CbGkDs " role = " 2m7DVh " / > 
 + < / node > 
 + < node concept = " Nu42z " id = " 1HaN6CbGjFW " role = " NuuwV " > 
 + < property role = " Nu42W " value = " A65 " / > 
 + < / node > 
 + < node concept = " NX1gA " id = " 1HaN6CbGlBJ " role = " 1y2DgH " > 
 + < property role = " NX6R2 " value = " Id of shared object " / > 
 + < property role = " 1GSvIU " value = " full " / > 
 + < ref role = " NX6Kv " node = " 1HaN6CbGjG0 " resolve = " sharedObjectId " / > 
 + < / node > 
 + < / node > 
 + < node concept = " NXeRC " id = " 1HaN6CbGkDU " role = " 1GBnQ6 " > 
 + < property role = " NXePf " value = " Upload shared blob with user " / > 
 + < / node > 
 + < node concept = " NX1gA " id = " 1HaN6CbGkDZ " role = " 1GBnQ6 " > 
 + < property role = " 1GSvIU " value = " full " / > 
 + < property role = " NX6R2 " value = " Destination peer " / > 
 + < ref role = " NX6Kv " node = " 1HaN6CbGjFw " resolve = " destPeer " / > 
 + < / node > 
 + < node concept = " NX1gA " id = " 1HaN6CbGkE7 " role = " 1GBnQ6 " > 
 + < property role = " NX6R2 " value = " Bucked name " / > 
 + < property role = " 1GSvIU " value = " full " / > 
 + < ref role = " NX6Kv " node = " 1HaN6CbGkDJ " resolve = " bucket " / > 
 + < / node > 
 + < node concept = " NX1gA " id = " 1HaN6CbGlBB " role = " 1GBnQ6 " > 
 + < property role = " NX6R2 " value = " Blob data " / > 
 + < property role = " 1GSvIU " value = " full " / > 
 + < ref role = " NX6Kv " node = " 1HaN6CbGjFB " resolve = " blob " / > 
 + < / node > 
 + < node concept = " NX1gA " id = " 1HaN6CbGlC4 " role = " 1GBnQ6 " > 
 + < property role = " 1GSvIU " value = " full " / > 
 + < property role = " NX6R2 " value = " Random id for protecting from double upload " / > 
 + < ref role = " NX6Kv " node = " 1HaN6CbGlBL " resolve = " randomId " / > 
 + < / node > 
 + < / node > 
 + < node concept = " 2m6fVq " id = " 1HaN6CbGlCx " role = " 2m5mJr " > 
 + < property role = " TrG5h " value = " DownloadSharedBlob " / > 
 + < node concept = " 2m7Kf5 " id = " 1HaN6CbGlCX " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 1 " / > 
 + < property role = " TrG5h " value = " destPeer " / > 
 + < node concept = " 2m5mGg " id = " 1HaN6CbGlD1 " role = " 2m7DVh " > 
 + < ref role = " 2m5mJy " node = " GBscvBB6ia " resolve = " UserOutPeer " / > 
 + < / node > 
 + < / node > 
 + < node concept = " 2m7Kf5 " id = " 1HaN6CbGlD4 " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 2 " / > 
 + < property role = " TrG5h " value = " bucket " / > 
 + < node concept = " 2m5ndX " id = " 1HaN6CbGlDa " role = " 2m7DVh " / > 
 + < / node > 
 + < node concept = " 2m7Kf5 " id = " 1HaN6CbGlDd " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 3 " / > 
 + < property role = " TrG5h " value = " objectId " / > 
 + < node concept = " 2m5ndE " id = " 1HaN6CbGlDl " role = " 2m7DVh " / > 
 + < / node > 
 + < node concept = " Nu42z " id = " 1HaN6CbGlCy " role = " NuuwV " > 
 + < property role = " Nu42W " value = " A66 " / > 
 + < / node > 
 + < node concept = " 2m1R6W " id = " 1HaN6CbGlDC " role = " 2m6efq " > 
 + < node concept = " 2m7Kf5 " id = " 1HaN6CbGlDH " role = " 2m0hLx " > 
 + < property role = " 2m7DUN " value = " 1 " / > 
 + < property role = " TrG5h " value = " blob " / > 
 + < node concept = " 2m61tm " id = " 1HaN6CbGlDL " role = " 2m7DVh " / > 
 + < / node > 
 + < node concept = " Nu42z " id = " 1HaN6CbGlDD " role = " NuuwV " > 
 + < property role = " Nu42W " value = " A67 " / > 
 + < / node > 
 + < node concept = " NX1gA " id = " 1HaN6CbGmBY " role = " 1y2DgH " > 
 + < property role = " 1GSvIU " value = " full " / > 
 + < property role = " NX6R2 " value = " Blob contents " / > 
 + < ref role = " NX6Kv " node = " 1HaN6CbGlDH " resolve = " blob " / > 
 + < / node > 
 + < / node > 
 + < node concept = " NXeRC " id = " 1HaN6CbGlDO " role = " 1GBnQ6 " > 
 + < property role = " NXePf " value = " Download shared blob " / > 
 + < / node > 
 + < node concept = " NX1gA " id = " 1HaN6CbGlDT " role = " 1GBnQ6 " > 
 + < property role = " 1GSvIU " value = " full " / > 
 + < property role = " NX6R2 " value = " Destination peer " / > 
 + < ref role = " NX6Kv " node = " 1HaN6CbGlCX " resolve = " destPeer " / > 
 + < / node > 
 + < node concept = " NX1gA " id = " 1HaN6CbGlE1 " role = " 1GBnQ6 " > 
 + < property role = " NX6R2 " value = " Bucket name " / > 
 + < property role = " 1GSvIU " value = " full " / > 
 + < ref role = " NX6Kv " node = " 1HaN6CbGlD4 " resolve = " bucket " / > 
 + < / node > 
 + < node concept = " NX1gA " id = " 1HaN6CbGlEb " role = " 1GBnQ6 " > 
 + < property role = " 1GSvIU " value = " full " / > 
 + < property role = " NX6R2 " value = " Object Id " / > 
 + < ref role = " NX6Kv " node = " 1HaN6CbGlDd " resolve = " objectId " / > 
 + < / node > 
 + < / node > 
 + < / node > 
 < node concept = " 2m5mJO " id = " GBscvBB6e7 " role = " 2m5lHt " > 
 < property role = " TrG5h " value = " Peers " / > 
 < property role = " 3XOG $ Z " value = " peers " / >
