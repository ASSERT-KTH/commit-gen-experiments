BLEU SCORE: 0.46548383647045716

TEST MSG: fix ( server : webrtc ) : fixed joining
GENERATED MSG: fix ( server : webrtc ) : end call if one device left

TEST DIFF (one line): diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala b / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala < nl > index 13a2a4a . . bc0bcb7 100644 < nl > - - - a / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala < nl > + + + b / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala < nl > @ @ - 223 , 7 + 223 , 7 @ @ private final class WebrtcCallActor extends ActorStashing with ActorLogging { < nl > pairDevice < nl > } < nl > < nl > - if ( connectedDevices . nonEmpty ) < nl > + if ( connectedDevices . force . nonEmpty ) < nl > this . isConversationStarted = true < nl > < nl > if ( ! isConnected ( userId ) ) {
NEAREST DIFF (one line): diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala b / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala < nl > index 4db9bdf . . 5870282 100644 < nl > - - - a / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala < nl > + + + b / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala < nl > @ @ - 281 , 6 + 281 , 7 @ @ private final class WebrtcCallActor extends ActorStashing with ActorLogging { < nl > putParticipant ( userId , ApiCallMemberState . ENDED ) < nl > broadcastSyncedSet ( ) < nl > } < nl > + if ( devices . size = = 1 ) end ( ) < nl > case EventBus . Disposed ( _ ) ⇒ < nl > end ( ) < nl > deleteSyncedSet ( )

TEST DIFF:
diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala b / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala 
 index 13a2a4a . . bc0bcb7 100644 
 - - - a / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala 
 + + + b / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala 
 @ @ - 223 , 7 + 223 , 7 @ @ private final class WebrtcCallActor extends ActorStashing with ActorLogging { 
 pairDevice 
 } 
 
 - if ( connectedDevices . nonEmpty ) 
 + if ( connectedDevices . force . nonEmpty ) 
 this . isConversationStarted = true 
 
 if ( ! isConnected ( userId ) ) {

NEAREST DIFF:
diff - - git a / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala b / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala 
 index 4db9bdf . . 5870282 100644 
 - - - a / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala 
 + + + b / actor - server / actor - core / src / main / scala / im / actor / server / webrtc / WebrtcCallActor . scala 
 @ @ - 281 , 6 + 281 , 7 @ @ private final class WebrtcCallActor extends ActorStashing with ActorLogging { 
 putParticipant ( userId , ApiCallMemberState . ENDED ) 
 broadcastSyncedSet ( ) 
 } 
 + if ( devices . size = = 1 ) end ( ) 
 case EventBus . Disposed ( _ ) ⇒ 
 end ( ) 
 deleteSyncedSet ( )
