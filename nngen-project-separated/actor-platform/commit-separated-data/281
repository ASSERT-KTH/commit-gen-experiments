BLEU SCORE: 0.026398002900658198

TEST MSG: fix anchor date
GENERATED MSG: fix ( iOS ) : small pause / play voice fix

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleCell . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleCell . swift < nl > index 4c138d6 . . 650c98c 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleCell . swift < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleCell . swift < nl > @ @ - 276 , 7 + 276 , 7 @ @ public class AABubbleCell : UICollectionViewCell { < nl > < nl > self . isShowDate = setting . showDate < nl > if ( isShowDate ) { < nl > - self . dateText . text = layout . date < nl > + self . dateText . text = layout . anchorDate < nl > } < nl > < nl > self . bindedSetting = setting < nl > @ @ - 531 , 4 + 531 , 4 @ @ public class AABubbleCell : UICollectionViewCell { < nl > public override func preferredLayoutAttributesFittingAttributes ( layoutAttributes : UICollectionViewLayoutAttributes ) - > UICollectionViewLayoutAttributes { < nl > return layoutAttributes < nl > } < nl > - } < nl > \ No newline at end of file < nl > + }
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / AAConversationContentController . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / AAConversationContentController . swift < nl > index 6ce5e8c . . 692d99e 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / AAConversationContentController . swift < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / AAConversationContentController . swift < nl > @ @ - 370 , 17 + 370 , 20 @ @ public class AAConversationContentController : SLKTextViewController , ARDisplayLi < nl > func playVoiceFromPath ( path : String , fileId : jlong , position : Float ) { < nl > < nl > if ( self . currentAudioFileId ! = fileId ) { < nl > - self . currentAudioFileId = fileId < nl > < nl > self . voicePlayer ? . stop ( ) < nl > self . voicePlayer ? . audioPlayerStopAndFinish ( ) < nl > < nl > + self . voicesCache [ self . currentAudioFileId ] = 0 . 0 < nl > + < nl > self . voicePlayer = AAModernConversationAudioPlayer ( filePath : path ) < nl > self . voiceContext = self . voicePlayer . inlineMediaContext ( ) < nl > < nl > < nl > self . voicePlayer ? . play ( ) < nl > < nl > + self . currentAudioFileId = fileId < nl > + < nl > } else { < nl > < nl > if self . voicePlayer ? . isPaused ( ) = = false { < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleVoiceCell . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleVoiceCell . swift < nl > index 7677fd4 . . c75df24 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleVoiceCell . swift < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleVoiceCell . swift < nl > @ @ - 361 , 10 + 361 , 11 @ @ public class AABubbleVoiceCell : AABubbleBaseFileCell , AAModernConversationAudioPl < nl > public func audioPlayerDidFinish ( ) { < nl > < nl > dispatchOnUi { ( ) - > Void in < nl > + < nl > self . playPauseButton . setImage ( UIImage . bundled ( " aa _ playrecordbutton " ) , forState : UIControlState . Normal ) < nl > self . soundProgressSlider . value = 0 . 0 < nl > - self . controller . currentAudioFileId = 0 < nl > self . controller . voicesCache [ ( self . bindedMessage ? . rid ) ! ] = 0 . 0 < nl > + < nl > } < nl > < nl > }

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleCell . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleCell . swift 
 index 4c138d6 . . 650c98c 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleCell . swift 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleCell . swift 
 @ @ - 276 , 7 + 276 , 7 @ @ public class AABubbleCell : UICollectionViewCell { 
 
 self . isShowDate = setting . showDate 
 if ( isShowDate ) { 
 - self . dateText . text = layout . date 
 + self . dateText . text = layout . anchorDate 
 } 
 
 self . bindedSetting = setting 
 @ @ - 531 , 4 + 531 , 4 @ @ public class AABubbleCell : UICollectionViewCell { 
 public override func preferredLayoutAttributesFittingAttributes ( layoutAttributes : UICollectionViewLayoutAttributes ) - > UICollectionViewLayoutAttributes { 
 return layoutAttributes 
 } 
 - } 
 \ No newline at end of file 
 + }

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / AAConversationContentController . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / AAConversationContentController . swift 
 index 6ce5e8c . . 692d99e 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / AAConversationContentController . swift 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / AAConversationContentController . swift 
 @ @ - 370 , 17 + 370 , 20 @ @ public class AAConversationContentController : SLKTextViewController , ARDisplayLi 
 func playVoiceFromPath ( path : String , fileId : jlong , position : Float ) { 
 
 if ( self . currentAudioFileId ! = fileId ) { 
 - self . currentAudioFileId = fileId 
 
 self . voicePlayer ? . stop ( ) 
 self . voicePlayer ? . audioPlayerStopAndFinish ( ) 
 
 + self . voicesCache [ self . currentAudioFileId ] = 0 . 0 
 + 
 self . voicePlayer = AAModernConversationAudioPlayer ( filePath : path ) 
 self . voiceContext = self . voicePlayer . inlineMediaContext ( ) 
 
 
 self . voicePlayer ? . play ( ) 
 
 + self . currentAudioFileId = fileId 
 + 
 } else { 
 
 if self . voicePlayer ? . isPaused ( ) = = false { 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleVoiceCell . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleVoiceCell . swift 
 index 7677fd4 . . c75df24 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleVoiceCell . swift 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleVoiceCell . swift 
 @ @ - 361 , 10 + 361 , 11 @ @ public class AABubbleVoiceCell : AABubbleBaseFileCell , AAModernConversationAudioPl 
 public func audioPlayerDidFinish ( ) { 
 
 dispatchOnUi { ( ) - > Void in 
 + 
 self . playPauseButton . setImage ( UIImage . bundled ( " aa _ playrecordbutton " ) , forState : UIControlState . Normal ) 
 self . soundProgressSlider . value = 0 . 0 
 - self . controller . currentAudioFileId = 0 
 self . controller . voicesCache [ ( self . bindedMessage ? . rid ) ! ] = 0 . 0 
 + 
 } 
 
 }
