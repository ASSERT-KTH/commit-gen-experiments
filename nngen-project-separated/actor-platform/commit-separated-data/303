BLEU SCORE: 0.3573880113629119

TEST MSG: fix ( android ) : bind animations to PhotoHolder
GENERATED MSG: fix ( android ) : edit only last and own message

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / PhotoHolder . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / PhotoHolder . java < nl > index ba7b164 . . 5fb226d 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / PhotoHolder . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / PhotoHolder . java < nl > @ @ - 25 , 6 + 25 , 7 @ @ import java . io . File ; < nl > < nl > import im . actor . core . entity . FileReference ; < nl > import im . actor . core . entity . Message ; < nl > + import im . actor . core . entity . content . AnimationContent ; < nl > import im . actor . core . entity . content . DocumentContent ; < nl > import im . actor . core . entity . content . FileLocalSource ; < nl > import im . actor . core . entity . content . FileRemoteSource ; < nl > @ @ - 186 , 6 + 187 , 11 @ @ public class PhotoHolder extends MessageHolder { < nl > h = ( ( PhotoContent ) message . getContent ( ) ) . getH ( ) ; < nl > isPhoto = true ; < nl > duration . setVisibility ( View . GONE ) ; < nl > + } else if ( message . getContent ( ) instanceof AnimationContent ) { < nl > + w = ( ( AnimationContent ) message . getContent ( ) ) . getW ( ) ; < nl > + h = ( ( AnimationContent ) message . getContent ( ) ) . getH ( ) ; < nl > + isPhoto = true ; < nl > + duration . setVisibility ( View . GONE ) ; < nl > } else if ( message . getContent ( ) instanceof VideoContent ) { < nl > w = ( ( VideoContent ) message . getContent ( ) ) . getW ( ) ; < nl > h = ( ( VideoContent ) message . getContent ( ) ) . getH ( ) ;
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesFragment . java < nl > index 5d658c5 . . 21da715 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesFragment . java < nl > @ @ - 59 , 6 + 59 , 7 @ @ import im . actor . runtime . generic . mvvm . BindedDisplayList ; < nl > import im . actor . runtime . generic . mvvm . DisplayList ; < nl > < nl > import static im . actor . sdk . util . ActorSDKMessenger . messenger ; < nl > + import static im . actor . sdk . util . ActorSDKMessenger . myUid ; < nl > import static im . actor . sdk . util . ActorSDKMessenger . users ; < nl > < nl > @ TargetApi ( Build . VERSION _ CODES . LOLLIPOP ) < nl > @ @ - 272 , 7 + 273 , 7 @ @ public class MessagesFragment extends DisplayListFragment < Message , MessageHolder < nl > } < nl > return true ; < nl > } else { < nl > - if ( message . getContent ( ) instanceof TextContent ) { < nl > + if ( message . getContent ( ) instanceof TextContent & & message . getSenderId ( ) = = myUid ( ) & & message . getSortDate ( ) > = messenger ( ) . loadFirstUnread ( peer ) ) { < nl > ( ( ChatActivity ) getActivity ( ) ) . onEditTextMessage ( message . getRid ( ) , ( ( TextContent ) message . getContent ( ) ) . getText ( ) ) ; < nl > return true ; < nl > }

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / PhotoHolder . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / PhotoHolder . java 
 index ba7b164 . . 5fb226d 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / PhotoHolder . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / PhotoHolder . java 
 @ @ - 25 , 6 + 25 , 7 @ @ import java . io . File ; 
 
 import im . actor . core . entity . FileReference ; 
 import im . actor . core . entity . Message ; 
 + import im . actor . core . entity . content . AnimationContent ; 
 import im . actor . core . entity . content . DocumentContent ; 
 import im . actor . core . entity . content . FileLocalSource ; 
 import im . actor . core . entity . content . FileRemoteSource ; 
 @ @ - 186 , 6 + 187 , 11 @ @ public class PhotoHolder extends MessageHolder { 
 h = ( ( PhotoContent ) message . getContent ( ) ) . getH ( ) ; 
 isPhoto = true ; 
 duration . setVisibility ( View . GONE ) ; 
 + } else if ( message . getContent ( ) instanceof AnimationContent ) { 
 + w = ( ( AnimationContent ) message . getContent ( ) ) . getW ( ) ; 
 + h = ( ( AnimationContent ) message . getContent ( ) ) . getH ( ) ; 
 + isPhoto = true ; 
 + duration . setVisibility ( View . GONE ) ; 
 } else if ( message . getContent ( ) instanceof VideoContent ) { 
 w = ( ( VideoContent ) message . getContent ( ) ) . getW ( ) ; 
 h = ( ( VideoContent ) message . getContent ( ) ) . getH ( ) ;

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesFragment . java 
 index 5d658c5 . . 21da715 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesFragment . java 
 @ @ - 59 , 6 + 59 , 7 @ @ import im . actor . runtime . generic . mvvm . BindedDisplayList ; 
 import im . actor . runtime . generic . mvvm . DisplayList ; 
 
 import static im . actor . sdk . util . ActorSDKMessenger . messenger ; 
 + import static im . actor . sdk . util . ActorSDKMessenger . myUid ; 
 import static im . actor . sdk . util . ActorSDKMessenger . users ; 
 
 @ TargetApi ( Build . VERSION _ CODES . LOLLIPOP ) 
 @ @ - 272 , 7 + 273 , 7 @ @ public class MessagesFragment extends DisplayListFragment < Message , MessageHolder 
 } 
 return true ; 
 } else { 
 - if ( message . getContent ( ) instanceof TextContent ) { 
 + if ( message . getContent ( ) instanceof TextContent & & message . getSenderId ( ) = = myUid ( ) & & message . getSortDate ( ) > = messenger ( ) . loadFirstUnread ( peer ) ) { 
 ( ( ChatActivity ) getActivity ( ) ) . onEditTextMessage ( message . getRid ( ) , ( ( TextContent ) message . getContent ( ) ) . getText ( ) ) ; 
 return true ; 
 }
