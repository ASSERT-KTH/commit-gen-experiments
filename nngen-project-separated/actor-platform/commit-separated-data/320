BLEU SCORE: 0.2678284959130086

TEST MSG: ref ( android ) : Remove ActivityManager
GENERATED MSG: chore ( android ) : move settings customizations to controllers

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java < nl > index 4b659a9 . . 229864c 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java < nl > @ @ - 8 , 7 + 8 , 6 @ @ import android . content . Context ; < nl > import android . content . Intent ; < nl > import android . os . Build ; < nl > import android . os . Bundle ; < nl > - import android . os . Debug ; < nl > import android . view . ViewGroup ; < nl > < nl > import com . facebook . drawee . backends . pipeline . Fresco ; < nl > @ @ - 44 , 7 + 43 , 6 @ @ import im . actor . sdk . core . AndroidCallProvider ; < nl > import im . actor . sdk . core . AndroidNotifications ; < nl > import im . actor . sdk . core . AndroidPhoneBook ; < nl > import im . actor . sdk . core . ActorPushManager ; < nl > - import im . actor . sdk . intents . ActivityManager ; < nl > import im . actor . sdk . intents . ActorIntent ; < nl > import im . actor . sdk . intents . ActorIntentActivity ; < nl > import im . actor . sdk . intents . ActorIntentFragmentActivity ; < nl > @ @ - 178 , 10 + 176 , 6 @ @ public class ActorSDK { < nl > * / < nl > @ NotNull < nl > private ActorSDKDelegate delegate = new BaseActorSDKDelegate ( ) ; < nl > - / * * < nl > - * ActivityManager < nl > - * / < nl > - private ActivityManager activityManager = new ActivityManager ( ) ; < nl > < nl > / * * < nl > * Call enabled < nl > @ @ - 776 , 11 + 770 , 6 @ @ public class ActorSDK { < nl > this . delegate = delegate ; < nl > } < nl > < nl > - @ Deprecated < nl > - public ActivityManager getActivityManager ( ) { < nl > - return activityManager ; < nl > - } < nl > - < nl > / * * < nl > * Method is used internally for starting default activity or activity added in delegate < nl > * < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / intents / ActivityManager . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / intents / ActivityManager . java < nl > deleted file mode 100644 < nl > index 446f259 . . 0000000 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / intents / ActivityManager . java < nl > + + + / dev / null < nl > @ @ - 1 , 67 + 0 , 0 @ @ < nl > - package im . actor . sdk . intents ; < nl > - < nl > - import android . content . Context ; < nl > - import android . content . Intent ; < nl > - import android . os . Bundle ; < nl > - < nl > - import im . actor . sdk . ActorSDK ; < nl > - import im . actor . sdk . controllers . activity . ActorMainActivity ; < nl > - import im . actor . sdk . controllers . auth . AuthActivity ; < nl > - < nl > - @ Deprecated < nl > - public class ActivityManager { < nl > - < nl > - public void startAuthActivity ( Context context ) { < nl > - startAuthActivity ( context , null ) ; < nl > - } < nl > - < nl > - public void startAuthActivity ( Context context , Bundle extras ) { < nl > - if ( ! startDelegateActivity ( context , ActorSDK . sharedActor ( ) . getDelegate ( ) . getAuthStartIntent ( ) , extras ) ) { < nl > - startActivity ( context , extras , AuthActivity . class ) ; < nl > - } < nl > - } < nl > - < nl > - public void startAfterLoginActivity ( Context context ) { < nl > - startAfterLoginActivity ( context , null ) ; < nl > - } < nl > - < nl > - public void startAfterLoginActivity ( Context context , Bundle extras ) { < nl > - if ( ! startDelegateActivity ( context , ActorSDK . sharedActor ( ) . getDelegate ( ) . getAuthStartIntent ( ) , extras ) ) { < nl > - startActivity ( context , extras , ActorMainActivity . class ) ; < nl > - } < nl > - } < nl > - < nl > - public void startMessagingActivity ( Context context ) { < nl > - startMessagingActivity ( context , null ) ; < nl > - } < nl > - < nl > - public void startMessagingActivity ( Context context , Bundle extras ) { < nl > - if ( ! startDelegateActivity ( context , ActorSDK . sharedActor ( ) . getDelegate ( ) . getAuthStartIntent ( ) , extras ) ) { < nl > - startActivity ( context , extras , ActorMainActivity . class ) ; < nl > - } < nl > - } < nl > - < nl > - private boolean startDelegateActivity ( Context context , ActorIntent intent , Bundle extras ) { < nl > - if ( intent ! = null & & intent instanceof ActorIntentActivity ) { < nl > - Intent startIntent = ( ( ActorIntentActivity ) ActorSDK . sharedActor ( ) . getDelegate ( ) . getAuthStartIntent ( ) ) . getIntent ( ) ; < nl > - if ( extras ! = null ) { < nl > - startIntent . putExtras ( extras ) ; < nl > - } < nl > - context . startActivity ( startIntent ) ; < nl > - return true ; < nl > - } else { < nl > - return false ; < nl > - } < nl > - < nl > - } < nl > - < nl > - private void startActivity ( Context context , Bundle extras , Class < ? > cls ) { < nl > - Intent intent = new Intent ( context , cls ) ; < nl > - if ( extras ! = null ) { < nl > - intent . putExtras ( extras ) ; < nl > - } < nl > - context . startActivity ( intent ) ; < nl > - } < nl > - < nl > - < nl > - }
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > index 1854f22 . . afa4b83 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > + + + b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > @ @ - 10 , 6 + 10 , 7 @ @ import android . widget . TextView ; < nl > import android . widget . Toast ; < nl > < nl > import im . actor . sdk . ActorSDK ; < nl > + import im . actor . sdk . ActorSDKApplication ; < nl > import im . actor . sdk . ActorStyle ; < nl > import im . actor . sdk . BaseActorSDKDelegate ; < nl > import im . actor . sdk . controllers . fragment . auth . BaseAuthFragment ; < nl > @ @ - 18 , 22 + 19 , 16 @ @ import im . actor . sdk . controllers . fragment . settings . ActorSettingsCategory ; < nl > import im . actor . sdk . controllers . fragment . settings . ActorSettingsField ; < nl > import im . actor . sdk . intents . ActorIntent ; < nl > < nl > - public class Application extends android . app . Application { < nl > + public class Application extends ActorSDKApplication { < nl > + < nl > @ Override < nl > - public void onCreate ( ) { < nl > - super . onCreate ( ) ; < nl > + public void onConfigureActorSDK ( ) { < nl > ActorSDK . sharedActor ( ) . setDelegate ( new ActorSDKDelegate ( ) ) ; < nl > ActorSDK . sharedActor ( ) . setPushId ( 209133700967L ) ; < nl > ActorSDK . sharedActor ( ) . createActor ( this ) ; < nl > < nl > ActorStyle style = ActorSDK . sharedActor ( ) . style ; < nl > style . setMainColor ( Color . parseColor ( " # 529a88 " ) ) ; < nl > - / / style . setMainColor ( Color . CYAN ) ; < nl > - style . setMainBackgroundColor ( Color . RED ) ; < nl > - / / style . setTextPrimaryColor ( Color . GREEN ) ; < nl > - / / style . setTextSecondaryColor ( Color . RED ) ; < nl > - / / style . setSettingsIconColor ( Color . GREEN ) ; < nl > - / / style . setDividerColor ( Color . WHITE ) ; < nl > } < nl > < nl > private class ActorSDKDelegate extends BaseActorSDKDelegate { < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java < nl > index dcd2ef1 . . 3754b35 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java < nl > @ @ - 7 , 6 + 7 , 7 @ @ import android . app . PendingIntent ; < nl > import android . content . Context ; < nl > import android . content . Intent ; < nl > import android . os . Build ; < nl > + import android . os . Bundle ; < nl > < nl > import com . facebook . drawee . backends . pipeline . Fresco ; < nl > < nl > @ @ - 24 , 10 + 25 , 14 @ @ import im . actor . core . ConfigurationBuilder ; < nl > import im . actor . core . DeviceCategory ; < nl > import im . actor . core . PlatformType ; < nl > import im . actor . runtime . Log ; < nl > + import im . actor . sdk . controllers . activity . ActorMainActivity ; < nl > + import im . actor . sdk . controllers . fragment . auth . AuthActivity ; < nl > import im . actor . sdk . core . AndroidNotifications ; < nl > import im . actor . sdk . core . AndroidPhoneBook ; < nl > import im . actor . sdk . core . ActorPushManager ; < nl > import im . actor . sdk . intents . ActivityManager ; < nl > + import im . actor . sdk . intents . ActorIntent ; < nl > + import im . actor . sdk . intents . ActorIntentActivity ; < nl > import im . actor . sdk . services . KeepAliveService ; < nl > import im . actor . sdk . util . Devices ; < nl > import im . actor . sdk . view . emoji . SmileProcessor ; < nl > @ @ - 186 , 9 + 191 , 9 @ @ public class ActorSDK { < nl > < nl > public void startMessagingApp ( Activity context ) { < nl > if ( messenger . isLoggedIn ( ) ) { < nl > - getActivityManager ( ) . startMessagingActivity ( context ) ; < nl > + startMessagingActivity ( context ) ; < nl > } else { < nl > - getActivityManager ( ) . startAuthActivity ( context ) ; < nl > + startAuthActivity ( context ) ; < nl > } < nl > } < nl > < nl > @ @ - 344 , 4 + 349 , 57 @ @ public class ActorSDK { < nl > public ActivityManager getActivityManager ( ) { < nl > return activityManager ; < nl > } < nl > + < nl > + public void startAuthActivity ( Context context ) { < nl > + startAuthActivity ( context , null ) ; < nl > + } < nl > + < nl > + public void startAuthActivity ( Context context , Bundle extras ) { < nl > + if ( ! startDelegateActivity ( context , delegate . getAuthStartIntent ( ) , extras ) ) { < nl > + startActivity ( context , extras , AuthActivity . class ) ; < nl > + } < nl > + } < nl > + < nl > + public void startAfterLoginActivity ( Context context ) { < nl > + startAfterLoginActivity ( context , null ) ; < nl > + } < nl > + < nl > + public void startAfterLoginActivity ( Context context , Bundle extras ) { < nl > + if ( ! startDelegateActivity ( context , delegate . getStartAfterLoginIntent ( ) , extras ) ) { < nl > + startMessagingActivity ( context , extras ) ; < nl > + } < nl > + } < nl > + < nl > + public void startMessagingActivity ( Context context ) { < nl > + startMessagingActivity ( context , null ) ; < nl > + } < nl > + < nl > + public void startMessagingActivity ( Context context , Bundle extras ) { < nl > + if ( ! startDelegateActivity ( context , delegate . getStartIntent ( ) , extras ) ) { < nl > + startActivity ( context , extras , ActorMainActivity . class ) ; < nl > + } < nl > + } < nl > + < nl > + private boolean startDelegateActivity ( Context context , ActorIntent intent , Bundle extras ) { < nl > + if ( intent ! = null & & intent instanceof ActorIntentActivity ) { < nl > + Intent startIntent = ( ( ActorIntentActivity ) intent ) . getIntent ( ) ; < nl > + if ( extras ! = null ) { < nl > + startIntent . putExtras ( extras ) ; < nl > + } < nl > + context . startActivity ( startIntent ) ; < nl > + return true ; < nl > + } else { < nl > + return false ; < nl > + } < nl > + < nl > + } < nl > + < nl > + private void startActivity ( Context context , Bundle extras , Class < ? > cls ) { < nl > + Intent intent = new Intent ( context , cls ) ; < nl > + if ( extras ! = null ) { < nl > + intent . putExtras ( extras ) ; < nl > + } < nl > + context . startActivity ( intent ) ; < nl > + } < nl > + < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsActivity . java < nl > new file mode 100644 < nl > index 0000000 . . 620b924 < nl > - - - / dev / null < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsActivity . java < nl > @ @ - 0 , 0 + 1 , 22 @ @ < nl > + package im . actor . sdk . controllers . fragment . settings ; < nl > + < nl > + import android . app . Fragment ; < nl > + import android . content . Intent ; < nl > + < nl > + import im . actor . sdk . intents . ActorIntentFragmentActivity ; < nl > + < nl > + public abstract class BaseActorSettingsActivity extends ActorIntentFragmentActivity { < nl > + public BaseActorSettingsActivity ( Intent intent ) { < nl > + super ( intent ) ; < nl > + } < nl > + < nl > + public BaseActorSettingsActivity ( Intent intent , Fragment fragment ) { < nl > + super ( intent , fragment ) ; < nl > + } < nl > + < nl > + public IActorSettingsFragment getSettingsFragment ( ) { < nl > + return null ; < nl > + } < nl > + < nl > + ; < nl > + } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / IActorSettingsFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / IActorSettingsFragment . java < nl > new file mode 100644 < nl > index 0000000 . . 8635ad4 < nl > - - - / dev / null < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / IActorSettingsFragment . java < nl > @ @ - 0 , 0 + 1 , 21 @ @ < nl > + package im . actor . sdk . controllers . fragment . settings ; < nl > + < nl > + import android . content . Context ; < nl > + import android . view . View ; < nl > + < nl > + / * * < nl > + * Created by root on 11 / 11 / 15 . < nl > + * / < nl > + public interface IActorSettingsFragment { < nl > + View getBeforeNickSettingsView ( Context context ) ; < nl > + < nl > + View getAfterPhoneSettingsView ( Context context ) ; < nl > + < nl > + View getSettingsTopView ( Context context ) ; < nl > + < nl > + View getSettingsBottomView ( Context context ) ; < nl > + < nl > + ActorSettingsCategory [ ] getBeforeSettingsCategories ( ) ; < nl > + < nl > + ActorSettingsCategory [ ] getAfterSettingsCategories ( ) ; < nl > + } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / MyProfileFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / MyProfileFragment . java < nl > index 9df4c49 . . fad3ba4 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / MyProfileFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / MyProfileFragment . java < nl > @ @ - 34 , 7 + 34 , 6 @ @ import im . actor . core . viewmodel . UserPhone ; < nl > import im . actor . core . viewmodel . UserVM ; < nl > import im . actor . core . viewmodel . generics . ArrayListUserPhone ; < nl > import im . actor . sdk . ActorSDK ; < nl > - import im . actor . sdk . ActorSDKDelegate ; < nl > import im . actor . sdk . ActorStyle ; < nl > import im . actor . sdk . R ; < nl > import im . actor . sdk . controllers . Intents ; < nl > @ @ - 52 , 16 + 51 , 14 @ @ import static im . actor . sdk . util . ActorSDKMessenger . messenger ; < nl > import static im . actor . sdk . util . ActorSDKMessenger . myUid ; < nl > import static im . actor . sdk . util . ActorSDKMessenger . users ; < nl > < nl > - public class MyProfileFragment extends BaseFragment { < nl > + public class MyProfileFragment extends BaseFragment implements IActorSettingsFragment { < nl > < nl > - ActorSDKDelegate delegate ; < nl > private int baseColor ; < nl > private CoverAvatarView avatarView ; < nl > < nl > @ Override < nl > public View onCreateView ( final LayoutInflater inflater , ViewGroup container , Bundle savedInstanceState ) { < nl > View view = inflater . inflate ( R . layout . fragment _ settings , container , false ) ; < nl > - delegate = ActorSDK . sharedActor ( ) . getDelegate ( ) ; < nl > baseColor = getResources ( ) . getColor ( R . color . primary ) ; < nl > final ActorStyle style = ActorSDK . sharedActor ( ) . style ; < nl > final UserVM userModel = users ( ) . get ( myUid ( ) ) ; < nl > @ @ - 307 , 31 + 304 , 31 @ @ public class MyProfileFragment extends BaseFragment { < nl > view . findViewById ( R . id . divider3 ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; < nl > view . findViewById ( R . id . divider4 ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; < nl > < nl > - if ( delegate . getBeforeNickSettingsView ( getActivity ( ) ) ! = null ) { < nl > + if ( getBeforeNickSettingsView ( getActivity ( ) ) ! = null ) { < nl > FrameLayout beforeNick = ( FrameLayout ) view . findViewById ( R . id . before _ nick _ container ) ; < nl > - beforeNick . addView ( delegate . getBeforeNickSettingsView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; < nl > + beforeNick . addView ( getBeforeNickSettingsView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; < nl > } < nl > - if ( delegate . getBeforeNickSettingsView ( getActivity ( ) ) ! = null ) { < nl > + if ( getBeforeNickSettingsView ( getActivity ( ) ) ! = null ) { < nl > FrameLayout afterPhone = ( FrameLayout ) view . findViewById ( R . id . after _ phone _ container ) ; < nl > - afterPhone . addView ( delegate . getAfterPhoneSettingsView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; < nl > + afterPhone . addView ( getAfterPhoneSettingsView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; < nl > } < nl > - if ( delegate . getSettingsTopView ( getActivity ( ) ) ! = null ) { < nl > + if ( getSettingsTopView ( getActivity ( ) ) ! = null ) { < nl > FrameLayout settingsTop = ( FrameLayout ) view . findViewById ( R . id . settings _ top _ container ) ; < nl > - settingsTop . addView ( delegate . getSettingsTopView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; < nl > + settingsTop . addView ( getSettingsTopView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; < nl > } < nl > - if ( delegate . getSettingsBottomView ( getActivity ( ) ) ! = null ) { < nl > + if ( getSettingsBottomView ( getActivity ( ) ) ! = null ) { < nl > FrameLayout settingsBot = ( FrameLayout ) view . findViewById ( R . id . settings _ bottom _ container ) ; < nl > - settingsBot . addView ( delegate . getSettingsBottomView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; < nl > + settingsBot . addView ( getSettingsBottomView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; < nl > } < nl > < nl > - if ( delegate . getBeforeSettingsCategories ( ) ! = null ) { < nl > + if ( getBeforeSettingsCategories ( ) ! = null ) { < nl > LinearLayout beforeSettings = ( LinearLayout ) view . findViewById ( R . id . before _ settings _ container ) ; < nl > - addCategories ( beforeSettings , delegate . getBeforeSettingsCategories ( ) , inflater ) ; < nl > + addCategories ( beforeSettings , getBeforeSettingsCategories ( ) , inflater ) ; < nl > } < nl > < nl > - if ( delegate . getAfterSettingsCategories ( ) ! = null ) { < nl > + if ( getAfterSettingsCategories ( ) ! = null ) { < nl > LinearLayout afterSettings = ( LinearLayout ) view . findViewById ( R . id . after _ settings _ container ) ; < nl > - addCategories ( afterSettings , delegate . getAfterSettingsCategories ( ) , inflater ) ; < nl > + addCategories ( afterSettings , getAfterSettingsCategories ( ) , inflater ) ; < nl > } < nl > < nl > avatarView = ( CoverAvatarView ) view . findViewById ( R . id . avatar ) ; < nl > @ @ - 505 , 4 + 502 , 34 @ @ public class MyProfileFragment extends BaseFragment { < nl > avatarView = null ; < nl > } < nl > } < nl > + < nl > + @ Override < nl > + public View getBeforeNickSettingsView ( Context context ) { < nl > + return null ; < nl > + } < nl > + < nl > + @ Override < nl > + public View getAfterPhoneSettingsView ( Context context ) { < nl > + return null ; < nl > + } < nl > + < nl > + @ Override < nl > + public View getSettingsTopView ( Context context ) { < nl > + return null ; < nl > + } < nl > + < nl > + @ Override < nl > + public View getSettingsBottomView ( Context context ) { < nl > + return null ; < nl > + } < nl > + < nl > + @ Override < nl > + public ActorSettingsCategory [ ] getBeforeSettingsCategories ( ) { < nl > + return new ActorSettingsCategory [ 0 ] ; < nl > + } < nl > + < nl > + @ Override < nl > + public ActorSettingsCategory [ ] getAfterSettingsCategories ( ) { < nl > + return new ActorSettingsCategory [ 0 ] ; < nl > + } < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / intents / ActorIntentFragmentActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / intents / ActorIntentFragmentActivity . java < nl > new file mode 100644 < nl > index 0000000 . . 32be805 < nl > - - - / dev / null < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / intents / ActorIntentFragmentActivity . java < nl > @ @ - 0 , 0 + 1 , 21 @ @ < nl > + package im . actor . sdk . intents ; < nl > + < nl > + import android . app . Fragment ; < nl > + import android . content . Intent ; < nl > + < nl > + public class ActorIntentFragmentActivity extends ActorIntentActivity { < nl > + Fragment fragment ; < nl > + < nl > + public ActorIntentFragmentActivity ( Intent intent ) { < nl > + super ( intent ) ; < nl > + } < nl > + < nl > + public ActorIntentFragmentActivity ( Intent intent , Fragment fragment ) { < nl > + super ( intent ) ; < nl > + this . fragment = fragment ; < nl > + } < nl > + < nl > + public Fragment getFragment ( ) { < nl > + return fragment ; < nl > + } < nl > + }

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java 
 index 4b659a9 . . 229864c 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java 
 @ @ - 8 , 7 + 8 , 6 @ @ import android . content . Context ; 
 import android . content . Intent ; 
 import android . os . Build ; 
 import android . os . Bundle ; 
 - import android . os . Debug ; 
 import android . view . ViewGroup ; 
 
 import com . facebook . drawee . backends . pipeline . Fresco ; 
 @ @ - 44 , 7 + 43 , 6 @ @ import im . actor . sdk . core . AndroidCallProvider ; 
 import im . actor . sdk . core . AndroidNotifications ; 
 import im . actor . sdk . core . AndroidPhoneBook ; 
 import im . actor . sdk . core . ActorPushManager ; 
 - import im . actor . sdk . intents . ActivityManager ; 
 import im . actor . sdk . intents . ActorIntent ; 
 import im . actor . sdk . intents . ActorIntentActivity ; 
 import im . actor . sdk . intents . ActorIntentFragmentActivity ; 
 @ @ - 178 , 10 + 176 , 6 @ @ public class ActorSDK { 
 * / 
 @ NotNull 
 private ActorSDKDelegate delegate = new BaseActorSDKDelegate ( ) ; 
 - / * * 
 - * ActivityManager 
 - * / 
 - private ActivityManager activityManager = new ActivityManager ( ) ; 
 
 / * * 
 * Call enabled 
 @ @ - 776 , 11 + 770 , 6 @ @ public class ActorSDK { 
 this . delegate = delegate ; 
 } 
 
 - @ Deprecated 
 - public ActivityManager getActivityManager ( ) { 
 - return activityManager ; 
 - } 
 - 
 / * * 
 * Method is used internally for starting default activity or activity added in delegate 
 * 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / intents / ActivityManager . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / intents / ActivityManager . java 
 deleted file mode 100644 
 index 446f259 . . 0000000 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / intents / ActivityManager . java 
 + + + / dev / null 
 @ @ - 1 , 67 + 0 , 0 @ @ 
 - package im . actor . sdk . intents ; 
 - 
 - import android . content . Context ; 
 - import android . content . Intent ; 
 - import android . os . Bundle ; 
 - 
 - import im . actor . sdk . ActorSDK ; 
 - import im . actor . sdk . controllers . activity . ActorMainActivity ; 
 - import im . actor . sdk . controllers . auth . AuthActivity ; 
 - 
 - @ Deprecated 
 - public class ActivityManager { 
 - 
 - public void startAuthActivity ( Context context ) { 
 - startAuthActivity ( context , null ) ; 
 - } 
 - 
 - public void startAuthActivity ( Context context , Bundle extras ) { 
 - if ( ! startDelegateActivity ( context , ActorSDK . sharedActor ( ) . getDelegate ( ) . getAuthStartIntent ( ) , extras ) ) { 
 - startActivity ( context , extras , AuthActivity . class ) ; 
 - } 
 - } 
 - 
 - public void startAfterLoginActivity ( Context context ) { 
 - startAfterLoginActivity ( context , null ) ; 
 - } 
 - 
 - public void startAfterLoginActivity ( Context context , Bundle extras ) { 
 - if ( ! startDelegateActivity ( context , ActorSDK . sharedActor ( ) . getDelegate ( ) . getAuthStartIntent ( ) , extras ) ) { 
 - startActivity ( context , extras , ActorMainActivity . class ) ; 
 - } 
 - } 
 - 
 - public void startMessagingActivity ( Context context ) { 
 - startMessagingActivity ( context , null ) ; 
 - } 
 - 
 - public void startMessagingActivity ( Context context , Bundle extras ) { 
 - if ( ! startDelegateActivity ( context , ActorSDK . sharedActor ( ) . getDelegate ( ) . getAuthStartIntent ( ) , extras ) ) { 
 - startActivity ( context , extras , ActorMainActivity . class ) ; 
 - } 
 - } 
 - 
 - private boolean startDelegateActivity ( Context context , ActorIntent intent , Bundle extras ) { 
 - if ( intent ! = null & & intent instanceof ActorIntentActivity ) { 
 - Intent startIntent = ( ( ActorIntentActivity ) ActorSDK . sharedActor ( ) . getDelegate ( ) . getAuthStartIntent ( ) ) . getIntent ( ) ; 
 - if ( extras ! = null ) { 
 - startIntent . putExtras ( extras ) ; 
 - } 
 - context . startActivity ( startIntent ) ; 
 - return true ; 
 - } else { 
 - return false ; 
 - } 
 - 
 - } 
 - 
 - private void startActivity ( Context context , Bundle extras , Class < ? > cls ) { 
 - Intent intent = new Intent ( context , cls ) ; 
 - if ( extras ! = null ) { 
 - intent . putExtras ( extras ) ; 
 - } 
 - context . startActivity ( intent ) ; 
 - } 
 - 
 - 
 - }

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 index 1854f22 . . afa4b83 100644 
 - - - a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 + + + b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 @ @ - 10 , 6 + 10 , 7 @ @ import android . widget . TextView ; 
 import android . widget . Toast ; 
 
 import im . actor . sdk . ActorSDK ; 
 + import im . actor . sdk . ActorSDKApplication ; 
 import im . actor . sdk . ActorStyle ; 
 import im . actor . sdk . BaseActorSDKDelegate ; 
 import im . actor . sdk . controllers . fragment . auth . BaseAuthFragment ; 
 @ @ - 18 , 22 + 19 , 16 @ @ import im . actor . sdk . controllers . fragment . settings . ActorSettingsCategory ; 
 import im . actor . sdk . controllers . fragment . settings . ActorSettingsField ; 
 import im . actor . sdk . intents . ActorIntent ; 
 
 - public class Application extends android . app . Application { 
 + public class Application extends ActorSDKApplication { 
 + 
 @ Override 
 - public void onCreate ( ) { 
 - super . onCreate ( ) ; 
 + public void onConfigureActorSDK ( ) { 
 ActorSDK . sharedActor ( ) . setDelegate ( new ActorSDKDelegate ( ) ) ; 
 ActorSDK . sharedActor ( ) . setPushId ( 209133700967L ) ; 
 ActorSDK . sharedActor ( ) . createActor ( this ) ; 
 
 ActorStyle style = ActorSDK . sharedActor ( ) . style ; 
 style . setMainColor ( Color . parseColor ( " # 529a88 " ) ) ; 
 - / / style . setMainColor ( Color . CYAN ) ; 
 - style . setMainBackgroundColor ( Color . RED ) ; 
 - / / style . setTextPrimaryColor ( Color . GREEN ) ; 
 - / / style . setTextSecondaryColor ( Color . RED ) ; 
 - / / style . setSettingsIconColor ( Color . GREEN ) ; 
 - / / style . setDividerColor ( Color . WHITE ) ; 
 } 
 
 private class ActorSDKDelegate extends BaseActorSDKDelegate { 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java 
 index dcd2ef1 . . 3754b35 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java 
 @ @ - 7 , 6 + 7 , 7 @ @ import android . app . PendingIntent ; 
 import android . content . Context ; 
 import android . content . Intent ; 
 import android . os . Build ; 
 + import android . os . Bundle ; 
 
 import com . facebook . drawee . backends . pipeline . Fresco ; 
 
 @ @ - 24 , 10 + 25 , 14 @ @ import im . actor . core . ConfigurationBuilder ; 
 import im . actor . core . DeviceCategory ; 
 import im . actor . core . PlatformType ; 
 import im . actor . runtime . Log ; 
 + import im . actor . sdk . controllers . activity . ActorMainActivity ; 
 + import im . actor . sdk . controllers . fragment . auth . AuthActivity ; 
 import im . actor . sdk . core . AndroidNotifications ; 
 import im . actor . sdk . core . AndroidPhoneBook ; 
 import im . actor . sdk . core . ActorPushManager ; 
 import im . actor . sdk . intents . ActivityManager ; 
 + import im . actor . sdk . intents . ActorIntent ; 
 + import im . actor . sdk . intents . ActorIntentActivity ; 
 import im . actor . sdk . services . KeepAliveService ; 
 import im . actor . sdk . util . Devices ; 
 import im . actor . sdk . view . emoji . SmileProcessor ; 
 @ @ - 186 , 9 + 191 , 9 @ @ public class ActorSDK { 
 
 public void startMessagingApp ( Activity context ) { 
 if ( messenger . isLoggedIn ( ) ) { 
 - getActivityManager ( ) . startMessagingActivity ( context ) ; 
 + startMessagingActivity ( context ) ; 
 } else { 
 - getActivityManager ( ) . startAuthActivity ( context ) ; 
 + startAuthActivity ( context ) ; 
 } 
 } 
 
 @ @ - 344 , 4 + 349 , 57 @ @ public class ActorSDK { 
 public ActivityManager getActivityManager ( ) { 
 return activityManager ; 
 } 
 + 
 + public void startAuthActivity ( Context context ) { 
 + startAuthActivity ( context , null ) ; 
 + } 
 + 
 + public void startAuthActivity ( Context context , Bundle extras ) { 
 + if ( ! startDelegateActivity ( context , delegate . getAuthStartIntent ( ) , extras ) ) { 
 + startActivity ( context , extras , AuthActivity . class ) ; 
 + } 
 + } 
 + 
 + public void startAfterLoginActivity ( Context context ) { 
 + startAfterLoginActivity ( context , null ) ; 
 + } 
 + 
 + public void startAfterLoginActivity ( Context context , Bundle extras ) { 
 + if ( ! startDelegateActivity ( context , delegate . getStartAfterLoginIntent ( ) , extras ) ) { 
 + startMessagingActivity ( context , extras ) ; 
 + } 
 + } 
 + 
 + public void startMessagingActivity ( Context context ) { 
 + startMessagingActivity ( context , null ) ; 
 + } 
 + 
 + public void startMessagingActivity ( Context context , Bundle extras ) { 
 + if ( ! startDelegateActivity ( context , delegate . getStartIntent ( ) , extras ) ) { 
 + startActivity ( context , extras , ActorMainActivity . class ) ; 
 + } 
 + } 
 + 
 + private boolean startDelegateActivity ( Context context , ActorIntent intent , Bundle extras ) { 
 + if ( intent ! = null & & intent instanceof ActorIntentActivity ) { 
 + Intent startIntent = ( ( ActorIntentActivity ) intent ) . getIntent ( ) ; 
 + if ( extras ! = null ) { 
 + startIntent . putExtras ( extras ) ; 
 + } 
 + context . startActivity ( startIntent ) ; 
 + return true ; 
 + } else { 
 + return false ; 
 + } 
 + 
 + } 
 + 
 + private void startActivity ( Context context , Bundle extras , Class < ? > cls ) { 
 + Intent intent = new Intent ( context , cls ) ; 
 + if ( extras ! = null ) { 
 + intent . putExtras ( extras ) ; 
 + } 
 + context . startActivity ( intent ) ; 
 + } 
 + 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsActivity . java 
 new file mode 100644 
 index 0000000 . . 620b924 
 - - - / dev / null 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsActivity . java 
 @ @ - 0 , 0 + 1 , 22 @ @ 
 + package im . actor . sdk . controllers . fragment . settings ; 
 + 
 + import android . app . Fragment ; 
 + import android . content . Intent ; 
 + 
 + import im . actor . sdk . intents . ActorIntentFragmentActivity ; 
 + 
 + public abstract class BaseActorSettingsActivity extends ActorIntentFragmentActivity { 
 + public BaseActorSettingsActivity ( Intent intent ) { 
 + super ( intent ) ; 
 + } 
 + 
 + public BaseActorSettingsActivity ( Intent intent , Fragment fragment ) { 
 + super ( intent , fragment ) ; 
 + } 
 + 
 + public IActorSettingsFragment getSettingsFragment ( ) { 
 + return null ; 
 + } 
 + 
 + ; 
 + } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / IActorSettingsFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / IActorSettingsFragment . java 
 new file mode 100644 
 index 0000000 . . 8635ad4 
 - - - / dev / null 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / IActorSettingsFragment . java 
 @ @ - 0 , 0 + 1 , 21 @ @ 
 + package im . actor . sdk . controllers . fragment . settings ; 
 + 
 + import android . content . Context ; 
 + import android . view . View ; 
 + 
 + / * * 
 + * Created by root on 11 / 11 / 15 . 
 + * / 
 + public interface IActorSettingsFragment { 
 + View getBeforeNickSettingsView ( Context context ) ; 
 + 
 + View getAfterPhoneSettingsView ( Context context ) ; 
 + 
 + View getSettingsTopView ( Context context ) ; 
 + 
 + View getSettingsBottomView ( Context context ) ; 
 + 
 + ActorSettingsCategory [ ] getBeforeSettingsCategories ( ) ; 
 + 
 + ActorSettingsCategory [ ] getAfterSettingsCategories ( ) ; 
 + } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / MyProfileFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / MyProfileFragment . java 
 index 9df4c49 . . fad3ba4 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / MyProfileFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / MyProfileFragment . java 
 @ @ - 34 , 7 + 34 , 6 @ @ import im . actor . core . viewmodel . UserPhone ; 
 import im . actor . core . viewmodel . UserVM ; 
 import im . actor . core . viewmodel . generics . ArrayListUserPhone ; 
 import im . actor . sdk . ActorSDK ; 
 - import im . actor . sdk . ActorSDKDelegate ; 
 import im . actor . sdk . ActorStyle ; 
 import im . actor . sdk . R ; 
 import im . actor . sdk . controllers . Intents ; 
 @ @ - 52 , 16 + 51 , 14 @ @ import static im . actor . sdk . util . ActorSDKMessenger . messenger ; 
 import static im . actor . sdk . util . ActorSDKMessenger . myUid ; 
 import static im . actor . sdk . util . ActorSDKMessenger . users ; 
 
 - public class MyProfileFragment extends BaseFragment { 
 + public class MyProfileFragment extends BaseFragment implements IActorSettingsFragment { 
 
 - ActorSDKDelegate delegate ; 
 private int baseColor ; 
 private CoverAvatarView avatarView ; 
 
 @ Override 
 public View onCreateView ( final LayoutInflater inflater , ViewGroup container , Bundle savedInstanceState ) { 
 View view = inflater . inflate ( R . layout . fragment _ settings , container , false ) ; 
 - delegate = ActorSDK . sharedActor ( ) . getDelegate ( ) ; 
 baseColor = getResources ( ) . getColor ( R . color . primary ) ; 
 final ActorStyle style = ActorSDK . sharedActor ( ) . style ; 
 final UserVM userModel = users ( ) . get ( myUid ( ) ) ; 
 @ @ - 307 , 31 + 304 , 31 @ @ public class MyProfileFragment extends BaseFragment { 
 view . findViewById ( R . id . divider3 ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; 
 view . findViewById ( R . id . divider4 ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; 
 
 - if ( delegate . getBeforeNickSettingsView ( getActivity ( ) ) ! = null ) { 
 + if ( getBeforeNickSettingsView ( getActivity ( ) ) ! = null ) { 
 FrameLayout beforeNick = ( FrameLayout ) view . findViewById ( R . id . before _ nick _ container ) ; 
 - beforeNick . addView ( delegate . getBeforeNickSettingsView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; 
 + beforeNick . addView ( getBeforeNickSettingsView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; 
 } 
 - if ( delegate . getBeforeNickSettingsView ( getActivity ( ) ) ! = null ) { 
 + if ( getBeforeNickSettingsView ( getActivity ( ) ) ! = null ) { 
 FrameLayout afterPhone = ( FrameLayout ) view . findViewById ( R . id . after _ phone _ container ) ; 
 - afterPhone . addView ( delegate . getAfterPhoneSettingsView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; 
 + afterPhone . addView ( getAfterPhoneSettingsView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; 
 } 
 - if ( delegate . getSettingsTopView ( getActivity ( ) ) ! = null ) { 
 + if ( getSettingsTopView ( getActivity ( ) ) ! = null ) { 
 FrameLayout settingsTop = ( FrameLayout ) view . findViewById ( R . id . settings _ top _ container ) ; 
 - settingsTop . addView ( delegate . getSettingsTopView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; 
 + settingsTop . addView ( getSettingsTopView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; 
 } 
 - if ( delegate . getSettingsBottomView ( getActivity ( ) ) ! = null ) { 
 + if ( getSettingsBottomView ( getActivity ( ) ) ! = null ) { 
 FrameLayout settingsBot = ( FrameLayout ) view . findViewById ( R . id . settings _ bottom _ container ) ; 
 - settingsBot . addView ( delegate . getSettingsBottomView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; 
 + settingsBot . addView ( getSettingsBottomView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; 
 } 
 
 - if ( delegate . getBeforeSettingsCategories ( ) ! = null ) { 
 + if ( getBeforeSettingsCategories ( ) ! = null ) { 
 LinearLayout beforeSettings = ( LinearLayout ) view . findViewById ( R . id . before _ settings _ container ) ; 
 - addCategories ( beforeSettings , delegate . getBeforeSettingsCategories ( ) , inflater ) ; 
 + addCategories ( beforeSettings , getBeforeSettingsCategories ( ) , inflater ) ; 
 } 
 
 - if ( delegate . getAfterSettingsCategories ( ) ! = null ) { 
 + if ( getAfterSettingsCategories ( ) ! = null ) { 
 LinearLayout afterSettings = ( LinearLayout ) view . findViewById ( R . id . after _ settings _ container ) ; 
 - addCategories ( afterSettings , delegate . getAfterSettingsCategories ( ) , inflater ) ; 
 + addCategories ( afterSettings , getAfterSettingsCategories ( ) , inflater ) ; 
 } 
 
 avatarView = ( CoverAvatarView ) view . findViewById ( R . id . avatar ) ; 
 @ @ - 505 , 4 + 502 , 34 @ @ public class MyProfileFragment extends BaseFragment { 
 avatarView = null ; 
 } 
 } 
 + 
 + @ Override 
 + public View getBeforeNickSettingsView ( Context context ) { 
 + return null ; 
 + } 
 + 
 + @ Override 
 + public View getAfterPhoneSettingsView ( Context context ) { 
 + return null ; 
 + } 
 + 
 + @ Override 
 + public View getSettingsTopView ( Context context ) { 
 + return null ; 
 + } 
 + 
 + @ Override 
 + public View getSettingsBottomView ( Context context ) { 
 + return null ; 
 + } 
 + 
 + @ Override 
 + public ActorSettingsCategory [ ] getBeforeSettingsCategories ( ) { 
 + return new ActorSettingsCategory [ 0 ] ; 
 + } 
 + 
 + @ Override 
 + public ActorSettingsCategory [ ] getAfterSettingsCategories ( ) { 
 + return new ActorSettingsCategory [ 0 ] ; 
 + } 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / intents / ActorIntentFragmentActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / intents / ActorIntentFragmentActivity . java 
 new file mode 100644 
 index 0000000 . . 32be805 
 - - - / dev / null 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / intents / ActorIntentFragmentActivity . java 
 @ @ - 0 , 0 + 1 , 21 @ @ 
 + package im . actor . sdk . intents ; 
 + 
 + import android . app . Fragment ; 
 + import android . content . Intent ; 
 + 
 + public class ActorIntentFragmentActivity extends ActorIntentActivity { 
 + Fragment fragment ; 
 + 
 + public ActorIntentFragmentActivity ( Intent intent ) { 
 + super ( intent ) ; 
 + } 
 + 
 + public ActorIntentFragmentActivity ( Intent intent , Fragment fragment ) { 
 + super ( intent ) ; 
 + this . fragment = fragment ; 
 + } 
 + 
 + public Fragment getFragment ( ) { 
 + return fragment ; 
 + } 
 + }
