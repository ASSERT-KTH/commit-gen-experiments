BLEU SCORE: 0.4111336169005197

TEST MSG: fix ( server ) : compilation error
GENERATED MSG: test ( server ) : enricher

TEST DIFF (one line): diff - - git a / actor - server / actor - rpc - api / src / main / scala / im / actor / server / api / rpc / service / privacy / PrivacyServiceImpl . scala b / actor - server / actor - rpc - api / src / main / scala / im / actor / server / api / rpc / service / privacy / PrivacyServiceImpl . scala < nl > index 41343c0 . . 9d69537 100644 < nl > - - - a / actor - server / actor - rpc - api / src / main / scala / im / actor / server / api / rpc / service / privacy / PrivacyServiceImpl . scala < nl > + + + b / actor - server / actor - rpc - api / src / main / scala / im / actor / server / api / rpc / service / privacy / PrivacyServiceImpl . scala < nl > @ @ - 20 , 7 + 20 , 7 @ @ private object PrivacyServiceErrors { < nl > val UserNotFound = RpcError ( 404 , " NOT _ FOUND " , " User is not in contacts . " , false , None ) < nl > } < nl > < nl > - final class PrivacyServiceImpl ( system : ActorSystem ) extends PrivacyService { < nl > + final class PrivacyServiceImpl ( implicit system : ActorSystem ) extends PrivacyService { < nl > import FutureResultRpc . _ < nl > import PrivacyServiceErrors . _ < nl > < nl > diff - - git a / actor - server / actor - server - sdk / src / main / scala / im / actor / server / ActorServer . scala b / actor - server / actor - server - sdk / src / main / scala / im / actor / server / ActorServer . scala < nl > index 0e5e335 . . f355b8a 100644 < nl > - - - a / actor - server / actor - server - sdk / src / main / scala / im / actor / server / ActorServer . scala < nl > + + + b / actor - server / actor - server - sdk / src / main / scala / im / actor / server / ActorServer . scala < nl > @ @ - 233 , 7 + 233 , 7 @ @ final case class ActorServerBuilder ( defaultConfig : Config = ConfigFactory . empty ( < nl > val eventbusService = new EventbusServiceImpl ( system ) < nl > < nl > system . log . debug ( " Starting PrivacyServiceImpl " ) < nl > - val privacyService = new PrivacyServiceImpl ( system ) < nl > + val privacyService = new PrivacyServiceImpl < nl > < nl > val services = Seq ( < nl > authService ,
NEAREST DIFF (one line): diff - - git a / actor - server / actor - testkit / src / main / scala / im / actor / server / ServiceSpecHelpers . scala b / actor - server / actor - testkit / src / main / scala / im / actor / server / ServiceSpecHelpers . scala < nl > index 766da20 . . ea824f5 100644 < nl > - - - a / actor - server / actor - testkit / src / main / scala / im / actor / server / ServiceSpecHelpers . scala < nl > + + + b / actor - server / actor - testkit / src / main / scala / im / actor / server / ServiceSpecHelpers . scala < nl > @ @ - 150 , 7 + 150 , 7 @ @ trait ServiceSpecHelpers extends PersistenceHelpers with UserStructExtensions wi < nl > def buildRpcApiService ( services : Seq [ im . actor . api . rpc . Service ] ) ( implicit system : ActorSystem , db : Database ) = < nl > RpcApiExtension ( system ) . register ( services ) < nl > < nl > - def buildSessionRegion ( rpcApiService : ActorRef ) ( implicit system : ActorSystem , materializer : Materializer ) = { < nl > + def buildSessionRegion ( ) ( implicit system : ActorSystem , materializer : Materializer ) = { < nl > implicit val sessionConfig = SessionConfig . load ( system . settings . config . getConfig ( " session " ) ) < nl > Session . startRegion ( Session . props ) < nl > } < nl > diff - - git a / actor - server / actor - tests / src / test / scala / im / actor / server / api / rpc / service / ContactsServiceSpec . scala b / actor - server / actor - tests / src / test / scala / im / actor / server / api / rpc / service / ContactsServiceSpec . scala < nl > index 7149d1d . . 7a89fdd 100644 < nl > - - - a / actor - server / actor - tests / src / test / scala / im / actor / server / api / rpc / service / ContactsServiceSpec . scala < nl > + + + b / actor - server / actor - tests / src / test / scala / im / actor / server / api / rpc / service / ContactsServiceSpec . scala < nl > @ @ - 39 , 8 + 39 , 6 @ @ final class ContactsServiceSpec < nl > object s { < nl > implicit val ec = system . dispatcher < nl > < nl > - implicit val sessionRegion = buildSessionRegionProxy ( ) < nl > - < nl > implicit val service = new contacts . ContactsServiceImpl < nl > < nl > private implicit val userExt = UserExtension ( system ) < nl > diff - - git a / actor - server / actor - tests / src / test / scala / im / actor / server / api / rpc / service / IntegrationsServiceSpec . scala b / actor - server / actor - tests / src / test / scala / im / actor / server / api / rpc / service / IntegrationsServiceSpec . scala < nl > index 92e748a . . 9671043 100644 < nl > - - - a / actor - server / actor - tests / src / test / scala / im / actor / server / api / rpc / service / IntegrationsServiceSpec . scala < nl > + + + b / actor - server / actor - tests / src / test / scala / im / actor / server / api / rpc / service / IntegrationsServiceSpec . scala < nl > @ @ - 33 , 7 + 33 , 6 @ @ class IntegrationsServiceSpec < nl > object t { < nl > < nl > implicit val ec = system . dispatcher < nl > - implicit val sessionRegion = buildSessionRegionProxy ( ) < nl > < nl > val groupInviteConfig = GroupInviteConfig ( " https : / / actor . im " ) < nl > < nl > diff - - git a / actor - server / actor - tests / src / test / scala / im / actor / server / enrich / RichMessageWorkerSpec . scala b / actor - server / actor - tests / src / test / scala / im / actor / server / enrich / RichMessageWorkerSpec . scala < nl > index b1c46b4 . . 19ed28e 100644 < nl > - - - a / actor - server / actor - tests / src / test / scala / im / actor / server / enrich / RichMessageWorkerSpec . scala < nl > + + + b / actor - server / actor - tests / src / test / scala / im / actor / server / enrich / RichMessageWorkerSpec . scala < nl > @ @ - 37 , 7 + 37 , 6 @ @ class RichMessageWorkerSpec < nl > val ThumbMinSize = 90 < nl > implicit val ec = system . dispatcher < nl > < nl > - implicit val sessionRegion = buildSessionRegionProxy ( ) < nl > implicit val socialManagerRegion = SocialManager . startRegion ( ) < nl > < nl > val groupInviteConfig = GroupInviteConfig ( " http : / / actor . im " )

TEST DIFF:
diff - - git a / actor - server / actor - rpc - api / src / main / scala / im / actor / server / api / rpc / service / privacy / PrivacyServiceImpl . scala b / actor - server / actor - rpc - api / src / main / scala / im / actor / server / api / rpc / service / privacy / PrivacyServiceImpl . scala 
 index 41343c0 . . 9d69537 100644 
 - - - a / actor - server / actor - rpc - api / src / main / scala / im / actor / server / api / rpc / service / privacy / PrivacyServiceImpl . scala 
 + + + b / actor - server / actor - rpc - api / src / main / scala / im / actor / server / api / rpc / service / privacy / PrivacyServiceImpl . scala 
 @ @ - 20 , 7 + 20 , 7 @ @ private object PrivacyServiceErrors { 
 val UserNotFound = RpcError ( 404 , " NOT _ FOUND " , " User is not in contacts . " , false , None ) 
 } 
 
 - final class PrivacyServiceImpl ( system : ActorSystem ) extends PrivacyService { 
 + final class PrivacyServiceImpl ( implicit system : ActorSystem ) extends PrivacyService { 
 import FutureResultRpc . _ 
 import PrivacyServiceErrors . _ 
 
 diff - - git a / actor - server / actor - server - sdk / src / main / scala / im / actor / server / ActorServer . scala b / actor - server / actor - server - sdk / src / main / scala / im / actor / server / ActorServer . scala 
 index 0e5e335 . . f355b8a 100644 
 - - - a / actor - server / actor - server - sdk / src / main / scala / im / actor / server / ActorServer . scala 
 + + + b / actor - server / actor - server - sdk / src / main / scala / im / actor / server / ActorServer . scala 
 @ @ - 233 , 7 + 233 , 7 @ @ final case class ActorServerBuilder ( defaultConfig : Config = ConfigFactory . empty ( 
 val eventbusService = new EventbusServiceImpl ( system ) 
 
 system . log . debug ( " Starting PrivacyServiceImpl " ) 
 - val privacyService = new PrivacyServiceImpl ( system ) 
 + val privacyService = new PrivacyServiceImpl 
 
 val services = Seq ( 
 authService ,

NEAREST DIFF:
diff - - git a / actor - server / actor - testkit / src / main / scala / im / actor / server / ServiceSpecHelpers . scala b / actor - server / actor - testkit / src / main / scala / im / actor / server / ServiceSpecHelpers . scala 
 index 766da20 . . ea824f5 100644 
 - - - a / actor - server / actor - testkit / src / main / scala / im / actor / server / ServiceSpecHelpers . scala 
 + + + b / actor - server / actor - testkit / src / main / scala / im / actor / server / ServiceSpecHelpers . scala 
 @ @ - 150 , 7 + 150 , 7 @ @ trait ServiceSpecHelpers extends PersistenceHelpers with UserStructExtensions wi 
 def buildRpcApiService ( services : Seq [ im . actor . api . rpc . Service ] ) ( implicit system : ActorSystem , db : Database ) = 
 RpcApiExtension ( system ) . register ( services ) 
 
 - def buildSessionRegion ( rpcApiService : ActorRef ) ( implicit system : ActorSystem , materializer : Materializer ) = { 
 + def buildSessionRegion ( ) ( implicit system : ActorSystem , materializer : Materializer ) = { 
 implicit val sessionConfig = SessionConfig . load ( system . settings . config . getConfig ( " session " ) ) 
 Session . startRegion ( Session . props ) 
 } 
 diff - - git a / actor - server / actor - tests / src / test / scala / im / actor / server / api / rpc / service / ContactsServiceSpec . scala b / actor - server / actor - tests / src / test / scala / im / actor / server / api / rpc / service / ContactsServiceSpec . scala 
 index 7149d1d . . 7a89fdd 100644 
 - - - a / actor - server / actor - tests / src / test / scala / im / actor / server / api / rpc / service / ContactsServiceSpec . scala 
 + + + b / actor - server / actor - tests / src / test / scala / im / actor / server / api / rpc / service / ContactsServiceSpec . scala 
 @ @ - 39 , 8 + 39 , 6 @ @ final class ContactsServiceSpec 
 object s { 
 implicit val ec = system . dispatcher 
 
 - implicit val sessionRegion = buildSessionRegionProxy ( ) 
 - 
 implicit val service = new contacts . ContactsServiceImpl 
 
 private implicit val userExt = UserExtension ( system ) 
 diff - - git a / actor - server / actor - tests / src / test / scala / im / actor / server / api / rpc / service / IntegrationsServiceSpec . scala b / actor - server / actor - tests / src / test / scala / im / actor / server / api / rpc / service / IntegrationsServiceSpec . scala 
 index 92e748a . . 9671043 100644 
 - - - a / actor - server / actor - tests / src / test / scala / im / actor / server / api / rpc / service / IntegrationsServiceSpec . scala 
 + + + b / actor - server / actor - tests / src / test / scala / im / actor / server / api / rpc / service / IntegrationsServiceSpec . scala 
 @ @ - 33 , 7 + 33 , 6 @ @ class IntegrationsServiceSpec 
 object t { 
 
 implicit val ec = system . dispatcher 
 - implicit val sessionRegion = buildSessionRegionProxy ( ) 
 
 val groupInviteConfig = GroupInviteConfig ( " https : / / actor . im " ) 
 
 diff - - git a / actor - server / actor - tests / src / test / scala / im / actor / server / enrich / RichMessageWorkerSpec . scala b / actor - server / actor - tests / src / test / scala / im / actor / server / enrich / RichMessageWorkerSpec . scala 
 index b1c46b4 . . 19ed28e 100644 
 - - - a / actor - server / actor - tests / src / test / scala / im / actor / server / enrich / RichMessageWorkerSpec . scala 
 + + + b / actor - server / actor - tests / src / test / scala / im / actor / server / enrich / RichMessageWorkerSpec . scala 
 @ @ - 37 , 7 + 37 , 6 @ @ class RichMessageWorkerSpec 
 val ThumbMinSize = 90 
 implicit val ec = system . dispatcher 
 
 - implicit val sessionRegion = buildSessionRegionProxy ( ) 
 implicit val socialManagerRegion = SocialManager . startRegion ( ) 
 
 val groupInviteConfig = GroupInviteConfig ( " http : / / actor . im " )
