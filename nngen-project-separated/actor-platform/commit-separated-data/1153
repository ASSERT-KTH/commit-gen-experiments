BLEU SCORE: 0.11868405219520975

TEST MSG: feat ( core ) : default avatar background in ActorStyle
GENERATED MSG: feat ( android ) : profile email contact records

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > index 9f8e24e . . d0a89e7 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > + + + b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > @ @ - 34 , 10 + 34 , 12 @ @ public class Application extends ActorSDKApplication { < nl > ActorSDK . sharedActor ( ) . setHomePage ( " http : / / www . foo . com " ) ; < nl > ActorSDK . sharedActor ( ) . setInviteUrl ( " http : / / www . foo . com " ) ; < nl > < nl > + < nl > / / ActorSDK . sharedActor ( ) . setEndpoints ( new String [ ] { " tcp : / / 192 . 168 . 1 . 184 : 9070 " } ) ; < nl > < nl > ActorStyle style = ActorSDK . sharedActor ( ) . style ; < nl > style . setMainColor ( Color . parseColor ( " # 529a88 " ) ) ; < nl > + / / style . setAvatarBackgroundResource ( R . drawable . img _ profile _ avatar _ default ) ; < nl > AbsContent . registerConverter ( new ContentConverter ( ) { < nl > @ Override < nl > public AbsContent convert ( AbsContentContainer container ) { < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java < nl > index fe3c50f . . 8c554aa 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java < nl > @ @ - 16 , 6 + 16 , 7 @ @ public class ActorStyle { < nl > private int settingsCategoryTextColor = 0 ; < nl > private int recordIconTintColor = 0 ; < nl > private int avatarBackgroundColor = 0 ; < nl > + private int avatarBackgroundResource = 0 ; < nl > private int actionShareColor = 0 ; < nl > < nl > / / Root colors < nl > @ @ - 196 , 6 + 197 , 14 @ @ public class ActorStyle { < nl > } < nl > } < nl > < nl > + public void setAvatarBackgroundResource ( int avatarBackgroundResource ) { < nl > + this . avatarBackgroundResource = avatarBackgroundResource ; < nl > + } < nl > + < nl > + public int getAvatarBackgroundResourse ( ) { < nl > + return avatarBackgroundResource ; < nl > + } < nl > + < nl > public void setAvatarBackgroundColor ( int avatarBackgroundColor ) { < nl > this . avatarBackgroundColor = avatarBackgroundColor ; < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / group / GroupInfoFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / group / GroupInfoFragment . java < nl > index 83c474e . . 85047be 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / group / GroupInfoFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / group / GroupInfoFragment . java < nl > @ @ - 87 , 7 + 87 , 8 @ @ public class GroupInfoFragment extends BaseFragment { < nl > View res = inflater . inflate ( R . layout . fragment _ group , container , false ) ; < nl > < nl > notMemberView = res . findViewById ( R . id . notMember ) ; < nl > - ( ( TextView ) notMemberView . findViewById ( R . id . not _ member _ text ) ) . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextPrimaryColor ( ) ) ; < nl > + ActorStyle style = ActorSDK . sharedActor ( ) . style ; < nl > + ( ( TextView ) notMemberView . findViewById ( R . id . not _ member _ text ) ) . setTextColor ( style . getTextPrimaryColor ( ) ) ; < nl > bind ( groupInfo . isMember ( ) , new ValueChangedListener < Boolean > ( ) { < nl > @ Override < nl > public void onChanged ( Boolean val , Value < Boolean > Value ) { < nl > @ @ - 97 , 15 + 98 , 19 @ @ public class GroupInfoFragment extends BaseFragment { < nl > } ) ; < nl > < nl > listView = ( ListView ) res . findViewById ( R . id . groupList ) ; < nl > - listView . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getMainBackgroundColor ( ) ) ; < nl > + listView . setBackgroundColor ( style . getMainBackgroundColor ( ) ) ; < nl > < nl > final View header = inflater . inflate ( R . layout . fragment _ group _ header , listView , false ) ; < nl > - header . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getMainBackgroundColor ( ) ) ; < nl > + header . setBackgroundColor ( style . getMainBackgroundColor ( ) ) ; < nl > < nl > / / Avatar < nl > avatarView = ( CoverAvatarView ) header . findViewById ( R . id . avatar ) ; < nl > ImageView avatarBkgrnd = ( ImageView ) header . findViewById ( R . id . avatar _ bgrnd ) ; < nl > - avatarBkgrnd . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getAvatarBackgroundColor ( ) ) ; < nl > + if ( style . getAvatarBackgroundResourse ( ) ! = 0 ) { < nl > + avatarBkgrnd . setImageResource ( style . getAvatarBackgroundResourse ( ) ) ; < nl > + } else { < nl > + avatarBkgrnd . setBackgroundColor ( style . getAvatarBackgroundColor ( ) ) ; < nl > + } < nl > avatarView . setBkgrnd ( avatarBkgrnd ) ; < nl > bind ( avatarView , groupInfo . getAvatar ( ) ) ; < nl > avatarView . setOnClickListener ( new View . OnClickListener ( ) { < nl > @ @ - 115 , 7 + 120 , 6 @ @ public class GroupInfoFragment extends BaseFragment { < nl > } < nl > } ) ; < nl > < nl > - ActorStyle style = ActorSDK . sharedActor ( ) . style ; < nl > / / Title < nl > TextView title = ( TextView ) header . findViewById ( R . id . title ) ; < nl > title . setTextColor ( style . getProfileTitleColor ( ) ) ; < nl > @ @ - 142 , 11 + 146 , 11 @ @ public class GroupInfoFragment extends BaseFragment { < nl > theme = new String [ 1 ] ; < nl > about = new String [ 1 ] ; < nl > TextView themeTV = ( TextView ) header . findViewById ( R . id . theme ) ; < nl > - themeTV . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextPrimaryColor ( ) ) ; < nl > - ( ( TextView ) header . findViewById ( R . id . group _ theme _ hint ) ) . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextSecondaryColor ( ) ) ; < nl > + themeTV . setTextColor ( style . getTextPrimaryColor ( ) ) ; < nl > + ( ( TextView ) header . findViewById ( R . id . group _ theme _ hint ) ) . setTextColor ( style . getTextSecondaryColor ( ) ) ; < nl > TextView aboutTV = ( TextView ) header . findViewById ( R . id . about ) ; < nl > - aboutTV . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextPrimaryColor ( ) ) ; < nl > - ( ( TextView ) header . findViewById ( R . id . about _ hint ) ) . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextSecondaryColor ( ) ) ; < nl > + aboutTV . setTextColor ( style . getTextPrimaryColor ( ) ) ; < nl > + ( ( TextView ) header . findViewById ( R . id . about _ hint ) ) . setTextColor ( style . getTextSecondaryColor ( ) ) ; < nl > final View descriptionContainer = header . findViewById ( R . id . descriptionContainer ) ; < nl > final TextView themeHeader = ( TextView ) header . findViewById ( R . id . theme _ header ) ; < nl > themeHeader . setTextColor ( style . getProfileSubtitleColor ( ) ) ; < nl > @ @ - 219 , 17 + 223 , 17 @ @ public class GroupInfoFragment extends BaseFragment { < nl > getString ( R . string . group _ members _ count ) < nl > . replace ( " { 0 } " , groupInfo . getMembersCount ( ) + " " ) < nl > . replace ( " { 1 } " , " 300 " ) ) ; < nl > - memberCount . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextHintColor ( ) ) ; < nl > + memberCount . setTextColor ( style . getTextHintColor ( ) ) ; < nl > listView . addHeaderView ( header , null , false ) ; < nl > < nl > View add = inflater . inflate ( R . layout . fragment _ group _ add , listView , false ) ; < nl > - add . findViewById ( R . id . bottom _ divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getBackyardBackgroundColor ( ) ) ; < nl > + add . findViewById ( R . id . bottom _ divider ) . setBackgroundColor ( style . getBackyardBackgroundColor ( ) ) ; < nl > TextView name = ( TextView ) add . findViewById ( R . id . name ) ; < nl > - name . setTextColor ( ActorSDK . sharedActor ( ) . style . getActionAddContactColor ( ) ) ; < nl > + name . setTextColor ( style . getActionAddContactColor ( ) ) ; < nl > name . setTypeface ( Fonts . medium ( ) ) ; < nl > TintImageView addIcon = ( TintImageView ) add . findViewById ( R . id . add _ icon ) ; < nl > - addIcon . setTint ( ActorSDK . sharedActor ( ) . style . getGroupActionAddIconColor ( ) ) ; < nl > - addIcon . setTint ( ActorSDK . sharedActor ( ) . style . getActionAddContactColor ( ) ) ; < nl > + addIcon . setTint ( style . getGroupActionAddIconColor ( ) ) ; < nl > + addIcon . setTint ( style . getActionAddContactColor ( ) ) ; < nl > < nl > add . findViewById ( R . id . addUser ) . setOnClickListener ( new View . OnClickListener ( ) { < nl > @ Override < nl > @ @ - 355 , 33 + 359 , 33 @ @ public class GroupInfoFragment extends BaseFragment { < nl > } < nl > } ) ; < nl > < nl > - res . findViewById ( R . id . after _ about _ divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getBackyardBackgroundColor ( ) ) ; < nl > - res . findViewById ( R . id . after _ settings _ divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getBackyardBackgroundColor ( ) ) ; < nl > - res . findViewById ( R . id . bottom _ divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getBackyardBackgroundColor ( ) ) ; < nl > + res . findViewById ( R . id . after _ about _ divider ) . setBackgroundColor ( style . getBackyardBackgroundColor ( ) ) ; < nl > + res . findViewById ( R . id . after _ settings _ divider ) . setBackgroundColor ( style . getBackyardBackgroundColor ( ) ) ; < nl > + res . findViewById ( R . id . bottom _ divider ) . setBackgroundColor ( style . getBackyardBackgroundColor ( ) ) ; < nl > < nl > < nl > TextView settingsHeaderText = ( TextView ) res . findViewById ( R . id . settings _ header _ text ) ; < nl > - settingsHeaderText . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; < nl > + settingsHeaderText . setTextColor ( style . getSettingsCategoryTextColor ( ) ) ; < nl > < nl > TintImageView notificationSettingIcon = ( TintImageView ) res . findViewById ( R . id . settings _ notification _ icon ) ; < nl > notificationSettingIcon . setTint ( style . getSettingsIconColor ( ) ) ; < nl > - ( ( TextView ) res . findViewById ( R . id . settings _ notifications _ title ) ) . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextPrimaryColor ( ) ) ; < nl > + ( ( TextView ) res . findViewById ( R . id . settings _ notifications _ title ) ) . setTextColor ( style . getTextPrimaryColor ( ) ) ; < nl > < nl > TintImageView shareMediaIcon = ( TintImageView ) res . findViewById ( R . id . share _ media _ icon ) ; < nl > shareMediaIcon . setTint ( style . getSettingsIconColor ( ) ) ; < nl > - ( ( TextView ) res . findViewById ( R . id . settings _ media _ title ) ) . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextPrimaryColor ( ) ) ; < nl > - ( ( TextView ) res . findViewById ( R . id . mediaCount ) ) . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextHintColor ( ) ) ; < nl > + ( ( TextView ) res . findViewById ( R . id . settings _ media _ title ) ) . setTextColor ( style . getTextPrimaryColor ( ) ) ; < nl > + ( ( TextView ) res . findViewById ( R . id . mediaCount ) ) . setTextColor ( style . getTextHintColor ( ) ) ; < nl > < nl > TintImageView shareDocsIcon = ( TintImageView ) res . findViewById ( R . id . share _ docs _ icon ) ; < nl > shareDocsIcon . setTint ( style . getSettingsIconColor ( ) ) ; < nl > - ( ( TextView ) res . findViewById ( R . id . share _ docs _ title ) ) . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextPrimaryColor ( ) ) ; < nl > - ( ( TextView ) res . findViewById ( R . id . docCount ) ) . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextHintColor ( ) ) ; < nl > + ( ( TextView ) res . findViewById ( R . id . share _ docs _ title ) ) . setTextColor ( style . getTextPrimaryColor ( ) ) ; < nl > + ( ( TextView ) res . findViewById ( R . id . docCount ) ) . setTextColor ( style . getTextHintColor ( ) ) ; < nl > < nl > TextView sharedHeaderText = ( TextView ) res . findViewById ( R . id . shared _ header _ text ) ; < nl > - sharedHeaderText . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; < nl > + sharedHeaderText . setTextColor ( style . getSettingsCategoryTextColor ( ) ) ; < nl > < nl > TextView membersHeaderText = ( TextView ) res . findViewById ( R . id . membersTitle ) ; < nl > - membersHeaderText . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; < nl > + membersHeaderText . setTextColor ( style . getSettingsCategoryTextColor ( ) ) ; < nl > < nl > return res ; < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / profile / ProfileFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / profile / ProfileFragment . java < nl > index f6674b1 . . 1f1fbbf 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / profile / ProfileFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / profile / ProfileFragment . java < nl > @ @ - 95 , 7 + 95 , 7 @ @ public class ProfileFragment extends BaseFragment { < nl > boolean aboutVivisbe = false ; < nl > < nl > final FrameLayout about = ( FrameLayout ) res . findViewById ( R . id . about ) ; < nl > - about . findViewById ( R . id . divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; < nl > + about . findViewById ( R . id . divider ) . setBackgroundColor ( style . getDividerColor ( ) ) ; < nl > TextView aboutTitle = ( TextView ) about . findViewById ( R . id . title ) ; < nl > aboutTitle . setTextColor ( style . getTextSecondaryColor ( ) ) ; < nl > aboutTitle . setMaxLines ( 2 ) ; < nl > @ @ - 137 , 7 + 137 , 7 @ @ public class ProfileFragment extends BaseFragment { < nl > nickIcon . setResource ( R . drawable . ic _ star _ white _ 36dp ) ; < nl > String value = " @ " . concat ( nick ) ; < nl > String title = getString ( R . string . nickname ) ; < nl > - recordView . findViewById ( R . id . divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; < nl > + recordView . findViewById ( R . id . divider ) . setBackgroundColor ( style . getDividerColor ( ) ) ; < nl > ( ( TextView ) recordView . findViewById ( R . id . value ) ) . setText ( value ) ; < nl > ( ( TextView ) recordView . findViewById ( R . id . title ) ) . setText ( title ) ; < nl > nickContainer . addView ( recordView , new LinearLayout . LayoutParams ( ViewGroup . LayoutParams . MATCH _ PARENT , < nl > @ @ - 171 , 7 + 171 , 7 @ @ public class ProfileFragment extends BaseFragment { < nl > phoneIcon . setVisibility ( View . INVISIBLE ) ; < nl > } < nl > View divider = recordView . findViewById ( R . id . divider ) ; < nl > - divider . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; < nl > + divider . setBackgroundColor ( style . getDividerColor ( ) ) ; < nl > if ( i ! = phones . size ( ) - 1 ) { < nl > divider . setVisibility ( View . VISIBLE ) ; < nl > } else { < nl > @ @ - 260 , 7 + 260 , 7 @ @ public class ProfileFragment extends BaseFragment { < nl > final UserEmail record = emails . get ( i ) ; < nl > View recordView = inflater . inflate ( R . layout . contact _ record , contactsContainer , false ) ; < nl > TintImageView emailIcon = ( TintImageView ) recordView . findViewById ( R . id . recordIcon ) ; < nl > - emailIcon . setTint ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; < nl > + emailIcon . setTint ( style . getSettingsCategoryTextColor ( ) ) ; < nl > if ( i = = 0 ) { < nl > emailIcon . setResource ( R . drawable . ic _ email _ white _ 36dp ) ; < nl > emailIcon . setVisibility ( View . VISIBLE ) ; < nl > @ @ - 274 , 7 + 274 , 7 @ @ public class ProfileFragment extends BaseFragment { < nl > } else { < nl > divider . setVisibility ( View . GONE ) ; < nl > } < nl > - divider . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; < nl > + divider . setBackgroundColor ( style . getDividerColor ( ) ) ; < nl > < nl > final String email = record . getEmail ( ) ; < nl > < nl > @ @ - 337 , 8 + 337 , 8 @ @ public class ProfileFragment extends BaseFragment { < nl > < nl > < nl > FloatingActionButton fab = ( FloatingActionButton ) res . findViewById ( R . id . profileAction ) ; < nl > - fab . setColorNormal ( ActorSDK . sharedActor ( ) . style . getFabColor ( ) ) ; < nl > - fab . setColorPressed ( ActorSDK . sharedActor ( ) . style . getFabPressedColor ( ) ) ; < nl > + fab . setColorNormal ( style . getFabColor ( ) ) ; < nl > + fab . setColorPressed ( style . getFabPressedColor ( ) ) ; < nl > < nl > fab . setVisibility ( View . VISIBLE ) ; < nl > fab . setOnClickListener ( new View . OnClickListener ( ) { < nl > @ @ - 350 , 7 + 350 , 11 @ @ public class ProfileFragment extends BaseFragment { < nl > < nl > avatarView = ( CoverAvatarView ) res . findViewById ( R . id . avatar ) ; < nl > ImageView avatarBkgrnd = ( ImageView ) res . findViewById ( R . id . avatar _ bgrnd ) ; < nl > - avatarBkgrnd . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getAvatarBackgroundColor ( ) ) ; < nl > + if ( style . getAvatarBackgroundResourse ( ) ! = 0 ) { < nl > + avatarBkgrnd . setImageResource ( style . getAvatarBackgroundResourse ( ) ) ; < nl > + } else { < nl > + avatarBkgrnd . setBackgroundColor ( style . getAvatarBackgroundColor ( ) ) ; < nl > + } < nl > avatarView . setBkgrnd ( avatarBkgrnd ) ; < nl > < nl > bind ( avatarView , user . getAvatar ( ) ) ; < nl > @ @ - 394 , 10 + 398 , 10 @ @ public class ProfileFragment extends BaseFragment { < nl > } ) ; < nl > < nl > TextView settingsHeaderText = ( TextView ) res . findViewById ( R . id . settings _ header _ text ) ; < nl > - settingsHeaderText . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsTitleColor ( ) ) ; < nl > + settingsHeaderText . setTextColor ( style . getSettingsTitleColor ( ) ) ; < nl > < nl > TextView sharedHeaderText = ( TextView ) res . findViewById ( R . id . shared _ header _ text ) ; < nl > - sharedHeaderText . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsTitleColor ( ) ) ; < nl > + sharedHeaderText . setTextColor ( style . getSettingsTitleColor ( ) ) ; < nl > < nl > TintImageView shareMediaIcon = ( TintImageView ) res . findViewById ( R . id . share _ media _ icon ) ; < nl > shareMediaIcon . setTint ( style . getSettingsIconColor ( ) ) ; < nl > @ @ - 408 , 12 + 412 , 12 @ @ public class ProfileFragment extends BaseFragment { < nl > TintImageView notificationsSettingsIcon = ( TintImageView ) res . findViewById ( R . id . settings _ notification _ icon ) ; < nl > notificationsSettingsIcon . setTint ( style . getSettingsIconColor ( ) ) ; < nl > < nl > - res . findViewById ( R . id . phoneDivider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getBackyardBackgroundColor ( ) ) ; < nl > - res . findViewById ( R . id . after _ shared _ divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getBackyardBackgroundColor ( ) ) ; < nl > - res . findViewById ( R . id . bottom _ divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getBackyardBackgroundColor ( ) ) ; < nl > + res . findViewById ( R . id . phoneDivider ) . setBackgroundColor ( style . getBackyardBackgroundColor ( ) ) ; < nl > + res . findViewById ( R . id . after _ shared _ divider ) . setBackgroundColor ( style . getBackyardBackgroundColor ( ) ) ; < nl > + res . findViewById ( R . id . bottom _ divider ) . setBackgroundColor ( style . getBackyardBackgroundColor ( ) ) ; < nl > < nl > final ScrollView scrollView = ( ( ScrollView ) res . findViewById ( R . id . scrollContainer ) ) ; < nl > - scrollView . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getBackyardBackgroundColor ( ) ) ; < nl > + scrollView . setBackgroundColor ( style . getBackyardBackgroundColor ( ) ) ; < nl > scrollView . getViewTreeObserver ( ) . addOnScrollChangedListener ( new ViewTreeObserver . OnScrollChangedListener ( ) { < nl > @ Override < nl > public void onScrollChanged ( ) { < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java < nl > index ece55ab . . e9da951 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java < nl > @ @ - 106 , 9 + 106 , 9 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements < nl > @ Override < nl > public void onChanged ( final String val , Value < String > Value ) { < nl > final View recordView = inflater . inflate ( R . layout . contact _ record , nickContainer , false ) ; < nl > - recordView . findViewById ( R . id . divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; < nl > + recordView . findViewById ( R . id . divider ) . setBackgroundColor ( style . getDividerColor ( ) ) ; < nl > TintImageView nickIcon = ( TintImageView ) recordView . findViewById ( R . id . recordIcon ) ; < nl > - nickIcon . setTint ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; < nl > + nickIcon . setTint ( style . getSettingsCategoryTextColor ( ) ) ; < nl > nickIcon . setResource ( R . drawable . ic _ star _ white _ 36dp ) ; < nl > < nl > String value = ( val ! = null & & ! val . isEmpty ( ) ) ? val : getString ( R . string . nickname _ empty ) ; < nl > @ @ - 135 , 14 + 135 , 14 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements < nl > < nl > final TextView aboutTitle = ( TextView ) about . findViewById ( R . id . value ) ; < nl > TintImageView aboutIcon = ( TintImageView ) about . findViewById ( R . id . recordIcon ) ; < nl > - aboutIcon . setTint ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; < nl > + aboutIcon . setTint ( style . getSettingsCategoryTextColor ( ) ) ; < nl > aboutIcon . setResource ( R . drawable . ic _ editor _ format _ quote _ 36dp ) ; < nl > TextView aboutValue = ( TextView ) about . findViewById ( R . id . title ) ; < nl > aboutTitle . setTextColor ( style . getTextPrimaryColor ( ) ) ; < nl > aboutValue . setTextColor ( style . getTextSecondaryColor ( ) ) ; < nl > aboutValue . setText ( getString ( R . string . about _ user _ me ) ) ; < nl > aboutTitle . setEllipsize ( TextUtils . TruncateAt . END ) ; < nl > - about . findViewById ( R . id . divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; < nl > + about . findViewById ( R . id . divider ) . setBackgroundColor ( style . getDividerColor ( ) ) ; < nl > about . setOnClickListener ( new View . OnClickListener ( ) { < nl > @ Override < nl > public void onClick ( View v ) { < nl > @ @ - 174 , 7 + 174 , 7 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements < nl > final UserPhone record = val . get ( i ) ; < nl > View recordView = inflater . inflate ( R . layout . contact _ record , contactsContainer , false ) ; < nl > TintImageView tintImageView = ( TintImageView ) recordView . findViewById ( R . id . recordIcon ) ; < nl > - tintImageView . setTint ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; < nl > + tintImageView . setTint ( style . getSettingsCategoryTextColor ( ) ) ; < nl > if ( i = = 0 ) { < nl > tintImageView . setResource ( R . drawable . ic _ call _ white _ 36dp ) ; < nl > tintImageView . setVisibility ( View . VISIBLE ) ; < nl > @ @ - 188 , 7 + 188 , 7 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements < nl > } else { < nl > divider . setVisibility ( View . VISIBLE ) ; < nl > } < nl > - divider . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; < nl > + divider . setBackgroundColor ( style . getDividerColor ( ) ) ; < nl > < nl > String _ phoneNumber ; < nl > try { < nl > @ @ - 273 , 7 + 273 , 7 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements < nl > final UserEmail record = val . get ( i ) ; < nl > View recordView = inflater . inflate ( R . layout . contact _ record , contactsContainer , false ) ; < nl > TintImageView tintImageView = ( TintImageView ) recordView . findViewById ( R . id . recordIcon ) ; < nl > - tintImageView . setTint ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; < nl > + tintImageView . setTint ( style . getSettingsCategoryTextColor ( ) ) ; < nl > if ( i = = 0 ) { < nl > tintImageView . setResource ( R . drawable . ic _ email _ white _ 36dp ) ; < nl > tintImageView . setVisibility ( View . VISIBLE ) ; < nl > @ @ - 287 , 7 + 287 , 7 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements < nl > } else { < nl > divider . setVisibility ( View . GONE ) ; < nl > } < nl > - divider . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; < nl > + divider . setBackgroundColor ( style . getDividerColor ( ) ) ; < nl > < nl > final String email = record . getEmail ( ) ; < nl > < nl > @ @ - 401 , 7 + 401 , 7 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements < nl > } ) ; < nl > < nl > TextView twitterTitle = ( TextView ) view . findViewById ( R . id . settings _ twitter ) ; < nl > - twitterTitle . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsTitleColor ( ) ) ; < nl > + twitterTitle . setTextColor ( style . getSettingsTitleColor ( ) ) ; < nl > < nl > TintImageView twitterIcon = ( TintImageView ) view . findViewById ( R . id . settings _ twitter _ icon ) ; < nl > twitterIcon . setTint ( style . getSettingsIconColor ( ) ) ; < nl > @ @ - 422 , 7 + 422 , 7 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements < nl > } ) ; < nl > < nl > TextView homePageTitle = ( TextView ) view . findViewById ( R . id . settings _ home _ page ) ; < nl > - homePageTitle . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsTitleColor ( ) ) ; < nl > + homePageTitle . setTextColor ( style . getSettingsTitleColor ( ) ) ; < nl > < nl > TintImageView homePageIcon = ( TintImageView ) view . findViewById ( R . id . settings _ home _ page _ icon ) ; < nl > homePageIcon . setTint ( style . getSettingsIconColor ( ) ) ; < nl > @ @ - 430 , 28 + 430 , 28 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements < nl > < nl > < nl > TextView settingsHeaderText = ( TextView ) view . findViewById ( R . id . settings _ header _ text ) ; < nl > - settingsHeaderText . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; < nl > + settingsHeaderText . setTextColor ( style . getSettingsCategoryTextColor ( ) ) ; < nl > < nl > TextView settingsNotificationsTitle = ( TextView ) view . findViewById ( R . id . settings _ notifications _ title ) ; < nl > - settingsNotificationsTitle . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsTitleColor ( ) ) ; < nl > + settingsNotificationsTitle . setTextColor ( style . getSettingsTitleColor ( ) ) ; < nl > < nl > TextView settingsChatTitle = ( TextView ) view . findViewById ( R . id . settings _ chat _ title ) ; < nl > - settingsChatTitle . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsTitleColor ( ) ) ; < nl > + settingsChatTitle . setTextColor ( style . getSettingsTitleColor ( ) ) ; < nl > < nl > TextView securityTitle = ( TextView ) view . findViewById ( R . id . settings _ security _ title ) ; < nl > - securityTitle . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsTitleColor ( ) ) ; < nl > + securityTitle . setTextColor ( style . getSettingsTitleColor ( ) ) ; < nl > < nl > TintImageView securityIcon = ( TintImageView ) view . findViewById ( R . id . settings _ security _ icon ) ; < nl > securityIcon . setTint ( style . getSettingsIconColor ( ) ) ; < nl > < nl > TextView helpTitle = ( TextView ) view . findViewById ( R . id . settings _ help _ title ) ; < nl > - helpTitle . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsTitleColor ( ) ) ; < nl > + helpTitle . setTextColor ( style . getSettingsTitleColor ( ) ) ; < nl > < nl > TintImageView helpIcon = ( TintImageView ) view . findViewById ( R . id . settings _ help _ icon ) ; < nl > helpIcon . setTint ( style . getSettingsIconColor ( ) ) ; < nl > < nl > TextView askTitle = ( TextView ) view . findViewById ( R . id . settings _ ask _ title ) ; < nl > - askTitle . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsTitleColor ( ) ) ; < nl > + askTitle . setTextColor ( style . getSettingsTitleColor ( ) ) ; < nl > < nl > TintImageView askIcon = ( TintImageView ) view . findViewById ( R . id . settings _ ask _ icon ) ; < nl > askIcon . setTint ( style . getSettingsIconColor ( ) ) ; < nl > @ @ - 462 , 15 + 462 , 15 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements < nl > TintImageView chatSettingsIcon = ( TintImageView ) view . findViewById ( R . id . settings _ chat _ icon ) ; < nl > chatSettingsIcon . setTint ( style . getSettingsIconColor ( ) ) ; < nl > < nl > - view . findViewById ( R . id . after _ phone _ divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getBackyardBackgroundColor ( ) ) ; < nl > - view . findViewById ( R . id . bottom _ divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getBackyardBackgroundColor ( ) ) ; < nl > + view . findViewById ( R . id . after _ phone _ divider ) . setBackgroundColor ( style . getBackyardBackgroundColor ( ) ) ; < nl > + view . findViewById ( R . id . bottom _ divider ) . setBackgroundColor ( style . getBackyardBackgroundColor ( ) ) ; < nl > < nl > - view . findViewById ( R . id . divider1 ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; < nl > - view . findViewById ( R . id . divider2 ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; < nl > - view . findViewById ( R . id . divider3 ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; < nl > - view . findViewById ( R . id . divider4 ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; < nl > - view . findViewById ( R . id . divider5 ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; < nl > - view . findViewById ( R . id . divider6 ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; < nl > + view . findViewById ( R . id . divider1 ) . setBackgroundColor ( style . getDividerColor ( ) ) ; < nl > + view . findViewById ( R . id . divider2 ) . setBackgroundColor ( style . getDividerColor ( ) ) ; < nl > + view . findViewById ( R . id . divider3 ) . setBackgroundColor ( style . getDividerColor ( ) ) ; < nl > + view . findViewById ( R . id . divider4 ) . setBackgroundColor ( style . getDividerColor ( ) ) ; < nl > + view . findViewById ( R . id . divider5 ) . setBackgroundColor ( style . getDividerColor ( ) ) ; < nl > + view . findViewById ( R . id . divider6 ) . setBackgroundColor ( style . getDividerColor ( ) ) ; < nl > < nl > if ( getBeforeNickSettingsView ( ) ! = null ) { < nl > FrameLayout beforeNick = ( FrameLayout ) view . findViewById ( R . id . before _ nick _ container ) ; < nl > @ @ - 501 , 7 + 501 , 11 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements < nl > < nl > avatarView = ( CoverAvatarView ) view . findViewById ( R . id . avatar ) ; < nl > ImageView avatarBkgrnd = ( ImageView ) view . findViewById ( R . id . avatar _ bgrnd ) ; < nl > - avatarBkgrnd . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getAvatarBackgroundColor ( ) ) ; < nl > + if ( style . getAvatarBackgroundResourse ( ) ! = 0 ) { < nl > + avatarBkgrnd . setImageResource ( style . getAvatarBackgroundResourse ( ) ) ; < nl > + } else { < nl > + avatarBkgrnd . setBackgroundColor ( style . getAvatarBackgroundColor ( ) ) ; < nl > + } < nl > avatarView . setBkgrnd ( avatarBkgrnd ) ; < nl > < nl > bind ( avatarView , users ( ) . get ( myUid ( ) ) . getAvatar ( ) ) ; < nl > @ @ - 562 , 7 + 566 , 7 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements < nl > < nl > < nl > final ScrollView scrollView = ( ( ScrollView ) view . findViewById ( R . id . scrollContainer ) ) ; < nl > - scrollView . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getMainBackgroundColor ( ) ) ; < nl > + scrollView . setBackgroundColor ( style . getMainBackgroundColor ( ) ) ; < nl > scrollView . getViewTreeObserver ( ) . addOnScrollChangedListener ( new ViewTreeObserver . OnScrollChangedListener ( ) { < nl > @ Override < nl > public void onScrollChanged ( ) {
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / profile / ProfileFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / profile / ProfileFragment . java < nl > index 8eba614 . . 44575fa 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / profile / ProfileFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / profile / ProfileFragment . java < nl > @ @ - 32 , 6 + 32 , 10 @ @ import com . google . i18n . phonenumbers . Phonenumber ; < nl > < nl > import java . util . ArrayList ; < nl > < nl > + import im . actor . core . viewmodel . UserEmail ; < nl > + import im . actor . core . viewmodel . generics . ArrayListUserEmail ; < nl > + import im . actor . runtime . mvvm . Value ; < nl > + import im . actor . runtime . mvvm . ValueChangedListener ; < nl > import im . actor . sdk . ActorSDK ; < nl > import im . actor . sdk . ActorStyle ; < nl > import im . actor . sdk . R ; < nl > @ @ - 55 , 6 + 59 , 8 @ @ public class ProfileFragment extends BaseFragment { < nl > private static final String EXTRA _ UID = " uid " ; < nl > private int baseColor ; < nl > private CoverAvatarView avatarView ; < nl > + private boolean noEmails = false ; < nl > + private boolean noPhones = false ; < nl > < nl > public ProfileFragment ( ) { < nl > } < nl > @ @ - 96 , 10 + 102 , 11 @ @ public class ProfileFragment extends BaseFragment { < nl > aboutTitle . setEllipsize ( TextUtils . TruncateAt . END ) ; < nl > TextView aboutValue = ( TextView ) about . findViewById ( R . id . value ) ; < nl > aboutValue . setTextColor ( style . getTextPrimaryColor ( ) ) ; < nl > - ( ( TintImageView ) about . findViewById ( R . id . recordIcon ) ) . setTint ( ActorSDK . sharedActor ( ) . style . getProfilleIconColor ( ) ) ; < nl > + TintImageView tintImageView = ( TintImageView ) about . findViewById ( R . id . recordIcon ) ; < nl > + tintImageView . setTint ( style . getRecordIconTintColor ( ) ) ; < nl > + tintImageView . setResource ( R . drawable . ic _ editor _ format _ quote _ 36dp ) ; < nl > if ( aboutText ! = null & & ! aboutText . isEmpty ( ) ) { < nl > aboutVivisbe = true ; < nl > - about . findViewById ( R . id . recordIcon ) . setVisibility ( View . INVISIBLE ) ; < nl > ( ( TextView ) about . findViewById ( R . id . value ) ) . setText ( getString ( R . string . about _ user ) ) ; < nl > about . setOnClickListener ( new View . OnClickListener ( ) { < nl > @ Override < nl > @ @ - 125 , 8 + 132 , 9 @ @ public class ProfileFragment extends BaseFragment { < nl > nickValue . setTextColor ( style . getTextPrimaryColor ( ) ) ; < nl > TextView nickTitle = ( TextView ) recordView . findViewById ( R . id . title ) ; < nl > nickTitle . setTextColor ( style . getTextSecondaryColor ( ) ) ; < nl > - TintImageView tintImageView = ( TintImageView ) recordView . findViewById ( R . id . recordIcon ) ; < nl > - tintImageView . setVisibility ( View . INVISIBLE ) ; < nl > + TintImageView nickIcon = ( TintImageView ) recordView . findViewById ( R . id . recordIcon ) ; < nl > + nickIcon . setTint ( style . getRecordIconTintColor ( ) ) ; < nl > + nickIcon . setResource ( R . drawable . ic _ star _ white _ 36dp ) ; < nl > String value = " @ " . concat ( nick ) ; < nl > String title = getString ( R . string . nickname ) ; < nl > recordView . findViewById ( R . id . divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; < nl > @ @ - 138 , 33 + 146 , 29 @ @ public class ProfileFragment extends BaseFragment { < nl > } < nl > < nl > LinearLayout contactsContainer = ( LinearLayout ) res . findViewById ( R . id . phoneContainer ) ; < nl > - View abovephonesDivider = null ; < nl > + View aboveContactsDivider = null ; < nl > if ( aboutVivisbe ) { < nl > - abovephonesDivider = about . findViewById ( R . id . divider ) ; < nl > + aboveContactsDivider = about . findViewById ( R . id . divider ) ; < nl > } else if ( nickVisible ) { < nl > - abovephonesDivider = nickContainer . findViewById ( R . id . divider ) ; < nl > + aboveContactsDivider = nickContainer . findViewById ( R . id . divider ) ; < nl > < nl > } < nl > + < nl > if ( user . getPhones ( ) . get ( ) . size ( ) = = 0 ) { < nl > - contactsContainer . setVisibility ( View . GONE ) ; < nl > - if ( abovephonesDivider ! = null ) { < nl > - abovephonesDivider . setVisibility ( View . GONE ) ; < nl > - } else { < nl > - res . findViewById ( R . id . phoneDivider ) . setVisibility ( View . GONE ) ; < nl > - } < nl > + noPhones = true ; < nl > } else { < nl > contactsContainer . setVisibility ( View . VISIBLE ) ; < nl > ArrayList < UserPhone > phones = user . getPhones ( ) . get ( ) ; < nl > for ( int i = 0 ; i < phones . size ( ) ; i + + ) { < nl > final UserPhone record = phones . get ( i ) ; < nl > View recordView = inflater . inflate ( R . layout . contact _ record , contactsContainer , false ) ; < nl > - TintImageView tintImageView = ( TintImageView ) recordView . findViewById ( R . id . recordIcon ) ; < nl > - tintImageView . setTint ( style . getRecordIconTintColor ( ) ) ; < nl > + TintImageView phoneIcon = ( TintImageView ) recordView . findViewById ( R . id . recordIcon ) ; < nl > + phoneIcon . setTint ( style . getRecordIconTintColor ( ) ) ; < nl > if ( i = = 0 ) { < nl > - tintImageView . setResource ( R . drawable . ic _ call _ white _ 36dp ) ; < nl > - tintImageView . setVisibility ( View . VISIBLE ) ; < nl > + phoneIcon . setResource ( R . drawable . ic _ call _ white _ 36dp ) ; < nl > + phoneIcon . setVisibility ( View . VISIBLE ) ; < nl > } else { < nl > - tintImageView . setVisibility ( View . INVISIBLE ) ; < nl > + phoneIcon . setVisibility ( View . INVISIBLE ) ; < nl > } < nl > View divider = recordView . findViewById ( R . id . divider ) ; < nl > divider . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; < nl > @ @ - 246 , 6 + 250 , 91 @ @ public class ProfileFragment extends BaseFragment { < nl > } < nl > } < nl > < nl > + if ( user . getEmails ( ) . get ( ) . size ( ) = = 0 ) { < nl > + noEmails = true ; < nl > + } else { < nl > + ArrayList < UserEmail > emails = user . getEmails ( ) . get ( ) ; < nl > + < nl > + contactsContainer . setVisibility ( View . VISIBLE ) ; < nl > + for ( int i = 0 ; i < emails . size ( ) ; i + + ) { < nl > + final UserEmail record = emails . get ( i ) ; < nl > + View recordView = inflater . inflate ( R . layout . contact _ record , contactsContainer , false ) ; < nl > + TintImageView emailIcon = ( TintImageView ) recordView . findViewById ( R . id . recordIcon ) ; < nl > + emailIcon . setTint ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; < nl > + if ( i = = 0 ) { < nl > + emailIcon . setResource ( R . drawable . ic _ email _ white _ 36dp ) ; < nl > + emailIcon . setVisibility ( View . VISIBLE ) ; < nl > + } else { < nl > + emailIcon . setVisibility ( View . INVISIBLE ) ; < nl > + } < nl > + < nl > + View divider = recordView . findViewById ( R . id . divider ) ; < nl > + if ( i ! = emails . size ( ) - 1 ) { < nl > + divider . setVisibility ( View . VISIBLE ) ; < nl > + } else { < nl > + divider . setVisibility ( View . GONE ) ; < nl > + } < nl > + divider . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; < nl > + < nl > + final String email = record . getEmail ( ) ; < nl > + < nl > + TextView value = ( TextView ) recordView . findViewById ( R . id . value ) ; < nl > + value . setTextColor ( style . getTextPrimaryColor ( ) ) ; < nl > + value . setText ( email ) ; < nl > + TextView title = ( TextView ) recordView . findViewById ( R . id . title ) ; < nl > + title . setTextColor ( style . getTextSecondaryColor ( ) ) ; < nl > + title . setText ( record . getTitle ( ) ) ; < nl > + contactsContainer . addView ( recordView , new LinearLayout . LayoutParams ( ViewGroup . LayoutParams . MATCH _ PARENT , < nl > + Screen . dp ( 72 ) ) ) ; < nl > + < nl > + recordView . setOnClickListener ( new View . OnClickListener ( ) { < nl > + @ Override < nl > + public void onClick ( View v ) { < nl > + new AlertDialog . Builder ( getActivity ( ) ) < nl > + . setItems ( new CharSequence [ ] { < nl > + getString ( R . string . email _ menu _ email ) . replace ( " { 0 } " , email ) , < nl > + getString ( R . string . phone _ menu _ copy ) < nl > + } , new DialogInterface . OnClickListener ( ) { < nl > + @ Override < nl > + public void onClick ( DialogInterface dialog , int which ) { < nl > + if ( which = = 0 ) { < nl > + startActivity ( new Intent ( Intent . ACTION _ SENDTO , Uri . fromParts ( " mailto " , record . getEmail ( ) , null ) ) ) ; < nl > + } else if ( which = = 1 ) { < nl > + ClipboardManager clipboard = < nl > + ( ClipboardManager ) getActivity ( ) < nl > + . getSystemService ( Context . CLIPBOARD _ SERVICE ) ; < nl > + ClipData clip = ClipData . newPlainText ( " Email " , email ) ; < nl > + clipboard . setPrimaryClip ( clip ) ; < nl > + Toast . makeText ( getActivity ( ) , R . string . toast _ email _ copied , Toast . LENGTH _ SHORT ) . show ( ) ; < nl > + } < nl > + } < nl > + } ) < nl > + . show ( ) < nl > + . setCanceledOnTouchOutside ( true ) ; < nl > + } < nl > + } ) ; < nl > + recordView . setOnLongClickListener ( new View . OnLongClickListener ( ) { < nl > + @ Override < nl > + public boolean onLongClick ( View v ) { < nl > + ClipboardManager clipboard = ( ClipboardManager ) getActivity ( ) . getSystemService ( Context . CLIPBOARD _ SERVICE ) ; < nl > + ClipData clip = ClipData . newPlainText ( " Email " , " + " + record . getEmail ( ) ) ; < nl > + clipboard . setPrimaryClip ( clip ) ; < nl > + Toast . makeText ( getActivity ( ) , R . string . toast _ email _ copied , Toast . LENGTH _ SHORT ) . show ( ) ; < nl > + return true ; < nl > + } < nl > + } ) ; < nl > + } < nl > + } < nl > + < nl > + if ( noEmails & & noPhones ) { < nl > + contactsContainer . setVisibility ( View . GONE ) ; < nl > + if ( aboveContactsDivider ! = null ) { < nl > + aboveContactsDivider . setVisibility ( View . GONE ) ; < nl > + } else { < nl > + res . findViewById ( R . id . phoneDivider ) . setVisibility ( View . GONE ) ; < nl > + } < nl > + } < nl > + < nl > < nl > FloatingActionButton fab = ( FloatingActionButton ) res . findViewById ( R . id . profileAction ) ; < nl > fab . setColorNormal ( ActorSDK . sharedActor ( ) . style . getFabColor ( ) ) ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java < nl > index c1a8f9b . . b9dc756 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java < nl > @ @ - 32 , 8 + 32 , 10 @ @ import com . google . i18n . phonenumbers . PhoneNumberUtil ; < nl > import com . google . i18n . phonenumbers . Phonenumber ; < nl > < nl > import im . actor . core . viewmodel . CommandCallback ; < nl > + import im . actor . core . viewmodel . UserEmail ; < nl > import im . actor . core . viewmodel . UserPhone ; < nl > import im . actor . core . viewmodel . UserVM ; < nl > + import im . actor . core . viewmodel . generics . ArrayListUserEmail ; < nl > import im . actor . core . viewmodel . generics . ArrayListUserPhone ; < nl > import im . actor . sdk . ActorSDK ; < nl > import im . actor . sdk . ActorStyle ; < nl > @ @ - 60 , 6 + 62 , 8 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements < nl > private CoverAvatarView avatarView ; < nl > SharedPreferences shp ; < nl > SharedPreferences . Editor ed ; < nl > + private boolean noPhones = false ; < nl > + private boolean noEmails = false ; < nl > < nl > @ Override < nl > public View onCreateView ( final LayoutInflater inflater , ViewGroup container , Bundle savedInstanceState ) { < nl > @ @ - 101 , 8 + 105 , 10 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements < nl > public void onChanged ( final String val , Value < String > Value ) { < nl > final View recordView = inflater . inflate ( R . layout . contact _ record , nickContainer , false ) ; < nl > recordView . findViewById ( R . id . divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; < nl > - TintImageView tintImageView = ( TintImageView ) recordView . findViewById ( R . id . recordIcon ) ; < nl > - tintImageView . setVisibility ( View . INVISIBLE ) ; < nl > + TintImageView nickIcon = ( TintImageView ) recordView . findViewById ( R . id . recordIcon ) ; < nl > + nickIcon . setTint ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; < nl > + nickIcon . setResource ( R . drawable . ic _ star _ white _ 36dp ) ; < nl > + < nl > String value = ( val ! = null & & ! val . isEmpty ( ) ) ? val : getString ( R . string . nickname _ empty ) ; < nl > String title = getString ( R . string . nickname ) ; < nl > < nl > @ @ - 126 , 7 + 132 , 9 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements < nl > } ) ; < nl > < nl > final TextView aboutTitle = ( TextView ) about . findViewById ( R . id . value ) ; < nl > - about . findViewById ( R . id . recordIcon ) . setVisibility ( View . INVISIBLE ) ; < nl > + TintImageView aboutIcon = ( TintImageView ) about . findViewById ( R . id . recordIcon ) ; < nl > + aboutIcon . setTint ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; < nl > + aboutIcon . setResource ( R . drawable . ic _ editor _ format _ quote _ 36dp ) ; < nl > TextView aboutValue = ( TextView ) about . findViewById ( R . id . title ) ; < nl > aboutTitle . setTextColor ( style . getTextPrimaryColor ( ) ) ; < nl > aboutValue . setTextColor ( style . getTextSecondaryColor ( ) ) ; < nl > @ @ - 155 , 8 + 163 , 7 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements < nl > @ Override < nl > public void onChanged ( ArrayListUserPhone val , Value < ArrayListUserPhone > Value ) { < nl > if ( val . size ( ) = = 0 ) { < nl > - contactsContainer . setVisibility ( View . GONE ) ; < nl > - about . findViewById ( R . id . divider ) . setVisibility ( View . INVISIBLE ) ; < nl > + noPhones = true ; < nl > } else { < nl > contactsContainer . setVisibility ( View . VISIBLE ) ; < nl > for ( int i = 0 ; i < val . size ( ) ; i + + ) { < nl > @ @ - 172 , 10 + 179 , 10 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements < nl > } < nl > < nl > View divider = recordView . findViewById ( R . id . divider ) ; < nl > - if ( i ! = val . size ( ) - 1 ) { < nl > - divider . setVisibility ( View . VISIBLE ) ; < nl > - } else { < nl > + if ( i = = val . size ( ) - 1 & & ( userModel . getEmails ( ) . get ( ) = = null | | userModel . getEmails ( ) . get ( ) . isEmpty ( ) ) ) { < nl > divider . setVisibility ( View . GONE ) ; < nl > + } else { < nl > + divider . setVisibility ( View . VISIBLE ) ; < nl > } < nl > divider . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; < nl > < nl > @ @ - 251 , 6 + 258 , 90 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements < nl > } < nl > } ) ; < nl > < nl > + bind ( userModel . getEmails ( ) , new ValueChangedListener < ArrayListUserEmail > ( ) { < nl > + @ Override < nl > + public void onChanged ( ArrayListUserEmail val , Value < ArrayListUserEmail > Value ) { < nl > + if ( val . size ( ) = = 0 ) { < nl > + noEmails = true ; < nl > + } else { < nl > + contactsContainer . setVisibility ( View . VISIBLE ) ; < nl > + for ( int i = 0 ; i < val . size ( ) ; i + + ) { < nl > + final UserEmail record = val . get ( i ) ; < nl > + View recordView = inflater . inflate ( R . layout . contact _ record , contactsContainer , false ) ; < nl > + TintImageView tintImageView = ( TintImageView ) recordView . findViewById ( R . id . recordIcon ) ; < nl > + tintImageView . setTint ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; < nl > + if ( i = = 0 ) { < nl > + tintImageView . setResource ( R . drawable . ic _ email _ white _ 36dp ) ; < nl > + tintImageView . setVisibility ( View . VISIBLE ) ; < nl > + } else { < nl > + tintImageView . setVisibility ( View . INVISIBLE ) ; < nl > + } < nl > + < nl > + View divider = recordView . findViewById ( R . id . divider ) ; < nl > + if ( i ! = val . size ( ) - 1 ) { < nl > + divider . setVisibility ( View . VISIBLE ) ; < nl > + } else { < nl > + divider . setVisibility ( View . GONE ) ; < nl > + } < nl > + divider . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; < nl > + < nl > + final String email = record . getEmail ( ) ; < nl > + < nl > + TextView value = ( TextView ) recordView . findViewById ( R . id . value ) ; < nl > + value . setTextColor ( style . getTextPrimaryColor ( ) ) ; < nl > + value . setText ( email ) ; < nl > + TextView title = ( TextView ) recordView . findViewById ( R . id . title ) ; < nl > + title . setTextColor ( style . getTextSecondaryColor ( ) ) ; < nl > + title . setText ( record . getTitle ( ) ) ; < nl > + contactsContainer . addView ( recordView , new LinearLayout . LayoutParams ( ViewGroup . LayoutParams . MATCH _ PARENT , < nl > + Screen . dp ( 72 ) ) ) ; < nl > + < nl > + recordView . setOnClickListener ( new View . OnClickListener ( ) { < nl > + @ Override < nl > + public void onClick ( View v ) { < nl > + new AlertDialog . Builder ( getActivity ( ) ) < nl > + . setItems ( new CharSequence [ ] { < nl > + getString ( R . string . email _ menu _ email ) . replace ( " { 0 } " , email ) , < nl > + getString ( R . string . phone _ menu _ copy ) < nl > + } , new DialogInterface . OnClickListener ( ) { < nl > + @ Override < nl > + public void onClick ( DialogInterface dialog , int which ) { < nl > + if ( which = = 0 ) { < nl > + startActivity ( new Intent ( Intent . ACTION _ SENDTO , Uri . fromParts ( " mailto " , record . getEmail ( ) , null ) ) ) ; < nl > + } else if ( which = = 1 ) { < nl > + ClipboardManager clipboard = < nl > + ( ClipboardManager ) getActivity ( ) < nl > + . getSystemService ( Context . CLIPBOARD _ SERVICE ) ; < nl > + ClipData clip = ClipData . newPlainText ( " Email " , email ) ; < nl > + clipboard . setPrimaryClip ( clip ) ; < nl > + Toast . makeText ( getActivity ( ) , R . string . toast _ email _ copied , Toast . LENGTH _ SHORT ) . show ( ) ; < nl > + } < nl > + } < nl > + } ) < nl > + . show ( ) < nl > + . setCanceledOnTouchOutside ( true ) ; < nl > + } < nl > + } ) ; < nl > + recordView . setOnLongClickListener ( new View . OnLongClickListener ( ) { < nl > + @ Override < nl > + public boolean onLongClick ( View v ) { < nl > + ClipboardManager clipboard = ( ClipboardManager ) getActivity ( ) . getSystemService ( Context . CLIPBOARD _ SERVICE ) ; < nl > + ClipData clip = ClipData . newPlainText ( " Email " , " + " + record . getEmail ( ) ) ; < nl > + clipboard . setPrimaryClip ( clip ) ; < nl > + Toast . makeText ( getActivity ( ) , R . string . toast _ email _ copied , Toast . LENGTH _ SHORT ) . show ( ) ; < nl > + return true ; < nl > + } < nl > + } ) ; < nl > + } < nl > + } < nl > + } < nl > + } ) ; < nl > + < nl > + if ( noEmails & & noPhones ) { < nl > + contactsContainer . setVisibility ( View . GONE ) ; < nl > + about . findViewById ( R . id . divider ) . setVisibility ( View . INVISIBLE ) ; < nl > + } < nl > + < nl > view . findViewById ( R . id . chatSettings ) . setOnClickListener ( new View . OnClickListener ( ) { < nl > @ Override < nl > public void onClick ( View v ) { < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml < nl > index 47788a4 . . 431df18 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml < nl > @ @ - 22 , 6 + 22 , 7 @ @ < nl > < nl > < string name = " toast _ no _ sdcard " > Н е т SD - к а р т ы < / string > < nl > < string name = " toast _ phone _ copied " > Т е л е ф о н с к о п и р о в а н в б у ф е р о б м е н а < / string > < nl > + < string name = " toast _ email _ copied " > Email с к о п и р о в а н в б у ф е р о б м е н а < / string > < nl > < string name = " toast _ messages _ copied " > С о о б щ е н и я с к о п и р о в а н ы в б у ф е р о б м е н а < / string > < nl > < string name = " toast _ unable _ kick " > Н е в о з м о ж н о и с к л ю ч и т ь у ч а с т н и к а и з г р у п п ы < / string > < nl > < string name = " toast _ unable _ add " > Н е в о з м о ж н о д о б а в и т ь п о л ь з о в а т е л я в г р у п п у < / string > < nl > @ @ - 157 , 6 + 158 , 7 @ @ < nl > < nl > < ! - - Profile controls - - > < nl > < string name = " phone _ menu _ call " > П о з в о н и т ь { 0 } < / string > < nl > + < string name = " email _ menu _ email " > О т п р а в и т ь п и с ь м о { 0 } < / string > < nl > < string name = " phone _ menu _ sms " > SMS { 0 } < / string > < nl > < string name = " phone _ menu _ share " > О т п р а в и т ь { 0 } < / string > < nl > < string name = " phone _ menu _ copy " > С к о п и р о в а т ь < / string > < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml < nl > index e2eb6a3 . . 5bee5e7 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml < nl > @ @ - 22 , 6 + 22 , 7 @ @ < nl > < nl > < string name = " toast _ no _ sdcard " > No SD Card < / string > < nl > < string name = " toast _ phone _ copied " > Phone number copied to pastebin < / string > < nl > + < string name = " toast _ email _ copied " > Email copied to pastebin < / string > < nl > < string name = " toast _ messages _ copied " > Messages copied to pastebin < / string > < nl > < string name = " toast _ unable _ kick " > Unable to remove member from group < / string > < nl > < string name = " toast _ unable _ add " > Unable to add user to group < / string > < nl > @ @ - 161 , 6 + 162 , 7 @ @ < nl > < nl > < ! - - Profile controls - - > < nl > < string name = " phone _ menu _ call " > Call { 0 } < / string > < nl > + < string name = " email _ menu _ email " > Email { 0 } < / string > < nl > < string name = " phone _ menu _ sms " > SMS { 0 } < / string > < nl > < string name = " phone _ menu _ share " > Share { 0 } < / string > < nl > < string name = " phone _ menu _ copy " > Copy < / string >

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 index 9f8e24e . . d0a89e7 100644 
 - - - a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 + + + b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 @ @ - 34 , 10 + 34 , 12 @ @ public class Application extends ActorSDKApplication { 
 ActorSDK . sharedActor ( ) . setHomePage ( " http : / / www . foo . com " ) ; 
 ActorSDK . sharedActor ( ) . setInviteUrl ( " http : / / www . foo . com " ) ; 
 
 + 
 / / ActorSDK . sharedActor ( ) . setEndpoints ( new String [ ] { " tcp : / / 192 . 168 . 1 . 184 : 9070 " } ) ; 
 
 ActorStyle style = ActorSDK . sharedActor ( ) . style ; 
 style . setMainColor ( Color . parseColor ( " # 529a88 " ) ) ; 
 + / / style . setAvatarBackgroundResource ( R . drawable . img _ profile _ avatar _ default ) ; 
 AbsContent . registerConverter ( new ContentConverter ( ) { 
 @ Override 
 public AbsContent convert ( AbsContentContainer container ) { 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java 
 index fe3c50f . . 8c554aa 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java 
 @ @ - 16 , 6 + 16 , 7 @ @ public class ActorStyle { 
 private int settingsCategoryTextColor = 0 ; 
 private int recordIconTintColor = 0 ; 
 private int avatarBackgroundColor = 0 ; 
 + private int avatarBackgroundResource = 0 ; 
 private int actionShareColor = 0 ; 
 
 / / Root colors 
 @ @ - 196 , 6 + 197 , 14 @ @ public class ActorStyle { 
 } 
 } 
 
 + public void setAvatarBackgroundResource ( int avatarBackgroundResource ) { 
 + this . avatarBackgroundResource = avatarBackgroundResource ; 
 + } 
 + 
 + public int getAvatarBackgroundResourse ( ) { 
 + return avatarBackgroundResource ; 
 + } 
 + 
 public void setAvatarBackgroundColor ( int avatarBackgroundColor ) { 
 this . avatarBackgroundColor = avatarBackgroundColor ; 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / group / GroupInfoFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / group / GroupInfoFragment . java 
 index 83c474e . . 85047be 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / group / GroupInfoFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / group / GroupInfoFragment . java 
 @ @ - 87 , 7 + 87 , 8 @ @ public class GroupInfoFragment extends BaseFragment { 
 View res = inflater . inflate ( R . layout . fragment _ group , container , false ) ; 
 
 notMemberView = res . findViewById ( R . id . notMember ) ; 
 - ( ( TextView ) notMemberView . findViewById ( R . id . not _ member _ text ) ) . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextPrimaryColor ( ) ) ; 
 + ActorStyle style = ActorSDK . sharedActor ( ) . style ; 
 + ( ( TextView ) notMemberView . findViewById ( R . id . not _ member _ text ) ) . setTextColor ( style . getTextPrimaryColor ( ) ) ; 
 bind ( groupInfo . isMember ( ) , new ValueChangedListener < Boolean > ( ) { 
 @ Override 
 public void onChanged ( Boolean val , Value < Boolean > Value ) { 
 @ @ - 97 , 15 + 98 , 19 @ @ public class GroupInfoFragment extends BaseFragment { 
 } ) ; 
 
 listView = ( ListView ) res . findViewById ( R . id . groupList ) ; 
 - listView . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getMainBackgroundColor ( ) ) ; 
 + listView . setBackgroundColor ( style . getMainBackgroundColor ( ) ) ; 
 
 final View header = inflater . inflate ( R . layout . fragment _ group _ header , listView , false ) ; 
 - header . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getMainBackgroundColor ( ) ) ; 
 + header . setBackgroundColor ( style . getMainBackgroundColor ( ) ) ; 
 
 / / Avatar 
 avatarView = ( CoverAvatarView ) header . findViewById ( R . id . avatar ) ; 
 ImageView avatarBkgrnd = ( ImageView ) header . findViewById ( R . id . avatar _ bgrnd ) ; 
 - avatarBkgrnd . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getAvatarBackgroundColor ( ) ) ; 
 + if ( style . getAvatarBackgroundResourse ( ) ! = 0 ) { 
 + avatarBkgrnd . setImageResource ( style . getAvatarBackgroundResourse ( ) ) ; 
 + } else { 
 + avatarBkgrnd . setBackgroundColor ( style . getAvatarBackgroundColor ( ) ) ; 
 + } 
 avatarView . setBkgrnd ( avatarBkgrnd ) ; 
 bind ( avatarView , groupInfo . getAvatar ( ) ) ; 
 avatarView . setOnClickListener ( new View . OnClickListener ( ) { 
 @ @ - 115 , 7 + 120 , 6 @ @ public class GroupInfoFragment extends BaseFragment { 
 } 
 } ) ; 
 
 - ActorStyle style = ActorSDK . sharedActor ( ) . style ; 
 / / Title 
 TextView title = ( TextView ) header . findViewById ( R . id . title ) ; 
 title . setTextColor ( style . getProfileTitleColor ( ) ) ; 
 @ @ - 142 , 11 + 146 , 11 @ @ public class GroupInfoFragment extends BaseFragment { 
 theme = new String [ 1 ] ; 
 about = new String [ 1 ] ; 
 TextView themeTV = ( TextView ) header . findViewById ( R . id . theme ) ; 
 - themeTV . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextPrimaryColor ( ) ) ; 
 - ( ( TextView ) header . findViewById ( R . id . group _ theme _ hint ) ) . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextSecondaryColor ( ) ) ; 
 + themeTV . setTextColor ( style . getTextPrimaryColor ( ) ) ; 
 + ( ( TextView ) header . findViewById ( R . id . group _ theme _ hint ) ) . setTextColor ( style . getTextSecondaryColor ( ) ) ; 
 TextView aboutTV = ( TextView ) header . findViewById ( R . id . about ) ; 
 - aboutTV . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextPrimaryColor ( ) ) ; 
 - ( ( TextView ) header . findViewById ( R . id . about _ hint ) ) . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextSecondaryColor ( ) ) ; 
 + aboutTV . setTextColor ( style . getTextPrimaryColor ( ) ) ; 
 + ( ( TextView ) header . findViewById ( R . id . about _ hint ) ) . setTextColor ( style . getTextSecondaryColor ( ) ) ; 
 final View descriptionContainer = header . findViewById ( R . id . descriptionContainer ) ; 
 final TextView themeHeader = ( TextView ) header . findViewById ( R . id . theme _ header ) ; 
 themeHeader . setTextColor ( style . getProfileSubtitleColor ( ) ) ; 
 @ @ - 219 , 17 + 223 , 17 @ @ public class GroupInfoFragment extends BaseFragment { 
 getString ( R . string . group _ members _ count ) 
 . replace ( " { 0 } " , groupInfo . getMembersCount ( ) + " " ) 
 . replace ( " { 1 } " , " 300 " ) ) ; 
 - memberCount . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextHintColor ( ) ) ; 
 + memberCount . setTextColor ( style . getTextHintColor ( ) ) ; 
 listView . addHeaderView ( header , null , false ) ; 
 
 View add = inflater . inflate ( R . layout . fragment _ group _ add , listView , false ) ; 
 - add . findViewById ( R . id . bottom _ divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getBackyardBackgroundColor ( ) ) ; 
 + add . findViewById ( R . id . bottom _ divider ) . setBackgroundColor ( style . getBackyardBackgroundColor ( ) ) ; 
 TextView name = ( TextView ) add . findViewById ( R . id . name ) ; 
 - name . setTextColor ( ActorSDK . sharedActor ( ) . style . getActionAddContactColor ( ) ) ; 
 + name . setTextColor ( style . getActionAddContactColor ( ) ) ; 
 name . setTypeface ( Fonts . medium ( ) ) ; 
 TintImageView addIcon = ( TintImageView ) add . findViewById ( R . id . add _ icon ) ; 
 - addIcon . setTint ( ActorSDK . sharedActor ( ) . style . getGroupActionAddIconColor ( ) ) ; 
 - addIcon . setTint ( ActorSDK . sharedActor ( ) . style . getActionAddContactColor ( ) ) ; 
 + addIcon . setTint ( style . getGroupActionAddIconColor ( ) ) ; 
 + addIcon . setTint ( style . getActionAddContactColor ( ) ) ; 
 
 add . findViewById ( R . id . addUser ) . setOnClickListener ( new View . OnClickListener ( ) { 
 @ Override 
 @ @ - 355 , 33 + 359 , 33 @ @ public class GroupInfoFragment extends BaseFragment { 
 } 
 } ) ; 
 
 - res . findViewById ( R . id . after _ about _ divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getBackyardBackgroundColor ( ) ) ; 
 - res . findViewById ( R . id . after _ settings _ divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getBackyardBackgroundColor ( ) ) ; 
 - res . findViewById ( R . id . bottom _ divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getBackyardBackgroundColor ( ) ) ; 
 + res . findViewById ( R . id . after _ about _ divider ) . setBackgroundColor ( style . getBackyardBackgroundColor ( ) ) ; 
 + res . findViewById ( R . id . after _ settings _ divider ) . setBackgroundColor ( style . getBackyardBackgroundColor ( ) ) ; 
 + res . findViewById ( R . id . bottom _ divider ) . setBackgroundColor ( style . getBackyardBackgroundColor ( ) ) ; 
 
 
 TextView settingsHeaderText = ( TextView ) res . findViewById ( R . id . settings _ header _ text ) ; 
 - settingsHeaderText . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; 
 + settingsHeaderText . setTextColor ( style . getSettingsCategoryTextColor ( ) ) ; 
 
 TintImageView notificationSettingIcon = ( TintImageView ) res . findViewById ( R . id . settings _ notification _ icon ) ; 
 notificationSettingIcon . setTint ( style . getSettingsIconColor ( ) ) ; 
 - ( ( TextView ) res . findViewById ( R . id . settings _ notifications _ title ) ) . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextPrimaryColor ( ) ) ; 
 + ( ( TextView ) res . findViewById ( R . id . settings _ notifications _ title ) ) . setTextColor ( style . getTextPrimaryColor ( ) ) ; 
 
 TintImageView shareMediaIcon = ( TintImageView ) res . findViewById ( R . id . share _ media _ icon ) ; 
 shareMediaIcon . setTint ( style . getSettingsIconColor ( ) ) ; 
 - ( ( TextView ) res . findViewById ( R . id . settings _ media _ title ) ) . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextPrimaryColor ( ) ) ; 
 - ( ( TextView ) res . findViewById ( R . id . mediaCount ) ) . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextHintColor ( ) ) ; 
 + ( ( TextView ) res . findViewById ( R . id . settings _ media _ title ) ) . setTextColor ( style . getTextPrimaryColor ( ) ) ; 
 + ( ( TextView ) res . findViewById ( R . id . mediaCount ) ) . setTextColor ( style . getTextHintColor ( ) ) ; 
 
 TintImageView shareDocsIcon = ( TintImageView ) res . findViewById ( R . id . share _ docs _ icon ) ; 
 shareDocsIcon . setTint ( style . getSettingsIconColor ( ) ) ; 
 - ( ( TextView ) res . findViewById ( R . id . share _ docs _ title ) ) . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextPrimaryColor ( ) ) ; 
 - ( ( TextView ) res . findViewById ( R . id . docCount ) ) . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextHintColor ( ) ) ; 
 + ( ( TextView ) res . findViewById ( R . id . share _ docs _ title ) ) . setTextColor ( style . getTextPrimaryColor ( ) ) ; 
 + ( ( TextView ) res . findViewById ( R . id . docCount ) ) . setTextColor ( style . getTextHintColor ( ) ) ; 
 
 TextView sharedHeaderText = ( TextView ) res . findViewById ( R . id . shared _ header _ text ) ; 
 - sharedHeaderText . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; 
 + sharedHeaderText . setTextColor ( style . getSettingsCategoryTextColor ( ) ) ; 
 
 TextView membersHeaderText = ( TextView ) res . findViewById ( R . id . membersTitle ) ; 
 - membersHeaderText . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; 
 + membersHeaderText . setTextColor ( style . getSettingsCategoryTextColor ( ) ) ; 
 
 return res ; 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / profile / ProfileFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / profile / ProfileFragment . java 
 index f6674b1 . . 1f1fbbf 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / profile / ProfileFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / profile / ProfileFragment . java 
 @ @ - 95 , 7 + 95 , 7 @ @ public class ProfileFragment extends BaseFragment { 
 boolean aboutVivisbe = false ; 
 
 final FrameLayout about = ( FrameLayout ) res . findViewById ( R . id . about ) ; 
 - about . findViewById ( R . id . divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; 
 + about . findViewById ( R . id . divider ) . setBackgroundColor ( style . getDividerColor ( ) ) ; 
 TextView aboutTitle = ( TextView ) about . findViewById ( R . id . title ) ; 
 aboutTitle . setTextColor ( style . getTextSecondaryColor ( ) ) ; 
 aboutTitle . setMaxLines ( 2 ) ; 
 @ @ - 137 , 7 + 137 , 7 @ @ public class ProfileFragment extends BaseFragment { 
 nickIcon . setResource ( R . drawable . ic _ star _ white _ 36dp ) ; 
 String value = " @ " . concat ( nick ) ; 
 String title = getString ( R . string . nickname ) ; 
 - recordView . findViewById ( R . id . divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; 
 + recordView . findViewById ( R . id . divider ) . setBackgroundColor ( style . getDividerColor ( ) ) ; 
 ( ( TextView ) recordView . findViewById ( R . id . value ) ) . setText ( value ) ; 
 ( ( TextView ) recordView . findViewById ( R . id . title ) ) . setText ( title ) ; 
 nickContainer . addView ( recordView , new LinearLayout . LayoutParams ( ViewGroup . LayoutParams . MATCH _ PARENT , 
 @ @ - 171 , 7 + 171 , 7 @ @ public class ProfileFragment extends BaseFragment { 
 phoneIcon . setVisibility ( View . INVISIBLE ) ; 
 } 
 View divider = recordView . findViewById ( R . id . divider ) ; 
 - divider . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; 
 + divider . setBackgroundColor ( style . getDividerColor ( ) ) ; 
 if ( i ! = phones . size ( ) - 1 ) { 
 divider . setVisibility ( View . VISIBLE ) ; 
 } else { 
 @ @ - 260 , 7 + 260 , 7 @ @ public class ProfileFragment extends BaseFragment { 
 final UserEmail record = emails . get ( i ) ; 
 View recordView = inflater . inflate ( R . layout . contact _ record , contactsContainer , false ) ; 
 TintImageView emailIcon = ( TintImageView ) recordView . findViewById ( R . id . recordIcon ) ; 
 - emailIcon . setTint ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; 
 + emailIcon . setTint ( style . getSettingsCategoryTextColor ( ) ) ; 
 if ( i = = 0 ) { 
 emailIcon . setResource ( R . drawable . ic _ email _ white _ 36dp ) ; 
 emailIcon . setVisibility ( View . VISIBLE ) ; 
 @ @ - 274 , 7 + 274 , 7 @ @ public class ProfileFragment extends BaseFragment { 
 } else { 
 divider . setVisibility ( View . GONE ) ; 
 } 
 - divider . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; 
 + divider . setBackgroundColor ( style . getDividerColor ( ) ) ; 
 
 final String email = record . getEmail ( ) ; 
 
 @ @ - 337 , 8 + 337 , 8 @ @ public class ProfileFragment extends BaseFragment { 
 
 
 FloatingActionButton fab = ( FloatingActionButton ) res . findViewById ( R . id . profileAction ) ; 
 - fab . setColorNormal ( ActorSDK . sharedActor ( ) . style . getFabColor ( ) ) ; 
 - fab . setColorPressed ( ActorSDK . sharedActor ( ) . style . getFabPressedColor ( ) ) ; 
 + fab . setColorNormal ( style . getFabColor ( ) ) ; 
 + fab . setColorPressed ( style . getFabPressedColor ( ) ) ; 
 
 fab . setVisibility ( View . VISIBLE ) ; 
 fab . setOnClickListener ( new View . OnClickListener ( ) { 
 @ @ - 350 , 7 + 350 , 11 @ @ public class ProfileFragment extends BaseFragment { 
 
 avatarView = ( CoverAvatarView ) res . findViewById ( R . id . avatar ) ; 
 ImageView avatarBkgrnd = ( ImageView ) res . findViewById ( R . id . avatar _ bgrnd ) ; 
 - avatarBkgrnd . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getAvatarBackgroundColor ( ) ) ; 
 + if ( style . getAvatarBackgroundResourse ( ) ! = 0 ) { 
 + avatarBkgrnd . setImageResource ( style . getAvatarBackgroundResourse ( ) ) ; 
 + } else { 
 + avatarBkgrnd . setBackgroundColor ( style . getAvatarBackgroundColor ( ) ) ; 
 + } 
 avatarView . setBkgrnd ( avatarBkgrnd ) ; 
 
 bind ( avatarView , user . getAvatar ( ) ) ; 
 @ @ - 394 , 10 + 398 , 10 @ @ public class ProfileFragment extends BaseFragment { 
 } ) ; 
 
 TextView settingsHeaderText = ( TextView ) res . findViewById ( R . id . settings _ header _ text ) ; 
 - settingsHeaderText . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsTitleColor ( ) ) ; 
 + settingsHeaderText . setTextColor ( style . getSettingsTitleColor ( ) ) ; 
 
 TextView sharedHeaderText = ( TextView ) res . findViewById ( R . id . shared _ header _ text ) ; 
 - sharedHeaderText . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsTitleColor ( ) ) ; 
 + sharedHeaderText . setTextColor ( style . getSettingsTitleColor ( ) ) ; 
 
 TintImageView shareMediaIcon = ( TintImageView ) res . findViewById ( R . id . share _ media _ icon ) ; 
 shareMediaIcon . setTint ( style . getSettingsIconColor ( ) ) ; 
 @ @ - 408 , 12 + 412 , 12 @ @ public class ProfileFragment extends BaseFragment { 
 TintImageView notificationsSettingsIcon = ( TintImageView ) res . findViewById ( R . id . settings _ notification _ icon ) ; 
 notificationsSettingsIcon . setTint ( style . getSettingsIconColor ( ) ) ; 
 
 - res . findViewById ( R . id . phoneDivider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getBackyardBackgroundColor ( ) ) ; 
 - res . findViewById ( R . id . after _ shared _ divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getBackyardBackgroundColor ( ) ) ; 
 - res . findViewById ( R . id . bottom _ divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getBackyardBackgroundColor ( ) ) ; 
 + res . findViewById ( R . id . phoneDivider ) . setBackgroundColor ( style . getBackyardBackgroundColor ( ) ) ; 
 + res . findViewById ( R . id . after _ shared _ divider ) . setBackgroundColor ( style . getBackyardBackgroundColor ( ) ) ; 
 + res . findViewById ( R . id . bottom _ divider ) . setBackgroundColor ( style . getBackyardBackgroundColor ( ) ) ; 
 
 final ScrollView scrollView = ( ( ScrollView ) res . findViewById ( R . id . scrollContainer ) ) ; 
 - scrollView . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getBackyardBackgroundColor ( ) ) ; 
 + scrollView . setBackgroundColor ( style . getBackyardBackgroundColor ( ) ) ; 
 scrollView . getViewTreeObserver ( ) . addOnScrollChangedListener ( new ViewTreeObserver . OnScrollChangedListener ( ) { 
 @ Override 
 public void onScrollChanged ( ) { 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java 
 index ece55ab . . e9da951 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java 
 @ @ - 106 , 9 + 106 , 9 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements 
 @ Override 
 public void onChanged ( final String val , Value < String > Value ) { 
 final View recordView = inflater . inflate ( R . layout . contact _ record , nickContainer , false ) ; 
 - recordView . findViewById ( R . id . divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; 
 + recordView . findViewById ( R . id . divider ) . setBackgroundColor ( style . getDividerColor ( ) ) ; 
 TintImageView nickIcon = ( TintImageView ) recordView . findViewById ( R . id . recordIcon ) ; 
 - nickIcon . setTint ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; 
 + nickIcon . setTint ( style . getSettingsCategoryTextColor ( ) ) ; 
 nickIcon . setResource ( R . drawable . ic _ star _ white _ 36dp ) ; 
 
 String value = ( val ! = null & & ! val . isEmpty ( ) ) ? val : getString ( R . string . nickname _ empty ) ; 
 @ @ - 135 , 14 + 135 , 14 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements 
 
 final TextView aboutTitle = ( TextView ) about . findViewById ( R . id . value ) ; 
 TintImageView aboutIcon = ( TintImageView ) about . findViewById ( R . id . recordIcon ) ; 
 - aboutIcon . setTint ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; 
 + aboutIcon . setTint ( style . getSettingsCategoryTextColor ( ) ) ; 
 aboutIcon . setResource ( R . drawable . ic _ editor _ format _ quote _ 36dp ) ; 
 TextView aboutValue = ( TextView ) about . findViewById ( R . id . title ) ; 
 aboutTitle . setTextColor ( style . getTextPrimaryColor ( ) ) ; 
 aboutValue . setTextColor ( style . getTextSecondaryColor ( ) ) ; 
 aboutValue . setText ( getString ( R . string . about _ user _ me ) ) ; 
 aboutTitle . setEllipsize ( TextUtils . TruncateAt . END ) ; 
 - about . findViewById ( R . id . divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; 
 + about . findViewById ( R . id . divider ) . setBackgroundColor ( style . getDividerColor ( ) ) ; 
 about . setOnClickListener ( new View . OnClickListener ( ) { 
 @ Override 
 public void onClick ( View v ) { 
 @ @ - 174 , 7 + 174 , 7 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements 
 final UserPhone record = val . get ( i ) ; 
 View recordView = inflater . inflate ( R . layout . contact _ record , contactsContainer , false ) ; 
 TintImageView tintImageView = ( TintImageView ) recordView . findViewById ( R . id . recordIcon ) ; 
 - tintImageView . setTint ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; 
 + tintImageView . setTint ( style . getSettingsCategoryTextColor ( ) ) ; 
 if ( i = = 0 ) { 
 tintImageView . setResource ( R . drawable . ic _ call _ white _ 36dp ) ; 
 tintImageView . setVisibility ( View . VISIBLE ) ; 
 @ @ - 188 , 7 + 188 , 7 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements 
 } else { 
 divider . setVisibility ( View . VISIBLE ) ; 
 } 
 - divider . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; 
 + divider . setBackgroundColor ( style . getDividerColor ( ) ) ; 
 
 String _ phoneNumber ; 
 try { 
 @ @ - 273 , 7 + 273 , 7 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements 
 final UserEmail record = val . get ( i ) ; 
 View recordView = inflater . inflate ( R . layout . contact _ record , contactsContainer , false ) ; 
 TintImageView tintImageView = ( TintImageView ) recordView . findViewById ( R . id . recordIcon ) ; 
 - tintImageView . setTint ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; 
 + tintImageView . setTint ( style . getSettingsCategoryTextColor ( ) ) ; 
 if ( i = = 0 ) { 
 tintImageView . setResource ( R . drawable . ic _ email _ white _ 36dp ) ; 
 tintImageView . setVisibility ( View . VISIBLE ) ; 
 @ @ - 287 , 7 + 287 , 7 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements 
 } else { 
 divider . setVisibility ( View . GONE ) ; 
 } 
 - divider . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; 
 + divider . setBackgroundColor ( style . getDividerColor ( ) ) ; 
 
 final String email = record . getEmail ( ) ; 
 
 @ @ - 401 , 7 + 401 , 7 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements 
 } ) ; 
 
 TextView twitterTitle = ( TextView ) view . findViewById ( R . id . settings _ twitter ) ; 
 - twitterTitle . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsTitleColor ( ) ) ; 
 + twitterTitle . setTextColor ( style . getSettingsTitleColor ( ) ) ; 
 
 TintImageView twitterIcon = ( TintImageView ) view . findViewById ( R . id . settings _ twitter _ icon ) ; 
 twitterIcon . setTint ( style . getSettingsIconColor ( ) ) ; 
 @ @ - 422 , 7 + 422 , 7 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements 
 } ) ; 
 
 TextView homePageTitle = ( TextView ) view . findViewById ( R . id . settings _ home _ page ) ; 
 - homePageTitle . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsTitleColor ( ) ) ; 
 + homePageTitle . setTextColor ( style . getSettingsTitleColor ( ) ) ; 
 
 TintImageView homePageIcon = ( TintImageView ) view . findViewById ( R . id . settings _ home _ page _ icon ) ; 
 homePageIcon . setTint ( style . getSettingsIconColor ( ) ) ; 
 @ @ - 430 , 28 + 430 , 28 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements 
 
 
 TextView settingsHeaderText = ( TextView ) view . findViewById ( R . id . settings _ header _ text ) ; 
 - settingsHeaderText . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; 
 + settingsHeaderText . setTextColor ( style . getSettingsCategoryTextColor ( ) ) ; 
 
 TextView settingsNotificationsTitle = ( TextView ) view . findViewById ( R . id . settings _ notifications _ title ) ; 
 - settingsNotificationsTitle . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsTitleColor ( ) ) ; 
 + settingsNotificationsTitle . setTextColor ( style . getSettingsTitleColor ( ) ) ; 
 
 TextView settingsChatTitle = ( TextView ) view . findViewById ( R . id . settings _ chat _ title ) ; 
 - settingsChatTitle . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsTitleColor ( ) ) ; 
 + settingsChatTitle . setTextColor ( style . getSettingsTitleColor ( ) ) ; 
 
 TextView securityTitle = ( TextView ) view . findViewById ( R . id . settings _ security _ title ) ; 
 - securityTitle . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsTitleColor ( ) ) ; 
 + securityTitle . setTextColor ( style . getSettingsTitleColor ( ) ) ; 
 
 TintImageView securityIcon = ( TintImageView ) view . findViewById ( R . id . settings _ security _ icon ) ; 
 securityIcon . setTint ( style . getSettingsIconColor ( ) ) ; 
 
 TextView helpTitle = ( TextView ) view . findViewById ( R . id . settings _ help _ title ) ; 
 - helpTitle . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsTitleColor ( ) ) ; 
 + helpTitle . setTextColor ( style . getSettingsTitleColor ( ) ) ; 
 
 TintImageView helpIcon = ( TintImageView ) view . findViewById ( R . id . settings _ help _ icon ) ; 
 helpIcon . setTint ( style . getSettingsIconColor ( ) ) ; 
 
 TextView askTitle = ( TextView ) view . findViewById ( R . id . settings _ ask _ title ) ; 
 - askTitle . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsTitleColor ( ) ) ; 
 + askTitle . setTextColor ( style . getSettingsTitleColor ( ) ) ; 
 
 TintImageView askIcon = ( TintImageView ) view . findViewById ( R . id . settings _ ask _ icon ) ; 
 askIcon . setTint ( style . getSettingsIconColor ( ) ) ; 
 @ @ - 462 , 15 + 462 , 15 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements 
 TintImageView chatSettingsIcon = ( TintImageView ) view . findViewById ( R . id . settings _ chat _ icon ) ; 
 chatSettingsIcon . setTint ( style . getSettingsIconColor ( ) ) ; 
 
 - view . findViewById ( R . id . after _ phone _ divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getBackyardBackgroundColor ( ) ) ; 
 - view . findViewById ( R . id . bottom _ divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getBackyardBackgroundColor ( ) ) ; 
 + view . findViewById ( R . id . after _ phone _ divider ) . setBackgroundColor ( style . getBackyardBackgroundColor ( ) ) ; 
 + view . findViewById ( R . id . bottom _ divider ) . setBackgroundColor ( style . getBackyardBackgroundColor ( ) ) ; 
 
 - view . findViewById ( R . id . divider1 ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; 
 - view . findViewById ( R . id . divider2 ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; 
 - view . findViewById ( R . id . divider3 ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; 
 - view . findViewById ( R . id . divider4 ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; 
 - view . findViewById ( R . id . divider5 ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; 
 - view . findViewById ( R . id . divider6 ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; 
 + view . findViewById ( R . id . divider1 ) . setBackgroundColor ( style . getDividerColor ( ) ) ; 
 + view . findViewById ( R . id . divider2 ) . setBackgroundColor ( style . getDividerColor ( ) ) ; 
 + view . findViewById ( R . id . divider3 ) . setBackgroundColor ( style . getDividerColor ( ) ) ; 
 + view . findViewById ( R . id . divider4 ) . setBackgroundColor ( style . getDividerColor ( ) ) ; 
 + view . findViewById ( R . id . divider5 ) . setBackgroundColor ( style . getDividerColor ( ) ) ; 
 + view . findViewById ( R . id . divider6 ) . setBackgroundColor ( style . getDividerColor ( ) ) ; 
 
 if ( getBeforeNickSettingsView ( ) ! = null ) { 
 FrameLayout beforeNick = ( FrameLayout ) view . findViewById ( R . id . before _ nick _ container ) ; 
 @ @ - 501 , 7 + 501 , 11 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements 
 
 avatarView = ( CoverAvatarView ) view . findViewById ( R . id . avatar ) ; 
 ImageView avatarBkgrnd = ( ImageView ) view . findViewById ( R . id . avatar _ bgrnd ) ; 
 - avatarBkgrnd . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getAvatarBackgroundColor ( ) ) ; 
 + if ( style . getAvatarBackgroundResourse ( ) ! = 0 ) { 
 + avatarBkgrnd . setImageResource ( style . getAvatarBackgroundResourse ( ) ) ; 
 + } else { 
 + avatarBkgrnd . setBackgroundColor ( style . getAvatarBackgroundColor ( ) ) ; 
 + } 
 avatarView . setBkgrnd ( avatarBkgrnd ) ; 
 
 bind ( avatarView , users ( ) . get ( myUid ( ) ) . getAvatar ( ) ) ; 
 @ @ - 562 , 7 + 566 , 7 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements 
 
 
 final ScrollView scrollView = ( ( ScrollView ) view . findViewById ( R . id . scrollContainer ) ) ; 
 - scrollView . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getMainBackgroundColor ( ) ) ; 
 + scrollView . setBackgroundColor ( style . getMainBackgroundColor ( ) ) ; 
 scrollView . getViewTreeObserver ( ) . addOnScrollChangedListener ( new ViewTreeObserver . OnScrollChangedListener ( ) { 
 @ Override 
 public void onScrollChanged ( ) {

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / profile / ProfileFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / profile / ProfileFragment . java 
 index 8eba614 . . 44575fa 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / profile / ProfileFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / profile / ProfileFragment . java 
 @ @ - 32 , 6 + 32 , 10 @ @ import com . google . i18n . phonenumbers . Phonenumber ; 
 
 import java . util . ArrayList ; 
 
 + import im . actor . core . viewmodel . UserEmail ; 
 + import im . actor . core . viewmodel . generics . ArrayListUserEmail ; 
 + import im . actor . runtime . mvvm . Value ; 
 + import im . actor . runtime . mvvm . ValueChangedListener ; 
 import im . actor . sdk . ActorSDK ; 
 import im . actor . sdk . ActorStyle ; 
 import im . actor . sdk . R ; 
 @ @ - 55 , 6 + 59 , 8 @ @ public class ProfileFragment extends BaseFragment { 
 private static final String EXTRA _ UID = " uid " ; 
 private int baseColor ; 
 private CoverAvatarView avatarView ; 
 + private boolean noEmails = false ; 
 + private boolean noPhones = false ; 
 
 public ProfileFragment ( ) { 
 } 
 @ @ - 96 , 10 + 102 , 11 @ @ public class ProfileFragment extends BaseFragment { 
 aboutTitle . setEllipsize ( TextUtils . TruncateAt . END ) ; 
 TextView aboutValue = ( TextView ) about . findViewById ( R . id . value ) ; 
 aboutValue . setTextColor ( style . getTextPrimaryColor ( ) ) ; 
 - ( ( TintImageView ) about . findViewById ( R . id . recordIcon ) ) . setTint ( ActorSDK . sharedActor ( ) . style . getProfilleIconColor ( ) ) ; 
 + TintImageView tintImageView = ( TintImageView ) about . findViewById ( R . id . recordIcon ) ; 
 + tintImageView . setTint ( style . getRecordIconTintColor ( ) ) ; 
 + tintImageView . setResource ( R . drawable . ic _ editor _ format _ quote _ 36dp ) ; 
 if ( aboutText ! = null & & ! aboutText . isEmpty ( ) ) { 
 aboutVivisbe = true ; 
 - about . findViewById ( R . id . recordIcon ) . setVisibility ( View . INVISIBLE ) ; 
 ( ( TextView ) about . findViewById ( R . id . value ) ) . setText ( getString ( R . string . about _ user ) ) ; 
 about . setOnClickListener ( new View . OnClickListener ( ) { 
 @ Override 
 @ @ - 125 , 8 + 132 , 9 @ @ public class ProfileFragment extends BaseFragment { 
 nickValue . setTextColor ( style . getTextPrimaryColor ( ) ) ; 
 TextView nickTitle = ( TextView ) recordView . findViewById ( R . id . title ) ; 
 nickTitle . setTextColor ( style . getTextSecondaryColor ( ) ) ; 
 - TintImageView tintImageView = ( TintImageView ) recordView . findViewById ( R . id . recordIcon ) ; 
 - tintImageView . setVisibility ( View . INVISIBLE ) ; 
 + TintImageView nickIcon = ( TintImageView ) recordView . findViewById ( R . id . recordIcon ) ; 
 + nickIcon . setTint ( style . getRecordIconTintColor ( ) ) ; 
 + nickIcon . setResource ( R . drawable . ic _ star _ white _ 36dp ) ; 
 String value = " @ " . concat ( nick ) ; 
 String title = getString ( R . string . nickname ) ; 
 recordView . findViewById ( R . id . divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; 
 @ @ - 138 , 33 + 146 , 29 @ @ public class ProfileFragment extends BaseFragment { 
 } 
 
 LinearLayout contactsContainer = ( LinearLayout ) res . findViewById ( R . id . phoneContainer ) ; 
 - View abovephonesDivider = null ; 
 + View aboveContactsDivider = null ; 
 if ( aboutVivisbe ) { 
 - abovephonesDivider = about . findViewById ( R . id . divider ) ; 
 + aboveContactsDivider = about . findViewById ( R . id . divider ) ; 
 } else if ( nickVisible ) { 
 - abovephonesDivider = nickContainer . findViewById ( R . id . divider ) ; 
 + aboveContactsDivider = nickContainer . findViewById ( R . id . divider ) ; 
 
 } 
 + 
 if ( user . getPhones ( ) . get ( ) . size ( ) = = 0 ) { 
 - contactsContainer . setVisibility ( View . GONE ) ; 
 - if ( abovephonesDivider ! = null ) { 
 - abovephonesDivider . setVisibility ( View . GONE ) ; 
 - } else { 
 - res . findViewById ( R . id . phoneDivider ) . setVisibility ( View . GONE ) ; 
 - } 
 + noPhones = true ; 
 } else { 
 contactsContainer . setVisibility ( View . VISIBLE ) ; 
 ArrayList < UserPhone > phones = user . getPhones ( ) . get ( ) ; 
 for ( int i = 0 ; i < phones . size ( ) ; i + + ) { 
 final UserPhone record = phones . get ( i ) ; 
 View recordView = inflater . inflate ( R . layout . contact _ record , contactsContainer , false ) ; 
 - TintImageView tintImageView = ( TintImageView ) recordView . findViewById ( R . id . recordIcon ) ; 
 - tintImageView . setTint ( style . getRecordIconTintColor ( ) ) ; 
 + TintImageView phoneIcon = ( TintImageView ) recordView . findViewById ( R . id . recordIcon ) ; 
 + phoneIcon . setTint ( style . getRecordIconTintColor ( ) ) ; 
 if ( i = = 0 ) { 
 - tintImageView . setResource ( R . drawable . ic _ call _ white _ 36dp ) ; 
 - tintImageView . setVisibility ( View . VISIBLE ) ; 
 + phoneIcon . setResource ( R . drawable . ic _ call _ white _ 36dp ) ; 
 + phoneIcon . setVisibility ( View . VISIBLE ) ; 
 } else { 
 - tintImageView . setVisibility ( View . INVISIBLE ) ; 
 + phoneIcon . setVisibility ( View . INVISIBLE ) ; 
 } 
 View divider = recordView . findViewById ( R . id . divider ) ; 
 divider . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; 
 @ @ - 246 , 6 + 250 , 91 @ @ public class ProfileFragment extends BaseFragment { 
 } 
 } 
 
 + if ( user . getEmails ( ) . get ( ) . size ( ) = = 0 ) { 
 + noEmails = true ; 
 + } else { 
 + ArrayList < UserEmail > emails = user . getEmails ( ) . get ( ) ; 
 + 
 + contactsContainer . setVisibility ( View . VISIBLE ) ; 
 + for ( int i = 0 ; i < emails . size ( ) ; i + + ) { 
 + final UserEmail record = emails . get ( i ) ; 
 + View recordView = inflater . inflate ( R . layout . contact _ record , contactsContainer , false ) ; 
 + TintImageView emailIcon = ( TintImageView ) recordView . findViewById ( R . id . recordIcon ) ; 
 + emailIcon . setTint ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; 
 + if ( i = = 0 ) { 
 + emailIcon . setResource ( R . drawable . ic _ email _ white _ 36dp ) ; 
 + emailIcon . setVisibility ( View . VISIBLE ) ; 
 + } else { 
 + emailIcon . setVisibility ( View . INVISIBLE ) ; 
 + } 
 + 
 + View divider = recordView . findViewById ( R . id . divider ) ; 
 + if ( i ! = emails . size ( ) - 1 ) { 
 + divider . setVisibility ( View . VISIBLE ) ; 
 + } else { 
 + divider . setVisibility ( View . GONE ) ; 
 + } 
 + divider . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; 
 + 
 + final String email = record . getEmail ( ) ; 
 + 
 + TextView value = ( TextView ) recordView . findViewById ( R . id . value ) ; 
 + value . setTextColor ( style . getTextPrimaryColor ( ) ) ; 
 + value . setText ( email ) ; 
 + TextView title = ( TextView ) recordView . findViewById ( R . id . title ) ; 
 + title . setTextColor ( style . getTextSecondaryColor ( ) ) ; 
 + title . setText ( record . getTitle ( ) ) ; 
 + contactsContainer . addView ( recordView , new LinearLayout . LayoutParams ( ViewGroup . LayoutParams . MATCH _ PARENT , 
 + Screen . dp ( 72 ) ) ) ; 
 + 
 + recordView . setOnClickListener ( new View . OnClickListener ( ) { 
 + @ Override 
 + public void onClick ( View v ) { 
 + new AlertDialog . Builder ( getActivity ( ) ) 
 + . setItems ( new CharSequence [ ] { 
 + getString ( R . string . email _ menu _ email ) . replace ( " { 0 } " , email ) , 
 + getString ( R . string . phone _ menu _ copy ) 
 + } , new DialogInterface . OnClickListener ( ) { 
 + @ Override 
 + public void onClick ( DialogInterface dialog , int which ) { 
 + if ( which = = 0 ) { 
 + startActivity ( new Intent ( Intent . ACTION _ SENDTO , Uri . fromParts ( " mailto " , record . getEmail ( ) , null ) ) ) ; 
 + } else if ( which = = 1 ) { 
 + ClipboardManager clipboard = 
 + ( ClipboardManager ) getActivity ( ) 
 + . getSystemService ( Context . CLIPBOARD _ SERVICE ) ; 
 + ClipData clip = ClipData . newPlainText ( " Email " , email ) ; 
 + clipboard . setPrimaryClip ( clip ) ; 
 + Toast . makeText ( getActivity ( ) , R . string . toast _ email _ copied , Toast . LENGTH _ SHORT ) . show ( ) ; 
 + } 
 + } 
 + } ) 
 + . show ( ) 
 + . setCanceledOnTouchOutside ( true ) ; 
 + } 
 + } ) ; 
 + recordView . setOnLongClickListener ( new View . OnLongClickListener ( ) { 
 + @ Override 
 + public boolean onLongClick ( View v ) { 
 + ClipboardManager clipboard = ( ClipboardManager ) getActivity ( ) . getSystemService ( Context . CLIPBOARD _ SERVICE ) ; 
 + ClipData clip = ClipData . newPlainText ( " Email " , " + " + record . getEmail ( ) ) ; 
 + clipboard . setPrimaryClip ( clip ) ; 
 + Toast . makeText ( getActivity ( ) , R . string . toast _ email _ copied , Toast . LENGTH _ SHORT ) . show ( ) ; 
 + return true ; 
 + } 
 + } ) ; 
 + } 
 + } 
 + 
 + if ( noEmails & & noPhones ) { 
 + contactsContainer . setVisibility ( View . GONE ) ; 
 + if ( aboveContactsDivider ! = null ) { 
 + aboveContactsDivider . setVisibility ( View . GONE ) ; 
 + } else { 
 + res . findViewById ( R . id . phoneDivider ) . setVisibility ( View . GONE ) ; 
 + } 
 + } 
 + 
 
 FloatingActionButton fab = ( FloatingActionButton ) res . findViewById ( R . id . profileAction ) ; 
 fab . setColorNormal ( ActorSDK . sharedActor ( ) . style . getFabColor ( ) ) ; 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java 
 index c1a8f9b . . b9dc756 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java 
 @ @ - 32 , 8 + 32 , 10 @ @ import com . google . i18n . phonenumbers . PhoneNumberUtil ; 
 import com . google . i18n . phonenumbers . Phonenumber ; 
 
 import im . actor . core . viewmodel . CommandCallback ; 
 + import im . actor . core . viewmodel . UserEmail ; 
 import im . actor . core . viewmodel . UserPhone ; 
 import im . actor . core . viewmodel . UserVM ; 
 + import im . actor . core . viewmodel . generics . ArrayListUserEmail ; 
 import im . actor . core . viewmodel . generics . ArrayListUserPhone ; 
 import im . actor . sdk . ActorSDK ; 
 import im . actor . sdk . ActorStyle ; 
 @ @ - 60 , 6 + 62 , 8 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements 
 private CoverAvatarView avatarView ; 
 SharedPreferences shp ; 
 SharedPreferences . Editor ed ; 
 + private boolean noPhones = false ; 
 + private boolean noEmails = false ; 
 
 @ Override 
 public View onCreateView ( final LayoutInflater inflater , ViewGroup container , Bundle savedInstanceState ) { 
 @ @ - 101 , 8 + 105 , 10 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements 
 public void onChanged ( final String val , Value < String > Value ) { 
 final View recordView = inflater . inflate ( R . layout . contact _ record , nickContainer , false ) ; 
 recordView . findViewById ( R . id . divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; 
 - TintImageView tintImageView = ( TintImageView ) recordView . findViewById ( R . id . recordIcon ) ; 
 - tintImageView . setVisibility ( View . INVISIBLE ) ; 
 + TintImageView nickIcon = ( TintImageView ) recordView . findViewById ( R . id . recordIcon ) ; 
 + nickIcon . setTint ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; 
 + nickIcon . setResource ( R . drawable . ic _ star _ white _ 36dp ) ; 
 + 
 String value = ( val ! = null & & ! val . isEmpty ( ) ) ? val : getString ( R . string . nickname _ empty ) ; 
 String title = getString ( R . string . nickname ) ; 
 
 @ @ - 126 , 7 + 132 , 9 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements 
 } ) ; 
 
 final TextView aboutTitle = ( TextView ) about . findViewById ( R . id . value ) ; 
 - about . findViewById ( R . id . recordIcon ) . setVisibility ( View . INVISIBLE ) ; 
 + TintImageView aboutIcon = ( TintImageView ) about . findViewById ( R . id . recordIcon ) ; 
 + aboutIcon . setTint ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; 
 + aboutIcon . setResource ( R . drawable . ic _ editor _ format _ quote _ 36dp ) ; 
 TextView aboutValue = ( TextView ) about . findViewById ( R . id . title ) ; 
 aboutTitle . setTextColor ( style . getTextPrimaryColor ( ) ) ; 
 aboutValue . setTextColor ( style . getTextSecondaryColor ( ) ) ; 
 @ @ - 155 , 8 + 163 , 7 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements 
 @ Override 
 public void onChanged ( ArrayListUserPhone val , Value < ArrayListUserPhone > Value ) { 
 if ( val . size ( ) = = 0 ) { 
 - contactsContainer . setVisibility ( View . GONE ) ; 
 - about . findViewById ( R . id . divider ) . setVisibility ( View . INVISIBLE ) ; 
 + noPhones = true ; 
 } else { 
 contactsContainer . setVisibility ( View . VISIBLE ) ; 
 for ( int i = 0 ; i < val . size ( ) ; i + + ) { 
 @ @ - 172 , 10 + 179 , 10 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements 
 } 
 
 View divider = recordView . findViewById ( R . id . divider ) ; 
 - if ( i ! = val . size ( ) - 1 ) { 
 - divider . setVisibility ( View . VISIBLE ) ; 
 - } else { 
 + if ( i = = val . size ( ) - 1 & & ( userModel . getEmails ( ) . get ( ) = = null | | userModel . getEmails ( ) . get ( ) . isEmpty ( ) ) ) { 
 divider . setVisibility ( View . GONE ) ; 
 + } else { 
 + divider . setVisibility ( View . VISIBLE ) ; 
 } 
 divider . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; 
 
 @ @ - 251 , 6 + 258 , 90 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements 
 } 
 } ) ; 
 
 + bind ( userModel . getEmails ( ) , new ValueChangedListener < ArrayListUserEmail > ( ) { 
 + @ Override 
 + public void onChanged ( ArrayListUserEmail val , Value < ArrayListUserEmail > Value ) { 
 + if ( val . size ( ) = = 0 ) { 
 + noEmails = true ; 
 + } else { 
 + contactsContainer . setVisibility ( View . VISIBLE ) ; 
 + for ( int i = 0 ; i < val . size ( ) ; i + + ) { 
 + final UserEmail record = val . get ( i ) ; 
 + View recordView = inflater . inflate ( R . layout . contact _ record , contactsContainer , false ) ; 
 + TintImageView tintImageView = ( TintImageView ) recordView . findViewById ( R . id . recordIcon ) ; 
 + tintImageView . setTint ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; 
 + if ( i = = 0 ) { 
 + tintImageView . setResource ( R . drawable . ic _ email _ white _ 36dp ) ; 
 + tintImageView . setVisibility ( View . VISIBLE ) ; 
 + } else { 
 + tintImageView . setVisibility ( View . INVISIBLE ) ; 
 + } 
 + 
 + View divider = recordView . findViewById ( R . id . divider ) ; 
 + if ( i ! = val . size ( ) - 1 ) { 
 + divider . setVisibility ( View . VISIBLE ) ; 
 + } else { 
 + divider . setVisibility ( View . GONE ) ; 
 + } 
 + divider . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; 
 + 
 + final String email = record . getEmail ( ) ; 
 + 
 + TextView value = ( TextView ) recordView . findViewById ( R . id . value ) ; 
 + value . setTextColor ( style . getTextPrimaryColor ( ) ) ; 
 + value . setText ( email ) ; 
 + TextView title = ( TextView ) recordView . findViewById ( R . id . title ) ; 
 + title . setTextColor ( style . getTextSecondaryColor ( ) ) ; 
 + title . setText ( record . getTitle ( ) ) ; 
 + contactsContainer . addView ( recordView , new LinearLayout . LayoutParams ( ViewGroup . LayoutParams . MATCH _ PARENT , 
 + Screen . dp ( 72 ) ) ) ; 
 + 
 + recordView . setOnClickListener ( new View . OnClickListener ( ) { 
 + @ Override 
 + public void onClick ( View v ) { 
 + new AlertDialog . Builder ( getActivity ( ) ) 
 + . setItems ( new CharSequence [ ] { 
 + getString ( R . string . email _ menu _ email ) . replace ( " { 0 } " , email ) , 
 + getString ( R . string . phone _ menu _ copy ) 
 + } , new DialogInterface . OnClickListener ( ) { 
 + @ Override 
 + public void onClick ( DialogInterface dialog , int which ) { 
 + if ( which = = 0 ) { 
 + startActivity ( new Intent ( Intent . ACTION _ SENDTO , Uri . fromParts ( " mailto " , record . getEmail ( ) , null ) ) ) ; 
 + } else if ( which = = 1 ) { 
 + ClipboardManager clipboard = 
 + ( ClipboardManager ) getActivity ( ) 
 + . getSystemService ( Context . CLIPBOARD _ SERVICE ) ; 
 + ClipData clip = ClipData . newPlainText ( " Email " , email ) ; 
 + clipboard . setPrimaryClip ( clip ) ; 
 + Toast . makeText ( getActivity ( ) , R . string . toast _ email _ copied , Toast . LENGTH _ SHORT ) . show ( ) ; 
 + } 
 + } 
 + } ) 
 + . show ( ) 
 + . setCanceledOnTouchOutside ( true ) ; 
 + } 
 + } ) ; 
 + recordView . setOnLongClickListener ( new View . OnLongClickListener ( ) { 
 + @ Override 
 + public boolean onLongClick ( View v ) { 
 + ClipboardManager clipboard = ( ClipboardManager ) getActivity ( ) . getSystemService ( Context . CLIPBOARD _ SERVICE ) ; 
 + ClipData clip = ClipData . newPlainText ( " Email " , " + " + record . getEmail ( ) ) ; 
 + clipboard . setPrimaryClip ( clip ) ; 
 + Toast . makeText ( getActivity ( ) , R . string . toast _ email _ copied , Toast . LENGTH _ SHORT ) . show ( ) ; 
 + return true ; 
 + } 
 + } ) ; 
 + } 
 + } 
 + } 
 + } ) ; 
 + 
 + if ( noEmails & & noPhones ) { 
 + contactsContainer . setVisibility ( View . GONE ) ; 
 + about . findViewById ( R . id . divider ) . setVisibility ( View . INVISIBLE ) ; 
 + } 
 + 
 view . findViewById ( R . id . chatSettings ) . setOnClickListener ( new View . OnClickListener ( ) { 
 @ Override 
 public void onClick ( View v ) { 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml 
 index 47788a4 . . 431df18 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml 
 @ @ - 22 , 6 + 22 , 7 @ @ 
 
 < string name = " toast _ no _ sdcard " > Н е т SD - к а р т ы < / string > 
 < string name = " toast _ phone _ copied " > Т е л е ф о н с к о п и р о в а н в б у ф е р о б м е н а < / string > 
 + < string name = " toast _ email _ copied " > Email с к о п и р о в а н в б у ф е р о б м е н а < / string > 
 < string name = " toast _ messages _ copied " > С о о б щ е н и я с к о п и р о в а н ы в б у ф е р о б м е н а < / string > 
 < string name = " toast _ unable _ kick " > Н е в о з м о ж н о и с к л ю ч и т ь у ч а с т н и к а и з г р у п п ы < / string > 
 < string name = " toast _ unable _ add " > Н е в о з м о ж н о д о б а в и т ь п о л ь з о в а т е л я в г р у п п у < / string > 
 @ @ - 157 , 6 + 158 , 7 @ @ 
 
 < ! - - Profile controls - - > 
 < string name = " phone _ menu _ call " > П о з в о н и т ь { 0 } < / string > 
 + < string name = " email _ menu _ email " > О т п р а в и т ь п и с ь м о { 0 } < / string > 
 < string name = " phone _ menu _ sms " > SMS { 0 } < / string > 
 < string name = " phone _ menu _ share " > О т п р а в и т ь { 0 } < / string > 
 < string name = " phone _ menu _ copy " > С к о п и р о в а т ь < / string > 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml 
 index e2eb6a3 . . 5bee5e7 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml 
 @ @ - 22 , 6 + 22 , 7 @ @ 
 
 < string name = " toast _ no _ sdcard " > No SD Card < / string > 
 < string name = " toast _ phone _ copied " > Phone number copied to pastebin < / string > 
 + < string name = " toast _ email _ copied " > Email copied to pastebin < / string > 
 < string name = " toast _ messages _ copied " > Messages copied to pastebin < / string > 
 < string name = " toast _ unable _ kick " > Unable to remove member from group < / string > 
 < string name = " toast _ unable _ add " > Unable to add user to group < / string > 
 @ @ - 161 , 6 + 162 , 7 @ @ 
 
 < ! - - Profile controls - - > 
 < string name = " phone _ menu _ call " > Call { 0 } < / string > 
 + < string name = " email _ menu _ email " > Email { 0 } < / string > 
 < string name = " phone _ menu _ sms " > SMS { 0 } < / string > 
 < string name = " phone _ menu _ share " > Share { 0 } < / string > 
 < string name = " phone _ menu _ copy " > Copy < / string >
