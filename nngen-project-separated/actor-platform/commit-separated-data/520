BLEU SCORE: 0.26584835766658776

TEST MSG: chore ( android ) : save captured files to Actor images / video dirs
GENERATED MSG: fix ( android ) : save media folder name from sdk

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > index 7b9040d . . 4a17448 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > @ @ - 367 , 9 + 367 , 10 @ @ public class ChatActivity extends ActorEditTextActivity { < nl > Toast . makeText ( ChatActivity . this , R . string . toast _ no _ sdcard , Toast . LENGTH _ LONG ) . show ( ) ; < nl > } else { < nl > String externalPath = externalFile . getAbsolutePath ( ) ; < nl > - new File ( externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / capture / " ) . mkdirs ( ) ; < nl > + String exportPathBase = externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " images " + " / " ; < nl > + new File ( exportPathBase ) . mkdirs ( ) ; < nl > < nl > - pending _ fileName = externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / capture / capture _ " + Randoms . randomId ( ) + " . jpg " ; < nl > + pending _ fileName = exportPathBase + " capture _ " + Randoms . randomId ( ) + " . jpg " ; < nl > } < nl > if ( ContextCompat . checkSelfPermission ( ChatActivity . this , Manifest . permission . CAMERA ) ! = PackageManager . PERMISSION _ GRANTED ) { < nl > Log . d ( " Permissions " , " camera - no permission : c " ) ; < nl > @ @ - 387 , 9 + 388 , 10 @ @ public class ChatActivity extends ActorEditTextActivity { < nl > Toast . makeText ( ChatActivity . this , R . string . toast _ no _ sdcard , Toast . LENGTH _ LONG ) . show ( ) ; < nl > } else { < nl > String externalPath = externalFile . getAbsolutePath ( ) ; < nl > - new File ( externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / capture / " ) . mkdirs ( ) ; < nl > + String exportPathBase = externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " video " + " / " ; < nl > + new File ( exportPathBase ) . mkdirs ( ) ; < nl > < nl > - pending _ fileName = externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / capture / capture _ " + Randoms . randomId ( ) + " . mp4 " ; < nl > + pending _ fileName = exportPathBase + " capture _ " + Randoms . randomId ( ) + " . mp4 " ; < nl > < nl > Intent i = new Intent ( MediaStore . ACTION _ VIDEO _ CAPTURE ) < nl > . putExtra ( MediaStore . EXTRA _ OUTPUT , Uri . fromFile ( new File ( pending _ fileName ) ) ) ;
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > index 615b196 . . 885ab7a 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > @ @ - 342 , 9 + 342 , 9 @ @ public class ChatActivity extends ActorEditTextActivity { < nl > Toast . makeText ( ChatActivity . this , R . string . toast _ no _ sdcard , Toast . LENGTH _ LONG ) . show ( ) ; < nl > } else { < nl > String externalPath = externalFile . getAbsolutePath ( ) ; < nl > - new File ( externalPath + " / Actor / capture / " ) . mkdirs ( ) ; < nl > + new File ( externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / capture / " ) . mkdirs ( ) ; < nl > < nl > - pending _ fileName = externalPath + " / Actor / capture / capture _ " + Randoms . randomId ( ) + " . jpg " ; < nl > + pending _ fileName = externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / capture / capture _ " + Randoms . randomId ( ) + " . jpg " ; < nl > } < nl > if ( ContextCompat . checkSelfPermission ( ChatActivity . this , Manifest . permission . CAMERA ) ! = PackageManager . PERMISSION _ GRANTED ) { < nl > Log . d ( " Permissions " , " camera - no permission : c " ) ; < nl > @ @ - 362 , 9 + 362 , 9 @ @ public class ChatActivity extends ActorEditTextActivity { < nl > Toast . makeText ( ChatActivity . this , R . string . toast _ no _ sdcard , Toast . LENGTH _ LONG ) . show ( ) ; < nl > } else { < nl > String externalPath = externalFile . getAbsolutePath ( ) ; < nl > - new File ( externalPath + " / Actor / capture / " ) . mkdirs ( ) ; < nl > + new File ( externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / capture / " ) . mkdirs ( ) ; < nl > < nl > - pending _ fileName = externalPath + " / Actor / capture / capture _ " + Randoms . randomId ( ) + " . mp4 " ; < nl > + pending _ fileName = externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / capture / capture _ " + Randoms . randomId ( ) + " . mp4 " ; < nl > < nl > Intent i = new Intent ( MediaStore . ACTION _ VIDEO _ CAPTURE ) < nl > . putExtra ( MediaStore . EXTRA _ OUTPUT , Uri . fromFile ( new File ( pending _ fileName ) ) ) ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / preview / PictureActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / preview / PictureActivity . java < nl > index b1b37a5 . . 9ef0cc3 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / preview / PictureActivity . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / preview / PictureActivity . java < nl > @ @ - 30 , 6 + 30 , 7 @ @ import com . droidkit . progress . CircularView ; < nl > import java . io . File ; < nl > import java . io . IOException ; < nl > < nl > + import im . actor . sdk . ActorSDK ; < nl > import im . actor . sdk . R ; < nl > import im . actor . sdk . controllers . Intents ; < nl > import im . actor . sdk . controllers . activity . BaseActivity ; < nl > @ @ - 478 , 9 + 479 , 9 @ @ public class PictureActivity extends BaseActivity { < nl > Toast . makeText ( getActivity ( ) , R . string . toast _ no _ sdcard , Toast . LENGTH _ LONG ) . show ( ) ; < nl > } else { < nl > String externalPath = externalFile . getAbsolutePath ( ) ; < nl > - new File ( externalPath + " / Actor / exported / " ) . mkdirs ( ) ; < nl > + new File ( externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / exported / " ) . mkdirs ( ) ; < nl > try { < nl > - String exportPath = externalPath + " / Actor / exported / " + ( fileName ! = null ? fileName : " exported " ) + " _ " + Randoms . randomId ( ) + " . jpg " ; < nl > + String exportPath = externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / exported / " + ( fileName ! = null ? fileName : " exported " ) + " _ " + Randoms . randomId ( ) + " . jpg " ; < nl > Files . copy ( new File ( this . path ) , new File ( exportPath ) ) ; < nl > MediaScannerConnection . scanFile ( getActivity ( ) , new String [ ] { exportPath } , new String [ ] { " image / jpeg " } , null ) ; < nl > Toast . makeText ( getActivity ( ) , getString ( R . string . file _ saved ) + " " + exportPath , Toast . LENGTH _ LONG ) . show ( ) ;

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 index 7b9040d . . 4a17448 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 @ @ - 367 , 9 + 367 , 10 @ @ public class ChatActivity extends ActorEditTextActivity { 
 Toast . makeText ( ChatActivity . this , R . string . toast _ no _ sdcard , Toast . LENGTH _ LONG ) . show ( ) ; 
 } else { 
 String externalPath = externalFile . getAbsolutePath ( ) ; 
 - new File ( externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / capture / " ) . mkdirs ( ) ; 
 + String exportPathBase = externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " images " + " / " ; 
 + new File ( exportPathBase ) . mkdirs ( ) ; 
 
 - pending _ fileName = externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / capture / capture _ " + Randoms . randomId ( ) + " . jpg " ; 
 + pending _ fileName = exportPathBase + " capture _ " + Randoms . randomId ( ) + " . jpg " ; 
 } 
 if ( ContextCompat . checkSelfPermission ( ChatActivity . this , Manifest . permission . CAMERA ) ! = PackageManager . PERMISSION _ GRANTED ) { 
 Log . d ( " Permissions " , " camera - no permission : c " ) ; 
 @ @ - 387 , 9 + 388 , 10 @ @ public class ChatActivity extends ActorEditTextActivity { 
 Toast . makeText ( ChatActivity . this , R . string . toast _ no _ sdcard , Toast . LENGTH _ LONG ) . show ( ) ; 
 } else { 
 String externalPath = externalFile . getAbsolutePath ( ) ; 
 - new File ( externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / capture / " ) . mkdirs ( ) ; 
 + String exportPathBase = externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " video " + " / " ; 
 + new File ( exportPathBase ) . mkdirs ( ) ; 
 
 - pending _ fileName = externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / capture / capture _ " + Randoms . randomId ( ) + " . mp4 " ; 
 + pending _ fileName = exportPathBase + " capture _ " + Randoms . randomId ( ) + " . mp4 " ; 
 
 Intent i = new Intent ( MediaStore . ACTION _ VIDEO _ CAPTURE ) 
 . putExtra ( MediaStore . EXTRA _ OUTPUT , Uri . fromFile ( new File ( pending _ fileName ) ) ) ;

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 index 615b196 . . 885ab7a 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 @ @ - 342 , 9 + 342 , 9 @ @ public class ChatActivity extends ActorEditTextActivity { 
 Toast . makeText ( ChatActivity . this , R . string . toast _ no _ sdcard , Toast . LENGTH _ LONG ) . show ( ) ; 
 } else { 
 String externalPath = externalFile . getAbsolutePath ( ) ; 
 - new File ( externalPath + " / Actor / capture / " ) . mkdirs ( ) ; 
 + new File ( externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / capture / " ) . mkdirs ( ) ; 
 
 - pending _ fileName = externalPath + " / Actor / capture / capture _ " + Randoms . randomId ( ) + " . jpg " ; 
 + pending _ fileName = externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / capture / capture _ " + Randoms . randomId ( ) + " . jpg " ; 
 } 
 if ( ContextCompat . checkSelfPermission ( ChatActivity . this , Manifest . permission . CAMERA ) ! = PackageManager . PERMISSION _ GRANTED ) { 
 Log . d ( " Permissions " , " camera - no permission : c " ) ; 
 @ @ - 362 , 9 + 362 , 9 @ @ public class ChatActivity extends ActorEditTextActivity { 
 Toast . makeText ( ChatActivity . this , R . string . toast _ no _ sdcard , Toast . LENGTH _ LONG ) . show ( ) ; 
 } else { 
 String externalPath = externalFile . getAbsolutePath ( ) ; 
 - new File ( externalPath + " / Actor / capture / " ) . mkdirs ( ) ; 
 + new File ( externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / capture / " ) . mkdirs ( ) ; 
 
 - pending _ fileName = externalPath + " / Actor / capture / capture _ " + Randoms . randomId ( ) + " . mp4 " ; 
 + pending _ fileName = externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / capture / capture _ " + Randoms . randomId ( ) + " . mp4 " ; 
 
 Intent i = new Intent ( MediaStore . ACTION _ VIDEO _ CAPTURE ) 
 . putExtra ( MediaStore . EXTRA _ OUTPUT , Uri . fromFile ( new File ( pending _ fileName ) ) ) ; 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / preview / PictureActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / preview / PictureActivity . java 
 index b1b37a5 . . 9ef0cc3 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / preview / PictureActivity . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / preview / PictureActivity . java 
 @ @ - 30 , 6 + 30 , 7 @ @ import com . droidkit . progress . CircularView ; 
 import java . io . File ; 
 import java . io . IOException ; 
 
 + import im . actor . sdk . ActorSDK ; 
 import im . actor . sdk . R ; 
 import im . actor . sdk . controllers . Intents ; 
 import im . actor . sdk . controllers . activity . BaseActivity ; 
 @ @ - 478 , 9 + 479 , 9 @ @ public class PictureActivity extends BaseActivity { 
 Toast . makeText ( getActivity ( ) , R . string . toast _ no _ sdcard , Toast . LENGTH _ LONG ) . show ( ) ; 
 } else { 
 String externalPath = externalFile . getAbsolutePath ( ) ; 
 - new File ( externalPath + " / Actor / exported / " ) . mkdirs ( ) ; 
 + new File ( externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / exported / " ) . mkdirs ( ) ; 
 try { 
 - String exportPath = externalPath + " / Actor / exported / " + ( fileName ! = null ? fileName : " exported " ) + " _ " + Randoms . randomId ( ) + " . jpg " ; 
 + String exportPath = externalPath + " / " + ActorSDK . sharedActor ( ) . getAppName ( ) + " / exported / " + ( fileName ! = null ? fileName : " exported " ) + " _ " + Randoms . randomId ( ) + " . jpg " ; 
 Files . copy ( new File ( this . path ) , new File ( exportPath ) ) ; 
 MediaScannerConnection . scanFile ( getActivity ( ) , new String [ ] { exportPath } , new String [ ] { " image / jpeg " } , null ) ; 
 Toast . makeText ( getActivity ( ) , getString ( R . string . file _ saved ) + " " + exportPath , Toast . LENGTH _ LONG ) . show ( ) ;
