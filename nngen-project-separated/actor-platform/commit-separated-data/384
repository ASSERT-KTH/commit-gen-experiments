BLEU SCORE: 0.11868405219520975

TEST MSG: feat ( server ) : add remote _ addr field
GENERATED MSG: feat ( session ) : report session failure

TEST DIFF (one line): diff - - git a / actor - server / actor - session - messages / src / main / protobuf / session . proto b / actor - server / actor - session - messages / src / main / protobuf / session . proto < nl > index 288b8f8 . . 94fc427 100644 < nl > - - - a / actor - server / actor - session - messages / src / main / protobuf / session . proto < nl > + + + b / actor - server / actor - session - messages / src / main / protobuf / session . proto < nl > @ @ - 25 , 12 + 25 , 12 @ @ message SessionEnvelope { < nl > UnsubscribeFromWeak unsubscribe _ from _ weak = 11 ; < nl > GetUpdateOptimizations get _ update _ optimizations = 12 ; < nl > } < nl > - optional string remote _ addr = 13 ; < nl > } < nl > < nl > message HandleMessageBox { < nl > option ( scalapb . message ) . extends = " im . actor . server . session . SessionMessage " ; < nl > required bytes message _ box _ bytes = 1 ; < nl > + optional string remote _ addr = 2 [ ( scalapb . field ) . type = " java . net . InetAddress " ] ; < nl > } < nl > < nl > message AuthorizeUser {
NEAREST DIFF (one line): diff - - git a / actor - session / src / main / scala / im / actor / server / session / Session . scala b / actor - session / src / main / scala / im / actor / server / session / Session . scala < nl > index 92c64bd . . 56cf370 100644 < nl > - - - a / actor - session / src / main / scala / im / actor / server / session / Session . scala < nl > + + + b / actor - session / src / main / scala / im / actor / server / session / Session . scala < nl > @ @ - 103 , 6 + 103 , 12 @ @ class Session ( < nl > < nl > context . setReceiveTimeout ( config . idleTimeout ) < nl > < nl > + override def preRestart ( reason : Throwable , message : Option [ Any ] ) : Unit = { < nl > + super . preRestart ( reason , message ) < nl > + < nl > + log . error ( reason , " Session failed " ) < nl > + } < nl > + < nl > def receive = waitingForEnvelope < nl > < nl > def waitingForEnvelope : Receive = {

TEST DIFF:
diff - - git a / actor - server / actor - session - messages / src / main / protobuf / session . proto b / actor - server / actor - session - messages / src / main / protobuf / session . proto 
 index 288b8f8 . . 94fc427 100644 
 - - - a / actor - server / actor - session - messages / src / main / protobuf / session . proto 
 + + + b / actor - server / actor - session - messages / src / main / protobuf / session . proto 
 @ @ - 25 , 12 + 25 , 12 @ @ message SessionEnvelope { 
 UnsubscribeFromWeak unsubscribe _ from _ weak = 11 ; 
 GetUpdateOptimizations get _ update _ optimizations = 12 ; 
 } 
 - optional string remote _ addr = 13 ; 
 } 
 
 message HandleMessageBox { 
 option ( scalapb . message ) . extends = " im . actor . server . session . SessionMessage " ; 
 required bytes message _ box _ bytes = 1 ; 
 + optional string remote _ addr = 2 [ ( scalapb . field ) . type = " java . net . InetAddress " ] ; 
 } 
 
 message AuthorizeUser {

NEAREST DIFF:
diff - - git a / actor - session / src / main / scala / im / actor / server / session / Session . scala b / actor - session / src / main / scala / im / actor / server / session / Session . scala 
 index 92c64bd . . 56cf370 100644 
 - - - a / actor - session / src / main / scala / im / actor / server / session / Session . scala 
 + + + b / actor - session / src / main / scala / im / actor / server / session / Session . scala 
 @ @ - 103 , 6 + 103 , 12 @ @ class Session ( 
 
 context . setReceiveTimeout ( config . idleTimeout ) 
 
 + override def preRestart ( reason : Throwable , message : Option [ Any ] ) : Unit = { 
 + super . preRestart ( reason , message ) 
 + 
 + log . error ( reason , " Session failed " ) 
 + } 
 + 
 def receive = waitingForEnvelope 
 
 def waitingForEnvelope : Receive = {
