BLEU SCORE: 0.0622561686654695

TEST MSG: feat ( core + ios ) : Incoming call ringtone
GENERATED MSG: fix ( sdk ) : Fix compilation error and added debug controller for grouped

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / core / AndroidCallProvider . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / core / AndroidCallProvider . java < nl > index acdb92d . . 09a946c 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / core / AndroidCallProvider . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / core / AndroidCallProvider . java < nl > @ @ - 23 , 6 + 23 , 11 @ @ public class AndroidCallProvider implements CallsProvider { < nl > } < nl > < nl > @ Override < nl > + public void onCallAnswered ( long callId ) { < nl > + / / TODO : Implement < nl > + } < nl > + < nl > + @ Override < nl > public void onCallEnd ( long callId ) { < nl > messenger ( ) . getCall ( callId ) . getState ( ) . change ( CallState . ENDED ) ; < nl > } < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj b / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj < nl > index 34af834 . . b5f7e5f 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj < nl > @ @ - 178 , 6 + 178 , 7 @ @ < nl > 	 	 06E323111C694C1D00D66F53 / * WebRTCExt . swift in Sources * / = { isa = PBXBuildFile ; fileRef = 06E323101C694C1D00D66F53 / * WebRTCExt . swift * / ; } ; < nl > 	 	 06E323151C6A7AC000D66F53 / * AACallViewController . swift in Sources * / = { isa = PBXBuildFile ; fileRef = 06E323141C6A7AC000D66F53 / * AACallViewController . swift * / ; } ; < nl > 	 	 06E3C58B1C746CCC004776CD / * tone . m4a in Resources * / = { isa = PBXBuildFile ; fileRef = 06E3C58A1C746AAC004776CD / * tone . m4a * / ; } ; < nl > + 	 	 06E3C58D1C749320004776CD / * ringtone . m4a in Resources * / = { isa = PBXBuildFile ; fileRef = 06E3C58C1C74931F004776CD / * ringtone . m4a * / ; } ; < nl > 	 	 06E7B2471C0F8D7A0090660C / * AALocationPickerController . swift in Sources * / = { isa = PBXBuildFile ; fileRef = 06E7B2461C0F8D7A0090660C / * AALocationPickerController . swift * / ; } ; < nl > 	 	 06E7B24A1C0F92140090660C / * AABubbleLocationCell . swift in Sources * / = { isa = PBXBuildFile ; fileRef = 06E7B2491C0F92140090660C / * AABubbleLocationCell . swift * / ; } ; < nl > 	 	 06E7B24C1C0FAB500090660C / * AAMapFastView . swift in Sources * / = { isa = PBXBuildFile ; fileRef = 06E7B24B1C0FAB500090660C / * AAMapFastView . swift * / ; } ; < nl > @ @ - 477 , 6 + 478 , 7 @ @ < nl > 	 	 06E323101C694C1D00D66F53 / * WebRTCExt . swift * / = { isa = PBXFileReference ; fileEncoding = 4 ; lastKnownFileType = sourcecode . swift ; path = WebRTCExt . swift ; sourceTree = " < group > " ; } ; < nl > 	 	 06E323141C6A7AC000D66F53 / * AACallViewController . swift * / = { isa = PBXFileReference ; fileEncoding = 4 ; lastKnownFileType = sourcecode . swift ; name = AACallViewController . swift ; path = Calls / AACallViewController . swift ; sourceTree = " < group > " ; } ; < nl > 	 	 06E3C58A1C746AAC004776CD / * tone . m4a * / = { isa = PBXFileReference ; lastKnownFileType = file ; path = tone . m4a ; sourceTree = " < group > " ; } ; < nl > + 	 	 06E3C58C1C74931F004776CD / * ringtone . m4a * / = { isa = PBXFileReference ; lastKnownFileType = file ; path = ringtone . m4a ; sourceTree = " < group > " ; } ; < nl > 	 	 06E7B2461C0F8D7A0090660C / * AALocationPickerController . swift * / = { isa = PBXFileReference ; fileEncoding = 4 ; lastKnownFileType = sourcecode . swift ; path = AALocationPickerController . swift ; sourceTree = " < group > " ; } ; < nl > 	 	 06E7B2491C0F92140090660C / * AABubbleLocationCell . swift * / = { isa = PBXFileReference ; fileEncoding = 4 ; lastKnownFileType = sourcecode . swift ; path = AABubbleLocationCell . swift ; sourceTree = " < group > " ; } ; < nl > 	 	 06E7B24B1C0FAB500090660C / * AAMapFastView . swift * / = { isa = PBXFileReference ; fileEncoding = 4 ; lastKnownFileType = sourcecode . swift ; path = AAMapFastView . swift ; sourceTree = " < group > " ; } ; < nl > @ @ - 633 , 6 + 635 , 7 @ @ < nl > 	 	 	 	 065975501BC7DD3C00B8C7DF / * Highlighter * / , < nl > 	 	 	 	 06230F431BC95C0E00A4807B / * ABPhoneFieldCodes . txt * / , < nl > 	 	 	 	 0659753A1BC7D22200B8C7DF / * Images . xcassets * / , < nl > + 	 	 	 	 06E3C58C1C74931F004776CD / * ringtone . m4a * / , < nl > 	 	 	 	 065975461BC7D34200B8C7DF / * Localizable . strings * / , < nl > 	 	 	 	 06230F441BC95C0E00A4807B / * PhoneFormats . dat * / , < nl > 	 	 	 	 153F6B3C1C2A9B1900C0B960 / * begin _ record . caf * / , < nl > @ @ - 1648 , 6 + 1651 , 7 @ @ < nl > 	 	 	 	 065975441BC7D34200B8C7DF / * Localizable . strings in Resources * / , < nl > 	 	 	 	 06E3C58B1C746CCC004776CD / * tone . m4a in Resources * / , < nl > 	 	 	 	 BED5A1DB1C4839590045FDB0 / * NYTPhotoViewerCloseButtonXLandscape @ 2x . png in Resources * / , < nl > + 	 	 	 	 06E3C58D1C749320004776CD / * ringtone . m4a in Resources * / , < nl > 	 	 	 	 0659754C1BC7DBA000B8C7DF / * notification . caf in Resources * / , < nl > 	 	 	 	 BEF11DB61C466D800076400A / * begin _ record . caf in Resources * / , < nl > 	 	 	 	 063074191BD68E370053DEAF / * bg _ 3 _ preview . jpg in Resources * / , < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Resources / ringtone . m4a b / actor - sdk / sdk - core - ios / ActorSDK / Resources / ringtone . m4a < nl > new file mode 100644 < nl > index 0000000 . . 37cee08 < nl > Binary files / dev / null and b / actor - sdk / sdk - core - ios / ActorSDK / Resources / ringtone . m4a differ < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / ActorCore / Providers / iOSCallsProvider . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / ActorCore / Providers / iOSCallsProvider . swift < nl > index c6e3ce7 . . 329dbca 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / ActorCore / Providers / iOSCallsProvider . swift < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / ActorCore / Providers / iOSCallsProvider . swift < nl > @ @ - 8 , 20 + 8 , 77 @ @ import AVFoundation < nl > class iOSCallsProvider : NSObject , ACCallsProvider { < nl > < nl > var beepPlayer : AVAudioPlayer ! = nil < nl > + var ringtonePlayer : AVAudioPlayer ! = nil < nl > + var latestNotification : UILocalNotification ! < nl > < nl > func onCallStartWithCallId ( callId : jlong ) { < nl > dispatchOnUi ( ) { < nl > + < nl > + if ( ( Actor . getCallWithCallId ( callId ) . state . get ( ) as ! ACCallState ) . toNSEnum ( ) = = ACCallState _ Enum . CALLING _ INCOMING ) { < nl > + self . startRingtone ( ) < nl > + } else { < nl > + self . stopRingtone ( ) < nl > + } < nl > + < nl > let rootController = ActorSDK . sharedActor ( ) . bindedToWindow . rootViewController ! < nl > rootController . presentViewController ( AACallViewController ( callId : callId ) , animated : true , completion : nil ) < nl > } < nl > } < nl > < nl > + func onCallAnsweredWithCallId ( callId : jlong ) { < nl > + dispatchOnUi ( ) { < nl > + self . stopRingtone ( ) < nl > + } < nl > + } < nl > + < nl > func onCallEndWithCallId ( callId : jlong ) { < nl > dispatchOnUi ( ) { < nl > - < nl > + self . stopRingtone ( ) < nl > + } < nl > + } < nl > + < nl > + private func startRingtone ( ) { < nl > + < nl > + do { < nl > + try AVAudioSession . sharedInstance ( ) . setCategory ( AVAudioSessionCategorySoloAmbient , withOptions : < nl > + AVAudioSessionCategoryOptions . MixWithOthers ) < nl > + try AVAudioSession . sharedInstance ( ) . setMode ( AVAudioSessionModeDefault ) < nl > + try AVAudioSession . sharedInstance ( ) . overrideOutputAudioPort ( AVAudioSessionPortOverride . Speaker ) < nl > + try AVAudioSession . sharedInstance ( ) . setActive ( true ) < nl > + } catch let error as NSError { < nl > + print ( " Error : \ ( error . description ) " ) < nl > + } < nl > + < nl > + if ( self . ringtonePlayer = = nil ) { < nl > + do { < nl > + self . ringtonePlayer = try AVAudioPlayer ( contentsOfURL : NSURL ( fileURLWithPath : NSBundle . framework . pathForResource ( " ringtone " , ofType : " m4a " ) ! ) ) < nl > + self . ringtonePlayer . prepareToPlay ( ) < nl > + self . ringtonePlayer . numberOfLoops = - 1 < nl > + } catch { < nl > + < nl > + } < nl > } < nl > + < nl > + AudioServicesPlaySystemSound ( 1352 ) < nl > + < nl > + self . ringtonePlayer . play ( ) < nl > + < nl > + if ( self . latestNotification ! = nil ) { < nl > + UIApplication . sharedApplication ( ) . cancelLocalNotification ( self . latestNotification ) < nl > + self . latestNotification = nil < nl > + } < nl > + self . latestNotification = UILocalNotification ( ) < nl > + self . latestNotification . alertBody = " Answer it ! " < nl > + UIApplication . sharedApplication ( ) . presentLocalNotificationNow ( self . latestNotification ) < nl > } < nl > < nl > + private func stopRingtone ( ) { < nl > + ringtonePlayer . pause ( ) < nl > + if ( self . latestNotification ! = nil ) { < nl > + UIApplication . sharedApplication ( ) . cancelLocalNotification ( self . latestNotification ) < nl > + self . latestNotification = nil < nl > + } < nl > + } < nl > < nl > func startOutgoingBeep ( ) { < nl > do { < nl > diff - - git a / actor - sdk / sdk - core / core / core - js / src / main / java / im / actor / core / js / providers / JsCallsProvider . java b / actor - sdk / sdk - core / core / core - js / src / main / java / im / actor / core / js / providers / JsCallsProvider . java < nl > index 8b8b2a4 . . add1172 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - js / src / main / java / im / actor / core / js / providers / JsCallsProvider . java < nl > + + + b / actor - sdk / sdk - core / core / core - js / src / main / java / im / actor / core / js / providers / JsCallsProvider . java < nl > @ @ - 31 , 6 + 31 , 11 @ @ public class JsCallsProvider implements CallsProvider { < nl > } < nl > < nl > @ Override < nl > + public void onCallAnswered ( long callId ) { < nl > + < nl > + } < nl > + < nl > + @ Override < nl > public void onCallEnd ( long callId ) { < nl > JsMessenger . getInstance ( ) . broadcastEvent ( " calls " , callEvent ( " " + callId , " ended " ) ) ; < nl > < nl > diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / providers / CallsProvider . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / providers / CallsProvider . java < nl > index 0146c23 . . 2c04584 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / providers / CallsProvider . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / providers / CallsProvider . java < nl > @ @ - 23 , 6 + 23 , 14 @ @ public interface CallsProvider { < nl > void onCallStart ( long callId ) ; < nl > < nl > / * * < nl > + * Call Answered Event < nl > + * < nl > + * @ param callId Unique Call Id < nl > + * / < nl > + @ ObjectiveCName ( " onCallAnsweredWithCallId : " ) < nl > + void onCallAnswered ( long callId ) ; < nl > + < nl > + / * * < nl > * Call End event < nl > * < nl > * @ param callId Unique Call Id
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core / core / shared / src / main / java / im / actor / core / Messenger . java b / actor - sdk / sdk - core / core / shared / src / main / java / im / actor / core / Messenger . java < nl > index 77b90cc . . 63dbbc4 100644 < nl > - - - a / actor - sdk / sdk - core / core / shared / src / main / java / im / actor / core / Messenger . java < nl > + + + b / actor - sdk / sdk - core / core / shared / src / main / java / im / actor / core / Messenger . java < nl > @ @ - 41 , 6 + 41 , 7 @ @ import im . actor . core . util . ActorTrace ; < nl > import im . actor . core . util . Timing ; < nl > import im . actor . core . viewmodel . AppStateVM ; < nl > import im . actor . core . viewmodel . Command ; < nl > + import im . actor . core . viewmodel . DialogGroupsVM ; < nl > import im . actor . core . viewmodel . FileCallback ; < nl > import im . actor . core . viewmodel . FileVM ; < nl > import im . actor . core . viewmodel . FileVMCallback ; < nl > @ @ - 316 , 6 + 317 , 17 @ @ public class Messenger { < nl > } < nl > < nl > / * * < nl > + * Get Dialog Groups < nl > + * < nl > + * @ return dialog groups < nl > + * / < nl > + @ NotNull < nl > + @ ObjectiveCName ( " getDialogGroupsVM " ) < nl > + public DialogGroupsVM getDialogGroupsVM ( ) { < nl > + return modules . getMessagesModule ( ) . getDialogGroupsVM ( ) ; < nl > + } < nl > + < nl > + / * * < nl > * Get private chat ViewModel < nl > * < nl > * @ param uid chat ' s User Id < nl > diff - - git a / actor - sdk / sdk - core / core / shared / src / main / java / im / actor / core / modules / api / PersistentRequestsActor . java b / actor - sdk / sdk - core / core / shared / src / main / java / im / actor / core / modules / api / PersistentRequestsActor . java < nl > index f4a64f6 . . 9fd4d99 100644 < nl > - - - a / actor - sdk / sdk - core / core / shared / src / main / java / im / actor / core / modules / api / PersistentRequestsActor . java < nl > + + + b / actor - sdk / sdk - core / core / shared / src / main / java / im / actor / core / modules / api / PersistentRequestsActor . java < nl > @ @ - 30 , 7 + 30 , 7 @ @ public class PersistentRequestsActor extends ModuleActor { < nl > storage = Storage . createKeyValue ( STORAGE ) ; < nl > < nl > requestsStorage = new PersistentStorage ( ) ; < nl > - byte [ ] data = storage . getValue ( 0 ) ; < nl > + byte [ ] data = storage . loadItem ( 0 ) ; < nl > if ( data ! = null ) { < nl > try { < nl > requestsStorage = PersistentStorage . fromBytes ( data ) ; < nl > diff - - git a / actor - sdk / sdk - core / core / shared / src / main / java / im / actor / core / modules / utils / BaseKeyValueEngine . java b / actor - sdk / sdk - core / core / shared / src / main / java / im / actor / core / modules / utils / BaseKeyValueEngine . java < nl > index 0ce4a1f . . 0267ab5 100644 < nl > - - - a / actor - sdk / sdk - core / core / shared / src / main / java / im / actor / core / modules / utils / BaseKeyValueEngine . java < nl > + + + b / actor - sdk / sdk - core / core / shared / src / main / java / im / actor / core / modules / utils / BaseKeyValueEngine . java < nl > @ @ - 72 , 7 + 72 , 7 @ @ public abstract class BaseKeyValueEngine < T extends KeyValueItem > implements KeyV < nl > return cache . get ( id ) ; < nl > } < nl > < nl > - byte [ ] data = storage . getValue ( id ) ; < nl > + byte [ ] data = storage . loadItem ( id ) ; < nl > if ( data ! = null ) { < nl > T res = deserialize ( data ) ; < nl > if ( res ! = null ) { < nl > diff - - git a / actor - sdk / sdk - ios / ActorSDK . xcodeproj / project . pbxproj b / actor - sdk / sdk - ios / ActorSDK . xcodeproj / project . pbxproj < nl > index bb2c763 . . c52e83a 100644 < nl > - - - a / actor - sdk / sdk - ios / ActorSDK . xcodeproj / project . pbxproj < nl > + + + b / actor - sdk / sdk - ios / ActorSDK . xcodeproj / project . pbxproj < nl > @ @ - 12 , 6 + 12 , 7 @ @ < nl > 	 	 06230F421BC95BD200A4807B / * RMPhoneFormat . h in Headers * / = { isa = PBXBuildFile ; fileRef = 06230F401BC95BD200A4807B / * RMPhoneFormat . h * / ; settings = { ATTRIBUTES = ( Public , ) ; } ; } ; < nl > 	 	 06230F451BC95C0E00A4807B / * ABPhoneFieldCodes . txt in Resources * / = { isa = PBXBuildFile ; fileRef = 06230F431BC95C0E00A4807B / * ABPhoneFieldCodes . txt * / ; settings = { ASSET _ TAGS = ( ) ; } ; } ; < nl > 	 	 06230F461BC95C0E00A4807B / * PhoneFormats . dat in Resources * / = { isa = PBXBuildFile ; fileRef = 06230F441BC95C0E00A4807B / * PhoneFormats . dat * / ; settings = { ASSET _ TAGS = ( ) ; } ; } ; < nl > + 	 	 063073DB1BCD5D400053DEAF / * AADebugController . swift in Sources * / = { isa = PBXBuildFile ; fileRef = 063073DA1BCD5D400053DEAF / * AADebugController . swift * / ; settings = { ASSET _ TAGS = ( ) ; } ; } ; < nl > 	 	 065974A51BC621F100B8C7DF / * AAAuthNavigationController . swift in Sources * / = { isa = PBXBuildFile ; fileRef = 065974A41BC621F100B8C7DF / * AAAuthNavigationController . swift * / ; settings = { ASSET _ TAGS = ( ) ; } ; } ; < nl > 	 	 065974A71BC62B3600B8C7DF / * ViewExtensions . swift in Sources * / = { isa = PBXBuildFile ; fileRef = 065974A61BC62B3600B8C7DF / * ViewExtensions . swift * / ; settings = { ASSET _ TAGS = ( ) ; } ; } ; < nl > 	 	 065975021BC7534100B8C7DF / * FMDBBridge . swift in Sources * / = { isa = PBXBuildFile ; fileRef = 065975011BC7534100B8C7DF / * FMDBBridge . swift * / ; settings = { ASSET _ TAGS = ( ) ; } ; } ; < nl > @ @ - 179 , 6 + 180 , 7 @ @ < nl > 	 	 06230F401BC95BD200A4807B / * RMPhoneFormat . h * / = { isa = PBXFileReference ; fileEncoding = 4 ; lastKnownFileType = sourcecode . c . h ; path = RMPhoneFormat . h ; sourceTree = " < group > " ; } ; < nl > 	 	 06230F431BC95C0E00A4807B / * ABPhoneFieldCodes . txt * / = { isa = PBXFileReference ; fileEncoding = 4 ; lastKnownFileType = text ; name = ABPhoneFieldCodes . txt ; path = Resources / ABPhoneFieldCodes . txt ; sourceTree = " < group > " ; } ; < nl > 	 	 06230F441BC95C0E00A4807B / * PhoneFormats . dat * / = { isa = PBXFileReference ; lastKnownFileType = file ; name = PhoneFormats . dat ; path = Resources / PhoneFormats . dat ; sourceTree = " < group > " ; } ; < nl > + 	 	 063073DA1BCD5D400053DEAF / * AADebugController . swift * / = { isa = PBXFileReference ; fileEncoding = 4 ; lastKnownFileType = sourcecode . swift ; path = AADebugController . swift ; sourceTree = " < group > " ; } ; < nl > 	 	 065974A41BC621F100B8C7DF / * AAAuthNavigationController . swift * / = { isa = PBXFileReference ; fileEncoding = 4 ; lastKnownFileType = sourcecode . swift ; path = AAAuthNavigationController . swift ; sourceTree = " < group > " ; } ; < nl > 	 	 065974A61BC62B3600B8C7DF / * ViewExtensions . swift * / = { isa = PBXFileReference ; fileEncoding = 4 ; lastKnownFileType = sourcecode . swift ; path = ViewExtensions . swift ; sourceTree = " < group > " ; } ; < nl > 	 	 065974C51BC680AA00B8C7DF / * j2objc . framework * / = { isa = PBXFileReference ; lastKnownFileType = wrapper . framework ; name = j2objc . framework ; path = " . . / . . / app - ios / Pods / J2ObjC - Framework / Frameworks / j2objc . framework " ; sourceTree = " < group > " ; } ; < nl > @ @ - 761 , 6 + 763 , 7 @ @ < nl > 	 	 	 isa = PBXGroup ; < nl > 	 	 	 children = ( < nl > 	 	 	 	 066A53061BC53183000E606E / * AARecentViewController . swift * / , < nl > + 	 	 	 	 063073DA1BCD5D400053DEAF / * AADebugController . swift * / , < nl > 	 	 	 ) ; < nl > 	 	 	 path = Recent ; < nl > 	 	 	 sourceTree = " < group > " ; < nl > @ @ - 1157 , 6 + 1160 , 7 @ @ < nl > 	 	 	 	 066A51561BC4BEF5000E606E / * AALocalized . swift in Sources * / , < nl > 	 	 	 	 069CF4CF1BCB909A00C66E12 / * CLToken . m in Sources * / , < nl > 	 	 	 	 066A51441BC4BBAF000E606E / * Strings . swift in Sources * / , < nl > + 	 	 	 	 063073DB1BCD5D400053DEAF / * AADebugController . swift in Sources * / , < nl > 	 	 	 	 066A53331BC534F5000E606E / * AAFileTypes . swift in Sources * / , < nl > 	 	 	 	 066A52FE1BC52FA9000E606E / * AAGroupCreateViewController . swift in Sources * / , < nl > 	 	 	 	 066A52E71BC52A20000E606E / * AAInviteLinkViewController . swift in Sources * / , < nl > diff - - git a / actor - sdk / sdk - ios / ActorSDK / Sources / ActorSDK . swift b / actor - sdk / sdk - ios / ActorSDK / Sources / ActorSDK . swift < nl > index 1d16883 . . bb05ea3 100644 < nl > - - - a / actor - sdk / sdk - ios / ActorSDK / Sources / ActorSDK . swift < nl > + + + b / actor - sdk / sdk - ios / ActorSDK / Sources / ActorSDK . swift < nl > @ @ - 264 , 6 + 264 , 7 @ @ public class ActorSDK { < nl > tab . viewControllers = [ < nl > AANavigationController ( rootViewController : AAContactsViewController ( ) ) , < nl > AANavigationController ( rootViewController : AARecentViewController ( ) ) , < nl > + AANavigationController ( rootViewController : AADebugController ( ) ) , < nl > AANavigationController ( rootViewController : AASettingsViewController ( ) ) ] < nl > tab . selectedIndex = 0 < nl > tab . selectedIndex = 1 < nl > diff - - git a / actor - sdk / sdk - ios / ActorSDK / Sources / Controllers / Recent / AADebugController . swift b / actor - sdk / sdk - ios / ActorSDK / Sources / Controllers / Recent / AADebugController . swift < nl > new file mode 100644 < nl > index 0000000 . . 32554b4 < nl > - - - / dev / null < nl > + + + b / actor - sdk / sdk - ios / ActorSDK / Sources / Controllers / Recent / AADebugController . swift < nl > @ @ - 0 , 0 + 1 , 45 @ @ < nl > + / / < nl > + / / Copyright ( c ) 2014 - 2015 Actor LLC . < https : / / actor . im > < nl > + / / < nl > + < nl > + import UIKit < nl > + < nl > + class AADebugController : AAContentTableController { < nl > + < nl > + var debugData : AAManagedArrayRows < ACDialogDesc , AACommonCell > ! < nl > + < nl > + init ( ) { < nl > + super . init ( style : . Plain ) < nl > + } < nl > + < nl > + required init ( coder aDecoder : NSCoder ) { < nl > + fatalError ( " init ( coder : ) has not been implemented " ) < nl > + } < nl > + < nl > + override func tableDidLoad ( ) { < nl > + section { ( s ) - > ( ) in < nl > + self . debugData = s . arrays { ( r : AAManagedArrayRows < ACDialogDesc , AACommonCell > ) - > ( ) in < nl > + r . bindData = { ( cell : AACommonCell , data : ACDialogDesc ) - > ( ) in < nl > + cell . setContent ( data . title ) < nl > + } < nl > + } < nl > + } < nl > + } < nl > + < nl > + override func tableWillBind ( binder : AABinder ) { < nl > + binder . bind ( ActorSDK . sharedActor ( ) . messenger . getDialogGroupsVM ( ) . getGroupsValueModel ( ) ) { ( value : JavaUtilArrayList ? ) - > ( ) in < nl > + < nl > + if value ! = nil { < nl > + var items = [ ACDialogDesc ] ( ) < nl > + < nl > + for i in 0 . . < value ! . size ( ) { < nl > + for j in ( value ! . getWithInt ( i ) as ! ACDialogGroup ) . getDialogs ( ) { < nl > + items . append ( j as ! ACDialogDesc ) < nl > + } < nl > + } < nl > + self . debugData . data = items < nl > + self . debugData . reload ( ) < nl > + } < nl > + } < nl > + } < nl > + } < nl > \ No newline at end of file

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / core / AndroidCallProvider . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / core / AndroidCallProvider . java 
 index acdb92d . . 09a946c 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / core / AndroidCallProvider . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / core / AndroidCallProvider . java 
 @ @ - 23 , 6 + 23 , 11 @ @ public class AndroidCallProvider implements CallsProvider { 
 } 
 
 @ Override 
 + public void onCallAnswered ( long callId ) { 
 + / / TODO : Implement 
 + } 
 + 
 + @ Override 
 public void onCallEnd ( long callId ) { 
 messenger ( ) . getCall ( callId ) . getState ( ) . change ( CallState . ENDED ) ; 
 } 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj b / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj 
 index 34af834 . . b5f7e5f 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK . xcodeproj / project . pbxproj 
 @ @ - 178 , 6 + 178 , 7 @ @ 
 	 	 06E323111C694C1D00D66F53 / * WebRTCExt . swift in Sources * / = { isa = PBXBuildFile ; fileRef = 06E323101C694C1D00D66F53 / * WebRTCExt . swift * / ; } ; 
 	 	 06E323151C6A7AC000D66F53 / * AACallViewController . swift in Sources * / = { isa = PBXBuildFile ; fileRef = 06E323141C6A7AC000D66F53 / * AACallViewController . swift * / ; } ; 
 	 	 06E3C58B1C746CCC004776CD / * tone . m4a in Resources * / = { isa = PBXBuildFile ; fileRef = 06E3C58A1C746AAC004776CD / * tone . m4a * / ; } ; 
 + 	 	 06E3C58D1C749320004776CD / * ringtone . m4a in Resources * / = { isa = PBXBuildFile ; fileRef = 06E3C58C1C74931F004776CD / * ringtone . m4a * / ; } ; 
 	 	 06E7B2471C0F8D7A0090660C / * AALocationPickerController . swift in Sources * / = { isa = PBXBuildFile ; fileRef = 06E7B2461C0F8D7A0090660C / * AALocationPickerController . swift * / ; } ; 
 	 	 06E7B24A1C0F92140090660C / * AABubbleLocationCell . swift in Sources * / = { isa = PBXBuildFile ; fileRef = 06E7B2491C0F92140090660C / * AABubbleLocationCell . swift * / ; } ; 
 	 	 06E7B24C1C0FAB500090660C / * AAMapFastView . swift in Sources * / = { isa = PBXBuildFile ; fileRef = 06E7B24B1C0FAB500090660C / * AAMapFastView . swift * / ; } ; 
 @ @ - 477 , 6 + 478 , 7 @ @ 
 	 	 06E323101C694C1D00D66F53 / * WebRTCExt . swift * / = { isa = PBXFileReference ; fileEncoding = 4 ; lastKnownFileType = sourcecode . swift ; path = WebRTCExt . swift ; sourceTree = " < group > " ; } ; 
 	 	 06E323141C6A7AC000D66F53 / * AACallViewController . swift * / = { isa = PBXFileReference ; fileEncoding = 4 ; lastKnownFileType = sourcecode . swift ; name = AACallViewController . swift ; path = Calls / AACallViewController . swift ; sourceTree = " < group > " ; } ; 
 	 	 06E3C58A1C746AAC004776CD / * tone . m4a * / = { isa = PBXFileReference ; lastKnownFileType = file ; path = tone . m4a ; sourceTree = " < group > " ; } ; 
 + 	 	 06E3C58C1C74931F004776CD / * ringtone . m4a * / = { isa = PBXFileReference ; lastKnownFileType = file ; path = ringtone . m4a ; sourceTree = " < group > " ; } ; 
 	 	 06E7B2461C0F8D7A0090660C / * AALocationPickerController . swift * / = { isa = PBXFileReference ; fileEncoding = 4 ; lastKnownFileType = sourcecode . swift ; path = AALocationPickerController . swift ; sourceTree = " < group > " ; } ; 
 	 	 06E7B2491C0F92140090660C / * AABubbleLocationCell . swift * / = { isa = PBXFileReference ; fileEncoding = 4 ; lastKnownFileType = sourcecode . swift ; path = AABubbleLocationCell . swift ; sourceTree = " < group > " ; } ; 
 	 	 06E7B24B1C0FAB500090660C / * AAMapFastView . swift * / = { isa = PBXFileReference ; fileEncoding = 4 ; lastKnownFileType = sourcecode . swift ; path = AAMapFastView . swift ; sourceTree = " < group > " ; } ; 
 @ @ - 633 , 6 + 635 , 7 @ @ 
 	 	 	 	 065975501BC7DD3C00B8C7DF / * Highlighter * / , 
 	 	 	 	 06230F431BC95C0E00A4807B / * ABPhoneFieldCodes . txt * / , 
 	 	 	 	 0659753A1BC7D22200B8C7DF / * Images . xcassets * / , 
 + 	 	 	 	 06E3C58C1C74931F004776CD / * ringtone . m4a * / , 
 	 	 	 	 065975461BC7D34200B8C7DF / * Localizable . strings * / , 
 	 	 	 	 06230F441BC95C0E00A4807B / * PhoneFormats . dat * / , 
 	 	 	 	 153F6B3C1C2A9B1900C0B960 / * begin _ record . caf * / , 
 @ @ - 1648 , 6 + 1651 , 7 @ @ 
 	 	 	 	 065975441BC7D34200B8C7DF / * Localizable . strings in Resources * / , 
 	 	 	 	 06E3C58B1C746CCC004776CD / * tone . m4a in Resources * / , 
 	 	 	 	 BED5A1DB1C4839590045FDB0 / * NYTPhotoViewerCloseButtonXLandscape @ 2x . png in Resources * / , 
 + 	 	 	 	 06E3C58D1C749320004776CD / * ringtone . m4a in Resources * / , 
 	 	 	 	 0659754C1BC7DBA000B8C7DF / * notification . caf in Resources * / , 
 	 	 	 	 BEF11DB61C466D800076400A / * begin _ record . caf in Resources * / , 
 	 	 	 	 063074191BD68E370053DEAF / * bg _ 3 _ preview . jpg in Resources * / , 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Resources / ringtone . m4a b / actor - sdk / sdk - core - ios / ActorSDK / Resources / ringtone . m4a 
 new file mode 100644 
 index 0000000 . . 37cee08 
 Binary files / dev / null and b / actor - sdk / sdk - core - ios / ActorSDK / Resources / ringtone . m4a differ 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / ActorCore / Providers / iOSCallsProvider . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / ActorCore / Providers / iOSCallsProvider . swift 
 index c6e3ce7 . . 329dbca 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / ActorCore / Providers / iOSCallsProvider . swift 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / ActorCore / Providers / iOSCallsProvider . swift 
 @ @ - 8 , 20 + 8 , 77 @ @ import AVFoundation 
 class iOSCallsProvider : NSObject , ACCallsProvider { 
 
 var beepPlayer : AVAudioPlayer ! = nil 
 + var ringtonePlayer : AVAudioPlayer ! = nil 
 + var latestNotification : UILocalNotification ! 
 
 func onCallStartWithCallId ( callId : jlong ) { 
 dispatchOnUi ( ) { 
 + 
 + if ( ( Actor . getCallWithCallId ( callId ) . state . get ( ) as ! ACCallState ) . toNSEnum ( ) = = ACCallState _ Enum . CALLING _ INCOMING ) { 
 + self . startRingtone ( ) 
 + } else { 
 + self . stopRingtone ( ) 
 + } 
 + 
 let rootController = ActorSDK . sharedActor ( ) . bindedToWindow . rootViewController ! 
 rootController . presentViewController ( AACallViewController ( callId : callId ) , animated : true , completion : nil ) 
 } 
 } 
 
 + func onCallAnsweredWithCallId ( callId : jlong ) { 
 + dispatchOnUi ( ) { 
 + self . stopRingtone ( ) 
 + } 
 + } 
 + 
 func onCallEndWithCallId ( callId : jlong ) { 
 dispatchOnUi ( ) { 
 - 
 + self . stopRingtone ( ) 
 + } 
 + } 
 + 
 + private func startRingtone ( ) { 
 + 
 + do { 
 + try AVAudioSession . sharedInstance ( ) . setCategory ( AVAudioSessionCategorySoloAmbient , withOptions : 
 + AVAudioSessionCategoryOptions . MixWithOthers ) 
 + try AVAudioSession . sharedInstance ( ) . setMode ( AVAudioSessionModeDefault ) 
 + try AVAudioSession . sharedInstance ( ) . overrideOutputAudioPort ( AVAudioSessionPortOverride . Speaker ) 
 + try AVAudioSession . sharedInstance ( ) . setActive ( true ) 
 + } catch let error as NSError { 
 + print ( " Error : \ ( error . description ) " ) 
 + } 
 + 
 + if ( self . ringtonePlayer = = nil ) { 
 + do { 
 + self . ringtonePlayer = try AVAudioPlayer ( contentsOfURL : NSURL ( fileURLWithPath : NSBundle . framework . pathForResource ( " ringtone " , ofType : " m4a " ) ! ) ) 
 + self . ringtonePlayer . prepareToPlay ( ) 
 + self . ringtonePlayer . numberOfLoops = - 1 
 + } catch { 
 + 
 + } 
 } 
 + 
 + AudioServicesPlaySystemSound ( 1352 ) 
 + 
 + self . ringtonePlayer . play ( ) 
 + 
 + if ( self . latestNotification ! = nil ) { 
 + UIApplication . sharedApplication ( ) . cancelLocalNotification ( self . latestNotification ) 
 + self . latestNotification = nil 
 + } 
 + self . latestNotification = UILocalNotification ( ) 
 + self . latestNotification . alertBody = " Answer it ! " 
 + UIApplication . sharedApplication ( ) . presentLocalNotificationNow ( self . latestNotification ) 
 } 
 
 + private func stopRingtone ( ) { 
 + ringtonePlayer . pause ( ) 
 + if ( self . latestNotification ! = nil ) { 
 + UIApplication . sharedApplication ( ) . cancelLocalNotification ( self . latestNotification ) 
 + self . latestNotification = nil 
 + } 
 + } 
 
 func startOutgoingBeep ( ) { 
 do { 
 diff - - git a / actor - sdk / sdk - core / core / core - js / src / main / java / im / actor / core / js / providers / JsCallsProvider . java b / actor - sdk / sdk - core / core / core - js / src / main / java / im / actor / core / js / providers / JsCallsProvider . java 
 index 8b8b2a4 . . add1172 100644 
 - - - a / actor - sdk / sdk - core / core / core - js / src / main / java / im / actor / core / js / providers / JsCallsProvider . java 
 + + + b / actor - sdk / sdk - core / core / core - js / src / main / java / im / actor / core / js / providers / JsCallsProvider . java 
 @ @ - 31 , 6 + 31 , 11 @ @ public class JsCallsProvider implements CallsProvider { 
 } 
 
 @ Override 
 + public void onCallAnswered ( long callId ) { 
 + 
 + } 
 + 
 + @ Override 
 public void onCallEnd ( long callId ) { 
 JsMessenger . getInstance ( ) . broadcastEvent ( " calls " , callEvent ( " " + callId , " ended " ) ) ; 
 
 diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / providers / CallsProvider . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / providers / CallsProvider . java 
 index 0146c23 . . 2c04584 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / providers / CallsProvider . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / providers / CallsProvider . java 
 @ @ - 23 , 6 + 23 , 14 @ @ public interface CallsProvider { 
 void onCallStart ( long callId ) ; 
 
 / * * 
 + * Call Answered Event 
 + * 
 + * @ param callId Unique Call Id 
 + * / 
 + @ ObjectiveCName ( " onCallAnsweredWithCallId : " ) 
 + void onCallAnswered ( long callId ) ; 
 + 
 + / * * 
 * Call End event 
 * 
 * @ param callId Unique Call Id

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core / core / shared / src / main / java / im / actor / core / Messenger . java b / actor - sdk / sdk - core / core / shared / src / main / java / im / actor / core / Messenger . java 
 index 77b90cc . . 63dbbc4 100644 
 - - - a / actor - sdk / sdk - core / core / shared / src / main / java / im / actor / core / Messenger . java 
 + + + b / actor - sdk / sdk - core / core / shared / src / main / java / im / actor / core / Messenger . java 
 @ @ - 41 , 6 + 41 , 7 @ @ import im . actor . core . util . ActorTrace ; 
 import im . actor . core . util . Timing ; 
 import im . actor . core . viewmodel . AppStateVM ; 
 import im . actor . core . viewmodel . Command ; 
 + import im . actor . core . viewmodel . DialogGroupsVM ; 
 import im . actor . core . viewmodel . FileCallback ; 
 import im . actor . core . viewmodel . FileVM ; 
 import im . actor . core . viewmodel . FileVMCallback ; 
 @ @ - 316 , 6 + 317 , 17 @ @ public class Messenger { 
 } 
 
 / * * 
 + * Get Dialog Groups 
 + * 
 + * @ return dialog groups 
 + * / 
 + @ NotNull 
 + @ ObjectiveCName ( " getDialogGroupsVM " ) 
 + public DialogGroupsVM getDialogGroupsVM ( ) { 
 + return modules . getMessagesModule ( ) . getDialogGroupsVM ( ) ; 
 + } 
 + 
 + / * * 
 * Get private chat ViewModel 
 * 
 * @ param uid chat ' s User Id 
 diff - - git a / actor - sdk / sdk - core / core / shared / src / main / java / im / actor / core / modules / api / PersistentRequestsActor . java b / actor - sdk / sdk - core / core / shared / src / main / java / im / actor / core / modules / api / PersistentRequestsActor . java 
 index f4a64f6 . . 9fd4d99 100644 
 - - - a / actor - sdk / sdk - core / core / shared / src / main / java / im / actor / core / modules / api / PersistentRequestsActor . java 
 + + + b / actor - sdk / sdk - core / core / shared / src / main / java / im / actor / core / modules / api / PersistentRequestsActor . java 
 @ @ - 30 , 7 + 30 , 7 @ @ public class PersistentRequestsActor extends ModuleActor { 
 storage = Storage . createKeyValue ( STORAGE ) ; 
 
 requestsStorage = new PersistentStorage ( ) ; 
 - byte [ ] data = storage . getValue ( 0 ) ; 
 + byte [ ] data = storage . loadItem ( 0 ) ; 
 if ( data ! = null ) { 
 try { 
 requestsStorage = PersistentStorage . fromBytes ( data ) ; 
 diff - - git a / actor - sdk / sdk - core / core / shared / src / main / java / im / actor / core / modules / utils / BaseKeyValueEngine . java b / actor - sdk / sdk - core / core / shared / src / main / java / im / actor / core / modules / utils / BaseKeyValueEngine . java 
 index 0ce4a1f . . 0267ab5 100644 
 - - - a / actor - sdk / sdk - core / core / shared / src / main / java / im / actor / core / modules / utils / BaseKeyValueEngine . java 
 + + + b / actor - sdk / sdk - core / core / shared / src / main / java / im / actor / core / modules / utils / BaseKeyValueEngine . java 
 @ @ - 72 , 7 + 72 , 7 @ @ public abstract class BaseKeyValueEngine < T extends KeyValueItem > implements KeyV 
 return cache . get ( id ) ; 
 } 
 
 - byte [ ] data = storage . getValue ( id ) ; 
 + byte [ ] data = storage . loadItem ( id ) ; 
 if ( data ! = null ) { 
 T res = deserialize ( data ) ; 
 if ( res ! = null ) { 
 diff - - git a / actor - sdk / sdk - ios / ActorSDK . xcodeproj / project . pbxproj b / actor - sdk / sdk - ios / ActorSDK . xcodeproj / project . pbxproj 
 index bb2c763 . . c52e83a 100644 
 - - - a / actor - sdk / sdk - ios / ActorSDK . xcodeproj / project . pbxproj 
 + + + b / actor - sdk / sdk - ios / ActorSDK . xcodeproj / project . pbxproj 
 @ @ - 12 , 6 + 12 , 7 @ @ 
 	 	 06230F421BC95BD200A4807B / * RMPhoneFormat . h in Headers * / = { isa = PBXBuildFile ; fileRef = 06230F401BC95BD200A4807B / * RMPhoneFormat . h * / ; settings = { ATTRIBUTES = ( Public , ) ; } ; } ; 
 	 	 06230F451BC95C0E00A4807B / * ABPhoneFieldCodes . txt in Resources * / = { isa = PBXBuildFile ; fileRef = 06230F431BC95C0E00A4807B / * ABPhoneFieldCodes . txt * / ; settings = { ASSET _ TAGS = ( ) ; } ; } ; 
 	 	 06230F461BC95C0E00A4807B / * PhoneFormats . dat in Resources * / = { isa = PBXBuildFile ; fileRef = 06230F441BC95C0E00A4807B / * PhoneFormats . dat * / ; settings = { ASSET _ TAGS = ( ) ; } ; } ; 
 + 	 	 063073DB1BCD5D400053DEAF / * AADebugController . swift in Sources * / = { isa = PBXBuildFile ; fileRef = 063073DA1BCD5D400053DEAF / * AADebugController . swift * / ; settings = { ASSET _ TAGS = ( ) ; } ; } ; 
 	 	 065974A51BC621F100B8C7DF / * AAAuthNavigationController . swift in Sources * / = { isa = PBXBuildFile ; fileRef = 065974A41BC621F100B8C7DF / * AAAuthNavigationController . swift * / ; settings = { ASSET _ TAGS = ( ) ; } ; } ; 
 	 	 065974A71BC62B3600B8C7DF / * ViewExtensions . swift in Sources * / = { isa = PBXBuildFile ; fileRef = 065974A61BC62B3600B8C7DF / * ViewExtensions . swift * / ; settings = { ASSET _ TAGS = ( ) ; } ; } ; 
 	 	 065975021BC7534100B8C7DF / * FMDBBridge . swift in Sources * / = { isa = PBXBuildFile ; fileRef = 065975011BC7534100B8C7DF / * FMDBBridge . swift * / ; settings = { ASSET _ TAGS = ( ) ; } ; } ; 
 @ @ - 179 , 6 + 180 , 7 @ @ 
 	 	 06230F401BC95BD200A4807B / * RMPhoneFormat . h * / = { isa = PBXFileReference ; fileEncoding = 4 ; lastKnownFileType = sourcecode . c . h ; path = RMPhoneFormat . h ; sourceTree = " < group > " ; } ; 
 	 	 06230F431BC95C0E00A4807B / * ABPhoneFieldCodes . txt * / = { isa = PBXFileReference ; fileEncoding = 4 ; lastKnownFileType = text ; name = ABPhoneFieldCodes . txt ; path = Resources / ABPhoneFieldCodes . txt ; sourceTree = " < group > " ; } ; 
 	 	 06230F441BC95C0E00A4807B / * PhoneFormats . dat * / = { isa = PBXFileReference ; lastKnownFileType = file ; name = PhoneFormats . dat ; path = Resources / PhoneFormats . dat ; sourceTree = " < group > " ; } ; 
 + 	 	 063073DA1BCD5D400053DEAF / * AADebugController . swift * / = { isa = PBXFileReference ; fileEncoding = 4 ; lastKnownFileType = sourcecode . swift ; path = AADebugController . swift ; sourceTree = " < group > " ; } ; 
 	 	 065974A41BC621F100B8C7DF / * AAAuthNavigationController . swift * / = { isa = PBXFileReference ; fileEncoding = 4 ; lastKnownFileType = sourcecode . swift ; path = AAAuthNavigationController . swift ; sourceTree = " < group > " ; } ; 
 	 	 065974A61BC62B3600B8C7DF / * ViewExtensions . swift * / = { isa = PBXFileReference ; fileEncoding = 4 ; lastKnownFileType = sourcecode . swift ; path = ViewExtensions . swift ; sourceTree = " < group > " ; } ; 
 	 	 065974C51BC680AA00B8C7DF / * j2objc . framework * / = { isa = PBXFileReference ; lastKnownFileType = wrapper . framework ; name = j2objc . framework ; path = " . . / . . / app - ios / Pods / J2ObjC - Framework / Frameworks / j2objc . framework " ; sourceTree = " < group > " ; } ; 
 @ @ - 761 , 6 + 763 , 7 @ @ 
 	 	 	 isa = PBXGroup ; 
 	 	 	 children = ( 
 	 	 	 	 066A53061BC53183000E606E / * AARecentViewController . swift * / , 
 + 	 	 	 	 063073DA1BCD5D400053DEAF / * AADebugController . swift * / , 
 	 	 	 ) ; 
 	 	 	 path = Recent ; 
 	 	 	 sourceTree = " < group > " ; 
 @ @ - 1157 , 6 + 1160 , 7 @ @ 
 	 	 	 	 066A51561BC4BEF5000E606E / * AALocalized . swift in Sources * / , 
 	 	 	 	 069CF4CF1BCB909A00C66E12 / * CLToken . m in Sources * / , 
 	 	 	 	 066A51441BC4BBAF000E606E / * Strings . swift in Sources * / , 
 + 	 	 	 	 063073DB1BCD5D400053DEAF / * AADebugController . swift in Sources * / , 
 	 	 	 	 066A53331BC534F5000E606E / * AAFileTypes . swift in Sources * / , 
 	 	 	 	 066A52FE1BC52FA9000E606E / * AAGroupCreateViewController . swift in Sources * / , 
 	 	 	 	 066A52E71BC52A20000E606E / * AAInviteLinkViewController . swift in Sources * / , 
 diff - - git a / actor - sdk / sdk - ios / ActorSDK / Sources / ActorSDK . swift b / actor - sdk / sdk - ios / ActorSDK / Sources / ActorSDK . swift 
 index 1d16883 . . bb05ea3 100644 
 - - - a / actor - sdk / sdk - ios / ActorSDK / Sources / ActorSDK . swift 
 + + + b / actor - sdk / sdk - ios / ActorSDK / Sources / ActorSDK . swift 
 @ @ - 264 , 6 + 264 , 7 @ @ public class ActorSDK { 
 tab . viewControllers = [ 
 AANavigationController ( rootViewController : AAContactsViewController ( ) ) , 
 AANavigationController ( rootViewController : AARecentViewController ( ) ) , 
 + AANavigationController ( rootViewController : AADebugController ( ) ) , 
 AANavigationController ( rootViewController : AASettingsViewController ( ) ) ] 
 tab . selectedIndex = 0 
 tab . selectedIndex = 1 
 diff - - git a / actor - sdk / sdk - ios / ActorSDK / Sources / Controllers / Recent / AADebugController . swift b / actor - sdk / sdk - ios / ActorSDK / Sources / Controllers / Recent / AADebugController . swift 
 new file mode 100644 
 index 0000000 . . 32554b4 
 - - - / dev / null 
 + + + b / actor - sdk / sdk - ios / ActorSDK / Sources / Controllers / Recent / AADebugController . swift 
 @ @ - 0 , 0 + 1 , 45 @ @ 
 + / / 
 + / / Copyright ( c ) 2014 - 2015 Actor LLC . < https : / / actor . im > 
 + / / 
 + 
 + import UIKit 
 + 
 + class AADebugController : AAContentTableController { 
 + 
 + var debugData : AAManagedArrayRows < ACDialogDesc , AACommonCell > ! 
 + 
 + init ( ) { 
 + super . init ( style : . Plain ) 
 + } 
 + 
 + required init ( coder aDecoder : NSCoder ) { 
 + fatalError ( " init ( coder : ) has not been implemented " ) 
 + } 
 + 
 + override func tableDidLoad ( ) { 
 + section { ( s ) - > ( ) in 
 + self . debugData = s . arrays { ( r : AAManagedArrayRows < ACDialogDesc , AACommonCell > ) - > ( ) in 
 + r . bindData = { ( cell : AACommonCell , data : ACDialogDesc ) - > ( ) in 
 + cell . setContent ( data . title ) 
 + } 
 + } 
 + } 
 + } 
 + 
 + override func tableWillBind ( binder : AABinder ) { 
 + binder . bind ( ActorSDK . sharedActor ( ) . messenger . getDialogGroupsVM ( ) . getGroupsValueModel ( ) ) { ( value : JavaUtilArrayList ? ) - > ( ) in 
 + 
 + if value ! = nil { 
 + var items = [ ACDialogDesc ] ( ) 
 + 
 + for i in 0 . . < value ! . size ( ) { 
 + for j in ( value ! . getWithInt ( i ) as ! ACDialogGroup ) . getDialogs ( ) { 
 + items . append ( j as ! ACDialogDesc ) 
 + } 
 + } 
 + self . debugData . data = items 
 + self . debugData . reload ( ) 
 + } 
 + } 
 + } 
 + } 
 \ No newline at end of file
