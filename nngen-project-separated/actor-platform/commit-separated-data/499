BLEU SCORE: 0.016074772865287294

TEST MSG: fix ( IOS ) : little fix
GENERATED MSG: Fixed crash when sharing contacts with empty firstname and / or lastname

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift < nl > index 97ded67 . . 60e3165 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift < nl > @ @ - 820 , 9 + 820 , 7 @ @ public class ConversationViewController : < nl > < nl > Actor . sendAudioWithPeer ( self . peer , withName : NSString . localizedStringWithFormat ( " % @ . ogg " , NSUUID ( ) . UUIDString ) as String , < nl > withDuration : jint ( duration * 1000 ) , withDescriptor : descriptor ) < nl > - < nl > } < nl > - audioRecorder . cancel ( ) < nl > } < nl > < nl > public func audioRecorderDidStartRecording ( ) {
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift < nl > index 1bb3c65 . . 2a91ceb 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift < nl > @ @ - 498 , 10 + 498 , 8 @ @ class ConversationViewController : AAConversationContentController , UIDocumentMen < nl > < nl > / / Names < nl > < nl > - let firstname : ABMultiValueRef = ABRecordCopyValue ( person , kABPersonFirstNameProperty ) . takeRetainedValue ( ) < nl > - let lastname : ABMultiValueRef = ABRecordCopyValue ( person , kABPersonLastNameProperty ) . takeRetainedValue ( ) < nl > - let name = ( firstname . description + " " + lastname . description ) . trim ( ) < nl > - < nl > + let name = ABRecordCopyCompositeName ( person ) ? . takeRetainedValue ( ) as String ? < nl > + < nl > / / Avatar < nl > < nl > var jAvatarImage : String ? = nil

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift 
 index 97ded67 . . 60e3165 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift 
 @ @ - 820 , 9 + 820 , 7 @ @ public class ConversationViewController : 
 
 Actor . sendAudioWithPeer ( self . peer , withName : NSString . localizedStringWithFormat ( " % @ . ogg " , NSUUID ( ) . UUIDString ) as String , 
 withDuration : jint ( duration * 1000 ) , withDescriptor : descriptor ) 
 - 
 } 
 - audioRecorder . cancel ( ) 
 } 
 
 public func audioRecorderDidStartRecording ( ) {

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift 
 index 1bb3c65 . . 2a91ceb 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Conversation / ConversationViewController . swift 
 @ @ - 498 , 10 + 498 , 8 @ @ class ConversationViewController : AAConversationContentController , UIDocumentMen 
 
 / / Names 
 
 - let firstname : ABMultiValueRef = ABRecordCopyValue ( person , kABPersonFirstNameProperty ) . takeRetainedValue ( ) 
 - let lastname : ABMultiValueRef = ABRecordCopyValue ( person , kABPersonLastNameProperty ) . takeRetainedValue ( ) 
 - let name = ( firstname . description + " " + lastname . description ) . trim ( ) 
 - 
 + let name = ABRecordCopyCompositeName ( person ) ? . takeRetainedValue ( ) as String ? 
 + 
 / / Avatar 
 
 var jAvatarImage : String ? = nil
