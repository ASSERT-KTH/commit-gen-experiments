BLEU SCORE: 0.1703557740895282

TEST MSG: fix ( android ) : update string resources group - > channel
GENERATED MSG: fix ( android ) : close group after exit , copy invite link , bind group privacy status via VM

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / DialogsDefaultFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / DialogsDefaultFragment . java < nl > index f885363 . . 768fb33 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / DialogsDefaultFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / DialogsDefaultFragment . java < nl > @ @ - 71 , 10 + 71 , 10 @ @ public class DialogsDefaultFragment extends BaseDialogFragment { < nl > } else if ( dialog . getPeer ( ) . getPeerType ( ) = = PeerType . GROUP ) { < nl > GroupVM groupVM = groups ( ) . get ( dialog . getPeer ( ) . getPeerId ( ) ) ; < nl > CharSequence [ ] items ; < nl > - int dialogs _ menu _ view = groupVM . getGroupType ( ) . equals ( GroupType . GROUP ) ? R . string . dialogs _ menu _ group _ view : R . string . dialogs _ menu _ channel _ view ; < nl > - int dialogs _ menu _ rename = groupVM . getGroupType ( ) . equals ( GroupType . GROUP ) ? R . string . dialogs _ menu _ group _ rename : R . string . dialogs _ menu _ channel _ rename ; < nl > - int dialogs _ menu _ leave = groupVM . getGroupType ( ) . equals ( GroupType . GROUP ) ? R . string . dialogs _ menu _ group _ leave : R . string . dialogs _ menu _ channel _ leave ; < nl > - int dialogs _ menu _ delete = groupVM . getGroupType ( ) . equals ( GroupType . GROUP ) ? R . string . dialogs _ menu _ group _ delete : R . string . dialogs _ menu _ channel _ delete ; < nl > + int dialogs _ menu _ view = groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . dialogs _ menu _ channel _ view : R . string . dialogs _ menu _ group _ view ; < nl > + int dialogs _ menu _ rename = groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . dialogs _ menu _ channel _ rename : R . string . dialogs _ menu _ group _ rename ; < nl > + int dialogs _ menu _ leave = groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . dialogs _ menu _ channel _ leave : R . string . dialogs _ menu _ group _ leave ; < nl > + int dialogs _ menu _ delete = groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . dialogs _ menu _ channel _ delete : R . string . dialogs _ menu _ group _ delete ; < nl > items = new CharSequence [ ] { < nl > getString ( dialogs _ menu _ view ) , < nl > getString ( dialogs _ menu _ rename ) , < nl > @ @ - 89 , 8 + 89 , 8 @ @ public class DialogsDefaultFragment extends BaseDialogFragment { < nl > } else if ( which = = 1 ) { < nl > startActivity ( Intents . editGroupTitle ( dialog . getPeer ( ) . getPeerId ( ) , getActivity ( ) ) ) ; < nl > } else if ( which = = 2 ) { < nl > - int alert _ delete _ title = groupVM . getGroupType ( ) . equals ( GroupType . GROUP ) ? R . string . alert _ delete _ group _ title : R . string . alert _ delete _ channel _ title ; < nl > - int alert _ leave _ message = groupVM . getGroupType ( ) . equals ( GroupType . GROUP ) ? R . string . alert _ leave _ group _ message : R . string . alert _ leave _ channel _ message ; < nl > + int alert _ delete _ title = groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . alert _ delete _ channel _ title : R . string . alert _ delete _ group _ title ; < nl > + int alert _ leave _ message = groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . alert _ leave _ channel _ message : R . string . alert _ leave _ group _ message ; < nl > new AlertDialog . Builder ( getActivity ( ) ) < nl > . setMessage ( getString ( groupVM . getIsCanLeave ( ) . get ( ) ? alert _ delete _ title : < nl > groupVM . getIsCanDelete ( ) . get ( ) ? alert _ delete _ title : < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupAdminFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupAdminFragment . java < nl > index 1d80cf5 . . d27dc58 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupAdminFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupAdminFragment . java < nl > @ @ - 43 , 11 + 43 , 7 @ @ public class GroupAdminFragment extends BaseFragment { < nl > public void onCreate ( Bundle saveInstance ) { < nl > super . onCreate ( saveInstance ) ; < nl > groupVM = messenger ( ) . getGroup ( getArguments ( ) . getInt ( " groupId " ) ) ; < nl > - if ( groupVM . getGroupType ( ) = = GroupType . CHANNEL ) { < nl > - setTitle ( R . string . channel _ admin _ title ) ; < nl > - } else { < nl > - setTitle ( R . string . group _ admin _ title ) ; < nl > - } < nl > + setTitle ( groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . channel _ admin _ title : R . string . group _ admin _ title ) ; < nl > } < nl > < nl > @ Nullable < nl > @ @ - 71 , 9 + 67 , 9 @ @ public class GroupAdminFragment extends BaseFragment { < nl > @ Override < nl > public void onChanged ( String val , Value < String > valueModel ) { < nl > if ( val = = null ) { < nl > - groupTypeValue . setText ( R . string . group _ type _ private ) ; < nl > + groupTypeValue . setText ( groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . channel _ type _ private : R . string . group _ type _ private ) ; < nl > } else { < nl > - groupTypeValue . setText ( R . string . group _ type _ pubic ) ; < nl > + groupTypeValue . setText ( groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . channel _ type _ pubic : R . string . group _ type _ pubic ) ; < nl > } < nl > } < nl > } ) ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupInfoFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupInfoFragment . java < nl > index 1fe55a9 . . 2d25c54 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupInfoFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupInfoFragment . java < nl > @ @ - 121 , 6 + 121 , 8 @ @ public class GroupInfoFragment extends BaseFragment { < nl > TextView shortLinkView = ( TextView ) header . findViewById ( R . id . shortNameLink ) ; < nl > < nl > TextView addMember = ( TextView ) header . findViewById ( R . id . addMemberAction ) ; < nl > + addMember . setText ( groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . channel _ add _ member : R . string . group _ add _ member ) ; < nl > + < nl > TextView members = ( TextView ) header . findViewById ( R . id . viewMembersAction ) ; < nl > TextView leaveAction = ( TextView ) header . findViewById ( R . id . leaveAction ) ; < nl > TextView administrationAction = ( TextView ) header . findViewById ( R . id . administrationAction ) ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupTypeFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupTypeFragment . java < nl > index 4b039bb . . c500c3e 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupTypeFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupTypeFragment . java < nl > @ @ - 13 , 6 + 13 , 7 @ @ import android . widget . RadioButton ; < nl > import android . widget . TextView ; < nl > import android . widget . Toast ; < nl > < nl > + import im . actor . core . entity . GroupType ; < nl > import im . actor . core . viewmodel . GroupVM ; < nl > import im . actor . sdk . ActorSDK ; < nl > import im . actor . sdk . R ; < nl > @ @ - 35 , 7 + 36 , 6 @ @ public class GroupTypeFragment extends BaseFragment { < nl > private boolean isPublic ; < nl > < nl > public GroupTypeFragment ( ) { < nl > - setTitle ( R . string . group _ title ) ; < nl > setRootFragment ( true ) ; < nl > setHomeAsUp ( true ) ; < nl > setShowHome ( true ) ; < nl > @ @ - 46 , 6 + 46 , 8 @ @ public class GroupTypeFragment extends BaseFragment { < nl > super . onCreate ( saveInstance ) ; < nl > < nl > groupVM = messenger ( ) . getGroup ( getArguments ( ) . getInt ( " groupId " ) ) ; < nl > + setTitle ( groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . channel _ title : R . string . group _ title ) ; < nl > + < nl > } < nl > < nl > @ Nullable < nl > @ @ - 54 , 12 + 56 , 16 @ @ public class GroupTypeFragment extends BaseFragment { < nl > View res = inflater . inflate ( R . layout . fragment _ edit _ type , container , false ) ; < nl > res . setBackgroundColor ( style . getBackyardBackgroundColor ( ) ) ; < nl > TextView publicTitle = ( TextView ) res . findViewById ( R . id . publicTitle ) ; < nl > + publicTitle . setText ( groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . group _ public _ channel _ title : R . string . group _ public _ group _ title ) ; < nl > publicTitle . setTextColor ( style . getTextPrimaryColor ( ) ) ; < nl > TextView publicDescription = ( TextView ) res . findViewById ( R . id . publicDescription ) ; < nl > + publicDescription . setText ( groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . group _ public _ channel _ text : R . string . group _ public _ group _ text ) ; < nl > publicDescription . setTextColor ( style . getTextSecondaryColor ( ) ) ; < nl > TextView privateTitle = ( TextView ) res . findViewById ( R . id . privateTitle ) ; < nl > + privateTitle . setText ( groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . group _ private _ channel _ title : R . string . group _ private _ group _ title ) ; < nl > privateTitle . setTextColor ( style . getTextPrimaryColor ( ) ) ; < nl > TextView privateDescription = ( TextView ) res . findViewById ( R . id . privateDescription ) ; < nl > + privateDescription . setText ( groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . group _ private _ channel _ text : R . string . group _ private _ group _ text ) ; < nl > privateDescription . setTextColor ( style . getTextSecondaryColor ( ) ) ; < nl > TextView publicLinkPrefix = ( TextView ) res . findViewById ( R . id . publicLinkPrefix ) ; < nl > publicLinkPrefix . setTextColor ( style . getTextSecondaryColor ( ) ) ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / MembersFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / MembersFragment . java < nl > index 38ba163 . . 4584c2b 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / MembersFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / MembersFragment . java < nl > @ @ - 14 , 6 + 14 , 7 @ @ import android . widget . TextView ; < nl > < nl > import fr . castorflex . android . circularprogressbar . CircularProgressBar ; < nl > import im . actor . core . entity . GroupMember ; < nl > + import im . actor . core . entity . GroupType ; < nl > import im . actor . core . viewmodel . GroupVM ; < nl > import im . actor . core . viewmodel . UserVM ; < nl > import im . actor . sdk . ActorSDK ; < nl > @ @ - 75 , 7 + 76 , 7 @ @ public class MembersFragment extends BaseFragment { < nl > addMmemberTV . setTextSize ( 16 ) ; < nl > addMmemberTV . setPadding ( Screen . dp ( 72 ) , 0 , 0 , 0 ) ; < nl > addMmemberTV . setGravity ( Gravity . CENTER _ VERTICAL ) ; < nl > - addMmemberTV . setText ( R . string . group _ add _ member ) ; < nl > + addMmemberTV . setText ( groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . channel _ add _ member : R . string . group _ add _ member ) ; < nl > addMmemberTV . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextPrimaryColor ( ) ) ; < nl > addMmemberTV . setOnClickListener ( view - > { < nl > startActivity ( new Intent ( getActivity ( ) , AddMemberActivity . class ) < nl > @ @ - 104 , 6 + 105 , 7 @ @ public class MembersFragment extends BaseFragment { < nl > } < nl > < nl > footer = new LinearLayout ( getActivity ( ) ) ; < nl > + footer . setVisibility ( View . INVISIBLE ) ; < nl > list . addFooterView ( footer ) ; < nl > CircularProgressBar botProgressView = new CircularProgressBar ( getActivity ( ) ) ; < nl > int padding = Screen . dp ( 16 ) ; < nl > @ @ - 160 , 11 + 162 , 12 @ @ public class MembersFragment extends BaseFragment { < nl > @ Override < nl > public void onLoaded ( ) { < nl > hideView ( progressView ) ; < nl > + showView ( footer ) ; < nl > } < nl > < nl > @ Override < nl > public void onLoadedToEnd ( ) { < nl > - footer . setVisibility ( View . INVISIBLE ) ; < nl > + hideView ( footer ) ; < nl > } < nl > } ) ; < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ members . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ members . xml < nl > index 9ee9658 . . 2d6d38c 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ members . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ members . xml < nl > @ @ - 5 , 6 + 5 , 7 @ @ < nl > < nl > < im . actor . sdk . view . adapters . RecyclerListView < nl > android : id = " @ + id / items " < nl > + android : footerDividersEnabled = " false " < nl > android : layout _ width = " match _ parent " < nl > android : layout _ height = " match _ parent " / > < nl > < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml < nl > index a576924 . . 5149fa8 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml < nl > @ @ - 342 , 6 + 342 , 7 @ @ < nl > < nl > < ! - - Group - - > < nl > < string name = " group _ title " > И н ф о р м а ц и я о г р у п п е < / string > < nl > + < string name = " channel _ title " > И н ф о р м а ц и я о к а н а л е < / string > < nl > < nl > < string name = " group _ members _ header " > У ч а с т н и к и < / string > < nl > < string name = " group _ members _ count " > { 0 } и з { 1 } < / string > < nl > @ @ - 367 , 6 + 368 , 7 @ @ < nl > < string name = " group _ shared _ files " > Д о к у м е н т ы < / string > < nl > < nl > < string name = " group _ add _ member " > Д о б а в и т ь в г р у п п у < / string > < nl > + < string name = " channel _ add _ member " > Д о б а в и т ь в к а н а л < / string > < nl > < string name = " group _ leave " > П о к и н у т ь г р у п п у < / string > < nl > < string name = " group _ leave _ channel " > П о к и н у т ь к а н а л < / string > < nl > < nl > @ @ - 393 , 11 + 395 , 19 @ @ < nl > < string name = " group _ private _ group _ title " > П р и в а т н а я г р у п п а < / string > < nl > < string name = " group _ public _ group _ text " > П у б л и ч н ы е г р у п п ы д о с т у п н ы д л я п о и с к а , к т о у г о д н о м о ж н е т в с т у п и т ь в т а к у ю г р у п п у < / string > < nl > < string name = " group _ public _ group _ title " > П у б л и ч н а я г р у п п а < / string > < nl > + < nl > + < string name = " group _ private _ channel _ text " > В п р и в а т ы й к а н а л м о ж н о п о п а с т ь т о л ь к о п о л и ч н о м у п р и г л а ш е н и ю < / string > < nl > + < string name = " group _ private _ channel _ title " > П р и в а т ы й к а н а л < / string > < nl > + < string name = " group _ public _ channel _ text " > П у б л и ч н ы е к а н а л ы д о с т у п н ы д л я п о и с к а , к т о у г о д н о м о ж н е т в с т у п и т ь в т а к о й к а н а л < / string > < nl > + < string name = " group _ public _ channel _ title " > П у б л и ч н ы й к а н а л < / string > < nl > + < nl > < string name = " group _ share _ history " > П о д е л и т ь с я и с т о р и е й < / string > < nl > < string name = " group _ share _ history _ hint " > В с е с о о б щ е н и я б у д у т д о с т у п н ы в с е м у ч а с т н и к а м < / string > < nl > < string name = " group _ type " > Т и п г р у п п ы < / string > < nl > < string name = " group _ type _ private " > П р и в а т н а я < / string > < nl > + < string name = " channel _ type _ private " > П р и в а т н ы й < / string > < nl > < string name = " group _ type _ pubic " > П у б л и ч н а я < / string > < nl > + < string name = " channel _ type _ pubic " > П у б л и ч н ы й < / string > < nl > < nl > < ! - - Channel - - > < nl > < string name = " channel _ admin _ title " > А д м и н и с т р и р о в а н и е к а н а л а < / string > < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml < nl > index ed7a708 . . 83ed6ab 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml < nl > @ @ - 337 , 6 + 337 , 7 @ @ < nl > < nl > < ! - - Group - - > < nl > < string name = " group _ title " > Group Info < / string > < nl > + < string name = " channel _ title " > Channel Info < / string > < nl > < string name = " group _ members _ header " > Members < / string > < nl > < string name = " group _ members _ count " > { 0 } of { 1 } < / string > < nl > < nl > @ @ - 362 , 6 + 363 , 7 @ @ < nl > < string name = " group _ shared _ files " > Documents < / string > < nl > < nl > < string name = " group _ add _ member " > Add a member < / string > < nl > + < string name = " channel _ add _ member " > Add a member < / string > < nl > < string name = " group _ leave " > Leave group < / string > < nl > < string name = " group _ leave _ channel " > Leave channel < / string > < nl > < string name = " group _ administration " > Administration < / string > < nl > @ @ - 378 , 7 + 380 , 9 @ @ < nl > < string name = " group _ type " > Group Type < / string > < nl > < string name = " channel _ type " > Channel Type < / string > < nl > < string name = " group _ type _ pubic " > Public < / string > < nl > + < string name = " channel _ type _ pubic " > Public < / string > < nl > < string name = " group _ type _ private " > Private < / string > < nl > + < string name = " channel _ type _ private " > Private < / string > < nl > < string name = " group _ delete " > Delete Group < / string > < nl > < string name = " group _ delete _ hint " > You will lose all messages in this group . < / string > < nl > < string name = " channel _ delete " > Delete Channel < / string > < nl > @ @ - 394 , 7 + 398 , 12 @ @ < nl > < string name = " group _ public _ group _ title " > Public Group < / string > < nl > < string name = " group _ public _ group _ text " > Public groups can be found in search , anyone can join them . < / string > < nl > < string name = " group _ private _ group _ title " > Private Group < / string > < nl > - < string name = " group _ private _ group _ text " > Private Group can only be joined via personal invitation . < / string > < nl > + < string name = " group _ private _ group _ text " > Private group can only be joined via personal invitation . < / string > < nl > + < nl > + < string name = " group _ public _ channel _ title " > Public Channel < / string > < nl > + < string name = " group _ public _ channel _ text " > Public channels can be found in search , anyone can join them . < / string > < nl > + < string name = " group _ private _ channel _ title " > Private channel < / string > < nl > + < string name = " group _ private _ channel _ text " > Private channel can only be joined via personal invitation . < / string > < nl > < nl > < nl > < string name = " group _ not _ member " > You are not a member of this group < / string >
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / AndroidManifest . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / AndroidManifest . xml < nl > index aa77568 . . fedd697 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / AndroidManifest . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / AndroidManifest . xml < nl > @ @ - 78 , 7 + 78 , 7 @ @ < nl > android : pathPrefix = " / join / " < nl > android : scheme = " https " / > < nl > < data < nl > - android : host = " app . actor . im " < nl > + android : host = " actor . im " < nl > android : pathPrefix = " / join / " < nl > android : scheme = " https " / > < nl > < / intent - filter > < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java < nl > index 28b11db . . 5e90a78 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java < nl > @ @ - 1068 , 4 + 1068 , 16 @ @ public class ActorSDK { < nl > T onNotDelegated ( ) ; < nl > < nl > } < nl > + < nl > + public static void returnToRoot ( Context context ) { < nl > + Intent i ; < nl > + ActorIntent startIntent = ActorSDK . sharedActor ( ) . getDelegate ( ) . getStartIntent ( ) ; < nl > + if ( startIntent ! = null & & startIntent instanceof ActorIntentActivity ) { < nl > + i = ( ( ActorIntentActivity ) startIntent ) . getIntent ( ) ; < nl > + } else { < nl > + i = new Intent ( context , RootActivity . class ) ; < nl > + } < nl > + i . setFlags ( Intent . FLAG _ ACTIVITY _ CLEAR _ TOP ) ; < nl > + context . startActivity ( i ) ; < nl > + } < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupAdminFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupAdminFragment . java < nl > index c37527e . . 1d80cf5 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupAdminFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupAdminFragment . java < nl > @ @ - 11 , 12 + 11 , 9 @ @ import android . widget . TextView ; < nl > import android . widget . Toast ; < nl > < nl > import im . actor . core . entity . GroupType ; < nl > - import im . actor . core . entity . Peer ; < nl > - import im . actor . core . viewmodel . CommandCallback ; < nl > import im . actor . core . viewmodel . GroupVM ; < nl > - import im . actor . runtime . actors . messages . * ; < nl > - import im . actor . runtime . actors . messages . Void ; < nl > - import im . actor . runtime . mvvm . ValueDoubleListener ; < nl > + import im . actor . runtime . mvvm . Value ; < nl > + import im . actor . runtime . mvvm . ValueChangedListener ; < nl > import im . actor . sdk . ActorSDK ; < nl > import im . actor . sdk . R ; < nl > import im . actor . sdk . controllers . BaseFragment ; < nl > @ @ - 69 , 11 + 66 , 18 @ @ public class GroupAdminFragment extends BaseFragment { < nl > } else { < nl > groupTypeTitle . setText ( R . string . group _ type ) ; < nl > } < nl > - if ( groupVM . getShortName ( ) . get ( ) = = null ) { < nl > - groupTypeValue . setText ( R . string . group _ type _ private ) ; < nl > - } else { < nl > - groupTypeValue . setText ( R . string . group _ type _ pubic ) ; < nl > - } < nl > + < nl > + bind ( groupVM . getShortName ( ) , new ValueChangedListener < String > ( ) { < nl > + @ Override < nl > + public void onChanged ( String val , Value < String > valueModel ) { < nl > + if ( val = = null ) { < nl > + groupTypeValue . setText ( R . string . group _ type _ private ) ; < nl > + } else { < nl > + groupTypeValue . setText ( R . string . group _ type _ pubic ) ; < nl > + } < nl > + } < nl > + } ) ; < nl > + < nl > if ( groupVM . getIsCanEditAdministration ( ) . get ( ) ) { < nl > res . findViewById ( R . id . groupTypeContainer ) . setOnClickListener ( v - > { < nl > startActivity ( new Intent ( getContext ( ) , GroupTypeActivity . class ) < nl > @ @ - 156 , 13 + 160 , 17 @ @ public class GroupAdminFragment extends BaseFragment { < nl > . setNegativeButton ( R . string . dialog _ cancel , null ) < nl > . setPositiveButton ( R . string . alert _ delete _ group _ yes , ( d1 , which1 ) - > { < nl > if ( groupVM . getIsCanLeave ( ) . get ( ) ) { < nl > - execute ( messenger ( ) . leaveAndDeleteGroup ( groupVM . getId ( ) ) , R . string . progress _ common ) . failure ( e - > { < nl > - Toast . makeText ( getActivity ( ) , R . string . toast _ unable _ leave , Toast . LENGTH _ LONG ) . show ( ) ; < nl > - } ) ; < nl > + execute ( messenger ( ) . leaveAndDeleteGroup ( groupVM . getId ( ) ) , R . string . progress _ common ) < nl > + . then ( aVoid - > ActorSDK . returnToRoot ( getActivity ( ) ) ) < nl > + . failure ( e - > { < nl > + Toast . makeText ( getActivity ( ) , R . string . toast _ unable _ leave , Toast . LENGTH _ LONG ) . show ( ) ; < nl > + } ) ; < nl > } else if ( groupVM . getIsCanDelete ( ) . get ( ) ) { < nl > - execute ( messenger ( ) . deleteGroup ( groupVM . getId ( ) ) , R . string . progress _ common ) . failure ( e - > { < nl > - Toast . makeText ( getActivity ( ) , R . string . toast _ unable _ delete _ chat , Toast . LENGTH _ LONG ) . show ( ) ; < nl > - } ) ; < nl > + execute ( messenger ( ) . deleteGroup ( groupVM . getId ( ) ) , R . string . progress _ common ) < nl > + . then ( aVoid - > ActorSDK . returnToRoot ( getActivity ( ) ) ) < nl > + . failure ( e - > { < nl > + Toast . makeText ( getActivity ( ) , R . string . toast _ unable _ delete _ chat , Toast . LENGTH _ LONG ) . show ( ) ; < nl > + } ) ; < nl > } < nl > } ) < nl > . show ( ) ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupInfoFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupInfoFragment . java < nl > index e46e26b . . 39fca58 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupInfoFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupInfoFragment . java < nl > @ @ - 1 , 6 + 1 , 9 @ @ < nl > package im . actor . sdk . controllers . group ; < nl > < nl > import android . app . AlertDialog ; < nl > + import android . content . ClipData ; < nl > + import android . content . ClipboardManager ; < nl > + import android . content . Context ; < nl > import android . content . Intent ; < nl > import android . graphics . Color ; < nl > import android . graphics . drawable . ColorDrawable ; < nl > @ @ - 190 , 6 + 193 , 15 @ @ public class GroupInfoFragment extends BaseFragment { < nl > } < nl > shortNameCont . setVisibility ( shortName ! = null ? View . VISIBLE : View . GONE ) ; < nl > } ) ; < nl > + final ClipboardManager clipboard = ( ClipboardManager ) getActivity ( ) . getSystemService ( Context . CLIPBOARD _ SERVICE ) ; < nl > + shortNameCont . setOnClickListener ( new View . OnClickListener ( ) { < nl > + @ Override < nl > + public void onClick ( View view ) { < nl > + String link = shortLinkView . getText ( ) . toString ( ) ; < nl > + clipboard . setPrimaryClip ( ClipData . newPlainText ( null , ( link . contains ( " : / / " ) ? " " : " https : / / " ) + link ) ) ; < nl > + Toast . makeText ( getActivity ( ) , getString ( R . string . invite _ link _ copied ) , Toast . LENGTH _ SHORT ) . show ( ) ; < nl > + } < nl > + } ) ; < nl > bind ( groupVM . getAbout ( ) , groupVM . getShortName ( ) , ( about , shortName ) - > { < nl > descriptionContainer . setVisibility ( about ! = null | | shortName ! = null < nl > ? View . VISIBLE < nl > @ @ - 258 , 7 + 270 , 7 @ @ public class GroupInfoFragment extends BaseFragment { < nl > . setMessage ( getString ( R . string . alert _ leave _ group _ message ) . replace ( " % 1 $ s " , < nl > groupVM . getName ( ) . get ( ) ) ) < nl > . setPositiveButton ( R . string . alert _ leave _ group _ yes , ( dialog2 , which ) - > { < nl > - execute ( messenger ( ) . leaveAndDeleteGroup ( chatId ) ) ; < nl > + execute ( messenger ( ) . leaveAndDeleteGroup ( chatId ) . then ( aVoid - > ActorSDK . returnToRoot ( getActivity ( ) ) ) ) ; < nl > } ) < nl > . setNegativeButton ( R . string . dialog _ cancel , null ) < nl > . show ( ) < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ group _ header . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ group _ header . xml < nl > index d8f203b . . 00d9251 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ group _ header . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ group _ header . xml < nl > @ @ - 107 , 6 + 107 , 7 @ @ < nl > android : paddingBottom = " 8dp " < nl > android : paddingLeft = " 72dp " < nl > android : paddingRight = " 8dp " < nl > + android : background = " @ drawable / selector " < nl > android : paddingTop = " 8dp " > < nl > < nl > < TextView < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml < nl > index 4ee05b2 . . 20c0967 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml < nl > @ @ - 388 , 7 + 388 , 7 @ @ < nl > < string name = " group _ share _ history " > П о д е л и т ь с я и с т о р и е й < / string > < nl > < string name = " group _ share _ history _ hint " > В с е с о о б щ е н и я б у д у т д о с т у п н ы в с е м у ч а с т н и к а м < / string > < nl > < string name = " group _ type " > Т и п г р у п п ы < / string > < nl > - < string name = " group _ type _ private " > Ч а с т н а я < / string > < nl > + < string name = " group _ type _ private " > П р и в а т н а я < / string > < nl > < string name = " group _ type _ pubic " > П у б л и ч н а я < / string > < nl > < nl > < ! - - Channel - - >

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / DialogsDefaultFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / DialogsDefaultFragment . java 
 index f885363 . . 768fb33 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / DialogsDefaultFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / dialogs / DialogsDefaultFragment . java 
 @ @ - 71 , 10 + 71 , 10 @ @ public class DialogsDefaultFragment extends BaseDialogFragment { 
 } else if ( dialog . getPeer ( ) . getPeerType ( ) = = PeerType . GROUP ) { 
 GroupVM groupVM = groups ( ) . get ( dialog . getPeer ( ) . getPeerId ( ) ) ; 
 CharSequence [ ] items ; 
 - int dialogs _ menu _ view = groupVM . getGroupType ( ) . equals ( GroupType . GROUP ) ? R . string . dialogs _ menu _ group _ view : R . string . dialogs _ menu _ channel _ view ; 
 - int dialogs _ menu _ rename = groupVM . getGroupType ( ) . equals ( GroupType . GROUP ) ? R . string . dialogs _ menu _ group _ rename : R . string . dialogs _ menu _ channel _ rename ; 
 - int dialogs _ menu _ leave = groupVM . getGroupType ( ) . equals ( GroupType . GROUP ) ? R . string . dialogs _ menu _ group _ leave : R . string . dialogs _ menu _ channel _ leave ; 
 - int dialogs _ menu _ delete = groupVM . getGroupType ( ) . equals ( GroupType . GROUP ) ? R . string . dialogs _ menu _ group _ delete : R . string . dialogs _ menu _ channel _ delete ; 
 + int dialogs _ menu _ view = groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . dialogs _ menu _ channel _ view : R . string . dialogs _ menu _ group _ view ; 
 + int dialogs _ menu _ rename = groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . dialogs _ menu _ channel _ rename : R . string . dialogs _ menu _ group _ rename ; 
 + int dialogs _ menu _ leave = groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . dialogs _ menu _ channel _ leave : R . string . dialogs _ menu _ group _ leave ; 
 + int dialogs _ menu _ delete = groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . dialogs _ menu _ channel _ delete : R . string . dialogs _ menu _ group _ delete ; 
 items = new CharSequence [ ] { 
 getString ( dialogs _ menu _ view ) , 
 getString ( dialogs _ menu _ rename ) , 
 @ @ - 89 , 8 + 89 , 8 @ @ public class DialogsDefaultFragment extends BaseDialogFragment { 
 } else if ( which = = 1 ) { 
 startActivity ( Intents . editGroupTitle ( dialog . getPeer ( ) . getPeerId ( ) , getActivity ( ) ) ) ; 
 } else if ( which = = 2 ) { 
 - int alert _ delete _ title = groupVM . getGroupType ( ) . equals ( GroupType . GROUP ) ? R . string . alert _ delete _ group _ title : R . string . alert _ delete _ channel _ title ; 
 - int alert _ leave _ message = groupVM . getGroupType ( ) . equals ( GroupType . GROUP ) ? R . string . alert _ leave _ group _ message : R . string . alert _ leave _ channel _ message ; 
 + int alert _ delete _ title = groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . alert _ delete _ channel _ title : R . string . alert _ delete _ group _ title ; 
 + int alert _ leave _ message = groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . alert _ leave _ channel _ message : R . string . alert _ leave _ group _ message ; 
 new AlertDialog . Builder ( getActivity ( ) ) 
 . setMessage ( getString ( groupVM . getIsCanLeave ( ) . get ( ) ? alert _ delete _ title : 
 groupVM . getIsCanDelete ( ) . get ( ) ? alert _ delete _ title : 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupAdminFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupAdminFragment . java 
 index 1d80cf5 . . d27dc58 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupAdminFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupAdminFragment . java 
 @ @ - 43 , 11 + 43 , 7 @ @ public class GroupAdminFragment extends BaseFragment { 
 public void onCreate ( Bundle saveInstance ) { 
 super . onCreate ( saveInstance ) ; 
 groupVM = messenger ( ) . getGroup ( getArguments ( ) . getInt ( " groupId " ) ) ; 
 - if ( groupVM . getGroupType ( ) = = GroupType . CHANNEL ) { 
 - setTitle ( R . string . channel _ admin _ title ) ; 
 - } else { 
 - setTitle ( R . string . group _ admin _ title ) ; 
 - } 
 + setTitle ( groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . channel _ admin _ title : R . string . group _ admin _ title ) ; 
 } 
 
 @ Nullable 
 @ @ - 71 , 9 + 67 , 9 @ @ public class GroupAdminFragment extends BaseFragment { 
 @ Override 
 public void onChanged ( String val , Value < String > valueModel ) { 
 if ( val = = null ) { 
 - groupTypeValue . setText ( R . string . group _ type _ private ) ; 
 + groupTypeValue . setText ( groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . channel _ type _ private : R . string . group _ type _ private ) ; 
 } else { 
 - groupTypeValue . setText ( R . string . group _ type _ pubic ) ; 
 + groupTypeValue . setText ( groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . channel _ type _ pubic : R . string . group _ type _ pubic ) ; 
 } 
 } 
 } ) ; 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupInfoFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupInfoFragment . java 
 index 1fe55a9 . . 2d25c54 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupInfoFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupInfoFragment . java 
 @ @ - 121 , 6 + 121 , 8 @ @ public class GroupInfoFragment extends BaseFragment { 
 TextView shortLinkView = ( TextView ) header . findViewById ( R . id . shortNameLink ) ; 
 
 TextView addMember = ( TextView ) header . findViewById ( R . id . addMemberAction ) ; 
 + addMember . setText ( groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . channel _ add _ member : R . string . group _ add _ member ) ; 
 + 
 TextView members = ( TextView ) header . findViewById ( R . id . viewMembersAction ) ; 
 TextView leaveAction = ( TextView ) header . findViewById ( R . id . leaveAction ) ; 
 TextView administrationAction = ( TextView ) header . findViewById ( R . id . administrationAction ) ; 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupTypeFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupTypeFragment . java 
 index 4b039bb . . c500c3e 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupTypeFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupTypeFragment . java 
 @ @ - 13 , 6 + 13 , 7 @ @ import android . widget . RadioButton ; 
 import android . widget . TextView ; 
 import android . widget . Toast ; 
 
 + import im . actor . core . entity . GroupType ; 
 import im . actor . core . viewmodel . GroupVM ; 
 import im . actor . sdk . ActorSDK ; 
 import im . actor . sdk . R ; 
 @ @ - 35 , 7 + 36 , 6 @ @ public class GroupTypeFragment extends BaseFragment { 
 private boolean isPublic ; 
 
 public GroupTypeFragment ( ) { 
 - setTitle ( R . string . group _ title ) ; 
 setRootFragment ( true ) ; 
 setHomeAsUp ( true ) ; 
 setShowHome ( true ) ; 
 @ @ - 46 , 6 + 46 , 8 @ @ public class GroupTypeFragment extends BaseFragment { 
 super . onCreate ( saveInstance ) ; 
 
 groupVM = messenger ( ) . getGroup ( getArguments ( ) . getInt ( " groupId " ) ) ; 
 + setTitle ( groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . channel _ title : R . string . group _ title ) ; 
 + 
 } 
 
 @ Nullable 
 @ @ - 54 , 12 + 56 , 16 @ @ public class GroupTypeFragment extends BaseFragment { 
 View res = inflater . inflate ( R . layout . fragment _ edit _ type , container , false ) ; 
 res . setBackgroundColor ( style . getBackyardBackgroundColor ( ) ) ; 
 TextView publicTitle = ( TextView ) res . findViewById ( R . id . publicTitle ) ; 
 + publicTitle . setText ( groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . group _ public _ channel _ title : R . string . group _ public _ group _ title ) ; 
 publicTitle . setTextColor ( style . getTextPrimaryColor ( ) ) ; 
 TextView publicDescription = ( TextView ) res . findViewById ( R . id . publicDescription ) ; 
 + publicDescription . setText ( groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . group _ public _ channel _ text : R . string . group _ public _ group _ text ) ; 
 publicDescription . setTextColor ( style . getTextSecondaryColor ( ) ) ; 
 TextView privateTitle = ( TextView ) res . findViewById ( R . id . privateTitle ) ; 
 + privateTitle . setText ( groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . group _ private _ channel _ title : R . string . group _ private _ group _ title ) ; 
 privateTitle . setTextColor ( style . getTextPrimaryColor ( ) ) ; 
 TextView privateDescription = ( TextView ) res . findViewById ( R . id . privateDescription ) ; 
 + privateDescription . setText ( groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . group _ private _ channel _ text : R . string . group _ private _ group _ text ) ; 
 privateDescription . setTextColor ( style . getTextSecondaryColor ( ) ) ; 
 TextView publicLinkPrefix = ( TextView ) res . findViewById ( R . id . publicLinkPrefix ) ; 
 publicLinkPrefix . setTextColor ( style . getTextSecondaryColor ( ) ) ; 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / MembersFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / MembersFragment . java 
 index 38ba163 . . 4584c2b 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / MembersFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / MembersFragment . java 
 @ @ - 14 , 6 + 14 , 7 @ @ import android . widget . TextView ; 
 
 import fr . castorflex . android . circularprogressbar . CircularProgressBar ; 
 import im . actor . core . entity . GroupMember ; 
 + import im . actor . core . entity . GroupType ; 
 import im . actor . core . viewmodel . GroupVM ; 
 import im . actor . core . viewmodel . UserVM ; 
 import im . actor . sdk . ActorSDK ; 
 @ @ - 75 , 7 + 76 , 7 @ @ public class MembersFragment extends BaseFragment { 
 addMmemberTV . setTextSize ( 16 ) ; 
 addMmemberTV . setPadding ( Screen . dp ( 72 ) , 0 , 0 , 0 ) ; 
 addMmemberTV . setGravity ( Gravity . CENTER _ VERTICAL ) ; 
 - addMmemberTV . setText ( R . string . group _ add _ member ) ; 
 + addMmemberTV . setText ( groupVM . getGroupType ( ) = = GroupType . CHANNEL ? R . string . channel _ add _ member : R . string . group _ add _ member ) ; 
 addMmemberTV . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextPrimaryColor ( ) ) ; 
 addMmemberTV . setOnClickListener ( view - > { 
 startActivity ( new Intent ( getActivity ( ) , AddMemberActivity . class ) 
 @ @ - 104 , 6 + 105 , 7 @ @ public class MembersFragment extends BaseFragment { 
 } 
 
 footer = new LinearLayout ( getActivity ( ) ) ; 
 + footer . setVisibility ( View . INVISIBLE ) ; 
 list . addFooterView ( footer ) ; 
 CircularProgressBar botProgressView = new CircularProgressBar ( getActivity ( ) ) ; 
 int padding = Screen . dp ( 16 ) ; 
 @ @ - 160 , 11 + 162 , 12 @ @ public class MembersFragment extends BaseFragment { 
 @ Override 
 public void onLoaded ( ) { 
 hideView ( progressView ) ; 
 + showView ( footer ) ; 
 } 
 
 @ Override 
 public void onLoadedToEnd ( ) { 
 - footer . setVisibility ( View . INVISIBLE ) ; 
 + hideView ( footer ) ; 
 } 
 } ) ; 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ members . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ members . xml 
 index 9ee9658 . . 2d6d38c 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ members . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ members . xml 
 @ @ - 5 , 6 + 5 , 7 @ @ 
 
 < im . actor . sdk . view . adapters . RecyclerListView 
 android : id = " @ + id / items " 
 + android : footerDividersEnabled = " false " 
 android : layout _ width = " match _ parent " 
 android : layout _ height = " match _ parent " / > 
 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml 
 index a576924 . . 5149fa8 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml 
 @ @ - 342 , 6 + 342 , 7 @ @ 
 
 < ! - - Group - - > 
 < string name = " group _ title " > И н ф о р м а ц и я о г р у п п е < / string > 
 + < string name = " channel _ title " > И н ф о р м а ц и я о к а н а л е < / string > 
 
 < string name = " group _ members _ header " > У ч а с т н и к и < / string > 
 < string name = " group _ members _ count " > { 0 } и з { 1 } < / string > 
 @ @ - 367 , 6 + 368 , 7 @ @ 
 < string name = " group _ shared _ files " > Д о к у м е н т ы < / string > 
 
 < string name = " group _ add _ member " > Д о б а в и т ь в г р у п п у < / string > 
 + < string name = " channel _ add _ member " > Д о б а в и т ь в к а н а л < / string > 
 < string name = " group _ leave " > П о к и н у т ь г р у п п у < / string > 
 < string name = " group _ leave _ channel " > П о к и н у т ь к а н а л < / string > 
 
 @ @ - 393 , 11 + 395 , 19 @ @ 
 < string name = " group _ private _ group _ title " > П р и в а т н а я г р у п п а < / string > 
 < string name = " group _ public _ group _ text " > П у б л и ч н ы е г р у п п ы д о с т у п н ы д л я п о и с к а , к т о у г о д н о м о ж н е т в с т у п и т ь в т а к у ю г р у п п у < / string > 
 < string name = " group _ public _ group _ title " > П у б л и ч н а я г р у п п а < / string > 
 + 
 + < string name = " group _ private _ channel _ text " > В п р и в а т ы й к а н а л м о ж н о п о п а с т ь т о л ь к о п о л и ч н о м у п р и г л а ш е н и ю < / string > 
 + < string name = " group _ private _ channel _ title " > П р и в а т ы й к а н а л < / string > 
 + < string name = " group _ public _ channel _ text " > П у б л и ч н ы е к а н а л ы д о с т у п н ы д л я п о и с к а , к т о у г о д н о м о ж н е т в с т у п и т ь в т а к о й к а н а л < / string > 
 + < string name = " group _ public _ channel _ title " > П у б л и ч н ы й к а н а л < / string > 
 + 
 < string name = " group _ share _ history " > П о д е л и т ь с я и с т о р и е й < / string > 
 < string name = " group _ share _ history _ hint " > В с е с о о б щ е н и я б у д у т д о с т у п н ы в с е м у ч а с т н и к а м < / string > 
 < string name = " group _ type " > Т и п г р у п п ы < / string > 
 < string name = " group _ type _ private " > П р и в а т н а я < / string > 
 + < string name = " channel _ type _ private " > П р и в а т н ы й < / string > 
 < string name = " group _ type _ pubic " > П у б л и ч н а я < / string > 
 + < string name = " channel _ type _ pubic " > П у б л и ч н ы й < / string > 
 
 < ! - - Channel - - > 
 < string name = " channel _ admin _ title " > А д м и н и с т р и р о в а н и е к а н а л а < / string > 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml 
 index ed7a708 . . 83ed6ab 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml 
 @ @ - 337 , 6 + 337 , 7 @ @ 
 
 < ! - - Group - - > 
 < string name = " group _ title " > Group Info < / string > 
 + < string name = " channel _ title " > Channel Info < / string > 
 < string name = " group _ members _ header " > Members < / string > 
 < string name = " group _ members _ count " > { 0 } of { 1 } < / string > 
 
 @ @ - 362 , 6 + 363 , 7 @ @ 
 < string name = " group _ shared _ files " > Documents < / string > 
 
 < string name = " group _ add _ member " > Add a member < / string > 
 + < string name = " channel _ add _ member " > Add a member < / string > 
 < string name = " group _ leave " > Leave group < / string > 
 < string name = " group _ leave _ channel " > Leave channel < / string > 
 < string name = " group _ administration " > Administration < / string > 
 @ @ - 378 , 7 + 380 , 9 @ @ 
 < string name = " group _ type " > Group Type < / string > 
 < string name = " channel _ type " > Channel Type < / string > 
 < string name = " group _ type _ pubic " > Public < / string > 
 + < string name = " channel _ type _ pubic " > Public < / string > 
 < string name = " group _ type _ private " > Private < / string > 
 + < string name = " channel _ type _ private " > Private < / string > 
 < string name = " group _ delete " > Delete Group < / string > 
 < string name = " group _ delete _ hint " > You will lose all messages in this group . < / string > 
 < string name = " channel _ delete " > Delete Channel < / string > 
 @ @ - 394 , 7 + 398 , 12 @ @ 
 < string name = " group _ public _ group _ title " > Public Group < / string > 
 < string name = " group _ public _ group _ text " > Public groups can be found in search , anyone can join them . < / string > 
 < string name = " group _ private _ group _ title " > Private Group < / string > 
 - < string name = " group _ private _ group _ text " > Private Group can only be joined via personal invitation . < / string > 
 + < string name = " group _ private _ group _ text " > Private group can only be joined via personal invitation . < / string > 
 + 
 + < string name = " group _ public _ channel _ title " > Public Channel < / string > 
 + < string name = " group _ public _ channel _ text " > Public channels can be found in search , anyone can join them . < / string > 
 + < string name = " group _ private _ channel _ title " > Private channel < / string > 
 + < string name = " group _ private _ channel _ text " > Private channel can only be joined via personal invitation . < / string > 
 
 
 < string name = " group _ not _ member " > You are not a member of this group < / string >

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / AndroidManifest . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / AndroidManifest . xml 
 index aa77568 . . fedd697 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / AndroidManifest . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / AndroidManifest . xml 
 @ @ - 78 , 7 + 78 , 7 @ @ 
 android : pathPrefix = " / join / " 
 android : scheme = " https " / > 
 < data 
 - android : host = " app . actor . im " 
 + android : host = " actor . im " 
 android : pathPrefix = " / join / " 
 android : scheme = " https " / > 
 < / intent - filter > 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java 
 index 28b11db . . 5e90a78 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java 
 @ @ - 1068 , 4 + 1068 , 16 @ @ public class ActorSDK { 
 T onNotDelegated ( ) ; 
 
 } 
 + 
 + public static void returnToRoot ( Context context ) { 
 + Intent i ; 
 + ActorIntent startIntent = ActorSDK . sharedActor ( ) . getDelegate ( ) . getStartIntent ( ) ; 
 + if ( startIntent ! = null & & startIntent instanceof ActorIntentActivity ) { 
 + i = ( ( ActorIntentActivity ) startIntent ) . getIntent ( ) ; 
 + } else { 
 + i = new Intent ( context , RootActivity . class ) ; 
 + } 
 + i . setFlags ( Intent . FLAG _ ACTIVITY _ CLEAR _ TOP ) ; 
 + context . startActivity ( i ) ; 
 + } 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupAdminFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupAdminFragment . java 
 index c37527e . . 1d80cf5 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupAdminFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupAdminFragment . java 
 @ @ - 11 , 12 + 11 , 9 @ @ import android . widget . TextView ; 
 import android . widget . Toast ; 
 
 import im . actor . core . entity . GroupType ; 
 - import im . actor . core . entity . Peer ; 
 - import im . actor . core . viewmodel . CommandCallback ; 
 import im . actor . core . viewmodel . GroupVM ; 
 - import im . actor . runtime . actors . messages . * ; 
 - import im . actor . runtime . actors . messages . Void ; 
 - import im . actor . runtime . mvvm . ValueDoubleListener ; 
 + import im . actor . runtime . mvvm . Value ; 
 + import im . actor . runtime . mvvm . ValueChangedListener ; 
 import im . actor . sdk . ActorSDK ; 
 import im . actor . sdk . R ; 
 import im . actor . sdk . controllers . BaseFragment ; 
 @ @ - 69 , 11 + 66 , 18 @ @ public class GroupAdminFragment extends BaseFragment { 
 } else { 
 groupTypeTitle . setText ( R . string . group _ type ) ; 
 } 
 - if ( groupVM . getShortName ( ) . get ( ) = = null ) { 
 - groupTypeValue . setText ( R . string . group _ type _ private ) ; 
 - } else { 
 - groupTypeValue . setText ( R . string . group _ type _ pubic ) ; 
 - } 
 + 
 + bind ( groupVM . getShortName ( ) , new ValueChangedListener < String > ( ) { 
 + @ Override 
 + public void onChanged ( String val , Value < String > valueModel ) { 
 + if ( val = = null ) { 
 + groupTypeValue . setText ( R . string . group _ type _ private ) ; 
 + } else { 
 + groupTypeValue . setText ( R . string . group _ type _ pubic ) ; 
 + } 
 + } 
 + } ) ; 
 + 
 if ( groupVM . getIsCanEditAdministration ( ) . get ( ) ) { 
 res . findViewById ( R . id . groupTypeContainer ) . setOnClickListener ( v - > { 
 startActivity ( new Intent ( getContext ( ) , GroupTypeActivity . class ) 
 @ @ - 156 , 13 + 160 , 17 @ @ public class GroupAdminFragment extends BaseFragment { 
 . setNegativeButton ( R . string . dialog _ cancel , null ) 
 . setPositiveButton ( R . string . alert _ delete _ group _ yes , ( d1 , which1 ) - > { 
 if ( groupVM . getIsCanLeave ( ) . get ( ) ) { 
 - execute ( messenger ( ) . leaveAndDeleteGroup ( groupVM . getId ( ) ) , R . string . progress _ common ) . failure ( e - > { 
 - Toast . makeText ( getActivity ( ) , R . string . toast _ unable _ leave , Toast . LENGTH _ LONG ) . show ( ) ; 
 - } ) ; 
 + execute ( messenger ( ) . leaveAndDeleteGroup ( groupVM . getId ( ) ) , R . string . progress _ common ) 
 + . then ( aVoid - > ActorSDK . returnToRoot ( getActivity ( ) ) ) 
 + . failure ( e - > { 
 + Toast . makeText ( getActivity ( ) , R . string . toast _ unable _ leave , Toast . LENGTH _ LONG ) . show ( ) ; 
 + } ) ; 
 } else if ( groupVM . getIsCanDelete ( ) . get ( ) ) { 
 - execute ( messenger ( ) . deleteGroup ( groupVM . getId ( ) ) , R . string . progress _ common ) . failure ( e - > { 
 - Toast . makeText ( getActivity ( ) , R . string . toast _ unable _ delete _ chat , Toast . LENGTH _ LONG ) . show ( ) ; 
 - } ) ; 
 + execute ( messenger ( ) . deleteGroup ( groupVM . getId ( ) ) , R . string . progress _ common ) 
 + . then ( aVoid - > ActorSDK . returnToRoot ( getActivity ( ) ) ) 
 + . failure ( e - > { 
 + Toast . makeText ( getActivity ( ) , R . string . toast _ unable _ delete _ chat , Toast . LENGTH _ LONG ) . show ( ) ; 
 + } ) ; 
 } 
 } ) 
 . show ( ) ; 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupInfoFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupInfoFragment . java 
 index e46e26b . . 39fca58 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupInfoFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / group / GroupInfoFragment . java 
 @ @ - 1 , 6 + 1 , 9 @ @ 
 package im . actor . sdk . controllers . group ; 
 
 import android . app . AlertDialog ; 
 + import android . content . ClipData ; 
 + import android . content . ClipboardManager ; 
 + import android . content . Context ; 
 import android . content . Intent ; 
 import android . graphics . Color ; 
 import android . graphics . drawable . ColorDrawable ; 
 @ @ - 190 , 6 + 193 , 15 @ @ public class GroupInfoFragment extends BaseFragment { 
 } 
 shortNameCont . setVisibility ( shortName ! = null ? View . VISIBLE : View . GONE ) ; 
 } ) ; 
 + final ClipboardManager clipboard = ( ClipboardManager ) getActivity ( ) . getSystemService ( Context . CLIPBOARD _ SERVICE ) ; 
 + shortNameCont . setOnClickListener ( new View . OnClickListener ( ) { 
 + @ Override 
 + public void onClick ( View view ) { 
 + String link = shortLinkView . getText ( ) . toString ( ) ; 
 + clipboard . setPrimaryClip ( ClipData . newPlainText ( null , ( link . contains ( " : / / " ) ? " " : " https : / / " ) + link ) ) ; 
 + Toast . makeText ( getActivity ( ) , getString ( R . string . invite _ link _ copied ) , Toast . LENGTH _ SHORT ) . show ( ) ; 
 + } 
 + } ) ; 
 bind ( groupVM . getAbout ( ) , groupVM . getShortName ( ) , ( about , shortName ) - > { 
 descriptionContainer . setVisibility ( about ! = null | | shortName ! = null 
 ? View . VISIBLE 
 @ @ - 258 , 7 + 270 , 7 @ @ public class GroupInfoFragment extends BaseFragment { 
 . setMessage ( getString ( R . string . alert _ leave _ group _ message ) . replace ( " % 1 $ s " , 
 groupVM . getName ( ) . get ( ) ) ) 
 . setPositiveButton ( R . string . alert _ leave _ group _ yes , ( dialog2 , which ) - > { 
 - execute ( messenger ( ) . leaveAndDeleteGroup ( chatId ) ) ; 
 + execute ( messenger ( ) . leaveAndDeleteGroup ( chatId ) . then ( aVoid - > ActorSDK . returnToRoot ( getActivity ( ) ) ) ) ; 
 } ) 
 . setNegativeButton ( R . string . dialog _ cancel , null ) 
 . show ( ) 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ group _ header . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ group _ header . xml 
 index d8f203b . . 00d9251 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ group _ header . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ group _ header . xml 
 @ @ - 107 , 6 + 107 , 7 @ @ 
 android : paddingBottom = " 8dp " 
 android : paddingLeft = " 72dp " 
 android : paddingRight = " 8dp " 
 + android : background = " @ drawable / selector " 
 android : paddingTop = " 8dp " > 
 
 < TextView 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml 
 index 4ee05b2 . . 20c0967 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml 
 @ @ - 388 , 7 + 388 , 7 @ @ 
 < string name = " group _ share _ history " > П о д е л и т ь с я и с т о р и е й < / string > 
 < string name = " group _ share _ history _ hint " > В с е с о о б щ е н и я б у д у т д о с т у п н ы в с е м у ч а с т н и к а м < / string > 
 < string name = " group _ type " > Т и п г р у п п ы < / string > 
 - < string name = " group _ type _ private " > Ч а с т н а я < / string > 
 + < string name = " group _ type _ private " > П р и в а т н а я < / string > 
 < string name = " group _ type _ pubic " > П у б л и ч н а я < / string > 
 
 < ! - - Channel - - >
