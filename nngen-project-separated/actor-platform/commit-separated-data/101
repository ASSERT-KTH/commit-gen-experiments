BLEU SCORE: 0.8091067115702212

TEST MSG: feat ( core ) : Updated scheme
GENERATED MSG: feat ( core ) : Updated API

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / ApiAdminSettings . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / ApiAdminSettings . java < nl > index 00aced4 . . b8ee0de 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / ApiAdminSettings . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / ApiAdminSettings . java < nl > @ @ - 20 , 12 + 20 , 14 @ @ public class ApiAdminSettings extends BserObject { < nl > private boolean canMembersInvite ; < nl > private boolean canMembersEditGroupInfo ; < nl > private boolean canAdminsEditGroupInfo ; < nl > + private boolean showJoinLeaveMessages ; < nl > < nl > - public ApiAdminSettings ( boolean showAdminsToMembers , boolean canMembersInvite , boolean canMembersEditGroupInfo , boolean canAdminsEditGroupInfo ) { < nl > + public ApiAdminSettings ( boolean showAdminsToMembers , boolean canMembersInvite , boolean canMembersEditGroupInfo , boolean canAdminsEditGroupInfo , boolean showJoinLeaveMessages ) { < nl > this . showAdminsToMembers = showAdminsToMembers ; < nl > this . canMembersInvite = canMembersInvite ; < nl > this . canMembersEditGroupInfo = canMembersEditGroupInfo ; < nl > this . canAdminsEditGroupInfo = canAdminsEditGroupInfo ; < nl > + this . showJoinLeaveMessages = showJoinLeaveMessages ; < nl > } < nl > < nl > public ApiAdminSettings ( ) { < nl > @ @ - 48 , 12 + 50 , 17 @ @ public class ApiAdminSettings extends BserObject { < nl > return this . canAdminsEditGroupInfo ; < nl > } < nl > < nl > + public boolean showJoinLeaveMessages ( ) { < nl > + return this . showJoinLeaveMessages ; < nl > + } < nl > + < nl > @ Override < nl > public void parse ( BserValues values ) throws IOException { < nl > this . showAdminsToMembers = values . getBool ( 1 ) ; < nl > this . canMembersInvite = values . getBool ( 2 ) ; < nl > this . canMembersEditGroupInfo = values . getBool ( 3 ) ; < nl > this . canAdminsEditGroupInfo = values . getBool ( 4 ) ; < nl > + this . showJoinLeaveMessages = values . getBool ( 5 ) ; < nl > if ( values . hasRemaining ( ) ) { < nl > setUnmappedObjects ( values . buildRemaining ( ) ) ; < nl > } < nl > @ @ - 65 , 6 + 72 , 7 @ @ public class ApiAdminSettings extends BserObject { < nl > writer . writeBool ( 2 , this . canMembersInvite ) ; < nl > writer . writeBool ( 3 , this . canMembersEditGroupInfo ) ; < nl > writer . writeBool ( 4 , this . canAdminsEditGroupInfo ) ; < nl > + writer . writeBool ( 5 , this . showJoinLeaveMessages ) ; < nl > if ( this . getUnmappedObjects ( ) ! = null ) { < nl > SparseArray < Object > unmapped = this . getUnmappedObjects ( ) ; < nl > for ( int i = 0 ; i < unmapped . size ( ) ; i + + ) { < nl > @ @ - 81 , 6 + 89 , 7 @ @ public class ApiAdminSettings extends BserObject { < nl > res + = " , canMembersInvite = " + this . canMembersInvite ; < nl > res + = " , canMembersEditGroupInfo = " + this . canMembersEditGroupInfo ; < nl > res + = " , canAdminsEditGroupInfo = " + this . canAdminsEditGroupInfo ; < nl > + res + = " , showJoinLeaveMessages = " + this . showJoinLeaveMessages ; < nl > res + = " } " ; < nl > return res ; < nl > }
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / parser / RpcParser . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / parser / RpcParser . java < nl > index 514263a . . 709b69a 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / parser / RpcParser . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / parser / RpcParser . java < nl > @ @ - 87 , 6 + 87 , 7 @ @ public class RpcParser extends BaseParser < RpcScope > { < nl > case 213 : return RequestEditGroupAbout . fromBytes ( payload ) ; < nl > case 69 : return RequestInviteUser . fromBytes ( payload ) ; < nl > case 70 : return RequestLeaveGroup . fromBytes ( payload ) ; < nl > + case 2721 : return RequestLeaveAndDelete . fromBytes ( payload ) ; < nl > case 71 : return RequestKickUser . fromBytes ( payload ) ; < nl > case 2784 : return RequestMakeUserAdmin . fromBytes ( payload ) ; < nl > case 2791 : return RequestDismissUserAdmin . fromBytes ( payload ) ; < nl > diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / RequestLeaveAndDelete . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / RequestLeaveAndDelete . java < nl > new file mode 100644 < nl > index 0000000 . . 810dd05 < nl > - - - / dev / null < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / RequestLeaveAndDelete . java < nl > @ @ - 0 , 0 + 1 , 65 @ @ < nl > + package im . actor . core . api . rpc ; < nl > + / * < nl > + * Generated by the Actor API Scheme generator . DO NOT EDIT ! < nl > + * / < nl > + < nl > + import im . actor . runtime . bser . * ; < nl > + import im . actor . runtime . collections . * ; < nl > + import static im . actor . runtime . bser . Utils . * ; < nl > + import im . actor . core . network . parser . * ; < nl > + import org . jetbrains . annotations . Nullable ; < nl > + import org . jetbrains . annotations . NotNull ; < nl > + import com . google . j2objc . annotations . ObjectiveCName ; < nl > + import java . io . IOException ; < nl > + import java . util . List ; < nl > + import java . util . ArrayList ; < nl > + import im . actor . core . api . * ; < nl > + < nl > + public class RequestLeaveAndDelete extends Request < ResponseSeq > { < nl > + < nl > + public static final int HEADER = 0xaa1 ; < nl > + public static RequestLeaveAndDelete fromBytes ( byte [ ] data ) throws IOException { < nl > + return Bser . parse ( new RequestLeaveAndDelete ( ) , data ) ; < nl > + } < nl > + < nl > + private ApiGroupOutPeer groupPeer ; < nl > + < nl > + public RequestLeaveAndDelete ( @ NotNull ApiGroupOutPeer groupPeer ) { < nl > + this . groupPeer = groupPeer ; < nl > + } < nl > + < nl > + public RequestLeaveAndDelete ( ) { < nl > + < nl > + } < nl > + < nl > + @ NotNull < nl > + public ApiGroupOutPeer getGroupPeer ( ) { < nl > + return this . groupPeer ; < nl > + } < nl > + < nl > + @ Override < nl > + public void parse ( BserValues values ) throws IOException { < nl > + this . groupPeer = values . getObj ( 1 , new ApiGroupOutPeer ( ) ) ; < nl > + } < nl > + < nl > + @ Override < nl > + public void serialize ( BserWriter writer ) throws IOException { < nl > + if ( this . groupPeer = = null ) { < nl > + throw new IOException ( ) ; < nl > + } < nl > + writer . writeObject ( 1 , this . groupPeer ) ; < nl > + } < nl > + < nl > + @ Override < nl > + public String toString ( ) { < nl > + String res = " rpc LeaveAndDelete { " ; < nl > + res + = " groupPeer = " + this . groupPeer ; < nl > + res + = " } " ; < nl > + return res ; < nl > + } < nl > + < nl > + @ Override < nl > + public int getHeaderKey ( ) { < nl > + return HEADER ; < nl > + } < nl > + } < nl > diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / ResponseLoadMembers . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / ResponseLoadMembers . java < nl > index 3410fd4 . . a0936c2 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / ResponseLoadMembers . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / ResponseLoadMembers . java < nl > @ @ - 22 , 11 + 22 , 13 @ @ public class ResponseLoadMembers extends Response { < nl > return Bser . parse ( new ResponseLoadMembers ( ) , data ) ; < nl > } < nl > < nl > - private List < ApiUserOutPeer > members ; < nl > + private List < ApiMember > members ; < nl > + private List < ApiUserOutPeer > users ; < nl > private byte [ ] next ; < nl > < nl > - public ResponseLoadMembers ( @ NotNull List < ApiUserOutPeer > members , @ Nullable byte [ ] next ) { < nl > + public ResponseLoadMembers ( @ NotNull List < ApiMember > members , @ NotNull List < ApiUserOutPeer > users , @ Nullable byte [ ] next ) { < nl > this . members = members ; < nl > + this . users = users ; < nl > this . next = next ; < nl > } < nl > < nl > @ @ - 35 , 10 + 37 , 15 @ @ public class ResponseLoadMembers extends Response { < nl > } < nl > < nl > @ NotNull < nl > - public List < ApiUserOutPeer > getMembers ( ) { < nl > + public List < ApiMember > getMembers ( ) { < nl > return this . members ; < nl > } < nl > < nl > + @ NotNull < nl > + public List < ApiUserOutPeer > getUsers ( ) { < nl > + return this . users ; < nl > + } < nl > + < nl > @ Nullable < nl > public byte [ ] getNext ( ) { < nl > return this . next ; < nl > @ @ - 46 , 17 + 53 , 23 @ @ public class ResponseLoadMembers extends Response { < nl > < nl > @ Override < nl > public void parse ( BserValues values ) throws IOException { < nl > - List < ApiUserOutPeer > _ members = new ArrayList < ApiUserOutPeer > ( ) ; < nl > + List < ApiMember > _ members = new ArrayList < ApiMember > ( ) ; < nl > + for ( int i = 0 ; i < values . getRepeatedCount ( 3 ) ; i + + ) { < nl > + _ members . add ( new ApiMember ( ) ) ; < nl > + } < nl > + this . members = values . getRepeatedObj ( 3 , _ members ) ; < nl > + List < ApiUserOutPeer > _ users = new ArrayList < ApiUserOutPeer > ( ) ; < nl > for ( int i = 0 ; i < values . getRepeatedCount ( 1 ) ; i + + ) { < nl > - _ members . add ( new ApiUserOutPeer ( ) ) ; < nl > + _ users . add ( new ApiUserOutPeer ( ) ) ; < nl > } < nl > - this . members = values . getRepeatedObj ( 1 , _ members ) ; < nl > + this . users = values . getRepeatedObj ( 1 , _ users ) ; < nl > this . next = values . optBytes ( 2 ) ; < nl > } < nl > < nl > @ Override < nl > public void serialize ( BserWriter writer ) throws IOException { < nl > - writer . writeRepeatedObj ( 1 , this . members ) ; < nl > + writer . writeRepeatedObj ( 3 , this . members ) ; < nl > + writer . writeRepeatedObj ( 1 , this . users ) ; < nl > if ( this . next ! = null ) { < nl > writer . writeBytes ( 2 , this . next ) ; < nl > }

TEST DIFF:
diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / ApiAdminSettings . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / ApiAdminSettings . java 
 index 00aced4 . . b8ee0de 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / ApiAdminSettings . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / ApiAdminSettings . java 
 @ @ - 20 , 12 + 20 , 14 @ @ public class ApiAdminSettings extends BserObject { 
 private boolean canMembersInvite ; 
 private boolean canMembersEditGroupInfo ; 
 private boolean canAdminsEditGroupInfo ; 
 + private boolean showJoinLeaveMessages ; 
 
 - public ApiAdminSettings ( boolean showAdminsToMembers , boolean canMembersInvite , boolean canMembersEditGroupInfo , boolean canAdminsEditGroupInfo ) { 
 + public ApiAdminSettings ( boolean showAdminsToMembers , boolean canMembersInvite , boolean canMembersEditGroupInfo , boolean canAdminsEditGroupInfo , boolean showJoinLeaveMessages ) { 
 this . showAdminsToMembers = showAdminsToMembers ; 
 this . canMembersInvite = canMembersInvite ; 
 this . canMembersEditGroupInfo = canMembersEditGroupInfo ; 
 this . canAdminsEditGroupInfo = canAdminsEditGroupInfo ; 
 + this . showJoinLeaveMessages = showJoinLeaveMessages ; 
 } 
 
 public ApiAdminSettings ( ) { 
 @ @ - 48 , 12 + 50 , 17 @ @ public class ApiAdminSettings extends BserObject { 
 return this . canAdminsEditGroupInfo ; 
 } 
 
 + public boolean showJoinLeaveMessages ( ) { 
 + return this . showJoinLeaveMessages ; 
 + } 
 + 
 @ Override 
 public void parse ( BserValues values ) throws IOException { 
 this . showAdminsToMembers = values . getBool ( 1 ) ; 
 this . canMembersInvite = values . getBool ( 2 ) ; 
 this . canMembersEditGroupInfo = values . getBool ( 3 ) ; 
 this . canAdminsEditGroupInfo = values . getBool ( 4 ) ; 
 + this . showJoinLeaveMessages = values . getBool ( 5 ) ; 
 if ( values . hasRemaining ( ) ) { 
 setUnmappedObjects ( values . buildRemaining ( ) ) ; 
 } 
 @ @ - 65 , 6 + 72 , 7 @ @ public class ApiAdminSettings extends BserObject { 
 writer . writeBool ( 2 , this . canMembersInvite ) ; 
 writer . writeBool ( 3 , this . canMembersEditGroupInfo ) ; 
 writer . writeBool ( 4 , this . canAdminsEditGroupInfo ) ; 
 + writer . writeBool ( 5 , this . showJoinLeaveMessages ) ; 
 if ( this . getUnmappedObjects ( ) ! = null ) { 
 SparseArray < Object > unmapped = this . getUnmappedObjects ( ) ; 
 for ( int i = 0 ; i < unmapped . size ( ) ; i + + ) { 
 @ @ - 81 , 6 + 89 , 7 @ @ public class ApiAdminSettings extends BserObject { 
 res + = " , canMembersInvite = " + this . canMembersInvite ; 
 res + = " , canMembersEditGroupInfo = " + this . canMembersEditGroupInfo ; 
 res + = " , canAdminsEditGroupInfo = " + this . canAdminsEditGroupInfo ; 
 + res + = " , showJoinLeaveMessages = " + this . showJoinLeaveMessages ; 
 res + = " } " ; 
 return res ; 
 }

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / parser / RpcParser . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / parser / RpcParser . java 
 index 514263a . . 709b69a 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / parser / RpcParser . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / parser / RpcParser . java 
 @ @ - 87 , 6 + 87 , 7 @ @ public class RpcParser extends BaseParser < RpcScope > { 
 case 213 : return RequestEditGroupAbout . fromBytes ( payload ) ; 
 case 69 : return RequestInviteUser . fromBytes ( payload ) ; 
 case 70 : return RequestLeaveGroup . fromBytes ( payload ) ; 
 + case 2721 : return RequestLeaveAndDelete . fromBytes ( payload ) ; 
 case 71 : return RequestKickUser . fromBytes ( payload ) ; 
 case 2784 : return RequestMakeUserAdmin . fromBytes ( payload ) ; 
 case 2791 : return RequestDismissUserAdmin . fromBytes ( payload ) ; 
 diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / RequestLeaveAndDelete . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / RequestLeaveAndDelete . java 
 new file mode 100644 
 index 0000000 . . 810dd05 
 - - - / dev / null 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / RequestLeaveAndDelete . java 
 @ @ - 0 , 0 + 1 , 65 @ @ 
 + package im . actor . core . api . rpc ; 
 + / * 
 + * Generated by the Actor API Scheme generator . DO NOT EDIT ! 
 + * / 
 + 
 + import im . actor . runtime . bser . * ; 
 + import im . actor . runtime . collections . * ; 
 + import static im . actor . runtime . bser . Utils . * ; 
 + import im . actor . core . network . parser . * ; 
 + import org . jetbrains . annotations . Nullable ; 
 + import org . jetbrains . annotations . NotNull ; 
 + import com . google . j2objc . annotations . ObjectiveCName ; 
 + import java . io . IOException ; 
 + import java . util . List ; 
 + import java . util . ArrayList ; 
 + import im . actor . core . api . * ; 
 + 
 + public class RequestLeaveAndDelete extends Request < ResponseSeq > { 
 + 
 + public static final int HEADER = 0xaa1 ; 
 + public static RequestLeaveAndDelete fromBytes ( byte [ ] data ) throws IOException { 
 + return Bser . parse ( new RequestLeaveAndDelete ( ) , data ) ; 
 + } 
 + 
 + private ApiGroupOutPeer groupPeer ; 
 + 
 + public RequestLeaveAndDelete ( @ NotNull ApiGroupOutPeer groupPeer ) { 
 + this . groupPeer = groupPeer ; 
 + } 
 + 
 + public RequestLeaveAndDelete ( ) { 
 + 
 + } 
 + 
 + @ NotNull 
 + public ApiGroupOutPeer getGroupPeer ( ) { 
 + return this . groupPeer ; 
 + } 
 + 
 + @ Override 
 + public void parse ( BserValues values ) throws IOException { 
 + this . groupPeer = values . getObj ( 1 , new ApiGroupOutPeer ( ) ) ; 
 + } 
 + 
 + @ Override 
 + public void serialize ( BserWriter writer ) throws IOException { 
 + if ( this . groupPeer = = null ) { 
 + throw new IOException ( ) ; 
 + } 
 + writer . writeObject ( 1 , this . groupPeer ) ; 
 + } 
 + 
 + @ Override 
 + public String toString ( ) { 
 + String res = " rpc LeaveAndDelete { " ; 
 + res + = " groupPeer = " + this . groupPeer ; 
 + res + = " } " ; 
 + return res ; 
 + } 
 + 
 + @ Override 
 + public int getHeaderKey ( ) { 
 + return HEADER ; 
 + } 
 + } 
 diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / ResponseLoadMembers . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / ResponseLoadMembers . java 
 index 3410fd4 . . a0936c2 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / ResponseLoadMembers . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / ResponseLoadMembers . java 
 @ @ - 22 , 11 + 22 , 13 @ @ public class ResponseLoadMembers extends Response { 
 return Bser . parse ( new ResponseLoadMembers ( ) , data ) ; 
 } 
 
 - private List < ApiUserOutPeer > members ; 
 + private List < ApiMember > members ; 
 + private List < ApiUserOutPeer > users ; 
 private byte [ ] next ; 
 
 - public ResponseLoadMembers ( @ NotNull List < ApiUserOutPeer > members , @ Nullable byte [ ] next ) { 
 + public ResponseLoadMembers ( @ NotNull List < ApiMember > members , @ NotNull List < ApiUserOutPeer > users , @ Nullable byte [ ] next ) { 
 this . members = members ; 
 + this . users = users ; 
 this . next = next ; 
 } 
 
 @ @ - 35 , 10 + 37 , 15 @ @ public class ResponseLoadMembers extends Response { 
 } 
 
 @ NotNull 
 - public List < ApiUserOutPeer > getMembers ( ) { 
 + public List < ApiMember > getMembers ( ) { 
 return this . members ; 
 } 
 
 + @ NotNull 
 + public List < ApiUserOutPeer > getUsers ( ) { 
 + return this . users ; 
 + } 
 + 
 @ Nullable 
 public byte [ ] getNext ( ) { 
 return this . next ; 
 @ @ - 46 , 17 + 53 , 23 @ @ public class ResponseLoadMembers extends Response { 
 
 @ Override 
 public void parse ( BserValues values ) throws IOException { 
 - List < ApiUserOutPeer > _ members = new ArrayList < ApiUserOutPeer > ( ) ; 
 + List < ApiMember > _ members = new ArrayList < ApiMember > ( ) ; 
 + for ( int i = 0 ; i < values . getRepeatedCount ( 3 ) ; i + + ) { 
 + _ members . add ( new ApiMember ( ) ) ; 
 + } 
 + this . members = values . getRepeatedObj ( 3 , _ members ) ; 
 + List < ApiUserOutPeer > _ users = new ArrayList < ApiUserOutPeer > ( ) ; 
 for ( int i = 0 ; i < values . getRepeatedCount ( 1 ) ; i + + ) { 
 - _ members . add ( new ApiUserOutPeer ( ) ) ; 
 + _ users . add ( new ApiUserOutPeer ( ) ) ; 
 } 
 - this . members = values . getRepeatedObj ( 1 , _ members ) ; 
 + this . users = values . getRepeatedObj ( 1 , _ users ) ; 
 this . next = values . optBytes ( 2 ) ; 
 } 
 
 @ Override 
 public void serialize ( BserWriter writer ) throws IOException { 
 - writer . writeRepeatedObj ( 1 , this . members ) ; 
 + writer . writeRepeatedObj ( 3 , this . members ) ; 
 + writer . writeRepeatedObj ( 1 , this . users ) ; 
 if ( this . next ! = null ) { 
 writer . writeBytes ( 2 , this . next ) ; 
 }
