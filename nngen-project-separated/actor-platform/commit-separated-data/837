BLEU SCORE: 0.2984745896009823

TEST MSG: fix ( core ) : Turning off message contents
GENERATED MSG: feat ( core ) : raw api requests

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - api / actor . json b / actor - sdk / sdk - api / actor . json < nl > index 7bb525b . . 4cb08b2 100644 < nl > - - - a / actor - sdk / sdk - api / actor . json < nl > + + + b / actor - sdk / sdk - api / actor . json < nl > @ @ - 12021 , 7 + 12021 , 7 @ @ < nl > { < nl > " type " : " reference " , < nl > " argument " : " message " , < nl > - " category " : " full " , < nl > + " category " : " hidden " , < nl > " description " : " Message " < nl > } < nl > ] , < nl > @ @ - 12189 , 7 + 12189 , 7 @ @ < nl > { < nl > " type " : " reference " , < nl > " argument " : " message " , < nl > - " category " : " compact " , < nl > + " category " : " hidden " , < nl > " description " : " Message " < nl > } < nl > ] , < nl > diff - - git a / actor - sdk / sdk - api / api - language / solutions / im . actor . api / models / im / actor / api / scheme . mps b / actor - sdk / sdk - api / api - language / solutions / im . actor . api / models / im / actor / api / scheme . mps < nl > index 6562d62 . . 73e6143 100644 < nl > - - - a / actor - sdk / sdk - api / api - language / solutions / im . actor . api / models / im / actor / api / scheme . mps < nl > + + + b / actor - sdk / sdk - api / api - language / solutions / im . actor . api / models / im / actor / api / scheme . mps < nl > @ @ - 10386 , 7 + 10386 , 7 @ @ < nl > < ref role = " NX6Kv " node = " 3Tolai5MRez " resolve = " destinations " / > < nl > < / node > < nl > < node concept = " NX1gA " id = " 3Tolai5MYPI " role = " 1GBnQ6 " > < nl > - < property role = " 1GSvIU " value = " full " / > < nl > + < property role = " 1GSvIU " value = " hidden " / > < nl > < property role = " NX6R2 " value = " Message " / > < nl > < ref role = " NX6Kv " node = " 3Tolai5MYPt " resolve = " message " / > < nl > < / node > < nl > @ @ - 10535 , 7 + 10535 , 7 @ @ < nl > < ref role = " NX6Kv " node = " 3Tolai5MASy " resolve = " senderDeviceId " / > < nl > < / node > < nl > < node concept = " NX1gA " id = " 3Tolai5MCWG " role = " NXp _ 2 " > < nl > - < property role = " 1GSvIU " value = " compact " / > < nl > + < property role = " 1GSvIU " value = " hidden " / > < nl > < property role = " NX6R2 " value = " Message " / > < nl > < ref role = " NX6Kv " node = " 3Tolai5MASH " resolve = " message " / > < nl > < / node > < nl > diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / RequestPostToEventBus . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / RequestPostToEventBus . java < nl > index f0d08a7 . . bd27d01 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / RequestPostToEventBus . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / RequestPostToEventBus . java < nl > @ @ - 80 , 7 + 80 , 6 @ @ public class RequestPostToEventBus extends Request < ResponseVoid > { < nl > String res = " rpc PostToEventBus { " ; < nl > res + = " id = " + this . id ; < nl > res + = " , destinations = " + this . destinations ; < nl > - res + = " , message = " + byteArrayToString ( this . message ) ; < nl > res + = " } " ; < nl > return res ; < nl > } < nl > diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / updates / UpdateEventBusMessage . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / updates / UpdateEventBusMessage . java < nl > index a31e6ed . . 9ddf2df 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / updates / UpdateEventBusMessage . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / updates / UpdateEventBusMessage . java < nl > @ @ - 90 , 7 + 90 , 6 @ @ public class UpdateEventBusMessage extends Update { < nl > res + = " id = " + this . id ; < nl > res + = " , senderId = " + this . senderId ; < nl > res + = " , senderDeviceId = " + this . senderDeviceId ; < nl > - res + = " , message = " + byteArrayToStringCompact ( this . message ) ; < nl > res + = " } " ; < nl > return res ; < nl > }
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java < nl > index f208401 . . ae0b10b 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java < nl > @ @ - 12 , 9 + 12 , 11 @ @ import org . jetbrains . annotations . Nullable ; < nl > import java . util . ArrayList ; < nl > import java . util . List ; < nl > < nl > + import im . actor . core . api . ApiRawValue ; < nl > import im . actor . core . api . ApiSex ; < nl > import im . actor . core . api . ApiAuthSession ; < nl > import im . actor . core . api . rpc . ResponseDoCall ; < nl > + import im . actor . core . api . rpc . ResponseRawRequest ; < nl > import im . actor . core . entity . FileReference ; < nl > import im . actor . core . entity . Group ; < nl > import im . actor . core . entity . MentionFilterResult ; < nl > @ @ - 1939 , 6 + 1941 , 24 @ @ public class Messenger { < nl > } < nl > < nl > / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / < nl > + / / Raw api < nl > + / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / < nl > + < nl > + / * * < nl > + * Command for raw api request < nl > + * < nl > + * @ param service service name < nl > + * @ param method method name < nl > + * @ param params request params < nl > + * @ return Command for execution < nl > + * / < nl > + @ ObjectiveCName ( " rawRequestCommandWithService : withMethod : WithParams : " ) < nl > + public Command < ResponseRawRequest > rawRequestCommand ( String service , String method , ApiRawValue params ) { < nl > + return modules . getExternalModule ( ) . rawRequest ( service , method , params ) ; < nl > + } < nl > + < nl > + < nl > + / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / < nl > / / Tools and Tech < nl > / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / < nl > < nl > diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / ExternalModule . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / ExternalModule . java < nl > index 39a5e57 . . 46d713f 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / ExternalModule . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / ExternalModule . java < nl > @ @ - 10 , 10 + 10 , 13 @ @ import java . util . ArrayList ; < nl > < nl > import im . actor . core . api . ApiMapValue ; < nl > import im . actor . core . api . ApiMapValueItem ; < nl > + import im . actor . core . api . ApiRawValue ; < nl > import im . actor . core . api . rpc . RequestCompleteWebaction ; < nl > import im . actor . core . api . rpc . RequestInitWebaction ; < nl > + import im . actor . core . api . rpc . RequestRawRequest ; < nl > import im . actor . core . api . rpc . ResponseCompleteWebaction ; < nl > import im . actor . core . api . rpc . ResponseInitWebaction ; < nl > + import im . actor . core . api . rpc . ResponseRawRequest ; < nl > import im . actor . core . entity . WebActionDescriptor ; < nl > import im . actor . core . modules . AbsModule ; < nl > import im . actor . core . modules . ModuleContext ; < nl > @ @ - 92 , 4 + 95 , 23 @ @ public class ExternalModule extends AbsModule { < nl > } < nl > } ; < nl > } < nl > + < nl > + public Command < ResponseRawRequest > rawRequest ( final String service , final String method , final ApiRawValue params ) { < nl > + return new Command < ResponseRawRequest > ( ) { < nl > + @ Override < nl > + public void start ( final CommandCallback < ResponseRawRequest > callback ) { < nl > + request ( new RequestRawRequest ( service , method , params ) , new RpcCallback < ResponseRawRequest > ( ) { < nl > + @ Override < nl > + public void onResult ( ResponseRawRequest response ) { < nl > + callback . onResult ( response ) ; < nl > + } < nl > + < nl > + @ Override < nl > + public void onError ( RpcException e ) { < nl > + callback . onError ( e ) ; < nl > + } < nl > + } ) ; < nl > + } < nl > + } ; < nl > + } < nl > } < nl > \ No newline at end of file

TEST DIFF:
diff - - git a / actor - sdk / sdk - api / actor . json b / actor - sdk / sdk - api / actor . json 
 index 7bb525b . . 4cb08b2 100644 
 - - - a / actor - sdk / sdk - api / actor . json 
 + + + b / actor - sdk / sdk - api / actor . json 
 @ @ - 12021 , 7 + 12021 , 7 @ @ 
 { 
 " type " : " reference " , 
 " argument " : " message " , 
 - " category " : " full " , 
 + " category " : " hidden " , 
 " description " : " Message " 
 } 
 ] , 
 @ @ - 12189 , 7 + 12189 , 7 @ @ 
 { 
 " type " : " reference " , 
 " argument " : " message " , 
 - " category " : " compact " , 
 + " category " : " hidden " , 
 " description " : " Message " 
 } 
 ] , 
 diff - - git a / actor - sdk / sdk - api / api - language / solutions / im . actor . api / models / im / actor / api / scheme . mps b / actor - sdk / sdk - api / api - language / solutions / im . actor . api / models / im / actor / api / scheme . mps 
 index 6562d62 . . 73e6143 100644 
 - - - a / actor - sdk / sdk - api / api - language / solutions / im . actor . api / models / im / actor / api / scheme . mps 
 + + + b / actor - sdk / sdk - api / api - language / solutions / im . actor . api / models / im / actor / api / scheme . mps 
 @ @ - 10386 , 7 + 10386 , 7 @ @ 
 < ref role = " NX6Kv " node = " 3Tolai5MRez " resolve = " destinations " / > 
 < / node > 
 < node concept = " NX1gA " id = " 3Tolai5MYPI " role = " 1GBnQ6 " > 
 - < property role = " 1GSvIU " value = " full " / > 
 + < property role = " 1GSvIU " value = " hidden " / > 
 < property role = " NX6R2 " value = " Message " / > 
 < ref role = " NX6Kv " node = " 3Tolai5MYPt " resolve = " message " / > 
 < / node > 
 @ @ - 10535 , 7 + 10535 , 7 @ @ 
 < ref role = " NX6Kv " node = " 3Tolai5MASy " resolve = " senderDeviceId " / > 
 < / node > 
 < node concept = " NX1gA " id = " 3Tolai5MCWG " role = " NXp _ 2 " > 
 - < property role = " 1GSvIU " value = " compact " / > 
 + < property role = " 1GSvIU " value = " hidden " / > 
 < property role = " NX6R2 " value = " Message " / > 
 < ref role = " NX6Kv " node = " 3Tolai5MASH " resolve = " message " / > 
 < / node > 
 diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / RequestPostToEventBus . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / RequestPostToEventBus . java 
 index f0d08a7 . . bd27d01 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / RequestPostToEventBus . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / rpc / RequestPostToEventBus . java 
 @ @ - 80 , 7 + 80 , 6 @ @ public class RequestPostToEventBus extends Request < ResponseVoid > { 
 String res = " rpc PostToEventBus { " ; 
 res + = " id = " + this . id ; 
 res + = " , destinations = " + this . destinations ; 
 - res + = " , message = " + byteArrayToString ( this . message ) ; 
 res + = " } " ; 
 return res ; 
 } 
 diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / updates / UpdateEventBusMessage . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / updates / UpdateEventBusMessage . java 
 index a31e6ed . . 9ddf2df 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / updates / UpdateEventBusMessage . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / api / updates / UpdateEventBusMessage . java 
 @ @ - 90 , 7 + 90 , 6 @ @ public class UpdateEventBusMessage extends Update { 
 res + = " id = " + this . id ; 
 res + = " , senderId = " + this . senderId ; 
 res + = " , senderDeviceId = " + this . senderDeviceId ; 
 - res + = " , message = " + byteArrayToStringCompact ( this . message ) ; 
 res + = " } " ; 
 return res ; 
 }

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java 
 index f208401 . . ae0b10b 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java 
 @ @ - 12 , 9 + 12 , 11 @ @ import org . jetbrains . annotations . Nullable ; 
 import java . util . ArrayList ; 
 import java . util . List ; 
 
 + import im . actor . core . api . ApiRawValue ; 
 import im . actor . core . api . ApiSex ; 
 import im . actor . core . api . ApiAuthSession ; 
 import im . actor . core . api . rpc . ResponseDoCall ; 
 + import im . actor . core . api . rpc . ResponseRawRequest ; 
 import im . actor . core . entity . FileReference ; 
 import im . actor . core . entity . Group ; 
 import im . actor . core . entity . MentionFilterResult ; 
 @ @ - 1939 , 6 + 1941 , 24 @ @ public class Messenger { 
 } 
 
 / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / 
 + / / Raw api 
 + / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / 
 + 
 + / * * 
 + * Command for raw api request 
 + * 
 + * @ param service service name 
 + * @ param method method name 
 + * @ param params request params 
 + * @ return Command for execution 
 + * / 
 + @ ObjectiveCName ( " rawRequestCommandWithService : withMethod : WithParams : " ) 
 + public Command < ResponseRawRequest > rawRequestCommand ( String service , String method , ApiRawValue params ) { 
 + return modules . getExternalModule ( ) . rawRequest ( service , method , params ) ; 
 + } 
 + 
 + 
 + / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / 
 / / Tools and Tech 
 / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / / 
 
 diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / ExternalModule . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / ExternalModule . java 
 index 39a5e57 . . 46d713f 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / ExternalModule . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / ExternalModule . java 
 @ @ - 10 , 10 + 10 , 13 @ @ import java . util . ArrayList ; 
 
 import im . actor . core . api . ApiMapValue ; 
 import im . actor . core . api . ApiMapValueItem ; 
 + import im . actor . core . api . ApiRawValue ; 
 import im . actor . core . api . rpc . RequestCompleteWebaction ; 
 import im . actor . core . api . rpc . RequestInitWebaction ; 
 + import im . actor . core . api . rpc . RequestRawRequest ; 
 import im . actor . core . api . rpc . ResponseCompleteWebaction ; 
 import im . actor . core . api . rpc . ResponseInitWebaction ; 
 + import im . actor . core . api . rpc . ResponseRawRequest ; 
 import im . actor . core . entity . WebActionDescriptor ; 
 import im . actor . core . modules . AbsModule ; 
 import im . actor . core . modules . ModuleContext ; 
 @ @ - 92 , 4 + 95 , 23 @ @ public class ExternalModule extends AbsModule { 
 } 
 } ; 
 } 
 + 
 + public Command < ResponseRawRequest > rawRequest ( final String service , final String method , final ApiRawValue params ) { 
 + return new Command < ResponseRawRequest > ( ) { 
 + @ Override 
 + public void start ( final CommandCallback < ResponseRawRequest > callback ) { 
 + request ( new RequestRawRequest ( service , method , params ) , new RpcCallback < ResponseRawRequest > ( ) { 
 + @ Override 
 + public void onResult ( ResponseRawRequest response ) { 
 + callback . onResult ( response ) ; 
 + } 
 + 
 + @ Override 
 + public void onError ( RpcException e ) { 
 + callback . onError ( e ) ; 
 + } 
 + } ) ; 
 + } 
 + } ; 
 + } 
 } 
 \ No newline at end of file
