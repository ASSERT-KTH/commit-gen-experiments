BLEU SCORE: 0.2891784933232571

TEST MSG: fix ( android ) : start new MainActivity on push but not forwards
GENERATED MSG: fix ( android ) : chat list binding after resuming

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / AndroidManifest . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / AndroidManifest . xml < nl > index df3a2c5 . . c4196e1 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / AndroidManifest . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / AndroidManifest . xml < nl > @ @ - 63 , 6 + 63 , 7 @ @ < nl > < activity < nl > android : name = " im . actor . sdk . controllers . activity . ActorMainActivity " < nl > android : configChanges = " keyboard | keyboardHidden | orientation | screenSize " < nl > + android : launchMode = " singleTop " < nl > android : label = " @ string / app _ name " < nl > android : theme = " @ style / MainActivityTheme " < nl > android : windowSoftInputMode = " adjustResize " > < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesFragment . java < nl > index d681361 . . 21db57a 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesFragment . java < nl > @ @ - 408 , 6 + 408 , 7 @ @ public class MessagesFragment extends DisplayListFragment < Message , MessageHolder < nl > < nl > } else if ( menuItem . getItemId ( ) = = R . id . forward ) { < nl > Intent i = new Intent ( getActivity ( ) , ActorMainActivity . class ) ; < nl > + i . addFlags ( Intent . FLAG _ ACTIVITY _ CLEAR _ TOP ) ; < nl > if ( messagesAdapter . getSelected ( ) . length = = 1 ) { < nl > Message m = messagesAdapter . getSelected ( ) [ 0 ] ; < nl > if ( m . getContent ( ) instanceof TextContent ) { < nl > @ @ - 453 , 6 + 454 , 7 @ @ public class MessagesFragment extends DisplayListFragment < Message , MessageHolder < nl > } < nl > actionMode . finish ( ) ; < nl > startActivity ( i ) ; < nl > + getActivity ( ) . finish ( ) ; < nl > return true ; < nl > } < nl > return false ; < nl > diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / push / PushRegisterActor . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / push / PushRegisterActor . java < nl > index 5591e98 . . 8e78e11 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / push / PushRegisterActor . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / push / PushRegisterActor . java < nl > @ @ - 60 , 7 + 60 , 7 @ @ public class PushRegisterActor extends ModuleActor { < nl > < nl > @ Override < nl > public void onError ( RpcException e ) { < nl > - < nl > + e . printStackTrace ( ) ; < nl > } < nl > } ) ; < nl > }
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ActorEditTextActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ActorEditTextActivity . java < nl > index 442ef35 . . 3921a86 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ActorEditTextActivity . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ActorEditTextActivity . java < nl > @ @ - 171 , 7 + 171 , 7 @ @ public abstract class ActorEditTextActivity extends BaseActivity { < nl > protected void setFragment ( Bundle savedInstanceState ) { < nl > if ( savedInstanceState = = null ) { < nl > getSupportFragmentManager ( ) . beginTransaction ( ) < nl > - . add ( R . id . messagesFragment , onCreateFragment ( ) ) < nl > + . replace ( R . id . messagesFragment , onCreateFragment ( ) ) < nl > . commit ( ) ; < nl > } < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesFragment . java < nl > index 748b48a . . aad8efb 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesFragment . java < nl > @ @ - 33 , 6 + 33 , 7 @ @ import im . actor . core . entity . content . TextContent ; < nl > import im . actor . core . entity . content . VideoContent ; < nl > import im . actor . core . viewmodel . CommandCallback ; < nl > import im . actor . core . viewmodel . UserVM ; < nl > + import im . actor . runtime . Log ; < nl > import im . actor . sdk . ActorSDK ; < nl > import im . actor . sdk . R ; < nl > import im . actor . sdk . controllers . Intents ; < nl > @ @ - 115 , 6 + 116 , 10 @ @ public class MessagesFragment extends DisplayListFragment < Message , MessageHolder < nl > private boolean isLoaded = false ; < nl > < nl > protected void bindDisplayListLoad ( ) { < nl > + bindDisplayListLoad ( true ) ; < nl > + } < nl > + < nl > + protected void bindDisplayListLoad ( boolean notify ) { < nl > final BindedDisplayList < Message > list = getDisplayList ( ) ; < nl > DisplayList . AndroidChangeListener < Message > listener = new DisplayList . AndroidChangeListener < Message > ( ) { < nl > < nl > @ @ - 127 , 7 + 132 , 9 @ @ public class MessagesFragment extends DisplayListFragment < Message , MessageHolder < nl > < nl > } ; < nl > list . addAndroidListener ( listener ) ; < nl > - ondisplayListLoaded ( ) ; < nl > + if ( notify ) { < nl > + ondisplayListLoaded ( ) ; < nl > + } < nl > } < nl > < nl > private void ondisplayListLoaded ( ) { < nl > @ @ - 214 , 7 + 221 , 7 @ @ public class MessagesFragment extends DisplayListFragment < Message , MessageHolder < nl > @ Override < nl > public void onResume ( ) { < nl > super . onResume ( ) ; < nl > - if ( onPauseSize ! = 0 & & getDisplayList ( ) . getSize ( ) ! = onPauseSize ) bindDisplayListLoad ( ) ; < nl > + bindDisplayListLoad ( onPauseSize ! = 0 & & getDisplayList ( ) . getSize ( ) ! = onPauseSize ) ; < nl > messenger ( ) . onConversationOpen ( peer ) ; < nl > }

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / AndroidManifest . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / AndroidManifest . xml 
 index df3a2c5 . . c4196e1 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / AndroidManifest . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / AndroidManifest . xml 
 @ @ - 63 , 6 + 63 , 7 @ @ 
 < activity 
 android : name = " im . actor . sdk . controllers . activity . ActorMainActivity " 
 android : configChanges = " keyboard | keyboardHidden | orientation | screenSize " 
 + android : launchMode = " singleTop " 
 android : label = " @ string / app _ name " 
 android : theme = " @ style / MainActivityTheme " 
 android : windowSoftInputMode = " adjustResize " > 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesFragment . java 
 index d681361 . . 21db57a 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesFragment . java 
 @ @ - 408 , 6 + 408 , 7 @ @ public class MessagesFragment extends DisplayListFragment < Message , MessageHolder 
 
 } else if ( menuItem . getItemId ( ) = = R . id . forward ) { 
 Intent i = new Intent ( getActivity ( ) , ActorMainActivity . class ) ; 
 + i . addFlags ( Intent . FLAG _ ACTIVITY _ CLEAR _ TOP ) ; 
 if ( messagesAdapter . getSelected ( ) . length = = 1 ) { 
 Message m = messagesAdapter . getSelected ( ) [ 0 ] ; 
 if ( m . getContent ( ) instanceof TextContent ) { 
 @ @ - 453 , 6 + 454 , 7 @ @ public class MessagesFragment extends DisplayListFragment < Message , MessageHolder 
 } 
 actionMode . finish ( ) ; 
 startActivity ( i ) ; 
 + getActivity ( ) . finish ( ) ; 
 return true ; 
 } 
 return false ; 
 diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / push / PushRegisterActor . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / push / PushRegisterActor . java 
 index 5591e98 . . 8e78e11 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / push / PushRegisterActor . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / push / PushRegisterActor . java 
 @ @ - 60 , 7 + 60 , 7 @ @ public class PushRegisterActor extends ModuleActor { 
 
 @ Override 
 public void onError ( RpcException e ) { 
 - 
 + e . printStackTrace ( ) ; 
 } 
 } ) ; 
 }

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ActorEditTextActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ActorEditTextActivity . java 
 index 442ef35 . . 3921a86 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ActorEditTextActivity . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ActorEditTextActivity . java 
 @ @ - 171 , 7 + 171 , 7 @ @ public abstract class ActorEditTextActivity extends BaseActivity { 
 protected void setFragment ( Bundle savedInstanceState ) { 
 if ( savedInstanceState = = null ) { 
 getSupportFragmentManager ( ) . beginTransaction ( ) 
 - . add ( R . id . messagesFragment , onCreateFragment ( ) ) 
 + . replace ( R . id . messagesFragment , onCreateFragment ( ) ) 
 . commit ( ) ; 
 } 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesFragment . java 
 index 748b48a . . aad8efb 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesFragment . java 
 @ @ - 33 , 6 + 33 , 7 @ @ import im . actor . core . entity . content . TextContent ; 
 import im . actor . core . entity . content . VideoContent ; 
 import im . actor . core . viewmodel . CommandCallback ; 
 import im . actor . core . viewmodel . UserVM ; 
 + import im . actor . runtime . Log ; 
 import im . actor . sdk . ActorSDK ; 
 import im . actor . sdk . R ; 
 import im . actor . sdk . controllers . Intents ; 
 @ @ - 115 , 6 + 116 , 10 @ @ public class MessagesFragment extends DisplayListFragment < Message , MessageHolder 
 private boolean isLoaded = false ; 
 
 protected void bindDisplayListLoad ( ) { 
 + bindDisplayListLoad ( true ) ; 
 + } 
 + 
 + protected void bindDisplayListLoad ( boolean notify ) { 
 final BindedDisplayList < Message > list = getDisplayList ( ) ; 
 DisplayList . AndroidChangeListener < Message > listener = new DisplayList . AndroidChangeListener < Message > ( ) { 
 
 @ @ - 127 , 7 + 132 , 9 @ @ public class MessagesFragment extends DisplayListFragment < Message , MessageHolder 
 
 } ; 
 list . addAndroidListener ( listener ) ; 
 - ondisplayListLoaded ( ) ; 
 + if ( notify ) { 
 + ondisplayListLoaded ( ) ; 
 + } 
 } 
 
 private void ondisplayListLoaded ( ) { 
 @ @ - 214 , 7 + 221 , 7 @ @ public class MessagesFragment extends DisplayListFragment < Message , MessageHolder 
 @ Override 
 public void onResume ( ) { 
 super . onResume ( ) ; 
 - if ( onPauseSize ! = 0 & & getDisplayList ( ) . getSize ( ) ! = onPauseSize ) bindDisplayListLoad ( ) ; 
 + bindDisplayListLoad ( onPauseSize ! = 0 & & getDisplayList ( ) . getSize ( ) ! = onPauseSize ) ; 
 messenger ( ) . onConversationOpen ( peer ) ; 
 }
