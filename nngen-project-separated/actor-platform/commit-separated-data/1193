BLEU SCORE: 0.2891784933232571

TEST MSG: feat ( android ) : config twitter / homepage / inviteUrl in SDK
GENERATED MSG: feat ( android ) : group users online status

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > index d348cd0 . . 51ab054 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > + + + b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > @ @ - 30 , 6 + 30 , 10 @ @ public class Application extends ActorSDKApplication { < nl > public void onConfigureActorSDK ( ) { < nl > ActorSDK . sharedActor ( ) . setDelegate ( new ActorSDKDelegate ( ) ) ; < nl > ActorSDK . sharedActor ( ) . setPushId ( 209133700967L ) ; < nl > + ActorSDK . sharedActor ( ) . setTwitter ( " " ) ; < nl > + ActorSDK . sharedActor ( ) . setHomePage ( " http : / / www . foo . com " ) ; < nl > + ActorSDK . sharedActor ( ) . setInviteUrl ( " http : / / www . foo . com " ) ; < nl > + < nl > < nl > / / ArrayList < String > endpoints = new ArrayList < String > ( ) ; < nl > / / endpoints . add ( " tcp : / / 192 . 168 . 1 . 184 : 9070 " ) ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java < nl > index 7b5e3f7 . . 8ce6dfa 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java < nl > @ @ - 109 , 6 + 109 , 22 @ @ public class ActorSDK { < nl > * Custom application name < nl > * / < nl > private String customApplicationName = null ; < nl > + / * * < nl > + * Invite url < nl > + * / < nl > + private String inviteUrl = " https : / / actor . im / dl " ; < nl > + / * * < nl > + * Help phone < nl > + * / < nl > + private String helpPhone = " 75551234567 " ; < nl > + / * * < nl > + * Home page < nl > + * / < nl > + private String homePage = " https : / / actor . im " ; < nl > + / * * < nl > + * Twitter < nl > + * / < nl > + private String twitter = " actorapp " ; < nl > < nl > / * * < nl > * Delegate < nl > @ @ - 410 , 6 + 426 , 30 @ @ public class ActorSDK { < nl > this . pushId = pushId ; < nl > } < nl > < nl > + public String getHelpPhone ( ) { < nl > + return helpPhone ; < nl > + } < nl > + < nl > + public void setHelpPhone ( String helpPhone ) { < nl > + this . helpPhone = helpPhone ; < nl > + } < nl > + < nl > + public String getHomePage ( ) { < nl > + return homePage ; < nl > + } < nl > + < nl > + public void setHomePage ( String homePage ) { < nl > + this . homePage = homePage ; < nl > + } < nl > + < nl > + public String getTwitterAcc ( ) { < nl > + return twitter ; < nl > + } < nl > + < nl > + public void setTwitter ( String twitter ) { < nl > + this . twitter = twitter ; < nl > + } < nl > + < nl > / * * < nl > * Getting Application Delegate . < nl > * < nl > @ @ - 533 , 6 + 573 , 14 @ @ public class ActorSDK { < nl > } < nl > } < nl > < nl > + public String getInviteUrl ( ) { < nl > + return inviteUrl ; < nl > + } < nl > + < nl > + public void setInviteUrl ( String inviteUrl ) { < nl > + this . inviteUrl = inviteUrl ; < nl > + } < nl > + < nl > public interface OnDelegateViewHolder < T > { < nl > T onNotDelegated ( ) ; < nl > < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java < nl > index 80cc9f1 . . c9e3e44 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java < nl > @ @ - 70 , 7 + 70 , 6 @ @ public interface ActorSDKDelegate { < nl > * / < nl > ActorIntent getChatIntent ( ) ; < nl > < nl > - String getHelpPhone ( ) ; < nl > < nl > < T extends BindedViewHolder , J extends T > J getViewHolder ( Class < T > base , Object . . . args ) ; < nl > < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java < nl > index 511d1b4 . . 0008a47 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java < nl > @ @ - 91 , 11 + 91 , 6 @ @ public class BaseActorSDKDelegate implements ActorSDKDelegate { < nl > } < nl > < nl > @ Override < nl > - public String getHelpPhone ( ) { < nl > - return " 75551234567 " ; < nl > - } < nl > - < nl > - @ Override < nl > public < T extends BindedViewHolder , J extends T > J getViewHolder ( Class < T > base , Object [ ] args ) { < nl > return null ; < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / activity / AddContactActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / activity / AddContactActivity . java < nl > index 43dba74 . . ad9b2c8 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / activity / AddContactActivity . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / activity / AddContactActivity . java < nl > @ @ - 68 , 7 + 68 , 7 @ @ public class AddContactActivity extends BaseFragmentActivity { < nl > . setPositiveButton ( R . string . alert _ invite _ yes , new DialogInterface . OnClickListener ( ) { < nl > @ Override < nl > public void onClick ( DialogInterface dialogInterface , int i ) { < nl > - String inviteMessage = getString ( R . string . invite _ message ) ; < nl > + String inviteMessage = getString ( R . string . invite _ message ) . replace ( " { inviteUrl } " , ActorSDK . sharedActor ( ) . getInviteUrl ( ) ) ; < nl > Intent sendIntent = new Intent ( Intent . ACTION _ VIEW ) ; < nl > sendIntent . setData ( Uri . parse ( " sms : " + query ) ) ; < nl > sendIntent . putExtra ( " sms _ body " , inviteMessage ) ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / activity / controllers / MainPhoneController . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / activity / controllers / MainPhoneController . java < nl > index 2db1f11 . . 23fd0c7 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / activity / controllers / MainPhoneController . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / activity / controllers / MainPhoneController . java < nl > @ @ - 281 , 7 + 281 , 7 @ @ public class MainPhoneController extends MainBaseController { < nl > findViewById ( R . id . inviteButton ) . setOnClickListener ( new View . OnClickListener ( ) { < nl > @ Override < nl > public void onClick ( View v ) { < nl > - String inviteMessage = getResources ( ) . getString ( R . string . invite _ message ) ; < nl > + String inviteMessage = getResources ( ) . getString ( R . string . invite _ message ) . replace ( " { inviteUrl } " , ActorSDK . sharedActor ( ) . getInviteUrl ( ) ) ; < nl > Intent sendIntent = new Intent ( Intent . ACTION _ SEND ) ; < nl > sendIntent . putExtra ( Intent . EXTRA _ TEXT , inviteMessage ) ; < nl > sendIntent . setType ( " text / plain " ) ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / contacts / BaseContactFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / contacts / BaseContactFragment . java < nl > index 0223c58 . . 9f446bd 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / contacts / BaseContactFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / contacts / BaseContactFragment . java < nl > @ @ - 108 , 7 + 108 , 7 @ @ public abstract class BaseContactFragment extends DisplayListFragment < Contact , C < nl > addFooterOrHeaderAction ( ActorSDK . sharedActor ( ) . style . getActionShareColor ( ) , R . drawable . ic _ share _ white _ 24dp , R . string . contacts _ share , false , new Runnable ( ) { < nl > @ Override < nl > public void run ( ) { < nl > - String inviteMessage = getResources ( ) . getString ( R . string . invite _ message ) ; < nl > + String inviteMessage = getResources ( ) . getString ( R . string . invite _ message ) . replace ( " { inviteUrl } " , ActorSDK . sharedActor ( ) . getInviteUrl ( ) ) ; < nl > Intent sendIntent = new Intent ( Intent . ACTION _ SEND ) ; < nl > sendIntent . putExtra ( Intent . EXTRA _ TEXT , inviteMessage ) ; < nl > sendIntent . setType ( " text / plain " ) ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / contacts / ContactsFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / contacts / ContactsFragment . java < nl > index bd63c63 . . 84a1619 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / contacts / ContactsFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / contacts / ContactsFragment . java < nl > @ @ - 29 , 7 + 29 , 7 @ @ public class ContactsFragment extends BaseContactFragment { < nl > res . findViewById ( R . id . inviteButton ) . setOnClickListener ( new View . OnClickListener ( ) { < nl > @ Override < nl > public void onClick ( View v ) { < nl > - String inviteMessage = getResources ( ) . getString ( R . string . invite _ message ) ; < nl > + String inviteMessage = getResources ( ) . getString ( R . string . invite _ message ) . replace ( " { inviteUrl } " , ActorSDK . sharedActor ( ) . getInviteUrl ( ) ) ; < nl > Intent sendIntent = new Intent ( Intent . ACTION _ SEND ) ; < nl > sendIntent . putExtra ( Intent . EXTRA _ TEXT , inviteMessage ) ; < nl > sendIntent . setType ( " text / plain " ) ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java < nl > index bce726e . . ece55ab 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java < nl > @ @ - 361 , 10 + 361 , 15 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements < nl > } ) ; < nl > < nl > View askQuestion = view . findViewById ( R . id . askQuestion ) ; < nl > + < nl > + if ( ActorSDK . sharedActor ( ) . getHelpPhone ( ) = = null | | ActorSDK . sharedActor ( ) . getHelpPhone ( ) . isEmpty ( ) ) { < nl > + askQuestion . setVisibility ( View . GONE ) ; < nl > + view . findViewById ( R . id . divider3 ) . setVisibility ( View . GONE ) ; < nl > + } < nl > askQuestion . setOnClickListener ( new View . OnClickListener ( ) { < nl > @ Override < nl > public void onClick ( View view ) { < nl > - execute ( messenger ( ) . findUsers ( ActorSDK . sharedActor ( ) . getDelegate ( ) . getHelpPhone ( ) ) , R . string . progress _ common , new CommandCallback < UserVM [ ] > ( ) { < nl > + execute ( messenger ( ) . findUsers ( ActorSDK . sharedActor ( ) . getHelpPhone ( ) ) , R . string . progress _ common , new CommandCallback < UserVM [ ] > ( ) { < nl > @ Override < nl > public void onResult ( UserVM [ ] res ) { < nl > if ( res . length > = 1 ) { < nl > @ @ - 380 , 10 + 385 , 49 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements < nl > } < nl > } ) ; < nl > < nl > - if ( ! showAskQuestion ( ) ) { < nl > - askQuestion . setVisibility ( View . GONE ) ; < nl > - view . findViewById ( R . id . divider3 ) . setVisibility ( View . GONE ) ; < nl > + / / Twitter < nl > + View twitterView = view . findViewById ( R . id . twitter ) ; < nl > + < nl > + if ( ActorSDK . sharedActor ( ) . getTwitterAcc ( ) = = null | | ActorSDK . sharedActor ( ) . getTwitterAcc ( ) . isEmpty ( ) ) { < nl > + twitterView . setVisibility ( View . GONE ) ; < nl > + view . findViewById ( R . id . divider5 ) . setVisibility ( View . GONE ) ; < nl > + } < nl > + twitterView . setOnClickListener ( new View . OnClickListener ( ) { < nl > + @ Override < nl > + public void onClick ( View view ) { < nl > + Intent viewIntent = new Intent ( Intent . ACTION _ VIEW , Uri . parse ( " https : / / twitter . com / " + ActorSDK . sharedActor ( ) . getTwitterAcc ( ) ) ) ; < nl > + startActivity ( viewIntent ) ; < nl > + } < nl > + } ) ; < nl > + < nl > + TextView twitterTitle = ( TextView ) view . findViewById ( R . id . settings _ twitter ) ; < nl > + twitterTitle . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsTitleColor ( ) ) ; < nl > + < nl > + TintImageView twitterIcon = ( TintImageView ) view . findViewById ( R . id . settings _ twitter _ icon ) ; < nl > + twitterIcon . setTint ( style . getSettingsIconColor ( ) ) ; < nl > + < nl > + / / Home page < nl > + View homePageView = view . findViewById ( R . id . home _ page ) ; < nl > + < nl > + if ( ActorSDK . sharedActor ( ) . getHomePage ( ) = = null | | ActorSDK . sharedActor ( ) . getHomePage ( ) . isEmpty ( ) ) { < nl > + homePageView . setVisibility ( View . GONE ) ; < nl > + view . findViewById ( R . id . divider6 ) . setVisibility ( View . GONE ) ; < nl > } < nl > + homePageView . setOnClickListener ( new View . OnClickListener ( ) { < nl > + @ Override < nl > + public void onClick ( View view ) { < nl > + Intent viewIntent = new Intent ( Intent . ACTION _ VIEW , Uri . parse ( ActorSDK . sharedActor ( ) . getHomePage ( ) ) ) ; < nl > + startActivity ( viewIntent ) ; < nl > + } < nl > + } ) ; < nl > + < nl > + TextView homePageTitle = ( TextView ) view . findViewById ( R . id . settings _ home _ page ) ; < nl > + homePageTitle . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsTitleColor ( ) ) ; < nl > + < nl > + TintImageView homePageIcon = ( TintImageView ) view . findViewById ( R . id . settings _ home _ page _ icon ) ; < nl > + homePageIcon . setTint ( style . getSettingsIconColor ( ) ) ; < nl > + < nl > + < nl > < nl > TextView settingsHeaderText = ( TextView ) view . findViewById ( R . id . settings _ header _ text ) ; < nl > settingsHeaderText . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; < nl > @ @ - 425 , 6 + 469 , 8 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements < nl > view . findViewById ( R . id . divider2 ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; < nl > view . findViewById ( R . id . divider3 ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; < nl > view . findViewById ( R . id . divider4 ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; < nl > + view . findViewById ( R . id . divider5 ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; < nl > + view . findViewById ( R . id . divider6 ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; < nl > < nl > if ( getBeforeNickSettingsView ( ) ! = null ) { < nl > FrameLayout beforeNick = ( FrameLayout ) view . findViewById ( R . id . before _ nick _ container ) ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ settings . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ settings . xml < nl > index 699d57a . . e4ae491 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ settings . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ settings . xml < nl > @ @ - 346 , 6 + 346 , 65 @ @ < nl > < / LinearLayout > < nl > < nl > < View < nl > + android : id = " @ + id / divider5 " < nl > + android : layout _ width = " match _ parent " < nl > + android : layout _ height = " @ dimen / div _ size " < nl > + android : layout _ marginLeft = " 72dp " < nl > + android : layout _ marginRight = " 16dp " / > < nl > + < nl > + < LinearLayout < nl > + android : id = " @ + id / twitter " < nl > + android : layout _ width = " match _ parent " < nl > + android : layout _ height = " 48dp " < nl > + android : background = " @ drawable / selector " < nl > + android : clickable = " true " > < nl > + < nl > + < im . actor . sdk . view . TintImageView < nl > + android : id = " @ + id / settings _ twitter _ icon " < nl > + android : layout _ width = " 72dp " < nl > + android : layout _ height = " match _ parent " < nl > + app : src = " @ drawable / ic _ twitterlogo _ 18dp " / > < nl > + < nl > + < TextView < nl > + android : id = " @ + id / settings _ twitter " < nl > + android : layout _ width = " match _ parent " < nl > + android : layout _ height = " match _ parent " < nl > + android : gravity = " left | center _ vertical " < nl > + android : text = " @ string / settings _ twitter " < nl > + android : textSize = " 16sp " / > < nl > + < / LinearLayout > < nl > + < nl > + < View < nl > + android : id = " @ + id / divider6 " < nl > + android : layout _ width = " match _ parent " < nl > + android : layout _ height = " @ dimen / div _ size " < nl > + android : layout _ marginLeft = " 72dp " < nl > + android : layout _ marginRight = " 16dp " / > < nl > + < nl > + < LinearLayout < nl > + android : id = " @ + id / home _ page " < nl > + android : layout _ width = " match _ parent " < nl > + android : layout _ height = " 48dp " < nl > + android : background = " @ drawable / selector " < nl > + android : clickable = " true " > < nl > + < nl > + < im . actor . sdk . view . TintImageView < nl > + android : id = " @ + id / settings _ home _ page _ icon " < nl > + android : layout _ width = " 72dp " < nl > + android : layout _ height = " match _ parent " < nl > + app : src = " @ drawable / ic _ home _ page _ 18dp " / > < nl > + < nl > + < TextView < nl > + android : id = " @ + id / settings _ home _ page " < nl > + android : layout _ width = " match _ parent " < nl > + android : layout _ height = " match _ parent " < nl > + android : gravity = " left | center _ vertical " < nl > + android : text = " @ string / settings _ home _ page " < nl > + android : textSize = " 16sp " / > < nl > + < / LinearLayout > < nl > + < nl > + < nl > + < View < nl > android : id = " @ + id / divider4 " < nl > android : layout _ width = " match _ parent " < nl > android : layout _ height = " @ dimen / div _ size " < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ar / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ar / ui _ text . xml < nl > index 1eca810 . . bfbce0a 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ar / ui _ text . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ar / ui _ text . xml < nl > @ @ - 34 , 7 + 34 , 7 @ @ < nl > < string name = " menu _ saved " > ت م ح ف ظ < / string > < nl > < string name = " menu _ next " > ت ا ل ي < / string > < nl > < nl > - < string name = " invite _ message " > ه ي ا ب ن ا ن ب د ل ا ل ى ا ك ت و ر https : / / actor . im / dl < / string > < nl > + < string name = " invite _ message " > ه ي ا ب ن ا ن ب د ل ا ل ى ا ك ت و ر { inviteUrl } < / string > < nl > < nl > < ! - - Tour - - > < nl > < string name = " tour _ sign _ up " > ت س ج ي ل < / string > < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - pt - rBR / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - pt - rBR / ui _ text . xml < nl > index c10b9fe . . e868505 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - pt - rBR / ui _ text . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - pt - rBR / ui _ text . xml < nl > @ @ - 33 , 7 + 33 , 7 @ @ < nl > < string name = " menu _ saved " > Salvo < / string > < nl > < string name = " menu _ next " > Pr ó ximo < / string > < nl > < nl > - < string name = " invite _ message " > Ol á ! Vamos mudar para o Actor ! https : / / actor . im / dl < / string > < nl > + < string name = " invite _ message " > Ol á ! Vamos mudar para o Actor ! { inviteUrl } < / string > < nl > < nl > < ! - - Tour - - > < nl > < string name = " tour _ sign _ up " > Registrar < / string > < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - pt - rPT / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - pt - rPT / ui _ text . xml < nl > index d078334 . . 92caa50 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - pt - rPT / ui _ text . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - pt - rPT / ui _ text . xml < nl > @ @ - 32 , 7 + 32 , 7 @ @ < nl > < string name = " menu _ saved " > Guardar < / string > < nl > < string name = " menu _ next " > Pr ó ximo < / string > < nl > < nl > - < string name = " invite _ message " > Por favor , tente mensagens Actor . http : / / actor . im < / string > < nl > + < string name = " invite _ message " > Por favor , tente mensagens Actor . { inviteUrl } < / string > < nl > < nl > < ! - - Tour - - > < nl > < string name = " tour _ sign _ up " > COMECE A CONVERSAR < / string > < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml < nl > index f2d05ff . . 45179e1 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml < nl > @ @ - 36 , 7 + 36 , 7 @ @ < nl > < string name = " menu _ saved " > С о х р а н е н о < / string > < nl > < string name = " menu _ next " > Д а л е е < / string > < nl > < nl > - < string name = " invite _ message " > П р и в е т ! Д а в а й п р о д о л ж и м н а ш е о б щ е н и е в А к т о р е https : / / actor . im / dl < / string > < nl > + < string name = " invite _ message " > П р и в е т ! Д а в а й п р о д о л ж и м н а ш е о б щ е н и е в А к т о р е { inviteUrl } < / string > < nl > < nl > < ! - - Tour - - > < nl > < string name = " tour _ sign _ up " > Р Е Г И С Т Р А Ц И Я < / string > < nl > @ @ - 146 , 6 + 146 , 7 @ @ < nl > < string name = " settings _ ask " > З а д а т ь в о п р о с < / string > < nl > < string name = " settings _ notifications " > О п о в е щ е н и я < / string > < nl > < string name = " settings _ chat " > Н а с т р о й к и ч а т а < / string > < nl > + < string name = " settings _ home _ page " > Д о м а ш н я я с т р а н и ц а < / string > < nl > < string name = " settings _ security " > Б е з о п а с н о с т ь < / string > < nl > < string name = " nickname _ empty " > Д о б а в и т ь н и к < / string > < nl > < string name = " nickname _ hint " > В ы м о ж е т е в ы б р а т ь н и к в А к т о р е . Е с л и в ы э т о с д е л а е т е , т о д р у г и е л ю д и с м о г у т н а й т и в а с б е з н о м е р а т е л е ф о н а . \ n \ n В ы м о ж е т е и с п о л ь з о в а т ь л а т и н с к и е б у к в ы , ц и ф р ы и п о д ч е р к и в а н и е . М и н и м а л ь н а я д л и н н а - 5 с и м в о л о в . < / string > < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - zh / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - zh / ui _ text . xml < nl > index 6c31f7d . . 4355440 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - zh / ui _ text . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - zh / ui _ text . xml < nl > @ @ - 34 , 7 + 34 , 7 @ @ < nl > < string name = " menu _ saved " > 保 存 < / string > < nl > < string name = " menu _ next " > 下 一 步 < / string > < nl > < nl > - < string name = " invite _ message " > 您 好 ！ 让 我 们 一 起 使 用 优 聆 安 全 开 聊 吧 ! https : / / actor . im / dl < / string > < nl > + < string name = " invite _ message " > 您 好 ！ 让 我 们 一 起 使 用 优 聆 安 全 开 聊 吧 ! { inviteUrl } < / string > < nl > < nl > < ! - - Tour - - > < nl > < string name = " tour _ sign _ up " > 注 册 < / string > < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml < nl > index 56dface . . 17b2e7e 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml < nl > @ @ - 38 , 7 + 38 , 7 @ @ < nl > < string name = " menu _ saved " > Saved < / string > < nl > < string name = " menu _ next " > Next < / string > < nl > < nl > - < string name = " invite _ message " > Hi ! Let \ ' s switch to Actor ! https : / / actor . im / dl < / string > < nl > + < string name = " invite _ message " > Hi ! Let \ ' s switch to Actor ! { inviteUrl } < / string > < nl > < nl > < ! - - Tour - - > < nl > < string name = " tour _ sign _ up " > SIGN UP < / string > < nl > @ @ - 148 , 6 + 148 , 8 @ @ < nl > < string name = " settings _ header " > Settings < / string > < nl > < string name = " settings _ help " > Help < / string > < nl > < string name = " settings _ ask " > Ask Question < / string > < nl > + < string name = " settings _ twitter " > Twitter < / string > < nl > + < string name = " settings _ home _ page " > Home page < / string > < nl > < string name = " settings _ notifications " > Notifications < / string > < nl > < string name = " settings _ chat " > Chat Settings < / string > < nl > < string name = " settings _ security " > Security < / string >
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java < nl > index 300f863 . . 0c81c46 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java < nl > @ @ - 83 , 6 + 83 , 7 @ @ public class ActorStyle { < nl > private int groupAdminColor = 0 ; < nl > private int groupActionAddIconColor = 0 ; < nl > private int groupActionAddTextColor = 0 ; < nl > + private int groupOnlineColor = Color . parseColor ( " # ff7ea8ef " ) ; < nl > < nl > / / Conversation < nl > private int convSendEnabledColor = 0 ; < nl > @ @ - 847 , 4 + 848 , 12 @ @ public class ActorStyle { < nl > public static int getDarkenArgb ( int color , double percent ) { < nl > return Color . argb ( Color . alpha ( color ) , ( int ) Math . round ( Color . red ( color ) * percent ) , ( int ) Math . round ( Color . green ( color ) * percent ) , ( int ) Math . round ( Color . blue ( color ) * percent ) ) ; < nl > } < nl > + < nl > + public int getGroupOnlineColor ( ) { < nl > + return groupOnlineColor ; < nl > + } < nl > + < nl > + public void setGroupOnlineColor ( int groupOnlineColor ) { < nl > + this . groupOnlineColor = groupOnlineColor ; < nl > + } < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java < nl > index 8f33068 . . 8ce84b5 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java < nl > @ @ - 2 , 7 + 2 , 11 @ @ package im . actor . sdk . controllers . conversation . messages ; < nl > < nl > import android . view . View ; < nl > < nl > + import im . actor . core . viewmodel . UserPresence ; < nl > + import im . actor . core . viewmodel . UserVM ; < nl > + import im . actor . sdk . ActorSDK ; < nl > import im . actor . sdk . controllers . conversation . view . BubbleContainer ; < nl > + import im . actor . sdk . controllers . fragment . ActorBinder ; < nl > import im . actor . sdk . util . Strings ; < nl > import im . actor . runtime . android . view . BindedViewHolder ; < nl > import im . actor . core . entity . Message ; < nl > @ @ - 19 , 6 + 23 , 7 @ @ public abstract class MessageHolder extends BindedViewHolder < nl > protected BubbleContainer container ; < nl > private boolean isFullSize ; < nl > protected Message currentMessage ; < nl > + protected ActorBinder . Binding onlineBinding ; < nl > < nl > public MessageHolder ( MessagesAdapter adapter , View itemView , boolean isFullSize ) { < nl > super ( itemView ) ; < nl > @ @ - 36 , 6 + 41 , 10 @ @ public abstract class MessageHolder extends BindedViewHolder < nl > } < nl > } < nl > < nl > + public void setOnline ( boolean online , boolean isBot ) { < nl > + container . setOnline ( online , isBot ) ; < nl > + } < nl > + < nl > public MessagesAdapter getAdapter ( ) { < nl > return adapter ; < nl > } < nl > @ @ - 81 , 8 + 90 , 24 @ @ public abstract class MessageHolder extends BindedViewHolder < nl > / / Updating selection state < nl > container . setBubbleSelected ( adapter . isSelected ( currentMessage ) ) ; < nl > < nl > + / / online < nl > + if ( onlineBinding ! = null ) { < nl > + getAdapter ( ) . getBinder ( ) . unbind ( onlineBinding ) ; < nl > + } < nl > + final UserVM user = users ( ) . get ( message . getSenderId ( ) ) ; < nl > + onlineBinding = getAdapter ( ) . getBinder ( ) . bind ( new ActorBinder . OnChangedListener < Boolean > ( ) { < nl > + @ Override < nl > + public void onChanged ( Boolean online ) { < nl > + setOnline ( online , user . isBot ( ) ) ; < nl > + } < nl > + < nl > + } , user . getPresence ( ) ) ; < nl > + setOnline ( user . getPresence ( ) . get ( ) . getState ( ) . equals ( UserPresence . State . ONLINE ) , user . isBot ( ) ) ; < nl > + < nl > + < nl > / / Bind content < nl > bindData ( message , isUpdated , preprocessedData ) ; < nl > + ActorSDK . sharedActor ( ) . getMessenger ( ) . onUserVisible ( message . getSenderId ( ) ) ; < nl > } < nl > < nl > protected abstract void bindData ( Message message , boolean isUpdated , PreprocessedData preprocessedData ) ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesAdapter . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesAdapter . java < nl > index 55880f5 . . b845549 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesAdapter . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesAdapter . java < nl > @ @ - 18 , 6 + 18 , 7 @ @ import im . actor . core . entity . content . VoiceContent ; < nl > import im . actor . runtime . generic . mvvm . BindedDisplayList ; < nl > import im . actor . sdk . R ; < nl > import im . actor . runtime . android . view . BindedListAdapter ; < nl > + import im . actor . sdk . controllers . fragment . ActorBinder ; < nl > < nl > public class MessagesAdapter extends BindedListAdapter < Message , MessageHolder > { < nl > < nl > @ @ - 25 , 6 + 26 , 7 @ @ public class MessagesAdapter extends BindedListAdapter < Message , MessageHolder > { < nl > private Context context ; < nl > private long firstUnread = - 1 ; < nl > protected HashMap < Long , Message > selected = new HashMap < Long , Message > ( ) ; < nl > + private ActorBinder BINDER = new ActorBinder ( ) ; < nl > < nl > public MessagesAdapter ( BindedDisplayList < Message > displayList , < nl > MessagesFragment messagesFragment , Context context ) { < nl > @ @ - 134 , 4 + 136 , 8 @ @ public class MessagesAdapter extends BindedListAdapter < Message , MessageHolder > { < nl > public void onViewRecycled ( MessageHolder holder ) { < nl > holder . unbind ( ) ; < nl > } < nl > + < nl > + public ActorBinder getBinder ( ) { < nl > + return BINDER ; < nl > + } < nl > } < nl > \ No newline at end of file < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / view / BubbleContainer . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / view / BubbleContainer . java < nl > index 4a59883 . . 766062c 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / view / BubbleContainer . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / view / BubbleContainer . java < nl > @ @ - 16 , 6 + 16 , 7 @ @ import im . actor . sdk . util . Strings ; < nl > import im . actor . sdk . view . avatar . AvatarView ; < nl > import im . actor . sdk . util . Fonts ; < nl > import im . actor . core . viewmodel . UserVM ; < nl > + import im . actor . sdk . view . avatar . AvatarViewWithOnline ; < nl > < nl > import static im . actor . sdk . util . ActorSDKMessenger . groups ; < nl > import static im . actor . sdk . util . ActorSDKMessenger . users ; < nl > @ @ - 31 , 7 + 32 , 7 @ @ public class BubbleContainer extends ViewGroup { < nl > private boolean showAvatar ; < nl > private TextView dateDiv ; < nl > private TextView unreadDiv ; < nl > - private AvatarView avatarView ; < nl > + private AvatarViewWithOnline avatarView ; < nl > private int mode = MODE _ FULL ; < nl > private boolean isSelected ; < nl > private OnAvatarClickListener onClickListener ; < nl > @ @ - 101 , 7 + 102 , 7 @ @ public class BubbleContainer extends ViewGroup { < nl > addView ( unreadDiv , new MarginLayoutParams ( LayoutParams . MATCH _ PARENT , LayoutParams . WRAP _ CONTENT ) ) ; < nl > < nl > / / AVATAR < nl > - avatarView = new AvatarView ( getContext ( ) ) ; < nl > + avatarView = new AvatarViewWithOnline ( getContext ( ) ) ; < nl > avatarView . init ( Screen . dp ( 42 ) , 12 ) ; < nl > addView ( avatarView , new MarginLayoutParams ( Screen . dp ( 42 ) , Screen . dp ( 42 ) ) ) ; < nl > } < nl > @ @ - 327 , 4 + 328 , 8 @ @ public class BubbleContainer extends ViewGroup { < nl > public interface OnAvatarLongClickListener { < nl > void onAvatarLongClick ( int uid ) ; < nl > } < nl > + < nl > + public void setOnline ( boolean online , boolean isBot ) { < nl > + avatarView . setOnline ( online , isBot ) ; < nl > + } < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / ActorBinder . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / ActorBinder . java < nl > index a01207e . . de76ed5 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / ActorBinder . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / ActorBinder . java < nl > @ @ - 14 , 6 + 14 , 9 @ @ import im . actor . core . entity . GroupMember ; < nl > import im . actor . core . viewmodel . GroupVM ; < nl > import im . actor . core . viewmodel . UserPresence ; < nl > import im . actor . core . viewmodel . UserVM ; < nl > + import im . actor . runtime . mvvm . ValueModel ; < nl > + import im . actor . sdk . ActorSDK ; < nl > + import im . actor . sdk . R ; < nl > import im . actor . sdk . view . avatar . AvatarView ; < nl > import im . actor . sdk . view . avatar . CoverAvatarView ; < nl > import im . actor . runtime . mvvm . Value ; < nl > @ @ - 119 , 6 + 122 , 51 @ @ public class ActorBinder { < nl > } ) ; < nl > } < nl > < nl > + public Binding bind ( final TextView textView , final UserVM user ) { < nl > + return bind ( user . getPresence ( ) , new ValueChangedListener < UserPresence > ( ) { < nl > + @ Override < nl > + public void onChanged ( UserPresence val , Value < UserPresence > Value ) { < nl > + String s = messenger ( ) . getFormatter ( ) . formatPresence ( val , user . getSex ( ) ) ; < nl > + if ( s = = null ) { < nl > + s = " " ; < nl > + } < nl > + < nl > + if ( val . getState ( ) . equals ( UserPresence . State . ONLINE ) ) { < nl > + textView . setTextColor ( ActorSDK . sharedActor ( ) . style . getGroupOnlineColor ( ) ) ; < nl > + s = " \ u25CF " . concat ( s ) ; < nl > + } else { < nl > + textView . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextSecondaryColor ( ) ) ; < nl > + } < nl > + textView . setText ( s ) ; < nl > + } < nl > + } ) ; < nl > + } < nl > + < nl > + < nl > + public Binding bind ( final View v , ValueModel < UserPresence > up ) { < nl > + return bind ( up , new ValueChangedListener < UserPresence > ( ) { < nl > + < nl > + @ Override < nl > + public void onChanged ( UserPresence val , Value < UserPresence > valueModel ) { < nl > + if ( val . getState ( ) . equals ( UserPresence . State . ONLINE ) ) { < nl > + v . setVisibility ( View . VISIBLE ) ; < nl > + } else { < nl > + v . setVisibility ( View . GONE ) ; < nl > + } < nl > + } < nl > + } ) ; < nl > + } < nl > + < nl > + public Binding bind ( final OnChangedListener < Boolean > callback , ValueModel < UserPresence > up ) { < nl > + return bind ( up , new ValueChangedListener < UserPresence > ( ) { < nl > + < nl > + @ Override < nl > + public void onChanged ( UserPresence val , Value < UserPresence > valueModel ) { < nl > + callback . onChanged ( val . getState ( ) . equals ( UserPresence . State . ONLINE ) ) ; < nl > + } < nl > + } ) ; < nl > + } < nl > + < nl > public void bind ( final TextView textView , final View titleContainer , final GroupVM value ) { < nl > bind ( value . getPresence ( ) , value . getMembers ( ) , value . isMember ( ) , new ValueTripleChangedListener < Integer , HashSet < GroupMember > , Boolean > ( ) { < nl > @ Override < nl > @ @ - 171 , 9 + 219 , 11 @ @ public class ActorBinder { < nl > } ) ; < nl > } < nl > < nl > - public < T > void bind ( Value < T > value , ValueChangedListener < T > listener ) { < nl > + public < T > Binding bind ( Value < T > value , ValueChangedListener < T > listener ) { < nl > value . subscribe ( listener ) ; < nl > - bindings . add ( new Binding ( value , listener ) ) ; < nl > + Binding b = new Binding ( value , listener ) ; < nl > + bindings . add ( b ) ; < nl > + return b ; < nl > } < nl > < nl > public < T > void bind ( Value < T > value , boolean notify , ValueChangedListener < T > listener ) { < nl > @ @ - 229 , 11 + 279 , 16 @ @ public class ActorBinder { < nl > bindings . clear ( ) ; < nl > } < nl > < nl > - public interface OnChangedListener { < nl > - void onChanged ( String s ) ; < nl > + public interface OnChangedListener < T > { < nl > + void onChanged ( T val ) ; < nl > + } < nl > + < nl > + public void unbind ( Binding b ) { < nl > + b . unbind ( ) ; < nl > + bindings . remove ( b ) ; < nl > } < nl > < nl > - private class Binding { < nl > + public class Binding { < nl > private Value model ; < nl > private ValueChangedListener listener ; < nl > < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / group / GroupInfoFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / group / GroupInfoFragment . java < nl > index e8f4990 . . 83c474e 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / group / GroupInfoFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / group / GroupInfoFragment . java < nl > @ @ - 152 , 7 + 152 , 7 @ @ public class GroupInfoFragment extends BaseFragment { < nl > themeHeader . setTextColor ( style . getProfileSubtitleColor ( ) ) ; < nl > < nl > final boolean finalIsAdmin = isAdmin ; < nl > - bind ( themeTV , header . findViewById ( R . id . themeContainer ) , groupInfo . getTheme ( ) , new ActorBinder . OnChangedListener ( ) { < nl > + bind ( themeTV , header . findViewById ( R . id . themeContainer ) , groupInfo . getTheme ( ) , new ActorBinder . OnChangedListener < String > ( ) { < nl > @ Override < nl > public void onChanged ( String s ) { < nl > theme [ 0 ] = s ; < nl > @ @ - 162 , 7 + 162 , 7 @ @ public class GroupInfoFragment extends BaseFragment { < nl > < nl > / / bind ( themeHeader , themeHeader , groupInfo . getTheme ( ) ) ; < nl > < nl > - bind ( aboutTV , header . findViewById ( R . id . aboutContainer ) , groupInfo . getAbout ( ) , new ActorBinder . OnChangedListener ( ) { < nl > + bind ( aboutTV , header . findViewById ( R . id . aboutContainer ) , groupInfo . getAbout ( ) , new ActorBinder . OnChangedListener < String > ( ) { < nl > @ Override < nl > public void onChanged ( String s ) { < nl > about [ 0 ] = s ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / group / view / MembersAdapter . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / group / view / MembersAdapter . java < nl > index b217a81 . . a91f3d6 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / group / view / MembersAdapter . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / group / view / MembersAdapter . java < nl > @ @ - 8 , 8 + 8 , 10 @ @ import android . widget . TextView ; < nl > < nl > import java . util . Collection ; < nl > < nl > + import im . actor . core . viewmodel . UserPresence ; < nl > import im . actor . sdk . ActorSDK ; < nl > import im . actor . sdk . R ; < nl > + import im . actor . sdk . controllers . fragment . ActorBinder ; < nl > import im . actor . sdk . util . Screen ; < nl > import im . actor . sdk . view . avatar . AvatarView ; < nl > import im . actor . sdk . view . adapters . HolderAdapter ; < nl > @ @ - 21 , 7 + 23 , 7 @ @ import static im . actor . sdk . util . ActorSDKMessenger . users ; < nl > < nl > public class MembersAdapter extends HolderAdapter < GroupMember > { < nl > private GroupMember [ ] members ; < nl > - < nl > + private final ActorBinder BINDER = new ActorBinder ( ) ; < nl > public MembersAdapter ( Collection < GroupMember > members , Context context ) { < nl > super ( context ) ; < nl > this . members = members . toArray ( new GroupMember [ 0 ] ) ; < nl > @ @ - 57 , 6 + 59 , 10 @ @ public class MembersAdapter extends HolderAdapter < GroupMember > { < nl > private TextView userName ; < nl > private View admin ; < nl > private AvatarView avatarView ; < nl > + private TextView online ; < nl > + private TextView lastSeen ; < nl > + private ActorBinder . Binding onlineBinding ; < nl > + private Context context ; < nl > < nl > @ Override < nl > public View init ( GroupMember data , ViewGroup viewGroup , Context context ) { < nl > @ @ - 65 , 20 + 71 , 42 @ @ public class MembersAdapter extends HolderAdapter < GroupMember > { < nl > avatarView = ( AvatarView ) res . findViewById ( R . id . avatar ) ; < nl > avatarView . init ( Screen . dp ( 42 ) , 24 ) ; < nl > admin = res . findViewById ( R . id . adminFlag ) ; < nl > + online = ( TextView ) res . findViewById ( R . id . online ) ; < nl > + lastSeen = ( TextView ) res . findViewById ( R . id . lastSeen ) ; < nl > ( ( TextView ) admin ) . setTextColor ( ActorSDK . sharedActor ( ) . style . getGroupAdminColor ( ) ) ; < nl > ( ( TextView ) res . findViewById ( R . id . name ) ) . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextPrimaryColor ( ) ) ; < nl > res . findViewById ( R . id . divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; < nl > + this . context = context ; < nl > return res ; < nl > } < nl > < nl > @ Override < nl > public void bind ( GroupMember data , int position , Context context ) { < nl > + if ( onlineBinding ! = null ) { < nl > + onlineBinding . unbind ( ) ; < nl > + } < nl > + < nl > UserVM user = users ( ) . get ( data . getUid ( ) ) ; < nl > + onlineBinding = BINDER . bind ( online , user ) ; < nl > + ActorSDK . sharedActor ( ) . getMessenger ( ) . onUserVisible ( data . getUid ( ) ) ; < nl > < nl > avatarView . bind ( user ) ; < nl > < nl > userName . setText ( user . getName ( ) . get ( ) ) ; < nl > < nl > + UserPresence presence = user . getPresence ( ) . get ( ) ; < nl > + String s = ActorSDK . sharedActor ( ) . getMessenger ( ) . getFormatter ( ) . formatPresence ( presence , user . getSex ( ) ) ; < nl > + if ( s = = null ) { < nl > + s = " " ; < nl > + } < nl > + if ( presence . getState ( ) . equals ( UserPresence . State . ONLINE ) ) { < nl > + online . setTextColor ( ActorSDK . sharedActor ( ) . style . getGroupOnlineColor ( ) ) ; < nl > + s = " \ u25CF " . concat ( s ) ; < nl > + } else { < nl > + online . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextSecondaryColor ( ) ) ; < nl > + } < nl > + online . setText ( s ) ; < nl > + < nl > if ( data . isAdministrator ( ) ) { < nl > admin . setVisibility ( View . VISIBLE ) ; < nl > } else { < nl > @ @ - 89 , 6 + 117 , 9 @ @ public class MembersAdapter extends HolderAdapter < GroupMember > { < nl > @ Override < nl > public void unbind ( ) { < nl > avatarView . unbind ( ) ; < nl > + if ( onlineBinding ! = null ) { < nl > + onlineBinding . unbind ( ) ; < nl > + } < nl > } < nl > } < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / OnlineSpan . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / OnlineSpan . java < nl > new file mode 100644 < nl > index 0000000 . . f211e8f < nl > - - - / dev / null < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / OnlineSpan . java < nl > @ @ - 0 , 0 + 1 , 36 @ @ < nl > + package im . actor . sdk . view ; < nl > + < nl > + import android . graphics . Color ; < nl > + import android . text . TextPaint ; < nl > + import android . text . style . ForegroundColorSpan ; < nl > + < nl > + / * * < nl > + * Created by badgr on 29 . 09 . 2015 . < nl > + * / < nl > + public class OnlineSpan extends ForegroundColorSpan { < nl > + private boolean online = false ; < nl > + private static final int COLOR _ ONLINE = Color . parseColor ( " # 7b95b6 " ) ; < nl > + private static final int COLOR _ OFFLINE = Color . parseColor ( " # 00000000 " ) ; < nl > + < nl > + public OnlineSpan ( int color ) { < nl > + super ( color ) ; < nl > + } < nl > + < nl > + public OnlineSpan ( ) { < nl > + super ( COLOR _ OFFLINE ) ; < nl > + } < nl > + < nl > + @ Override < nl > + public int getForegroundColor ( ) { < nl > + return online ? COLOR _ ONLINE : COLOR _ OFFLINE ; < nl > + } < nl > + < nl > + @ Override < nl > + public void updateDrawState ( TextPaint ds ) { < nl > + ds . setColor ( getForegroundColor ( ) ) ; < nl > + } < nl > + < nl > + public void setOnline ( boolean online ) { < nl > + this . online = online ; < nl > + } < nl > + } < nl > \ No newline at end of file < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / avatar / AvatarViewWithOnline . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / avatar / AvatarViewWithOnline . java < nl > new file mode 100644 < nl > index 0000000 . . 6844310 < nl > - - - / dev / null < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / avatar / AvatarViewWithOnline . java < nl > @ @ - 0 , 0 + 1 , 68 @ @ < nl > + package im . actor . sdk . view . avatar ; < nl > + < nl > + import android . content . Context ; < nl > + import android . util . AttributeSet ; < nl > + import android . view . Gravity ; < nl > + import android . widget . FrameLayout ; < nl > + import android . widget . ImageView ; < nl > + < nl > + import im . actor . core . viewmodel . GroupVM ; < nl > + import im . actor . core . viewmodel . UserVM ; < nl > + import im . actor . sdk . R ; < nl > + import im . actor . sdk . util . Screen ; < nl > + < nl > + public class AvatarViewWithOnline extends FrameLayout { < nl > + public static final boolean DRAW _ ONLINES = false ; < nl > + AvatarView avatarView ; < nl > + ImageView online ; < nl > + private boolean isOnline = false ; < nl > + < nl > + public AvatarViewWithOnline ( Context context ) { < nl > + super ( context ) ; < nl > + } < nl > + < nl > + public AvatarViewWithOnline ( Context context , AttributeSet attrs ) { < nl > + super ( context , attrs ) ; < nl > + } < nl > + < nl > + public AvatarViewWithOnline ( Context context , AttributeSet attrs , int defStyleAttr ) { < nl > + super ( context , attrs , defStyleAttr ) ; < nl > + } < nl > + < nl > + < nl > + public void init ( int size , float text ) { < nl > + avatarView = new AvatarView ( getContext ( ) ) ; < nl > + < nl > + avatarView . init ( size , text ) ; < nl > + addView ( avatarView ) ; < nl > + < nl > + online = new ImageView ( getContext ( ) ) ; < nl > + online . setImageResource ( R . drawable . indicator _ offline ) ; < nl > + addView ( online , new LayoutParams ( Screen . dp ( 11 ) , Screen . dp ( 11 ) , Gravity . RIGHT | Gravity . BOTTOM ) ) ; < nl > + } < nl > + < nl > + public void unbind ( ) { < nl > + avatarView . unbind ( ) ; < nl > + } < nl > + < nl > + public void bind ( UserVM u ) { < nl > + avatarView . bind ( u ) ; < nl > + } < nl > + < nl > + public void bind ( GroupVM g ) { < nl > + avatarView . bind ( g ) ; < nl > + } < nl > + < nl > + public void setOnline ( boolean online , boolean isBot ) { < nl > + if ( ! isBot & & DRAW _ ONLINES ) { < nl > + this . online . setVisibility ( VISIBLE ) ; < nl > + if ( isOnline ! = online ) { < nl > + isOnline = online ; < nl > + this . online . setImageResource ( isOnline ? R . drawable . indicator _ online : R . drawable . indicator _ offline ) ; < nl > + } < nl > + } else { < nl > + this . online . setVisibility ( INVISIBLE ) ; < nl > + } < nl > + < nl > + } < nl > + } < nl > \ No newline at end of file < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable / indicator _ offline . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable / indicator _ offline . xml < nl > new file mode 100644 < nl > index 0000000 . . 4c6a88d < nl > - - - / dev / null < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable / indicator _ offline . xml < nl > @ @ - 0 , 0 + 1 , 8 @ @ < nl > + < ? xml version = " 1 . 0 " encoding = " utf - 8 " ? > < nl > + < shape xmlns : android = " http : / / schemas . android . com / apk / res / android " < nl > + android : shape = " oval " > < nl > + < solid android : color = " @ color / conv _ offline " / > < nl > + < stroke < nl > + android : width = " 2dp " < nl > + android : color = " @ android : color / white " / > < nl > + < / shape > < nl > \ No newline at end of file < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable / indicator _ online . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable / indicator _ online . xml < nl > new file mode 100644 < nl > index 0000000 . . a273657 < nl > - - - / dev / null < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable / indicator _ online . xml < nl > @ @ - 0 , 0 + 1 , 8 @ @ < nl > + < ? xml version = " 1 . 0 " encoding = " utf - 8 " ? > < nl > + < shape xmlns : android = " http : / / schemas . android . com / apk / res / android " < nl > + android : shape = " oval " > < nl > + < solid android : color = " @ color / conv _ online " / > < nl > + < stroke < nl > + android : width = " 2dp " < nl > + android : color = " @ android : color / white " / > < nl > + < / shape > < nl > \ No newline at end of file < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ group _ item . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ group _ item . xml < nl > index 9ac19c4 . . d9b18e2 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ group _ item . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ group _ item . xml < nl > @ @ - 27 , 18 + 27 , 33 @ @ < nl > android : layout _ gravity = " center " / > < nl > < / FrameLayout > < nl > < nl > - < TextView < nl > - android : id = " @ + id / name " < nl > + < LinearLayout < nl > android : layout _ width = " 0dp " < nl > - android : layout _ height = " match _ parent " < nl > android : layout _ weight = " 1 " < nl > - android : ellipsize = " end " < nl > + android : orientation = " vertical " < nl > android : gravity = " center _ vertical " < nl > - android : lines = " 1 " < nl > - android : paddingRight = " 8dp " < nl > - android : singleLine = " true " < nl > - android : textSize = " 16sp " / > < nl > + android : layout _ height = " match _ parent " > < nl > + < nl > + < TextView < nl > + android : id = " @ + id / name " < nl > + android : layout _ width = " wrap _ content " < nl > + android : layout _ height = " wrap _ content " < nl > + android : ellipsize = " end " < nl > + android : gravity = " center _ vertical " < nl > + android : lines = " 1 " < nl > + android : paddingRight = " 8dp " < nl > + android : singleLine = " true " < nl > + android : textSize = " 16sp " / > < nl > < nl > + < TextView < nl > + android : id = " @ + id / online " < nl > + android : layout _ width = " wrap _ content " < nl > + android : layout _ height = " wrap _ content " < nl > + android : ellipsize = " end " < nl > + android : text = " @ string / online " < nl > + android : gravity = " center _ vertical " < nl > + android : textColor = " @ color / conv _ online " / > < nl > + < / LinearLayout > < nl > < TextView < nl > android : id = " @ + id / adminFlag " < nl > android : layout _ width = " wrap _ content " < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml < nl > index 1222ffe . . 3c3350b 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml < nl > @ @ - 248 , 7 + 248 , 7 @ @ < nl > < string name = " group _ members _ header " > У ч а с т н и к и < / string > < nl > < string name = " group _ members _ count " > { 0 } и з { 1 } < / string > < nl > < nl > - < string name = " group _ admin " > а д м и н . г р у п п ы < / string > < nl > + < string name = " group _ admin " > а д м и н . < / string > < nl > < nl > < string name = " group _ created _ by " > С о з д а н { 0 } < / string > < nl > < string name = " group _ created _ by _ you " > С о з д а н В а м и < / string > < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / colors . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / colors . xml < nl > index 7ae9517 . . b98ac94 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / colors . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / colors . xml < nl > @ @ - 151 , 5 + 151 , 7 @ @ < nl > < color name = " default _ circle _ indicator _ stroke _ color " > # FFDDDDDD < / color > < nl > < dimen name = " default _ circle _ indicator _ stroke _ width " > 1dp < / dimen > < nl > < nl > + < color name = " conv _ offline " > @ android : color / darker _ gray < / color > < nl > + < color name = " conv _ online " > # ff7ea8ef < / color > < nl > < nl > < / resources > < nl > \ No newline at end of file < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml < nl > index 8366189 . . 2270a93 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml < nl > @ @ - 225 , 6 + 225 , 7 @ @ < nl > < string name = " chat _ not _ member " > You is not member of this group < / string > < nl > < nl > < string name = " chat _ unsupported " > Message is unsupported in this version . Please , wait for application update to see message . < / string > < nl > + < string name = " online " > \ u25CF online < / string > < nl > < nl > < ! - - Profile - - > < nl > < string name = " profile _ title " > Profile < / string >

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 index d348cd0 . . 51ab054 100644 
 - - - a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 + + + b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 @ @ - 30 , 6 + 30 , 10 @ @ public class Application extends ActorSDKApplication { 
 public void onConfigureActorSDK ( ) { 
 ActorSDK . sharedActor ( ) . setDelegate ( new ActorSDKDelegate ( ) ) ; 
 ActorSDK . sharedActor ( ) . setPushId ( 209133700967L ) ; 
 + ActorSDK . sharedActor ( ) . setTwitter ( " " ) ; 
 + ActorSDK . sharedActor ( ) . setHomePage ( " http : / / www . foo . com " ) ; 
 + ActorSDK . sharedActor ( ) . setInviteUrl ( " http : / / www . foo . com " ) ; 
 + 
 
 / / ArrayList < String > endpoints = new ArrayList < String > ( ) ; 
 / / endpoints . add ( " tcp : / / 192 . 168 . 1 . 184 : 9070 " ) ; 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java 
 index 7b5e3f7 . . 8ce6dfa 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDK . java 
 @ @ - 109 , 6 + 109 , 22 @ @ public class ActorSDK { 
 * Custom application name 
 * / 
 private String customApplicationName = null ; 
 + / * * 
 + * Invite url 
 + * / 
 + private String inviteUrl = " https : / / actor . im / dl " ; 
 + / * * 
 + * Help phone 
 + * / 
 + private String helpPhone = " 75551234567 " ; 
 + / * * 
 + * Home page 
 + * / 
 + private String homePage = " https : / / actor . im " ; 
 + / * * 
 + * Twitter 
 + * / 
 + private String twitter = " actorapp " ; 
 
 / * * 
 * Delegate 
 @ @ - 410 , 6 + 426 , 30 @ @ public class ActorSDK { 
 this . pushId = pushId ; 
 } 
 
 + public String getHelpPhone ( ) { 
 + return helpPhone ; 
 + } 
 + 
 + public void setHelpPhone ( String helpPhone ) { 
 + this . helpPhone = helpPhone ; 
 + } 
 + 
 + public String getHomePage ( ) { 
 + return homePage ; 
 + } 
 + 
 + public void setHomePage ( String homePage ) { 
 + this . homePage = homePage ; 
 + } 
 + 
 + public String getTwitterAcc ( ) { 
 + return twitter ; 
 + } 
 + 
 + public void setTwitter ( String twitter ) { 
 + this . twitter = twitter ; 
 + } 
 + 
 / * * 
 * Getting Application Delegate . 
 * 
 @ @ - 533 , 6 + 573 , 14 @ @ public class ActorSDK { 
 } 
 } 
 
 + public String getInviteUrl ( ) { 
 + return inviteUrl ; 
 + } 
 + 
 + public void setInviteUrl ( String inviteUrl ) { 
 + this . inviteUrl = inviteUrl ; 
 + } 
 + 
 public interface OnDelegateViewHolder < T > { 
 T onNotDelegated ( ) ; 
 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java 
 index 80cc9f1 . . c9e3e44 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java 
 @ @ - 70 , 7 + 70 , 6 @ @ public interface ActorSDKDelegate { 
 * / 
 ActorIntent getChatIntent ( ) ; 
 
 - String getHelpPhone ( ) ; 
 
 < T extends BindedViewHolder , J extends T > J getViewHolder ( Class < T > base , Object . . . args ) ; 
 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java 
 index 511d1b4 . . 0008a47 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java 
 @ @ - 91 , 11 + 91 , 6 @ @ public class BaseActorSDKDelegate implements ActorSDKDelegate { 
 } 
 
 @ Override 
 - public String getHelpPhone ( ) { 
 - return " 75551234567 " ; 
 - } 
 - 
 - @ Override 
 public < T extends BindedViewHolder , J extends T > J getViewHolder ( Class < T > base , Object [ ] args ) { 
 return null ; 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / activity / AddContactActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / activity / AddContactActivity . java 
 index 43dba74 . . ad9b2c8 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / activity / AddContactActivity . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / activity / AddContactActivity . java 
 @ @ - 68 , 7 + 68 , 7 @ @ public class AddContactActivity extends BaseFragmentActivity { 
 . setPositiveButton ( R . string . alert _ invite _ yes , new DialogInterface . OnClickListener ( ) { 
 @ Override 
 public void onClick ( DialogInterface dialogInterface , int i ) { 
 - String inviteMessage = getString ( R . string . invite _ message ) ; 
 + String inviteMessage = getString ( R . string . invite _ message ) . replace ( " { inviteUrl } " , ActorSDK . sharedActor ( ) . getInviteUrl ( ) ) ; 
 Intent sendIntent = new Intent ( Intent . ACTION _ VIEW ) ; 
 sendIntent . setData ( Uri . parse ( " sms : " + query ) ) ; 
 sendIntent . putExtra ( " sms _ body " , inviteMessage ) ; 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / activity / controllers / MainPhoneController . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / activity / controllers / MainPhoneController . java 
 index 2db1f11 . . 23fd0c7 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / activity / controllers / MainPhoneController . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / activity / controllers / MainPhoneController . java 
 @ @ - 281 , 7 + 281 , 7 @ @ public class MainPhoneController extends MainBaseController { 
 findViewById ( R . id . inviteButton ) . setOnClickListener ( new View . OnClickListener ( ) { 
 @ Override 
 public void onClick ( View v ) { 
 - String inviteMessage = getResources ( ) . getString ( R . string . invite _ message ) ; 
 + String inviteMessage = getResources ( ) . getString ( R . string . invite _ message ) . replace ( " { inviteUrl } " , ActorSDK . sharedActor ( ) . getInviteUrl ( ) ) ; 
 Intent sendIntent = new Intent ( Intent . ACTION _ SEND ) ; 
 sendIntent . putExtra ( Intent . EXTRA _ TEXT , inviteMessage ) ; 
 sendIntent . setType ( " text / plain " ) ; 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / contacts / BaseContactFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / contacts / BaseContactFragment . java 
 index 0223c58 . . 9f446bd 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / contacts / BaseContactFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / contacts / BaseContactFragment . java 
 @ @ - 108 , 7 + 108 , 7 @ @ public abstract class BaseContactFragment extends DisplayListFragment < Contact , C 
 addFooterOrHeaderAction ( ActorSDK . sharedActor ( ) . style . getActionShareColor ( ) , R . drawable . ic _ share _ white _ 24dp , R . string . contacts _ share , false , new Runnable ( ) { 
 @ Override 
 public void run ( ) { 
 - String inviteMessage = getResources ( ) . getString ( R . string . invite _ message ) ; 
 + String inviteMessage = getResources ( ) . getString ( R . string . invite _ message ) . replace ( " { inviteUrl } " , ActorSDK . sharedActor ( ) . getInviteUrl ( ) ) ; 
 Intent sendIntent = new Intent ( Intent . ACTION _ SEND ) ; 
 sendIntent . putExtra ( Intent . EXTRA _ TEXT , inviteMessage ) ; 
 sendIntent . setType ( " text / plain " ) ; 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / contacts / ContactsFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / contacts / ContactsFragment . java 
 index bd63c63 . . 84a1619 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / contacts / ContactsFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / contacts / ContactsFragment . java 
 @ @ - 29 , 7 + 29 , 7 @ @ public class ContactsFragment extends BaseContactFragment { 
 res . findViewById ( R . id . inviteButton ) . setOnClickListener ( new View . OnClickListener ( ) { 
 @ Override 
 public void onClick ( View v ) { 
 - String inviteMessage = getResources ( ) . getString ( R . string . invite _ message ) ; 
 + String inviteMessage = getResources ( ) . getString ( R . string . invite _ message ) . replace ( " { inviteUrl } " , ActorSDK . sharedActor ( ) . getInviteUrl ( ) ) ; 
 Intent sendIntent = new Intent ( Intent . ACTION _ SEND ) ; 
 sendIntent . putExtra ( Intent . EXTRA _ TEXT , inviteMessage ) ; 
 sendIntent . setType ( " text / plain " ) ; 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java 
 index bce726e . . ece55ab 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / BaseActorSettingsFragment . java 
 @ @ - 361 , 10 + 361 , 15 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements 
 } ) ; 
 
 View askQuestion = view . findViewById ( R . id . askQuestion ) ; 
 + 
 + if ( ActorSDK . sharedActor ( ) . getHelpPhone ( ) = = null | | ActorSDK . sharedActor ( ) . getHelpPhone ( ) . isEmpty ( ) ) { 
 + askQuestion . setVisibility ( View . GONE ) ; 
 + view . findViewById ( R . id . divider3 ) . setVisibility ( View . GONE ) ; 
 + } 
 askQuestion . setOnClickListener ( new View . OnClickListener ( ) { 
 @ Override 
 public void onClick ( View view ) { 
 - execute ( messenger ( ) . findUsers ( ActorSDK . sharedActor ( ) . getDelegate ( ) . getHelpPhone ( ) ) , R . string . progress _ common , new CommandCallback < UserVM [ ] > ( ) { 
 + execute ( messenger ( ) . findUsers ( ActorSDK . sharedActor ( ) . getHelpPhone ( ) ) , R . string . progress _ common , new CommandCallback < UserVM [ ] > ( ) { 
 @ Override 
 public void onResult ( UserVM [ ] res ) { 
 if ( res . length > = 1 ) { 
 @ @ - 380 , 10 + 385 , 49 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements 
 } 
 } ) ; 
 
 - if ( ! showAskQuestion ( ) ) { 
 - askQuestion . setVisibility ( View . GONE ) ; 
 - view . findViewById ( R . id . divider3 ) . setVisibility ( View . GONE ) ; 
 + / / Twitter 
 + View twitterView = view . findViewById ( R . id . twitter ) ; 
 + 
 + if ( ActorSDK . sharedActor ( ) . getTwitterAcc ( ) = = null | | ActorSDK . sharedActor ( ) . getTwitterAcc ( ) . isEmpty ( ) ) { 
 + twitterView . setVisibility ( View . GONE ) ; 
 + view . findViewById ( R . id . divider5 ) . setVisibility ( View . GONE ) ; 
 + } 
 + twitterView . setOnClickListener ( new View . OnClickListener ( ) { 
 + @ Override 
 + public void onClick ( View view ) { 
 + Intent viewIntent = new Intent ( Intent . ACTION _ VIEW , Uri . parse ( " https : / / twitter . com / " + ActorSDK . sharedActor ( ) . getTwitterAcc ( ) ) ) ; 
 + startActivity ( viewIntent ) ; 
 + } 
 + } ) ; 
 + 
 + TextView twitterTitle = ( TextView ) view . findViewById ( R . id . settings _ twitter ) ; 
 + twitterTitle . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsTitleColor ( ) ) ; 
 + 
 + TintImageView twitterIcon = ( TintImageView ) view . findViewById ( R . id . settings _ twitter _ icon ) ; 
 + twitterIcon . setTint ( style . getSettingsIconColor ( ) ) ; 
 + 
 + / / Home page 
 + View homePageView = view . findViewById ( R . id . home _ page ) ; 
 + 
 + if ( ActorSDK . sharedActor ( ) . getHomePage ( ) = = null | | ActorSDK . sharedActor ( ) . getHomePage ( ) . isEmpty ( ) ) { 
 + homePageView . setVisibility ( View . GONE ) ; 
 + view . findViewById ( R . id . divider6 ) . setVisibility ( View . GONE ) ; 
 } 
 + homePageView . setOnClickListener ( new View . OnClickListener ( ) { 
 + @ Override 
 + public void onClick ( View view ) { 
 + Intent viewIntent = new Intent ( Intent . ACTION _ VIEW , Uri . parse ( ActorSDK . sharedActor ( ) . getHomePage ( ) ) ) ; 
 + startActivity ( viewIntent ) ; 
 + } 
 + } ) ; 
 + 
 + TextView homePageTitle = ( TextView ) view . findViewById ( R . id . settings _ home _ page ) ; 
 + homePageTitle . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsTitleColor ( ) ) ; 
 + 
 + TintImageView homePageIcon = ( TintImageView ) view . findViewById ( R . id . settings _ home _ page _ icon ) ; 
 + homePageIcon . setTint ( style . getSettingsIconColor ( ) ) ; 
 + 
 + 
 
 TextView settingsHeaderText = ( TextView ) view . findViewById ( R . id . settings _ header _ text ) ; 
 settingsHeaderText . setTextColor ( ActorSDK . sharedActor ( ) . style . getSettingsCategoryTextColor ( ) ) ; 
 @ @ - 425 , 6 + 469 , 8 @ @ public abstract class BaseActorSettingsFragment extends BaseFragment implements 
 view . findViewById ( R . id . divider2 ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; 
 view . findViewById ( R . id . divider3 ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; 
 view . findViewById ( R . id . divider4 ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; 
 + view . findViewById ( R . id . divider5 ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; 
 + view . findViewById ( R . id . divider6 ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; 
 
 if ( getBeforeNickSettingsView ( ) ! = null ) { 
 FrameLayout beforeNick = ( FrameLayout ) view . findViewById ( R . id . before _ nick _ container ) ; 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ settings . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ settings . xml 
 index 699d57a . . e4ae491 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ settings . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ settings . xml 
 @ @ - 346 , 6 + 346 , 65 @ @ 
 < / LinearLayout > 
 
 < View 
 + android : id = " @ + id / divider5 " 
 + android : layout _ width = " match _ parent " 
 + android : layout _ height = " @ dimen / div _ size " 
 + android : layout _ marginLeft = " 72dp " 
 + android : layout _ marginRight = " 16dp " / > 
 + 
 + < LinearLayout 
 + android : id = " @ + id / twitter " 
 + android : layout _ width = " match _ parent " 
 + android : layout _ height = " 48dp " 
 + android : background = " @ drawable / selector " 
 + android : clickable = " true " > 
 + 
 + < im . actor . sdk . view . TintImageView 
 + android : id = " @ + id / settings _ twitter _ icon " 
 + android : layout _ width = " 72dp " 
 + android : layout _ height = " match _ parent " 
 + app : src = " @ drawable / ic _ twitterlogo _ 18dp " / > 
 + 
 + < TextView 
 + android : id = " @ + id / settings _ twitter " 
 + android : layout _ width = " match _ parent " 
 + android : layout _ height = " match _ parent " 
 + android : gravity = " left | center _ vertical " 
 + android : text = " @ string / settings _ twitter " 
 + android : textSize = " 16sp " / > 
 + < / LinearLayout > 
 + 
 + < View 
 + android : id = " @ + id / divider6 " 
 + android : layout _ width = " match _ parent " 
 + android : layout _ height = " @ dimen / div _ size " 
 + android : layout _ marginLeft = " 72dp " 
 + android : layout _ marginRight = " 16dp " / > 
 + 
 + < LinearLayout 
 + android : id = " @ + id / home _ page " 
 + android : layout _ width = " match _ parent " 
 + android : layout _ height = " 48dp " 
 + android : background = " @ drawable / selector " 
 + android : clickable = " true " > 
 + 
 + < im . actor . sdk . view . TintImageView 
 + android : id = " @ + id / settings _ home _ page _ icon " 
 + android : layout _ width = " 72dp " 
 + android : layout _ height = " match _ parent " 
 + app : src = " @ drawable / ic _ home _ page _ 18dp " / > 
 + 
 + < TextView 
 + android : id = " @ + id / settings _ home _ page " 
 + android : layout _ width = " match _ parent " 
 + android : layout _ height = " match _ parent " 
 + android : gravity = " left | center _ vertical " 
 + android : text = " @ string / settings _ home _ page " 
 + android : textSize = " 16sp " / > 
 + < / LinearLayout > 
 + 
 + 
 + < View 
 android : id = " @ + id / divider4 " 
 android : layout _ width = " match _ parent " 
 android : layout _ height = " @ dimen / div _ size " 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ar / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ar / ui _ text . xml 
 index 1eca810 . . bfbce0a 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ar / ui _ text . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ar / ui _ text . xml 
 @ @ - 34 , 7 + 34 , 7 @ @ 
 < string name = " menu _ saved " > ت م ح ف ظ < / string > 
 < string name = " menu _ next " > ت ا ل ي < / string > 
 
 - < string name = " invite _ message " > ه ي ا ب ن ا ن ب د ل ا ل ى ا ك ت و ر https : / / actor . im / dl < / string > 
 + < string name = " invite _ message " > ه ي ا ب ن ا ن ب د ل ا ل ى ا ك ت و ر { inviteUrl } < / string > 
 
 < ! - - Tour - - > 
 < string name = " tour _ sign _ up " > ت س ج ي ل < / string > 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - pt - rBR / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - pt - rBR / ui _ text . xml 
 index c10b9fe . . e868505 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - pt - rBR / ui _ text . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - pt - rBR / ui _ text . xml 
 @ @ - 33 , 7 + 33 , 7 @ @ 
 < string name = " menu _ saved " > Salvo < / string > 
 < string name = " menu _ next " > Pr ó ximo < / string > 
 
 - < string name = " invite _ message " > Ol á ! Vamos mudar para o Actor ! https : / / actor . im / dl < / string > 
 + < string name = " invite _ message " > Ol á ! Vamos mudar para o Actor ! { inviteUrl } < / string > 
 
 < ! - - Tour - - > 
 < string name = " tour _ sign _ up " > Registrar < / string > 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - pt - rPT / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - pt - rPT / ui _ text . xml 
 index d078334 . . 92caa50 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - pt - rPT / ui _ text . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - pt - rPT / ui _ text . xml 
 @ @ - 32 , 7 + 32 , 7 @ @ 
 < string name = " menu _ saved " > Guardar < / string > 
 < string name = " menu _ next " > Pr ó ximo < / string > 
 
 - < string name = " invite _ message " > Por favor , tente mensagens Actor . http : / / actor . im < / string > 
 + < string name = " invite _ message " > Por favor , tente mensagens Actor . { inviteUrl } < / string > 
 
 < ! - - Tour - - > 
 < string name = " tour _ sign _ up " > COMECE A CONVERSAR < / string > 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml 
 index f2d05ff . . 45179e1 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml 
 @ @ - 36 , 7 + 36 , 7 @ @ 
 < string name = " menu _ saved " > С о х р а н е н о < / string > 
 < string name = " menu _ next " > Д а л е е < / string > 
 
 - < string name = " invite _ message " > П р и в е т ! Д а в а й п р о д о л ж и м н а ш е о б щ е н и е в А к т о р е https : / / actor . im / dl < / string > 
 + < string name = " invite _ message " > П р и в е т ! Д а в а й п р о д о л ж и м н а ш е о б щ е н и е в А к т о р е { inviteUrl } < / string > 
 
 < ! - - Tour - - > 
 < string name = " tour _ sign _ up " > Р Е Г И С Т Р А Ц И Я < / string > 
 @ @ - 146 , 6 + 146 , 7 @ @ 
 < string name = " settings _ ask " > З а д а т ь в о п р о с < / string > 
 < string name = " settings _ notifications " > О п о в е щ е н и я < / string > 
 < string name = " settings _ chat " > Н а с т р о й к и ч а т а < / string > 
 + < string name = " settings _ home _ page " > Д о м а ш н я я с т р а н и ц а < / string > 
 < string name = " settings _ security " > Б е з о п а с н о с т ь < / string > 
 < string name = " nickname _ empty " > Д о б а в и т ь н и к < / string > 
 < string name = " nickname _ hint " > В ы м о ж е т е в ы б р а т ь н и к в А к т о р е . Е с л и в ы э т о с д е л а е т е , т о д р у г и е л ю д и с м о г у т н а й т и в а с б е з н о м е р а т е л е ф о н а . \ n \ n В ы м о ж е т е и с п о л ь з о в а т ь л а т и н с к и е б у к в ы , ц и ф р ы и п о д ч е р к и в а н и е . М и н и м а л ь н а я д л и н н а - 5 с и м в о л о в . < / string > 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - zh / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - zh / ui _ text . xml 
 index 6c31f7d . . 4355440 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - zh / ui _ text . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - zh / ui _ text . xml 
 @ @ - 34 , 7 + 34 , 7 @ @ 
 < string name = " menu _ saved " > 保 存 < / string > 
 < string name = " menu _ next " > 下 一 步 < / string > 
 
 - < string name = " invite _ message " > 您 好 ！ 让 我 们 一 起 使 用 优 聆 安 全 开 聊 吧 ! https : / / actor . im / dl < / string > 
 + < string name = " invite _ message " > 您 好 ！ 让 我 们 一 起 使 用 优 聆 安 全 开 聊 吧 ! { inviteUrl } < / string > 
 
 < ! - - Tour - - > 
 < string name = " tour _ sign _ up " > 注 册 < / string > 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml 
 index 56dface . . 17b2e7e 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml 
 @ @ - 38 , 7 + 38 , 7 @ @ 
 < string name = " menu _ saved " > Saved < / string > 
 < string name = " menu _ next " > Next < / string > 
 
 - < string name = " invite _ message " > Hi ! Let \ ' s switch to Actor ! https : / / actor . im / dl < / string > 
 + < string name = " invite _ message " > Hi ! Let \ ' s switch to Actor ! { inviteUrl } < / string > 
 
 < ! - - Tour - - > 
 < string name = " tour _ sign _ up " > SIGN UP < / string > 
 @ @ - 148 , 6 + 148 , 8 @ @ 
 < string name = " settings _ header " > Settings < / string > 
 < string name = " settings _ help " > Help < / string > 
 < string name = " settings _ ask " > Ask Question < / string > 
 + < string name = " settings _ twitter " > Twitter < / string > 
 + < string name = " settings _ home _ page " > Home page < / string > 
 < string name = " settings _ notifications " > Notifications < / string > 
 < string name = " settings _ chat " > Chat Settings < / string > 
 < string name = " settings _ security " > Security < / string >

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java 
 index 300f863 . . 0c81c46 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java 
 @ @ - 83 , 6 + 83 , 7 @ @ public class ActorStyle { 
 private int groupAdminColor = 0 ; 
 private int groupActionAddIconColor = 0 ; 
 private int groupActionAddTextColor = 0 ; 
 + private int groupOnlineColor = Color . parseColor ( " # ff7ea8ef " ) ; 
 
 / / Conversation 
 private int convSendEnabledColor = 0 ; 
 @ @ - 847 , 4 + 848 , 12 @ @ public class ActorStyle { 
 public static int getDarkenArgb ( int color , double percent ) { 
 return Color . argb ( Color . alpha ( color ) , ( int ) Math . round ( Color . red ( color ) * percent ) , ( int ) Math . round ( Color . green ( color ) * percent ) , ( int ) Math . round ( Color . blue ( color ) * percent ) ) ; 
 } 
 + 
 + public int getGroupOnlineColor ( ) { 
 + return groupOnlineColor ; 
 + } 
 + 
 + public void setGroupOnlineColor ( int groupOnlineColor ) { 
 + this . groupOnlineColor = groupOnlineColor ; 
 + } 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java 
 index 8f33068 . . 8ce84b5 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java 
 @ @ - 2 , 7 + 2 , 11 @ @ package im . actor . sdk . controllers . conversation . messages ; 
 
 import android . view . View ; 
 
 + import im . actor . core . viewmodel . UserPresence ; 
 + import im . actor . core . viewmodel . UserVM ; 
 + import im . actor . sdk . ActorSDK ; 
 import im . actor . sdk . controllers . conversation . view . BubbleContainer ; 
 + import im . actor . sdk . controllers . fragment . ActorBinder ; 
 import im . actor . sdk . util . Strings ; 
 import im . actor . runtime . android . view . BindedViewHolder ; 
 import im . actor . core . entity . Message ; 
 @ @ - 19 , 6 + 23 , 7 @ @ public abstract class MessageHolder extends BindedViewHolder 
 protected BubbleContainer container ; 
 private boolean isFullSize ; 
 protected Message currentMessage ; 
 + protected ActorBinder . Binding onlineBinding ; 
 
 public MessageHolder ( MessagesAdapter adapter , View itemView , boolean isFullSize ) { 
 super ( itemView ) ; 
 @ @ - 36 , 6 + 41 , 10 @ @ public abstract class MessageHolder extends BindedViewHolder 
 } 
 } 
 
 + public void setOnline ( boolean online , boolean isBot ) { 
 + container . setOnline ( online , isBot ) ; 
 + } 
 + 
 public MessagesAdapter getAdapter ( ) { 
 return adapter ; 
 } 
 @ @ - 81 , 8 + 90 , 24 @ @ public abstract class MessageHolder extends BindedViewHolder 
 / / Updating selection state 
 container . setBubbleSelected ( adapter . isSelected ( currentMessage ) ) ; 
 
 + / / online 
 + if ( onlineBinding ! = null ) { 
 + getAdapter ( ) . getBinder ( ) . unbind ( onlineBinding ) ; 
 + } 
 + final UserVM user = users ( ) . get ( message . getSenderId ( ) ) ; 
 + onlineBinding = getAdapter ( ) . getBinder ( ) . bind ( new ActorBinder . OnChangedListener < Boolean > ( ) { 
 + @ Override 
 + public void onChanged ( Boolean online ) { 
 + setOnline ( online , user . isBot ( ) ) ; 
 + } 
 + 
 + } , user . getPresence ( ) ) ; 
 + setOnline ( user . getPresence ( ) . get ( ) . getState ( ) . equals ( UserPresence . State . ONLINE ) , user . isBot ( ) ) ; 
 + 
 + 
 / / Bind content 
 bindData ( message , isUpdated , preprocessedData ) ; 
 + ActorSDK . sharedActor ( ) . getMessenger ( ) . onUserVisible ( message . getSenderId ( ) ) ; 
 } 
 
 protected abstract void bindData ( Message message , boolean isUpdated , PreprocessedData preprocessedData ) ; 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesAdapter . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesAdapter . java 
 index 55880f5 . . b845549 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesAdapter . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessagesAdapter . java 
 @ @ - 18 , 6 + 18 , 7 @ @ import im . actor . core . entity . content . VoiceContent ; 
 import im . actor . runtime . generic . mvvm . BindedDisplayList ; 
 import im . actor . sdk . R ; 
 import im . actor . runtime . android . view . BindedListAdapter ; 
 + import im . actor . sdk . controllers . fragment . ActorBinder ; 
 
 public class MessagesAdapter extends BindedListAdapter < Message , MessageHolder > { 
 
 @ @ - 25 , 6 + 26 , 7 @ @ public class MessagesAdapter extends BindedListAdapter < Message , MessageHolder > { 
 private Context context ; 
 private long firstUnread = - 1 ; 
 protected HashMap < Long , Message > selected = new HashMap < Long , Message > ( ) ; 
 + private ActorBinder BINDER = new ActorBinder ( ) ; 
 
 public MessagesAdapter ( BindedDisplayList < Message > displayList , 
 MessagesFragment messagesFragment , Context context ) { 
 @ @ - 134 , 4 + 136 , 8 @ @ public class MessagesAdapter extends BindedListAdapter < Message , MessageHolder > { 
 public void onViewRecycled ( MessageHolder holder ) { 
 holder . unbind ( ) ; 
 } 
 + 
 + public ActorBinder getBinder ( ) { 
 + return BINDER ; 
 + } 
 } 
 \ No newline at end of file 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / view / BubbleContainer . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / view / BubbleContainer . java 
 index 4a59883 . . 766062c 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / view / BubbleContainer . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / view / BubbleContainer . java 
 @ @ - 16 , 6 + 16 , 7 @ @ import im . actor . sdk . util . Strings ; 
 import im . actor . sdk . view . avatar . AvatarView ; 
 import im . actor . sdk . util . Fonts ; 
 import im . actor . core . viewmodel . UserVM ; 
 + import im . actor . sdk . view . avatar . AvatarViewWithOnline ; 
 
 import static im . actor . sdk . util . ActorSDKMessenger . groups ; 
 import static im . actor . sdk . util . ActorSDKMessenger . users ; 
 @ @ - 31 , 7 + 32 , 7 @ @ public class BubbleContainer extends ViewGroup { 
 private boolean showAvatar ; 
 private TextView dateDiv ; 
 private TextView unreadDiv ; 
 - private AvatarView avatarView ; 
 + private AvatarViewWithOnline avatarView ; 
 private int mode = MODE _ FULL ; 
 private boolean isSelected ; 
 private OnAvatarClickListener onClickListener ; 
 @ @ - 101 , 7 + 102 , 7 @ @ public class BubbleContainer extends ViewGroup { 
 addView ( unreadDiv , new MarginLayoutParams ( LayoutParams . MATCH _ PARENT , LayoutParams . WRAP _ CONTENT ) ) ; 
 
 / / AVATAR 
 - avatarView = new AvatarView ( getContext ( ) ) ; 
 + avatarView = new AvatarViewWithOnline ( getContext ( ) ) ; 
 avatarView . init ( Screen . dp ( 42 ) , 12 ) ; 
 addView ( avatarView , new MarginLayoutParams ( Screen . dp ( 42 ) , Screen . dp ( 42 ) ) ) ; 
 } 
 @ @ - 327 , 4 + 328 , 8 @ @ public class BubbleContainer extends ViewGroup { 
 public interface OnAvatarLongClickListener { 
 void onAvatarLongClick ( int uid ) ; 
 } 
 + 
 + public void setOnline ( boolean online , boolean isBot ) { 
 + avatarView . setOnline ( online , isBot ) ; 
 + } 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / ActorBinder . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / ActorBinder . java 
 index a01207e . . de76ed5 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / ActorBinder . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / ActorBinder . java 
 @ @ - 14 , 6 + 14 , 9 @ @ import im . actor . core . entity . GroupMember ; 
 import im . actor . core . viewmodel . GroupVM ; 
 import im . actor . core . viewmodel . UserPresence ; 
 import im . actor . core . viewmodel . UserVM ; 
 + import im . actor . runtime . mvvm . ValueModel ; 
 + import im . actor . sdk . ActorSDK ; 
 + import im . actor . sdk . R ; 
 import im . actor . sdk . view . avatar . AvatarView ; 
 import im . actor . sdk . view . avatar . CoverAvatarView ; 
 import im . actor . runtime . mvvm . Value ; 
 @ @ - 119 , 6 + 122 , 51 @ @ public class ActorBinder { 
 } ) ; 
 } 
 
 + public Binding bind ( final TextView textView , final UserVM user ) { 
 + return bind ( user . getPresence ( ) , new ValueChangedListener < UserPresence > ( ) { 
 + @ Override 
 + public void onChanged ( UserPresence val , Value < UserPresence > Value ) { 
 + String s = messenger ( ) . getFormatter ( ) . formatPresence ( val , user . getSex ( ) ) ; 
 + if ( s = = null ) { 
 + s = " " ; 
 + } 
 + 
 + if ( val . getState ( ) . equals ( UserPresence . State . ONLINE ) ) { 
 + textView . setTextColor ( ActorSDK . sharedActor ( ) . style . getGroupOnlineColor ( ) ) ; 
 + s = " \ u25CF " . concat ( s ) ; 
 + } else { 
 + textView . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextSecondaryColor ( ) ) ; 
 + } 
 + textView . setText ( s ) ; 
 + } 
 + } ) ; 
 + } 
 + 
 + 
 + public Binding bind ( final View v , ValueModel < UserPresence > up ) { 
 + return bind ( up , new ValueChangedListener < UserPresence > ( ) { 
 + 
 + @ Override 
 + public void onChanged ( UserPresence val , Value < UserPresence > valueModel ) { 
 + if ( val . getState ( ) . equals ( UserPresence . State . ONLINE ) ) { 
 + v . setVisibility ( View . VISIBLE ) ; 
 + } else { 
 + v . setVisibility ( View . GONE ) ; 
 + } 
 + } 
 + } ) ; 
 + } 
 + 
 + public Binding bind ( final OnChangedListener < Boolean > callback , ValueModel < UserPresence > up ) { 
 + return bind ( up , new ValueChangedListener < UserPresence > ( ) { 
 + 
 + @ Override 
 + public void onChanged ( UserPresence val , Value < UserPresence > valueModel ) { 
 + callback . onChanged ( val . getState ( ) . equals ( UserPresence . State . ONLINE ) ) ; 
 + } 
 + } ) ; 
 + } 
 + 
 public void bind ( final TextView textView , final View titleContainer , final GroupVM value ) { 
 bind ( value . getPresence ( ) , value . getMembers ( ) , value . isMember ( ) , new ValueTripleChangedListener < Integer , HashSet < GroupMember > , Boolean > ( ) { 
 @ Override 
 @ @ - 171 , 9 + 219 , 11 @ @ public class ActorBinder { 
 } ) ; 
 } 
 
 - public < T > void bind ( Value < T > value , ValueChangedListener < T > listener ) { 
 + public < T > Binding bind ( Value < T > value , ValueChangedListener < T > listener ) { 
 value . subscribe ( listener ) ; 
 - bindings . add ( new Binding ( value , listener ) ) ; 
 + Binding b = new Binding ( value , listener ) ; 
 + bindings . add ( b ) ; 
 + return b ; 
 } 
 
 public < T > void bind ( Value < T > value , boolean notify , ValueChangedListener < T > listener ) { 
 @ @ - 229 , 11 + 279 , 16 @ @ public class ActorBinder { 
 bindings . clear ( ) ; 
 } 
 
 - public interface OnChangedListener { 
 - void onChanged ( String s ) ; 
 + public interface OnChangedListener < T > { 
 + void onChanged ( T val ) ; 
 + } 
 + 
 + public void unbind ( Binding b ) { 
 + b . unbind ( ) ; 
 + bindings . remove ( b ) ; 
 } 
 
 - private class Binding { 
 + public class Binding { 
 private Value model ; 
 private ValueChangedListener listener ; 
 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / group / GroupInfoFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / group / GroupInfoFragment . java 
 index e8f4990 . . 83c474e 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / group / GroupInfoFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / group / GroupInfoFragment . java 
 @ @ - 152 , 7 + 152 , 7 @ @ public class GroupInfoFragment extends BaseFragment { 
 themeHeader . setTextColor ( style . getProfileSubtitleColor ( ) ) ; 
 
 final boolean finalIsAdmin = isAdmin ; 
 - bind ( themeTV , header . findViewById ( R . id . themeContainer ) , groupInfo . getTheme ( ) , new ActorBinder . OnChangedListener ( ) { 
 + bind ( themeTV , header . findViewById ( R . id . themeContainer ) , groupInfo . getTheme ( ) , new ActorBinder . OnChangedListener < String > ( ) { 
 @ Override 
 public void onChanged ( String s ) { 
 theme [ 0 ] = s ; 
 @ @ - 162 , 7 + 162 , 7 @ @ public class GroupInfoFragment extends BaseFragment { 
 
 / / bind ( themeHeader , themeHeader , groupInfo . getTheme ( ) ) ; 
 
 - bind ( aboutTV , header . findViewById ( R . id . aboutContainer ) , groupInfo . getAbout ( ) , new ActorBinder . OnChangedListener ( ) { 
 + bind ( aboutTV , header . findViewById ( R . id . aboutContainer ) , groupInfo . getAbout ( ) , new ActorBinder . OnChangedListener < String > ( ) { 
 @ Override 
 public void onChanged ( String s ) { 
 about [ 0 ] = s ; 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / group / view / MembersAdapter . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / group / view / MembersAdapter . java 
 index b217a81 . . a91f3d6 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / group / view / MembersAdapter . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / group / view / MembersAdapter . java 
 @ @ - 8 , 8 + 8 , 10 @ @ import android . widget . TextView ; 
 
 import java . util . Collection ; 
 
 + import im . actor . core . viewmodel . UserPresence ; 
 import im . actor . sdk . ActorSDK ; 
 import im . actor . sdk . R ; 
 + import im . actor . sdk . controllers . fragment . ActorBinder ; 
 import im . actor . sdk . util . Screen ; 
 import im . actor . sdk . view . avatar . AvatarView ; 
 import im . actor . sdk . view . adapters . HolderAdapter ; 
 @ @ - 21 , 7 + 23 , 7 @ @ import static im . actor . sdk . util . ActorSDKMessenger . users ; 
 
 public class MembersAdapter extends HolderAdapter < GroupMember > { 
 private GroupMember [ ] members ; 
 - 
 + private final ActorBinder BINDER = new ActorBinder ( ) ; 
 public MembersAdapter ( Collection < GroupMember > members , Context context ) { 
 super ( context ) ; 
 this . members = members . toArray ( new GroupMember [ 0 ] ) ; 
 @ @ - 57 , 6 + 59 , 10 @ @ public class MembersAdapter extends HolderAdapter < GroupMember > { 
 private TextView userName ; 
 private View admin ; 
 private AvatarView avatarView ; 
 + private TextView online ; 
 + private TextView lastSeen ; 
 + private ActorBinder . Binding onlineBinding ; 
 + private Context context ; 
 
 @ Override 
 public View init ( GroupMember data , ViewGroup viewGroup , Context context ) { 
 @ @ - 65 , 20 + 71 , 42 @ @ public class MembersAdapter extends HolderAdapter < GroupMember > { 
 avatarView = ( AvatarView ) res . findViewById ( R . id . avatar ) ; 
 avatarView . init ( Screen . dp ( 42 ) , 24 ) ; 
 admin = res . findViewById ( R . id . adminFlag ) ; 
 + online = ( TextView ) res . findViewById ( R . id . online ) ; 
 + lastSeen = ( TextView ) res . findViewById ( R . id . lastSeen ) ; 
 ( ( TextView ) admin ) . setTextColor ( ActorSDK . sharedActor ( ) . style . getGroupAdminColor ( ) ) ; 
 ( ( TextView ) res . findViewById ( R . id . name ) ) . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextPrimaryColor ( ) ) ; 
 res . findViewById ( R . id . divider ) . setBackgroundColor ( ActorSDK . sharedActor ( ) . style . getDividerColor ( ) ) ; 
 + this . context = context ; 
 return res ; 
 } 
 
 @ Override 
 public void bind ( GroupMember data , int position , Context context ) { 
 + if ( onlineBinding ! = null ) { 
 + onlineBinding . unbind ( ) ; 
 + } 
 + 
 UserVM user = users ( ) . get ( data . getUid ( ) ) ; 
 + onlineBinding = BINDER . bind ( online , user ) ; 
 + ActorSDK . sharedActor ( ) . getMessenger ( ) . onUserVisible ( data . getUid ( ) ) ; 
 
 avatarView . bind ( user ) ; 
 
 userName . setText ( user . getName ( ) . get ( ) ) ; 
 
 + UserPresence presence = user . getPresence ( ) . get ( ) ; 
 + String s = ActorSDK . sharedActor ( ) . getMessenger ( ) . getFormatter ( ) . formatPresence ( presence , user . getSex ( ) ) ; 
 + if ( s = = null ) { 
 + s = " " ; 
 + } 
 + if ( presence . getState ( ) . equals ( UserPresence . State . ONLINE ) ) { 
 + online . setTextColor ( ActorSDK . sharedActor ( ) . style . getGroupOnlineColor ( ) ) ; 
 + s = " \ u25CF " . concat ( s ) ; 
 + } else { 
 + online . setTextColor ( ActorSDK . sharedActor ( ) . style . getTextSecondaryColor ( ) ) ; 
 + } 
 + online . setText ( s ) ; 
 + 
 if ( data . isAdministrator ( ) ) { 
 admin . setVisibility ( View . VISIBLE ) ; 
 } else { 
 @ @ - 89 , 6 + 117 , 9 @ @ public class MembersAdapter extends HolderAdapter < GroupMember > { 
 @ Override 
 public void unbind ( ) { 
 avatarView . unbind ( ) ; 
 + if ( onlineBinding ! = null ) { 
 + onlineBinding . unbind ( ) ; 
 + } 
 } 
 } 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / OnlineSpan . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / OnlineSpan . java 
 new file mode 100644 
 index 0000000 . . f211e8f 
 - - - / dev / null 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / OnlineSpan . java 
 @ @ - 0 , 0 + 1 , 36 @ @ 
 + package im . actor . sdk . view ; 
 + 
 + import android . graphics . Color ; 
 + import android . text . TextPaint ; 
 + import android . text . style . ForegroundColorSpan ; 
 + 
 + / * * 
 + * Created by badgr on 29 . 09 . 2015 . 
 + * / 
 + public class OnlineSpan extends ForegroundColorSpan { 
 + private boolean online = false ; 
 + private static final int COLOR _ ONLINE = Color . parseColor ( " # 7b95b6 " ) ; 
 + private static final int COLOR _ OFFLINE = Color . parseColor ( " # 00000000 " ) ; 
 + 
 + public OnlineSpan ( int color ) { 
 + super ( color ) ; 
 + } 
 + 
 + public OnlineSpan ( ) { 
 + super ( COLOR _ OFFLINE ) ; 
 + } 
 + 
 + @ Override 
 + public int getForegroundColor ( ) { 
 + return online ? COLOR _ ONLINE : COLOR _ OFFLINE ; 
 + } 
 + 
 + @ Override 
 + public void updateDrawState ( TextPaint ds ) { 
 + ds . setColor ( getForegroundColor ( ) ) ; 
 + } 
 + 
 + public void setOnline ( boolean online ) { 
 + this . online = online ; 
 + } 
 + } 
 \ No newline at end of file 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / avatar / AvatarViewWithOnline . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / avatar / AvatarViewWithOnline . java 
 new file mode 100644 
 index 0000000 . . 6844310 
 - - - / dev / null 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / view / avatar / AvatarViewWithOnline . java 
 @ @ - 0 , 0 + 1 , 68 @ @ 
 + package im . actor . sdk . view . avatar ; 
 + 
 + import android . content . Context ; 
 + import android . util . AttributeSet ; 
 + import android . view . Gravity ; 
 + import android . widget . FrameLayout ; 
 + import android . widget . ImageView ; 
 + 
 + import im . actor . core . viewmodel . GroupVM ; 
 + import im . actor . core . viewmodel . UserVM ; 
 + import im . actor . sdk . R ; 
 + import im . actor . sdk . util . Screen ; 
 + 
 + public class AvatarViewWithOnline extends FrameLayout { 
 + public static final boolean DRAW _ ONLINES = false ; 
 + AvatarView avatarView ; 
 + ImageView online ; 
 + private boolean isOnline = false ; 
 + 
 + public AvatarViewWithOnline ( Context context ) { 
 + super ( context ) ; 
 + } 
 + 
 + public AvatarViewWithOnline ( Context context , AttributeSet attrs ) { 
 + super ( context , attrs ) ; 
 + } 
 + 
 + public AvatarViewWithOnline ( Context context , AttributeSet attrs , int defStyleAttr ) { 
 + super ( context , attrs , defStyleAttr ) ; 
 + } 
 + 
 + 
 + public void init ( int size , float text ) { 
 + avatarView = new AvatarView ( getContext ( ) ) ; 
 + 
 + avatarView . init ( size , text ) ; 
 + addView ( avatarView ) ; 
 + 
 + online = new ImageView ( getContext ( ) ) ; 
 + online . setImageResource ( R . drawable . indicator _ offline ) ; 
 + addView ( online , new LayoutParams ( Screen . dp ( 11 ) , Screen . dp ( 11 ) , Gravity . RIGHT | Gravity . BOTTOM ) ) ; 
 + } 
 + 
 + public void unbind ( ) { 
 + avatarView . unbind ( ) ; 
 + } 
 + 
 + public void bind ( UserVM u ) { 
 + avatarView . bind ( u ) ; 
 + } 
 + 
 + public void bind ( GroupVM g ) { 
 + avatarView . bind ( g ) ; 
 + } 
 + 
 + public void setOnline ( boolean online , boolean isBot ) { 
 + if ( ! isBot & & DRAW _ ONLINES ) { 
 + this . online . setVisibility ( VISIBLE ) ; 
 + if ( isOnline ! = online ) { 
 + isOnline = online ; 
 + this . online . setImageResource ( isOnline ? R . drawable . indicator _ online : R . drawable . indicator _ offline ) ; 
 + } 
 + } else { 
 + this . online . setVisibility ( INVISIBLE ) ; 
 + } 
 + 
 + } 
 + } 
 \ No newline at end of file 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable / indicator _ offline . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable / indicator _ offline . xml 
 new file mode 100644 
 index 0000000 . . 4c6a88d 
 - - - / dev / null 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable / indicator _ offline . xml 
 @ @ - 0 , 0 + 1 , 8 @ @ 
 + < ? xml version = " 1 . 0 " encoding = " utf - 8 " ? > 
 + < shape xmlns : android = " http : / / schemas . android . com / apk / res / android " 
 + android : shape = " oval " > 
 + < solid android : color = " @ color / conv _ offline " / > 
 + < stroke 
 + android : width = " 2dp " 
 + android : color = " @ android : color / white " / > 
 + < / shape > 
 \ No newline at end of file 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable / indicator _ online . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable / indicator _ online . xml 
 new file mode 100644 
 index 0000000 . . a273657 
 - - - / dev / null 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable / indicator _ online . xml 
 @ @ - 0 , 0 + 1 , 8 @ @ 
 + < ? xml version = " 1 . 0 " encoding = " utf - 8 " ? > 
 + < shape xmlns : android = " http : / / schemas . android . com / apk / res / android " 
 + android : shape = " oval " > 
 + < solid android : color = " @ color / conv _ online " / > 
 + < stroke 
 + android : width = " 2dp " 
 + android : color = " @ android : color / white " / > 
 + < / shape > 
 \ No newline at end of file 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ group _ item . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ group _ item . xml 
 index 9ac19c4 . . d9b18e2 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ group _ item . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ group _ item . xml 
 @ @ - 27 , 18 + 27 , 33 @ @ 
 android : layout _ gravity = " center " / > 
 < / FrameLayout > 
 
 - < TextView 
 - android : id = " @ + id / name " 
 + < LinearLayout 
 android : layout _ width = " 0dp " 
 - android : layout _ height = " match _ parent " 
 android : layout _ weight = " 1 " 
 - android : ellipsize = " end " 
 + android : orientation = " vertical " 
 android : gravity = " center _ vertical " 
 - android : lines = " 1 " 
 - android : paddingRight = " 8dp " 
 - android : singleLine = " true " 
 - android : textSize = " 16sp " / > 
 + android : layout _ height = " match _ parent " > 
 + 
 + < TextView 
 + android : id = " @ + id / name " 
 + android : layout _ width = " wrap _ content " 
 + android : layout _ height = " wrap _ content " 
 + android : ellipsize = " end " 
 + android : gravity = " center _ vertical " 
 + android : lines = " 1 " 
 + android : paddingRight = " 8dp " 
 + android : singleLine = " true " 
 + android : textSize = " 16sp " / > 
 
 + < TextView 
 + android : id = " @ + id / online " 
 + android : layout _ width = " wrap _ content " 
 + android : layout _ height = " wrap _ content " 
 + android : ellipsize = " end " 
 + android : text = " @ string / online " 
 + android : gravity = " center _ vertical " 
 + android : textColor = " @ color / conv _ online " / > 
 + < / LinearLayout > 
 < TextView 
 android : id = " @ + id / adminFlag " 
 android : layout _ width = " wrap _ content " 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml 
 index 1222ffe . . 3c3350b 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values - ru / ui _ text . xml 
 @ @ - 248 , 7 + 248 , 7 @ @ 
 < string name = " group _ members _ header " > У ч а с т н и к и < / string > 
 < string name = " group _ members _ count " > { 0 } и з { 1 } < / string > 
 
 - < string name = " group _ admin " > а д м и н . г р у п п ы < / string > 
 + < string name = " group _ admin " > а д м и н . < / string > 
 
 < string name = " group _ created _ by " > С о з д а н { 0 } < / string > 
 < string name = " group _ created _ by _ you " > С о з д а н В а м и < / string > 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / colors . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / colors . xml 
 index 7ae9517 . . b98ac94 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / colors . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / colors . xml 
 @ @ - 151 , 5 + 151 , 7 @ @ 
 < color name = " default _ circle _ indicator _ stroke _ color " > # FFDDDDDD < / color > 
 < dimen name = " default _ circle _ indicator _ stroke _ width " > 1dp < / dimen > 
 
 + < color name = " conv _ offline " > @ android : color / darker _ gray < / color > 
 + < color name = " conv _ online " > # ff7ea8ef < / color > 
 
 < / resources > 
 \ No newline at end of file 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml 
 index 8366189 . . 2270a93 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / ui _ text . xml 
 @ @ - 225 , 6 + 225 , 7 @ @ 
 < string name = " chat _ not _ member " > You is not member of this group < / string > 
 
 < string name = " chat _ unsupported " > Message is unsupported in this version . Please , wait for application update to see message . < / string > 
 + < string name = " online " > \ u25CF online < / string > 
 
 < ! - - Profile - - > 
 < string name = " profile _ title " > Profile < / string >
