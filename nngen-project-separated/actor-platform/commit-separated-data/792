BLEU SCORE: 0.2626909894424158

TEST MSG: feat ( core ) : Fire - forget raw api
GENERATED MSG: recover ( core ) : email auth

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java < nl > index cd334ca . . c7a2b48 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java < nl > @ @ - 2013 , 7 + 2013 , 19 @ @ public class Messenger { < nl > * / < nl > @ ObjectiveCName ( " rawRequestCommandWithService : withMethod : WithParams : " ) < nl > public Command < ResponseRawRequest > rawRequestCommand ( String service , String method , ApiRawValue params ) { < nl > - return modules . getExternalModule ( ) . rawRequest ( service , method , params ) ; < nl > + return modules . getExternalModule ( ) . rawRequestCommand ( service , method , params ) ; < nl > + } < nl > + < nl > + / * * < nl > + * Command for raw api request < nl > + * < nl > + * @ param service service name < nl > + * @ param method method name < nl > + * @ param params request params < nl > + * / < nl > + @ ObjectiveCName ( " rawRequestWithService : withMethod : WithParams : " ) < nl > + public void rawRequest ( String service , String method , ApiRawValue params ) { < nl > + modules . getExternalModule ( ) . rawRequest ( service , method , params ) ; < nl > } < nl > < nl > / * * < nl > diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / ExternalModule . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / ExternalModule . java < nl > index 822ba42 . . 3030ab3 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / ExternalModule . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / ExternalModule . java < nl > @ @ - 96 , 7 + 96 , 7 @ @ public class ExternalModule extends AbsModule { < nl > } ; < nl > } < nl > < nl > - public Command < ResponseRawRequest > rawRequest ( final String service , final String method , final ApiRawValue params ) { < nl > + public Command < ResponseRawRequest > rawRequestCommand ( final String service , final String method , final ApiRawValue params ) { < nl > return new Command < ResponseRawRequest > ( ) { < nl > @ Override < nl > public void start ( final CommandCallback < ResponseRawRequest > callback ) { < nl > @ @ - 118 , 4 + 118 , 8 @ @ public class ExternalModule extends AbsModule { < nl > public void rawPersistentRequest ( String service , String method , ApiRawValue params ) { < nl > context ( ) . getApiModule ( ) . performPersistRequest ( new RequestRawRequest ( service , method , params ) ) ; < nl > } < nl > + < nl > + public void rawRequest ( String service , String method , ApiRawValue params ) { < nl > + request ( new RequestRawRequest ( service , method , params ) ) ; < nl > + } < nl > } < nl > \ No newline at end of file
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java < nl > index 6c0c169 . . ec6d9d5 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java < nl > @ @ - 117 , 6 + 117 , 18 @ @ public class Messenger { < nl > } < nl > < nl > / * * < nl > + * Request email auth < nl > + * < nl > + * @ param email email to authenticate < nl > + * @ return Command for execution < nl > + * / < nl > + @ NotNull < nl > + @ ObjectiveCName ( " requestStartAuthCommandWithEmail : " ) < nl > + public Command < AuthState > requestStartEmailAuth ( final String email ) { < nl > + return modules . getAuthModule ( ) . requestStartEmailAuth ( email ) ; < nl > + } < nl > + < nl > + / * * < nl > * Request phone auth < nl > * < nl > * @ param phone phone to authenticate < nl > diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / Authentication . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / Authentication . java < nl > index df1173e . . 93f8478 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / Authentication . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / Authentication . java < nl > @ @ - 110 , 6 + 110 , 56 @ @ public class Authentication { < nl > } < nl > } < nl > < nl > + public Command < AuthState > requestStartEmailAuth ( final String email ) { < nl > + return new Command < AuthState > ( ) { < nl > + @ Override < nl > + public void start ( final CommandCallback < AuthState > callback ) { < nl > + ArrayList < String > langs = new ArrayList < String > ( ) ; < nl > + for ( String s : modules . getConfiguration ( ) . getPreferredLanguages ( ) ) { < nl > + langs . add ( s ) ; < nl > + } < nl > + request ( new RequestStartEmailAuth ( email , < nl > + apiConfiguration . getAppId ( ) , < nl > + apiConfiguration . getAppKey ( ) , < nl > + deviceHash , < nl > + apiConfiguration . getDeviceTitle ( ) , < nl > + modules . getConfiguration ( ) . getTimeZone ( ) , < nl > + langs < nl > + ) , new RpcCallback < ResponseStartEmailAuth > ( ) { < nl > + @ Override < nl > + public void onResult ( ResponseStartEmailAuth response ) { < nl > + modules . getPreferences ( ) . putString ( KEY _ EMAIL , email ) ; < nl > + modules . getPreferences ( ) . putString ( KEY _ TRANSACTION _ HASH , response . getTransactionHash ( ) ) ; < nl > + < nl > + ApiEmailActivationType emailActivationType = response . getActivationType ( ) ; < nl > + if ( emailActivationType . equals ( ApiEmailActivationType . OAUTH2 ) ) { < nl > + state = AuthState . GET _ OAUTH _ PARAMS ; < nl > + } else if ( emailActivationType . equals ( ApiEmailActivationType . CODE ) ) { < nl > + state = AuthState . CODE _ VALIDATION _ EMAIL ; < nl > + } < nl > + < nl > + im . actor . runtime . Runtime . postToMainThread ( new Runnable ( ) { < nl > + @ Override < nl > + public void run ( ) { < nl > + callback . onResult ( state ) ; < nl > + } < nl > + } ) ; < nl > + } < nl > + < nl > + @ Override < nl > + public void onError ( final RpcException e ) { < nl > + im . actor . runtime . Runtime . postToMainThread ( new Runnable ( ) { < nl > + @ Override < nl > + public void run ( ) { < nl > + callback . onError ( e ) ; < nl > + e . printStackTrace ( ) ; < nl > + } < nl > + } ) ; < nl > + } < nl > + } ) ; < nl > + } < nl > + } ; < nl > + } < nl > < nl > public Command < AuthState > requestStartPhoneAuth ( final long phone ) { < nl > return new Command < AuthState > ( ) {

TEST DIFF:
diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java 
 index cd334ca . . c7a2b48 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java 
 @ @ - 2013 , 7 + 2013 , 19 @ @ public class Messenger { 
 * / 
 @ ObjectiveCName ( " rawRequestCommandWithService : withMethod : WithParams : " ) 
 public Command < ResponseRawRequest > rawRequestCommand ( String service , String method , ApiRawValue params ) { 
 - return modules . getExternalModule ( ) . rawRequest ( service , method , params ) ; 
 + return modules . getExternalModule ( ) . rawRequestCommand ( service , method , params ) ; 
 + } 
 + 
 + / * * 
 + * Command for raw api request 
 + * 
 + * @ param service service name 
 + * @ param method method name 
 + * @ param params request params 
 + * / 
 + @ ObjectiveCName ( " rawRequestWithService : withMethod : WithParams : " ) 
 + public void rawRequest ( String service , String method , ApiRawValue params ) { 
 + modules . getExternalModule ( ) . rawRequest ( service , method , params ) ; 
 } 
 
 / * * 
 diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / ExternalModule . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / ExternalModule . java 
 index 822ba42 . . 3030ab3 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / ExternalModule . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / ExternalModule . java 
 @ @ - 96 , 7 + 96 , 7 @ @ public class ExternalModule extends AbsModule { 
 } ; 
 } 
 
 - public Command < ResponseRawRequest > rawRequest ( final String service , final String method , final ApiRawValue params ) { 
 + public Command < ResponseRawRequest > rawRequestCommand ( final String service , final String method , final ApiRawValue params ) { 
 return new Command < ResponseRawRequest > ( ) { 
 @ Override 
 public void start ( final CommandCallback < ResponseRawRequest > callback ) { 
 @ @ - 118 , 4 + 118 , 8 @ @ public class ExternalModule extends AbsModule { 
 public void rawPersistentRequest ( String service , String method , ApiRawValue params ) { 
 context ( ) . getApiModule ( ) . performPersistRequest ( new RequestRawRequest ( service , method , params ) ) ; 
 } 
 + 
 + public void rawRequest ( String service , String method , ApiRawValue params ) { 
 + request ( new RequestRawRequest ( service , method , params ) ) ; 
 + } 
 } 
 \ No newline at end of file

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java 
 index 6c0c169 . . ec6d9d5 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / Messenger . java 
 @ @ - 117 , 6 + 117 , 18 @ @ public class Messenger { 
 } 
 
 / * * 
 + * Request email auth 
 + * 
 + * @ param email email to authenticate 
 + * @ return Command for execution 
 + * / 
 + @ NotNull 
 + @ ObjectiveCName ( " requestStartAuthCommandWithEmail : " ) 
 + public Command < AuthState > requestStartEmailAuth ( final String email ) { 
 + return modules . getAuthModule ( ) . requestStartEmailAuth ( email ) ; 
 + } 
 + 
 + / * * 
 * Request phone auth 
 * 
 * @ param phone phone to authenticate 
 diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / Authentication . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / Authentication . java 
 index df1173e . . 93f8478 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / Authentication . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / Authentication . java 
 @ @ - 110 , 6 + 110 , 56 @ @ public class Authentication { 
 } 
 } 
 
 + public Command < AuthState > requestStartEmailAuth ( final String email ) { 
 + return new Command < AuthState > ( ) { 
 + @ Override 
 + public void start ( final CommandCallback < AuthState > callback ) { 
 + ArrayList < String > langs = new ArrayList < String > ( ) ; 
 + for ( String s : modules . getConfiguration ( ) . getPreferredLanguages ( ) ) { 
 + langs . add ( s ) ; 
 + } 
 + request ( new RequestStartEmailAuth ( email , 
 + apiConfiguration . getAppId ( ) , 
 + apiConfiguration . getAppKey ( ) , 
 + deviceHash , 
 + apiConfiguration . getDeviceTitle ( ) , 
 + modules . getConfiguration ( ) . getTimeZone ( ) , 
 + langs 
 + ) , new RpcCallback < ResponseStartEmailAuth > ( ) { 
 + @ Override 
 + public void onResult ( ResponseStartEmailAuth response ) { 
 + modules . getPreferences ( ) . putString ( KEY _ EMAIL , email ) ; 
 + modules . getPreferences ( ) . putString ( KEY _ TRANSACTION _ HASH , response . getTransactionHash ( ) ) ; 
 + 
 + ApiEmailActivationType emailActivationType = response . getActivationType ( ) ; 
 + if ( emailActivationType . equals ( ApiEmailActivationType . OAUTH2 ) ) { 
 + state = AuthState . GET _ OAUTH _ PARAMS ; 
 + } else if ( emailActivationType . equals ( ApiEmailActivationType . CODE ) ) { 
 + state = AuthState . CODE _ VALIDATION _ EMAIL ; 
 + } 
 + 
 + im . actor . runtime . Runtime . postToMainThread ( new Runnable ( ) { 
 + @ Override 
 + public void run ( ) { 
 + callback . onResult ( state ) ; 
 + } 
 + } ) ; 
 + } 
 + 
 + @ Override 
 + public void onError ( final RpcException e ) { 
 + im . actor . runtime . Runtime . postToMainThread ( new Runnable ( ) { 
 + @ Override 
 + public void run ( ) { 
 + callback . onError ( e ) ; 
 + e . printStackTrace ( ) ; 
 + } 
 + } ) ; 
 + } 
 + } ) ; 
 + } 
 + } ; 
 + } 
 
 public Command < AuthState > requestStartPhoneAuth ( final long phone ) { 
 return new Command < AuthState > ( ) {
