BLEU SCORE: 0.09578464408619825

TEST MSG: fix ( core ) : Fixing compare incompatibility with j2objc in CallManager
GENERATED MSG: fix ( android ) : incoming call event - add uid

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / calls / CallManagerActor . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / calls / CallManagerActor . java < nl > index 50dbe96 . . 33eda1d 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / calls / CallManagerActor . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / calls / CallManagerActor . java < nl > @ @ - 200 , 7 + 200 , 7 @ @ public class CallManagerActor extends ModuleActor { < nl > / / < nl > / / Notify Provider to stop playing ringtone < nl > / / < nl > - if ( currentCall = = callId ) { < nl > + if ( currentCall ! = null & & currentCall = = callId ) { < nl > provider . onCallAnswered ( callId ) ; < nl > } < nl > } < nl > @ @ - 253 , 7 + 253 , 7 @ @ public class CallManagerActor extends ModuleActor { < nl > / / < nl > / / Notify Provider if this call was current < nl > / / < nl > - if ( currentCall = = callId ) { < nl > + if ( currentCall ! = null & & currentCall = = callId ) { < nl > currentCall = null ; < nl > provider . onCallEnd ( callId ) ;
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / events / IncomingCall . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / events / IncomingCall . java < nl > index 41d4fcb . . f63a5c0 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / events / IncomingCall . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / events / IncomingCall . java < nl > @ @ - 7 , 15 + 7 , 21 @ @ public class IncomingCall extends Event { < nl > public static final String EVENT = " incoming _ call " ; < nl > < nl > private long callId ; < nl > + private int uid ; < nl > < nl > - public IncomingCall ( long callId ) { < nl > + public IncomingCall ( long callId , int uid ) { < nl > this . callId = callId ; < nl > + this . uid = uid ; < nl > } < nl > < nl > public long getCall ( ) { < nl > return callId ; < nl > } < nl > < nl > + public int getUid ( ) { < nl > + return uid ; < nl > + } < nl > + < nl > @ Override < nl > public String getType ( ) { < nl > return EVENT ; < nl > diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / CallsModule . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / CallsModule . java < nl > index 4788cbb . . 6af1423 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / CallsModule . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / CallsModule . java < nl > @ @ - 95 , 7 + 95 , 7 @ @ public class CallsModule extends AbsModule { < nl > < nl > public void onIncomingCall ( long callId , int uid ) { < nl > if ( ! calls . keySet ( ) . contains ( callId ) ) { < nl > - context ( ) . getEvents ( ) . post ( new IncomingCall ( callId ) ) ; < nl > + context ( ) . getEvents ( ) . post ( new IncomingCall ( callId , uid ) ) ; < nl > } < nl > }

TEST DIFF:
diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / calls / CallManagerActor . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / calls / CallManagerActor . java 
 index 50dbe96 . . 33eda1d 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / calls / CallManagerActor . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / calls / CallManagerActor . java 
 @ @ - 200 , 7 + 200 , 7 @ @ public class CallManagerActor extends ModuleActor { 
 / / 
 / / Notify Provider to stop playing ringtone 
 / / 
 - if ( currentCall = = callId ) { 
 + if ( currentCall ! = null & & currentCall = = callId ) { 
 provider . onCallAnswered ( callId ) ; 
 } 
 } 
 @ @ - 253 , 7 + 253 , 7 @ @ public class CallManagerActor extends ModuleActor { 
 / / 
 / / Notify Provider if this call was current 
 / / 
 - if ( currentCall = = callId ) { 
 + if ( currentCall ! = null & & currentCall = = callId ) { 
 currentCall = null ; 
 provider . onCallEnd ( callId ) ;

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / events / IncomingCall . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / events / IncomingCall . java 
 index 41d4fcb . . f63a5c0 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / events / IncomingCall . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / events / IncomingCall . java 
 @ @ - 7 , 15 + 7 , 21 @ @ public class IncomingCall extends Event { 
 public static final String EVENT = " incoming _ call " ; 
 
 private long callId ; 
 + private int uid ; 
 
 - public IncomingCall ( long callId ) { 
 + public IncomingCall ( long callId , int uid ) { 
 this . callId = callId ; 
 + this . uid = uid ; 
 } 
 
 public long getCall ( ) { 
 return callId ; 
 } 
 
 + public int getUid ( ) { 
 + return uid ; 
 + } 
 + 
 @ Override 
 public String getType ( ) { 
 return EVENT ; 
 diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / CallsModule . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / CallsModule . java 
 index 4788cbb . . 6af1423 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / CallsModule . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / internal / CallsModule . java 
 @ @ - 95 , 7 + 95 , 7 @ @ public class CallsModule extends AbsModule { 
 
 public void onIncomingCall ( long callId , int uid ) { 
 if ( ! calls . keySet ( ) . contains ( callId ) ) { 
 - context ( ) . getEvents ( ) . post ( new IncomingCall ( callId ) ) ; 
 + context ( ) . getEvents ( ) . post ( new IncomingCall ( callId , uid ) ) ; 
 } 
 }
