BLEU SCORE: 0.5873949094699213

TEST MSG: feat ( IOS ) : add shadow enabled option
GENERATED MSG: fix ( IOS ) : add shadow to bubbles

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / ActorStyle . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / ActorStyle . swift < nl > index 8061b53 . . 2c9516e 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / ActorStyle . swift < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / ActorStyle . swift < nl > @ @ - 358 , 9 + 358 , 7 @ @ public class ActorStyle { < nl > / / Bubble Colors < nl > < nl > public var chatTextBubbleOutColor = UIColor ( rgb : 0xD2FEFD ) < nl > - < nl > - public var chatTextBubbleShadowColor = UIColor . alphaBlack ( 0 . 1 ) < nl > - < nl > + < nl > public var chatTextBubbleOutSelectedColor = UIColor . lightGrayColor ( ) < nl > < nl > public var chatTextBubbleOutBorderColor = UIColor ( rgb : 0x99E4E3 ) < nl > @ @ - 381 , 7 + 379 , 13 @ @ public class ActorStyle { < nl > public var chatUnreadBgColor = UIColor . alphaBlack ( 0 . 3 ) < nl > < nl > public var chatReadMediaColor = UIColor ( red : 46 . 6 / 255 . 0 , green : 211 . 3 / 255 . 0 , blue : 253 . 6 / 255 . 0 , alpha : 1 . 0 ) < nl > - < nl > + < nl > + / / Bubble Shadow < nl > + < nl > + public var bubbleShadowEnabled = false < nl > + < nl > + public var chatTextBubbleShadowColor = UIColor . alphaBlack ( 0 . 1 ) < nl > + < nl > / / Status Colors < nl > < nl > public lazy var chatIconCheck1 = UIImage . templated ( " msg _ check _ 1 " ) < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleCell . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleCell . swift < nl > index 5161489 . . 4c138d6 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleCell . swift < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleCell . swift < nl > @ @ - 61 , 19 + 61 , 20 @ @ public class AABubbleCell : UICollectionViewCell { < nl > / / < nl > < nl > private static var cachedOutTextBg = UIImage . tinted ( " BubbleOutgoingFull " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleOutColor ) < nl > - private static var cachedOutTextBgShadow = UIImage . tinted ( " BubbleOutgoingFull " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleShadowColor ) < nl > + < nl > + private static var cachedOutTextBgShadow = ActorSDK . sharedActor ( ) . style . bubbleShadowEnabled ? UIImage . tinted ( " BubbleOutgoingFull " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleShadowColor ) : UIImage ( ) < nl > < nl > private static var cachedOutTextBgBorder = UIImage . tinted ( " BubbleOutgoingFullBorder " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleOutBorderColor ) < nl > private static var cachedOutTextCompactBg = UIImage . tinted ( " BubbleOutgoingPartial " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleOutColor ) < nl > - private static var cachedOutTextCompactBgShadow = UIImage . tinted ( " BubbleOutgoingPartial " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleShadowColor ) < nl > + private static var cachedOutTextCompactBgShadow = ActorSDK . sharedActor ( ) . style . bubbleShadowEnabled ? UIImage . tinted ( " BubbleOutgoingPartial " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleShadowColor ) : UIImage ( ) < nl > private static var cachedOutTextCompactSelectedBg = UIImage . tinted ( " BubbleOutgoingPartial " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleOutSelectedColor ) < nl > private static var cachedOutTextCompactBgBorder = UIImage . tinted ( " BubbleOutgoingPartialBorder " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleOutBorderColor ) < nl > < nl > private static var cachedInTextBg = UIImage . tinted ( " BubbleIncomingFull " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleInColor ) < nl > - private static var cachedInTextBgShadow = UIImage . tinted ( " BubbleIncomingFull " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleShadowColor ) < nl > + private static var cachedInTextBgShadow = ActorSDK . sharedActor ( ) . style . bubbleShadowEnabled ? UIImage . tinted ( " BubbleIncomingFull " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleShadowColor ) : UIImage ( ) < nl > private static var cachedInTextBgBorder = UIImage . tinted ( " BubbleIncomingFullBorder " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleInBorderColor ) < nl > private static var cachedInTextCompactBg = UIImage . tinted ( " BubbleIncomingPartial " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleInColor ) < nl > - private static var cachedInTextCompactBgShadow = UIImage . tinted ( " BubbleIncomingPartial " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleShadowColor ) < nl > + private static var cachedInTextCompactBgShadow = ActorSDK . sharedActor ( ) . style . bubbleShadowEnabled ? UIImage . tinted ( " BubbleIncomingPartial " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleShadowColor ) : UIImage ( ) < nl > private static var cachedInTextCompactSelectedBg = UIImage . tinted ( " BubbleIncomingPartial " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleInSelectedColor ) < nl > private static var cachedInTextCompactBgBorder = UIImage . tinted ( " BubbleIncomingPartialBorder " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleInBorderColor ) < nl > < nl > @ @ - 177 , 7 + 178 , 9 @ @ public class AABubbleCell : UICollectionViewCell { < nl > / / " New Messages " < nl > < nl > contentView . transform = CGAffineTransformMake ( 1 , 0 , 0 , - 1 , 0 , 0 ) < nl > - contentView . addSubview ( bubbleShadow ) < nl > + < nl > + ActorSDK . sharedActor ( ) . style . bubbleShadowEnabled ? contentView . addSubview ( bubbleShadow ) : print ( " go to light ! " ) < nl > + < nl > contentView . addSubview ( bubble ) < nl > contentView . addSubview ( bubbleBorder ) < nl > contentView . addSubview ( newMessage )
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / ActorStyle . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / ActorStyle . swift < nl > index 0e4a0aa . . 8061b53 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / ActorStyle . swift < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / ActorStyle . swift < nl > @ @ - 359 , 6 + 359 , 8 @ @ public class ActorStyle { < nl > < nl > public var chatTextBubbleOutColor = UIColor ( rgb : 0xD2FEFD ) < nl > < nl > + public var chatTextBubbleShadowColor = UIColor . alphaBlack ( 0 . 1 ) < nl > + < nl > public var chatTextBubbleOutSelectedColor = UIColor . lightGrayColor ( ) < nl > < nl > public var chatTextBubbleOutBorderColor = UIColor ( rgb : 0x99E4E3 ) < nl > diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleCell . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleCell . swift < nl > index 7adb240 . . 5161489 100644 < nl > - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleCell . swift < nl > + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleCell . swift < nl > @ @ - 61 , 14 + 61 , 19 @ @ public class AABubbleCell : UICollectionViewCell { < nl > / / < nl > < nl > private static var cachedOutTextBg = UIImage . tinted ( " BubbleOutgoingFull " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleOutColor ) < nl > + private static var cachedOutTextBgShadow = UIImage . tinted ( " BubbleOutgoingFull " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleShadowColor ) < nl > + < nl > private static var cachedOutTextBgBorder = UIImage . tinted ( " BubbleOutgoingFullBorder " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleOutBorderColor ) < nl > private static var cachedOutTextCompactBg = UIImage . tinted ( " BubbleOutgoingPartial " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleOutColor ) < nl > + private static var cachedOutTextCompactBgShadow = UIImage . tinted ( " BubbleOutgoingPartial " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleShadowColor ) < nl > private static var cachedOutTextCompactSelectedBg = UIImage . tinted ( " BubbleOutgoingPartial " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleOutSelectedColor ) < nl > private static var cachedOutTextCompactBgBorder = UIImage . tinted ( " BubbleOutgoingPartialBorder " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleOutBorderColor ) < nl > < nl > private static var cachedInTextBg = UIImage . tinted ( " BubbleIncomingFull " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleInColor ) < nl > + private static var cachedInTextBgShadow = UIImage . tinted ( " BubbleIncomingFull " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleShadowColor ) < nl > private static var cachedInTextBgBorder = UIImage . tinted ( " BubbleIncomingFullBorder " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleInBorderColor ) < nl > private static var cachedInTextCompactBg = UIImage . tinted ( " BubbleIncomingPartial " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleInColor ) < nl > + private static var cachedInTextCompactBgShadow = UIImage . tinted ( " BubbleIncomingPartial " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleShadowColor ) < nl > private static var cachedInTextCompactSelectedBg = UIImage . tinted ( " BubbleIncomingPartial " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleInSelectedColor ) < nl > private static var cachedInTextCompactBgBorder = UIImage . tinted ( " BubbleIncomingPartialBorder " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleInBorderColor ) < nl > < nl > @ @ - 101 , 6 + 106 , 7 @ @ public class AABubbleCell : UICollectionViewCell { < nl > public var avatarAdded : Bool = false < nl > < nl > public let bubble = UIImageView ( ) < nl > + public let bubbleShadow = UIImageView ( ) < nl > public let bubbleBorder = UIImageView ( ) < nl > < nl > private let dateText = UILabel ( ) < nl > @ @ - 171 , 7 + 177 , 7 @ @ public class AABubbleCell : UICollectionViewCell { < nl > / / " New Messages " < nl > < nl > contentView . transform = CGAffineTransformMake ( 1 , 0 , 0 , - 1 , 0 , 0 ) < nl > - < nl > + contentView . addSubview ( bubbleShadow ) < nl > contentView . addSubview ( bubble ) < nl > contentView . addSubview ( bubbleBorder ) < nl > contentView . addSubview ( newMessage ) < nl > @ @ - 291 , 11 + 297 , 15 @ @ public class AABubbleCell : UICollectionViewCell { < nl > switch ( type ) { < nl > case BubbleType . TextIn : < nl > if ( isCompact ) { < nl > + bubbleShadow . image = AABubbleCell . cachedInTextCompactBgShadow < nl > + bubbleShadow . highlightedImage = AABubbleCell . cachedInTextCompactBgShadow < nl > bubble . image = AABubbleCell . cachedInTextCompactBg < nl > bubbleBorder . image = AABubbleCell . cachedInTextCompactBgBorder < nl > bubble . highlightedImage = AABubbleCell . cachedInTextCompactSelectedBg < nl > bubbleBorder . highlightedImage = AABubbleCell . cachedInTextCompactBgBorder < nl > } else { < nl > + bubbleShadow . image = AABubbleCell . cachedInTextBgShadow < nl > + bubbleShadow . highlightedImage = AABubbleCell . cachedInTextBgShadow < nl > bubble . image = AABubbleCell . cachedInTextBg < nl > bubbleBorder . image = AABubbleCell . cachedInTextBgBorder < nl > bubble . highlightedImage = AABubbleCell . cachedInTextBg < nl > @ @ - 304 , 11 + 314 , 15 @ @ public class AABubbleCell : UICollectionViewCell { < nl > break < nl > case BubbleType . TextOut : < nl > if ( isCompact ) { < nl > + bubbleShadow . image = AABubbleCell . cachedOutTextCompactBgShadow < nl > + bubbleShadow . highlightedImage = AABubbleCell . cachedOutTextCompactBgShadow < nl > bubble . image = AABubbleCell . cachedOutTextCompactBg < nl > bubbleBorder . image = AABubbleCell . cachedOutTextCompactBgBorder < nl > bubble . highlightedImage = AABubbleCell . cachedOutTextCompactSelectedBg < nl > bubbleBorder . highlightedImage = AABubbleCell . cachedOutTextCompactBgBorder < nl > } else { < nl > + bubbleShadow . image = AABubbleCell . cachedOutTextBgShadow < nl > + bubbleShadow . highlightedImage = AABubbleCell . cachedOutTextBgShadow < nl > bubble . image = AABubbleCell . cachedOutTextBg < nl > bubbleBorder . image = AABubbleCell . cachedOutTextBgBorder < nl > bubble . highlightedImage = AABubbleCell . cachedOutTextBg < nl > @ @ - 343 , 16 + 357 , 19 @ @ public class AABubbleCell : UICollectionViewCell { < nl > } < nl > < nl > func updateView ( ) { < nl > - print ( self . highlighted ) < nl > let type = self . bubbleType ! as BubbleType < nl > switch ( type ) { < nl > case BubbleType . TextIn : < nl > if ( ! isFullSize ! ) { < nl > + bubbleShadow . image = AABubbleCell . cachedInTextCompactBgShadow < nl > + bubbleShadow . highlightedImage = AABubbleCell . cachedInTextCompactBgShadow < nl > bubble . image = AABubbleCell . cachedInTextCompactBg < nl > bubbleBorder . image = AABubbleCell . cachedInTextCompactBgBorder < nl > bubble . highlightedImage = AABubbleCell . cachedInTextCompactSelectedBg < nl > bubbleBorder . highlightedImage = AABubbleCell . cachedInTextCompactBgBorder < nl > } else { < nl > + bubbleShadow . image = AABubbleCell . cachedInTextBgShadow < nl > + bubbleShadow . highlightedImage = AABubbleCell . cachedInTextBgShadow < nl > bubble . image = AABubbleCell . cachedInTextBg < nl > bubbleBorder . image = AABubbleCell . cachedInTextBgBorder < nl > bubble . highlightedImage = AABubbleCell . cachedInTextBg < nl > @ @ - 361 , 11 + 378 , 15 @ @ public class AABubbleCell : UICollectionViewCell { < nl > break < nl > case BubbleType . TextOut : < nl > if ( ! isFullSize ! ) { < nl > + bubbleShadow . image = AABubbleCell . cachedOutTextCompactBgShadow < nl > + bubbleShadow . highlightedImage = AABubbleCell . cachedOutTextCompactBgShadow < nl > bubble . image = AABubbleCell . cachedOutTextCompactBg < nl > bubbleBorder . image = AABubbleCell . cachedOutTextCompactBgBorder < nl > bubble . highlightedImage = AABubbleCell . cachedOutTextCompactSelectedBg < nl > bubbleBorder . highlightedImage = AABubbleCell . cachedOutTextCompactBgBorder < nl > } else { < nl > + bubbleShadow . image = AABubbleCell . cachedOutTextBgShadow < nl > + bubbleShadow . highlightedImage = AABubbleCell . cachedOutTextBgShadow < nl > bubble . image = AABubbleCell . cachedOutTextBg < nl > bubbleBorder . image = AABubbleCell . cachedOutTextBgBorder < nl > bubble . highlightedImage = AABubbleCell . cachedOutTextBg < nl > @ @ - 491 , 11 + 512 , 17 @ @ public class AABubbleCell : UICollectionViewCell { < nl > } < nl > bubble . frame = bubbleFrame < nl > bubbleBorder . frame = bubbleFrame < nl > + bubbleShadow . frame = CGRect ( < nl > + x : bubbleFrame . minX + 1 , < nl > + y : bubbleFrame . minY + 1 , < nl > + width : bubbleW , < nl > + height : bubbleH ) < nl > } < nl > < nl > public func layoutBubble ( frame : CGRect ) { < nl > bubble . frame = frame < nl > bubbleBorder . frame = frame < nl > + bubbleShadow . frame = frame < nl > } < nl > < nl > public override func preferredLayoutAttributesFittingAttributes ( layoutAttributes : UICollectionViewLayoutAttributes ) - > UICollectionViewLayoutAttributes {

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / ActorStyle . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / ActorStyle . swift 
 index 8061b53 . . 2c9516e 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / ActorStyle . swift 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / ActorStyle . swift 
 @ @ - 358 , 9 + 358 , 7 @ @ public class ActorStyle { 
 / / Bubble Colors 
 
 public var chatTextBubbleOutColor = UIColor ( rgb : 0xD2FEFD ) 
 - 
 - public var chatTextBubbleShadowColor = UIColor . alphaBlack ( 0 . 1 ) 
 - 
 + 
 public var chatTextBubbleOutSelectedColor = UIColor . lightGrayColor ( ) 
 
 public var chatTextBubbleOutBorderColor = UIColor ( rgb : 0x99E4E3 ) 
 @ @ - 381 , 7 + 379 , 13 @ @ public class ActorStyle { 
 public var chatUnreadBgColor = UIColor . alphaBlack ( 0 . 3 ) 
 
 public var chatReadMediaColor = UIColor ( red : 46 . 6 / 255 . 0 , green : 211 . 3 / 255 . 0 , blue : 253 . 6 / 255 . 0 , alpha : 1 . 0 ) 
 - 
 + 
 + / / Bubble Shadow 
 + 
 + public var bubbleShadowEnabled = false 
 + 
 + public var chatTextBubbleShadowColor = UIColor . alphaBlack ( 0 . 1 ) 
 + 
 / / Status Colors 
 
 public lazy var chatIconCheck1 = UIImage . templated ( " msg _ check _ 1 " ) 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleCell . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleCell . swift 
 index 5161489 . . 4c138d6 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleCell . swift 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleCell . swift 
 @ @ - 61 , 19 + 61 , 20 @ @ public class AABubbleCell : UICollectionViewCell { 
 / / 
 
 private static var cachedOutTextBg = UIImage . tinted ( " BubbleOutgoingFull " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleOutColor ) 
 - private static var cachedOutTextBgShadow = UIImage . tinted ( " BubbleOutgoingFull " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleShadowColor ) 
 + 
 + private static var cachedOutTextBgShadow = ActorSDK . sharedActor ( ) . style . bubbleShadowEnabled ? UIImage . tinted ( " BubbleOutgoingFull " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleShadowColor ) : UIImage ( ) 
 
 private static var cachedOutTextBgBorder = UIImage . tinted ( " BubbleOutgoingFullBorder " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleOutBorderColor ) 
 private static var cachedOutTextCompactBg = UIImage . tinted ( " BubbleOutgoingPartial " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleOutColor ) 
 - private static var cachedOutTextCompactBgShadow = UIImage . tinted ( " BubbleOutgoingPartial " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleShadowColor ) 
 + private static var cachedOutTextCompactBgShadow = ActorSDK . sharedActor ( ) . style . bubbleShadowEnabled ? UIImage . tinted ( " BubbleOutgoingPartial " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleShadowColor ) : UIImage ( ) 
 private static var cachedOutTextCompactSelectedBg = UIImage . tinted ( " BubbleOutgoingPartial " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleOutSelectedColor ) 
 private static var cachedOutTextCompactBgBorder = UIImage . tinted ( " BubbleOutgoingPartialBorder " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleOutBorderColor ) 
 
 private static var cachedInTextBg = UIImage . tinted ( " BubbleIncomingFull " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleInColor ) 
 - private static var cachedInTextBgShadow = UIImage . tinted ( " BubbleIncomingFull " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleShadowColor ) 
 + private static var cachedInTextBgShadow = ActorSDK . sharedActor ( ) . style . bubbleShadowEnabled ? UIImage . tinted ( " BubbleIncomingFull " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleShadowColor ) : UIImage ( ) 
 private static var cachedInTextBgBorder = UIImage . tinted ( " BubbleIncomingFullBorder " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleInBorderColor ) 
 private static var cachedInTextCompactBg = UIImage . tinted ( " BubbleIncomingPartial " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleInColor ) 
 - private static var cachedInTextCompactBgShadow = UIImage . tinted ( " BubbleIncomingPartial " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleShadowColor ) 
 + private static var cachedInTextCompactBgShadow = ActorSDK . sharedActor ( ) . style . bubbleShadowEnabled ? UIImage . tinted ( " BubbleIncomingPartial " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleShadowColor ) : UIImage ( ) 
 private static var cachedInTextCompactSelectedBg = UIImage . tinted ( " BubbleIncomingPartial " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleInSelectedColor ) 
 private static var cachedInTextCompactBgBorder = UIImage . tinted ( " BubbleIncomingPartialBorder " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleInBorderColor ) 
 
 @ @ - 177 , 7 + 178 , 9 @ @ public class AABubbleCell : UICollectionViewCell { 
 / / " New Messages " 
 
 contentView . transform = CGAffineTransformMake ( 1 , 0 , 0 , - 1 , 0 , 0 ) 
 - contentView . addSubview ( bubbleShadow ) 
 + 
 + ActorSDK . sharedActor ( ) . style . bubbleShadowEnabled ? contentView . addSubview ( bubbleShadow ) : print ( " go to light ! " ) 
 + 
 contentView . addSubview ( bubble ) 
 contentView . addSubview ( bubbleBorder ) 
 contentView . addSubview ( newMessage )

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / ActorStyle . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / ActorStyle . swift 
 index 0e4a0aa . . 8061b53 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / ActorStyle . swift 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / ActorStyle . swift 
 @ @ - 359 , 6 + 359 , 8 @ @ public class ActorStyle { 
 
 public var chatTextBubbleOutColor = UIColor ( rgb : 0xD2FEFD ) 
 
 + public var chatTextBubbleShadowColor = UIColor . alphaBlack ( 0 . 1 ) 
 + 
 public var chatTextBubbleOutSelectedColor = UIColor . lightGrayColor ( ) 
 
 public var chatTextBubbleOutBorderColor = UIColor ( rgb : 0x99E4E3 ) 
 diff - - git a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleCell . swift b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleCell . swift 
 index 7adb240 . . 5161489 100644 
 - - - a / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleCell . swift 
 + + + b / actor - sdk / sdk - core - ios / ActorSDK / Sources / Controllers / Content / Conversation / Cell / AABubbleCell . swift 
 @ @ - 61 , 14 + 61 , 19 @ @ public class AABubbleCell : UICollectionViewCell { 
 / / 
 
 private static var cachedOutTextBg = UIImage . tinted ( " BubbleOutgoingFull " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleOutColor ) 
 + private static var cachedOutTextBgShadow = UIImage . tinted ( " BubbleOutgoingFull " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleShadowColor ) 
 + 
 private static var cachedOutTextBgBorder = UIImage . tinted ( " BubbleOutgoingFullBorder " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleOutBorderColor ) 
 private static var cachedOutTextCompactBg = UIImage . tinted ( " BubbleOutgoingPartial " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleOutColor ) 
 + private static var cachedOutTextCompactBgShadow = UIImage . tinted ( " BubbleOutgoingPartial " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleShadowColor ) 
 private static var cachedOutTextCompactSelectedBg = UIImage . tinted ( " BubbleOutgoingPartial " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleOutSelectedColor ) 
 private static var cachedOutTextCompactBgBorder = UIImage . tinted ( " BubbleOutgoingPartialBorder " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleOutBorderColor ) 
 
 private static var cachedInTextBg = UIImage . tinted ( " BubbleIncomingFull " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleInColor ) 
 + private static var cachedInTextBgShadow = UIImage . tinted ( " BubbleIncomingFull " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleShadowColor ) 
 private static var cachedInTextBgBorder = UIImage . tinted ( " BubbleIncomingFullBorder " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleInBorderColor ) 
 private static var cachedInTextCompactBg = UIImage . tinted ( " BubbleIncomingPartial " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleInColor ) 
 + private static var cachedInTextCompactBgShadow = UIImage . tinted ( " BubbleIncomingPartial " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleShadowColor ) 
 private static var cachedInTextCompactSelectedBg = UIImage . tinted ( " BubbleIncomingPartial " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleInSelectedColor ) 
 private static var cachedInTextCompactBgBorder = UIImage . tinted ( " BubbleIncomingPartialBorder " , color : ActorSDK . sharedActor ( ) . style . chatTextBubbleInBorderColor ) 
 
 @ @ - 101 , 6 + 106 , 7 @ @ public class AABubbleCell : UICollectionViewCell { 
 public var avatarAdded : Bool = false 
 
 public let bubble = UIImageView ( ) 
 + public let bubbleShadow = UIImageView ( ) 
 public let bubbleBorder = UIImageView ( ) 
 
 private let dateText = UILabel ( ) 
 @ @ - 171 , 7 + 177 , 7 @ @ public class AABubbleCell : UICollectionViewCell { 
 / / " New Messages " 
 
 contentView . transform = CGAffineTransformMake ( 1 , 0 , 0 , - 1 , 0 , 0 ) 
 - 
 + contentView . addSubview ( bubbleShadow ) 
 contentView . addSubview ( bubble ) 
 contentView . addSubview ( bubbleBorder ) 
 contentView . addSubview ( newMessage ) 
 @ @ - 291 , 11 + 297 , 15 @ @ public class AABubbleCell : UICollectionViewCell { 
 switch ( type ) { 
 case BubbleType . TextIn : 
 if ( isCompact ) { 
 + bubbleShadow . image = AABubbleCell . cachedInTextCompactBgShadow 
 + bubbleShadow . highlightedImage = AABubbleCell . cachedInTextCompactBgShadow 
 bubble . image = AABubbleCell . cachedInTextCompactBg 
 bubbleBorder . image = AABubbleCell . cachedInTextCompactBgBorder 
 bubble . highlightedImage = AABubbleCell . cachedInTextCompactSelectedBg 
 bubbleBorder . highlightedImage = AABubbleCell . cachedInTextCompactBgBorder 
 } else { 
 + bubbleShadow . image = AABubbleCell . cachedInTextBgShadow 
 + bubbleShadow . highlightedImage = AABubbleCell . cachedInTextBgShadow 
 bubble . image = AABubbleCell . cachedInTextBg 
 bubbleBorder . image = AABubbleCell . cachedInTextBgBorder 
 bubble . highlightedImage = AABubbleCell . cachedInTextBg 
 @ @ - 304 , 11 + 314 , 15 @ @ public class AABubbleCell : UICollectionViewCell { 
 break 
 case BubbleType . TextOut : 
 if ( isCompact ) { 
 + bubbleShadow . image = AABubbleCell . cachedOutTextCompactBgShadow 
 + bubbleShadow . highlightedImage = AABubbleCell . cachedOutTextCompactBgShadow 
 bubble . image = AABubbleCell . cachedOutTextCompactBg 
 bubbleBorder . image = AABubbleCell . cachedOutTextCompactBgBorder 
 bubble . highlightedImage = AABubbleCell . cachedOutTextCompactSelectedBg 
 bubbleBorder . highlightedImage = AABubbleCell . cachedOutTextCompactBgBorder 
 } else { 
 + bubbleShadow . image = AABubbleCell . cachedOutTextBgShadow 
 + bubbleShadow . highlightedImage = AABubbleCell . cachedOutTextBgShadow 
 bubble . image = AABubbleCell . cachedOutTextBg 
 bubbleBorder . image = AABubbleCell . cachedOutTextBgBorder 
 bubble . highlightedImage = AABubbleCell . cachedOutTextBg 
 @ @ - 343 , 16 + 357 , 19 @ @ public class AABubbleCell : UICollectionViewCell { 
 } 
 
 func updateView ( ) { 
 - print ( self . highlighted ) 
 let type = self . bubbleType ! as BubbleType 
 switch ( type ) { 
 case BubbleType . TextIn : 
 if ( ! isFullSize ! ) { 
 + bubbleShadow . image = AABubbleCell . cachedInTextCompactBgShadow 
 + bubbleShadow . highlightedImage = AABubbleCell . cachedInTextCompactBgShadow 
 bubble . image = AABubbleCell . cachedInTextCompactBg 
 bubbleBorder . image = AABubbleCell . cachedInTextCompactBgBorder 
 bubble . highlightedImage = AABubbleCell . cachedInTextCompactSelectedBg 
 bubbleBorder . highlightedImage = AABubbleCell . cachedInTextCompactBgBorder 
 } else { 
 + bubbleShadow . image = AABubbleCell . cachedInTextBgShadow 
 + bubbleShadow . highlightedImage = AABubbleCell . cachedInTextBgShadow 
 bubble . image = AABubbleCell . cachedInTextBg 
 bubbleBorder . image = AABubbleCell . cachedInTextBgBorder 
 bubble . highlightedImage = AABubbleCell . cachedInTextBg 
 @ @ - 361 , 11 + 378 , 15 @ @ public class AABubbleCell : UICollectionViewCell { 
 break 
 case BubbleType . TextOut : 
 if ( ! isFullSize ! ) { 
 + bubbleShadow . image = AABubbleCell . cachedOutTextCompactBgShadow 
 + bubbleShadow . highlightedImage = AABubbleCell . cachedOutTextCompactBgShadow 
 bubble . image = AABubbleCell . cachedOutTextCompactBg 
 bubbleBorder . image = AABubbleCell . cachedOutTextCompactBgBorder 
 bubble . highlightedImage = AABubbleCell . cachedOutTextCompactSelectedBg 
 bubbleBorder . highlightedImage = AABubbleCell . cachedOutTextCompactBgBorder 
 } else { 
 + bubbleShadow . image = AABubbleCell . cachedOutTextBgShadow 
 + bubbleShadow . highlightedImage = AABubbleCell . cachedOutTextBgShadow 
 bubble . image = AABubbleCell . cachedOutTextBg 
 bubbleBorder . image = AABubbleCell . cachedOutTextBgBorder 
 bubble . highlightedImage = AABubbleCell . cachedOutTextBg 
 @ @ - 491 , 11 + 512 , 17 @ @ public class AABubbleCell : UICollectionViewCell { 
 } 
 bubble . frame = bubbleFrame 
 bubbleBorder . frame = bubbleFrame 
 + bubbleShadow . frame = CGRect ( 
 + x : bubbleFrame . minX + 1 , 
 + y : bubbleFrame . minY + 1 , 
 + width : bubbleW , 
 + height : bubbleH ) 
 } 
 
 public func layoutBubble ( frame : CGRect ) { 
 bubble . frame = frame 
 bubbleBorder . frame = frame 
 + bubbleShadow . frame = frame 
 } 
 
 public override func preferredLayoutAttributesFittingAttributes ( layoutAttributes : UICollectionViewLayoutAttributes ) - > UICollectionViewLayoutAttributes {
