BLEU SCORE: 0.6389431042462724

TEST MSG: refactor ( server : session ) : print buf statistics
GENERATED MSG: refactor ( server : session ) : log SeqUpdateTooLong

TEST DIFF (one line): diff - - git a / actor - server / actor - session / src / main / scala / im / actor / server / session / Resender . scala b / actor - server / actor - session / src / main / scala / im / actor / server / session / Resender . scala < nl > index 9ac5e03 . . bdf6a40 100644 < nl > - - - a / actor - server / actor - session / src / main / scala / im / actor / server / session / Resender . scala < nl > + + + b / actor - server / actor - session / src / main / scala / im / actor / server / session / Resender . scala < nl > @ @ - 281 , 6 + 281 , 7 @ @ private [ session ] class ReSender ( authId : Long , sessionId : Long , firstMessageId : L < nl > } < nl > < nl > @ tailrec final def deliverBuf ( ) : Unit = { < nl > + log . debug ( " Delivering buf , queue size : { } , bufferSize : { } , pushBufferSize : { } " , mbQueue . size , resendBufferSize , resendPushBufferSize ) < nl > if ( isActive & & totalDemand > 0 & & mbQueue . nonEmpty ) < nl > mbQueue . dequeue ( ) match { < nl > case ( mb , _ ) ⇒
NEAREST DIFF (one line): diff - - git a / actor - server / actor - session / src / main / scala / im / actor / server / session / Resender . scala b / actor - server / actor - session / src / main / scala / im / actor / server / session / Resender . scala < nl > index 7f0485c . . e9f8313 100644 < nl > - - - a / actor - server / actor - session / src / main / scala / im / actor / server / session / Resender . scala < nl > + + + b / actor - server / actor - session / src / main / scala / im / actor / server / session / Resender . scala < nl > @ @ - 250 , 6 + 250 , 8 @ @ private [ session ] class ReSender ( authId : Long , sessionId : Long , firstMessageId : L < nl > } < nl > < nl > private def clearPushBuffer ( ) : Unit = { < nl > + log . debug ( " Push buffer exceeded , clearing and sending SeqUpdateTooLong " ) < nl > + < nl > pushBuffer foreach { < nl > case ( messageId , ( pi : PushItem , resend ) ) ⇒ < nl > pushBuffer - = messageId

TEST DIFF:
diff - - git a / actor - server / actor - session / src / main / scala / im / actor / server / session / Resender . scala b / actor - server / actor - session / src / main / scala / im / actor / server / session / Resender . scala 
 index 9ac5e03 . . bdf6a40 100644 
 - - - a / actor - server / actor - session / src / main / scala / im / actor / server / session / Resender . scala 
 + + + b / actor - server / actor - session / src / main / scala / im / actor / server / session / Resender . scala 
 @ @ - 281 , 6 + 281 , 7 @ @ private [ session ] class ReSender ( authId : Long , sessionId : Long , firstMessageId : L 
 } 
 
 @ tailrec final def deliverBuf ( ) : Unit = { 
 + log . debug ( " Delivering buf , queue size : { } , bufferSize : { } , pushBufferSize : { } " , mbQueue . size , resendBufferSize , resendPushBufferSize ) 
 if ( isActive & & totalDemand > 0 & & mbQueue . nonEmpty ) 
 mbQueue . dequeue ( ) match { 
 case ( mb , _ ) ⇒

NEAREST DIFF:
diff - - git a / actor - server / actor - session / src / main / scala / im / actor / server / session / Resender . scala b / actor - server / actor - session / src / main / scala / im / actor / server / session / Resender . scala 
 index 7f0485c . . e9f8313 100644 
 - - - a / actor - server / actor - session / src / main / scala / im / actor / server / session / Resender . scala 
 + + + b / actor - server / actor - session / src / main / scala / im / actor / server / session / Resender . scala 
 @ @ - 250 , 6 + 250 , 8 @ @ private [ session ] class ReSender ( authId : Long , sessionId : Long , firstMessageId : L 
 } 
 
 private def clearPushBuffer ( ) : Unit = { 
 + log . debug ( " Push buffer exceeded , clearing and sending SeqUpdateTooLong " ) 
 + 
 pushBuffer foreach { 
 case ( messageId , ( pi : PushItem , resend ) ) ⇒ 
 pushBuffer - = messageId
