BLEU SCORE: 0.2984745896009823

TEST MSG: chore ( android ) : refactor Json messages holder
GENERATED MSG: feat ( android ) : settings extends over delegate

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > index ce072ed . . 2e1b83a 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > + + + b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > @ @ - 13 , 7 + 13 , 7 @ @ import im . actor . sdk . ActorSDK ; < nl > import im . actor . sdk . ActorSDKApplication ; < nl > import im . actor . sdk . ActorStyle ; < nl > import im . actor . sdk . BaseActorSDKDelegate ; < nl > - import im . actor . sdk . controllers . conversation . messages . BaseCustomHolder ; < nl > + import im . actor . sdk . controllers . conversation . messages . BaseJsonHolder ; < nl > import im . actor . sdk . controllers . conversation . messages . MessagesAdapter ; < nl > import im . actor . sdk . controllers . fragment . settings . ActorSettingsCategory ; < nl > import im . actor . sdk . controllers . fragment . settings . ActorSettingsField ; < nl > @ @ - 60 , 31 + 60 , 6 @ @ public class Application extends ActorSDKApplication { < nl > return " TeamCity message " ; < nl > } < nl > < nl > - @ Override < nl > - public String getContentDescriptionRu ( ) { < nl > - return null ; < nl > - } < nl > - < nl > - @ Override < nl > - public String getContentDescriptionPt ( ) { < nl > - return null ; < nl > - } < nl > - < nl > - < nl > - @ Override < nl > - public String getContentDescriptionAr ( ) { < nl > - return null ; < nl > - } < nl > - < nl > - @ Override < nl > - public String getContentDescriptionCn ( ) { < nl > - return null ; < nl > - } < nl > - < nl > - @ Override < nl > - public String getContentDescriptionEs ( ) { < nl > - return null ; < nl > - } < nl > } < nl > < nl > < nl > @ @ - 93 , 10 + 68 , 10 @ @ public class Application extends ActorSDKApplication { < nl > private class ActorSDKDelegate extends BaseActorSDKDelegate { < nl > < nl > @ Override < nl > - public BaseCustomHolder getCustomMessageViewHolder ( int id , MessagesAdapter messagesAdapter , ViewGroup viewGroup ) { < nl > + public BaseJsonHolder getCustomMessageViewHolder ( int id , MessagesAdapter messagesAdapter , ViewGroup viewGroup ) { < nl > switch ( id ) { < nl > case 0 : < nl > - return new TCMessageHolder ( messagesAdapter , viewGroup , R . layout . custom _ holder , false ) ; < nl > + return new TCMessageHolder ( messagesAdapter , viewGroup , R . layout . tc _ holder , false ) ; < nl > < nl > default : < nl > return null ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / tc / TCMessageHolder . java b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / tc / TCMessageHolder . java < nl > index c5f181f . . 9d0c542 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / tc / TCMessageHolder . java < nl > + + + b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / tc / TCMessageHolder . java < nl > @ @ - 2 , 6 + 2 , 8 @ @ package im . actor . tc ; < nl > < nl > import android . view . View ; < nl > import android . view . ViewGroup ; < nl > + import android . widget . FrameLayout ; < nl > + import android . widget . LinearLayout ; < nl > import android . widget . ProgressBar ; < nl > import android . widget . TextView ; < nl > < nl > @ @ - 15 , 13 + 17 , 13 @ @ import im . actor . runtime . actors . Props ; < nl > import im . actor . runtime . json . JSONException ; < nl > import im . actor . runtime . json . JSONObject ; < nl > import im . actor . sdk . R ; < nl > - import im . actor . sdk . controllers . conversation . messages . BaseCustomHolder ; < nl > + import im . actor . sdk . controllers . conversation . messages . BaseJsonHolder ; < nl > import im . actor . sdk . controllers . conversation . messages . MessagesAdapter ; < nl > import im . actor . sdk . controllers . conversation . messages . PreprocessedData ; < nl > - import im . actor . sdk . core . audio . AudioPlayerActor ; < nl > < nl > - public class TCMessageHolder extends BaseCustomHolder { < nl > + public class TCMessageHolder extends BaseJsonHolder { < nl > < nl > + private final LinearLayout messageBubble ; < nl > TextView text ; < nl > protected static ActorRef tcActor ; < nl > ProgressBar progress ; < nl > @ @ - 30 , 16 + 32 , 16 @ @ public class TCMessageHolder extends BaseCustomHolder { < nl > super ( adapter , viewGroup , id , isFullSize ) ; < nl > text = ( TextView ) itemView . findViewById ( R . id . tv _ text ) ; < nl > progress = ( ProgressBar ) itemView . findViewById ( R . id . progress ) ; < nl > + messageBubble = ( LinearLayout ) itemView . findViewById ( R . id . bubbleContainer ) ; < nl > + messageBubble . setBackgroundResource ( R . drawable . conv _ bubble _ media _ in ) ; < nl > + < nl > } < nl > < nl > @ Override < nl > - protected void bindData ( Message message , boolean isUpdated , PreprocessedData preprocessedData ) { < nl > + protected void bindData ( Message message , JSONObject data , boolean isUpdated , PreprocessedData preprocessedData ) { < nl > + < nl > String render = " " ; < nl > - JSONObject json = ( ( Application . TCBotMesaage ) message . getContent ( ) ) . getJson ( ) ; < nl > try { < nl > - final JSONObject data = json . getJSONObject ( " data " ) ; < nl > - < nl > - < nl > int id = data . getInt ( " id " ) ; < nl > render + = " id : " + id + " \ n " ; < nl > String state = data . getString ( " state " ) ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - app / src / main / res / layout / custom _ holder . xml b / actor - sdk / sdk - core - android / android - app / src / main / res / layout / custom _ holder . xml < nl > deleted file mode 100644 < nl > index 81f3ec0 . . 0000000 < nl > - - - a / actor - sdk / sdk - core - android / android - app / src / main / res / layout / custom _ holder . xml < nl > + + + / dev / null < nl > @ @ - 1 , 39 + 0 , 0 @ @ < nl > - < ? xml version = " 1 . 0 " encoding = " utf - 8 " ? > < ! - - < nl > - ~ Copyright ( C ) 2015 Actor LLC . < https : / / actor . im > < nl > - - - > < nl > - < nl > - < im . actor . sdk . controllers . conversation . view . BubbleContainer xmlns : android = " http : / / schemas . android . com / apk / res / android " < nl > - android : id = " @ + id / mainContainer " < nl > - android : layout _ width = " match _ parent " < nl > - android : layout _ height = " wrap _ content " < nl > - android : clickable = " true " > < nl > - < nl > - < LinearLayout < nl > - android : orientation = " vertical " < nl > - android : id = " @ + id / bubbleContainer " < nl > - android : layout _ width = " wrap _ content " < nl > - android : layout _ height = " wrap _ content " < nl > - android : padding = " 20dp " < nl > - android : animateLayoutChanges = " true " < nl > - android : duplicateParentState = " true " > < nl > - < nl > - < TextView < nl > - android : id = " @ + id / tv _ text " < nl > - android : padding = " 10dp " < nl > - android : textSize = " 15sp " < nl > - android : background = " @ color / primary _ text " < nl > - android : layout _ width = " match _ parent " < nl > - android : layout _ height = " wrap _ content " / > < nl > - < nl > - < ProgressBar < nl > - style = " @ android : style / Widget . Holo . ProgressBar . Horizontal " < nl > - android : id = " @ id / progress " < nl > - android : layout _ width = " match _ parent " < nl > - android : layout _ height = " wrap _ content " < nl > - android : max = " 100 " / > < nl > - < nl > - < nl > - < / LinearLayout > < nl > - < nl > - < nl > - < / im . actor . sdk . controllers . conversation . view . BubbleContainer > < nl > \ No newline at end of file < nl > diff - - git a / actor - sdk / sdk - core - android / android - app / src / main / res / layout / tc _ holder . xml b / actor - sdk / sdk - core - android / android - app / src / main / res / layout / tc _ holder . xml < nl > new file mode 100644 < nl > index 0000000 . . 4928687 < nl > - - - / dev / null < nl > + + + b / actor - sdk / sdk - core - android / android - app / src / main / res / layout / tc _ holder . xml < nl > @ @ - 0 , 0 + 1 , 22 @ @ < nl > + < ? xml version = " 1 . 0 " encoding = " utf - 8 " ? > < nl > + < LinearLayout xmlns : android = " http : / / schemas . android . com / apk / res / android " < nl > + android : orientation = " vertical " < nl > + android : layout _ width = " match _ parent " < nl > + android : layout _ height = " match _ parent " < nl > + android : animateLayoutChanges = " true " < nl > + android : padding = " 10dp " > < nl > + < nl > + < TextView < nl > + android : id = " @ + id / tv _ text " < nl > + android : layout _ width = " match _ parent " < nl > + android : layout _ height = " wrap _ content " / > < nl > + < nl > + < ProgressBar < nl > + android : id = " @ id / progress " < nl > + android : padding = " 10dp " < nl > + style = " @ android : style / Widget . Holo . ProgressBar . Horizontal " < nl > + android : layout _ width = " match _ parent " < nl > + android : layout _ height = " wrap _ content " < nl > + android : max = " 100 " / > < nl > + < nl > + < / LinearLayout > < nl > \ No newline at end of file < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / BaseCustomHolder . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / BaseCustomHolder . java < nl > deleted file mode 100644 < nl > index 7fc4173 . . 0000000 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / BaseCustomHolder . java < nl > + + + / dev / null < nl > @ @ - 1 , 19 + 0 , 0 @ @ < nl > - package im . actor . sdk . controllers . conversation . messages ; < nl > - < nl > - import android . view . LayoutInflater ; < nl > - import android . view . ViewGroup ; < nl > - < nl > - < nl > - / * * < nl > - * Created by root on 12 / 29 / 15 . < nl > - * / < nl > - public abstract class BaseCustomHolder extends MessageHolder { < nl > - public BaseCustomHolder ( MessagesAdapter adapter , ViewGroup viewGroup , int resourceId , boolean isFullSize ) { < nl > - super ( adapter , LayoutInflater < nl > - . from ( viewGroup . getContext ( ) ) < nl > - . inflate ( resourceId , viewGroup , false ) , isFullSize ) ; < nl > - < nl > - < nl > - } < nl > - < nl > - } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / BaseJsonHolder . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / BaseJsonHolder . java < nl > new file mode 100644 < nl > index 0000000 . . 921cc02 < nl > - - - / dev / null < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / BaseJsonHolder . java < nl > @ @ - 0 , 0 + 1 , 42 @ @ < nl > + package im . actor . sdk . controllers . conversation . messages ; < nl > + < nl > + import android . view . LayoutInflater ; < nl > + import android . view . View ; < nl > + import android . view . ViewGroup ; < nl > + import android . widget . FrameLayout ; < nl > + < nl > + import im . actor . core . entity . Message ; < nl > + import im . actor . core . entity . content . JsonContent ; < nl > + import im . actor . runtime . json . JSONException ; < nl > + import im . actor . runtime . json . JSONObject ; < nl > + import im . actor . sdk . R ; < nl > + < nl > + public abstract class BaseJsonHolder extends MessageHolder { < nl > + public BaseJsonHolder ( MessagesAdapter adapter , ViewGroup viewGroup , int resourceId , boolean isFullSize ) { < nl > + super ( adapter , inflate ( resourceId , viewGroup ) , isFullSize ) ; < nl > + < nl > + < nl > + } < nl > + < nl > + @ Override < nl > + protected void bindData ( Message message , boolean isUpdated , PreprocessedData preprocessedData ) { < nl > + JSONObject json = ( ( JsonContent ) message . getContent ( ) ) . getJson ( ) ; < nl > + JSONObject data = null ; < nl > + try { < nl > + data = json . getJSONObject ( " data " ) ; < nl > + } catch ( JSONException e ) { < nl > + e . printStackTrace ( ) ; < nl > + } < nl > + < nl > + bindData ( message , data , isUpdated , preprocessedData ) ; < nl > + } < nl > + < nl > + protected abstract void bindData ( Message message , JSONObject data , boolean isUpdated , PreprocessedData preprocessedData ) ; < nl > + < nl > + private static View inflate ( int resourceId , ViewGroup viewGroup ) { < nl > + View base = LayoutInflater . from ( viewGroup . getContext ( ) ) . inflate ( R . layout . custom _ holder , viewGroup , false ) ; < nl > + View content = LayoutInflater . from ( viewGroup . getContext ( ) ) . inflate ( resourceId , viewGroup , false ) ; < nl > + ( ( FrameLayout ) base . findViewById ( R . id . custom _ container ) ) . addView ( content ) ; < nl > + return base ; < nl > + } < nl > + } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / custom _ holder . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / custom _ holder . xml < nl > new file mode 100644 < nl > index 0000000 . . 425c319 < nl > - - - / dev / null < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / custom _ holder . xml < nl > @ @ - 0 , 0 + 1 , 27 @ @ < nl > + < ? xml version = " 1 . 0 " encoding = " utf - 8 " ? > < ! - - < nl > + ~ Copyright ( C ) 2015 Actor LLC . < https : / / actor . im > < nl > + - - > < nl > + < nl > + < im . actor . sdk . controllers . conversation . view . BubbleContainer xmlns : android = " http : / / schemas . android . com / apk / res / android " < nl > + android : id = " @ + id / mainContainer " < nl > + android : layout _ width = " match _ parent " < nl > + android : layout _ height = " wrap _ content " < nl > + android : clickable = " true " > < nl > + < nl > + < LinearLayout < nl > + android : orientation = " vertical " < nl > + android : id = " @ + id / bubbleContainer " < nl > + android : layout _ width = " wrap _ content " < nl > + android : layout _ height = " wrap _ content " < nl > + android : duplicateParentState = " true " > < nl > + < nl > + < FrameLayout < nl > + android : id = " @ + id / custom _ container " < nl > + android : layout _ width = " match _ parent " < nl > + android : layout _ height = " wrap _ content " / > < nl > + < nl > + < nl > + < / LinearLayout > < nl > + < nl > + < nl > + < / im . actor . sdk . controllers . conversation . view . BubbleContainer > < nl > \ No newline at end of file < nl > diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / entity / content / JsonContent . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / entity / content / JsonContent . java < nl > index a534c85 . . afd6851 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / entity / content / JsonContent . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / entity / content / JsonContent . java < nl > @ @ - 76 , 15 + 76 , 25 @ @ public abstract class JsonContent extends AbsContent { < nl > < nl > public abstract String getContentDescriptionEn ( ) ; < nl > < nl > - public abstract String getContentDescriptionRu ( ) ; < nl > + public String getContentDescriptionRu ( ) { < nl > + return null ; < nl > + } < nl > < nl > - public abstract String getContentDescriptionPt ( ) ; < nl > + public String getContentDescriptionPt ( ) { < nl > + return null ; < nl > + } < nl > < nl > - public abstract String getContentDescriptionAr ( ) ; < nl > + public String getContentDescriptionAr ( ) { < nl > + return null ; < nl > + } < nl > < nl > - public abstract String getContentDescriptionCn ( ) ; < nl > + public String getContentDescriptionCn ( ) { < nl > + return null ; < nl > + } < nl > < nl > - public abstract String getContentDescriptionEs ( ) ; < nl > + public String getContentDescriptionEs ( ) { < nl > + return null ; < nl > + } < nl > < nl > public final String getContentDescription ( ) { < nl > String locale = im . actor . runtime . Runtime . getLocaleRuntime ( ) . getCurrentLocale ( ) ; < nl > @ @ - 113 , 7 + 123 , 7 @ @ public abstract class JsonContent extends AbsContent { < nl > return getContentDescriptionEn ( ) ; < nl > < nl > } else { < nl > - return " " ; < nl > + return getDataType ( ) ; < nl > } < nl > } < nl > }
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > index 8045a74 . . 512ecfe 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > + + + b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > @ @ - 1 , 7 + 1 , 12 @ @ < nl > package im . actor ; < nl > < nl > + import android . content . Context ; < nl > + import android . view . View ; < nl > + import android . widget . TextView ; < nl > + < nl > import im . actor . sdk . ActorSDK ; < nl > import im . actor . sdk . BaseActorSDKDelegate ; < nl > + import im . actor . sdk . controllers . fragment . settings . ActorSettingsCategory ; < nl > < nl > / * * < nl > * Created by badgr on 16 . 10 . 2015 . < nl > @ @ - 16 , 6 + 21 , 66 @ @ public class Application extends android . app . Application { < nl > } < nl > < nl > private class ActorSDKDelegate extends BaseActorSDKDelegate { < nl > + @ Override < nl > + public View getBeforeNickSettingsView ( Context context ) { < nl > + TextView tv = new TextView ( context ) ; < nl > + tv . setText ( " BeforeNickSettingsView " ) ; < nl > + return tv ; < nl > + } < nl > + < nl > + @ Override < nl > + public View getAfterPhoneSettingsView ( Context context ) { < nl > + TextView tv = new TextView ( context ) ; < nl > + tv . setText ( " AfterPhoneSettingsView " ) ; < nl > + return tv ; < nl > + } < nl > + < nl > + @ Override < nl > + public View getSettingsTopView ( Context context ) { < nl > + TextView tv = new TextView ( context ) ; < nl > + tv . setText ( " SettingsTopView " ) ; < nl > + return tv ; < nl > + } < nl > + < nl > + @ Override < nl > + public View getSettingsBottomView ( Context context ) { < nl > + TextView tv = new TextView ( context ) ; < nl > + tv . setText ( " SettingsBottomView " ) ; < nl > + return tv ; < nl > + } < nl > + < nl > + @ Override < nl > + public ActorSettingsCategory getBeforeSettingsCategory ( ) { < nl > + return new ActorSettingsCategory ( ) { < nl > + @ Override < nl > + public String getCategoryName ( ) { < nl > + return " BeforeSettingsCategory " ; < nl > + } < nl > + < nl > + @ Override < nl > + public View getView ( Context context ) { < nl > + TextView tv = new TextView ( context ) ; < nl > + tv . setText ( " BeforeSettings " ) ; < nl > + return tv ; < nl > + } < nl > + } ; < nl > + } < nl > + < nl > + @ Override < nl > + public ActorSettingsCategory getAfterSettingsCategory ( ) { < nl > + return new ActorSettingsCategory ( ) { < nl > + @ Override < nl > + public String getCategoryName ( ) { < nl > + return " AfterSettingsCategory " ; < nl > + } < nl > < nl > + @ Override < nl > + public View getView ( Context context ) { < nl > + TextView tv = new TextView ( context ) ; < nl > + tv . setText ( " AfterSettings " ) ; < nl > + return tv ; < nl > + } < nl > + } ; < nl > + } < nl > } < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - google - push / src / main / java / im / actor / push / PushManager . java b / actor - sdk / sdk - core - android / android - google - push / src / main / java / im / actor / push / PushManager . java < nl > index 35e9768 . . ebdb40b 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - google - push / src / main / java / im / actor / push / PushManager . java < nl > + + + b / actor - sdk / sdk - core - android / android - google - push / src / main / java / im / actor / push / PushManager . java < nl > @ @ - 62 , 7 + 62 , 7 @ @ public class PushManager implements ActorPushManager { < nl > < nl > private String tryRegisterPush ( Context context ) { < nl > GoogleCloudMessaging cloudMessaging = GoogleCloudMessaging . getInstance ( context ) ; < nl > - Log . d ( " Actor GCM " , " Requesting push token iteration . . . " ) ; < nl > + Log . d ( TAG , " Requesting push token iteration . . . " ) ; < nl > try { < nl > return cloudMessaging . register ( " " + ActorSDK . sharedActor ( ) . getPushId ( ) ) ; < nl > } catch ( IOException e ) { < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java < nl > index fc7de4f . . 9ace1b8 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java < nl > @ @ - 1 , 7 + 1 , 11 @ @ < nl > package im . actor . sdk ; < nl > < nl > + import android . content . Context ; < nl > + import android . view . View ; < nl > + < nl > import im . actor . core . AuthState ; < nl > import im . actor . sdk . controllers . fragment . auth . BaseAuthFragment ; < nl > + import im . actor . sdk . controllers . fragment . settings . ActorSettingsCategory ; < nl > import im . actor . sdk . intents . ActorIntent ; < nl > < nl > public interface ActorSDKDelegate { < nl > @ @ - 30 , 4 + 34 , 16 @ @ public interface ActorSDKDelegate { < nl > AuthState getAuthStartState ( ) ; < nl > < nl > BaseAuthFragment getSignFragment ( ) ; < nl > + < nl > + View getBeforeNickSettingsView ( Context context ) ; < nl > + < nl > + View getAfterPhoneSettingsView ( Context context ) ; < nl > + < nl > + View getSettingsTopView ( Context context ) ; < nl > + < nl > + View getSettingsBottomView ( Context context ) ; < nl > + < nl > + ActorSettingsCategory getBeforeSettingsCategory ( ) ; < nl > + < nl > + ActorSettingsCategory getAfterSettingsCategory ( ) ; < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java < nl > index eb43042 . . 89a5741 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java < nl > @ @ - 1 , 8 + 1 , 12 @ @ < nl > package im . actor . sdk ; < nl > < nl > + import android . content . Context ; < nl > + import android . view . View ; < nl > + < nl > import im . actor . core . AuthState ; < nl > import im . actor . sdk . controllers . fragment . auth . BaseAuthFragment ; < nl > import im . actor . sdk . controllers . fragment . auth . SignPhoneFragment ; < nl > + import im . actor . sdk . controllers . fragment . settings . ActorSettingsCategory ; < nl > import im . actor . sdk . intents . ActorIntent ; < nl > < nl > public class BaseActorSDKDelegate implements ActorSDKDelegate { < nl > @ @ - 31 , 4 + 35 , 36 @ @ public class BaseActorSDKDelegate implements ActorSDKDelegate { < nl > public BaseAuthFragment getSignFragment ( ) { < nl > return new SignPhoneFragment ( ) ; < nl > } < nl > + < nl > + @ Override < nl > + public View getBeforeNickSettingsView ( Context context ) { < nl > + return null ; < nl > + } < nl > + < nl > + @ Override < nl > + public View getAfterPhoneSettingsView ( Context context ) { < nl > + return null ; < nl > + } < nl > + < nl > + @ Override < nl > + public View getSettingsTopView ( Context context ) { < nl > + return null ; < nl > + } < nl > + < nl > + @ Override < nl > + public View getSettingsBottomView ( Context context ) { < nl > + return null ; < nl > + } < nl > + < nl > + @ Override < nl > + public ActorSettingsCategory getBeforeSettingsCategory ( ) { < nl > + return null ; < nl > + } < nl > + < nl > + @ Override < nl > + public ActorSettingsCategory getAfterSettingsCategory ( ) { < nl > + return null ; < nl > + } < nl > + < nl > + < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsCategory . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsCategory . java < nl > new file mode 100644 < nl > index 0000000 . . c7defab < nl > - - - / dev / null < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsCategory . java < nl > @ @ - 0 , 0 + 1 , 10 @ @ < nl > + package im . actor . sdk . controllers . fragment . settings ; < nl > + < nl > + import android . content . Context ; < nl > + import android . view . View ; < nl > + < nl > + public interface ActorSettingsCategory { < nl > + String getCategoryName ( ) ; < nl > + < nl > + View getView ( Context context ) ; < nl > + } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / MyProfileFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / MyProfileFragment . java < nl > index 41261b2 . . 6e3884a 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / MyProfileFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / MyProfileFragment . java < nl > @ @ - 33 , 6 + 33 , 8 @ @ import im . actor . core . viewmodel . CommandCallback ; < nl > import im . actor . core . viewmodel . UserPhone ; < nl > import im . actor . core . viewmodel . UserVM ; < nl > import im . actor . core . viewmodel . generics . ArrayListUserPhone ; < nl > + import im . actor . sdk . ActorSDK ; < nl > + import im . actor . sdk . ActorSDKDelegate ; < nl > import im . actor . sdk . R ; < nl > import im . actor . sdk . controllers . Intents ; < nl > import im . actor . sdk . controllers . activity . BaseActivity ; < nl > @ @ - 246 , 6 + 248 , 41 @ @ public class MyProfileFragment extends BaseFragment { < nl > } < nl > } ) ; < nl > < nl > + / / Add custom settings < nl > + ActorSDKDelegate delegate = ActorSDK . sharedActor ( ) . getDelegate ( ) ; < nl > + if ( delegate . getBeforeNickSettingsView ( getActivity ( ) ) ! = null ) { < nl > + FrameLayout beforeNick = ( FrameLayout ) view . findViewById ( R . id . before _ nick _ container ) ; < nl > + beforeNick . addView ( delegate . getBeforeNickSettingsView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; < nl > + } < nl > + if ( delegate . getBeforeNickSettingsView ( getActivity ( ) ) ! = null ) { < nl > + FrameLayout afterPhone = ( FrameLayout ) view . findViewById ( R . id . after _ phone _ container ) ; < nl > + afterPhone . addView ( delegate . getAfterPhoneSettingsView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; < nl > + } < nl > + if ( delegate . getSettingsTopView ( getActivity ( ) ) ! = null ) { < nl > + FrameLayout settingsTop = ( FrameLayout ) view . findViewById ( R . id . settings _ top _ container ) ; < nl > + settingsTop . addView ( delegate . getSettingsTopView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; < nl > + } < nl > + if ( delegate . getSettingsBottomView ( getActivity ( ) ) ! = null ) { < nl > + FrameLayout settingsBot = ( FrameLayout ) view . findViewById ( R . id . settings _ bottom _ container ) ; < nl > + settingsBot . addView ( delegate . getSettingsBottomView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; < nl > + } < nl > + < nl > + if ( delegate . getBeforeSettingsCategory ( ) ! = null ) { < nl > + FrameLayout beforeSettings = ( FrameLayout ) view . findViewById ( R . id . before _ settings _ category _ container ) ; < nl > + view . findViewById ( R . id . before _ settings _ category _ container _ container ) . setVisibility ( View . VISIBLE ) ; < nl > + TextView beforeSettingsName = ( TextView ) view . findViewById ( R . id . before _ settings _ category _ name ) ; < nl > + beforeSettingsName . setText ( delegate . getBeforeSettingsCategory ( ) . getCategoryName ( ) ) ; < nl > + beforeSettings . addView ( delegate . getBeforeSettingsCategory ( ) . getView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; < nl > + } < nl > + < nl > + if ( delegate . getAfterSettingsCategory ( ) ! = null ) { < nl > + FrameLayout afterSettings = ( FrameLayout ) view . findViewById ( R . id . after _ settings _ category _ container ) ; < nl > + view . findViewById ( R . id . after _ settings _ category _ container _ container ) . setVisibility ( View . VISIBLE ) ; < nl > + TextView beforeSettingsName = ( TextView ) view . findViewById ( R . id . after _ settings _ category _ name ) ; < nl > + beforeSettingsName . setText ( delegate . getAfterSettingsCategory ( ) . getCategoryName ( ) ) ; < nl > + afterSettings . addView ( delegate . getAfterSettingsCategory ( ) . getView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; < nl > + } < nl > + < nl > avatarView = ( CoverAvatarView ) view . findViewById ( R . id . avatar ) ; < nl > avatarView . setBkgrnd ( ( ImageView ) view . findViewById ( R . id . avatar _ bgrnd ) ) ; < nl > < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ settings . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ settings . xml < nl > index e10d333 . . 12d4b32 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ settings . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ settings . xml < nl > @ @ - 39 , 8 + 39 , 8 @ @ < nl > android : id = " @ + id / avatar _ bgrnd " < nl > android : layout _ width = " match _ parent " < nl > android : layout _ height = " match _ parent " < nl > - android : src = " @ drawable / img _ profile _ avatar _ default " < nl > - android : scaleType = " centerCrop " / > < nl > + android : scaleType = " centerCrop " < nl > + android : src = " @ drawable / img _ profile _ avatar _ default " / > < nl > < nl > < im . actor . sdk . view . avatar . CoverAvatarView < nl > android : id = " @ + id / avatar " < nl > @ @ - 76 , 6 + 76 , 11 @ @ < nl > < nl > < / FrameLayout > < nl > < nl > + < FrameLayout < nl > + android : id = " @ + id / before _ nick _ container " < nl > + android : layout _ width = " match _ parent " < nl > + android : layout _ height = " wrap _ content " / > < nl > + < nl > < LinearLayout < nl > android : id = " @ + id / nickContainer " < nl > android : layout _ width = " match _ parent " < nl > @ @ - 85 , 8 + 90 , 8 @ @ < nl > < / LinearLayout > < nl > < nl > < include < nl > - layout = " @ layout / contact _ record " < nl > - android : id = " @ + id / about " / > < nl > + android : id = " @ + id / about " < nl > + layout = " @ layout / contact _ record " / > < nl > < nl > < LinearLayout < nl > android : id = " @ + id / phoneContainer " < nl > @ @ - 96 , 6 + 101 , 11 @ @ < nl > < nl > < / LinearLayout > < nl > < nl > + < FrameLayout < nl > + android : id = " @ + id / after _ phone _ container " < nl > + android : layout _ width = " match _ parent " < nl > + android : layout _ height = " wrap _ content " / > < nl > + < nl > < nl > < FrameLayout < nl > android : layout _ width = " match _ parent " < nl > @ @ - 115 , 6 + 125 , 50 @ @ < nl > android : background = " @ drawable / card _ shadow _ top " / > < nl > < / FrameLayout > < nl > < nl > + < nl > + < LinearLayout < nl > + android : id = " @ + id / before _ settings _ category _ container _ container " < nl > + android : layout _ width = " match _ parent " < nl > + android : layout _ height = " wrap _ content " < nl > + android : orientation = " vertical " < nl > + android : visibility = " gone " > < nl > + < nl > + < TextView < nl > + android : id = " @ + id / before _ settings _ category _ name " < nl > + android : layout _ width = " match _ parent " < nl > + android : layout _ height = " 48dp " < nl > + android : gravity = " center _ vertical | left " < nl > + android : paddingLeft = " 72dp " < nl > + android : text = " @ string / settings _ header " < nl > + android : textColor = " @ color / settings _ main _ title " < nl > + android : textSize = " 16sp " / > < nl > + < nl > + < FrameLayout < nl > + android : id = " @ + id / before _ settings _ category _ container " < nl > + android : layout _ width = " match _ parent " < nl > + android : layout _ height = " wrap _ content " / > < nl > + < nl > + < FrameLayout < nl > + android : layout _ width = " match _ parent " < nl > + android : layout _ height = " 16dp " < nl > + android : background = " @ color / bg _ backyard " > < nl > + < nl > + < View < nl > + android : layout _ width = " match _ parent " < nl > + android : layout _ height = " 4dp " < nl > + android : layout _ gravity = " top " < nl > + android : background = " @ drawable / card _ shadow _ bottom " / > < nl > + < nl > + < View < nl > + android : layout _ width = " match _ parent " < nl > + android : layout _ height = " 1dp " < nl > + android : layout _ gravity = " bottom " < nl > + android : background = " @ drawable / card _ shadow _ top " / > < nl > + < / FrameLayout > < nl > + < nl > + < / LinearLayout > < nl > + < nl > + < nl > < TextView < nl > android : layout _ width = " match _ parent " < nl > android : layout _ height = " 48dp " < nl > @ @ - 124 , 6 + 178 , 11 @ @ < nl > android : textColor = " @ color / settings _ main _ title " < nl > android : textSize = " 16sp " / > < nl > < nl > + < FrameLayout < nl > + android : id = " @ + id / settings _ top _ container " < nl > + android : layout _ width = " match _ parent " < nl > + android : layout _ height = " wrap _ content " / > < nl > + < nl > < LinearLayout < nl > android : id = " @ + id / notifications " < nl > android : layout _ width = " match _ parent " < nl > @ @ - 264 , 6 + 323 , 11 @ @ < nl > android : textSize = " 16sp " / > < nl > < / LinearLayout > < nl > < nl > + < FrameLayout < nl > + android : id = " @ + id / settings _ bottom _ container " < nl > + android : layout _ width = " match _ parent " < nl > + android : layout _ height = " wrap _ content " / > < nl > + < nl > < / LinearLayout > < nl > < nl > < com . getbase . floatingactionbutton . FloatingActionButton < nl > @ @ - 294 , 6 + 358 , 49 @ @ < nl > < nl > < / FrameLayout > < nl > < nl > + < LinearLayout < nl > + android : id = " @ + id / after _ settings _ category _ container _ container " < nl > + android : layout _ width = " match _ parent " < nl > + android : layout _ height = " wrap _ content " < nl > + android : orientation = " vertical " < nl > + android : visibility = " gone " > < nl > + < nl > + < TextView < nl > + android : id = " @ + id / after _ settings _ category _ name " < nl > + android : layout _ width = " match _ parent " < nl > + android : layout _ height = " 48dp " < nl > + android : gravity = " center _ vertical | left " < nl > + android : paddingLeft = " 72dp " < nl > + android : text = " @ string / settings _ header " < nl > + android : textColor = " @ color / settings _ main _ title " < nl > + android : textSize = " 16sp " / > < nl > + < nl > + < FrameLayout < nl > + android : id = " @ + id / after _ settings _ category _ container " < nl > + android : layout _ width = " match _ parent " < nl > + android : layout _ height = " wrap _ content " / > < nl > + < nl > + < FrameLayout < nl > + android : layout _ width = " match _ parent " < nl > + android : layout _ height = " 16dp " < nl > + android : background = " @ color / bg _ backyard " > < nl > + < nl > + < View < nl > + android : layout _ width = " match _ parent " < nl > + android : layout _ height = " 4dp " < nl > + android : layout _ gravity = " top " < nl > + android : background = " @ drawable / card _ shadow _ bottom " / > < nl > + < nl > + < View < nl > + android : layout _ width = " match _ parent " < nl > + android : layout _ height = " 1dp " < nl > + android : layout _ gravity = " bottom " < nl > + android : background = " @ drawable / card _ shadow _ top " / > < nl > + < / FrameLayout > < nl > + < nl > + < / LinearLayout > < nl > + < nl > + < nl > < / LinearLayout > < nl > < / ScrollView >

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 index ce072ed . . 2e1b83a 100644 
 - - - a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 + + + b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 @ @ - 13 , 7 + 13 , 7 @ @ import im . actor . sdk . ActorSDK ; 
 import im . actor . sdk . ActorSDKApplication ; 
 import im . actor . sdk . ActorStyle ; 
 import im . actor . sdk . BaseActorSDKDelegate ; 
 - import im . actor . sdk . controllers . conversation . messages . BaseCustomHolder ; 
 + import im . actor . sdk . controllers . conversation . messages . BaseJsonHolder ; 
 import im . actor . sdk . controllers . conversation . messages . MessagesAdapter ; 
 import im . actor . sdk . controllers . fragment . settings . ActorSettingsCategory ; 
 import im . actor . sdk . controllers . fragment . settings . ActorSettingsField ; 
 @ @ - 60 , 31 + 60 , 6 @ @ public class Application extends ActorSDKApplication { 
 return " TeamCity message " ; 
 } 
 
 - @ Override 
 - public String getContentDescriptionRu ( ) { 
 - return null ; 
 - } 
 - 
 - @ Override 
 - public String getContentDescriptionPt ( ) { 
 - return null ; 
 - } 
 - 
 - 
 - @ Override 
 - public String getContentDescriptionAr ( ) { 
 - return null ; 
 - } 
 - 
 - @ Override 
 - public String getContentDescriptionCn ( ) { 
 - return null ; 
 - } 
 - 
 - @ Override 
 - public String getContentDescriptionEs ( ) { 
 - return null ; 
 - } 
 } 
 
 
 @ @ - 93 , 10 + 68 , 10 @ @ public class Application extends ActorSDKApplication { 
 private class ActorSDKDelegate extends BaseActorSDKDelegate { 
 
 @ Override 
 - public BaseCustomHolder getCustomMessageViewHolder ( int id , MessagesAdapter messagesAdapter , ViewGroup viewGroup ) { 
 + public BaseJsonHolder getCustomMessageViewHolder ( int id , MessagesAdapter messagesAdapter , ViewGroup viewGroup ) { 
 switch ( id ) { 
 case 0 : 
 - return new TCMessageHolder ( messagesAdapter , viewGroup , R . layout . custom _ holder , false ) ; 
 + return new TCMessageHolder ( messagesAdapter , viewGroup , R . layout . tc _ holder , false ) ; 
 
 default : 
 return null ; 
 diff - - git a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / tc / TCMessageHolder . java b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / tc / TCMessageHolder . java 
 index c5f181f . . 9d0c542 100644 
 - - - a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / tc / TCMessageHolder . java 
 + + + b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / tc / TCMessageHolder . java 
 @ @ - 2 , 6 + 2 , 8 @ @ package im . actor . tc ; 
 
 import android . view . View ; 
 import android . view . ViewGroup ; 
 + import android . widget . FrameLayout ; 
 + import android . widget . LinearLayout ; 
 import android . widget . ProgressBar ; 
 import android . widget . TextView ; 
 
 @ @ - 15 , 13 + 17 , 13 @ @ import im . actor . runtime . actors . Props ; 
 import im . actor . runtime . json . JSONException ; 
 import im . actor . runtime . json . JSONObject ; 
 import im . actor . sdk . R ; 
 - import im . actor . sdk . controllers . conversation . messages . BaseCustomHolder ; 
 + import im . actor . sdk . controllers . conversation . messages . BaseJsonHolder ; 
 import im . actor . sdk . controllers . conversation . messages . MessagesAdapter ; 
 import im . actor . sdk . controllers . conversation . messages . PreprocessedData ; 
 - import im . actor . sdk . core . audio . AudioPlayerActor ; 
 
 - public class TCMessageHolder extends BaseCustomHolder { 
 + public class TCMessageHolder extends BaseJsonHolder { 
 
 + private final LinearLayout messageBubble ; 
 TextView text ; 
 protected static ActorRef tcActor ; 
 ProgressBar progress ; 
 @ @ - 30 , 16 + 32 , 16 @ @ public class TCMessageHolder extends BaseCustomHolder { 
 super ( adapter , viewGroup , id , isFullSize ) ; 
 text = ( TextView ) itemView . findViewById ( R . id . tv _ text ) ; 
 progress = ( ProgressBar ) itemView . findViewById ( R . id . progress ) ; 
 + messageBubble = ( LinearLayout ) itemView . findViewById ( R . id . bubbleContainer ) ; 
 + messageBubble . setBackgroundResource ( R . drawable . conv _ bubble _ media _ in ) ; 
 + 
 } 
 
 @ Override 
 - protected void bindData ( Message message , boolean isUpdated , PreprocessedData preprocessedData ) { 
 + protected void bindData ( Message message , JSONObject data , boolean isUpdated , PreprocessedData preprocessedData ) { 
 + 
 String render = " " ; 
 - JSONObject json = ( ( Application . TCBotMesaage ) message . getContent ( ) ) . getJson ( ) ; 
 try { 
 - final JSONObject data = json . getJSONObject ( " data " ) ; 
 - 
 - 
 int id = data . getInt ( " id " ) ; 
 render + = " id : " + id + " \ n " ; 
 String state = data . getString ( " state " ) ; 
 diff - - git a / actor - sdk / sdk - core - android / android - app / src / main / res / layout / custom _ holder . xml b / actor - sdk / sdk - core - android / android - app / src / main / res / layout / custom _ holder . xml 
 deleted file mode 100644 
 index 81f3ec0 . . 0000000 
 - - - a / actor - sdk / sdk - core - android / android - app / src / main / res / layout / custom _ holder . xml 
 + + + / dev / null 
 @ @ - 1 , 39 + 0 , 0 @ @ 
 - < ? xml version = " 1 . 0 " encoding = " utf - 8 " ? > < ! - - 
 - ~ Copyright ( C ) 2015 Actor LLC . < https : / / actor . im > 
 - - - > 
 - 
 - < im . actor . sdk . controllers . conversation . view . BubbleContainer xmlns : android = " http : / / schemas . android . com / apk / res / android " 
 - android : id = " @ + id / mainContainer " 
 - android : layout _ width = " match _ parent " 
 - android : layout _ height = " wrap _ content " 
 - android : clickable = " true " > 
 - 
 - < LinearLayout 
 - android : orientation = " vertical " 
 - android : id = " @ + id / bubbleContainer " 
 - android : layout _ width = " wrap _ content " 
 - android : layout _ height = " wrap _ content " 
 - android : padding = " 20dp " 
 - android : animateLayoutChanges = " true " 
 - android : duplicateParentState = " true " > 
 - 
 - < TextView 
 - android : id = " @ + id / tv _ text " 
 - android : padding = " 10dp " 
 - android : textSize = " 15sp " 
 - android : background = " @ color / primary _ text " 
 - android : layout _ width = " match _ parent " 
 - android : layout _ height = " wrap _ content " / > 
 - 
 - < ProgressBar 
 - style = " @ android : style / Widget . Holo . ProgressBar . Horizontal " 
 - android : id = " @ id / progress " 
 - android : layout _ width = " match _ parent " 
 - android : layout _ height = " wrap _ content " 
 - android : max = " 100 " / > 
 - 
 - 
 - < / LinearLayout > 
 - 
 - 
 - < / im . actor . sdk . controllers . conversation . view . BubbleContainer > 
 \ No newline at end of file 
 diff - - git a / actor - sdk / sdk - core - android / android - app / src / main / res / layout / tc _ holder . xml b / actor - sdk / sdk - core - android / android - app / src / main / res / layout / tc _ holder . xml 
 new file mode 100644 
 index 0000000 . . 4928687 
 - - - / dev / null 
 + + + b / actor - sdk / sdk - core - android / android - app / src / main / res / layout / tc _ holder . xml 
 @ @ - 0 , 0 + 1 , 22 @ @ 
 + < ? xml version = " 1 . 0 " encoding = " utf - 8 " ? > 
 + < LinearLayout xmlns : android = " http : / / schemas . android . com / apk / res / android " 
 + android : orientation = " vertical " 
 + android : layout _ width = " match _ parent " 
 + android : layout _ height = " match _ parent " 
 + android : animateLayoutChanges = " true " 
 + android : padding = " 10dp " > 
 + 
 + < TextView 
 + android : id = " @ + id / tv _ text " 
 + android : layout _ width = " match _ parent " 
 + android : layout _ height = " wrap _ content " / > 
 + 
 + < ProgressBar 
 + android : id = " @ id / progress " 
 + android : padding = " 10dp " 
 + style = " @ android : style / Widget . Holo . ProgressBar . Horizontal " 
 + android : layout _ width = " match _ parent " 
 + android : layout _ height = " wrap _ content " 
 + android : max = " 100 " / > 
 + 
 + < / LinearLayout > 
 \ No newline at end of file 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / BaseCustomHolder . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / BaseCustomHolder . java 
 deleted file mode 100644 
 index 7fc4173 . . 0000000 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / BaseCustomHolder . java 
 + + + / dev / null 
 @ @ - 1 , 19 + 0 , 0 @ @ 
 - package im . actor . sdk . controllers . conversation . messages ; 
 - 
 - import android . view . LayoutInflater ; 
 - import android . view . ViewGroup ; 
 - 
 - 
 - / * * 
 - * Created by root on 12 / 29 / 15 . 
 - * / 
 - public abstract class BaseCustomHolder extends MessageHolder { 
 - public BaseCustomHolder ( MessagesAdapter adapter , ViewGroup viewGroup , int resourceId , boolean isFullSize ) { 
 - super ( adapter , LayoutInflater 
 - . from ( viewGroup . getContext ( ) ) 
 - . inflate ( resourceId , viewGroup , false ) , isFullSize ) ; 
 - 
 - 
 - } 
 - 
 - } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / BaseJsonHolder . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / BaseJsonHolder . java 
 new file mode 100644 
 index 0000000 . . 921cc02 
 - - - / dev / null 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / BaseJsonHolder . java 
 @ @ - 0 , 0 + 1 , 42 @ @ 
 + package im . actor . sdk . controllers . conversation . messages ; 
 + 
 + import android . view . LayoutInflater ; 
 + import android . view . View ; 
 + import android . view . ViewGroup ; 
 + import android . widget . FrameLayout ; 
 + 
 + import im . actor . core . entity . Message ; 
 + import im . actor . core . entity . content . JsonContent ; 
 + import im . actor . runtime . json . JSONException ; 
 + import im . actor . runtime . json . JSONObject ; 
 + import im . actor . sdk . R ; 
 + 
 + public abstract class BaseJsonHolder extends MessageHolder { 
 + public BaseJsonHolder ( MessagesAdapter adapter , ViewGroup viewGroup , int resourceId , boolean isFullSize ) { 
 + super ( adapter , inflate ( resourceId , viewGroup ) , isFullSize ) ; 
 + 
 + 
 + } 
 + 
 + @ Override 
 + protected void bindData ( Message message , boolean isUpdated , PreprocessedData preprocessedData ) { 
 + JSONObject json = ( ( JsonContent ) message . getContent ( ) ) . getJson ( ) ; 
 + JSONObject data = null ; 
 + try { 
 + data = json . getJSONObject ( " data " ) ; 
 + } catch ( JSONException e ) { 
 + e . printStackTrace ( ) ; 
 + } 
 + 
 + bindData ( message , data , isUpdated , preprocessedData ) ; 
 + } 
 + 
 + protected abstract void bindData ( Message message , JSONObject data , boolean isUpdated , PreprocessedData preprocessedData ) ; 
 + 
 + private static View inflate ( int resourceId , ViewGroup viewGroup ) { 
 + View base = LayoutInflater . from ( viewGroup . getContext ( ) ) . inflate ( R . layout . custom _ holder , viewGroup , false ) ; 
 + View content = LayoutInflater . from ( viewGroup . getContext ( ) ) . inflate ( resourceId , viewGroup , false ) ; 
 + ( ( FrameLayout ) base . findViewById ( R . id . custom _ container ) ) . addView ( content ) ; 
 + return base ; 
 + } 
 + } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / custom _ holder . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / custom _ holder . xml 
 new file mode 100644 
 index 0000000 . . 425c319 
 - - - / dev / null 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / custom _ holder . xml 
 @ @ - 0 , 0 + 1 , 27 @ @ 
 + < ? xml version = " 1 . 0 " encoding = " utf - 8 " ? > < ! - - 
 + ~ Copyright ( C ) 2015 Actor LLC . < https : / / actor . im > 
 + - - > 
 + 
 + < im . actor . sdk . controllers . conversation . view . BubbleContainer xmlns : android = " http : / / schemas . android . com / apk / res / android " 
 + android : id = " @ + id / mainContainer " 
 + android : layout _ width = " match _ parent " 
 + android : layout _ height = " wrap _ content " 
 + android : clickable = " true " > 
 + 
 + < LinearLayout 
 + android : orientation = " vertical " 
 + android : id = " @ + id / bubbleContainer " 
 + android : layout _ width = " wrap _ content " 
 + android : layout _ height = " wrap _ content " 
 + android : duplicateParentState = " true " > 
 + 
 + < FrameLayout 
 + android : id = " @ + id / custom _ container " 
 + android : layout _ width = " match _ parent " 
 + android : layout _ height = " wrap _ content " / > 
 + 
 + 
 + < / LinearLayout > 
 + 
 + 
 + < / im . actor . sdk . controllers . conversation . view . BubbleContainer > 
 \ No newline at end of file 
 diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / entity / content / JsonContent . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / entity / content / JsonContent . java 
 index a534c85 . . afd6851 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / entity / content / JsonContent . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / entity / content / JsonContent . java 
 @ @ - 76 , 15 + 76 , 25 @ @ public abstract class JsonContent extends AbsContent { 
 
 public abstract String getContentDescriptionEn ( ) ; 
 
 - public abstract String getContentDescriptionRu ( ) ; 
 + public String getContentDescriptionRu ( ) { 
 + return null ; 
 + } 
 
 - public abstract String getContentDescriptionPt ( ) ; 
 + public String getContentDescriptionPt ( ) { 
 + return null ; 
 + } 
 
 - public abstract String getContentDescriptionAr ( ) ; 
 + public String getContentDescriptionAr ( ) { 
 + return null ; 
 + } 
 
 - public abstract String getContentDescriptionCn ( ) ; 
 + public String getContentDescriptionCn ( ) { 
 + return null ; 
 + } 
 
 - public abstract String getContentDescriptionEs ( ) ; 
 + public String getContentDescriptionEs ( ) { 
 + return null ; 
 + } 
 
 public final String getContentDescription ( ) { 
 String locale = im . actor . runtime . Runtime . getLocaleRuntime ( ) . getCurrentLocale ( ) ; 
 @ @ - 113 , 7 + 123 , 7 @ @ public abstract class JsonContent extends AbsContent { 
 return getContentDescriptionEn ( ) ; 
 
 } else { 
 - return " " ; 
 + return getDataType ( ) ; 
 } 
 } 
 }

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 index 8045a74 . . 512ecfe 100644 
 - - - a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 + + + b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 @ @ - 1 , 7 + 1 , 12 @ @ 
 package im . actor ; 
 
 + import android . content . Context ; 
 + import android . view . View ; 
 + import android . widget . TextView ; 
 + 
 import im . actor . sdk . ActorSDK ; 
 import im . actor . sdk . BaseActorSDKDelegate ; 
 + import im . actor . sdk . controllers . fragment . settings . ActorSettingsCategory ; 
 
 / * * 
 * Created by badgr on 16 . 10 . 2015 . 
 @ @ - 16 , 6 + 21 , 66 @ @ public class Application extends android . app . Application { 
 } 
 
 private class ActorSDKDelegate extends BaseActorSDKDelegate { 
 + @ Override 
 + public View getBeforeNickSettingsView ( Context context ) { 
 + TextView tv = new TextView ( context ) ; 
 + tv . setText ( " BeforeNickSettingsView " ) ; 
 + return tv ; 
 + } 
 + 
 + @ Override 
 + public View getAfterPhoneSettingsView ( Context context ) { 
 + TextView tv = new TextView ( context ) ; 
 + tv . setText ( " AfterPhoneSettingsView " ) ; 
 + return tv ; 
 + } 
 + 
 + @ Override 
 + public View getSettingsTopView ( Context context ) { 
 + TextView tv = new TextView ( context ) ; 
 + tv . setText ( " SettingsTopView " ) ; 
 + return tv ; 
 + } 
 + 
 + @ Override 
 + public View getSettingsBottomView ( Context context ) { 
 + TextView tv = new TextView ( context ) ; 
 + tv . setText ( " SettingsBottomView " ) ; 
 + return tv ; 
 + } 
 + 
 + @ Override 
 + public ActorSettingsCategory getBeforeSettingsCategory ( ) { 
 + return new ActorSettingsCategory ( ) { 
 + @ Override 
 + public String getCategoryName ( ) { 
 + return " BeforeSettingsCategory " ; 
 + } 
 + 
 + @ Override 
 + public View getView ( Context context ) { 
 + TextView tv = new TextView ( context ) ; 
 + tv . setText ( " BeforeSettings " ) ; 
 + return tv ; 
 + } 
 + } ; 
 + } 
 + 
 + @ Override 
 + public ActorSettingsCategory getAfterSettingsCategory ( ) { 
 + return new ActorSettingsCategory ( ) { 
 + @ Override 
 + public String getCategoryName ( ) { 
 + return " AfterSettingsCategory " ; 
 + } 
 
 + @ Override 
 + public View getView ( Context context ) { 
 + TextView tv = new TextView ( context ) ; 
 + tv . setText ( " AfterSettings " ) ; 
 + return tv ; 
 + } 
 + } ; 
 + } 
 } 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - google - push / src / main / java / im / actor / push / PushManager . java b / actor - sdk / sdk - core - android / android - google - push / src / main / java / im / actor / push / PushManager . java 
 index 35e9768 . . ebdb40b 100644 
 - - - a / actor - sdk / sdk - core - android / android - google - push / src / main / java / im / actor / push / PushManager . java 
 + + + b / actor - sdk / sdk - core - android / android - google - push / src / main / java / im / actor / push / PushManager . java 
 @ @ - 62 , 7 + 62 , 7 @ @ public class PushManager implements ActorPushManager { 
 
 private String tryRegisterPush ( Context context ) { 
 GoogleCloudMessaging cloudMessaging = GoogleCloudMessaging . getInstance ( context ) ; 
 - Log . d ( " Actor GCM " , " Requesting push token iteration . . . " ) ; 
 + Log . d ( TAG , " Requesting push token iteration . . . " ) ; 
 try { 
 return cloudMessaging . register ( " " + ActorSDK . sharedActor ( ) . getPushId ( ) ) ; 
 } catch ( IOException e ) { 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java 
 index fc7de4f . . 9ace1b8 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java 
 @ @ - 1 , 7 + 1 , 11 @ @ 
 package im . actor . sdk ; 
 
 + import android . content . Context ; 
 + import android . view . View ; 
 + 
 import im . actor . core . AuthState ; 
 import im . actor . sdk . controllers . fragment . auth . BaseAuthFragment ; 
 + import im . actor . sdk . controllers . fragment . settings . ActorSettingsCategory ; 
 import im . actor . sdk . intents . ActorIntent ; 
 
 public interface ActorSDKDelegate { 
 @ @ - 30 , 4 + 34 , 16 @ @ public interface ActorSDKDelegate { 
 AuthState getAuthStartState ( ) ; 
 
 BaseAuthFragment getSignFragment ( ) ; 
 + 
 + View getBeforeNickSettingsView ( Context context ) ; 
 + 
 + View getAfterPhoneSettingsView ( Context context ) ; 
 + 
 + View getSettingsTopView ( Context context ) ; 
 + 
 + View getSettingsBottomView ( Context context ) ; 
 + 
 + ActorSettingsCategory getBeforeSettingsCategory ( ) ; 
 + 
 + ActorSettingsCategory getAfterSettingsCategory ( ) ; 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java 
 index eb43042 . . 89a5741 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java 
 @ @ - 1 , 8 + 1 , 12 @ @ 
 package im . actor . sdk ; 
 
 + import android . content . Context ; 
 + import android . view . View ; 
 + 
 import im . actor . core . AuthState ; 
 import im . actor . sdk . controllers . fragment . auth . BaseAuthFragment ; 
 import im . actor . sdk . controllers . fragment . auth . SignPhoneFragment ; 
 + import im . actor . sdk . controllers . fragment . settings . ActorSettingsCategory ; 
 import im . actor . sdk . intents . ActorIntent ; 
 
 public class BaseActorSDKDelegate implements ActorSDKDelegate { 
 @ @ - 31 , 4 + 35 , 36 @ @ public class BaseActorSDKDelegate implements ActorSDKDelegate { 
 public BaseAuthFragment getSignFragment ( ) { 
 return new SignPhoneFragment ( ) ; 
 } 
 + 
 + @ Override 
 + public View getBeforeNickSettingsView ( Context context ) { 
 + return null ; 
 + } 
 + 
 + @ Override 
 + public View getAfterPhoneSettingsView ( Context context ) { 
 + return null ; 
 + } 
 + 
 + @ Override 
 + public View getSettingsTopView ( Context context ) { 
 + return null ; 
 + } 
 + 
 + @ Override 
 + public View getSettingsBottomView ( Context context ) { 
 + return null ; 
 + } 
 + 
 + @ Override 
 + public ActorSettingsCategory getBeforeSettingsCategory ( ) { 
 + return null ; 
 + } 
 + 
 + @ Override 
 + public ActorSettingsCategory getAfterSettingsCategory ( ) { 
 + return null ; 
 + } 
 + 
 + 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsCategory . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsCategory . java 
 new file mode 100644 
 index 0000000 . . c7defab 
 - - - / dev / null 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / ActorSettingsCategory . java 
 @ @ - 0 , 0 + 1 , 10 @ @ 
 + package im . actor . sdk . controllers . fragment . settings ; 
 + 
 + import android . content . Context ; 
 + import android . view . View ; 
 + 
 + public interface ActorSettingsCategory { 
 + String getCategoryName ( ) ; 
 + 
 + View getView ( Context context ) ; 
 + } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / MyProfileFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / MyProfileFragment . java 
 index 41261b2 . . 6e3884a 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / MyProfileFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / fragment / settings / MyProfileFragment . java 
 @ @ - 33 , 6 + 33 , 8 @ @ import im . actor . core . viewmodel . CommandCallback ; 
 import im . actor . core . viewmodel . UserPhone ; 
 import im . actor . core . viewmodel . UserVM ; 
 import im . actor . core . viewmodel . generics . ArrayListUserPhone ; 
 + import im . actor . sdk . ActorSDK ; 
 + import im . actor . sdk . ActorSDKDelegate ; 
 import im . actor . sdk . R ; 
 import im . actor . sdk . controllers . Intents ; 
 import im . actor . sdk . controllers . activity . BaseActivity ; 
 @ @ - 246 , 6 + 248 , 41 @ @ public class MyProfileFragment extends BaseFragment { 
 } 
 } ) ; 
 
 + / / Add custom settings 
 + ActorSDKDelegate delegate = ActorSDK . sharedActor ( ) . getDelegate ( ) ; 
 + if ( delegate . getBeforeNickSettingsView ( getActivity ( ) ) ! = null ) { 
 + FrameLayout beforeNick = ( FrameLayout ) view . findViewById ( R . id . before _ nick _ container ) ; 
 + beforeNick . addView ( delegate . getBeforeNickSettingsView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; 
 + } 
 + if ( delegate . getBeforeNickSettingsView ( getActivity ( ) ) ! = null ) { 
 + FrameLayout afterPhone = ( FrameLayout ) view . findViewById ( R . id . after _ phone _ container ) ; 
 + afterPhone . addView ( delegate . getAfterPhoneSettingsView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; 
 + } 
 + if ( delegate . getSettingsTopView ( getActivity ( ) ) ! = null ) { 
 + FrameLayout settingsTop = ( FrameLayout ) view . findViewById ( R . id . settings _ top _ container ) ; 
 + settingsTop . addView ( delegate . getSettingsTopView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; 
 + } 
 + if ( delegate . getSettingsBottomView ( getActivity ( ) ) ! = null ) { 
 + FrameLayout settingsBot = ( FrameLayout ) view . findViewById ( R . id . settings _ bottom _ container ) ; 
 + settingsBot . addView ( delegate . getSettingsBottomView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; 
 + } 
 + 
 + if ( delegate . getBeforeSettingsCategory ( ) ! = null ) { 
 + FrameLayout beforeSettings = ( FrameLayout ) view . findViewById ( R . id . before _ settings _ category _ container ) ; 
 + view . findViewById ( R . id . before _ settings _ category _ container _ container ) . setVisibility ( View . VISIBLE ) ; 
 + TextView beforeSettingsName = ( TextView ) view . findViewById ( R . id . before _ settings _ category _ name ) ; 
 + beforeSettingsName . setText ( delegate . getBeforeSettingsCategory ( ) . getCategoryName ( ) ) ; 
 + beforeSettings . addView ( delegate . getBeforeSettingsCategory ( ) . getView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; 
 + } 
 + 
 + if ( delegate . getAfterSettingsCategory ( ) ! = null ) { 
 + FrameLayout afterSettings = ( FrameLayout ) view . findViewById ( R . id . after _ settings _ category _ container ) ; 
 + view . findViewById ( R . id . after _ settings _ category _ container _ container ) . setVisibility ( View . VISIBLE ) ; 
 + TextView beforeSettingsName = ( TextView ) view . findViewById ( R . id . after _ settings _ category _ name ) ; 
 + beforeSettingsName . setText ( delegate . getAfterSettingsCategory ( ) . getCategoryName ( ) ) ; 
 + afterSettings . addView ( delegate . getAfterSettingsCategory ( ) . getView ( getActivity ( ) ) , FrameLayout . LayoutParams . MATCH _ PARENT , FrameLayout . LayoutParams . WRAP _ CONTENT ) ; 
 + } 
 + 
 avatarView = ( CoverAvatarView ) view . findViewById ( R . id . avatar ) ; 
 avatarView . setBkgrnd ( ( ImageView ) view . findViewById ( R . id . avatar _ bgrnd ) ) ; 
 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ settings . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ settings . xml 
 index e10d333 . . 12d4b32 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ settings . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / layout / fragment _ settings . xml 
 @ @ - 39 , 8 + 39 , 8 @ @ 
 android : id = " @ + id / avatar _ bgrnd " 
 android : layout _ width = " match _ parent " 
 android : layout _ height = " match _ parent " 
 - android : src = " @ drawable / img _ profile _ avatar _ default " 
 - android : scaleType = " centerCrop " / > 
 + android : scaleType = " centerCrop " 
 + android : src = " @ drawable / img _ profile _ avatar _ default " / > 
 
 < im . actor . sdk . view . avatar . CoverAvatarView 
 android : id = " @ + id / avatar " 
 @ @ - 76 , 6 + 76 , 11 @ @ 
 
 < / FrameLayout > 
 
 + < FrameLayout 
 + android : id = " @ + id / before _ nick _ container " 
 + android : layout _ width = " match _ parent " 
 + android : layout _ height = " wrap _ content " / > 
 + 
 < LinearLayout 
 android : id = " @ + id / nickContainer " 
 android : layout _ width = " match _ parent " 
 @ @ - 85 , 8 + 90 , 8 @ @ 
 < / LinearLayout > 
 
 < include 
 - layout = " @ layout / contact _ record " 
 - android : id = " @ + id / about " / > 
 + android : id = " @ + id / about " 
 + layout = " @ layout / contact _ record " / > 
 
 < LinearLayout 
 android : id = " @ + id / phoneContainer " 
 @ @ - 96 , 6 + 101 , 11 @ @ 
 
 < / LinearLayout > 
 
 + < FrameLayout 
 + android : id = " @ + id / after _ phone _ container " 
 + android : layout _ width = " match _ parent " 
 + android : layout _ height = " wrap _ content " / > 
 + 
 
 < FrameLayout 
 android : layout _ width = " match _ parent " 
 @ @ - 115 , 6 + 125 , 50 @ @ 
 android : background = " @ drawable / card _ shadow _ top " / > 
 < / FrameLayout > 
 
 + 
 + < LinearLayout 
 + android : id = " @ + id / before _ settings _ category _ container _ container " 
 + android : layout _ width = " match _ parent " 
 + android : layout _ height = " wrap _ content " 
 + android : orientation = " vertical " 
 + android : visibility = " gone " > 
 + 
 + < TextView 
 + android : id = " @ + id / before _ settings _ category _ name " 
 + android : layout _ width = " match _ parent " 
 + android : layout _ height = " 48dp " 
 + android : gravity = " center _ vertical | left " 
 + android : paddingLeft = " 72dp " 
 + android : text = " @ string / settings _ header " 
 + android : textColor = " @ color / settings _ main _ title " 
 + android : textSize = " 16sp " / > 
 + 
 + < FrameLayout 
 + android : id = " @ + id / before _ settings _ category _ container " 
 + android : layout _ width = " match _ parent " 
 + android : layout _ height = " wrap _ content " / > 
 + 
 + < FrameLayout 
 + android : layout _ width = " match _ parent " 
 + android : layout _ height = " 16dp " 
 + android : background = " @ color / bg _ backyard " > 
 + 
 + < View 
 + android : layout _ width = " match _ parent " 
 + android : layout _ height = " 4dp " 
 + android : layout _ gravity = " top " 
 + android : background = " @ drawable / card _ shadow _ bottom " / > 
 + 
 + < View 
 + android : layout _ width = " match _ parent " 
 + android : layout _ height = " 1dp " 
 + android : layout _ gravity = " bottom " 
 + android : background = " @ drawable / card _ shadow _ top " / > 
 + < / FrameLayout > 
 + 
 + < / LinearLayout > 
 + 
 + 
 < TextView 
 android : layout _ width = " match _ parent " 
 android : layout _ height = " 48dp " 
 @ @ - 124 , 6 + 178 , 11 @ @ 
 android : textColor = " @ color / settings _ main _ title " 
 android : textSize = " 16sp " / > 
 
 + < FrameLayout 
 + android : id = " @ + id / settings _ top _ container " 
 + android : layout _ width = " match _ parent " 
 + android : layout _ height = " wrap _ content " / > 
 + 
 < LinearLayout 
 android : id = " @ + id / notifications " 
 android : layout _ width = " match _ parent " 
 @ @ - 264 , 6 + 323 , 11 @ @ 
 android : textSize = " 16sp " / > 
 < / LinearLayout > 
 
 + < FrameLayout 
 + android : id = " @ + id / settings _ bottom _ container " 
 + android : layout _ width = " match _ parent " 
 + android : layout _ height = " wrap _ content " / > 
 + 
 < / LinearLayout > 
 
 < com . getbase . floatingactionbutton . FloatingActionButton 
 @ @ - 294 , 6 + 358 , 49 @ @ 
 
 < / FrameLayout > 
 
 + < LinearLayout 
 + android : id = " @ + id / after _ settings _ category _ container _ container " 
 + android : layout _ width = " match _ parent " 
 + android : layout _ height = " wrap _ content " 
 + android : orientation = " vertical " 
 + android : visibility = " gone " > 
 + 
 + < TextView 
 + android : id = " @ + id / after _ settings _ category _ name " 
 + android : layout _ width = " match _ parent " 
 + android : layout _ height = " 48dp " 
 + android : gravity = " center _ vertical | left " 
 + android : paddingLeft = " 72dp " 
 + android : text = " @ string / settings _ header " 
 + android : textColor = " @ color / settings _ main _ title " 
 + android : textSize = " 16sp " / > 
 + 
 + < FrameLayout 
 + android : id = " @ + id / after _ settings _ category _ container " 
 + android : layout _ width = " match _ parent " 
 + android : layout _ height = " wrap _ content " / > 
 + 
 + < FrameLayout 
 + android : layout _ width = " match _ parent " 
 + android : layout _ height = " 16dp " 
 + android : background = " @ color / bg _ backyard " > 
 + 
 + < View 
 + android : layout _ width = " match _ parent " 
 + android : layout _ height = " 4dp " 
 + android : layout _ gravity = " top " 
 + android : background = " @ drawable / card _ shadow _ bottom " / > 
 + 
 + < View 
 + android : layout _ width = " match _ parent " 
 + android : layout _ height = " 1dp " 
 + android : layout _ gravity = " bottom " 
 + android : background = " @ drawable / card _ shadow _ top " / > 
 + < / FrameLayout > 
 + 
 + < / LinearLayout > 
 + 
 + 
 < / LinearLayout > 
 < / ScrollView >
