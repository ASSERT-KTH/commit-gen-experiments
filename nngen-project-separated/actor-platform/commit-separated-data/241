BLEU SCORE: 0.08500539049202117

TEST MSG: fix ( core + android ) : enable / disable media tracks in media stream , bind renderer to latest track
GENERATED MSG: fix ( core ) : Fix crash on receiving updates before auth

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / calls / CallActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / calls / CallActivity . java < nl > index 8603dcd . . 88c85b3 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / calls / CallActivity . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / calls / CallActivity . java < nl > @ @ - 26 , 17 + 26 , 17 @ @ public class CallActivity extends BaseFragmentActivity { < nl > protected void onCreate ( Bundle savedInstanceState ) { < nl > super . onCreate ( savedInstanceState ) ; < nl > < nl > - Thread . setDefaultUncaughtExceptionHandler ( < nl > - new UnhandledExceptionHandler ( this ) ) ; < nl > - < nl > - AndroidWebRTCRuntimeProvider . postToHandler ( new Runnable ( ) { < nl > - @ Override < nl > - public void run ( ) { < nl > - Thread . setDefaultUncaughtExceptionHandler ( < nl > - new UnhandledExceptionHandler ( CallActivity . this ) ) ; < nl > - < nl > - } < nl > - } ) ; < nl > + / / Thread . setDefaultUncaughtExceptionHandler ( < nl > + / / new UnhandledExceptionHandler ( this ) ) ; < nl > + / / / / < nl > + / / AndroidWebRTCRuntimeProvider . postToHandler ( new Runnable ( ) { < nl > + / / @ Override < nl > + / / public void run ( ) { < nl > + / / Thread . setDefaultUncaughtExceptionHandler ( < nl > + / / new UnhandledExceptionHandler ( CallActivity . this ) ) ; < nl > + / / < nl > + / / } < nl > + / / } ) ; < nl > < nl > getSupportActionBar ( ) . setTitle ( " Call " ) ; < nl > getSupportActionBar ( ) . hide ( ) ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / calls / CallFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / calls / CallFragment . java < nl > index f053089 . . 518bda0 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / calls / CallFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / calls / CallFragment . java < nl > @ @ - 668 , 7 + 668 , 7 @ @ public class CallFragment extends BaseFragment { < nl > isRemoteViewConfigured = true ; < nl > } < nl > < nl > - VideoTrack videoTrack = ( ( AndroidVideoTrack ) videoTracks . get ( 0 ) ) . getVideoTrack ( ) ; < nl > + VideoTrack videoTrack = ( ( AndroidVideoTrack ) videoTracks . get ( videoTracks . size ( ) - 1 ) ) . getVideoTrack ( ) ; < nl > < nl > if ( videoTrack ! = remoteTrack ) { < nl > if ( remoteTrack ! = null ) { < nl > diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / calls / peers / PeerNodeActor . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / calls / peers / PeerNodeActor . java < nl > index f126ede . . e5d3c07 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / calls / peers / PeerNodeActor . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / calls / peers / PeerNodeActor . java < nl > @ @ - 16 , 7 + 16 , 6 @ @ import im . actor . core . modules . calls . peers . messages . RTCNeedOffer ; < nl > import im . actor . core . modules . calls . peers . messages . RTCOffer ; < nl > import im . actor . core . modules . calls . peers . messages . RTCStart ; < nl > import im . actor . core . modules . ModuleActor ; < nl > - import im . actor . runtime . Log ; < nl > import im . actor . runtime . actors . ask . AskMessage ; < nl > import im . actor . runtime . actors . messages . Void ; < nl > import im . actor . runtime . function . CountedReference ; < nl > @ @ - 308 , 9 + 307 , 9 @ @ public class PeerNodeActor extends ModuleActor implements PeerConnectionCallback < nl > if ( this . isAudioEnabled ! = isAudioEnabled ) { < nl > this . isAudioEnabled = isAudioEnabled ; < nl > if ( isStarted ) { < nl > - for ( WebRTCMediaStream streams : theirMediaStreams ) { < nl > - for ( WebRTCMediaTrack track : streams . getAudioTracks ( ) ) { < nl > - track . setEnabled ( isAudioEnabled ) ; < nl > + for ( WebRTCMediaStream stream : theirMediaStreams ) { < nl > + stream . setAudioTracksEnabled ( isAudioEnabled ) ; < nl > + for ( WebRTCMediaTrack track : stream . getAudioTracks ( ) ) { < nl > if ( isAudioEnabled ) { < nl > callback . onTrackAdded ( deviceId , track ) ; < nl > } else { < nl > @ @ - 323 , 9 + 322 , 9 @ @ public class PeerNodeActor extends ModuleActor implements PeerConnectionCallback < nl > if ( this . isVideoEnabled ! = isVideoEnabled ) { < nl > this . isVideoEnabled = isVideoEnabled ; < nl > if ( isStarted ) { < nl > - for ( WebRTCMediaStream streams : theirMediaStreams ) { < nl > - for ( WebRTCMediaTrack track : streams . getVideoTracks ( ) ) { < nl > - track . setEnabled ( isVideoEnabled ) ; < nl > + for ( WebRTCMediaStream stream : theirMediaStreams ) { < nl > + stream . setVideoTracksEnabled ( isVideoEnabled ) ; < nl > + for ( WebRTCMediaTrack track : stream . getVideoTracks ( ) ) { < nl > if ( isVideoEnabled ) { < nl > callback . onTrackAdded ( deviceId , track ) ; < nl > } else { < nl > diff - - git a / actor - sdk / sdk - core / runtime / runtime - android / src / main / java / im / actor / runtime / android / webrtc / AndroidMediaStream . java b / actor - sdk / sdk - core / runtime / runtime - android / src / main / java / im / actor / runtime / android / webrtc / AndroidMediaStream . java < nl > index 2e4ca87 . . 7b79953 100644 < nl > - - - a / actor - sdk / sdk - core / runtime / runtime - android / src / main / java / im / actor / runtime / android / webrtc / AndroidMediaStream . java < nl > + + + b / actor - sdk / sdk - core / runtime / runtime - android / src / main / java / im / actor / runtime / android / webrtc / AndroidMediaStream . java < nl > @ @ - 85 , 6 + 85 , 20 @ @ public class AndroidMediaStream implements WebRTCMediaStream { < nl > } < nl > < nl > @ Override < nl > + public void setAudioTracksEnabled ( boolean enabled ) { < nl > + for ( AudioTrack track : stream . audioTracks ) { < nl > + track . setEnabled ( enabled ) ; < nl > + } < nl > + } < nl > + < nl > + @ Override < nl > + public void setVideoTracksEnabled ( boolean enabled ) { < nl > + for ( VideoTrack track : stream . videoTracks ) { < nl > + track . setEnabled ( enabled ) ; < nl > + } < nl > + } < nl > + < nl > + @ Override < nl > public void close ( ) { < nl > < nl > if ( isLocal ) { < nl > diff - - git a / actor - sdk / sdk - core / runtime / runtime - shared / src / main / java / im / actor / runtime / webrtc / WebRTCMediaStream . java b / actor - sdk / sdk - core / runtime / runtime - shared / src / main / java / im / actor / runtime / webrtc / WebRTCMediaStream . java < nl > index 2095a0c . . 1f596a4 100644 < nl > - - - a / actor - sdk / sdk - core / runtime / runtime - shared / src / main / java / im / actor / runtime / webrtc / WebRTCMediaStream . java < nl > + + + b / actor - sdk / sdk - core / runtime / runtime - shared / src / main / java / im / actor / runtime / webrtc / WebRTCMediaStream . java < nl > @ @ - 29 , 6 + 29 , 20 @ @ public interface WebRTCMediaStream extends Closable { < nl > WebRTCMediaTrack [ ] getTracks ( ) ; < nl > < nl > / * * < nl > + * Enable / disable audio tracks of a stream < nl > + * < nl > + * @ param enable true to enable tracks < nl > + * / < nl > + void setAudioTracksEnabled ( boolean enable ) ; < nl > + < nl > + / * * < nl > + * Enable / disable video tracks of a stream < nl > + * < nl > + * @ param enable true to enable tracks < nl > + * / < nl > + void setVideoTracksEnabled ( boolean enable ) ; < nl > + < nl > + / * * < nl > * Closing stream < nl > * / < nl > void close ( ) ;
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java < nl > index 593095a . . ab9a17a 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java < nl > @ @ - 8 , 6 + 8 , 9 @ @ import im . actor . sdk . controllers . fragment . auth . BaseAuthFragment ; < nl > import im . actor . sdk . controllers . fragment . settings . ActorSettingsCategory ; < nl > import im . actor . sdk . intents . ActorIntent ; < nl > < nl > + / * * < nl > + * SDK Delegate . Used for delegating some work to < nl > + * / < nl > public interface ActorSDKDelegate { < nl > < nl > / * * < nl > @ @ - 31 , 19 + 34 , 34 @ @ public interface ActorSDKDelegate { < nl > * / < nl > ActorIntent getStartIntent ( ) ; < nl > < nl > + / * * < nl > + * If not null returned , overrides settings activity intent < nl > + * < nl > + * @ return Actor Intent < nl > + * / < nl > + ActorIntent getSettingsIntent ( ) ; < nl > + < nl > + @ Deprecated < nl > AuthState getAuthStartState ( ) ; < nl > < nl > + @ Deprecated < nl > BaseAuthFragment getSignFragment ( ) ; < nl > < nl > + @ Deprecated < nl > View getBeforeNickSettingsView ( Context context ) ; < nl > < nl > + @ Deprecated < nl > View getAfterPhoneSettingsView ( Context context ) ; < nl > < nl > + @ Deprecated < nl > View getSettingsTopView ( Context context ) ; < nl > < nl > + @ Deprecated < nl > View getSettingsBottomView ( Context context ) ; < nl > < nl > + @ Deprecated < nl > ActorSettingsCategory [ ] getBeforeSettingsCategories ( ) ; < nl > < nl > + @ Deprecated < nl > ActorSettingsCategory [ ] getAfterSettingsCategories ( ) ; < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java < nl > index 68ec210 . . 9741d06 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java < nl > @ @ - 61 , 6 + 61 , 11 @ @ public class BaseActorSDKDelegate implements ActorSDKDelegate { < nl > return null ; < nl > } < nl > < nl > + @ Override < nl > + public ActorIntent getSettingsIntent ( ) { < nl > + return null ; < nl > + } < nl > + < nl > / / < nl > / / Hacking settings activity < nl > / / < nl > diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / ApiModule . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / ApiModule . java < nl > index bbb081d . . 2518330 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / ApiModule . java < nl > + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / ApiModule . java < nl > @ @ - 113 , 7 + 113 , 9 @ @ public class ApiModule extends AbsModule implements BusSubscriber { < nl > < nl > @ Override < nl > public void onUpdateReceived ( Object obj ) { < nl > - context ( ) . getUpdatesModule ( ) . onUpdateReceived ( obj ) ; < nl > + if ( context ( ) . getUpdatesModule ( ) ! = null ) { < nl > + context ( ) . getUpdatesModule ( ) . onUpdateReceived ( obj ) ; < nl > + } < nl > } < nl > < nl > @ Override

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / calls / CallActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / calls / CallActivity . java 
 index 8603dcd . . 88c85b3 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / calls / CallActivity . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / calls / CallActivity . java 
 @ @ - 26 , 17 + 26 , 17 @ @ public class CallActivity extends BaseFragmentActivity { 
 protected void onCreate ( Bundle savedInstanceState ) { 
 super . onCreate ( savedInstanceState ) ; 
 
 - Thread . setDefaultUncaughtExceptionHandler ( 
 - new UnhandledExceptionHandler ( this ) ) ; 
 - 
 - AndroidWebRTCRuntimeProvider . postToHandler ( new Runnable ( ) { 
 - @ Override 
 - public void run ( ) { 
 - Thread . setDefaultUncaughtExceptionHandler ( 
 - new UnhandledExceptionHandler ( CallActivity . this ) ) ; 
 - 
 - } 
 - } ) ; 
 + / / Thread . setDefaultUncaughtExceptionHandler ( 
 + / / new UnhandledExceptionHandler ( this ) ) ; 
 + / / / / 
 + / / AndroidWebRTCRuntimeProvider . postToHandler ( new Runnable ( ) { 
 + / / @ Override 
 + / / public void run ( ) { 
 + / / Thread . setDefaultUncaughtExceptionHandler ( 
 + / / new UnhandledExceptionHandler ( CallActivity . this ) ) ; 
 + / / 
 + / / } 
 + / / } ) ; 
 
 getSupportActionBar ( ) . setTitle ( " Call " ) ; 
 getSupportActionBar ( ) . hide ( ) ; 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / calls / CallFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / calls / CallFragment . java 
 index f053089 . . 518bda0 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / calls / CallFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / calls / CallFragment . java 
 @ @ - 668 , 7 + 668 , 7 @ @ public class CallFragment extends BaseFragment { 
 isRemoteViewConfigured = true ; 
 } 
 
 - VideoTrack videoTrack = ( ( AndroidVideoTrack ) videoTracks . get ( 0 ) ) . getVideoTrack ( ) ; 
 + VideoTrack videoTrack = ( ( AndroidVideoTrack ) videoTracks . get ( videoTracks . size ( ) - 1 ) ) . getVideoTrack ( ) ; 
 
 if ( videoTrack ! = remoteTrack ) { 
 if ( remoteTrack ! = null ) { 
 diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / calls / peers / PeerNodeActor . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / calls / peers / PeerNodeActor . java 
 index f126ede . . e5d3c07 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / calls / peers / PeerNodeActor . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / calls / peers / PeerNodeActor . java 
 @ @ - 16 , 7 + 16 , 6 @ @ import im . actor . core . modules . calls . peers . messages . RTCNeedOffer ; 
 import im . actor . core . modules . calls . peers . messages . RTCOffer ; 
 import im . actor . core . modules . calls . peers . messages . RTCStart ; 
 import im . actor . core . modules . ModuleActor ; 
 - import im . actor . runtime . Log ; 
 import im . actor . runtime . actors . ask . AskMessage ; 
 import im . actor . runtime . actors . messages . Void ; 
 import im . actor . runtime . function . CountedReference ; 
 @ @ - 308 , 9 + 307 , 9 @ @ public class PeerNodeActor extends ModuleActor implements PeerConnectionCallback 
 if ( this . isAudioEnabled ! = isAudioEnabled ) { 
 this . isAudioEnabled = isAudioEnabled ; 
 if ( isStarted ) { 
 - for ( WebRTCMediaStream streams : theirMediaStreams ) { 
 - for ( WebRTCMediaTrack track : streams . getAudioTracks ( ) ) { 
 - track . setEnabled ( isAudioEnabled ) ; 
 + for ( WebRTCMediaStream stream : theirMediaStreams ) { 
 + stream . setAudioTracksEnabled ( isAudioEnabled ) ; 
 + for ( WebRTCMediaTrack track : stream . getAudioTracks ( ) ) { 
 if ( isAudioEnabled ) { 
 callback . onTrackAdded ( deviceId , track ) ; 
 } else { 
 @ @ - 323 , 9 + 322 , 9 @ @ public class PeerNodeActor extends ModuleActor implements PeerConnectionCallback 
 if ( this . isVideoEnabled ! = isVideoEnabled ) { 
 this . isVideoEnabled = isVideoEnabled ; 
 if ( isStarted ) { 
 - for ( WebRTCMediaStream streams : theirMediaStreams ) { 
 - for ( WebRTCMediaTrack track : streams . getVideoTracks ( ) ) { 
 - track . setEnabled ( isVideoEnabled ) ; 
 + for ( WebRTCMediaStream stream : theirMediaStreams ) { 
 + stream . setVideoTracksEnabled ( isVideoEnabled ) ; 
 + for ( WebRTCMediaTrack track : stream . getVideoTracks ( ) ) { 
 if ( isVideoEnabled ) { 
 callback . onTrackAdded ( deviceId , track ) ; 
 } else { 
 diff - - git a / actor - sdk / sdk - core / runtime / runtime - android / src / main / java / im / actor / runtime / android / webrtc / AndroidMediaStream . java b / actor - sdk / sdk - core / runtime / runtime - android / src / main / java / im / actor / runtime / android / webrtc / AndroidMediaStream . java 
 index 2e4ca87 . . 7b79953 100644 
 - - - a / actor - sdk / sdk - core / runtime / runtime - android / src / main / java / im / actor / runtime / android / webrtc / AndroidMediaStream . java 
 + + + b / actor - sdk / sdk - core / runtime / runtime - android / src / main / java / im / actor / runtime / android / webrtc / AndroidMediaStream . java 
 @ @ - 85 , 6 + 85 , 20 @ @ public class AndroidMediaStream implements WebRTCMediaStream { 
 } 
 
 @ Override 
 + public void setAudioTracksEnabled ( boolean enabled ) { 
 + for ( AudioTrack track : stream . audioTracks ) { 
 + track . setEnabled ( enabled ) ; 
 + } 
 + } 
 + 
 + @ Override 
 + public void setVideoTracksEnabled ( boolean enabled ) { 
 + for ( VideoTrack track : stream . videoTracks ) { 
 + track . setEnabled ( enabled ) ; 
 + } 
 + } 
 + 
 + @ Override 
 public void close ( ) { 
 
 if ( isLocal ) { 
 diff - - git a / actor - sdk / sdk - core / runtime / runtime - shared / src / main / java / im / actor / runtime / webrtc / WebRTCMediaStream . java b / actor - sdk / sdk - core / runtime / runtime - shared / src / main / java / im / actor / runtime / webrtc / WebRTCMediaStream . java 
 index 2095a0c . . 1f596a4 100644 
 - - - a / actor - sdk / sdk - core / runtime / runtime - shared / src / main / java / im / actor / runtime / webrtc / WebRTCMediaStream . java 
 + + + b / actor - sdk / sdk - core / runtime / runtime - shared / src / main / java / im / actor / runtime / webrtc / WebRTCMediaStream . java 
 @ @ - 29 , 6 + 29 , 20 @ @ public interface WebRTCMediaStream extends Closable { 
 WebRTCMediaTrack [ ] getTracks ( ) ; 
 
 / * * 
 + * Enable / disable audio tracks of a stream 
 + * 
 + * @ param enable true to enable tracks 
 + * / 
 + void setAudioTracksEnabled ( boolean enable ) ; 
 + 
 + / * * 
 + * Enable / disable video tracks of a stream 
 + * 
 + * @ param enable true to enable tracks 
 + * / 
 + void setVideoTracksEnabled ( boolean enable ) ; 
 + 
 + / * * 
 * Closing stream 
 * / 
 void close ( ) ;

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java 
 index 593095a . . ab9a17a 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorSDKDelegate . java 
 @ @ - 8 , 6 + 8 , 9 @ @ import im . actor . sdk . controllers . fragment . auth . BaseAuthFragment ; 
 import im . actor . sdk . controllers . fragment . settings . ActorSettingsCategory ; 
 import im . actor . sdk . intents . ActorIntent ; 
 
 + / * * 
 + * SDK Delegate . Used for delegating some work to 
 + * / 
 public interface ActorSDKDelegate { 
 
 / * * 
 @ @ - 31 , 19 + 34 , 34 @ @ public interface ActorSDKDelegate { 
 * / 
 ActorIntent getStartIntent ( ) ; 
 
 + / * * 
 + * If not null returned , overrides settings activity intent 
 + * 
 + * @ return Actor Intent 
 + * / 
 + ActorIntent getSettingsIntent ( ) ; 
 + 
 + @ Deprecated 
 AuthState getAuthStartState ( ) ; 
 
 + @ Deprecated 
 BaseAuthFragment getSignFragment ( ) ; 
 
 + @ Deprecated 
 View getBeforeNickSettingsView ( Context context ) ; 
 
 + @ Deprecated 
 View getAfterPhoneSettingsView ( Context context ) ; 
 
 + @ Deprecated 
 View getSettingsTopView ( Context context ) ; 
 
 + @ Deprecated 
 View getSettingsBottomView ( Context context ) ; 
 
 + @ Deprecated 
 ActorSettingsCategory [ ] getBeforeSettingsCategories ( ) ; 
 
 + @ Deprecated 
 ActorSettingsCategory [ ] getAfterSettingsCategories ( ) ; 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java 
 index 68ec210 . . 9741d06 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / BaseActorSDKDelegate . java 
 @ @ - 61 , 6 + 61 , 11 @ @ public class BaseActorSDKDelegate implements ActorSDKDelegate { 
 return null ; 
 } 
 
 + @ Override 
 + public ActorIntent getSettingsIntent ( ) { 
 + return null ; 
 + } 
 + 
 / / 
 / / Hacking settings activity 
 / / 
 diff - - git a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / ApiModule . java b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / ApiModule . java 
 index bbb081d . . 2518330 100644 
 - - - a / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / ApiModule . java 
 + + + b / actor - sdk / sdk - core / core / core - shared / src / main / java / im / actor / core / modules / ApiModule . java 
 @ @ - 113 , 7 + 113 , 9 @ @ public class ApiModule extends AbsModule implements BusSubscriber { 
 
 @ Override 
 public void onUpdateReceived ( Object obj ) { 
 - context ( ) . getUpdatesModule ( ) . onUpdateReceived ( obj ) ; 
 + if ( context ( ) . getUpdatesModule ( ) ! = null ) { 
 + context ( ) . getUpdatesModule ( ) . onUpdateReceived ( obj ) ; 
 + } 
 } 
 
 @ Override
