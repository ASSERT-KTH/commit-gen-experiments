BLEU SCORE: 0.14216645907653844

TEST MSG: fix ( android ) : Fixing up buttons , show avatars in groups and not in private chats
GENERATED MSG: feat ( android ) : Updated default wallpaper , updated service messages style

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > index b047413 . . ff9f8be 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > + + + b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > @ @ - 46 , 7 + 46 , 7 @ @ public class Application extends ActorSDKApplication { < nl > ActorSDK . sharedActor ( ) . setPrivacyText ( " bla bla bla " ) ; < nl > < nl > ActorSDK . sharedActor ( ) . setVideoCallsEnabled ( true ) ; < nl > - ActorSDK . sharedActor ( ) . style . setShowAvatarInTitle ( false ) ; < nl > + ActorSDK . sharedActor ( ) . style . setShowAvatarPrivateInTitle ( false ) ; < nl > < nl > / / ActorSDK . sharedActor ( ) . setTwitter ( " " ) ; < nl > / / ActorSDK . sharedActor ( ) . setHomePage ( " http : / / www . foo . com " ) ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java < nl > index 7aa0541 . . c78a015 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java < nl > @ @ - 929 , 6 + 929 , 7 @ @ public class ActorStyle { < nl > } < nl > < nl > private boolean showAvatarInTitle = true ; < nl > + private boolean showAvatarPrivateInTitle = true ; < nl > < nl > public boolean isShowAvatarInTitle ( ) { < nl > return showAvatarInTitle ; < nl > @ @ - 937 , 4 + 938 , 12 @ @ public class ActorStyle { < nl > public void setShowAvatarInTitle ( boolean showAvatarInTitle ) { < nl > this . showAvatarInTitle = showAvatarInTitle ; < nl > } < nl > + < nl > + public boolean isShowAvatarPrivateInTitle ( ) { < nl > + return showAvatarPrivateInTitle ; < nl > + } < nl > + < nl > + public void setShowAvatarPrivateInTitle ( boolean showAvatarPrivateInTitle ) { < nl > + this . showAvatarPrivateInTitle = showAvatarPrivateInTitle ; < nl > + } < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / compose / ComposeActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / compose / ComposeActivity . java < nl > index e5a4173 . . fee494e 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / compose / ComposeActivity . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / compose / ComposeActivity . java < nl > @ @ - 1 , 9 + 1 , 7 @ @ < nl > package im . actor . sdk . controllers . compose ; < nl > < nl > import android . os . Bundle ; < nl > - import android . support . v7 . app . ActionBar ; < nl > < nl > - import im . actor . sdk . R ; < nl > import im . actor . sdk . controllers . activity . BaseFragmentActivity ; < nl > < nl > public class ComposeActivity extends BaseFragmentActivity { < nl > @ @ - 12 , 11 + 10 , 6 @ @ public class ComposeActivity extends BaseFragmentActivity { < nl > protected void onCreate ( Bundle savedInstanceState ) { < nl > super . onCreate ( savedInstanceState ) ; < nl > < nl > - ActionBar actionBar = getSupportActionBar ( ) ; < nl > - if ( actionBar ! = null ) { < nl > - actionBar . setTitle ( R . string . compose _ title ) ; < nl > - } < nl > - < nl > if ( savedInstanceState = = null ) { < nl > showFragment ( new ComposeFragment ( ) , false , false ) ; < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / compose / ComposeFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / compose / ComposeFragment . java < nl > index 4782835 . . c116e82 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / compose / ComposeFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / compose / ComposeFragment . java < nl > @ @ - 12 , 6 + 12 , 9 @ @ public class ComposeFragment extends BaseContactFragment { < nl > < nl > public ComposeFragment ( ) { < nl > super ( true , true , false ) ; < nl > + setRootFragment ( true ) ; < nl > + setTitle ( R . string . compose _ title ) ; < nl > + setHomeAsUp ( true ) ; < nl > } < nl > < nl > @ Override < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / contacts / ContactsFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / contacts / ContactsFragment . java < nl > index 2805f84 . . 06c71f3 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / contacts / ContactsFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / contacts / ContactsFragment . java < nl > @ @ - 21 , 6 + 21 , 7 @ @ public class ContactsFragment extends BaseContactFragment { < nl > public ContactsFragment ( ) { < nl > super ( false , false , false ) ; < nl > setRootFragment ( true ) ; < nl > + setHomeAsUp ( true ) ; < nl > setTitle ( R . string . contacts _ title ) ; < nl > } < nl > < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > index d3be477 . . 8e39e1a 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > @ @ - 665 , 7 + 665 , 7 @ @ public class ChatActivity extends ActorEditTextActivity { < nl > barTypingContainer . setVisibility ( View . INVISIBLE ) ; < nl > barAvatar = ( AvatarView ) barView . findViewById ( R . id . avatarPreview ) ; < nl > barAvatar . init ( Screen . dp ( 32 ) , 18 ) ; < nl > - if ( ! style . isShowAvatarInTitle ( ) ) { < nl > + if ( ! style . isShowAvatarInTitle ( ) | | ( peer . getPeerType ( ) = = PeerType . PRIVATE & & ! style . isShowAvatarPrivateInTitle ( ) ) ) { < nl > barAvatar . setVisibility ( View . GONE ) ; < nl > } < nl > barView . findViewById ( R . id . titleContainer ) . setOnClickListener ( new View . OnClickListener ( ) { < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java < nl > index 5b4ed79 . . 327aac1 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java < nl > @ @ - 90 , 7 + 90 , 9 @ @ public abstract class MessageHolder extends BindedViewHolder < nl > } else { < nl > boolean isGroupBot = getPeer ( ) . getPeerType ( ) . equals ( PeerType . GROUP ) & & users ( ) . get ( message . getSenderId ( ) ) . getName ( ) . get ( ) . equals ( " Bot " ) ; < nl > container . makeInboundBubble ( < nl > - getPeer ( ) . getPeerType ( ) = = PeerType . GROUP | | ! ActorSDK . sharedActor ( ) . style . isShowAvatarInTitle ( ) , < nl > + getPeer ( ) . getPeerType ( ) = = PeerType . GROUP < nl > + | | ! ActorSDK . sharedActor ( ) . style . isShowAvatarInTitle ( ) < nl > + | | ( ! ActorSDK . sharedActor ( ) . style . isShowAvatarPrivateInTitle ( ) & & getPeer ( ) . getPeerType ( ) = = PeerType . PRIVATE ) , < nl > message . getSenderId ( ) , isGroupBot ? getPeer ( ) . getPeerId ( ) : 0 ) ; < nl > } < nl > }
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > index 83b9609 . . b047413 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > + + + b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java < nl > @ @ - 46 , 6 + 46 , 7 @ @ public class Application extends ActorSDKApplication { < nl > ActorSDK . sharedActor ( ) . setPrivacyText ( " bla bla bla " ) ; < nl > < nl > ActorSDK . sharedActor ( ) . setVideoCallsEnabled ( true ) ; < nl > + ActorSDK . sharedActor ( ) . style . setShowAvatarInTitle ( false ) ; < nl > < nl > / / ActorSDK . sharedActor ( ) . setTwitter ( " " ) ; < nl > / / ActorSDK . sharedActor ( ) . setHomePage ( " http : / / www . foo . com " ) ; < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java < nl > index 0f6dce0 . . 7aa0541 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java < nl > @ @ - 14 , 7 + 14 , 7 @ @ public class ActorStyle { < nl > / / BACKGROUNDS / / < nl > / / / / / / / / / / / / / / / / / / / / / / / / / / < nl > < nl > - private int [ ] defaultBackgrouds = new int [ ] { R . drawable . img _ chat _ background _ default , R . drawable . bg _ 1 , R . drawable . bg _ 2 , R . drawable . bg _ 3 } ; < nl > + private int [ ] defaultBackgrouds = new int [ ] { R . drawable . bg _ default _ pattern , R . drawable . bg _ 1 , R . drawable . bg _ 2 , R . drawable . bg _ 3 } ; < nl > < nl > public int [ ] getDefaultBackgrouds ( ) { < nl > return defaultBackgrouds ; < nl > @ @ - 928 , 4 + 928 , 13 @ @ public class ActorStyle { < nl > this . contactsMainPaddingTop = contactsMainPaddingTop ; < nl > } < nl > < nl > + private boolean showAvatarInTitle = true ; < nl > + < nl > + public boolean isShowAvatarInTitle ( ) { < nl > + return showAvatarInTitle ; < nl > + } < nl > + < nl > + public void setShowAvatarInTitle ( boolean showAvatarInTitle ) { < nl > + this . showAvatarInTitle = showAvatarInTitle ; < nl > + } < nl > } < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > index 95d9117 . . d3be477 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java < nl > @ @ - 665 , 6 + 665 , 9 @ @ public class ChatActivity extends ActorEditTextActivity { < nl > barTypingContainer . setVisibility ( View . INVISIBLE ) ; < nl > barAvatar = ( AvatarView ) barView . findViewById ( R . id . avatarPreview ) ; < nl > barAvatar . init ( Screen . dp ( 32 ) , 18 ) ; < nl > + if ( ! style . isShowAvatarInTitle ( ) ) { < nl > + barAvatar . setVisibility ( View . GONE ) ; < nl > + } < nl > barView . findViewById ( R . id . titleContainer ) . setOnClickListener ( new View . OnClickListener ( ) { < nl > @ Override < nl > public void onClick ( View v ) { < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / MessagesFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / MessagesFragment . java < nl > index 9ccf79b . . fdce3fc 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / MessagesFragment . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / MessagesFragment . java < nl > @ @ - 121 , 7 + 121 , 7 @ @ public class MessagesFragment extends DisplayListFragment < Message , MessageHolder < nl > } < nl > Drawable background ; < nl > < nl > - int [ ] backgrounds = ActorSDK . sharedActor ( ) . style . getDefaultBackgrouds ( ) ; < nl > + int [ ] backgrounds = ActorSDK . sharedActor ( ) . style . getDefaultBackgrouds ( ) ; < nl > String selectedWallpaper = messenger ( ) . getSelectedWallpaper ( ) ; < nl > < nl > if ( selectedWallpaper ! = null ) { < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java < nl > index ff96358 . . 5b4ed79 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java < nl > @ @ - 89 , 7 + 89 , 9 @ @ public abstract class MessageHolder extends BindedViewHolder < nl > container . makeOutboundBubble ( ) ; < nl > } else { < nl > boolean isGroupBot = getPeer ( ) . getPeerType ( ) . equals ( PeerType . GROUP ) & & users ( ) . get ( message . getSenderId ( ) ) . getName ( ) . get ( ) . equals ( " Bot " ) ; < nl > - container . makeInboundBubble ( getPeer ( ) . getPeerType ( ) = = PeerType . GROUP , message . getSenderId ( ) , isGroupBot ? getPeer ( ) . getPeerId ( ) : 0 ) ; < nl > + container . makeInboundBubble ( < nl > + getPeer ( ) . getPeerType ( ) = = PeerType . GROUP | | ! ActorSDK . sharedActor ( ) . style . isShowAvatarInTitle ( ) , < nl > + message . getSenderId ( ) , isGroupBot ? getPeer ( ) . getPeerId ( ) : 0 ) ; < nl > } < nl > } < nl > < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xhdpi / bg _ default _ pattern . png b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xhdpi / bg _ default _ pattern . png < nl > new file mode 100644 < nl > index 0000000 . . 9afda79 < nl > Binary files / dev / null and b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xhdpi / bg _ default _ pattern . png differ < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable / conv _ bubble _ date _ bg . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable / conv _ bubble _ date _ bg . xml < nl > index 03ad2f4 . . 541fa9f 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable / conv _ bubble _ date _ bg . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable / conv _ bubble _ date _ bg . xml < nl > @ @ - 1 , 14 + 1 , 13 @ @ < nl > - < ? xml version = " 1 . 0 " encoding = " utf - 8 " ? > < nl > - < ! - - < nl > + < ? xml version = " 1 . 0 " encoding = " utf - 8 " ? > < ! - - < nl > ~ Copyright ( C ) 2015 Actor LLC . < https : / / actor . im > < nl > - - > < nl > < nl > < shape xmlns : android = " http : / / schemas . android . com / apk / res / android " < nl > android : shape = " rectangle " > < nl > - < corners android : radius = " 2dp " / > < nl > + < corners android : radius = " 12dp " / > < nl > < solid android : color = " @ color / conv _ date _ bg " / > < nl > < padding < nl > - android : bottom = " 6dp " < nl > + android : bottom = " 6dp " < nl > android : left = " 8dp " < nl > android : right = " 8dp " < nl > android : top = " 6dp " / > < nl > diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / colors . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / colors . xml < nl > index e989a8a . . 0a52296 100644 < nl > - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / colors . xml < nl > + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / colors . xml < nl > @ @ - 107 , 7 + 107 , 7 @ @ < nl > < nl > < ! - - < color name = " conv _ date _ line " > # 14000000 < / color > - - > < nl > < ! - - < color name = " conv _ date _ text " > # ffffff < / color > - - > < nl > - < color name = " conv _ date _ bg " > # 99000000 < / color > < nl > + < color name = " conv _ date _ bg " > # 64000000 < / color > < nl > < nl > < ! - - < color name = " conv _ text " > @ color / text _ primary < / color > - - > < nl > < ! - - < color name = " conv _ time " > # 60000000 < / color > - - >

TEST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 index b047413 . . ff9f8be 100644 
 - - - a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 + + + b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 @ @ - 46 , 7 + 46 , 7 @ @ public class Application extends ActorSDKApplication { 
 ActorSDK . sharedActor ( ) . setPrivacyText ( " bla bla bla " ) ; 
 
 ActorSDK . sharedActor ( ) . setVideoCallsEnabled ( true ) ; 
 - ActorSDK . sharedActor ( ) . style . setShowAvatarInTitle ( false ) ; 
 + ActorSDK . sharedActor ( ) . style . setShowAvatarPrivateInTitle ( false ) ; 
 
 / / ActorSDK . sharedActor ( ) . setTwitter ( " " ) ; 
 / / ActorSDK . sharedActor ( ) . setHomePage ( " http : / / www . foo . com " ) ; 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java 
 index 7aa0541 . . c78a015 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java 
 @ @ - 929 , 6 + 929 , 7 @ @ public class ActorStyle { 
 } 
 
 private boolean showAvatarInTitle = true ; 
 + private boolean showAvatarPrivateInTitle = true ; 
 
 public boolean isShowAvatarInTitle ( ) { 
 return showAvatarInTitle ; 
 @ @ - 937 , 4 + 938 , 12 @ @ public class ActorStyle { 
 public void setShowAvatarInTitle ( boolean showAvatarInTitle ) { 
 this . showAvatarInTitle = showAvatarInTitle ; 
 } 
 + 
 + public boolean isShowAvatarPrivateInTitle ( ) { 
 + return showAvatarPrivateInTitle ; 
 + } 
 + 
 + public void setShowAvatarPrivateInTitle ( boolean showAvatarPrivateInTitle ) { 
 + this . showAvatarPrivateInTitle = showAvatarPrivateInTitle ; 
 + } 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / compose / ComposeActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / compose / ComposeActivity . java 
 index e5a4173 . . fee494e 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / compose / ComposeActivity . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / compose / ComposeActivity . java 
 @ @ - 1 , 9 + 1 , 7 @ @ 
 package im . actor . sdk . controllers . compose ; 
 
 import android . os . Bundle ; 
 - import android . support . v7 . app . ActionBar ; 
 
 - import im . actor . sdk . R ; 
 import im . actor . sdk . controllers . activity . BaseFragmentActivity ; 
 
 public class ComposeActivity extends BaseFragmentActivity { 
 @ @ - 12 , 11 + 10 , 6 @ @ public class ComposeActivity extends BaseFragmentActivity { 
 protected void onCreate ( Bundle savedInstanceState ) { 
 super . onCreate ( savedInstanceState ) ; 
 
 - ActionBar actionBar = getSupportActionBar ( ) ; 
 - if ( actionBar ! = null ) { 
 - actionBar . setTitle ( R . string . compose _ title ) ; 
 - } 
 - 
 if ( savedInstanceState = = null ) { 
 showFragment ( new ComposeFragment ( ) , false , false ) ; 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / compose / ComposeFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / compose / ComposeFragment . java 
 index 4782835 . . c116e82 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / compose / ComposeFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / compose / ComposeFragment . java 
 @ @ - 12 , 6 + 12 , 9 @ @ public class ComposeFragment extends BaseContactFragment { 
 
 public ComposeFragment ( ) { 
 super ( true , true , false ) ; 
 + setRootFragment ( true ) ; 
 + setTitle ( R . string . compose _ title ) ; 
 + setHomeAsUp ( true ) ; 
 } 
 
 @ Override 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / contacts / ContactsFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / contacts / ContactsFragment . java 
 index 2805f84 . . 06c71f3 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / contacts / ContactsFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / contacts / ContactsFragment . java 
 @ @ - 21 , 6 + 21 , 7 @ @ public class ContactsFragment extends BaseContactFragment { 
 public ContactsFragment ( ) { 
 super ( false , false , false ) ; 
 setRootFragment ( true ) ; 
 + setHomeAsUp ( true ) ; 
 setTitle ( R . string . contacts _ title ) ; 
 } 
 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 index d3be477 . . 8e39e1a 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 @ @ - 665 , 7 + 665 , 7 @ @ public class ChatActivity extends ActorEditTextActivity { 
 barTypingContainer . setVisibility ( View . INVISIBLE ) ; 
 barAvatar = ( AvatarView ) barView . findViewById ( R . id . avatarPreview ) ; 
 barAvatar . init ( Screen . dp ( 32 ) , 18 ) ; 
 - if ( ! style . isShowAvatarInTitle ( ) ) { 
 + if ( ! style . isShowAvatarInTitle ( ) | | ( peer . getPeerType ( ) = = PeerType . PRIVATE & & ! style . isShowAvatarPrivateInTitle ( ) ) ) { 
 barAvatar . setVisibility ( View . GONE ) ; 
 } 
 barView . findViewById ( R . id . titleContainer ) . setOnClickListener ( new View . OnClickListener ( ) { 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java 
 index 5b4ed79 . . 327aac1 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java 
 @ @ - 90 , 7 + 90 , 9 @ @ public abstract class MessageHolder extends BindedViewHolder 
 } else { 
 boolean isGroupBot = getPeer ( ) . getPeerType ( ) . equals ( PeerType . GROUP ) & & users ( ) . get ( message . getSenderId ( ) ) . getName ( ) . get ( ) . equals ( " Bot " ) ; 
 container . makeInboundBubble ( 
 - getPeer ( ) . getPeerType ( ) = = PeerType . GROUP | | ! ActorSDK . sharedActor ( ) . style . isShowAvatarInTitle ( ) , 
 + getPeer ( ) . getPeerType ( ) = = PeerType . GROUP 
 + | | ! ActorSDK . sharedActor ( ) . style . isShowAvatarInTitle ( ) 
 + | | ( ! ActorSDK . sharedActor ( ) . style . isShowAvatarPrivateInTitle ( ) & & getPeer ( ) . getPeerType ( ) = = PeerType . PRIVATE ) , 
 message . getSenderId ( ) , isGroupBot ? getPeer ( ) . getPeerId ( ) : 0 ) ; 
 } 
 }

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 index 83b9609 . . b047413 100644 
 - - - a / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 + + + b / actor - sdk / sdk - core - android / android - app / src / main / java / im / actor / Application . java 
 @ @ - 46 , 6 + 46 , 7 @ @ public class Application extends ActorSDKApplication { 
 ActorSDK . sharedActor ( ) . setPrivacyText ( " bla bla bla " ) ; 
 
 ActorSDK . sharedActor ( ) . setVideoCallsEnabled ( true ) ; 
 + ActorSDK . sharedActor ( ) . style . setShowAvatarInTitle ( false ) ; 
 
 / / ActorSDK . sharedActor ( ) . setTwitter ( " " ) ; 
 / / ActorSDK . sharedActor ( ) . setHomePage ( " http : / / www . foo . com " ) ; 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java 
 index 0f6dce0 . . 7aa0541 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / ActorStyle . java 
 @ @ - 14 , 7 + 14 , 7 @ @ public class ActorStyle { 
 / / BACKGROUNDS / / 
 / / / / / / / / / / / / / / / / / / / / / / / / / / 
 
 - private int [ ] defaultBackgrouds = new int [ ] { R . drawable . img _ chat _ background _ default , R . drawable . bg _ 1 , R . drawable . bg _ 2 , R . drawable . bg _ 3 } ; 
 + private int [ ] defaultBackgrouds = new int [ ] { R . drawable . bg _ default _ pattern , R . drawable . bg _ 1 , R . drawable . bg _ 2 , R . drawable . bg _ 3 } ; 
 
 public int [ ] getDefaultBackgrouds ( ) { 
 return defaultBackgrouds ; 
 @ @ - 928 , 4 + 928 , 13 @ @ public class ActorStyle { 
 this . contactsMainPaddingTop = contactsMainPaddingTop ; 
 } 
 
 + private boolean showAvatarInTitle = true ; 
 + 
 + public boolean isShowAvatarInTitle ( ) { 
 + return showAvatarInTitle ; 
 + } 
 + 
 + public void setShowAvatarInTitle ( boolean showAvatarInTitle ) { 
 + this . showAvatarInTitle = showAvatarInTitle ; 
 + } 
 } 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 index 95d9117 . . d3be477 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / ChatActivity . java 
 @ @ - 665 , 6 + 665 , 9 @ @ public class ChatActivity extends ActorEditTextActivity { 
 barTypingContainer . setVisibility ( View . INVISIBLE ) ; 
 barAvatar = ( AvatarView ) barView . findViewById ( R . id . avatarPreview ) ; 
 barAvatar . init ( Screen . dp ( 32 ) , 18 ) ; 
 + if ( ! style . isShowAvatarInTitle ( ) ) { 
 + barAvatar . setVisibility ( View . GONE ) ; 
 + } 
 barView . findViewById ( R . id . titleContainer ) . setOnClickListener ( new View . OnClickListener ( ) { 
 @ Override 
 public void onClick ( View v ) { 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / MessagesFragment . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / MessagesFragment . java 
 index 9ccf79b . . fdce3fc 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / MessagesFragment . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / MessagesFragment . java 
 @ @ - 121 , 7 + 121 , 7 @ @ public class MessagesFragment extends DisplayListFragment < Message , MessageHolder 
 } 
 Drawable background ; 
 
 - int [ ] backgrounds = ActorSDK . sharedActor ( ) . style . getDefaultBackgrouds ( ) ; 
 + int [ ] backgrounds = ActorSDK . sharedActor ( ) . style . getDefaultBackgrouds ( ) ; 
 String selectedWallpaper = messenger ( ) . getSelectedWallpaper ( ) ; 
 
 if ( selectedWallpaper ! = null ) { 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java 
 index ff96358 . . 5b4ed79 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / java / im / actor / sdk / controllers / conversation / messages / MessageHolder . java 
 @ @ - 89 , 7 + 89 , 9 @ @ public abstract class MessageHolder extends BindedViewHolder 
 container . makeOutboundBubble ( ) ; 
 } else { 
 boolean isGroupBot = getPeer ( ) . getPeerType ( ) . equals ( PeerType . GROUP ) & & users ( ) . get ( message . getSenderId ( ) ) . getName ( ) . get ( ) . equals ( " Bot " ) ; 
 - container . makeInboundBubble ( getPeer ( ) . getPeerType ( ) = = PeerType . GROUP , message . getSenderId ( ) , isGroupBot ? getPeer ( ) . getPeerId ( ) : 0 ) ; 
 + container . makeInboundBubble ( 
 + getPeer ( ) . getPeerType ( ) = = PeerType . GROUP | | ! ActorSDK . sharedActor ( ) . style . isShowAvatarInTitle ( ) , 
 + message . getSenderId ( ) , isGroupBot ? getPeer ( ) . getPeerId ( ) : 0 ) ; 
 } 
 } 
 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xhdpi / bg _ default _ pattern . png b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xhdpi / bg _ default _ pattern . png 
 new file mode 100644 
 index 0000000 . . 9afda79 
 Binary files / dev / null and b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable - xhdpi / bg _ default _ pattern . png differ 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable / conv _ bubble _ date _ bg . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable / conv _ bubble _ date _ bg . xml 
 index 03ad2f4 . . 541fa9f 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable / conv _ bubble _ date _ bg . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / drawable / conv _ bubble _ date _ bg . xml 
 @ @ - 1 , 14 + 1 , 13 @ @ 
 - < ? xml version = " 1 . 0 " encoding = " utf - 8 " ? > 
 - < ! - - 
 + < ? xml version = " 1 . 0 " encoding = " utf - 8 " ? > < ! - - 
 ~ Copyright ( C ) 2015 Actor LLC . < https : / / actor . im > 
 - - > 
 
 < shape xmlns : android = " http : / / schemas . android . com / apk / res / android " 
 android : shape = " rectangle " > 
 - < corners android : radius = " 2dp " / > 
 + < corners android : radius = " 12dp " / > 
 < solid android : color = " @ color / conv _ date _ bg " / > 
 < padding 
 - android : bottom = " 6dp " 
 + android : bottom = " 6dp " 
 android : left = " 8dp " 
 android : right = " 8dp " 
 android : top = " 6dp " / > 
 diff - - git a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / colors . xml b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / colors . xml 
 index e989a8a . . 0a52296 100644 
 - - - a / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / colors . xml 
 + + + b / actor - sdk / sdk - core - android / android - sdk / src / main / res / values / colors . xml 
 @ @ - 107 , 7 + 107 , 7 @ @ 
 
 < ! - - < color name = " conv _ date _ line " > # 14000000 < / color > - - > 
 < ! - - < color name = " conv _ date _ text " > # ffffff < / color > - - > 
 - < color name = " conv _ date _ bg " > # 99000000 < / color > 
 + < color name = " conv _ date _ bg " > # 64000000 < / color > 
 
 < ! - - < color name = " conv _ text " > @ color / text _ primary < / color > - - > 
 < ! - - < color name = " conv _ time " > # 60000000 < / color > - - >
