BLEU SCORE: 0.2626909894424158

TEST MSG: fix ( js ) : Fixing code generation of js
GENERATED MSG: feat ( js ) : add doCall promise

TEST DIFF (one line): diff - - git a / actor - sdk / sdk - core / core / core - js / src / main / java / im / actor / core / js / JsFacade . java b / actor - sdk / sdk - core / core / core - js / src / main / java / im / actor / core / js / JsFacade . java < nl > index be291aa . . 22de262 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - js / src / main / java / im / actor / core / js / JsFacade . java < nl > + + + b / actor - sdk / sdk - core / core / core - js / src / main / java / im / actor / core / js / JsFacade . java < nl > @ @ - 14 , 7 + 14 , 6 @ @ import com . google . gwt . user . client . Event ; < nl > import im . actor . core . * ; < nl > import im . actor . core . api . ApiAuthSession ; < nl > import im . actor . core . api . ApiDialog ; < nl > - import im . actor . core . api . rpc . ResponseDoCall ; < nl > import im . actor . core . api . rpc . ResponseLoadArchived ; < nl > import im . actor . core . entity . MentionFilterResult ; < nl > import im . actor . core . entity . MessageSearchEntity ; < nl > @ @ - 45 , 7 + 44 , 6 @ @ import im . actor . runtime . js . mvvm . JsDisplayListCallback ; < nl > import im . actor . runtime . js . utils . JsPromise ; < nl > import im . actor . runtime . js . utils . JsPromiseExecutor ; < nl > import im . actor . runtime . markdown . MarkdownParser ; < nl > - import im . actor . runtime . webrtc . WebRTCIceServer ; < nl > < nl > import org . timepedia . exporter . client . Export ; < nl > import org . timepedia . exporter . client . ExportPackage ; < nl > @ @ - 69 , 7 + 67 , 11 @ @ public class JsFacade implements Exportable { < nl > private Peer lastVisiblePeer ; < nl > < nl > @ Export < nl > - public JsFacade ( JsConfig config ) { < nl > + public JsFacade ( ) { < nl > + < nl > + } < nl > + < nl > + public void init ( JsConfig config ) { < nl > < nl > provider = ( JsFileSystemProvider ) Storage . getFileSystemRuntime ( ) ;
NEAREST DIFF (one line): diff - - git a / actor - sdk / sdk - core / core / core - js / src / main / java / im / actor / core / js / JsFacade . java b / actor - sdk / sdk - core / core / core - js / src / main / java / im / actor / core / js / JsFacade . java < nl > index 175e89f . . f80c208 100644 < nl > - - - a / actor - sdk / sdk - core / core / core - js / src / main / java / im / actor / core / js / JsFacade . java < nl > + + + b / actor - sdk / sdk - core / core / core - js / src / main / java / im / actor / core / js / JsFacade . java < nl > @ @ - 13 , 6 + 13 , 7 @ @ import com . google . gwt . user . client . Event ; < nl > < nl > import im . actor . core . * ; < nl > import im . actor . core . api . ApiAuthSession ; < nl > + import im . actor . core . api . rpc . ResponseDoCall ; < nl > import im . actor . core . entity . MentionFilterResult ; < nl > import im . actor . core . entity . MessageSearchEntity ; < nl > import im . actor . core . entity . Peer ; < nl > @ @ - 625 , 6 + 626 , 27 @ @ public class JsFacade implements Exportable { < nl > < nl > / / Calls < nl > < nl > + public JsPromise doCAll ( final int uid ) { < nl > + return JsPromise . create ( new JsPromiseExecutor ( ) { < nl > + @ Override < nl > + public void execute ( ) { < nl > + messenger . doCall ( uid ) . start ( new CommandCallback < ResponseDoCall > ( ) { < nl > + @ Override < nl > + public void onResult ( ResponseDoCall res ) { < nl > + Log . d ( TAG , " doCall : result " ) ; < nl > + resolve ( ) ; < nl > + } < nl > + < nl > + @ Override < nl > + public void onError ( Exception e ) { < nl > + Log . d ( TAG , " doCall : error " ) ; < nl > + reject ( e . getMessage ( ) ) ; < nl > + } < nl > + } ) ; < nl > + } < nl > + } ) ; < nl > + } < nl > + < nl > public void bindCall ( String id , JsBindedValueCallback callback ) { < nl > if ( callback = = null ) { < nl > return ;

TEST DIFF:
diff - - git a / actor - sdk / sdk - core / core / core - js / src / main / java / im / actor / core / js / JsFacade . java b / actor - sdk / sdk - core / core / core - js / src / main / java / im / actor / core / js / JsFacade . java 
 index be291aa . . 22de262 100644 
 - - - a / actor - sdk / sdk - core / core / core - js / src / main / java / im / actor / core / js / JsFacade . java 
 + + + b / actor - sdk / sdk - core / core / core - js / src / main / java / im / actor / core / js / JsFacade . java 
 @ @ - 14 , 7 + 14 , 6 @ @ import com . google . gwt . user . client . Event ; 
 import im . actor . core . * ; 
 import im . actor . core . api . ApiAuthSession ; 
 import im . actor . core . api . ApiDialog ; 
 - import im . actor . core . api . rpc . ResponseDoCall ; 
 import im . actor . core . api . rpc . ResponseLoadArchived ; 
 import im . actor . core . entity . MentionFilterResult ; 
 import im . actor . core . entity . MessageSearchEntity ; 
 @ @ - 45 , 7 + 44 , 6 @ @ import im . actor . runtime . js . mvvm . JsDisplayListCallback ; 
 import im . actor . runtime . js . utils . JsPromise ; 
 import im . actor . runtime . js . utils . JsPromiseExecutor ; 
 import im . actor . runtime . markdown . MarkdownParser ; 
 - import im . actor . runtime . webrtc . WebRTCIceServer ; 
 
 import org . timepedia . exporter . client . Export ; 
 import org . timepedia . exporter . client . ExportPackage ; 
 @ @ - 69 , 7 + 67 , 11 @ @ public class JsFacade implements Exportable { 
 private Peer lastVisiblePeer ; 
 
 @ Export 
 - public JsFacade ( JsConfig config ) { 
 + public JsFacade ( ) { 
 + 
 + } 
 + 
 + public void init ( JsConfig config ) { 
 
 provider = ( JsFileSystemProvider ) Storage . getFileSystemRuntime ( ) ;

NEAREST DIFF:
diff - - git a / actor - sdk / sdk - core / core / core - js / src / main / java / im / actor / core / js / JsFacade . java b / actor - sdk / sdk - core / core / core - js / src / main / java / im / actor / core / js / JsFacade . java 
 index 175e89f . . f80c208 100644 
 - - - a / actor - sdk / sdk - core / core / core - js / src / main / java / im / actor / core / js / JsFacade . java 
 + + + b / actor - sdk / sdk - core / core / core - js / src / main / java / im / actor / core / js / JsFacade . java 
 @ @ - 13 , 6 + 13 , 7 @ @ import com . google . gwt . user . client . Event ; 
 
 import im . actor . core . * ; 
 import im . actor . core . api . ApiAuthSession ; 
 + import im . actor . core . api . rpc . ResponseDoCall ; 
 import im . actor . core . entity . MentionFilterResult ; 
 import im . actor . core . entity . MessageSearchEntity ; 
 import im . actor . core . entity . Peer ; 
 @ @ - 625 , 6 + 626 , 27 @ @ public class JsFacade implements Exportable { 
 
 / / Calls 
 
 + public JsPromise doCAll ( final int uid ) { 
 + return JsPromise . create ( new JsPromiseExecutor ( ) { 
 + @ Override 
 + public void execute ( ) { 
 + messenger . doCall ( uid ) . start ( new CommandCallback < ResponseDoCall > ( ) { 
 + @ Override 
 + public void onResult ( ResponseDoCall res ) { 
 + Log . d ( TAG , " doCall : result " ) ; 
 + resolve ( ) ; 
 + } 
 + 
 + @ Override 
 + public void onError ( Exception e ) { 
 + Log . d ( TAG , " doCall : error " ) ; 
 + reject ( e . getMessage ( ) ) ; 
 + } 
 + } ) ; 
 + } 
 + } ) ; 
 + } 
 + 
 public void bindCall ( String id , JsBindedValueCallback callback ) { 
 if ( callback = = null ) { 
 return ;
