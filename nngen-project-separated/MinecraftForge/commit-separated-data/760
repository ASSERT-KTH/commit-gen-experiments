BLEU SCORE: 0.02286956778061902

TEST MSG: New Builder class in BlockStateContainer . Makes building containers with both listed and unlisted properties cleaner .
GENERATED MSG: Implement PlayerPickupXpEvent , fired when a player aquires XP from a EntityXPOrb . Closes # 942

TEST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / block / state / BlockStateContainer . java . patch b / patches / minecraft / net / minecraft / block / state / BlockStateContainer . java . patch <nl> index 8b119b7 . . fa321ef 100644 <nl> - - - a / patches / minecraft / net / minecraft / block / state / BlockStateContainer . java . patch <nl> + + + b / patches / minecraft / net / minecraft / block / state / BlockStateContainer . java . patch <nl> @ @ - 49 , 7 + 49 , 7 @ @ <nl> public Collection < IProperty < ? > > func _ 177227 _ a ( ) <nl> { <nl> return Collections . < IProperty < ? > > unmodifiableCollection ( this . field _ 177237 _ b . keySet ( ) ) ; <nl> - @ @ - 414 , 5 + 431 , 34 @ @ <nl> + @ @ - 414 , 5 + 431 , 86 @ @ <nl> { <nl> return this . field _ 177239 _ a . func _ 185481 _ k ( this ) ; <nl> } <nl> @ @ - 83 , 4 + 83 , 56 @ @ <nl> + return this . field _ 177239 _ a . doesSideBlockRendering ( this , world , pos , side ) ; <nl> + } <nl> } <nl> + + <nl> + + / * * <nl> + + * Forge added class to make building things easier . <nl> + + * Will return an instance of BlockStateContainer appropriate for <nl> + + * the list of properties passed in . <nl> + + * <nl> + + * Example usage : <nl> + + * <nl> + + * protected BlockStateContainer createBlockState ( ) <nl> + + * { <nl> + + * return ( new BlockStateContainer . Builder ( this ) ) . add ( FACING ) . add ( SOME _ UNLISTED ) . build ( ) ; <nl> + + * } <nl> + + * <nl> + + * / <nl> + + public static class Builder <nl> + + { <nl> + + private final Block block ; <nl> + + private final List < IProperty < ? > > listed = Lists . newArrayList ( ) ; <nl> + + private final List < net . minecraftforge . common . property . IUnlistedProperty < ? > > unlisted = Lists . newArrayList ( ) ; <nl> + + <nl> + + public Builder ( Block block ) <nl> + + { <nl> + + this . block = block ; <nl> + + } <nl> + + <nl> + + public Builder add ( IProperty < ? > . . . props ) <nl> + + { <nl> + + for ( IProperty < ? > prop : props ) <nl> + + this . listed . add ( prop ) ; <nl> + + return this ; <nl> + + } <nl> + + <nl> + + public Builder add ( net . minecraftforge . common . property . IUnlistedProperty < ? > . . . props ) <nl> + + { <nl> + + for ( net . minecraftforge . common . property . IUnlistedProperty < ? > prop : props ) <nl> + + this . unlisted . add ( prop ) ; <nl> + + return this ; <nl> + + } <nl> + + <nl> + + public BlockStateContainer build ( ) <nl> + + { <nl> + + IProperty < ? > [ ] listed = new IProperty [ this . listed . size ( ) ] ; <nl> + + listed = this . listed . toArray ( listed ) ; <nl> + + if ( this . unlisted . size ( ) = = 0 ) <nl> + + return new BlockStateContainer ( this . block , listed ) ; <nl> + + <nl> + + net . minecraftforge . common . property . IUnlistedProperty < ? > [ ] unlisted = new net . minecraftforge . common . property . IUnlistedProperty [ this . unlisted . size ( ) ] ; <nl> + + unlisted = this . unlisted . toArray ( unlisted ) ; <nl> + + <nl> + + return new net . minecraftforge . common . property . ExtendedBlockState ( this . block , listed , unlisted ) ; <nl> + + } <nl> + + } <nl> } <nl> diff - - git a / src / main / resources / forge _ at . cfg b / src / main / resources / forge _ at . cfg <nl> index fced627 . . 316062b 100644 <nl> - - - a / src / main / resources / forge _ at . cfg <nl> + + + b / src / main / resources / forge _ at . cfg <nl> @ @ - 51 , 6 + 51 , 7 @ @ public net . minecraft . world . biome . BiomeGenPlains * ( ) <nl> public net . minecraft . world . biome . BiomeGenSavanna * ( ) <nl> public net . minecraft . world . biome . BiomeGenSnow * ( ) <nl> public net . minecraft . world . biome . BiomeGenTaiga * ( ) <nl> + public net . minecraft . world . biome . BiomeGenBase $ BiomeProperties * ( ) <nl> # Map Gen Biome Lists <nl> public + f net . minecraft . world . gen . structure . MapGenStronghold field _ 151546 _ e <nl> # MapGenVillage <nl> @ @ - 94 , 7 + 95 , 7 @ @ public net . minecraft . network . play . server . SPacketBlockChange field _ 148883 _ d # blo <nl> public - f net . minecraft . world . WorldType field _ 77139 _ a # worldTypes <nl> # DamageSource <nl> public net . minecraft . util . DamageSource * ( ) # All methods public , most are already <nl> - # EntityAITasks <nl> + # EntityAITasks <nl> public net . minecraft . entity . ai . EntityAITasks field _ 75782 _ a # taskEntries <nl> # EntityXPOrb <nl> public net . minecraft . entity . item . EntityXPOrb field _ 70530 _ e # xpValue <nl> @ @ - 102 , 7 + 103 , 7 @ @ public net . minecraft . entity . item . EntityXPOrb field _ 70530 _ e # xpValue <nl> public net . minecraft . world . gen . structure . StructureVillagePieces $ Village <nl> # RenderPlayer <nl> public net . minecraft . client . renderer . entity . RenderBiped field _ 77071 _ a # modelBipedMain <nl> - # ChunkProviderServer <nl> + # ChunkProviderServer <nl> public net . minecraft . world . gen . ChunkProviderServer field _ 186029 _ c # chunkGenerator <nl> public net . minecraft . world . gen . ChunkProviderServer field _ 73244 _ f # loadedChunkHashMap <nl> public net . minecraft . world . gen . ChunkProviderServer field _ 73245 _ g # loadedChunks <nl> @ @ - 159 , 7 + 160 , 7 @ @ public net . minecraft . client . renderer . VertexBuffer func _ 178972 _ a ( IIIII ) V # putCol <nl> # public net . minecraft . client . renderer . block . model . ModelBlock < init > ( Lnet / minecraft / util / ResourceLocation ; Ljava / util / List ; Ljava / util / Map ; ZZLnet / minecraft / client / renderer / block / model / ItemCameraTransforms ; ) V <nl> # RenderLivingEntity <nl> # public net . minecraft . client . renderer . entity . RenderLivingBase func _ 177094 _ a ( Lnet / minecraft / client / renderer / entity / layers / LayerRenderer ; ) Z # addLayer <nl> - <nl> + <nl> # S00PacketServerInfo <nl> public net . minecraft . network . status . server . SPacketServerInfo field _ 149297 _ a # GSON <nl> <nl> @ @ - 287 , 4 + 288 , 4 @ @ private - f net . minecraft . server . management . PlayerManager $ PlayerInstance field _ 187 <nl> <nl> # RenderLivingBase <nl> public net . minecraft . client . renderer . entity . RenderLivingBase func _ 177094 _ a ( Lnet / minecraft / client / renderer / entity / layers / LayerRenderer ; ) Z # addLayer <nl> - public net . minecraft . client . renderer . entity . RenderLivingBase func _ 177089 _ b ( Lnet / minecraft / client / renderer / entity / layers / LayerRenderer ; ) Z # removeLayer <nl> \ No newline at end of file <nl> + public net . minecraft . client . renderer . entity . RenderLivingBase func _ 177089 _ b ( Lnet / minecraft / client / renderer / entity / layers / LayerRenderer ; ) Z # removeLayer
NEAREST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / client / Minecraft . java . patch b / patches / minecraft / net / minecraft / client / Minecraft . java . patch <nl> index aba3139 . . b131501 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / Minecraft . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / Minecraft . java . patch <nl> @ @ - 72 , 7 + 72 , 7 @ @ <nl> if ( p _ 147108 _ 1 _ instanceof GuiMainMenu ) <nl> { <nl> this . gameSettings . showDebugInfo = false ; <nl> - @ @ - 1338 , 7 + 1352 , 7 @ @ <nl> + @ @ - 1337 , 7 + 1351 , 7 @ @ <nl> <nl> if ( this . thePlayer . isCurrentToolAdventureModeExempt ( i , j , k ) ) <nl> { <nl> @ @ - 81 , 7 + 81 , 7 @ @ <nl> this . thePlayer . swingItem ( ) ; <nl> } <nl> } <nl> - @ @ - 1419 , 11 + 1433 , 12 @ @ <nl> + @ @ - 1418 , 11 + 1432 , 12 @ @ <nl> int j = this . objectMouseOver . blockY ; <nl> int k = this . objectMouseOver . blockZ ; <nl> <nl> @ @ - 96 , 7 + 96 , 7 @ @ <nl> { <nl> flag = false ; <nl> this . thePlayer . swingItem ( ) ; <nl> - @ @ - 1450 , 7 + 1465 , 8 @ @ <nl> + @ @ - 1449 , 7 + 1464 , 8 @ @ <nl> { <nl> ItemStack itemstack1 = this . thePlayer . inventory . getCurrentItem ( ) ; <nl> <nl> @ @ - 106 , 7 + 106 , 7 @ @ <nl> { <nl> this . entityRenderer . itemRenderer . resetEquippedProgress2 ( ) ; <nl> } <nl> - @ @ - 1652 , 6 + 1668 , 8 @ @ <nl> + @ @ - 1651 , 6 + 1667 , 8 @ @ <nl> <nl> while ( Mouse . next ( ) ) <nl> { <nl> @ @ - 115 , 7 + 115 , 7 @ @ <nl> i = Mouse . getEventButton ( ) ; <nl> <nl> if ( isRunningOnMac & & i = = 0 & & ( Keyboard . isKeyDown ( 29 ) | | Keyboard . isKeyDown ( 157 ) ) ) <nl> - @ @ - 2122 , 6 + 2140 , 11 @ @ <nl> + @ @ - 2121 , 6 + 2139 , 11 @ @ <nl> / / JAVADOC METHOD $ $ func _ 71353 _ a <nl> public void loadWorld ( WorldClient par1WorldClient , String par2Str ) <nl> { <nl> @ @ - 127 , 7 + 127 , 7 @ @ <nl> if ( par1WorldClient = = null ) <nl> { <nl> NetHandlerPlayClient nethandlerplayclient = this . func _ 147114 _ u ( ) ; <nl> - @ @ - 2134 , 6 + 2157 , 18 @ @ <nl> + @ @ - 2133 , 6 + 2156 , 18 @ @ <nl> if ( this . theIntegratedServer ! = null ) <nl> { <nl> this . theIntegratedServer . initiateShutdown ( ) ; <nl> @ @ - 146 , 7 + 146 , 7 @ @ <nl> } <nl> <nl> this . theIntegratedServer = null ; <nl> - @ @ - 2289 , 113 + 2324 , 10 @ @ <nl> + @ @ - 2288 , 113 + 2323 , 10 @ @ <nl> if ( this . objectMouseOver ! = null ) <nl> { <nl> boolean flag = this . thePlayer . capabilities . isCreativeMode ; <nl> @ @ - 262 , 7 + 262 , 7 @ @ <nl> if ( flag ) <nl> { <nl> j = this . thePlayer . inventoryContainer . inventorySlots . size ( ) - 9 + this . thePlayer . inventory . currentItem ; <nl> - @ @ - 2565 , 9 + 2497 , 16 @ @ <nl> + @ @ - 2564 , 9 + 2496 , 16 @ @ <nl> par1PlayerUsageSnooper . addData ( " gl _ max _ texture _ size " , Integer . valueOf ( getGLMaximumTextureSize ( ) ) ) ; <nl> } <nl> <nl> @ @ - 279 , 7 + 279 , 7 @ @ <nl> for ( int i = 16384 ; i > 0 ; i > > = 1 ) <nl> { <nl> GL11 . glTexImage2D ( GL11 . GL _ PROXY _ TEXTURE _ 2D , 0 , GL11 . GL _ RGBA , i , i , 0 , GL11 . GL _ RGBA , GL11 . GL _ UNSIGNED _ BYTE , ( ByteBuffer ) null ) ; <nl> - @ @ - 2575 , 6 + 2514 , 7 @ @ <nl> + @ @ - 2574 , 6 + 2513 , 7 @ @ <nl> <nl> if ( j ! = 0 ) <nl> { <nl> diff - - git a / patches / minecraft / net / minecraft / entity / item / EntityXPOrb . java . patch b / patches / minecraft / net / minecraft / entity / item / EntityXPOrb . java . patch <nl> new file mode 100644 <nl> index 0000000 . . 07f1270 <nl> - - - / dev / null <nl> + + + b / patches / minecraft / net / minecraft / entity / item / EntityXPOrb . java . patch <nl> @ @ - 0 , 0 + 1 , 19 @ @ <nl> + - - - . . / src - base / minecraft / net / minecraft / entity / item / EntityXPOrb . java <nl> + + + + . . / src - work / minecraft / net / minecraft / entity / item / EntityXPOrb . java <nl> + @ @ - 9 , 6 + 9 , 8 @ @ <nl> + import net . minecraft . util . DamageSource ; <nl> + import net . minecraft . util . MathHelper ; <nl> + import net . minecraft . world . World ; <nl> + + import net . minecraftforge . common . MinecraftForge ; <nl> + + import net . minecraftforge . event . entity . player . PlayerPickupXpEvent ; <nl> + <nl> + public class EntityXPOrb extends Entity <nl> + { <nl> + @ @ - 218 , 6 + 220 , 7 @ @ <nl> + { <nl> + if ( this . field _ 70532 _ c = = 0 & & par1EntityPlayer . xpCooldown = = 0 ) <nl> + { <nl> + + if ( MinecraftForge . EVENT _ BUS . post ( new PlayerPickupXpEvent ( par1EntityPlayer , this ) ) ) return ; <nl> + par1EntityPlayer . xpCooldown = 2 ; <nl> + this . worldObj . playSoundAtEntity ( par1EntityPlayer , " random . orb " , 0 . 1F , 0 . 5F * ( ( this . rand . nextFloat ( ) - this . rand . nextFloat ( ) ) * 0 . 7F + 1 . 8F ) ) ; <nl> + par1EntityPlayer . onItemPickup ( this , 1 ) ; <nl> diff - - git a / src / main / java / net / minecraftforge / event / entity / player / PlayerPickupXpEvent . java b / src / main / java / net / minecraftforge / event / entity / player / PlayerPickupXpEvent . java <nl> new file mode 100644 <nl> index 0000000 . . 9b27a80 <nl> - - - / dev / null <nl> + + + b / src / main / java / net / minecraftforge / event / entity / player / PlayerPickupXpEvent . java <nl> @ @ - 0 , 0 + 1 , 21 @ @ <nl> + package net . minecraftforge . event . entity . player ; <nl> + <nl> + import cpw . mods . fml . common . eventhandler . Cancelable ; <nl> + import net . minecraft . entity . item . EntityXPOrb ; <nl> + import net . minecraft . entity . player . EntityPlayer ; <nl> + <nl> + / * * <nl> + * This event is called when a player collides with a EntityXPOrb on the ground . <nl> + * The event can be canceled , and no further processing will be done . <nl> + * / <nl> + @ Cancelable <nl> + public class PlayerPickupXpEvent extends PlayerEvent <nl> + { <nl> + public final EntityXPOrb orb ; <nl> + <nl> + public PlayerPickupXpEvent ( EntityPlayer player , EntityXPOrb orb ) <nl> + { <nl> + super ( player ) ; <nl> + this . orb = orb ; <nl> + } <nl> + } <nl> diff - - git a / src / main / resources / forge _ at . cfg b / src / main / resources / forge _ at . cfg <nl> index 988df1d . . 5a7f8cb 100644 <nl> - - - a / src / main / resources / forge _ at . cfg <nl> + + + b / src / main / resources / forge _ at . cfg <nl> @ @ - 169 , 4 + 169 , 6 @ @ public net . minecraft . util . DamageSource * ( ) # All methods public , most are already <nl> # ItemBlock <nl> public net . minecraft . item . ItemBlock field _ 150939 _ a # block <nl> # EntityAITasks <nl> - public net . minecraft . entity . ai . EntityAITasks field _ 75782 _ a # taskEntries <nl> \ No newline at end of file <nl> + public net . minecraft . entity . ai . EntityAITasks field _ 75782 _ a # taskEntries <nl> + # EntityXPOrb <nl> + public net . minecraft . entity . item . EntityXPOrb field _ 70530 _ e # xpValue <nl> \ No newline at end of file

TEST DIFF:
diff - - git a / patches / minecraft / net / minecraft / block / state / BlockStateContainer . java . patch b / patches / minecraft / net / minecraft / block / state / BlockStateContainer . java . patch 
 index 8b119b7 . . fa321ef 100644 
 - - - a / patches / minecraft / net / minecraft / block / state / BlockStateContainer . java . patch 
 + + + b / patches / minecraft / net / minecraft / block / state / BlockStateContainer . java . patch 
 @ @ - 49 , 7 + 49 , 7 @ @ 
 public Collection < IProperty < ? > > func _ 177227 _ a ( ) 
 { 
 return Collections . < IProperty < ? > > unmodifiableCollection ( this . field _ 177237 _ b . keySet ( ) ) ; 
 - @ @ - 414 , 5 + 431 , 34 @ @ 
 + @ @ - 414 , 5 + 431 , 86 @ @ 
 { 
 return this . field _ 177239 _ a . func _ 185481 _ k ( this ) ; 
 } 
 @ @ - 83 , 4 + 83 , 56 @ @ 
 + return this . field _ 177239 _ a . doesSideBlockRendering ( this , world , pos , side ) ; 
 + } 
 } 
 + + 
 + + / * * 
 + + * Forge added class to make building things easier . 
 + + * Will return an instance of BlockStateContainer appropriate for 
 + + * the list of properties passed in . 
 + + * 
 + + * Example usage : 
 + + * 
 + + * protected BlockStateContainer createBlockState ( ) 
 + + * { 
 + + * return ( new BlockStateContainer . Builder ( this ) ) . add ( FACING ) . add ( SOME _ UNLISTED ) . build ( ) ; 
 + + * } 
 + + * 
 + + * / 
 + + public static class Builder 
 + + { 
 + + private final Block block ; 
 + + private final List < IProperty < ? > > listed = Lists . newArrayList ( ) ; 
 + + private final List < net . minecraftforge . common . property . IUnlistedProperty < ? > > unlisted = Lists . newArrayList ( ) ; 
 + + 
 + + public Builder ( Block block ) 
 + + { 
 + + this . block = block ; 
 + + } 
 + + 
 + + public Builder add ( IProperty < ? > . . . props ) 
 + + { 
 + + for ( IProperty < ? > prop : props ) 
 + + this . listed . add ( prop ) ; 
 + + return this ; 
 + + } 
 + + 
 + + public Builder add ( net . minecraftforge . common . property . IUnlistedProperty < ? > . . . props ) 
 + + { 
 + + for ( net . minecraftforge . common . property . IUnlistedProperty < ? > prop : props ) 
 + + this . unlisted . add ( prop ) ; 
 + + return this ; 
 + + } 
 + + 
 + + public BlockStateContainer build ( ) 
 + + { 
 + + IProperty < ? > [ ] listed = new IProperty [ this . listed . size ( ) ] ; 
 + + listed = this . listed . toArray ( listed ) ; 
 + + if ( this . unlisted . size ( ) = = 0 ) 
 + + return new BlockStateContainer ( this . block , listed ) ; 
 + + 
 + + net . minecraftforge . common . property . IUnlistedProperty < ? > [ ] unlisted = new net . minecraftforge . common . property . IUnlistedProperty [ this . unlisted . size ( ) ] ; 
 + + unlisted = this . unlisted . toArray ( unlisted ) ; 
 + + 
 + + return new net . minecraftforge . common . property . ExtendedBlockState ( this . block , listed , unlisted ) ; 
 + + } 
 + + } 
 } 
 diff - - git a / src / main / resources / forge _ at . cfg b / src / main / resources / forge _ at . cfg 
 index fced627 . . 316062b 100644 
 - - - a / src / main / resources / forge _ at . cfg 
 + + + b / src / main / resources / forge _ at . cfg 
 @ @ - 51 , 6 + 51 , 7 @ @ public net . minecraft . world . biome . BiomeGenPlains * ( ) 
 public net . minecraft . world . biome . BiomeGenSavanna * ( ) 
 public net . minecraft . world . biome . BiomeGenSnow * ( ) 
 public net . minecraft . world . biome . BiomeGenTaiga * ( ) 
 + public net . minecraft . world . biome . BiomeGenBase $ BiomeProperties * ( ) 
 # Map Gen Biome Lists 
 public + f net . minecraft . world . gen . structure . MapGenStronghold field _ 151546 _ e 
 # MapGenVillage 
 @ @ - 94 , 7 + 95 , 7 @ @ public net . minecraft . network . play . server . SPacketBlockChange field _ 148883 _ d # blo 
 public - f net . minecraft . world . WorldType field _ 77139 _ a # worldTypes 
 # DamageSource 
 public net . minecraft . util . DamageSource * ( ) # All methods public , most are already 
 - # EntityAITasks 
 + # EntityAITasks 
 public net . minecraft . entity . ai . EntityAITasks field _ 75782 _ a # taskEntries 
 # EntityXPOrb 
 public net . minecraft . entity . item . EntityXPOrb field _ 70530 _ e # xpValue 
 @ @ - 102 , 7 + 103 , 7 @ @ public net . minecraft . entity . item . EntityXPOrb field _ 70530 _ e # xpValue 
 public net . minecraft . world . gen . structure . StructureVillagePieces $ Village 
 # RenderPlayer 
 public net . minecraft . client . renderer . entity . RenderBiped field _ 77071 _ a # modelBipedMain 
 - # ChunkProviderServer 
 + # ChunkProviderServer 
 public net . minecraft . world . gen . ChunkProviderServer field _ 186029 _ c # chunkGenerator 
 public net . minecraft . world . gen . ChunkProviderServer field _ 73244 _ f # loadedChunkHashMap 
 public net . minecraft . world . gen . ChunkProviderServer field _ 73245 _ g # loadedChunks 
 @ @ - 159 , 7 + 160 , 7 @ @ public net . minecraft . client . renderer . VertexBuffer func _ 178972 _ a ( IIIII ) V # putCol 
 # public net . minecraft . client . renderer . block . model . ModelBlock < init > ( Lnet / minecraft / util / ResourceLocation ; Ljava / util / List ; Ljava / util / Map ; ZZLnet / minecraft / client / renderer / block / model / ItemCameraTransforms ; ) V 
 # RenderLivingEntity 
 # public net . minecraft . client . renderer . entity . RenderLivingBase func _ 177094 _ a ( Lnet / minecraft / client / renderer / entity / layers / LayerRenderer ; ) Z # addLayer 
 - 
 + 
 # S00PacketServerInfo 
 public net . minecraft . network . status . server . SPacketServerInfo field _ 149297 _ a # GSON 
 
 @ @ - 287 , 4 + 288 , 4 @ @ private - f net . minecraft . server . management . PlayerManager $ PlayerInstance field _ 187 
 
 # RenderLivingBase 
 public net . minecraft . client . renderer . entity . RenderLivingBase func _ 177094 _ a ( Lnet / minecraft / client / renderer / entity / layers / LayerRenderer ; ) Z # addLayer 
 - public net . minecraft . client . renderer . entity . RenderLivingBase func _ 177089 _ b ( Lnet / minecraft / client / renderer / entity / layers / LayerRenderer ; ) Z # removeLayer 
 \ No newline at end of file 
 + public net . minecraft . client . renderer . entity . RenderLivingBase func _ 177089 _ b ( Lnet / minecraft / client / renderer / entity / layers / LayerRenderer ; ) Z # removeLayer

NEAREST DIFF:
diff - - git a / patches / minecraft / net / minecraft / client / Minecraft . java . patch b / patches / minecraft / net / minecraft / client / Minecraft . java . patch 
 index aba3139 . . b131501 100644 
 - - - a / patches / minecraft / net / minecraft / client / Minecraft . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / Minecraft . java . patch 
 @ @ - 72 , 7 + 72 , 7 @ @ 
 if ( p _ 147108 _ 1 _ instanceof GuiMainMenu ) 
 { 
 this . gameSettings . showDebugInfo = false ; 
 - @ @ - 1338 , 7 + 1352 , 7 @ @ 
 + @ @ - 1337 , 7 + 1351 , 7 @ @ 
 
 if ( this . thePlayer . isCurrentToolAdventureModeExempt ( i , j , k ) ) 
 { 
 @ @ - 81 , 7 + 81 , 7 @ @ 
 this . thePlayer . swingItem ( ) ; 
 } 
 } 
 - @ @ - 1419 , 11 + 1433 , 12 @ @ 
 + @ @ - 1418 , 11 + 1432 , 12 @ @ 
 int j = this . objectMouseOver . blockY ; 
 int k = this . objectMouseOver . blockZ ; 
 
 @ @ - 96 , 7 + 96 , 7 @ @ 
 { 
 flag = false ; 
 this . thePlayer . swingItem ( ) ; 
 - @ @ - 1450 , 7 + 1465 , 8 @ @ 
 + @ @ - 1449 , 7 + 1464 , 8 @ @ 
 { 
 ItemStack itemstack1 = this . thePlayer . inventory . getCurrentItem ( ) ; 
 
 @ @ - 106 , 7 + 106 , 7 @ @ 
 { 
 this . entityRenderer . itemRenderer . resetEquippedProgress2 ( ) ; 
 } 
 - @ @ - 1652 , 6 + 1668 , 8 @ @ 
 + @ @ - 1651 , 6 + 1667 , 8 @ @ 
 
 while ( Mouse . next ( ) ) 
 { 
 @ @ - 115 , 7 + 115 , 7 @ @ 
 i = Mouse . getEventButton ( ) ; 
 
 if ( isRunningOnMac & & i = = 0 & & ( Keyboard . isKeyDown ( 29 ) | | Keyboard . isKeyDown ( 157 ) ) ) 
 - @ @ - 2122 , 6 + 2140 , 11 @ @ 
 + @ @ - 2121 , 6 + 2139 , 11 @ @ 
 / / JAVADOC METHOD $ $ func _ 71353 _ a 
 public void loadWorld ( WorldClient par1WorldClient , String par2Str ) 
 { 
 @ @ - 127 , 7 + 127 , 7 @ @ 
 if ( par1WorldClient = = null ) 
 { 
 NetHandlerPlayClient nethandlerplayclient = this . func _ 147114 _ u ( ) ; 
 - @ @ - 2134 , 6 + 2157 , 18 @ @ 
 + @ @ - 2133 , 6 + 2156 , 18 @ @ 
 if ( this . theIntegratedServer ! = null ) 
 { 
 this . theIntegratedServer . initiateShutdown ( ) ; 
 @ @ - 146 , 7 + 146 , 7 @ @ 
 } 
 
 this . theIntegratedServer = null ; 
 - @ @ - 2289 , 113 + 2324 , 10 @ @ 
 + @ @ - 2288 , 113 + 2323 , 10 @ @ 
 if ( this . objectMouseOver ! = null ) 
 { 
 boolean flag = this . thePlayer . capabilities . isCreativeMode ; 
 @ @ - 262 , 7 + 262 , 7 @ @ 
 if ( flag ) 
 { 
 j = this . thePlayer . inventoryContainer . inventorySlots . size ( ) - 9 + this . thePlayer . inventory . currentItem ; 
 - @ @ - 2565 , 9 + 2497 , 16 @ @ 
 + @ @ - 2564 , 9 + 2496 , 16 @ @ 
 par1PlayerUsageSnooper . addData ( " gl _ max _ texture _ size " , Integer . valueOf ( getGLMaximumTextureSize ( ) ) ) ; 
 } 
 
 @ @ - 279 , 7 + 279 , 7 @ @ 
 for ( int i = 16384 ; i > 0 ; i > > = 1 ) 
 { 
 GL11 . glTexImage2D ( GL11 . GL _ PROXY _ TEXTURE _ 2D , 0 , GL11 . GL _ RGBA , i , i , 0 , GL11 . GL _ RGBA , GL11 . GL _ UNSIGNED _ BYTE , ( ByteBuffer ) null ) ; 
 - @ @ - 2575 , 6 + 2514 , 7 @ @ 
 + @ @ - 2574 , 6 + 2513 , 7 @ @ 
 
 if ( j ! = 0 ) 
 { 
 diff - - git a / patches / minecraft / net / minecraft / entity / item / EntityXPOrb . java . patch b / patches / minecraft / net / minecraft / entity / item / EntityXPOrb . java . patch 
 new file mode 100644 
 index 0000000 . . 07f1270 
 - - - / dev / null 
 + + + b / patches / minecraft / net / minecraft / entity / item / EntityXPOrb . java . patch 
 @ @ - 0 , 0 + 1 , 19 @ @ 
 + - - - . . / src - base / minecraft / net / minecraft / entity / item / EntityXPOrb . java 
 + + + + . . / src - work / minecraft / net / minecraft / entity / item / EntityXPOrb . java 
 + @ @ - 9 , 6 + 9 , 8 @ @ 
 + import net . minecraft . util . DamageSource ; 
 + import net . minecraft . util . MathHelper ; 
 + import net . minecraft . world . World ; 
 + + import net . minecraftforge . common . MinecraftForge ; 
 + + import net . minecraftforge . event . entity . player . PlayerPickupXpEvent ; 
 + 
 + public class EntityXPOrb extends Entity 
 + { 
 + @ @ - 218 , 6 + 220 , 7 @ @ 
 + { 
 + if ( this . field _ 70532 _ c = = 0 & & par1EntityPlayer . xpCooldown = = 0 ) 
 + { 
 + + if ( MinecraftForge . EVENT _ BUS . post ( new PlayerPickupXpEvent ( par1EntityPlayer , this ) ) ) return ; 
 + par1EntityPlayer . xpCooldown = 2 ; 
 + this . worldObj . playSoundAtEntity ( par1EntityPlayer , " random . orb " , 0 . 1F , 0 . 5F * ( ( this . rand . nextFloat ( ) - this . rand . nextFloat ( ) ) * 0 . 7F + 1 . 8F ) ) ; 
 + par1EntityPlayer . onItemPickup ( this , 1 ) ; 
 diff - - git a / src / main / java / net / minecraftforge / event / entity / player / PlayerPickupXpEvent . java b / src / main / java / net / minecraftforge / event / entity / player / PlayerPickupXpEvent . java 
 new file mode 100644 
 index 0000000 . . 9b27a80 
 - - - / dev / null 
 + + + b / src / main / java / net / minecraftforge / event / entity / player / PlayerPickupXpEvent . java 
 @ @ - 0 , 0 + 1 , 21 @ @ 
 + package net . minecraftforge . event . entity . player ; 
 + 
 + import cpw . mods . fml . common . eventhandler . Cancelable ; 
 + import net . minecraft . entity . item . EntityXPOrb ; 
 + import net . minecraft . entity . player . EntityPlayer ; 
 + 
 + / * * 
 + * This event is called when a player collides with a EntityXPOrb on the ground . 
 + * The event can be canceled , and no further processing will be done . 
 + * / 
 + @ Cancelable 
 + public class PlayerPickupXpEvent extends PlayerEvent 
 + { 
 + public final EntityXPOrb orb ; 
 + 
 + public PlayerPickupXpEvent ( EntityPlayer player , EntityXPOrb orb ) 
 + { 
 + super ( player ) ; 
 + this . orb = orb ; 
 + } 
 + } 
 diff - - git a / src / main / resources / forge _ at . cfg b / src / main / resources / forge _ at . cfg 
 index 988df1d . . 5a7f8cb 100644 
 - - - a / src / main / resources / forge _ at . cfg 
 + + + b / src / main / resources / forge _ at . cfg 
 @ @ - 169 , 4 + 169 , 6 @ @ public net . minecraft . util . DamageSource * ( ) # All methods public , most are already 
 # ItemBlock 
 public net . minecraft . item . ItemBlock field _ 150939 _ a # block 
 # EntityAITasks 
 - public net . minecraft . entity . ai . EntityAITasks field _ 75782 _ a # taskEntries 
 \ No newline at end of file 
 + public net . minecraft . entity . ai . EntityAITasks field _ 75782 _ a # taskEntries 
 + # EntityXPOrb 
 + public net . minecraft . entity . item . EntityXPOrb field _ 70530 _ e # xpValue 
 \ No newline at end of file
