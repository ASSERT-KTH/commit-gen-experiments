BLEU SCORE: 0.011412212286076964

TEST MSG: Allow configuring log levels using system properties .
GENERATED MSG: Name the log files properly . fml - junk is an early startup annoyance I can ' t kill because log4j2 .

TEST DIFF (one line): diff - - git a / src / main / resources / log4j2 . xml b / src / main / resources / log4j2 . xml <nl> index c78f0ea . . 1e2fe02 100644 <nl> - - - a / src / main / resources / log4j2 . xml <nl> + + + b / src / main / resources / log4j2 . xml <nl> @ @ - 37 , 16 + 37 , 16 @ @ <nl> < / Appenders > <nl> < Loggers > <nl> < ! - - make sure mojang ' s logging is set to ' info ' so that their LOGGER . isDebugEnabled ( ) behavior isn ' t active - - > <nl> - < Logger level = " info " name = " com . mojang " / > <nl> - < Logger level = " info " name = " net . minecraft " / > <nl> + < Logger level = " $ { sys : forge . logging . mojang . level : - info } " name = " com . mojang " / > <nl> + < Logger level = " $ { sys : forge . logging . mojang . level : - info } " name = " net . minecraft " / > <nl> < Root level = " all " > <nl> < filters > <nl> < MarkerFilter marker = " NETWORK _ PACKETS " onMatch = " DENY " onMismatch = " NEUTRAL " / > <nl> < / filters > <nl> - < AppenderRef ref = " SysOut " level = " info " / > <nl> - < AppenderRef ref = " ServerGuiConsole " level = " info " / > <nl> - < AppenderRef ref = " File " level = " info " / > <nl> - < AppenderRef ref = " DebugFile " / > <nl> + < AppenderRef ref = " SysOut " level = " $ { sys : forge . logging . console . level : - info } " / > <nl> + < AppenderRef ref = " ServerGuiConsole " level = " $ { sys : forge . logging . console . level : - info } " / > <nl> + < AppenderRef ref = " File " level = " $ { sys : forge . logging . file . level : - info } " / > <nl> + < AppenderRef ref = " DebugFile " level = " $ { sys : forge . logging . debugFile . level : - trace } " / > <nl> < / Root > <nl> < / Loggers > <nl> < / Configuration > <nl> diff - - git a / src / main / resources / log4j2 _ server . xml b / src / main / resources / log4j2 _ server . xml <nl> index 06eab23 . . 142cef6 100644 <nl> - - - a / src / main / resources / log4j2 _ server . xml <nl> + + + b / src / main / resources / log4j2 _ server . xml <nl> @ @ - 37 , 16 + 37 , 16 @ @ <nl> < / Appenders > <nl> < Loggers > <nl> < ! - - make sure mojang ' s logging is set to ' info ' so that their LOGGER . isDebugEnabled ( ) behavior isn ' t active - - > <nl> - < Logger level = " info " name = " com . mojang " / > <nl> - < Logger level = " info " name = " net . minecraft " / > <nl> + < Logger level = " $ { sys : forge . logging . mojang . level : - info } " name = " com . mojang " / > <nl> + < Logger level = " $ { sys : forge . logging . mojang . level : - info } " name = " net . minecraft " / > <nl> < Root level = " all " > <nl> < filters > <nl> < MarkerFilter marker = " NETWORK _ PACKETS " onMatch = " DENY " onMismatch = " NEUTRAL " / > <nl> < / filters > <nl> - < AppenderRef ref = " Console " level = " info " / > <nl> - < AppenderRef ref = " ServerGuiConsole " level = " info " / > <nl> - < AppenderRef ref = " File " level = " info " / > <nl> - < AppenderRef ref = " DebugFile " / > <nl> + < AppenderRef ref = " Console " level = " $ { sys : forge . logging . console . level : - info } " / > <nl> + < AppenderRef ref = " ServerGuiConsole " level = " $ { sys : forge . logging . console . level : - info } " / > <nl> + < AppenderRef ref = " File " level = " $ { sys : forge . logging . file . level : - info } " / > <nl> + < AppenderRef ref = " DebugFile " level = " $ { sys : forge . logging . debugFile . level : - trace } " / > <nl> < / Root > <nl> < / Loggers > <nl> < / Configuration >
NEAREST DIFF (one line): diff - - git a / fml / src / main / java / cpw / mods / fml / relauncher / FMLLaunchHandler . java b / fml / src / main / java / cpw / mods / fml / relauncher / FMLLaunchHandler . java <nl> index b8cd054 . . 877c210 100644 <nl> - - - a / fml / src / main / java / cpw / mods / fml / relauncher / FMLLaunchHandler . java <nl> + + + b / fml / src / main / java / cpw / mods / fml / relauncher / FMLLaunchHandler . java <nl> @ @ - 62 , 14 + 62 , 14 @ @ public class FMLLaunchHandler <nl> <nl> private void setupClient ( ) <nl> { <nl> - FMLRelaunchLog . logFileNamePattern = " ForgeModLoader - client - % g . log " ; <nl> + FMLRelaunchLog . side = Side . CLIENT ; <nl> side = Side . CLIENT ; <nl> setupHome ( ) ; <nl> } <nl> <nl> private void setupServer ( ) <nl> { <nl> - FMLRelaunchLog . logFileNamePattern = " ForgeModLoader - server - % g . log " ; <nl> + FMLRelaunchLog . side = Side . SERVER ; <nl> side = Side . SERVER ; <nl> setupHome ( ) ; <nl> <nl> diff - - git a / fml / src / main / java / cpw / mods / fml / relauncher / FMLRelaunchLog . java b / fml / src / main / java / cpw / mods / fml / relauncher / FMLRelaunchLog . java <nl> index e3f4a84 . . 2c6084d 100644 <nl> - - - a / fml / src / main / java / cpw / mods / fml / relauncher / FMLRelaunchLog . java <nl> + + + b / fml / src / main / java / cpw / mods / fml / relauncher / FMLRelaunchLog . java <nl> @ @ - 13 , 9 + 13 , 11 @ @ <nl> package cpw . mods . fml . relauncher ; <nl> <nl> import java . io . File ; <nl> + import java . util . Locale ; <nl> import org . apache . logging . log4j . Level ; <nl> import org . apache . logging . log4j . LogManager ; <nl> import org . apache . logging . log4j . Logger ; <nl> + import org . apache . logging . log4j . ThreadContext ; <nl> <nl> public class FMLRelaunchLog { <nl> <nl> @ @ - 30 , 7 + 32 , 7 @ @ public class FMLRelaunchLog { <nl> <nl> private Logger myLog ; <nl> <nl> - static String logFileNamePattern ; <nl> + static Side side ; <nl> <nl> private FMLRelaunchLog ( ) <nl> { <nl> @ @ - 42 , 6 + 44 , 7 @ @ public class FMLRelaunchLog { <nl> private static void configureLogging ( ) <nl> { <nl> log . myLog = LogManager . getLogger ( " FML " ) ; <nl> + ThreadContext . put ( " side " , side . name ( ) . toLowerCase ( Locale . ENGLISH ) ) ; <nl> configured = true ; <nl> } <nl> <nl> diff - - git a / fml / src / main / resources / log4j2 . xml b / fml / src / main / resources / log4j2 . xml <nl> index 49d1c53 . . 18eab39 100644 <nl> - - - a / fml / src / main / resources / log4j2 . xml <nl> + + + b / fml / src / main / resources / log4j2 . xml <nl> @ @ - 1 , 5 + 1 , 5 @ @ <nl> < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > <nl> - < Configuration status = " WARN " packages = " com . mojang . util " verbose = " true " > <nl> + < Configuration status = " debug " packages = " com . mojang . util " > <nl> < Appenders > <nl> < Console name = " FmlSysOut " target = " SYSTEM _ OUT " > <nl> < PatternLayout pattern = " [ % d { HH : mm : ss } ] [ % t / % level ] [ % logger ] : % msg % n " / > <nl> @ @ - 17 , 33 + 17 , 43 @ @ <nl> < OnStartupTriggeringPolicy / > <nl> < / Policies > <nl> < / RollingRandomAccessFile > <nl> - < RollingRandomAccessFile name = " FmlFile " fileName = " logs / fml - latest . log " filePattern = " logs / fml - % d { yyyy - MM - dd } - % i . log . gz " > <nl> - < PatternLayout pattern = " [ % d { HH : mm : ss } ] [ % t / % level ] [ % logger ] : % msg % n " / > <nl> - < DefaultRolloverStrategy max = " 3 " / > <nl> - < Policies > <nl> - < TimeBasedTriggeringPolicy / > <nl> - < OnStartupTriggeringPolicy / > <nl> - < / Policies > <nl> - < / RollingRandomAccessFile > <nl> + < Routing name = " FmlFile " > <nl> + < Routes pattern = " $ $ { ctx : side } " > <nl> + < Route > <nl> + < RollingRandomAccessFile name = " FmlFile " fileName = " logs / fml - $ { ctx : side } - latest . log " filePattern = " logs / fml - $ { ctx : side } - % i . log " > <nl> + < PatternLayout pattern = " [ % d { HH : mm : ss } ] [ % t / % level ] [ % logger ] : % msg % n " / > <nl> + < DefaultRolloverStrategy max = " 3 " fileIndex = " max " / > <nl> + < Policies > <nl> + < OnStartupTriggeringPolicy / > <nl> + < / Policies > <nl> + < / RollingRandomAccessFile > <nl> + < / Route > <nl> + < Route key = " $ $ { ctx : side } " > <nl> + < RandomAccessFile name = " FmlFile " fileName = " logs / fml - junk - earlystartup . log " > <nl> + < PatternLayout pattern = " [ % d { HH : mm : ss } ] [ % t / % level ] [ % logger ] : % msg % n " / > <nl> + < / RandomAccessFile > <nl> + < / Route > <nl> + < / Routes > <nl> + < / Routing > <nl> < / Appenders > <nl> < Loggers > <nl> < Logger level = " info " name = " com . mojang " additivity = " false " > <nl> - < AppenderRef ref = " SysOut " level = " INFO " / > <nl> + < AppenderRef ref = " SysOut " level = " INFO " / > <nl> < AppenderRef ref = " File " / > <nl> - < AppenderRef ref = " ServerGuiConsole " level = " INFO " / > <nl> + < AppenderRef ref = " ServerGuiConsole " level = " INFO " / > <nl> < / Logger > <nl> < Logger level = " info " name = " net . minecraft " additivity = " false " > <nl> < filters > <nl> < MarkerFilter marker = " NETWORK _ PACKETS " onMatch = " DENY " onMismatch = " NEUTRAL " / > <nl> < / filters > <nl> - < AppenderRef ref = " SysOut " level = " INFO " / > <nl> + < AppenderRef ref = " SysOut " level = " INFO " / > <nl> < AppenderRef ref = " File " / > <nl> - < AppenderRef ref = " ServerGuiConsole " level = " INFO " / > <nl> + < AppenderRef ref = " ServerGuiConsole " level = " INFO " / > <nl> < / Logger > <nl> < Root level = " all " > <nl> - < AppenderRef ref = " FmlSysOut " level = " INFO " / > <nl> - < AppenderRef ref = " ServerGuiConsole " level = " INFO " / > <nl> - < AppenderRef ref = " FmlFile " / > <nl> + < AppenderRef ref = " FmlSysOut " level = " INFO " / > <nl> + < AppenderRef ref = " ServerGuiConsole " level = " INFO " / > <nl> + < AppenderRef ref = " FmlFile " / > <nl> < / Root > <nl> < / Loggers > <nl> < / Configuration >

TEST DIFF:
diff - - git a / src / main / resources / log4j2 . xml b / src / main / resources / log4j2 . xml 
 index c78f0ea . . 1e2fe02 100644 
 - - - a / src / main / resources / log4j2 . xml 
 + + + b / src / main / resources / log4j2 . xml 
 @ @ - 37 , 16 + 37 , 16 @ @ 
 < / Appenders > 
 < Loggers > 
 < ! - - make sure mojang ' s logging is set to ' info ' so that their LOGGER . isDebugEnabled ( ) behavior isn ' t active - - > 
 - < Logger level = " info " name = " com . mojang " / > 
 - < Logger level = " info " name = " net . minecraft " / > 
 + < Logger level = " $ { sys : forge . logging . mojang . level : - info } " name = " com . mojang " / > 
 + < Logger level = " $ { sys : forge . logging . mojang . level : - info } " name = " net . minecraft " / > 
 < Root level = " all " > 
 < filters > 
 < MarkerFilter marker = " NETWORK _ PACKETS " onMatch = " DENY " onMismatch = " NEUTRAL " / > 
 < / filters > 
 - < AppenderRef ref = " SysOut " level = " info " / > 
 - < AppenderRef ref = " ServerGuiConsole " level = " info " / > 
 - < AppenderRef ref = " File " level = " info " / > 
 - < AppenderRef ref = " DebugFile " / > 
 + < AppenderRef ref = " SysOut " level = " $ { sys : forge . logging . console . level : - info } " / > 
 + < AppenderRef ref = " ServerGuiConsole " level = " $ { sys : forge . logging . console . level : - info } " / > 
 + < AppenderRef ref = " File " level = " $ { sys : forge . logging . file . level : - info } " / > 
 + < AppenderRef ref = " DebugFile " level = " $ { sys : forge . logging . debugFile . level : - trace } " / > 
 < / Root > 
 < / Loggers > 
 < / Configuration > 
 diff - - git a / src / main / resources / log4j2 _ server . xml b / src / main / resources / log4j2 _ server . xml 
 index 06eab23 . . 142cef6 100644 
 - - - a / src / main / resources / log4j2 _ server . xml 
 + + + b / src / main / resources / log4j2 _ server . xml 
 @ @ - 37 , 16 + 37 , 16 @ @ 
 < / Appenders > 
 < Loggers > 
 < ! - - make sure mojang ' s logging is set to ' info ' so that their LOGGER . isDebugEnabled ( ) behavior isn ' t active - - > 
 - < Logger level = " info " name = " com . mojang " / > 
 - < Logger level = " info " name = " net . minecraft " / > 
 + < Logger level = " $ { sys : forge . logging . mojang . level : - info } " name = " com . mojang " / > 
 + < Logger level = " $ { sys : forge . logging . mojang . level : - info } " name = " net . minecraft " / > 
 < Root level = " all " > 
 < filters > 
 < MarkerFilter marker = " NETWORK _ PACKETS " onMatch = " DENY " onMismatch = " NEUTRAL " / > 
 < / filters > 
 - < AppenderRef ref = " Console " level = " info " / > 
 - < AppenderRef ref = " ServerGuiConsole " level = " info " / > 
 - < AppenderRef ref = " File " level = " info " / > 
 - < AppenderRef ref = " DebugFile " / > 
 + < AppenderRef ref = " Console " level = " $ { sys : forge . logging . console . level : - info } " / > 
 + < AppenderRef ref = " ServerGuiConsole " level = " $ { sys : forge . logging . console . level : - info } " / > 
 + < AppenderRef ref = " File " level = " $ { sys : forge . logging . file . level : - info } " / > 
 + < AppenderRef ref = " DebugFile " level = " $ { sys : forge . logging . debugFile . level : - trace } " / > 
 < / Root > 
 < / Loggers > 
 < / Configuration >

NEAREST DIFF:
diff - - git a / fml / src / main / java / cpw / mods / fml / relauncher / FMLLaunchHandler . java b / fml / src / main / java / cpw / mods / fml / relauncher / FMLLaunchHandler . java 
 index b8cd054 . . 877c210 100644 
 - - - a / fml / src / main / java / cpw / mods / fml / relauncher / FMLLaunchHandler . java 
 + + + b / fml / src / main / java / cpw / mods / fml / relauncher / FMLLaunchHandler . java 
 @ @ - 62 , 14 + 62 , 14 @ @ public class FMLLaunchHandler 
 
 private void setupClient ( ) 
 { 
 - FMLRelaunchLog . logFileNamePattern = " ForgeModLoader - client - % g . log " ; 
 + FMLRelaunchLog . side = Side . CLIENT ; 
 side = Side . CLIENT ; 
 setupHome ( ) ; 
 } 
 
 private void setupServer ( ) 
 { 
 - FMLRelaunchLog . logFileNamePattern = " ForgeModLoader - server - % g . log " ; 
 + FMLRelaunchLog . side = Side . SERVER ; 
 side = Side . SERVER ; 
 setupHome ( ) ; 
 
 diff - - git a / fml / src / main / java / cpw / mods / fml / relauncher / FMLRelaunchLog . java b / fml / src / main / java / cpw / mods / fml / relauncher / FMLRelaunchLog . java 
 index e3f4a84 . . 2c6084d 100644 
 - - - a / fml / src / main / java / cpw / mods / fml / relauncher / FMLRelaunchLog . java 
 + + + b / fml / src / main / java / cpw / mods / fml / relauncher / FMLRelaunchLog . java 
 @ @ - 13 , 9 + 13 , 11 @ @ 
 package cpw . mods . fml . relauncher ; 
 
 import java . io . File ; 
 + import java . util . Locale ; 
 import org . apache . logging . log4j . Level ; 
 import org . apache . logging . log4j . LogManager ; 
 import org . apache . logging . log4j . Logger ; 
 + import org . apache . logging . log4j . ThreadContext ; 
 
 public class FMLRelaunchLog { 
 
 @ @ - 30 , 7 + 32 , 7 @ @ public class FMLRelaunchLog { 
 
 private Logger myLog ; 
 
 - static String logFileNamePattern ; 
 + static Side side ; 
 
 private FMLRelaunchLog ( ) 
 { 
 @ @ - 42 , 6 + 44 , 7 @ @ public class FMLRelaunchLog { 
 private static void configureLogging ( ) 
 { 
 log . myLog = LogManager . getLogger ( " FML " ) ; 
 + ThreadContext . put ( " side " , side . name ( ) . toLowerCase ( Locale . ENGLISH ) ) ; 
 configured = true ; 
 } 
 
 diff - - git a / fml / src / main / resources / log4j2 . xml b / fml / src / main / resources / log4j2 . xml 
 index 49d1c53 . . 18eab39 100644 
 - - - a / fml / src / main / resources / log4j2 . xml 
 + + + b / fml / src / main / resources / log4j2 . xml 
 @ @ - 1 , 5 + 1 , 5 @ @ 
 < ? xml version = " 1 . 0 " encoding = " UTF - 8 " ? > 
 - < Configuration status = " WARN " packages = " com . mojang . util " verbose = " true " > 
 + < Configuration status = " debug " packages = " com . mojang . util " > 
 < Appenders > 
 < Console name = " FmlSysOut " target = " SYSTEM _ OUT " > 
 < PatternLayout pattern = " [ % d { HH : mm : ss } ] [ % t / % level ] [ % logger ] : % msg % n " / > 
 @ @ - 17 , 33 + 17 , 43 @ @ 
 < OnStartupTriggeringPolicy / > 
 < / Policies > 
 < / RollingRandomAccessFile > 
 - < RollingRandomAccessFile name = " FmlFile " fileName = " logs / fml - latest . log " filePattern = " logs / fml - % d { yyyy - MM - dd } - % i . log . gz " > 
 - < PatternLayout pattern = " [ % d { HH : mm : ss } ] [ % t / % level ] [ % logger ] : % msg % n " / > 
 - < DefaultRolloverStrategy max = " 3 " / > 
 - < Policies > 
 - < TimeBasedTriggeringPolicy / > 
 - < OnStartupTriggeringPolicy / > 
 - < / Policies > 
 - < / RollingRandomAccessFile > 
 + < Routing name = " FmlFile " > 
 + < Routes pattern = " $ $ { ctx : side } " > 
 + < Route > 
 + < RollingRandomAccessFile name = " FmlFile " fileName = " logs / fml - $ { ctx : side } - latest . log " filePattern = " logs / fml - $ { ctx : side } - % i . log " > 
 + < PatternLayout pattern = " [ % d { HH : mm : ss } ] [ % t / % level ] [ % logger ] : % msg % n " / > 
 + < DefaultRolloverStrategy max = " 3 " fileIndex = " max " / > 
 + < Policies > 
 + < OnStartupTriggeringPolicy / > 
 + < / Policies > 
 + < / RollingRandomAccessFile > 
 + < / Route > 
 + < Route key = " $ $ { ctx : side } " > 
 + < RandomAccessFile name = " FmlFile " fileName = " logs / fml - junk - earlystartup . log " > 
 + < PatternLayout pattern = " [ % d { HH : mm : ss } ] [ % t / % level ] [ % logger ] : % msg % n " / > 
 + < / RandomAccessFile > 
 + < / Route > 
 + < / Routes > 
 + < / Routing > 
 < / Appenders > 
 < Loggers > 
 < Logger level = " info " name = " com . mojang " additivity = " false " > 
 - < AppenderRef ref = " SysOut " level = " INFO " / > 
 + < AppenderRef ref = " SysOut " level = " INFO " / > 
 < AppenderRef ref = " File " / > 
 - < AppenderRef ref = " ServerGuiConsole " level = " INFO " / > 
 + < AppenderRef ref = " ServerGuiConsole " level = " INFO " / > 
 < / Logger > 
 < Logger level = " info " name = " net . minecraft " additivity = " false " > 
 < filters > 
 < MarkerFilter marker = " NETWORK _ PACKETS " onMatch = " DENY " onMismatch = " NEUTRAL " / > 
 < / filters > 
 - < AppenderRef ref = " SysOut " level = " INFO " / > 
 + < AppenderRef ref = " SysOut " level = " INFO " / > 
 < AppenderRef ref = " File " / > 
 - < AppenderRef ref = " ServerGuiConsole " level = " INFO " / > 
 + < AppenderRef ref = " ServerGuiConsole " level = " INFO " / > 
 < / Logger > 
 < Root level = " all " > 
 - < AppenderRef ref = " FmlSysOut " level = " INFO " / > 
 - < AppenderRef ref = " ServerGuiConsole " level = " INFO " / > 
 - < AppenderRef ref = " FmlFile " / > 
 + < AppenderRef ref = " FmlSysOut " level = " INFO " / > 
 + < AppenderRef ref = " ServerGuiConsole " level = " INFO " / > 
 + < AppenderRef ref = " FmlFile " / > 
 < / Root > 
 < / Loggers > 
 < / Configuration >
