BLEU SCORE: 0.037477767366779206

TEST MSG: Fix Client Login Issue when logging into a non existent dimension
GENERATED MSG: Add exception logging to forge channel handlers as well

TEST DIFF (one line): diff - - git a / src / main / java / net / minecraftforge / fml / common / network / handshake / NetworkDispatcher . java b / src / main / java / net / minecraftforge / fml / common / network / handshake / NetworkDispatcher . java <nl> index aa94125 . . 7933d90 100644 <nl> - - - a / src / main / java / net / minecraftforge / fml / common / network / handshake / NetworkDispatcher . java <nl> + + + b / src / main / java / net / minecraftforge / fml / common / network / handshake / NetworkDispatcher . java <nl> @ @ - 34 , 6 + 34 , 7 @ @ import net . minecraft . network . play . server . S3FPacketCustomPayload ; <nl> import net . minecraft . network . play . server . S40PacketDisconnect ; <nl> import net . minecraft . server . management . ServerConfigurationManager ; <nl> import net . minecraft . util . ChatComponentText ; <nl> + import net . minecraftforge . common . DimensionManager ; <nl> import net . minecraftforge . fml . common . FMLCommonHandler ; <nl> import net . minecraftforge . fml . common . FMLLog ; <nl> import net . minecraftforge . fml . common . network . FMLNetworkEvent ; <nl> @ @ - 199 , 12 + 200 , 13 @ @ public class NetworkDispatcher extends SimpleChannelInboundHandler < Packet > imple <nl> NBTTagCompound playerNBT = scm . getPlayerNBT ( player ) ; <nl> if ( playerNBT ! = null ) <nl> { <nl> - return playerNBT . getInteger ( " Dimension " ) ; <nl> - } <nl> - else <nl> - { <nl> - return 0 ; <nl> + int dimension = playerNBT . getInteger ( " Dimension " ) ; <nl> + if ( DimensionManager . isDimensionRegistered ( dimension ) ) <nl> + { <nl> + 	 return dimension ; <nl> + } <nl> } <nl> + return 0 ; <nl> } <nl> <nl> void clientListenForServerHandshake ( )
NEAREST DIFF (one line): diff - - git a / fml b / fml <nl> index 9c96ca4 . . 53557dc 160000 <nl> - - - a / fml <nl> + + + b / fml <nl> @ @ - 1 + 1 @ @ <nl> - Subproject commit 9c96ca4402e4c231285f170281dd543bfffa191a <nl> + Subproject commit 53557dcd0582e09f7f35eb3bc2fd130fba3be4a0 <nl> diff - - git a / src / main / java / net / minecraftforge / common / network / DimensionMessageHandler . java b / src / main / java / net / minecraftforge / common / network / DimensionMessageHandler . java <nl> index ae6dc23 . . 7922109 100644 <nl> - - - a / src / main / java / net / minecraftforge / common / network / DimensionMessageHandler . java <nl> + + + b / src / main / java / net / minecraftforge / common / network / DimensionMessageHandler . java <nl> @ @ - 1 , 10 + 1 , 11 @ @ <nl> package net . minecraftforge . common . network ; <nl> <nl> - import net . minecraft . entity . player . EntityPlayerMP ; <nl> - import net . minecraftforge . common . DimensionManager ; <nl> - import net . minecraftforge . common . network . ForgeMessage . DimensionRegisterMessage ; <nl> import io . netty . channel . ChannelHandlerContext ; <nl> import io . netty . channel . SimpleChannelInboundHandler ; <nl> + import net . minecraftforge . common . DimensionManager ; <nl> + import net . minecraftforge . common . network . ForgeMessage . DimensionRegisterMessage ; <nl> + import org . apache . logging . log4j . Level ; <nl> + import cpw . mods . fml . common . FMLLog ; <nl> <nl> public class DimensionMessageHandler extends SimpleChannelInboundHandler < ForgeMessage . DimensionRegisterMessage > { <nl> @ Override <nl> @ @ - 15 , 5 + 16 , 11 @ @ public class DimensionMessageHandler extends SimpleChannelInboundHandler < ForgeMe <nl> DimensionManager . registerDimension ( msg . dimensionId , msg . providerId ) ; <nl> } <nl> } <nl> + @ Override <nl> + public void exceptionCaught ( ChannelHandlerContext ctx , Throwable cause ) throws Exception <nl> + { <nl> + FMLLog . log ( Level . ERROR , cause , " DimensionMessageHandler exception " ) ; <nl> + super . exceptionCaught ( ctx , cause ) ; <nl> + } <nl> <nl> } <nl> diff - - git a / src / main / java / net / minecraftforge / common / network / FluidIdRegistryMessageHandler . java b / src / main / java / net / minecraftforge / common / network / FluidIdRegistryMessageHandler . java <nl> index 7ba0825 . . 8694113 100644 <nl> - - - a / src / main / java / net / minecraftforge / common / network / FluidIdRegistryMessageHandler . java <nl> + + + b / src / main / java / net / minecraftforge / common / network / FluidIdRegistryMessageHandler . java <nl> @ @ - 1 , 5 + 1 , 7 @ @ <nl> package net . minecraftforge . common . network ; <nl> <nl> + import org . apache . logging . log4j . Level ; <nl> + import cpw . mods . fml . common . FMLLog ; <nl> import io . netty . channel . ChannelHandlerContext ; <nl> import io . netty . channel . SimpleChannelInboundHandler ; <nl> <nl> @ @ - 9 , 4 + 11 , 11 @ @ public class FluidIdRegistryMessageHandler extends SimpleChannelInboundHandler < F <nl> { <nl> / / Do something with the message <nl> } <nl> + @ Override <nl> + public void exceptionCaught ( ChannelHandlerContext ctx , Throwable cause ) throws Exception <nl> + { <nl> + FMLLog . log ( Level . ERROR , cause , " FluidIdRegistryMessageHandler exception " ) ; <nl> + super . exceptionCaught ( ctx , cause ) ; <nl> + } <nl> + <nl> }

TEST DIFF:
diff - - git a / src / main / java / net / minecraftforge / fml / common / network / handshake / NetworkDispatcher . java b / src / main / java / net / minecraftforge / fml / common / network / handshake / NetworkDispatcher . java 
 index aa94125 . . 7933d90 100644 
 - - - a / src / main / java / net / minecraftforge / fml / common / network / handshake / NetworkDispatcher . java 
 + + + b / src / main / java / net / minecraftforge / fml / common / network / handshake / NetworkDispatcher . java 
 @ @ - 34 , 6 + 34 , 7 @ @ import net . minecraft . network . play . server . S3FPacketCustomPayload ; 
 import net . minecraft . network . play . server . S40PacketDisconnect ; 
 import net . minecraft . server . management . ServerConfigurationManager ; 
 import net . minecraft . util . ChatComponentText ; 
 + import net . minecraftforge . common . DimensionManager ; 
 import net . minecraftforge . fml . common . FMLCommonHandler ; 
 import net . minecraftforge . fml . common . FMLLog ; 
 import net . minecraftforge . fml . common . network . FMLNetworkEvent ; 
 @ @ - 199 , 12 + 200 , 13 @ @ public class NetworkDispatcher extends SimpleChannelInboundHandler < Packet > imple 
 NBTTagCompound playerNBT = scm . getPlayerNBT ( player ) ; 
 if ( playerNBT ! = null ) 
 { 
 - return playerNBT . getInteger ( " Dimension " ) ; 
 - } 
 - else 
 - { 
 - return 0 ; 
 + int dimension = playerNBT . getInteger ( " Dimension " ) ; 
 + if ( DimensionManager . isDimensionRegistered ( dimension ) ) 
 + { 
 + 	 return dimension ; 
 + } 
 } 
 + return 0 ; 
 } 
 
 void clientListenForServerHandshake ( )

NEAREST DIFF:
diff - - git a / fml b / fml 
 index 9c96ca4 . . 53557dc 160000 
 - - - a / fml 
 + + + b / fml 
 @ @ - 1 + 1 @ @ 
 - Subproject commit 9c96ca4402e4c231285f170281dd543bfffa191a 
 + Subproject commit 53557dcd0582e09f7f35eb3bc2fd130fba3be4a0 
 diff - - git a / src / main / java / net / minecraftforge / common / network / DimensionMessageHandler . java b / src / main / java / net / minecraftforge / common / network / DimensionMessageHandler . java 
 index ae6dc23 . . 7922109 100644 
 - - - a / src / main / java / net / minecraftforge / common / network / DimensionMessageHandler . java 
 + + + b / src / main / java / net / minecraftforge / common / network / DimensionMessageHandler . java 
 @ @ - 1 , 10 + 1 , 11 @ @ 
 package net . minecraftforge . common . network ; 
 
 - import net . minecraft . entity . player . EntityPlayerMP ; 
 - import net . minecraftforge . common . DimensionManager ; 
 - import net . minecraftforge . common . network . ForgeMessage . DimensionRegisterMessage ; 
 import io . netty . channel . ChannelHandlerContext ; 
 import io . netty . channel . SimpleChannelInboundHandler ; 
 + import net . minecraftforge . common . DimensionManager ; 
 + import net . minecraftforge . common . network . ForgeMessage . DimensionRegisterMessage ; 
 + import org . apache . logging . log4j . Level ; 
 + import cpw . mods . fml . common . FMLLog ; 
 
 public class DimensionMessageHandler extends SimpleChannelInboundHandler < ForgeMessage . DimensionRegisterMessage > { 
 @ Override 
 @ @ - 15 , 5 + 16 , 11 @ @ public class DimensionMessageHandler extends SimpleChannelInboundHandler < ForgeMe 
 DimensionManager . registerDimension ( msg . dimensionId , msg . providerId ) ; 
 } 
 } 
 + @ Override 
 + public void exceptionCaught ( ChannelHandlerContext ctx , Throwable cause ) throws Exception 
 + { 
 + FMLLog . log ( Level . ERROR , cause , " DimensionMessageHandler exception " ) ; 
 + super . exceptionCaught ( ctx , cause ) ; 
 + } 
 
 } 
 diff - - git a / src / main / java / net / minecraftforge / common / network / FluidIdRegistryMessageHandler . java b / src / main / java / net / minecraftforge / common / network / FluidIdRegistryMessageHandler . java 
 index 7ba0825 . . 8694113 100644 
 - - - a / src / main / java / net / minecraftforge / common / network / FluidIdRegistryMessageHandler . java 
 + + + b / src / main / java / net / minecraftforge / common / network / FluidIdRegistryMessageHandler . java 
 @ @ - 1 , 5 + 1 , 7 @ @ 
 package net . minecraftforge . common . network ; 
 
 + import org . apache . logging . log4j . Level ; 
 + import cpw . mods . fml . common . FMLLog ; 
 import io . netty . channel . ChannelHandlerContext ; 
 import io . netty . channel . SimpleChannelInboundHandler ; 
 
 @ @ - 9 , 4 + 11 , 11 @ @ public class FluidIdRegistryMessageHandler extends SimpleChannelInboundHandler < F 
 { 
 / / Do something with the message 
 } 
 + @ Override 
 + public void exceptionCaught ( ChannelHandlerContext ctx , Throwable cause ) throws Exception 
 + { 
 + FMLLog . log ( Level . ERROR , cause , " FluidIdRegistryMessageHandler exception " ) ; 
 + super . exceptionCaught ( ctx , cause ) ; 
 + } 
 + 
 }
