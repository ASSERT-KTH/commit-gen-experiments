BLEU SCORE: 0.01543664406819533

TEST MSG: Fix odd NPE with list files for empty directories .
GENERATED MSG: Make more noise when people screw up mod downloading and put . jar . zip in their mod folders .

TEST DIFF (one line): diff - - git a / src / main / java / net / minecraftforge / fml / relauncher / CoreModManager . java b / src / main / java / net / minecraftforge / fml / relauncher / CoreModManager . java <nl> index ab03b90 . . 82b7bd7 100644 <nl> - - - a / src / main / java / net / minecraftforge / fml / relauncher / CoreModManager . java <nl> + + + b / src / main / java / net / minecraftforge / fml / relauncher / CoreModManager . java <nl> @ @ - 310 , 7 + 310 , 7 @ @ public class CoreModManager { <nl> else <nl> ret = ObjectArrays . concat ( ret , dir . listFiles ( filter ) , File . class ) ; <nl> } <nl> - return ret ; <nl> + return ret = = null ? new File [ 0 ] : ret ; <nl> } <nl> private static File [ ] listFiles ( FileFilter filter , File . . . dirs ) <nl> { <nl> @ @ - 324 , 7 + 324 , 7 @ @ public class CoreModManager { <nl> else <nl> ret = ObjectArrays . concat ( ret , dir . listFiles ( filter ) , File . class ) ; <nl> } <nl> - return ret ; <nl> + return ret = = null ? new File [ 0 ] : ret ; <nl> } <nl> <nl> private static void discoverCoreMods ( File mcDir , LaunchClassLoader classLoader )
NEAREST DIFF (one line): diff - - git a / fml / src / main / java / cpw / mods / fml / relauncher / CoreModManager . java b / fml / src / main / java / cpw / mods / fml / relauncher / CoreModManager . java <nl> index f3f05a3 . . 8704b22 100644 <nl> - - - a / fml / src / main / java / cpw / mods / fml / relauncher / CoreModManager . java <nl> + + + b / fml / src / main / java / cpw / mods / fml / relauncher / CoreModManager . java <nl> @ @ - 223 , 6 + 223 , 22 @ @ public class CoreModManager { <nl> return name . endsWith ( " . jar " ) ; <nl> } <nl> } ; <nl> + FilenameFilter derpfilter = new FilenameFilter ( ) { <nl> + @ Override <nl> + public boolean accept ( File dir , String name ) <nl> + { <nl> + return name . endsWith ( " . jar . zip " ) ; <nl> + } <nl> + } ; <nl> + File [ ] derplist = coreMods . listFiles ( derpfilter ) ; <nl> + if ( derplist ! = null & & derplist . length > 0 ) <nl> + { <nl> + 	 FMLRelaunchLog . severe ( " FML has detected several badly downloaded jar files , which have been named as zip files . You probably need to download them again , or they may not work properly " ) ; <nl> + 	 for ( File f : derplist ) <nl> + 	 { <nl> + 	 	 FMLRelaunchLog . severe ( " Problem file : % s " , f . getName ( ) ) ; <nl> + 	 } <nl> + } <nl> File [ ] coreModList = coreMods . listFiles ( ff ) ; <nl> File versionedModDir = new File ( coreMods , FMLInjectionData . mccversion ) ; <nl> if ( versionedModDir . isDirectory ( ) )

TEST DIFF:
diff - - git a / src / main / java / net / minecraftforge / fml / relauncher / CoreModManager . java b / src / main / java / net / minecraftforge / fml / relauncher / CoreModManager . java 
 index ab03b90 . . 82b7bd7 100644 
 - - - a / src / main / java / net / minecraftforge / fml / relauncher / CoreModManager . java 
 + + + b / src / main / java / net / minecraftforge / fml / relauncher / CoreModManager . java 
 @ @ - 310 , 7 + 310 , 7 @ @ public class CoreModManager { 
 else 
 ret = ObjectArrays . concat ( ret , dir . listFiles ( filter ) , File . class ) ; 
 } 
 - return ret ; 
 + return ret = = null ? new File [ 0 ] : ret ; 
 } 
 private static File [ ] listFiles ( FileFilter filter , File . . . dirs ) 
 { 
 @ @ - 324 , 7 + 324 , 7 @ @ public class CoreModManager { 
 else 
 ret = ObjectArrays . concat ( ret , dir . listFiles ( filter ) , File . class ) ; 
 } 
 - return ret ; 
 + return ret = = null ? new File [ 0 ] : ret ; 
 } 
 
 private static void discoverCoreMods ( File mcDir , LaunchClassLoader classLoader )

NEAREST DIFF:
diff - - git a / fml / src / main / java / cpw / mods / fml / relauncher / CoreModManager . java b / fml / src / main / java / cpw / mods / fml / relauncher / CoreModManager . java 
 index f3f05a3 . . 8704b22 100644 
 - - - a / fml / src / main / java / cpw / mods / fml / relauncher / CoreModManager . java 
 + + + b / fml / src / main / java / cpw / mods / fml / relauncher / CoreModManager . java 
 @ @ - 223 , 6 + 223 , 22 @ @ public class CoreModManager { 
 return name . endsWith ( " . jar " ) ; 
 } 
 } ; 
 + FilenameFilter derpfilter = new FilenameFilter ( ) { 
 + @ Override 
 + public boolean accept ( File dir , String name ) 
 + { 
 + return name . endsWith ( " . jar . zip " ) ; 
 + } 
 + } ; 
 + File [ ] derplist = coreMods . listFiles ( derpfilter ) ; 
 + if ( derplist ! = null & & derplist . length > 0 ) 
 + { 
 + 	 FMLRelaunchLog . severe ( " FML has detected several badly downloaded jar files , which have been named as zip files . You probably need to download them again , or they may not work properly " ) ; 
 + 	 for ( File f : derplist ) 
 + 	 { 
 + 	 	 FMLRelaunchLog . severe ( " Problem file : % s " , f . getName ( ) ) ; 
 + 	 } 
 + } 
 File [ ] coreModList = coreMods . listFiles ( ff ) ; 
 File versionedModDir = new File ( coreMods , FMLInjectionData . mccversion ) ; 
 if ( versionedModDir . isDirectory ( ) )
