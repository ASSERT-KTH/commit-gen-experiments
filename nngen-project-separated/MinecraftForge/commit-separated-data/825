BLEU SCORE: 2.5723216472777817E-7

TEST MSG: FontRenderer
GENERATED MSG: Move resource location resolution down to TextureAtlasSprite and allow for sprites that are not stitched .

TEST DIFF (one line): diff - - git a / patches . mcp / minecraft / net / minecraft / client / gui / FontRenderer . java . patch b / patches . mcp / minecraft / net / minecraft / client / gui / FontRenderer . java . patch <nl> index 7c4ef0a . . 2d53a7f 100644 <nl> - - - a / patches . mcp / minecraft / net / minecraft / client / gui / FontRenderer . java . patch <nl> + + + b / patches . mcp / minecraft / net / minecraft / client / gui / FontRenderer . java . patch <nl> @ @ - 17 , 6 + 17 , 24 @ @ <nl> } <nl> <nl> private void readFontTexture ( ) <nl> + @ @ - 106 , 7 + 107 , 7 @ @ <nl> + <nl> + try <nl> + { <nl> + - iresource = Minecraft . getMinecraft ( ) . getResourceManager ( ) . getResource ( this . locationFontTexture ) ; <nl> + + iresource = getResource ( this . locationFontTexture ) ; <nl> + bufferedimage = TextureUtil . readBufferedImage ( iresource . getInputStream ( ) ) ; <nl> + } <nl> + catch ( IOException ioexception ) <nl> + @ @ - 171 , 7 + 172 , 7 @ @ <nl> + <nl> + try <nl> + { <nl> + - iresource = Minecraft . getMinecraft ( ) . getResourceManager ( ) . getResource ( new ResourceLocation ( " font / glyph _ sizes . bin " ) ) ; <nl> + + iresource = getResource ( new ResourceLocation ( " font / glyph _ sizes . bin " ) ) ; <nl> + iresource . getInputStream ( ) . read ( this . glyphWidth ) ; <nl> + } <nl> + catch ( IOException ioexception ) <nl> @ @ - 202 , 7 + 203 , 7 @ @ <nl> int i = ch % 16 * 8 ; <nl> int j = ch / 16 * 8 ; <nl> @ @ - 116 , 9 + 134 , 9 @ @ <nl> + renderEngine . bindTexture ( location ) ; <nl> + } <nl> + <nl> - + protected InputStream getResourceInputStream ( ResourceLocation location ) throws IOException <nl> + + protected IResource getResource ( ResourceLocation location ) throws IOException <nl> + { <nl> - + return Minecraft . getMinecraft ( ) . getResourceManager ( ) . getResource ( location ) . getInputStream ( ) ; <nl> + + return Minecraft . getMinecraft ( ) . getResourceManager ( ) . getResource ( location ) ; <nl> + } <nl> + <nl> public int getColorCode ( char character ) <nl> diff - - git a / rejects / minecraft / net / minecraft / client / gui / FontRenderer . java . patch . rej b / rejects / minecraft / net / minecraft / client / gui / FontRenderer . java . patch . rej <nl> deleted file mode 100644 <nl> index fea7625 . . 0000000 <nl> - - - a / rejects / minecraft / net / minecraft / client / gui / FontRenderer . java . patch . rej <nl> + + + / dev / null <nl> @ @ - 1 , 33 + 0 , 0 @ @ <nl> - + + + + REJECTED PATCH 3 <nl> - <nl> - try <nl> - { <nl> - - bufferedimage = TextureUtil . readBufferedImage ( Minecraft . getMinecraft ( ) . getResourceManager ( ) . getResource ( this . locationFontTexture ) . getInputStream ( ) ) ; <nl> - + bufferedimage = TextureUtil . readBufferedImage ( getResourceInputStream ( this . locationFontTexture ) ) ; <nl> - } <nl> - catch ( IOException ioexception ) <nl> - { <nl> - + + + + END PATCH <nl> - + + + + REJECTED PATCH 4 <nl> - <nl> - try <nl> - { <nl> - - inputstream = Minecraft . getMinecraft ( ) . getResourceManager ( ) . getResource ( new ResourceLocation ( " font / glyph _ sizes . bin " ) ) . getInputStream ( ) ; <nl> - + inputstream = getResourceInputStream ( new ResourceLocation ( " font / glyph _ sizes . bin " ) ) ; <nl> - inputstream . read ( this . glyphWidth ) ; <nl> - } <nl> - catch ( IOException ioexception ) <nl> - + + + + END PATCH <nl> - + + + + REJECTED PATCH 13 <nl> - int j = this . glyphWidth [ character ] > > > 4 ; <nl> - int k = this . glyphWidth [ character ] & 15 ; <nl> - <nl> - - if ( k > 7 ) <nl> - - { <nl> - - k = 15 ; <nl> - - j = 0 ; <nl> - - } <nl> - <nl> - + + k ; <nl> - return ( k - j ) / 2 + 1 ; <nl> - + + + + END PATCH <nl> diff - - git a / src / main / java / net / minecraftforge / fml / client / SplashProgress . java b / src / main / java / net / minecraftforge / fml / client / SplashProgress . java <nl> index 9ed49fe . . 4f670a9 100644 <nl> - - - a / src / main / java / net / minecraftforge / fml / client / SplashProgress . java <nl> + + + b / src / main / java / net / minecraftforge / fml / client / SplashProgress . java <nl> @ @ - 75 , 9 + 75 , 12 @ @ import javax . imageio . stream . ImageInputStream ; <nl> import net . minecraft . client . Minecraft ; <nl> import net . minecraft . client . gui . FontRenderer ; <nl> import net . minecraft . client . renderer . texture . TextureManager ; <nl> + import net . minecraft . client . resources . DefaultResourcePack ; <nl> import net . minecraft . client . resources . FileResourcePack ; <nl> import net . minecraft . client . resources . FolderResourcePack ; <nl> + import net . minecraft . client . resources . IResource ; <nl> import net . minecraft . client . resources . IResourcePack ; <nl> + import net . minecraft . client . resources . SimpleResource ; <nl> import net . minecraft . crash . CrashReport ; <nl> import net . minecraft . launchwrapper . Launch ; <nl> import net . minecraft . util . ResourceLocation ; <nl> @ @ - 806 , 9 + 809 , 10 @ @ public class SplashProgress <nl> } <nl> <nl> @ Override <nl> - protected InputStream getResourceInputStream ( ResourceLocation location ) throws IOException <nl> + protected IResource getResource ( ResourceLocation location ) throws IOException <nl> { <nl> - return Minecraft . getMinecraft ( ) . mcDefaultResourcePack . getInputStream ( location ) ; <nl> + DefaultResourcePack pack = Minecraft . getMinecraft ( ) . mcDefaultResourcePack ; <nl> + return new SimpleResource ( pack . getPackName ( ) , location , pack . getInputStream ( location ) , null , null ) ; <nl> } <nl> } <nl>
NEAREST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / client / renderer / texture / TextureAtlasSprite . java . patch b / patches / minecraft / net / minecraft / client / renderer / texture / TextureAtlasSprite . java . patch <nl> new file mode 100644 <nl> index 0000000 . . 0df2675 <nl> - - - / dev / null <nl> + + + b / patches / minecraft / net / minecraft / client / renderer / texture / TextureAtlasSprite . java . patch <nl> @ @ - 0 , 0 + 1 , 32 @ @ <nl> + - - - . . / src _ base / minecraft / net / minecraft / client / renderer / texture / TextureAtlasSprite . java <nl> + + + + . . / src _ work / minecraft / net / minecraft / client / renderer / texture / TextureAtlasSprite . java <nl> + @ @ - 11 , 6 + 11 , 8 @ @ <nl> + import java . util . List ; <nl> + import javax . imageio . ImageIO ; <nl> + import net . minecraft . client . resources . Resource ; <nl> + + import net . minecraft . client . resources . ResourceLocation ; <nl> + + import net . minecraft . client . resources . ResourceManager ; <nl> + import net . minecraft . client . resources . data . AnimationFrame ; <nl> + import net . minecraft . client . resources . data . AnimationMetadataSection ; <nl> + import net . minecraft . util . Icon ; <nl> + @ @ - 184 , 6 + 186 , 20 @ @ <nl> + this . height = par1 ; <nl> + } <nl> + <nl> + + / * * <nl> + + * Load the specified resource as this sprite ' s data . <nl> + + * Returning false from this function will prevent this icon from being stitched onto the master texture . <nl> + + * @ param manager Main resource manager <nl> + + * @ param location File resource location <nl> + + * @ return False to prevent this Icon from being stitched <nl> + + * @ throws IOException <nl> + + * / <nl> + + public boolean load ( ResourceManager manager , ResourceLocation location ) throws IOException <nl> + + { <nl> + + func _ 130100 _ a ( manager . func _ 110536 _ a ( location ) ) ; <nl> + + return true ; <nl> + + } <nl> + + <nl> + public void func _ 130100 _ a ( Resource par1Resource ) throws IOException <nl> + { <nl> + this . func _ 130102 _ n ( ) ; <nl> diff - - git a / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch b / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch <nl> index 9db4e41 . . 1ac1446 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch <nl> @ @ - 16 , 7 + 16 , 7 @ @ <nl> Iterator iterator = this . field _ 110574 _ e . entrySet ( ) . iterator ( ) ; <nl> <nl> while ( iterator . hasNext ( ) ) <nl> - @ @ - 69 , 7 + 71 , 7 @ @ <nl> + @ @ - 69 , 11 + 71 , 14 @ @ <nl> Entry entry = ( Entry ) iterator . next ( ) ; <nl> String s = ( String ) entry . getKey ( ) ; <nl> TextureAtlasSprite textureatlassprite = ( TextureAtlasSprite ) entry . getValue ( ) ; <nl> @ @ - 25 , 7 + 25 , 15 @ @ <nl> <nl> try <nl> { <nl> - @ @ - 142 , 6 + 144 , 7 @ @ <nl> + - textureatlassprite . func _ 130100 _ a ( par1ResourceManager . func _ 110536 _ a ( resourcelocation ) ) ; <nl> + + if ( ! textureatlassprite . load ( par1ResourceManager , resourcelocation ) ) <nl> + + { <nl> + + continue ; <nl> + + } <nl> + } <nl> + catch ( RuntimeException runtimeexception ) <nl> + { <nl> + @ @ - 142 , 6 + 147 , 7 @ @ <nl> textureatlassprite1 = ( TextureAtlasSprite ) iterator1 . next ( ) ; <nl> textureatlassprite1 . copyFrom ( this . missingImage ) ; <nl> } <nl> @ @ - 33 , 7 + 41 , 7 @ @ <nl> } <nl> <nl> private void func _ 110573 _ f ( ) <nl> - @ @ - 212 , 6 + 215 , 7 @ @ <nl> + @ @ - 212 , 6 + 218 , 7 @ @ <nl> if ( par1Str = = null ) <nl> { <nl> ( new RuntimeException ( " Don \ ' t register null ! " ) ) . printStackTrace ( ) ; <nl> @ @ - 41 , 7 + 49 , 7 @ @ <nl> } <nl> <nl> Object object = ( TextureAtlasSprite ) this . field _ 110574 _ e . get ( par1Str ) ; <nl> - @ @ - 253 , 4 + 257 , 58 @ @ <nl> + @ @ - 253 , 4 + 260 , 58 @ @ <nl> { <nl> this . updateAnimations ( ) ; <nl> }

TEST DIFF:
diff - - git a / patches . mcp / minecraft / net / minecraft / client / gui / FontRenderer . java . patch b / patches . mcp / minecraft / net / minecraft / client / gui / FontRenderer . java . patch 
 index 7c4ef0a . . 2d53a7f 100644 
 - - - a / patches . mcp / minecraft / net / minecraft / client / gui / FontRenderer . java . patch 
 + + + b / patches . mcp / minecraft / net / minecraft / client / gui / FontRenderer . java . patch 
 @ @ - 17 , 6 + 17 , 24 @ @ 
 } 
 
 private void readFontTexture ( ) 
 + @ @ - 106 , 7 + 107 , 7 @ @ 
 + 
 + try 
 + { 
 + - iresource = Minecraft . getMinecraft ( ) . getResourceManager ( ) . getResource ( this . locationFontTexture ) ; 
 + + iresource = getResource ( this . locationFontTexture ) ; 
 + bufferedimage = TextureUtil . readBufferedImage ( iresource . getInputStream ( ) ) ; 
 + } 
 + catch ( IOException ioexception ) 
 + @ @ - 171 , 7 + 172 , 7 @ @ 
 + 
 + try 
 + { 
 + - iresource = Minecraft . getMinecraft ( ) . getResourceManager ( ) . getResource ( new ResourceLocation ( " font / glyph _ sizes . bin " ) ) ; 
 + + iresource = getResource ( new ResourceLocation ( " font / glyph _ sizes . bin " ) ) ; 
 + iresource . getInputStream ( ) . read ( this . glyphWidth ) ; 
 + } 
 + catch ( IOException ioexception ) 
 @ @ - 202 , 7 + 203 , 7 @ @ 
 int i = ch % 16 * 8 ; 
 int j = ch / 16 * 8 ; 
 @ @ - 116 , 9 + 134 , 9 @ @ 
 + renderEngine . bindTexture ( location ) ; 
 + } 
 + 
 - + protected InputStream getResourceInputStream ( ResourceLocation location ) throws IOException 
 + + protected IResource getResource ( ResourceLocation location ) throws IOException 
 + { 
 - + return Minecraft . getMinecraft ( ) . getResourceManager ( ) . getResource ( location ) . getInputStream ( ) ; 
 + + return Minecraft . getMinecraft ( ) . getResourceManager ( ) . getResource ( location ) ; 
 + } 
 + 
 public int getColorCode ( char character ) 
 diff - - git a / rejects / minecraft / net / minecraft / client / gui / FontRenderer . java . patch . rej b / rejects / minecraft / net / minecraft / client / gui / FontRenderer . java . patch . rej 
 deleted file mode 100644 
 index fea7625 . . 0000000 
 - - - a / rejects / minecraft / net / minecraft / client / gui / FontRenderer . java . patch . rej 
 + + + / dev / null 
 @ @ - 1 , 33 + 0 , 0 @ @ 
 - + + + + REJECTED PATCH 3 
 - 
 - try 
 - { 
 - - bufferedimage = TextureUtil . readBufferedImage ( Minecraft . getMinecraft ( ) . getResourceManager ( ) . getResource ( this . locationFontTexture ) . getInputStream ( ) ) ; 
 - + bufferedimage = TextureUtil . readBufferedImage ( getResourceInputStream ( this . locationFontTexture ) ) ; 
 - } 
 - catch ( IOException ioexception ) 
 - { 
 - + + + + END PATCH 
 - + + + + REJECTED PATCH 4 
 - 
 - try 
 - { 
 - - inputstream = Minecraft . getMinecraft ( ) . getResourceManager ( ) . getResource ( new ResourceLocation ( " font / glyph _ sizes . bin " ) ) . getInputStream ( ) ; 
 - + inputstream = getResourceInputStream ( new ResourceLocation ( " font / glyph _ sizes . bin " ) ) ; 
 - inputstream . read ( this . glyphWidth ) ; 
 - } 
 - catch ( IOException ioexception ) 
 - + + + + END PATCH 
 - + + + + REJECTED PATCH 13 
 - int j = this . glyphWidth [ character ] > > > 4 ; 
 - int k = this . glyphWidth [ character ] & 15 ; 
 - 
 - - if ( k > 7 ) 
 - - { 
 - - k = 15 ; 
 - - j = 0 ; 
 - - } 
 - 
 - + + k ; 
 - return ( k - j ) / 2 + 1 ; 
 - + + + + END PATCH 
 diff - - git a / src / main / java / net / minecraftforge / fml / client / SplashProgress . java b / src / main / java / net / minecraftforge / fml / client / SplashProgress . java 
 index 9ed49fe . . 4f670a9 100644 
 - - - a / src / main / java / net / minecraftforge / fml / client / SplashProgress . java 
 + + + b / src / main / java / net / minecraftforge / fml / client / SplashProgress . java 
 @ @ - 75 , 9 + 75 , 12 @ @ import javax . imageio . stream . ImageInputStream ; 
 import net . minecraft . client . Minecraft ; 
 import net . minecraft . client . gui . FontRenderer ; 
 import net . minecraft . client . renderer . texture . TextureManager ; 
 + import net . minecraft . client . resources . DefaultResourcePack ; 
 import net . minecraft . client . resources . FileResourcePack ; 
 import net . minecraft . client . resources . FolderResourcePack ; 
 + import net . minecraft . client . resources . IResource ; 
 import net . minecraft . client . resources . IResourcePack ; 
 + import net . minecraft . client . resources . SimpleResource ; 
 import net . minecraft . crash . CrashReport ; 
 import net . minecraft . launchwrapper . Launch ; 
 import net . minecraft . util . ResourceLocation ; 
 @ @ - 806 , 9 + 809 , 10 @ @ public class SplashProgress 
 } 
 
 @ Override 
 - protected InputStream getResourceInputStream ( ResourceLocation location ) throws IOException 
 + protected IResource getResource ( ResourceLocation location ) throws IOException 
 { 
 - return Minecraft . getMinecraft ( ) . mcDefaultResourcePack . getInputStream ( location ) ; 
 + DefaultResourcePack pack = Minecraft . getMinecraft ( ) . mcDefaultResourcePack ; 
 + return new SimpleResource ( pack . getPackName ( ) , location , pack . getInputStream ( location ) , null , null ) ; 
 } 
 } 


NEAREST DIFF:
diff - - git a / patches / minecraft / net / minecraft / client / renderer / texture / TextureAtlasSprite . java . patch b / patches / minecraft / net / minecraft / client / renderer / texture / TextureAtlasSprite . java . patch 
 new file mode 100644 
 index 0000000 . . 0df2675 
 - - - / dev / null 
 + + + b / patches / minecraft / net / minecraft / client / renderer / texture / TextureAtlasSprite . java . patch 
 @ @ - 0 , 0 + 1 , 32 @ @ 
 + - - - . . / src _ base / minecraft / net / minecraft / client / renderer / texture / TextureAtlasSprite . java 
 + + + + . . / src _ work / minecraft / net / minecraft / client / renderer / texture / TextureAtlasSprite . java 
 + @ @ - 11 , 6 + 11 , 8 @ @ 
 + import java . util . List ; 
 + import javax . imageio . ImageIO ; 
 + import net . minecraft . client . resources . Resource ; 
 + + import net . minecraft . client . resources . ResourceLocation ; 
 + + import net . minecraft . client . resources . ResourceManager ; 
 + import net . minecraft . client . resources . data . AnimationFrame ; 
 + import net . minecraft . client . resources . data . AnimationMetadataSection ; 
 + import net . minecraft . util . Icon ; 
 + @ @ - 184 , 6 + 186 , 20 @ @ 
 + this . height = par1 ; 
 + } 
 + 
 + + / * * 
 + + * Load the specified resource as this sprite ' s data . 
 + + * Returning false from this function will prevent this icon from being stitched onto the master texture . 
 + + * @ param manager Main resource manager 
 + + * @ param location File resource location 
 + + * @ return False to prevent this Icon from being stitched 
 + + * @ throws IOException 
 + + * / 
 + + public boolean load ( ResourceManager manager , ResourceLocation location ) throws IOException 
 + + { 
 + + func _ 130100 _ a ( manager . func _ 110536 _ a ( location ) ) ; 
 + + return true ; 
 + + } 
 + + 
 + public void func _ 130100 _ a ( Resource par1Resource ) throws IOException 
 + { 
 + this . func _ 130102 _ n ( ) ; 
 diff - - git a / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch b / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch 
 index 9db4e41 . . 1ac1446 100644 
 - - - a / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch 
 @ @ - 16 , 7 + 16 , 7 @ @ 
 Iterator iterator = this . field _ 110574 _ e . entrySet ( ) . iterator ( ) ; 
 
 while ( iterator . hasNext ( ) ) 
 - @ @ - 69 , 7 + 71 , 7 @ @ 
 + @ @ - 69 , 11 + 71 , 14 @ @ 
 Entry entry = ( Entry ) iterator . next ( ) ; 
 String s = ( String ) entry . getKey ( ) ; 
 TextureAtlasSprite textureatlassprite = ( TextureAtlasSprite ) entry . getValue ( ) ; 
 @ @ - 25 , 7 + 25 , 15 @ @ 
 
 try 
 { 
 - @ @ - 142 , 6 + 144 , 7 @ @ 
 + - textureatlassprite . func _ 130100 _ a ( par1ResourceManager . func _ 110536 _ a ( resourcelocation ) ) ; 
 + + if ( ! textureatlassprite . load ( par1ResourceManager , resourcelocation ) ) 
 + + { 
 + + continue ; 
 + + } 
 + } 
 + catch ( RuntimeException runtimeexception ) 
 + { 
 + @ @ - 142 , 6 + 147 , 7 @ @ 
 textureatlassprite1 = ( TextureAtlasSprite ) iterator1 . next ( ) ; 
 textureatlassprite1 . copyFrom ( this . missingImage ) ; 
 } 
 @ @ - 33 , 7 + 41 , 7 @ @ 
 } 
 
 private void func _ 110573 _ f ( ) 
 - @ @ - 212 , 6 + 215 , 7 @ @ 
 + @ @ - 212 , 6 + 218 , 7 @ @ 
 if ( par1Str = = null ) 
 { 
 ( new RuntimeException ( " Don \ ' t register null ! " ) ) . printStackTrace ( ) ; 
 @ @ - 41 , 7 + 49 , 7 @ @ 
 } 
 
 Object object = ( TextureAtlasSprite ) this . field _ 110574 _ e . get ( par1Str ) ; 
 - @ @ - 253 , 4 + 257 , 58 @ @ 
 + @ @ - 253 , 4 + 260 , 58 @ @ 
 { 
 this . updateAnimations ( ) ; 
 }
