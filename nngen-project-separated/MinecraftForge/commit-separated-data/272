BLEU SCORE: 0.027611988917697356

TEST MSG: Prevent various vanilla blocks from loading unloaded chunks
GENERATED MSG: Move reach distance to an attribute

TEST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / block / BlockCactus . java . patch b / patches / minecraft / net / minecraft / block / BlockCactus . java . patch <nl> index 6de9263 . . 596e4a2 100644 <nl> - - - a / patches / minecraft / net / minecraft / block / BlockCactus . java . patch <nl> + + + b / patches / minecraft / net / minecraft / block / BlockCactus . java . patch <nl> @ @ - 9 , 7 + 9 , 15 @ @ <nl> { <nl> public static final PropertyInteger field _ 176587 _ a = PropertyInteger . func _ 177719 _ a ( " age " , 0 , 15 ) ; <nl> protected static final AxisAlignedBB field _ 185593 _ b = new AxisAlignedBB ( 0 . 0625D , 0 . 0D , 0 . 0625D , 0 . 9375D , 0 . 9375D , 0 . 9375D ) ; <nl> - @ @ - 51 , 6 + 51 , 8 @ @ <nl> + @ @ - 36 , 6 + 36 , 7 @ @ <nl> + <nl> + public void func _ 180650 _ b ( World p _ 180650 _ 1 _ , BlockPos p _ 180650 _ 2 _ , IBlockState p _ 180650 _ 3 _ , Random p _ 180650 _ 4 _ ) <nl> + { <nl> + + if ( ! p _ 180650 _ 1 _ . func _ 175697 _ a ( p _ 180650 _ 2 _ , 1 ) ) return ; / / Forge : prevent growing cactus from loading unloaded chunks with block update <nl> + BlockPos blockpos = p _ 180650 _ 2 _ . func _ 177984 _ a ( ) ; <nl> + <nl> + if ( p _ 180650 _ 1 _ . func _ 175623 _ d ( blockpos ) ) <nl> + @ @ - 51 , 6 + 52 , 8 @ @ <nl> { <nl> int j = ( ( Integer ) p _ 180650 _ 3 _ . func _ 177229 _ b ( field _ 176587 _ a ) ) . intValue ( ) ; <nl> <nl> @ @ - 18 , 7 + 26 , 7 @ @ <nl> if ( j = = 15 ) <nl> { <nl> p _ 180650 _ 1 _ . func _ 175656 _ a ( blockpos , this . func _ 176223 _ P ( ) ) ; <nl> - @ @ - 62 , 6 + 64 , 8 @ @ <nl> + @ @ - 62 , 6 + 65 , 8 @ @ <nl> { <nl> p _ 180650 _ 1 _ . func _ 180501 _ a ( p _ 180650 _ 2 _ , p _ 180650 _ 3 _ . func _ 177226 _ a ( field _ 176587 _ a , Integer . valueOf ( j + 1 ) ) , 4 ) ; <nl> } <nl> @ @ - 27 , 7 + 35 , 7 @ @ <nl> } <nl> } <nl> } <nl> - @ @ - 112 , 8 + 116 , 8 @ @ <nl> + @ @ - 112 , 8 + 117 , 8 @ @ <nl> } <nl> } <nl> <nl> @ @ - 38 , 7 + 46 , 7 @ @ <nl> } <nl> <nl> public void func _ 180634 _ a ( World p _ 180634 _ 1 _ , BlockPos p _ 180634 _ 2 _ , IBlockState p _ 180634 _ 3 _ , Entity p _ 180634 _ 4 _ ) <nl> - @ @ - 137 , 6 + 141 , 18 @ @ <nl> + @ @ - 137 , 6 + 142 , 18 @ @ <nl> return ( ( Integer ) p _ 176201 _ 1 _ . func _ 177229 _ b ( field _ 176587 _ a ) ) . intValue ( ) ; <nl> } <nl> <nl> diff - - git a / patches / minecraft / net / minecraft / block / BlockCrops . java . patch b / patches / minecraft / net / minecraft / block / BlockCrops . java . patch <nl> index 3e915e6 . . c5b37a5 100644 <nl> - - - a / patches / minecraft / net / minecraft / block / BlockCrops . java . patch <nl> + + + b / patches / minecraft / net / minecraft / block / BlockCrops . java . patch <nl> @ @ - 1 , 6 + 1 , 14 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / block / BlockCrops . java <nl> + + + . . / src - work / minecraft / net / minecraft / block / BlockCrops . java <nl> - @ @ - 78 , 9 + 78 , 10 @ @ <nl> + @ @ - 70 , 6 + 70 , 7 @ @ <nl> + { <nl> + super . func _ 180650 _ b ( p _ 180650 _ 1 _ , p _ 180650 _ 2 _ , p _ 180650 _ 3 _ , p _ 180650 _ 4 _ ) ; <nl> + <nl> + + if ( ! p _ 180650 _ 1 _ . func _ 175697 _ a ( p _ 180650 _ 2 _ , 1 ) ) return ; / / Forge : prevent loading unloaded chunks when checking neighbor ' s light <nl> + if ( p _ 180650 _ 1 _ . func _ 175671 _ l ( p _ 180650 _ 2 _ . func _ 177984 _ a ( ) ) > = 9 ) <nl> + { <nl> + int i = this . func _ 185527 _ x ( p _ 180650 _ 3 _ ) ; <nl> + @ @ - 78 , 9 + 79 , 10 @ @ <nl> { <nl> float f = func _ 180672 _ a ( this , p _ 180650 _ 1 _ , p _ 180650 _ 2 _ ) ; <nl> <nl> @ @ - 12 , 7 + 20 , 7 @ @ <nl> } <nl> } <nl> } <nl> - @ @ - 116 , 11 + 117 , 11 @ @ <nl> + @ @ - 116 , 11 + 118 , 11 @ @ <nl> float f1 = 0 . 0F ; <nl> IBlockState iblockstate = p _ 180672 _ 1 _ . func _ 180495 _ p ( blockpos . func _ 177982 _ a ( i , 0 , j ) ) ; <nl> <nl> @ @ - 26 , 7 + 34 , 7 @ @ <nl> { <nl> f1 = 3 . 0F ; <nl> } <nl> - @ @ - 161 , 7 + 162 , 8 @ @ <nl> + @ @ - 161 , 7 + 163 , 8 @ @ <nl> <nl> public boolean func _ 180671 _ f ( World p _ 180671 _ 1 _ , BlockPos p _ 180671 _ 2 _ , IBlockState p _ 180671 _ 3 _ ) <nl> { <nl> @ @ - 36 , 7 + 44 , 7 @ @ <nl> } <nl> <nl> protected Item func _ 149866 _ i ( ) <nl> - @ @ - 174 , 11 + 176 , 32 @ @ <nl> + @ @ - 174 , 11 + 177 , 32 @ @ <nl> return Items . field _ 151015 _ O ; <nl> } <nl> <nl> diff - - git a / patches / minecraft / net / minecraft / block / BlockDynamicLiquid . java . patch b / patches / minecraft / net / minecraft / block / BlockDynamicLiquid . java . patch <nl> index ec36681 . . 00faef8 100644 <nl> - - - a / patches / minecraft / net / minecraft / block / BlockDynamicLiquid . java . patch <nl> + + + b / patches / minecraft / net / minecraft / block / BlockDynamicLiquid . java . patch <nl> @ @ - 1 , 6 + 1 , 14 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / block / BlockDynamicLiquid . java <nl> + + + . . / src - work / minecraft / net / minecraft / block / BlockDynamicLiquid . java <nl> - @ @ - 67 , 7 + 67 , 7 @ @ <nl> + @ @ - 26 , 6 + 26 , 7 @ @ <nl> + <nl> + public void func _ 180650 _ b ( World p _ 180650 _ 1 _ , BlockPos p _ 180650 _ 2 _ , IBlockState p _ 180650 _ 3 _ , Random p _ 180650 _ 4 _ ) <nl> + { <nl> + + if ( ! p _ 180650 _ 1 _ . func _ 175697 _ a ( p _ 180650 _ 2 _ , this . func _ 185698 _ b ( p _ 180650 _ 1 _ ) ) ) return ; / / Forge : avoid loading unloaded chunks <nl> + int i = ( ( Integer ) p _ 180650 _ 3 _ . func _ 177229 _ b ( field _ 176367 _ b ) ) . intValue ( ) ; <nl> + int j = 1 ; <nl> + <nl> + @ @ - 67 , 7 + 68 , 7 @ @ <nl> } <nl> } <nl> <nl> @ @ - 9 , 7 + 17 , 7 @ @ <nl> { <nl> IBlockState iblockstate = p _ 180650 _ 1 _ . func _ 180495 _ p ( p _ 180650 _ 2 _ . func _ 177977 _ b ( ) ) ; <nl> <nl> - @ @ - 166 , 6 + 166 , 7 @ @ <nl> + @ @ - 166 , 6 + 167 , 7 @ @ <nl> } <nl> else <nl> { <nl> @ @ - 17 , 7 + 25 , 7 @ @ <nl> p _ 176375 _ 3 _ . func _ 177230 _ c ( ) . func _ 176226 _ b ( p _ 176375 _ 1 _ , p _ 176375 _ 2 _ , p _ 176375 _ 3 _ , 0 ) ; <nl> } <nl> } <nl> - @ @ - 187 , 7 + 188 , 7 @ @ <nl> + @ @ - 187 , 7 + 189 , 7 @ @ <nl> <nl> if ( ! this . func _ 176372 _ g ( p _ 176374 _ 1 _ , blockpos , iblockstate ) & & ( iblockstate . func _ 185904 _ a ( ) ! = this . field _ 149764 _ J | | ( ( Integer ) iblockstate . func _ 177229 _ b ( field _ 176367 _ b ) ) . intValue ( ) > 0 ) ) <nl> { <nl> @ @ - 26 , 7 + 34 , 7 @ @ <nl> { <nl> return p _ 176374 _ 3 _ ; <nl> } <nl> - @ @ - 254 , 11 + 255 , 12 @ @ <nl> + @ @ - 254 , 11 + 256 , 12 @ @ <nl> <nl> private boolean func _ 176372 _ g ( World p _ 176372 _ 1 _ , BlockPos p _ 176372 _ 2 _ , IBlockState p _ 176372 _ 3 _ ) <nl> { <nl> diff - - git a / patches / minecraft / net / minecraft / block / BlockFire . java . patch b / patches / minecraft / net / minecraft / block / BlockFire . java . patch <nl> index 4706036 . . 6164950 100644 <nl> - - - a / patches / minecraft / net / minecraft / block / BlockFire . java . patch <nl> + + + b / patches / minecraft / net / minecraft / block / BlockFire . java . patch <nl> @ @ - 25 , 7 + 25 , 14 @ @ <nl> this . field _ 149849 _ a . put ( p _ 180686 _ 1 _ , Integer . valueOf ( p _ 180686 _ 2 _ ) ) ; <nl> this . field _ 149848 _ b . put ( p _ 180686 _ 1 _ , Integer . valueOf ( p _ 180686 _ 3 _ ) ) ; <nl> } <nl> - @ @ - 132 , 13 + 141 , 8 @ @ <nl> + @ @ - 126 , 19 + 135 , 15 @ @ <nl> + { <nl> + if ( p _ 180650 _ 1 _ . func _ 82736 _ K ( ) . func _ 82766 _ b ( " doFireTick " ) ) <nl> + { <nl> + + if ( ! p _ 180650 _ 1 _ . func _ 175697 _ a ( p _ 180650 _ 2 _ , 2 ) ) return ; / / Forge : prevent loading unloaded chunks when spreading fire <nl> + if ( ! this . func _ 176196 _ c ( p _ 180650 _ 1 _ , p _ 180650 _ 2 _ ) ) <nl> + { <nl> + p _ 180650 _ 1 _ . func _ 175698 _ g ( p _ 180650 _ 2 _ ) ; <nl> } <nl> <nl> Block block = p _ 180650 _ 1 _ . func _ 180495 _ p ( p _ 180650 _ 2 _ . func _ 177977 _ b ( ) ) . func _ 177230 _ c ( ) ; <nl> @ @ - 40 , 7 + 47 , 7 @ @ <nl> int i = ( ( Integer ) p _ 180650 _ 3 _ . func _ 177229 _ b ( field _ 176543 _ a ) ) . intValue ( ) ; <nl> <nl> if ( ! flag & & p _ 180650 _ 1 _ . func _ 72896 _ J ( ) & & this . func _ 176537 _ d ( p _ 180650 _ 1 _ , p _ 180650 _ 2 _ ) & & p _ 180650 _ 4 _ . nextFloat ( ) < 0 . 2F + ( float ) i * 0 . 03F ) <nl> - @ @ - 159 , 7 + 163 , 7 @ @ <nl> + @ @ - 159 , 7 + 164 , 7 @ @ <nl> { <nl> if ( ! this . func _ 176533 _ e ( p _ 180650 _ 1 _ , p _ 180650 _ 2 _ ) ) <nl> { <nl> @ @ - 49 , 7 + 56 , 7 @ @ <nl> { <nl> p _ 180650 _ 1 _ . func _ 175698 _ g ( p _ 180650 _ 2 _ ) ; <nl> } <nl> - @ @ - 167 , 7 + 171 , 7 @ @ <nl> + @ @ - 167 , 7 + 172 , 7 @ @ <nl> return ; <nl> } <nl> <nl> @ @ - 58 , 7 + 65 , 7 @ @ <nl> { <nl> p _ 180650 _ 1 _ . func _ 175698 _ g ( p _ 180650 _ 2 _ ) ; <nl> return ; <nl> - @ @ - 182 , 12 + 186 , 12 @ @ <nl> + @ @ - 182 , 12 + 187 , 12 @ @ <nl> j = - 50 ; <nl> } <nl> <nl> @ @ - 77 , 7 + 84 , 7 @ @ <nl> <nl> for ( int k = - 1 ; k < = 1 ; + + k ) <nl> { <nl> - @ @ - 246 , 22 + 250 , 30 @ @ <nl> + @ @ - 246 , 22 + 251 , 30 @ @ <nl> return false ; <nl> } <nl> <nl> @ @ - 109 , 7 + 116 , 7 @ @ <nl> if ( p _ 176536 _ 4 _ . nextInt ( p _ 176536 _ 3 _ ) < i ) <nl> { <nl> IBlockState iblockstate = p _ 176536 _ 1 _ . func _ 180495 _ p ( p _ 176536 _ 2 _ ) ; <nl> - @ @ - 293 , 7 + 305 , 7 @ @ <nl> + @ @ - 293 , 7 + 306 , 7 @ @ <nl> { <nl> for ( EnumFacing enumfacing : EnumFacing . values ( ) ) <nl> { <nl> @ @ - 118 , 7 + 125 , 7 @ @ <nl> { <nl> return true ; <nl> } <nl> - @ @ - 314 , 7 + 326 , 7 @ @ <nl> + @ @ - 314 , 7 + 327 , 7 @ @ <nl> <nl> for ( EnumFacing enumfacing : EnumFacing . values ( ) ) <nl> { <nl> @ @ - 127 , 7 + 134 , 7 @ @ <nl> } <nl> <nl> return i ; <nl> - @ @ - 326 , 9 + 338 , 10 @ @ <nl> + @ @ - 326 , 9 + 339 , 10 @ @ <nl> return false ; <nl> } <nl> <nl> @ @ - 139 , 7 + 146 , 7 @ @ <nl> } <nl> <nl> public boolean func _ 176196 _ c ( World p _ 176196 _ 1 _ , BlockPos p _ 176196 _ 2 _ ) <nl> - @ @ - 372 , 9 + 385 , 9 @ @ <nl> + @ @ - 372 , 9 + 386 , 9 @ @ <nl> p _ 180655 _ 2 _ . func _ 184134 _ a ( ( double ) ( ( float ) p _ 180655 _ 3 _ . func _ 177958 _ n ( ) + 0 . 5F ) , ( double ) ( ( float ) p _ 180655 _ 3 _ . func _ 177956 _ o ( ) + 0 . 5F ) , ( double ) ( ( float ) p _ 180655 _ 3 _ . func _ 177952 _ p ( ) + 0 . 5F ) , SoundEvents . field _ 187643 _ bs , SoundCategory . BLOCKS , 1 . 0F + p _ 180655 _ 4 _ . nextFloat ( ) , p _ 180655 _ 4 _ . nextFloat ( ) * 0 . 7F + 0 . 3F , false ) ; <nl> } <nl> <nl> @ @ - 151 , 7 + 158 , 7 @ @ <nl> { <nl> for ( int j = 0 ; j < 2 ; + + j ) <nl> { <nl> - @ @ - 385 , 7 + 398 , 7 @ @ <nl> + @ @ - 385 , 7 + 399 , 7 @ @ <nl> } <nl> } <nl> <nl> @ @ - 160 , 7 + 167 , 7 @ @ <nl> { <nl> for ( int k = 0 ; k < 2 ; + + k ) <nl> { <nl> - @ @ - 396 , 7 + 409 , 7 @ @ <nl> + @ @ - 396 , 7 + 410 , 7 @ @ <nl> } <nl> } <nl> <nl> @ @ - 169 , 7 + 176 , 7 @ @ <nl> { <nl> for ( int l = 0 ; l < 2 ; + + l ) <nl> { <nl> - @ @ - 407 , 7 + 420 , 7 @ @ <nl> + @ @ - 407 , 7 + 421 , 7 @ @ <nl> } <nl> } <nl> <nl> @ @ - 178 , 7 + 185 , 7 @ @ <nl> { <nl> for ( int i1 = 0 ; i1 < 2 ; + + i1 ) <nl> { <nl> - @ @ - 418 , 7 + 431 , 7 @ @ <nl> + @ @ - 418 , 7 + 432 , 7 @ @ <nl> } <nl> } <nl> <nl> @ @ - 187 , 7 + 194 , 7 @ @ <nl> { <nl> for ( int j1 = 0 ; j1 < 2 ; + + j1 ) <nl> { <nl> - @ @ - 462 , 6 + 475 , 21 @ @ <nl> + @ @ - 462 , 6 + 476 , 21 @ @ <nl> return new BlockStateContainer ( this , new IProperty [ ] { field _ 176543 _ a , field _ 176545 _ N , field _ 176546 _ O , field _ 176541 _ P , field _ 176539 _ Q , field _ 176542 _ R } ) ; <nl> } <nl> <nl> diff - - git a / patches / minecraft / net / minecraft / block / BlockGrass . java . patch b / patches / minecraft / net / minecraft / block / BlockGrass . java . patch <nl> index 73c11c5 . . b68cf2a 100644 <nl> - - - a / patches / minecraft / net / minecraft / block / BlockGrass . java . patch <nl> + + + b / patches / minecraft / net / minecraft / block / BlockGrass . java . patch <nl> @ @ - 1 , 15 + 1 , 16 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / block / BlockGrass . java <nl> + + + . . / src - work / minecraft / net / minecraft / block / BlockGrass . java <nl> - @ @ - 38 , 7 + 38 , 7 @ @ <nl> + @ @ - 38 , 7 + 38 , 8 @ @ <nl> { <nl> if ( ! p _ 180650 _ 1 _ . field _ 72995 _ K ) <nl> { <nl> - if ( p _ 180650 _ 1 _ . func _ 175671 _ l ( p _ 180650 _ 2 _ . func _ 177984 _ a ( ) ) < 4 & & p _ 180650 _ 1 _ . func _ 180495 _ p ( p _ 180650 _ 2 _ . func _ 177984 _ a ( ) ) . func _ 185891 _ c ( ) > 2 ) <nl> + + if ( ! p _ 180650 _ 1 _ . func _ 175697 _ a ( p _ 180650 _ 2 _ , 3 ) ) return ; / / Forge : prevent loading unloaded chunks when checking neighbor ' s light and spreading <nl> + if ( p _ 180650 _ 1 _ . func _ 175671 _ l ( p _ 180650 _ 2 _ . func _ 177984 _ a ( ) ) < 4 & & p _ 180650 _ 1 _ . func _ 180495 _ p ( p _ 180650 _ 2 _ . func _ 177984 _ a ( ) ) . getLightOpacity ( p _ 180650 _ 1 _ , p _ 180650 _ 2 _ . func _ 177984 _ a ( ) ) > 2 ) <nl> { <nl> p _ 180650 _ 1 _ . func _ 175656 _ a ( p _ 180650 _ 2 _ , Blocks . field _ 150346 _ d . func _ 176223 _ P ( ) ) ; <nl> } <nl> - @ @ - 58 , 7 + 58 , 7 @ @ <nl> + @ @ - 58 , 7 + 59 , 7 @ @ <nl> IBlockState iblockstate = p _ 180650 _ 1 _ . func _ 180495 _ p ( blockpos . func _ 177984 _ a ( ) ) ; <nl> IBlockState iblockstate1 = p _ 180650 _ 1 _ . func _ 180495 _ p ( blockpos ) ; <nl> <nl> @ @ - 18 , 7 + 19 , 7 @ @ <nl> { <nl> p _ 180650 _ 1 _ . func _ 175656 _ a ( blockpos , Blocks . field _ 150349 _ c . func _ 176223 _ P ( ) ) ; <nl> } <nl> - @ @ - 96 , 18 + 96 , 11 @ @ <nl> + @ @ - 96 , 18 + 97 , 11 @ @ <nl> { <nl> if ( j > = i / 16 ) <nl> { <nl> diff - - git a / patches / minecraft / net / minecraft / block / BlockLeaves . java . patch b / patches / minecraft / net / minecraft / block / BlockLeaves . java . patch <nl> index 4b6669c . . fd9616a 100644 <nl> - - - a / patches / minecraft / net / minecraft / block / BlockLeaves . java . patch <nl> + + + b / patches / minecraft / net / minecraft / block / BlockLeaves . java . patch <nl> @ @ - 21 , 7 + 21 , 17 @ @ <nl> } <nl> } <nl> } <nl> - @ @ - 96 , 9 + 96 , 9 @ @ <nl> + @ @ - 83 , 7 + 83 , 8 @ @ <nl> + this . field _ 150128 _ a = new int [ 32768 ] ; <nl> + } <nl> + <nl> + - if ( p _ 180650 _ 1 _ . func _ 175707 _ a ( new BlockPos ( k - 5 , l - 5 , i1 - 5 ) , new BlockPos ( k + 5 , l + 5 , i1 + 5 ) ) ) <nl> + + if ( ! p _ 180650 _ 1 _ . func _ 175697 _ a ( p _ 180650 _ 2 _ , 1 ) ) return ; / / Forge : prevent decaying leaves from updating neighbors and loading unloaded chunks <nl> + + if ( p _ 180650 _ 1 _ . func _ 175697 _ a ( p _ 180650 _ 2 _ , 6 ) ) / / Forge : extend range from 5 to 6 to account for neighbor checks in world . markAndNotifyBlock - > world . updateObservingBlocksAt <nl> + { <nl> + BlockPos . MutableBlockPos blockpos $ mutableblockpos = new BlockPos . MutableBlockPos ( ) ; <nl> + <nl> + @ @ - 96 , 9 + 97 , 9 @ @ <nl> IBlockState iblockstate = p _ 180650 _ 1 _ . func _ 180495 _ p ( blockpos $ mutableblockpos . func _ 181079 _ c ( k + i2 , l + j2 , i1 + k2 ) ) ; <nl> Block block = iblockstate . func _ 177230 _ c ( ) ; <nl> <nl> @ @ - 33 , 7 + 43 , 7 @ @ <nl> { <nl> this . field _ 150128 _ a [ ( i2 + 16 ) * 1024 + ( j2 + 16 ) * 32 + k2 + 16 ] = - 2 ; <nl> } <nl> - @ @ - 205 , 40 + 205 , 7 @ @ <nl> + @ @ - 205 , 40 + 206 , 7 @ @ <nl> <nl> public void func _ 180653 _ a ( World p _ 180653 _ 1 _ , BlockPos p _ 180653 _ 2 _ , IBlockState p _ 180653 _ 3 _ , float p _ 180653 _ 4 _ , int p _ 180653 _ 5 _ ) <nl> { <nl> @ @ - 75 , 7 + 85 , 7 @ @ <nl> } <nl> <nl> protected void func _ 176234 _ a ( World p _ 176234 _ 1 _ , BlockPos p _ 176234 _ 2 _ , IBlockState p _ 176234 _ 3 _ , int p _ 176234 _ 4 _ ) <nl> - @ @ - 274 , 6 + 241 , 51 @ @ <nl> + @ @ - 274 , 6 + 242 , 51 @ @ <nl> <nl> public abstract BlockPlanks . EnumType func _ 176233 _ b ( int p _ 176233 _ 1 _ ) ; <nl> <nl> diff - - git a / patches / minecraft / net / minecraft / block / BlockMycelium . java . patch b / patches / minecraft / net / minecraft / block / BlockMycelium . java . patch <nl> index f976444 . . 36158f0 100644 <nl> - - - a / patches / minecraft / net / minecraft / block / BlockMycelium . java . patch <nl> + + + b / patches / minecraft / net / minecraft / block / BlockMycelium . java . patch <nl> @ @ - 1 , 15 + 1 , 16 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / block / BlockMycelium . java <nl> + + + . . / src - work / minecraft / net / minecraft / block / BlockMycelium . java <nl> - @ @ - 39 , 7 + 39 , 7 @ @ <nl> + @ @ - 39 , 7 + 39 , 8 @ @ <nl> { <nl> if ( ! p _ 180650 _ 1 _ . field _ 72995 _ K ) <nl> { <nl> - if ( p _ 180650 _ 1 _ . func _ 175671 _ l ( p _ 180650 _ 2 _ . func _ 177984 _ a ( ) ) < 4 & & p _ 180650 _ 1 _ . func _ 180495 _ p ( p _ 180650 _ 2 _ . func _ 177984 _ a ( ) ) . func _ 185891 _ c ( ) > 2 ) <nl> + + if ( ! p _ 180650 _ 1 _ . func _ 175697 _ a ( p _ 180650 _ 2 _ , 2 ) ) return ; / / Forge : prevent loading unloaded chunks when checking neighbor ' s light and spreading <nl> + if ( p _ 180650 _ 1 _ . func _ 175671 _ l ( p _ 180650 _ 2 _ . func _ 177984 _ a ( ) ) < 4 & & p _ 180650 _ 1 _ . func _ 180495 _ p ( p _ 180650 _ 2 _ . func _ 177984 _ a ( ) ) . getLightOpacity ( p _ 180650 _ 1 _ , p _ 180650 _ 2 _ . func _ 177984 _ a ( ) ) > 2 ) <nl> { <nl> p _ 180650 _ 1 _ . func _ 175656 _ a ( p _ 180650 _ 2 _ , Blocks . field _ 150346 _ d . func _ 176223 _ P ( ) . func _ 177226 _ a ( BlockDirt . field _ 176386 _ a , BlockDirt . DirtType . DIRT ) ) ; <nl> } <nl> - @ @ - 53 , 7 + 53 , 7 @ @ <nl> + @ @ - 53 , 7 + 54 , 7 @ @ <nl> IBlockState iblockstate = p _ 180650 _ 1 _ . func _ 180495 _ p ( blockpos ) ; <nl> IBlockState iblockstate1 = p _ 180650 _ 1 _ . func _ 180495 _ p ( blockpos . func _ 177984 _ a ( ) ) ; <nl> <nl> diff - - git a / patches / minecraft / net / minecraft / block / BlockSapling . java . patch b / patches / minecraft / net / minecraft / block / BlockSapling . java . patch <nl> index 5fc2fa5 . . 059accc 100644 <nl> - - - a / patches / minecraft / net / minecraft / block / BlockSapling . java . patch <nl> + + + b / patches / minecraft / net / minecraft / block / BlockSapling . java . patch <nl> @ @ - 1 , 6 + 1 , 14 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / block / BlockSapling . java <nl> + + + . . / src - work / minecraft / net / minecraft / block / BlockSapling . java <nl> - @ @ - 74 , 6 + 74 , 7 @ @ <nl> + @ @ - 53 , 6 + 53 , 7 @ @ <nl> + { <nl> + super . func _ 180650 _ b ( p _ 180650 _ 1 _ , p _ 180650 _ 2 _ , p _ 180650 _ 3 _ , p _ 180650 _ 4 _ ) ; <nl> + <nl> + + if ( ! p _ 180650 _ 1 _ . func _ 175697 _ a ( p _ 180650 _ 2 _ , 1 ) ) return ; / / Forge : prevent loading unloaded chunks when checking neighbor ' s light <nl> + if ( p _ 180650 _ 1 _ . func _ 175671 _ l ( p _ 180650 _ 2 _ . func _ 177984 _ a ( ) ) > = 9 & & p _ 180650 _ 4 _ . nextInt ( 7 ) = = 0 ) <nl> + { <nl> + this . func _ 176478 _ d ( p _ 180650 _ 1 _ , p _ 180650 _ 2 _ , p _ 180650 _ 3 _ , p _ 180650 _ 4 _ ) ; <nl> + @ @ - 74 , 6 + 75 , 7 @ @ <nl> <nl> public void func _ 176476 _ e ( World p _ 176476 _ 1 _ , BlockPos p _ 176476 _ 2 _ , IBlockState p _ 176476 _ 3 _ , Random p _ 176476 _ 4 _ ) <nl> { <nl> diff - - git a / patches / minecraft / net / minecraft / block / BlockStem . java . patch b / patches / minecraft / net / minecraft / block / BlockStem . java . patch <nl> index 878d14c . . 34ee16b 100644 <nl> - - - a / patches / minecraft / net / minecraft / block / BlockStem . java . patch <nl> + + + b / patches / minecraft / net / minecraft / block / BlockStem . java . patch <nl> @ @ - 1 , 6 + 1 , 11 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / block / BlockStem . java <nl> + + + . . / src - work / minecraft / net / minecraft / block / BlockStem . java <nl> - @ @ - 70 , 14 + 70 , 14 @ @ <nl> + @ @ - 66 , 18 + 66 , 19 @ @ <nl> + { <nl> + super . func _ 180650 _ b ( p _ 180650 _ 1 _ , p _ 180650 _ 2 _ , p _ 180650 _ 3 _ , p _ 180650 _ 4 _ ) ; <nl> + <nl> + + if ( ! p _ 180650 _ 1 _ . func _ 175697 _ a ( p _ 180650 _ 2 _ , 1 ) ) return ; / / Forge : prevent loading unloaded chunks when checking neighbor ' s light <nl> + if ( p _ 180650 _ 1 _ . func _ 175671 _ l ( p _ 180650 _ 2 _ . func _ 177984 _ a ( ) ) > = 9 ) <nl> { <nl> float f = BlockCrops . func _ 180672 _ a ( this , p _ 180650 _ 1 _ , p _ 180650 _ 2 _ ) ; <nl> <nl> @ @ - 18 , 7 + 23 , 7 @ @ <nl> } <nl> else <nl> { <nl> - @ @ - 90 , 13 + 90 , 15 @ @ <nl> + @ @ - 90 , 13 + 91 , 15 @ @ <nl> } <nl> <nl> p _ 180650 _ 2 _ = p _ 180650 _ 2 _ . func _ 177972 _ a ( EnumFacing . Plane . HORIZONTAL . func _ 179518 _ a ( p _ 180650 _ 4 _ ) ) ; <nl> @ @ - 36 , 7 + 41 , 7 @ @ <nl> } <nl> } <nl> } <nl> - @ @ - 110 , 20 + 112 , 23 @ @ <nl> + @ @ - 110 , 20 + 113 , 23 @ @ <nl> public void func _ 180653 _ a ( World p _ 180653 _ 1 _ , BlockPos p _ 180653 _ 2 _ , IBlockState p _ 180653 _ 3 _ , float p _ 180653 _ 4 _ , int p _ 180653 _ 5 _ ) <nl> { <nl> super . func _ 180653 _ a ( p _ 180653 _ 1 _ , p _ 180653 _ 2 _ , p _ 180653 _ 3 _ , p _ 180653 _ 4 _ , p _ 180653 _ 5 _ ) ; <nl> diff - - git a / patches / minecraft / net / minecraft / block / BlockVine . java . patch b / patches / minecraft / net / minecraft / block / BlockVine . java . patch <nl> index fd299b1 . . b6860d8 100644 <nl> - - - a / patches / minecraft / net / minecraft / block / BlockVine . java . patch <nl> + + + b / patches / minecraft / net / minecraft / block / BlockVine . java . patch <nl> @ @ - 9 , 6 + 9 , 15 @ @ <nl> { <nl> public static final PropertyBool field _ 176277 _ a = PropertyBool . func _ 177716 _ a ( " up " ) ; <nl> public static final PropertyBool field _ 176273 _ b = PropertyBool . func _ 177716 _ a ( " north " ) ; <nl> + @ @ - 185 , 7 + 185 , 7 @ @ <nl> + { <nl> + if ( ! p _ 180650 _ 1 _ . field _ 72995 _ K ) <nl> + { <nl> + - if ( p _ 180650 _ 1 _ . field _ 73012 _ v . nextInt ( 4 ) = = 0 ) <nl> + + if ( p _ 180650 _ 1 _ . field _ 73012 _ v . nextInt ( 4 ) = = 0 & & p _ 180650 _ 1 _ . func _ 175697 _ a ( p _ 180650 _ 2 _ , 4 ) ) / / Forge : check area to prevent loading unloaded chunks <nl> + { <nl> + int i = 4 ; <nl> + int j = 5 ; <nl> @ @ - 244 , 7 + 244 , 7 @ @ <nl> IBlockState iblockstate3 = p _ 180650 _ 1 _ . func _ 180495 _ p ( blockpos4 ) ; <nl> Block block1 = iblockstate3 . func _ 177230 _ c ( ) ; <nl> diff - - git a / patches / minecraft / net / minecraft / tileentity / TileEntityChest . java . patch b / patches / minecraft / net / minecraft / tileentity / TileEntityChest . java . patch <nl> index 09dabdc . . 78b80ff 100644 <nl> - - - a / patches / minecraft / net / minecraft / tileentity / TileEntityChest . java . patch <nl> + + + b / patches / minecraft / net / minecraft / tileentity / TileEntityChest . java . patch <nl> @ @ - 8 , 7 + 8 , 15 @ @ <nl> } <nl> <nl> @ SuppressWarnings ( " incomplete - switch " ) <nl> - @ @ - 349 , 6 + 350 , 29 @ @ <nl> + @ @ - 167 , 6 + 168 , 7 @ @ <nl> + { <nl> + if ( ! this . field _ 145984 _ a ) <nl> + { <nl> + + if ( this . field _ 145850 _ b = = null | | ! this . field _ 145850 _ b . func _ 175697 _ a ( this . field _ 174879 _ c , 1 ) ) return ; / / Forge : prevent loading unloaded chunks when checking neighbors <nl> + this . field _ 145984 _ a = true ; <nl> + this . field _ 145991 _ k = this . func _ 174911 _ a ( EnumFacing . WEST ) ; <nl> + this . field _ 145990 _ j = this . func _ 174911 _ a ( EnumFacing . EAST ) ; <nl> + @ @ - 349 , 6 + 351 , 29 @ @ <nl> } <nl> } <nl> <nl> diff - - git a / patches / minecraft / net / minecraft / village / Village . java . patch b / patches / minecraft / net / minecraft / village / Village . java . patch <nl> index bf5691c . . b435446 100644 <nl> - - - a / patches / minecraft / net / minecraft / village / Village . java . patch <nl> + + + b / patches / minecraft / net / minecraft / village / Village . java . patch <nl> @ @ - 45 , 7 + 45 , 15 @ @ <nl> <nl> if ( entityplayer1 ! = null ) <nl> { <nl> - @ @ - 415 , 25 + 417 , 51 @ @ <nl> + @ @ - 362 , 6 + 364 , 7 @ @ <nl> + villagedoorinfo . func _ 75466 _ d ( ) ; <nl> + } <nl> + <nl> + + if ( field _ 75586 _ a . func _ 175667 _ e ( villagedoorinfo . func _ 179852 _ d ( ) ) ) / / Forge : check that the door block is loaded to avoid loading chunks <nl> + if ( ! this . func _ 179860 _ f ( villagedoorinfo . func _ 179852 _ d ( ) ) | | Math . abs ( this . field _ 75581 _ g - villagedoorinfo . func _ 75473 _ b ( ) ) > 1200 ) <nl> + { <nl> + this . field _ 75585 _ c = this . field _ 75585 _ c . func _ 177973 _ b ( villagedoorinfo . func _ 179852 _ d ( ) ) ; <nl> + @ @ - 415 , 25 + 418 , 51 @ @ <nl> } <nl> } <nl> <nl> @ @ - 99 , 7 + 107 , 7 @ @ <nl> public void func _ 82690 _ a ( NBTTagCompound p _ 82690 _ 1 _ ) <nl> { <nl> this . field _ 75588 _ h = p _ 82690 _ 1 _ . func _ 74762 _ e ( " PopSize " ) ; <nl> - @ @ - 459 , 21 + 487 , 17 @ @ <nl> + @ @ - 459 , 21 + 488 , 17 @ @ <nl> { <nl> NBTTagCompound nbttagcompound1 = nbttaglist1 . func _ 150305 _ b ( j ) ; <nl> <nl> @ @ - 126 , 7 + 134 , 7 @ @ <nl> } <nl> <nl> public void func _ 82689 _ b ( NBTTagCompound p _ 82689 _ 1 _ ) <nl> - @ @ - 507 , 18 + 531 , 14 @ @ <nl> + @ @ - 507 , 18 + 532 , 14 @ @ <nl> p _ 82689 _ 1 _ . func _ 74782 _ a ( " Doors " , nbttaglist ) ; <nl> NBTTagList nbttaglist1 = new NBTTagList ( ) ; <nl> <nl> @ @ - 147 , 7 + 155 , 7 @ @ <nl> nbttagcompound1 . func _ 74768 _ a ( " S " , ( ( Integer ) this . field _ 82693 _ j . get ( s ) ) . intValue ( ) ) ; <nl> nbttaglist1 . func _ 74742 _ a ( nbttagcompound1 ) ; <nl> } <nl> - @ @ - 530 , 6 + 550 , 7 @ @ <nl> + @ @ - 530 , 6 + 551 , 7 @ @ <nl> } <nl> <nl> p _ 82689 _ 1 _ . func _ 74782 _ a ( " Players " , nbttaglist1 ) ; <nl> @ @ - 155 , 7 + 163 , 7 @ @ <nl> } <nl> <nl> public void func _ 82692 _ h ( ) <nl> - @ @ - 544 , 9 + 565 , 9 @ @ <nl> + @ @ - 544 , 9 + 566 , 9 @ @ <nl> <nl> public void func _ 82683 _ b ( int p _ 82683 _ 1 _ ) <nl> { <nl> @ @ - 167 , 7 + 175 , 7 @ @ <nl> } <nl> } <nl> <nl> - @ @ - 561 , 4 + 582 , 31 @ @ <nl> + @ @ - 561 , 4 + 583 , 31 @ @ <nl> this . field _ 75590 _ b = p _ i1674 _ 3 _ ; <nl> } <nl> } <nl> diff - - git a / patches / minecraft / net / minecraft / village / VillageCollection . java . patch b / patches / minecraft / net / minecraft / village / VillageCollection . java . patch <nl> new file mode 100644 <nl> index 0000000 . . 41811b9 <nl> - - - / dev / null <nl> + + + b / patches / minecraft / net / minecraft / village / VillageCollection . java . patch <nl> @ @ - 0 , 0 + 1 , 10 @ @ <nl> + - - - . . / src - base / minecraft / net / minecraft / village / VillageCollection . java <nl> + + + + . . / src - work / minecraft / net / minecraft / village / VillageCollection . java <nl> + @ @ - 151 , 6 + 151 , 7 @ @ <nl> + <nl> + private void func _ 180609 _ b ( BlockPos p _ 180609 _ 1 _ ) <nl> + { <nl> + + if ( ! this . field _ 75556 _ a . func _ 175697 _ a ( p _ 180609 _ 1 _ , 16 ) ) return ; / / Forge : prevent loading unloaded chunks when checking for doors <nl> + int i = 16 ; <nl> + int j = 4 ; <nl> + int k = 16 ; <nl> diff - - git a / patches / minecraft / net / minecraft / world / WorldServer . java . patch b / patches / minecraft / net / minecraft / world / WorldServer . java . patch <nl> index 1968110 . . f717bbb 100644 <nl> - - - a / patches / minecraft / net / minecraft / world / WorldServer . java . patch <nl> + + + b / patches / minecraft / net / minecraft / world / WorldServer . java . patch <nl> @ @ - 127 , 7 + 127 , 7 @ @ <nl> { <nl> this . field _ 73005 _ l = this . field _ 73005 _ l * 3 + 1013904223 ; <nl> int l = this . field _ 73005 _ l > > 2 ; <nl> - @ @ - 415 , 7 + 428 , 7 @ @ <nl> + @ @ - 415 , 13 + 428 , 14 @ @ <nl> <nl> this . field _ 72984 _ F . func _ 76318 _ c ( " iceandsnow " ) ; <nl> <nl> @ @ - 136 , 7 + 136 , 14 @ @ <nl> { <nl> this . field _ 73005 _ l = this . field _ 73005 _ l * 3 + 1013904223 ; <nl> int j2 = this . field _ 73005 _ l > > 2 ; <nl> - @ @ - 525 , 7 + 538 , 10 @ @ <nl> + BlockPos blockpos1 = this . func _ 175725 _ q ( new BlockPos ( j + ( j2 & 15 ) , 0 , k + ( j2 > > 8 & 15 ) ) ) ; <nl> + BlockPos blockpos2 = blockpos1 . func _ 177977 _ b ( ) ; <nl> + <nl> + + if ( this . func _ 175697 _ a ( blockpos2 , 1 ) ) / / Forge : check area to avoid loading neighbors in unloaded chunks <nl> + if ( this . func _ 175662 _ w ( blockpos2 ) ) <nl> + { <nl> + this . func _ 175656 _ a ( blockpos2 , Blocks . field _ 150432 _ aD . func _ 176223 _ P ( ) ) ; <nl> + @ @ - 525 , 7 + 539 , 10 @ @ <nl> { <nl> if ( p _ 175654 _ 2 _ . func _ 149698 _ L ( ) ) <nl> { <nl> @ @ - 148 , 7 + 155 , 7 @ @ <nl> { <nl> IBlockState iblockstate = this . func _ 180495 _ p ( p _ 175654 _ 1 _ ) ; <nl> <nl> - @ @ - 561 , 6 + 577 , 7 @ @ <nl> + @ @ - 561 , 6 + 578 , 7 @ @ <nl> <nl> public void func _ 180497 _ b ( BlockPos p _ 180497 _ 1 _ , Block p _ 180497 _ 2 _ , int p _ 180497 _ 3 _ , int p _ 180497 _ 4 _ ) <nl> { <nl> @ @ - 156 , 7 + 163 , 7 @ @ <nl> NextTickListEntry nextticklistentry = new NextTickListEntry ( p _ 180497 _ 1 _ , p _ 180497 _ 2 _ ) ; <nl> nextticklistentry . func _ 82753 _ a ( p _ 180497 _ 4 _ ) ; <nl> Material material = p _ 180497 _ 2 _ . func _ 176223 _ P ( ) . func _ 185904 _ a ( ) ; <nl> - @ @ - 579 , 7 + 596 , 7 @ @ <nl> + @ @ - 579 , 7 + 597 , 7 @ @ <nl> <nl> public void func _ 72939 _ s ( ) <nl> { <nl> @ @ - 165 , 7 + 172 , 7 @ @ <nl> { <nl> if ( this . field _ 80004 _ Q + + > = 300 ) <nl> { <nl> - @ @ - 703 , 6 + 720 , 9 @ @ <nl> + @ @ - 703 , 6 + 721 , 9 @ @ <nl> { <nl> NextTickListEntry nextticklistentry1 = iterator . next ( ) ; <nl> iterator . remove ( ) ; <nl> @ @ - 175 , 7 + 182 , 7 @ @ <nl> int k = 0 ; <nl> <nl> if ( this . func _ 175707 _ a ( nextticklistentry1 . field _ 180282 _ a . func _ 177982 _ a ( 0 , 0 , 0 ) , nextticklistentry1 . field _ 180282 _ a . func _ 177982 _ a ( 0 , 0 , 0 ) ) ) <nl> - @ @ - 829 , 6 + 849 , 10 @ @ <nl> + @ @ - 829 , 6 + 850 , 10 @ @ <nl> <nl> public boolean func _ 175660 _ a ( EntityPlayer p _ 175660 _ 1 _ , BlockPos p _ 175660 _ 2 _ ) <nl> { <nl> @ @ - 186 , 7 + 193 , 7 @ @ <nl> return ! this . field _ 73061 _ a . func _ 175579 _ a ( this , p _ 175660 _ 2 _ , p _ 175660 _ 1 _ ) & & this . func _ 175723 _ af ( ) . func _ 177746 _ a ( p _ 175660 _ 2 _ ) ; <nl> } <nl> <nl> - @ @ - 894 , 6 + 918 , 7 @ @ <nl> + @ @ - 894 , 6 + 919 , 7 @ @ <nl> } <nl> else <nl> { <nl> @ @ - 194 , 7 + 201 , 7 @ @ <nl> this . field _ 72987 _ B = true ; <nl> BiomeProvider biomeprovider = this . field _ 73011 _ w . func _ 177499 _ m ( ) ; <nl> List < Biome > list = biomeprovider . func _ 76932 _ a ( ) ; <nl> - @ @ - 979 , 6 + 1004 , 7 @ @ <nl> + @ @ - 979 , 6 + 1005 , 7 @ @ <nl> } <nl> <nl> chunkproviderserver . func _ 186027 _ a ( p _ 73044 _ 1 _ ) ; <nl> @ @ - 202 , 7 + 209 , 7 @ @ <nl> <nl> for ( Chunk chunk : Lists . newArrayList ( chunkproviderserver . func _ 189548 _ a ( ) ) ) <nl> { <nl> - @ @ - 1023 , 6 + 1049 , 7 @ @ <nl> + @ @ - 1023 , 6 + 1050 , 7 @ @ <nl> this . field _ 72986 _ A . func _ 176135 _ e ( this . func _ 175723 _ af ( ) . func _ 177732 _ i ( ) ) ; <nl> this . field _ 73019 _ z . func _ 75755 _ a ( this . field _ 72986 _ A , this . field _ 73061 _ a . func _ 184103 _ al ( ) . func _ 72378 _ q ( ) ) ; <nl> this . field _ 72988 _ C . func _ 75744 _ a ( ) ; <nl> @ @ - 210 , 7 + 217 , 7 @ @ <nl> } <nl> <nl> public boolean func _ 72838 _ d ( Entity p _ 72838 _ 1 _ ) <nl> - @ @ - 1034 , 7 + 1061 , 7 @ @ <nl> + @ @ - 1034 , 7 + 1062 , 7 @ @ <nl> { <nl> for ( Entity entity : Lists . newArrayList ( p _ 175650 _ 1 _ ) ) <nl> { <nl> @ @ - 219 , 7 + 226 , 7 @ @ <nl> { <nl> this . field _ 72996 _ f . add ( entity ) ; <nl> this . func _ 72923 _ a ( entity ) ; <nl> - @ @ - 1115 , 7 + 1142 , 7 @ @ <nl> + @ @ - 1115 , 7 + 1143 , 7 @ @ <nl> { <nl> if ( super . func _ 72942 _ c ( p _ 72942 _ 1 _ ) ) <nl> { <nl> @ @ - 228 , 7 + 235 , 7 @ @ <nl> return true ; <nl> } <nl> else <nl> - @ @ - 1137 , 6 + 1164 , 7 @ @ <nl> + @ @ - 1137 , 6 + 1165 , 7 @ @ <nl> public Explosion func _ 72885 _ a ( @ Nullable Entity p _ 72885 _ 1 _ , double p _ 72885 _ 2 _ , double p _ 72885 _ 4 _ , double p _ 72885 _ 6 _ , float p _ 72885 _ 8 _ , boolean p _ 72885 _ 9 _ , boolean p _ 72885 _ 10 _ ) <nl> { <nl> Explosion explosion = new Explosion ( this , p _ 72885 _ 1 _ , p _ 72885 _ 2 _ , p _ 72885 _ 4 _ , p _ 72885 _ 6 _ , p _ 72885 _ 8 _ , p _ 72885 _ 9 _ , p _ 72885 _ 10 _ ) ; <nl> @ @ - 236 , 7 + 243 , 7 @ @ <nl> explosion . func _ 77278 _ a ( ) ; <nl> explosion . func _ 77279 _ a ( false ) ; <nl> <nl> - @ @ - 1182 , 7 + 1210 , 7 @ @ <nl> + @ @ - 1182 , 7 + 1211 , 7 @ @ <nl> { <nl> if ( this . func _ 147485 _ a ( blockeventdata ) ) <nl> { <nl> @ @ - 245 , 7 + 252 , 7 @ @ <nl> } <nl> } <nl> <nl> - @ @ - 1208 , 27 + 1236 , 31 @ @ <nl> + @ @ - 1208 , 27 + 1237 , 31 @ @ <nl> <nl> if ( this . field _ 73003 _ n ! = this . field _ 73004 _ o ) <nl> { <nl> @ @ - 283 , 7 + 290 , 7 @ @ <nl> } <nl> } <nl> <nl> - @ @ - 1323 , 6 + 1355 , 11 @ @ <nl> + @ @ - 1323 , 6 + 1356 , 11 @ @ <nl> return this . field _ 193036 _ D ; <nl> } <nl>
NEAREST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch b / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch <nl> index 25c9c9a . . 46556c3 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch <nl> @ @ - 95 , 7 + 95 , 17 @ @ <nl> this . field _ 78776 _ a . func _ 147118 _ V ( ) . func _ 147682 _ a ( new PositionedSoundRecord ( soundtype . func _ 185846 _ f ( ) , SoundCategory . NEUTRAL , ( soundtype . func _ 185843 _ a ( ) + 1 . 0F ) / 8 . 0F , soundtype . func _ 185847 _ b ( ) * 0 . 5F , p _ 180512 _ 1 _ ) ) ; <nl> } <nl> <nl> - @ @ - 350 , 7 + 361 , 7 @ @ <nl> + @ @ - 326 , 7 + 337 , 8 @ @ <nl> + <nl> + public float func _ 78757 _ d ( ) <nl> + { <nl> + - return this . field _ 78779 _ k . func _ 77145 _ d ( ) ? 5 . 0F : 4 . 5F ; <nl> + + float attrib = ( float ) field _ 78776 _ a . field _ 71439 _ g . func _ 110148 _ a ( EntityPlayer . REACH _ DISTANCE ) . func _ 111126 _ e ( ) ; <nl> + + return this . field _ 78779 _ k . func _ 77145 _ d ( ) ? attrib : attrib - 0 . 5F ; <nl> + } <nl> + <nl> + public void func _ 78765 _ e ( ) <nl> + @ @ - 350 , 7 + 362 , 7 @ @ <nl> <nl> if ( ! this . field _ 85183 _ f . func _ 190926 _ b ( ) & & ! itemstack . func _ 190926 _ b ( ) ) <nl> { <nl> @ @ - 104 , 7 + 114 , 7 @ @ <nl> } <nl> <nl> return p _ 178893 _ 1 _ . equals ( this . field _ 178895 _ c ) & & flag ; <nl> - @ @ - 382 , 13 + 393 , 34 @ @ <nl> + @ @ - 382 , 13 + 394 , 34 @ @ <nl> } <nl> else <nl> { <nl> @ @ - 141 , 7 + 151 , 7 @ @ <nl> } <nl> <nl> if ( ! flag & & itemstack . func _ 77973 _ b ( ) instanceof ItemBlock ) <nl> - @ @ - 404 , 7 + 436 , 7 @ @ <nl> + @ @ - 404 , 7 + 437 , 7 @ @ <nl> <nl> this . field _ 78774 _ b . func _ 147297 _ a ( new CPacketPlayerTryUseItemOnBlock ( p _ 187099 _ 3 _ , p _ 187099 _ 4 _ , p _ 187099 _ 6 _ , f , f1 , f2 ) ) ; <nl> <nl> @ @ - 150 , 7 + 160 , 7 @ @ <nl> { <nl> if ( itemstack . func _ 190926 _ b ( ) ) <nl> { <nl> - @ @ - 430 , 14 + 462 , 20 @ @ <nl> + @ @ - 430 , 14 + 463 , 20 @ @ <nl> { <nl> int i = itemstack . func _ 77960 _ j ( ) ; <nl> int j = itemstack . func _ 190916 _ E ( ) ; <nl> @ @ - 172 , 7 + 182 , 7 @ @ <nl> } <nl> } <nl> } <nl> - @ @ - 466 , 6 + 504 , 8 @ @ <nl> + @ @ - 466 , 6 + 505 , 8 @ @ <nl> } <nl> else <nl> { <nl> @ @ - 181 , 7 + 191 , 7 @ @ <nl> int i = itemstack . func _ 190916 _ E ( ) ; <nl> ActionResult < ItemStack > actionresult = itemstack . func _ 77957 _ a ( p _ 187101 _ 2 _ , p _ 187101 _ 1 _ , p _ 187101 _ 3 _ ) ; <nl> ItemStack itemstack1 = actionresult . func _ 188398 _ b ( ) ; <nl> - @ @ - 473 , 6 + 513 , 10 @ @ <nl> + @ @ - 473 , 6 + 514 , 10 @ @ <nl> if ( itemstack1 ! = itemstack | | itemstack1 . func _ 190916 _ E ( ) ! = i ) <nl> { <nl> p _ 187101 _ 1 _ . func _ 184611 _ a ( p _ 187101 _ 3 _ , itemstack1 ) ; <nl> @ @ - 192 , 7 + 202 , 7 @ @ <nl> } <nl> <nl> return actionresult . func _ 188397 _ a ( ) ; <nl> - @ @ - 509 , 6 + 553 , 9 @ @ <nl> + @ @ - 509 , 6 + 554 , 9 @ @ <nl> this . func _ 78750 _ j ( ) ; <nl> Vec3d vec3d = new Vec3d ( p _ 187102 _ 3 _ . field _ 72307 _ f . field _ 72450 _ a - p _ 187102 _ 2 _ . field _ 70165 _ t , p _ 187102 _ 3 _ . field _ 72307 _ f . field _ 72448 _ b - p _ 187102 _ 2 _ . field _ 70163 _ u , p _ 187102 _ 3 _ . field _ 72307 _ f . field _ 72449 _ c - p _ 187102 _ 2 _ . field _ 70161 _ v ) ; <nl> this . field _ 78774 _ b . func _ 147297 _ a ( new CPacketUseEntity ( p _ 187102 _ 2 _ , p _ 187102 _ 4 _ , vec3d ) ) ; <nl> diff - - git a / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch b / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch <nl> index 270d6e5 . . 7abbbab 100644 <nl> - - - a / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch <nl> + + + b / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch <nl> @ @ - 1 , 6 + 1 , 6 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / entity / player / EntityPlayer . java <nl> + + + . . / src - work / minecraft / net / minecraft / entity / player / EntityPlayer . java <nl> - @ @ - 96 , 6 + 96 , 11 @ @ <nl> + @ @ - 96 , 6 + 96 , 12 @ @ <nl> @ SuppressWarnings ( " incomplete - switch " ) <nl> public abstract class EntityPlayer extends EntityLivingBase <nl> { <nl> @ @ - 8 , 11 + 8 , 20 @ @ <nl> + protected java . util . HashMap < Integer , BlockPos > spawnChunkMap = new java . util . HashMap < Integer , BlockPos > ( ) ; <nl> + protected java . util . HashMap < Integer , Boolean > spawnForcedMap = new java . util . HashMap < Integer , Boolean > ( ) ; <nl> + public float eyeHeight = this . getDefaultEyeHeight ( ) ; <nl> + + public static final net . minecraft . entity . ai . attributes . IAttribute REACH _ DISTANCE = new net . minecraft . entity . ai . attributes . RangedAttribute ( null , " generic . reachDistance " , 5 . 0D , 0 . 0D , 1024 . 0D ) . func _ 111112 _ a ( true ) ; <nl> + <nl> private static final DataParameter < Float > field _ 184829 _ a = EntityDataManager . < Float > func _ 187226 _ a ( EntityPlayer . class , DataSerializers . field _ 187193 _ c ) ; <nl> private static final DataParameter < Integer > field _ 184830 _ b = EntityDataManager . < Integer > func _ 187226 _ a ( EntityPlayer . class , DataSerializers . field _ 187192 _ b ) ; <nl> protected static final DataParameter < Byte > field _ 184827 _ bp = EntityDataManager . < Byte > func _ 187226 _ a ( EntityPlayer . class , DataSerializers . field _ 187191 _ a ) ; <nl> - @ @ - 180 , 6 + 185 , 7 @ @ <nl> + @ @ - 165 , 6 + 171 , 7 @ @ <nl> + this . func _ 110148 _ a ( SharedMonsterAttributes . field _ 111263 _ d ) . func _ 111128 _ a ( 0 . 10000000149011612D ) ; <nl> + this . func _ 110140 _ aT ( ) . func _ 111150 _ b ( SharedMonsterAttributes . field _ 188790 _ f ) ; <nl> + this . func _ 110140 _ aT ( ) . func _ 111150 _ b ( SharedMonsterAttributes . field _ 188792 _ h ) ; <nl> + + this . func _ 110140 _ aT ( ) . func _ 111150 _ b ( REACH _ DISTANCE ) ; <nl> + } <nl> + <nl> + protected void func _ 70088 _ a ( ) <nl> + @ @ - 180 , 6 + 187 , 7 @ @ <nl> <nl> public void func _ 70071 _ h _ ( ) <nl> { <nl> @ @ - 20 , 7 + 29 , 7 @ @ <nl> this . field _ 70145 _ X = this . func _ 175149 _ v ( ) ; <nl> <nl> if ( this . func _ 175149 _ v ( ) ) <nl> - @ @ - 367 , 6 + 373 , 7 @ @ <nl> + @ @ - 367 , 6 + 375 , 7 @ @ <nl> this . func _ 70105 _ a ( f , f1 ) ; <nl> } <nl> } <nl> @ @ - 28 , 7 + 37 , 7 @ @ <nl> } <nl> <nl> public int func _ 82145 _ z ( ) <nl> - @ @ - 454 , 11 + 461 , 11 @ @ <nl> + @ @ - 454 , 11 + 463 , 11 @ @ <nl> this . field _ 71109 _ bG = 0 . 0F ; <nl> this . func _ 71015 _ k ( this . field _ 70165 _ t - d0 , this . field _ 70163 _ u - d1 , this . field _ 70161 _ v - d2 ) ; <nl> <nl> @ @ - 42 , 7 + 51 , 7 @ @ <nl> } <nl> } <nl> } <nl> - @ @ - 609 , 11 + 616 , 15 @ @ <nl> + @ @ - 609 , 11 + 618 , 15 @ @ <nl> <nl> public void func _ 70645 _ a ( DamageSource p _ 70645 _ 1 _ ) <nl> { <nl> @ @ - 58 , 7 + 67 , 7 @ @ <nl> if ( " Notch " . equals ( this . func _ 70005 _ c _ ( ) ) ) <nl> { <nl> this . func _ 146097 _ a ( new ItemStack ( Items . field _ 151034 _ e , 1 ) , true , false ) ; <nl> - @ @ - 625 , 6 + 636 , 9 @ @ <nl> + @ @ - 625 , 6 + 638 , 9 @ @ <nl> this . field _ 71071 _ by . func _ 70436 _ m ( ) ; <nl> } <nl> <nl> @ @ - 68 , 7 + 77 , 7 @ @ <nl> if ( p _ 70645 _ 1 _ ! = null ) <nl> { <nl> this . field _ 70159 _ w = ( double ) ( - MathHelper . func _ 76134 _ b ( ( this . field _ 70739 _ aP + this . field _ 70177 _ z ) * 0 . 017453292F ) * 0 . 1F ) ; <nl> - @ @ - 675 , 13 + 689 , 24 @ @ <nl> + @ @ - 675 , 13 + 691 , 24 @ @ <nl> @ Nullable <nl> public EntityItem func _ 71040 _ bB ( boolean p _ 71040 _ 1 _ ) <nl> { <nl> @ @ - 95 , 7 + 104 , 7 @ @ <nl> } <nl> <nl> @ Nullable <nl> - @ @ - 741 , 14 + 766 , 22 @ @ <nl> + @ @ - 741 , 14 + 768 , 22 @ @ <nl> <nl> public ItemStack func _ 184816 _ a ( EntityItem p _ 184816 _ 1 _ ) <nl> { <nl> @ @ - 119 , 7 + 128 , 7 @ @ <nl> if ( f > 1 . 0F ) <nl> { <nl> int i = EnchantmentHelper . func _ 185293 _ e ( this ) ; <nl> - @ @ - 798 , 12 + 831 , 13 @ @ <nl> + @ @ - 798 , 12 + 833 , 13 @ @ <nl> f / = 5 . 0F ; <nl> } <nl> <nl> @ @ - 135 , 7 + 144 , 7 @ @ <nl> } <nl> <nl> public static void func _ 189806 _ a ( DataFixer p _ 189806 _ 0 _ ) <nl> - @ @ - 863 , 6 + 897 , 17 @ @ <nl> + @ @ - 863 , 6 + 899 , 17 @ @ <nl> this . field _ 82248 _ d = p _ 70037 _ 1 _ . func _ 74767 _ n ( " SpawnForced " ) ; <nl> } <nl> <nl> @ @ - 153 , 7 + 162 , 7 @ @ <nl> this . field _ 71100 _ bB . func _ 75112 _ a ( p _ 70037 _ 1 _ ) ; <nl> this . field _ 71075 _ bZ . func _ 75095 _ b ( p _ 70037 _ 1 _ ) ; <nl> <nl> - @ @ - 896 , 6 + 941 , 7 @ @ <nl> + @ @ - 896 , 6 + 943 , 7 @ @ <nl> p _ 70014 _ 1 _ . func _ 74768 _ a ( " XpTotal " , this . field _ 71067 _ cb ) ; <nl> p _ 70014 _ 1 _ . func _ 74768 _ a ( " XpSeed " , this . field _ 175152 _ f ) ; <nl> p _ 70014 _ 1 _ . func _ 74768 _ a ( " Score " , this . func _ 71037 _ bA ( ) ) ; <nl> @ @ - 161 , 7 + 170 , 7 @ @ <nl> <nl> if ( this . field _ 71077 _ c ! = null ) <nl> { <nl> - @ @ - 905 , 6 + 951 , 27 @ @ <nl> + @ @ - 905 , 6 + 953 , 27 @ @ <nl> p _ 70014 _ 1 _ . func _ 74757 _ a ( " SpawnForced " , this . field _ 82248 _ d ) ; <nl> } <nl> <nl> @ @ - 189 , 7 + 198 , 7 @ @ <nl> this . field _ 71100 _ bB . func _ 75117 _ b ( p _ 70014 _ 1 _ ) ; <nl> this . field _ 71075 _ bZ . func _ 75091 _ a ( p _ 70014 _ 1 _ ) ; <nl> p _ 70014 _ 1 _ . func _ 74782 _ a ( " EnderItems " , this . field _ 71078 _ a . func _ 70487 _ g ( ) ) ; <nl> - @ @ - 922 , 6 + 989 , 7 @ @ <nl> + @ @ - 922 , 6 + 991 , 7 @ @ <nl> <nl> public boolean func _ 70097 _ a ( DamageSource p _ 70097 _ 1 _ , float p _ 70097 _ 2 _ ) <nl> { <nl> @ @ - 197 , 7 + 206 , 7 @ @ <nl> if ( this . func _ 180431 _ b ( p _ 70097 _ 1 _ ) ) <nl> { <nl> return false ; <nl> - @ @ - 974 , 7 + 1042 , 7 @ @ <nl> + @ @ - 974 , 7 + 1044 , 7 @ @ <nl> { <nl> super . func _ 190629 _ c ( p _ 190629 _ 1 _ ) ; <nl> <nl> @ @ - 206 , 7 + 215 , 7 @ @ <nl> { <nl> this . func _ 190777 _ m ( true ) ; <nl> } <nl> - @ @ - 1002 , 14 + 1070 , 16 @ @ <nl> + @ @ - 1002 , 14 + 1072 , 16 @ @ <nl> <nl> protected void func _ 184590 _ k ( float p _ 184590 _ 1 _ ) <nl> { <nl> @ @ - 224 , 7 + 233 , 7 @ @ <nl> <nl> if ( enumhand = = EnumHand . MAIN _ HAND ) <nl> { <nl> - @ @ - 1045 , 7 + 1115 , 10 @ @ <nl> + @ @ - 1045 , 7 + 1117 , 10 @ @ <nl> { <nl> if ( ! this . func _ 180431 _ b ( p _ 70665 _ 1 _ ) ) <nl> { <nl> @ @ - 236 , 7 + 245 , 7 @ @ <nl> p _ 70665 _ 2 _ = this . func _ 70672 _ c ( p _ 70665 _ 1 _ , p _ 70665 _ 2 _ ) ; <nl> float f = p _ 70665 _ 2 _ ; <nl> p _ 70665 _ 2 _ = Math . max ( p _ 70665 _ 2 _ - this . func _ 110139 _ bj ( ) , 0 . 0F ) ; <nl> - @ @ - 1115 , 6 + 1188 , 8 @ @ <nl> + @ @ - 1115 , 6 + 1190 , 8 @ @ <nl> } <nl> else <nl> { <nl> @ @ - 245 , 7 + 254 , 7 @ @ <nl> ItemStack itemstack = this . func _ 184586 _ b ( p _ 190775 _ 2 _ ) ; <nl> ItemStack itemstack1 = itemstack . func _ 190926 _ b ( ) ? ItemStack . field _ 190927 _ a : itemstack . func _ 77946 _ l ( ) ; <nl> <nl> - @ @ - 1124 , 7 + 1199 , 10 @ @ <nl> + @ @ - 1124 , 7 + 1201 , 10 @ @ <nl> { <nl> itemstack . func _ 190920 _ e ( itemstack1 . func _ 190916 _ E ( ) ) ; <nl> } <nl> @ @ - 257 , 7 + 266 , 7 @ @ <nl> return EnumActionResult . SUCCESS ; <nl> } <nl> else <nl> - @ @ - 1140 , 6 + 1218 , 7 @ @ <nl> + @ @ - 1140 , 6 + 1220 , 7 @ @ <nl> { <nl> if ( itemstack . func _ 190926 _ b ( ) & & ! this . field _ 71075 _ bZ . field _ 75098 _ d ) <nl> { <nl> @ @ - 265 , 7 + 274 , 7 @ @ <nl> this . func _ 184611 _ a ( p _ 190775 _ 2 _ , ItemStack . field _ 190927 _ a ) ; <nl> } <nl> <nl> - @ @ - 1165 , 6 + 1244 , 7 @ @ <nl> + @ @ - 1165 , 6 + 1246 , 7 @ @ <nl> <nl> public void func _ 71059 _ n ( Entity p _ 71059 _ 1 _ ) <nl> { <nl> @ @ - 273 , 7 + 282 , 7 @ @ <nl> if ( p _ 71059 _ 1 _ . func _ 70075 _ an ( ) ) <nl> { <nl> if ( ! p _ 71059 _ 1 _ . func _ 85031 _ j ( this ) ) <nl> - @ @ - 1203 , 9 + 1283 , 11 @ @ <nl> + @ @ - 1203 , 9 + 1285 , 11 @ @ <nl> boolean flag2 = flag & & this . field _ 70143 _ R > 0 . 0F & & ! this . field _ 70122 _ E & & ! this . func _ 70617 _ f _ ( ) & & ! this . func _ 70090 _ H ( ) & & ! this . func _ 70644 _ a ( MobEffects . field _ 76440 _ q ) & & ! this . func _ 184218 _ aH ( ) & & p _ 71059 _ 1 _ instanceof EntityLivingBase ; <nl> flag2 = flag2 & & ! this . func _ 70051 _ ag ( ) ; <nl> <nl> @ @ - 286 , 7 + 295 , 7 @ @ <nl> } <nl> <nl> f = f + f1 ; <nl> - @ @ - 1332 , 10 + 1414 , 12 @ @ <nl> + @ @ - 1332 , 10 + 1416 , 12 @ @ <nl> <nl> if ( ! itemstack1 . func _ 190926 _ b ( ) & & entity instanceof EntityLivingBase ) <nl> { <nl> @ @ - 299 , 7 + 308 , 7 @ @ <nl> this . func _ 184611 _ a ( EnumHand . MAIN _ HAND , ItemStack . field _ 190927 _ a ) ; <nl> } <nl> } <nl> - @ @ - 1384 , 7 + 1468 , 7 @ @ <nl> + @ @ - 1384 , 7 + 1470 , 7 @ @ <nl> <nl> if ( this . field _ 70146 _ Z . nextFloat ( ) < f ) <nl> { <nl> @ @ - 308 , 7 + 317 , 7 @ @ <nl> this . func _ 184602 _ cy ( ) ; <nl> this . field _ 70170 _ p . func _ 72960 _ a ( this , ( byte ) 30 ) ; <nl> } <nl> - @ @ - 1442 , 6 + 1526 , 8 @ @ <nl> + @ @ - 1442 , 6 + 1528 , 8 @ @ <nl> <nl> public EntityPlayer . SleepResult func _ 180469 _ a ( BlockPos p _ 180469 _ 1 _ ) <nl> { <nl> @ @ - 317 , 7 + 326 , 7 @ @ <nl> EnumFacing enumfacing = ( EnumFacing ) this . field _ 70170 _ p . func _ 180495 _ p ( p _ 180469 _ 1 _ ) . func _ 177229 _ b ( BlockHorizontal . field _ 185512 _ D ) ; <nl> <nl> if ( ! this . field _ 70170 _ p . field _ 72995 _ K ) <nl> - @ @ - 1484 , 8 + 1570 , 9 @ @ <nl> + @ @ - 1484 , 8 + 1572 , 9 @ @ <nl> this . func _ 192030 _ dh ( ) ; <nl> this . func _ 70105 _ a ( 0 . 2F , 0 . 2F ) ; <nl> <nl> @ @ - 329 , 7 + 338 , 7 @ @ <nl> float f1 = 0 . 5F + ( float ) enumfacing . func _ 82601 _ c ( ) * 0 . 4F ; <nl> float f = 0 . 5F + ( float ) enumfacing . func _ 82599 _ e ( ) * 0 . 4F ; <nl> this . func _ 175139 _ a ( enumfacing ) ; <nl> - @ @ - 1532 , 13 + 1619 , 14 @ @ <nl> + @ @ - 1532 , 13 + 1621 , 14 @ @ <nl> <nl> public void func _ 70999 _ a ( boolean p _ 70999 _ 1 _ , boolean p _ 70999 _ 2 _ , boolean p _ 70999 _ 3 _ ) <nl> { <nl> @ @ - 347 , 7 + 356 , 7 @ @ <nl> <nl> if ( blockpos = = null ) <nl> { <nl> - @ @ - 1547 , 6 + 1635 , 10 @ @ <nl> + @ @ - 1547 , 6 + 1637 , 10 @ @ <nl> <nl> this . func _ 70107 _ b ( ( double ) ( ( float ) blockpos . func _ 177958 _ n ( ) + 0 . 5F ) , ( double ) ( ( float ) blockpos . func _ 177956 _ o ( ) + 0 . 1F ) , ( double ) ( ( float ) blockpos . func _ 177952 _ p ( ) + 0 . 5F ) ) ; <nl> } <nl> @ @ - 358 , 7 + 367 , 7 @ @ <nl> <nl> this . field _ 71083 _ bS = false ; <nl> <nl> - @ @ - 1565 , 15 + 1657 , 16 @ @ <nl> + @ @ - 1565 , 15 + 1659 , 16 @ @ <nl> <nl> private boolean func _ 175143 _ p ( ) <nl> { <nl> @ @ - 378 , 7 + 387 , 7 @ @ <nl> { <nl> if ( ! p _ 180467 _ 2 _ ) <nl> { <nl> - @ @ - 1588 , 16 + 1681 , 17 @ @ <nl> + @ @ - 1588 , 16 + 1683 , 17 @ @ <nl> } <nl> else <nl> { <nl> @ @ - 399 , 7 + 408 , 7 @ @ <nl> <nl> switch ( enumfacing ) <nl> { <nl> - @ @ - 1637 , 16 + 1731 , 24 @ @ <nl> + @ @ - 1637 , 16 + 1733 , 24 @ @ <nl> <nl> public BlockPos func _ 180470 _ cg ( ) <nl> { <nl> @ @ - 426 , 7 + 435 , 7 @ @ <nl> if ( p _ 180473 _ 1 _ ! = null ) <nl> { <nl> this . field _ 71077 _ c = p _ 180473 _ 1 _ ; <nl> - @ @ - 1839 , 6 + 1941 , 10 @ @ <nl> + @ @ - 1839 , 6 + 1943 , 10 @ @ <nl> <nl> super . func _ 180430 _ e ( p _ 180430 _ 1 _ , p _ 180430 _ 2 _ ) ; <nl> } <nl> @ @ - 437 , 7 + 446 , 7 @ @ <nl> } <nl> <nl> protected void func _ 71061 _ d _ ( ) <nl> - @ @ - 2176 , 7 + 2282 , 10 @ @ <nl> + @ @ - 2176 , 7 + 2284 , 10 @ @ <nl> <nl> public ITextComponent func _ 145748 _ c _ ( ) <nl> { <nl> @ @ - 449 , 7 + 458 , 7 @ @ <nl> itextcomponent . func _ 150256 _ b ( ) . func _ 150241 _ a ( new ClickEvent ( ClickEvent . Action . SUGGEST _ COMMAND , " / msg " + this . func _ 70005 _ c _ ( ) + " " ) ) ; <nl> itextcomponent . func _ 150256 _ b ( ) . func _ 150209 _ a ( this . func _ 174823 _ aP ( ) ) ; <nl> itextcomponent . func _ 150256 _ b ( ) . func _ 179989 _ a ( this . func _ 70005 _ c _ ( ) ) ; <nl> - @ @ - 2185 , 7 + 2294 , 7 @ @ <nl> + @ @ - 2185 , 7 + 2296 , 7 @ @ <nl> <nl> public float func _ 70047 _ e ( ) <nl> { <nl> @ @ - 458 , 7 + 467 , 7 @ @ <nl> <nl> if ( this . func _ 70608 _ bn ( ) ) <nl> { <nl> - @ @ - 2421 , 6 + 2530 , 168 @ @ <nl> + @ @ - 2421 , 6 + 2532 , 168 @ @ <nl> return this . field _ 71075 _ bZ . field _ 75098 _ d & & this . func _ 70003 _ b ( 2 , " " ) ; <nl> } <nl> <nl> diff - - git a / patches / minecraft / net / minecraft / item / Item . java . patch b / patches / minecraft / net / minecraft / item / Item . java . patch <nl> index e694f02 . . 226daf4 100644 <nl> - - - a / patches / minecraft / net / minecraft / item / Item . java . patch <nl> + + + b / patches / minecraft / net / minecraft / item / Item . java . patch <nl> @ @ - 47 , 20 + 47 , 18 @ @ <nl> } <nl> <nl> protected RayTraceResult func _ 77621 _ a ( World p _ 77621 _ 1 _ , EntityPlayer p _ 77621 _ 2 _ , boolean p _ 77621 _ 3 _ ) <nl> - @ @ - 390 , 7 + 393 , 11 @ @ <nl> + @ @ - 389 , 8 + 392 , 8 @ @ <nl> + float f5 = MathHelper . func _ 76126 _ a ( - f * 0 . 017453292F ) ; <nl> float f6 = f3 * f4 ; <nl> float f7 = f2 * f4 ; <nl> - double d3 = 5 . 0D ; <nl> + - double d3 = 5 . 0D ; <nl> - Vec3d vec3d1 = vec3d . func _ 72441 _ c ( ( double ) f6 * 5 . 0D , ( double ) f5 * 5 . 0D , ( double ) f7 * 5 . 0D ) ; <nl> - + if ( p _ 77621 _ 2 _ instanceof net . minecraft . entity . player . EntityPlayerMP ) <nl> - + { <nl> - + d3 = ( ( net . minecraft . entity . player . EntityPlayerMP ) p _ 77621 _ 2 _ ) . field _ 71134 _ c . getBlockReachDistance ( ) ; <nl> - + } <nl> + + double d3 = p _ 77621 _ 2 _ . func _ 110148 _ a ( EntityPlayer . REACH _ DISTANCE ) . func _ 111126 _ e ( ) ; <nl> + Vec3d vec3d1 = vec3d . func _ 72441 _ c ( ( double ) f6 * d3 , ( double ) f5 * d3 , ( double ) f7 * d3 ) ; <nl> return p _ 77621 _ 1 _ . func _ 147447 _ a ( vec3d , vec3d1 , p _ 77621 _ 3 _ , ! p _ 77621 _ 3 _ , false ) ; <nl> } <nl> <nl> - @ @ - 409 , 6 + 416 , 9 @ @ <nl> + @ @ - 409 , 6 + 412 , 9 @ @ <nl> <nl> protected boolean func _ 194125 _ a ( CreativeTabs p _ 194125 _ 1 _ ) <nl> { <nl> diff - - git a / patches / minecraft / net / minecraft / network / NetHandlerPlayServer . java . patch b / patches / minecraft / net / minecraft / network / NetHandlerPlayServer . java . patch <nl> index a793130 . . 877ffe5 100644 <nl> - - - a / patches / minecraft / net / minecraft / network / NetHandlerPlayServer . java . patch <nl> + + + b / patches / minecraft / net / minecraft / network / NetHandlerPlayServer . java . patch <nl> @ @ - 5 , 7 + 5 , 7 @ @ <nl> double d3 = d0 * d0 + d1 * d1 + d2 * d2 ; <nl> <nl> - if ( d3 > 36 . 0D ) <nl> - + double dist = field _ 147369 _ b . field _ 71134 _ c . getBlockReachDistance ( ) + 1 ; <nl> + + double dist = field _ 147369 _ b . func _ 110148 _ a ( EntityPlayer . REACH _ DISTANCE ) . func _ 111126 _ e ( ) + 1 ; <nl> + dist * = dist ; <nl> + <nl> + if ( d3 > dist ) <nl> @ @ - 17 , 7 + 17 , 7 @ @ <nl> if ( blockpos . func _ 177956 _ o ( ) < this . field _ 147367 _ d . func _ 71207 _ Z ( ) - 1 | | enumfacing ! = EnumFacing . UP & & blockpos . func _ 177956 _ o ( ) < this . field _ 147367 _ d . func _ 71207 _ Z ( ) ) <nl> { <nl> - if ( this . field _ 184362 _ y = = null & & this . field _ 147369 _ b . func _ 70092 _ e ( ( double ) blockpos . func _ 177958 _ n ( ) + 0 . 5D , ( double ) blockpos . func _ 177956 _ o ( ) + 0 . 5D , ( double ) blockpos . func _ 177952 _ p ( ) + 0 . 5D ) < 64 . 0D & & ! this . field _ 147367 _ d . func _ 175579 _ a ( worldserver , blockpos , this . field _ 147369 _ b ) & & worldserver . func _ 175723 _ af ( ) . func _ 177746 _ a ( blockpos ) ) <nl> - + double dist = field _ 147369 _ b . field _ 71134 _ c . getBlockReachDistance ( ) + 3 ; <nl> + + double dist = field _ 147369 _ b . func _ 110148 _ a ( EntityPlayer . REACH _ DISTANCE ) . func _ 111126 _ e ( ) + 3 ; <nl> + dist * = dist ; <nl> + if ( this . field _ 184362 _ y = = null & & this . field _ 147369 _ b . func _ 70092 _ e ( ( double ) blockpos . func _ 177958 _ n ( ) + 0 . 5D , ( double ) blockpos . func _ 177956 _ o ( ) + 0 . 5D , ( double ) blockpos . func _ 177952 _ p ( ) + 0 . 5D ) < dist & & ! this . field _ 147367 _ d . func _ 175579 _ a ( worldserver , blockpos , this . field _ 147369 _ b ) & & worldserver . func _ 175723 _ af ( ) . func _ 177746 _ a ( blockpos ) ) <nl> { <nl> diff - - git a / patches / minecraft / net / minecraft / server / management / PlayerInteractionManager . java . patch b / patches / minecraft / net / minecraft / server / management / PlayerInteractionManager . java . patch <nl> index 5e2b8fc . . 431d8bc 100644 <nl> - - - a / patches / minecraft / net / minecraft / server / management / PlayerInteractionManager . java . patch <nl> + + + b / patches / minecraft / net / minecraft / server / management / PlayerInteractionManager . java . patch <nl> @ @ - 1 , 15 + 1 , 6 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / server / management / PlayerInteractionManager . java <nl> + + + . . / src - work / minecraft / net / minecraft / server / management / PlayerInteractionManager . java <nl> - @ @ - 28 , 6 + 28 , 8 @ @ <nl> - <nl> - public class PlayerInteractionManager <nl> - { <nl> - + / * * Forge reach distance * / <nl> - + private double blockReachDistance = 5 . 0d ; <nl> - public World field _ 73092 _ a ; <nl> - public EntityPlayerMP field _ 73090 _ b ; <nl> - private GameType field _ 73091 _ c = GameType . NOT _ SET ; <nl> - @ @ - 88 , 7 + 90 , 7 @ @ <nl> + @ @ - 88 , 7 + 88 , 7 @ @ <nl> int i = this . field _ 73100 _ i - this . field _ 73093 _ n ; <nl> IBlockState iblockstate = this . field _ 73092 _ a . func _ 180495 _ p ( this . field _ 180241 _ i ) ; <nl> <nl> @ @ - 18 , 7 + 9 , 7 @ @ <nl> { <nl> this . field _ 73097 _ j = false ; <nl> } <nl> - @ @ - 114 , 7 + 116 , 7 @ @ <nl> + @ @ - 114 , 7 + 114 , 7 @ @ <nl> { <nl> IBlockState iblockstate1 = this . field _ 73092 _ a . func _ 180495 _ p ( this . field _ 180240 _ f ) ; <nl> <nl> @ @ - 27 , 7 + 18 , 7 @ @ <nl> { <nl> this . field _ 73092 _ a . func _ 175715 _ c ( this . field _ 73090 _ b . func _ 145782 _ y ( ) , this . field _ 180240 _ f , - 1 ) ; <nl> this . field _ 73094 _ o = - 1 ; <nl> - @ @ - 123 , 7 + 125 , 7 @ @ <nl> + @ @ - 123 , 7 + 123 , 7 @ @ <nl> else <nl> { <nl> int k = this . field _ 73100 _ i - this . field _ 73089 _ e ; <nl> @ @ - 36 , 11 + 27 , 12 @ @ <nl> int l = ( int ) ( f1 * 10 . 0F ) ; <nl> <nl> if ( l ! = this . field _ 73094 _ o ) <nl> - @ @ - 137 , 6 + 139 , 15 @ @ <nl> + @ @ - 137 , 6 + 137 , 16 @ @ <nl> <nl> public void func _ 180784 _ a ( BlockPos p _ 180784 _ 1 _ , EnumFacing p _ 180784 _ 2 _ ) <nl> { <nl> - + net . minecraftforge . event . entity . player . PlayerInteractEvent . LeftClickBlock event = net . minecraftforge . common . ForgeHooks . onLeftClickBlock ( field _ 73090 _ b , p _ 180784 _ 1 _ , p _ 180784 _ 2 _ , net . minecraftforge . common . ForgeHooks . rayTraceEyeHitVec ( field _ 73090 _ b , getBlockReachDistance ( ) + 1 ) ) ; <nl> + + double reachDist = field _ 73090 _ b . func _ 110148 _ a ( EntityPlayer . REACH _ DISTANCE ) . func _ 111126 _ e ( ) ; <nl> + + net . minecraftforge . event . entity . player . PlayerInteractEvent . LeftClickBlock event = net . minecraftforge . common . ForgeHooks . onLeftClickBlock ( field _ 73090 _ b , p _ 180784 _ 1 _ , p _ 180784 _ 2 _ , net . minecraftforge . common . ForgeHooks . rayTraceEyeHitVec ( field _ 73090 _ b , reachDist + 1 ) ) ; <nl> + if ( event . isCanceled ( ) ) <nl> + { <nl> + / / Restore block and te data <nl> @ @ - 52 , 7 + 44 , 7 @ @ <nl> if ( this . func _ 73083 _ d ( ) ) <nl> { <nl> if ( ! this . field _ 73092 _ a . func _ 175719 _ a ( ( EntityPlayer ) null , p _ 180784 _ 1 _ , p _ 180784 _ 2 _ ) ) <nl> - @ @ - 172 , 17 + 183 , 36 @ @ <nl> + @ @ - 172 , 17 + 182 , 36 @ @ <nl> } <nl> } <nl> <nl> @ @ - 93 , 7 + 85 , 7 @ @ <nl> { <nl> this . func _ 180237 _ b ( p _ 180784 _ 1 _ ) ; <nl> } <nl> - @ @ - 204 , 7 + 234 , 7 @ @ <nl> + @ @ - 204 , 7 + 233 , 7 @ @ <nl> int i = this . field _ 73100 _ i - this . field _ 73089 _ e ; <nl> IBlockState iblockstate = this . field _ 73092 _ a . func _ 180495 _ p ( p _ 180785 _ 1 _ ) ; <nl> <nl> @ @ - 102 , 7 + 94 , 7 @ @ <nl> { <nl> float f = iblockstate . func _ 185903 _ a ( this . field _ 73090 _ b , this . field _ 73090 _ b . field _ 70170 _ p , p _ 180785 _ 1 _ ) * ( float ) ( i + 1 ) ; <nl> <nl> - @ @ - 233 , 13 + 263 , 17 @ @ <nl> + @ @ - 233 , 13 + 262 , 17 @ @ <nl> <nl> private boolean func _ 180235 _ c ( BlockPos p _ 180235 _ 1 _ ) <nl> { <nl> @ @ - 124 , 7 + 116 , 7 @ @ <nl> } <nl> <nl> return flag ; <nl> - @ @ - 247 , 7 + 281 , 8 @ @ <nl> + @ @ - 247 , 7 + 280 , 8 @ @ <nl> <nl> public boolean func _ 180237 _ b ( BlockPos p _ 180237 _ 1 _ ) <nl> { <nl> @ @ - 134 , 7 + 126 , 7 @ @ <nl> { <nl> return false ; <nl> } <nl> - @ @ - 264 , 53 + 299 , 41 @ @ <nl> + @ @ - 264 , 53 + 298 , 41 @ @ <nl> } <nl> else <nl> { <nl> @ @ - 200 , 7 + 192 , 7 @ @ <nl> return flag1 ; <nl> } <nl> } <nl> - @ @ - 328 , 8 + 351 , 11 @ @ <nl> + @ @ - 328 , 8 + 350 , 11 @ @ <nl> } <nl> else <nl> { <nl> @ @ - 212 , 7 + 204 , 7 @ @ <nl> ActionResult < ItemStack > actionresult = p _ 187250 _ 3 _ . func _ 77957 _ a ( p _ 187250 _ 2 _ , p _ 187250 _ 1 _ , p _ 187250 _ 4 _ ) ; <nl> ItemStack itemstack = actionresult . func _ 188398 _ b ( ) ; <nl> <nl> - @ @ - 357 , 6 + 383 , 7 @ @ <nl> + @ @ - 357 , 6 + 382 , 7 @ @ <nl> <nl> if ( itemstack . func _ 190926 _ b ( ) ) <nl> { <nl> @ @ - 220 , 13 + 212 , 14 @ @ <nl> p _ 187250 _ 1 _ . func _ 184611 _ a ( p _ 187250 _ 4 _ , ItemStack . field _ 190927 _ a ) ; <nl> } <nl> <nl> - @ @ - 402 , 13 + 429 , 23 @ @ <nl> + @ @ - 402 , 13 + 428 , 24 @ @ <nl> } <nl> else <nl> { <nl> - if ( ! p _ 187251 _ 1 _ . func _ 70093 _ af ( ) | | p _ 187251 _ 1 _ . func _ 184614 _ ca ( ) . func _ 190926 _ b ( ) & & p _ 187251 _ 1 _ . func _ 184592 _ cb ( ) . func _ 190926 _ b ( ) ) <nl> + + double reachDist = p _ 187251 _ 1 _ . func _ 110148 _ a ( EntityPlayer . REACH _ DISTANCE ) . func _ 111126 _ e ( ) ; <nl> + net . minecraftforge . event . entity . player . PlayerInteractEvent . RightClickBlock event = net . minecraftforge . common . ForgeHooks <nl> - + . onRightClickBlock ( p _ 187251 _ 1 _ , p _ 187251 _ 4 _ , p _ 187251 _ 5 _ , p _ 187251 _ 6 _ , net . minecraftforge . common . ForgeHooks . rayTraceEyeHitVec ( p _ 187251 _ 1 _ , getBlockReachDistance ( ) + 1 ) ) ; <nl> + + . onRightClickBlock ( p _ 187251 _ 1 _ , p _ 187251 _ 4 _ , p _ 187251 _ 5 _ , p _ 187251 _ 6 _ , net . minecraftforge . common . ForgeHooks . rayTraceEyeHitVec ( p _ 187251 _ 1 _ , reachDist + 1 ) ) ; <nl> + if ( event . isCanceled ( ) ) return event . getCancellationResult ( ) ; <nl> + <nl> + EnumActionResult ret = p _ 187251 _ 3 _ . onItemUseFirst ( p _ 187251 _ 1 _ , p _ 187251 _ 2 _ , p _ 187251 _ 5 _ , p _ 187251 _ 4 _ , p _ 187251 _ 6 _ , p _ 187251 _ 7 _ , p _ 187251 _ 8 _ , p _ 187251 _ 9 _ ) ; <nl> @ @ - 271 , 17 + 264 , 20 @ @ <nl> } <nl> } <nl> } <nl> - @ @ - 453 , 4 + 498 , 13 @ @ <nl> + @ @ - 453 , 4 + 498 , 16 @ @ <nl> { <nl> this . field _ 73092 _ a = p _ 73080 _ 1 _ ; <nl> } <nl> + <nl> + + @ Deprecated / / use the attribute directly <nl> + public double getBlockReachDistance ( ) <nl> + { <nl> - + return blockReachDistance ; <nl> + + return field _ 73090 _ b . func _ 110148 _ a ( EntityPlayer . REACH _ DISTANCE ) . func _ 111126 _ e ( ) ; <nl> + } <nl> + + <nl> + + @ Deprecated / / use an attribute modifier <nl> + public void setBlockReachDistance ( double distance ) <nl> + { <nl> - + blockReachDistance = distance ; <nl> + + field _ 73090 _ b . func _ 110148 _ a ( EntityPlayer . REACH _ DISTANCE ) . func _ 111128 _ a ( distance ) ; <nl> + } <nl> } <nl> diff - - git a / src / main / resources / assets / forge / lang / en _ US . lang b / src / main / resources / assets / forge / lang / en _ US . lang <nl> index 9e3fb22 . . f99745a 100644 <nl> - - - a / src / main / resources / assets / forge / lang / en _ US . lang <nl> + + + b / src / main / resources / assets / forge / lang / en _ US . lang <nl> @ @ - 208 , 3 + 208 , 4 @ @ fml . button . open . mods . folder = Open Mods Folder <nl> fml . button . open . file = Open % s <nl> <nl> forge . container . enchant . limitedEnchantability = Limited Enchantability <nl> + attribute . name . generic . reachDistance = Reach Distance <nl> diff - - git a / src / test / java / net / minecraftforge / debug / ReachDistanceAttributeTest . java b / src / test / java / net / minecraftforge / debug / ReachDistanceAttributeTest . java <nl> new file mode 100644 <nl> index 0000000 . . 0cd22cf <nl> - - - / dev / null <nl> + + + b / src / test / java / net / minecraftforge / debug / ReachDistanceAttributeTest . java <nl> @ @ - 0 , 0 + 1 , 61 @ @ <nl> + package net . minecraftforge . debug ; <nl> + <nl> + import com . google . common . collect . Multimap ; <nl> + import net . minecraft . client . renderer . block . model . ModelResourceLocation ; <nl> + import net . minecraft . entity . ai . attributes . AttributeModifier ; <nl> + import net . minecraft . entity . player . EntityPlayer ; <nl> + import net . minecraft . inventory . EntityEquipmentSlot ; <nl> + import net . minecraft . item . Item ; <nl> + import net . minecraft . item . ItemArmor ; <nl> + import net . minecraft . item . ItemStack ; <nl> + import net . minecraftforge . client . event . ModelRegistryEvent ; <nl> + import net . minecraftforge . client . model . ModelLoader ; <nl> + import net . minecraftforge . event . RegistryEvent ; <nl> + import net . minecraftforge . fml . common . Mod ; <nl> + import net . minecraftforge . fml . common . eventhandler . SubscribeEvent ; <nl> + import net . minecraftforge . fml . relauncher . Side ; <nl> + <nl> + @ Mod ( modid = ReachDistanceAttributeTest . MODID , name = ReachDistanceAttributeTest . MODID , version = " 1 . 0 " ) <nl> + @ Mod . EventBusSubscriber <nl> + public class ReachDistanceAttributeTest <nl> + { <nl> + public static final String MODID = " reachdistanceattributetest " ; <nl> + private static final Item PLATE = new ExtendedReachPlate ( ) . setRegistryName ( MODID , " extended _ reach _ plate " ) ; <nl> + <nl> + @ SubscribeEvent <nl> + public static void registerItems ( RegistryEvent . Register < Item > evt ) { <nl> + evt . getRegistry ( ) . register ( PLATE ) ; <nl> + } <nl> + <nl> + @ Mod . EventBusSubscriber ( Side . CLIENT ) <nl> + public static class ClientEvents <nl> + { <nl> + @ SubscribeEvent <nl> + public static void registerModels ( ModelRegistryEvent evt ) <nl> + { <nl> + ModelLoader . setCustomModelResourceLocation ( PLATE , 0 , new ModelResourceLocation ( " minecraft : diamond _ chestplate " , " inventory " ) ) ; <nl> + } <nl> + } <nl> + <nl> + public static class ExtendedReachPlate extends ItemArmor <nl> + { <nl> + private static final AttributeModifier BOOST = new AttributeModifier ( " extended reach plate boost " , 3 , 0 ) ; <nl> + <nl> + public ExtendedReachPlate ( ) <nl> + { <nl> + super ( ArmorMaterial . DIAMOND , 3 , EntityEquipmentSlot . CHEST ) ; <nl> + setUnlocalizedName ( " extendedReachPlate " ) ; <nl> + } <nl> + <nl> + @ Override <nl> + public Multimap < String , AttributeModifier > getAttributeModifiers ( EntityEquipmentSlot slot , ItemStack stack ) <nl> + { <nl> + Multimap < String , AttributeModifier > attribs = super . getAttributeModifiers ( slot , stack ) ; <nl> + if ( slot = = this . armorType ) <nl> + { <nl> + attribs . put ( EntityPlayer . REACH _ DISTANCE . getName ( ) , BOOST ) ; <nl> + } <nl> + return attribs ; <nl> + } <nl> + } <nl> + }

TEST DIFF:
diff - - git a / patches / minecraft / net / minecraft / block / BlockCactus . java . patch b / patches / minecraft / net / minecraft / block / BlockCactus . java . patch 
 index 6de9263 . . 596e4a2 100644 
 - - - a / patches / minecraft / net / minecraft / block / BlockCactus . java . patch 
 + + + b / patches / minecraft / net / minecraft / block / BlockCactus . java . patch 
 @ @ - 9 , 7 + 9 , 15 @ @ 
 { 
 public static final PropertyInteger field _ 176587 _ a = PropertyInteger . func _ 177719 _ a ( " age " , 0 , 15 ) ; 
 protected static final AxisAlignedBB field _ 185593 _ b = new AxisAlignedBB ( 0 . 0625D , 0 . 0D , 0 . 0625D , 0 . 9375D , 0 . 9375D , 0 . 9375D ) ; 
 - @ @ - 51 , 6 + 51 , 8 @ @ 
 + @ @ - 36 , 6 + 36 , 7 @ @ 
 + 
 + public void func _ 180650 _ b ( World p _ 180650 _ 1 _ , BlockPos p _ 180650 _ 2 _ , IBlockState p _ 180650 _ 3 _ , Random p _ 180650 _ 4 _ ) 
 + { 
 + + if ( ! p _ 180650 _ 1 _ . func _ 175697 _ a ( p _ 180650 _ 2 _ , 1 ) ) return ; / / Forge : prevent growing cactus from loading unloaded chunks with block update 
 + BlockPos blockpos = p _ 180650 _ 2 _ . func _ 177984 _ a ( ) ; 
 + 
 + if ( p _ 180650 _ 1 _ . func _ 175623 _ d ( blockpos ) ) 
 + @ @ - 51 , 6 + 52 , 8 @ @ 
 { 
 int j = ( ( Integer ) p _ 180650 _ 3 _ . func _ 177229 _ b ( field _ 176587 _ a ) ) . intValue ( ) ; 
 
 @ @ - 18 , 7 + 26 , 7 @ @ 
 if ( j = = 15 ) 
 { 
 p _ 180650 _ 1 _ . func _ 175656 _ a ( blockpos , this . func _ 176223 _ P ( ) ) ; 
 - @ @ - 62 , 6 + 64 , 8 @ @ 
 + @ @ - 62 , 6 + 65 , 8 @ @ 
 { 
 p _ 180650 _ 1 _ . func _ 180501 _ a ( p _ 180650 _ 2 _ , p _ 180650 _ 3 _ . func _ 177226 _ a ( field _ 176587 _ a , Integer . valueOf ( j + 1 ) ) , 4 ) ; 
 } 
 @ @ - 27 , 7 + 35 , 7 @ @ 
 } 
 } 
 } 
 - @ @ - 112 , 8 + 116 , 8 @ @ 
 + @ @ - 112 , 8 + 117 , 8 @ @ 
 } 
 } 
 
 @ @ - 38 , 7 + 46 , 7 @ @ 
 } 
 
 public void func _ 180634 _ a ( World p _ 180634 _ 1 _ , BlockPos p _ 180634 _ 2 _ , IBlockState p _ 180634 _ 3 _ , Entity p _ 180634 _ 4 _ ) 
 - @ @ - 137 , 6 + 141 , 18 @ @ 
 + @ @ - 137 , 6 + 142 , 18 @ @ 
 return ( ( Integer ) p _ 176201 _ 1 _ . func _ 177229 _ b ( field _ 176587 _ a ) ) . intValue ( ) ; 
 } 
 
 diff - - git a / patches / minecraft / net / minecraft / block / BlockCrops . java . patch b / patches / minecraft / net / minecraft / block / BlockCrops . java . patch 
 index 3e915e6 . . c5b37a5 100644 
 - - - a / patches / minecraft / net / minecraft / block / BlockCrops . java . patch 
 + + + b / patches / minecraft / net / minecraft / block / BlockCrops . java . patch 
 @ @ - 1 , 6 + 1 , 14 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / block / BlockCrops . java 
 + + + . . / src - work / minecraft / net / minecraft / block / BlockCrops . java 
 - @ @ - 78 , 9 + 78 , 10 @ @ 
 + @ @ - 70 , 6 + 70 , 7 @ @ 
 + { 
 + super . func _ 180650 _ b ( p _ 180650 _ 1 _ , p _ 180650 _ 2 _ , p _ 180650 _ 3 _ , p _ 180650 _ 4 _ ) ; 
 + 
 + + if ( ! p _ 180650 _ 1 _ . func _ 175697 _ a ( p _ 180650 _ 2 _ , 1 ) ) return ; / / Forge : prevent loading unloaded chunks when checking neighbor ' s light 
 + if ( p _ 180650 _ 1 _ . func _ 175671 _ l ( p _ 180650 _ 2 _ . func _ 177984 _ a ( ) ) > = 9 ) 
 + { 
 + int i = this . func _ 185527 _ x ( p _ 180650 _ 3 _ ) ; 
 + @ @ - 78 , 9 + 79 , 10 @ @ 
 { 
 float f = func _ 180672 _ a ( this , p _ 180650 _ 1 _ , p _ 180650 _ 2 _ ) ; 
 
 @ @ - 12 , 7 + 20 , 7 @ @ 
 } 
 } 
 } 
 - @ @ - 116 , 11 + 117 , 11 @ @ 
 + @ @ - 116 , 11 + 118 , 11 @ @ 
 float f1 = 0 . 0F ; 
 IBlockState iblockstate = p _ 180672 _ 1 _ . func _ 180495 _ p ( blockpos . func _ 177982 _ a ( i , 0 , j ) ) ; 
 
 @ @ - 26 , 7 + 34 , 7 @ @ 
 { 
 f1 = 3 . 0F ; 
 } 
 - @ @ - 161 , 7 + 162 , 8 @ @ 
 + @ @ - 161 , 7 + 163 , 8 @ @ 
 
 public boolean func _ 180671 _ f ( World p _ 180671 _ 1 _ , BlockPos p _ 180671 _ 2 _ , IBlockState p _ 180671 _ 3 _ ) 
 { 
 @ @ - 36 , 7 + 44 , 7 @ @ 
 } 
 
 protected Item func _ 149866 _ i ( ) 
 - @ @ - 174 , 11 + 176 , 32 @ @ 
 + @ @ - 174 , 11 + 177 , 32 @ @ 
 return Items . field _ 151015 _ O ; 
 } 
 
 diff - - git a / patches / minecraft / net / minecraft / block / BlockDynamicLiquid . java . patch b / patches / minecraft / net / minecraft / block / BlockDynamicLiquid . java . patch 
 index ec36681 . . 00faef8 100644 
 - - - a / patches / minecraft / net / minecraft / block / BlockDynamicLiquid . java . patch 
 + + + b / patches / minecraft / net / minecraft / block / BlockDynamicLiquid . java . patch 
 @ @ - 1 , 6 + 1 , 14 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / block / BlockDynamicLiquid . java 
 + + + . . / src - work / minecraft / net / minecraft / block / BlockDynamicLiquid . java 
 - @ @ - 67 , 7 + 67 , 7 @ @ 
 + @ @ - 26 , 6 + 26 , 7 @ @ 
 + 
 + public void func _ 180650 _ b ( World p _ 180650 _ 1 _ , BlockPos p _ 180650 _ 2 _ , IBlockState p _ 180650 _ 3 _ , Random p _ 180650 _ 4 _ ) 
 + { 
 + + if ( ! p _ 180650 _ 1 _ . func _ 175697 _ a ( p _ 180650 _ 2 _ , this . func _ 185698 _ b ( p _ 180650 _ 1 _ ) ) ) return ; / / Forge : avoid loading unloaded chunks 
 + int i = ( ( Integer ) p _ 180650 _ 3 _ . func _ 177229 _ b ( field _ 176367 _ b ) ) . intValue ( ) ; 
 + int j = 1 ; 
 + 
 + @ @ - 67 , 7 + 68 , 7 @ @ 
 } 
 } 
 
 @ @ - 9 , 7 + 17 , 7 @ @ 
 { 
 IBlockState iblockstate = p _ 180650 _ 1 _ . func _ 180495 _ p ( p _ 180650 _ 2 _ . func _ 177977 _ b ( ) ) ; 
 
 - @ @ - 166 , 6 + 166 , 7 @ @ 
 + @ @ - 166 , 6 + 167 , 7 @ @ 
 } 
 else 
 { 
 @ @ - 17 , 7 + 25 , 7 @ @ 
 p _ 176375 _ 3 _ . func _ 177230 _ c ( ) . func _ 176226 _ b ( p _ 176375 _ 1 _ , p _ 176375 _ 2 _ , p _ 176375 _ 3 _ , 0 ) ; 
 } 
 } 
 - @ @ - 187 , 7 + 188 , 7 @ @ 
 + @ @ - 187 , 7 + 189 , 7 @ @ 
 
 if ( ! this . func _ 176372 _ g ( p _ 176374 _ 1 _ , blockpos , iblockstate ) & & ( iblockstate . func _ 185904 _ a ( ) ! = this . field _ 149764 _ J | | ( ( Integer ) iblockstate . func _ 177229 _ b ( field _ 176367 _ b ) ) . intValue ( ) > 0 ) ) 
 { 
 @ @ - 26 , 7 + 34 , 7 @ @ 
 { 
 return p _ 176374 _ 3 _ ; 
 } 
 - @ @ - 254 , 11 + 255 , 12 @ @ 
 + @ @ - 254 , 11 + 256 , 12 @ @ 
 
 private boolean func _ 176372 _ g ( World p _ 176372 _ 1 _ , BlockPos p _ 176372 _ 2 _ , IBlockState p _ 176372 _ 3 _ ) 
 { 
 diff - - git a / patches / minecraft / net / minecraft / block / BlockFire . java . patch b / patches / minecraft / net / minecraft / block / BlockFire . java . patch 
 index 4706036 . . 6164950 100644 
 - - - a / patches / minecraft / net / minecraft / block / BlockFire . java . patch 
 + + + b / patches / minecraft / net / minecraft / block / BlockFire . java . patch 
 @ @ - 25 , 7 + 25 , 14 @ @ 
 this . field _ 149849 _ a . put ( p _ 180686 _ 1 _ , Integer . valueOf ( p _ 180686 _ 2 _ ) ) ; 
 this . field _ 149848 _ b . put ( p _ 180686 _ 1 _ , Integer . valueOf ( p _ 180686 _ 3 _ ) ) ; 
 } 
 - @ @ - 132 , 13 + 141 , 8 @ @ 
 + @ @ - 126 , 19 + 135 , 15 @ @ 
 + { 
 + if ( p _ 180650 _ 1 _ . func _ 82736 _ K ( ) . func _ 82766 _ b ( " doFireTick " ) ) 
 + { 
 + + if ( ! p _ 180650 _ 1 _ . func _ 175697 _ a ( p _ 180650 _ 2 _ , 2 ) ) return ; / / Forge : prevent loading unloaded chunks when spreading fire 
 + if ( ! this . func _ 176196 _ c ( p _ 180650 _ 1 _ , p _ 180650 _ 2 _ ) ) 
 + { 
 + p _ 180650 _ 1 _ . func _ 175698 _ g ( p _ 180650 _ 2 _ ) ; 
 } 
 
 Block block = p _ 180650 _ 1 _ . func _ 180495 _ p ( p _ 180650 _ 2 _ . func _ 177977 _ b ( ) ) . func _ 177230 _ c ( ) ; 
 @ @ - 40 , 7 + 47 , 7 @ @ 
 int i = ( ( Integer ) p _ 180650 _ 3 _ . func _ 177229 _ b ( field _ 176543 _ a ) ) . intValue ( ) ; 
 
 if ( ! flag & & p _ 180650 _ 1 _ . func _ 72896 _ J ( ) & & this . func _ 176537 _ d ( p _ 180650 _ 1 _ , p _ 180650 _ 2 _ ) & & p _ 180650 _ 4 _ . nextFloat ( ) < 0 . 2F + ( float ) i * 0 . 03F ) 
 - @ @ - 159 , 7 + 163 , 7 @ @ 
 + @ @ - 159 , 7 + 164 , 7 @ @ 
 { 
 if ( ! this . func _ 176533 _ e ( p _ 180650 _ 1 _ , p _ 180650 _ 2 _ ) ) 
 { 
 @ @ - 49 , 7 + 56 , 7 @ @ 
 { 
 p _ 180650 _ 1 _ . func _ 175698 _ g ( p _ 180650 _ 2 _ ) ; 
 } 
 - @ @ - 167 , 7 + 171 , 7 @ @ 
 + @ @ - 167 , 7 + 172 , 7 @ @ 
 return ; 
 } 
 
 @ @ - 58 , 7 + 65 , 7 @ @ 
 { 
 p _ 180650 _ 1 _ . func _ 175698 _ g ( p _ 180650 _ 2 _ ) ; 
 return ; 
 - @ @ - 182 , 12 + 186 , 12 @ @ 
 + @ @ - 182 , 12 + 187 , 12 @ @ 
 j = - 50 ; 
 } 
 
 @ @ - 77 , 7 + 84 , 7 @ @ 
 
 for ( int k = - 1 ; k < = 1 ; + + k ) 
 { 
 - @ @ - 246 , 22 + 250 , 30 @ @ 
 + @ @ - 246 , 22 + 251 , 30 @ @ 
 return false ; 
 } 
 
 @ @ - 109 , 7 + 116 , 7 @ @ 
 if ( p _ 176536 _ 4 _ . nextInt ( p _ 176536 _ 3 _ ) < i ) 
 { 
 IBlockState iblockstate = p _ 176536 _ 1 _ . func _ 180495 _ p ( p _ 176536 _ 2 _ ) ; 
 - @ @ - 293 , 7 + 305 , 7 @ @ 
 + @ @ - 293 , 7 + 306 , 7 @ @ 
 { 
 for ( EnumFacing enumfacing : EnumFacing . values ( ) ) 
 { 
 @ @ - 118 , 7 + 125 , 7 @ @ 
 { 
 return true ; 
 } 
 - @ @ - 314 , 7 + 326 , 7 @ @ 
 + @ @ - 314 , 7 + 327 , 7 @ @ 
 
 for ( EnumFacing enumfacing : EnumFacing . values ( ) ) 
 { 
 @ @ - 127 , 7 + 134 , 7 @ @ 
 } 
 
 return i ; 
 - @ @ - 326 , 9 + 338 , 10 @ @ 
 + @ @ - 326 , 9 + 339 , 10 @ @ 
 return false ; 
 } 
 
 @ @ - 139 , 7 + 146 , 7 @ @ 
 } 
 
 public boolean func _ 176196 _ c ( World p _ 176196 _ 1 _ , BlockPos p _ 176196 _ 2 _ ) 
 - @ @ - 372 , 9 + 385 , 9 @ @ 
 + @ @ - 372 , 9 + 386 , 9 @ @ 
 p _ 180655 _ 2 _ . func _ 184134 _ a ( ( double ) ( ( float ) p _ 180655 _ 3 _ . func _ 177958 _ n ( ) + 0 . 5F ) , ( double ) ( ( float ) p _ 180655 _ 3 _ . func _ 177956 _ o ( ) + 0 . 5F ) , ( double ) ( ( float ) p _ 180655 _ 3 _ . func _ 177952 _ p ( ) + 0 . 5F ) , SoundEvents . field _ 187643 _ bs , SoundCategory . BLOCKS , 1 . 0F + p _ 180655 _ 4 _ . nextFloat ( ) , p _ 180655 _ 4 _ . nextFloat ( ) * 0 . 7F + 0 . 3F , false ) ; 
 } 
 
 @ @ - 151 , 7 + 158 , 7 @ @ 
 { 
 for ( int j = 0 ; j < 2 ; + + j ) 
 { 
 - @ @ - 385 , 7 + 398 , 7 @ @ 
 + @ @ - 385 , 7 + 399 , 7 @ @ 
 } 
 } 
 
 @ @ - 160 , 7 + 167 , 7 @ @ 
 { 
 for ( int k = 0 ; k < 2 ; + + k ) 
 { 
 - @ @ - 396 , 7 + 409 , 7 @ @ 
 + @ @ - 396 , 7 + 410 , 7 @ @ 
 } 
 } 
 
 @ @ - 169 , 7 + 176 , 7 @ @ 
 { 
 for ( int l = 0 ; l < 2 ; + + l ) 
 { 
 - @ @ - 407 , 7 + 420 , 7 @ @ 
 + @ @ - 407 , 7 + 421 , 7 @ @ 
 } 
 } 
 
 @ @ - 178 , 7 + 185 , 7 @ @ 
 { 
 for ( int i1 = 0 ; i1 < 2 ; + + i1 ) 
 { 
 - @ @ - 418 , 7 + 431 , 7 @ @ 
 + @ @ - 418 , 7 + 432 , 7 @ @ 
 } 
 } 
 
 @ @ - 187 , 7 + 194 , 7 @ @ 
 { 
 for ( int j1 = 0 ; j1 < 2 ; + + j1 ) 
 { 
 - @ @ - 462 , 6 + 475 , 21 @ @ 
 + @ @ - 462 , 6 + 476 , 21 @ @ 
 return new BlockStateContainer ( this , new IProperty [ ] { field _ 176543 _ a , field _ 176545 _ N , field _ 176546 _ O , field _ 176541 _ P , field _ 176539 _ Q , field _ 176542 _ R } ) ; 
 } 
 
 diff - - git a / patches / minecraft / net / minecraft / block / BlockGrass . java . patch b / patches / minecraft / net / minecraft / block / BlockGrass . java . patch 
 index 73c11c5 . . b68cf2a 100644 
 - - - a / patches / minecraft / net / minecraft / block / BlockGrass . java . patch 
 + + + b / patches / minecraft / net / minecraft / block / BlockGrass . java . patch 
 @ @ - 1 , 15 + 1 , 16 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / block / BlockGrass . java 
 + + + . . / src - work / minecraft / net / minecraft / block / BlockGrass . java 
 - @ @ - 38 , 7 + 38 , 7 @ @ 
 + @ @ - 38 , 7 + 38 , 8 @ @ 
 { 
 if ( ! p _ 180650 _ 1 _ . field _ 72995 _ K ) 
 { 
 - if ( p _ 180650 _ 1 _ . func _ 175671 _ l ( p _ 180650 _ 2 _ . func _ 177984 _ a ( ) ) < 4 & & p _ 180650 _ 1 _ . func _ 180495 _ p ( p _ 180650 _ 2 _ . func _ 177984 _ a ( ) ) . func _ 185891 _ c ( ) > 2 ) 
 + + if ( ! p _ 180650 _ 1 _ . func _ 175697 _ a ( p _ 180650 _ 2 _ , 3 ) ) return ; / / Forge : prevent loading unloaded chunks when checking neighbor ' s light and spreading 
 + if ( p _ 180650 _ 1 _ . func _ 175671 _ l ( p _ 180650 _ 2 _ . func _ 177984 _ a ( ) ) < 4 & & p _ 180650 _ 1 _ . func _ 180495 _ p ( p _ 180650 _ 2 _ . func _ 177984 _ a ( ) ) . getLightOpacity ( p _ 180650 _ 1 _ , p _ 180650 _ 2 _ . func _ 177984 _ a ( ) ) > 2 ) 
 { 
 p _ 180650 _ 1 _ . func _ 175656 _ a ( p _ 180650 _ 2 _ , Blocks . field _ 150346 _ d . func _ 176223 _ P ( ) ) ; 
 } 
 - @ @ - 58 , 7 + 58 , 7 @ @ 
 + @ @ - 58 , 7 + 59 , 7 @ @ 
 IBlockState iblockstate = p _ 180650 _ 1 _ . func _ 180495 _ p ( blockpos . func _ 177984 _ a ( ) ) ; 
 IBlockState iblockstate1 = p _ 180650 _ 1 _ . func _ 180495 _ p ( blockpos ) ; 
 
 @ @ - 18 , 7 + 19 , 7 @ @ 
 { 
 p _ 180650 _ 1 _ . func _ 175656 _ a ( blockpos , Blocks . field _ 150349 _ c . func _ 176223 _ P ( ) ) ; 
 } 
 - @ @ - 96 , 18 + 96 , 11 @ @ 
 + @ @ - 96 , 18 + 97 , 11 @ @ 
 { 
 if ( j > = i / 16 ) 
 { 
 diff - - git a / patches / minecraft / net / minecraft / block / BlockLeaves . java . patch b / patches / minecraft / net / minecraft / block / BlockLeaves . java . patch 
 index 4b6669c . . fd9616a 100644 
 - - - a / patches / minecraft / net / minecraft / block / BlockLeaves . java . patch 
 + + + b / patches / minecraft / net / minecraft / block / BlockLeaves . java . patch 
 @ @ - 21 , 7 + 21 , 17 @ @ 
 } 
 } 
 } 
 - @ @ - 96 , 9 + 96 , 9 @ @ 
 + @ @ - 83 , 7 + 83 , 8 @ @ 
 + this . field _ 150128 _ a = new int [ 32768 ] ; 
 + } 
 + 
 + - if ( p _ 180650 _ 1 _ . func _ 175707 _ a ( new BlockPos ( k - 5 , l - 5 , i1 - 5 ) , new BlockPos ( k + 5 , l + 5 , i1 + 5 ) ) ) 
 + + if ( ! p _ 180650 _ 1 _ . func _ 175697 _ a ( p _ 180650 _ 2 _ , 1 ) ) return ; / / Forge : prevent decaying leaves from updating neighbors and loading unloaded chunks 
 + + if ( p _ 180650 _ 1 _ . func _ 175697 _ a ( p _ 180650 _ 2 _ , 6 ) ) / / Forge : extend range from 5 to 6 to account for neighbor checks in world . markAndNotifyBlock - > world . updateObservingBlocksAt 
 + { 
 + BlockPos . MutableBlockPos blockpos $ mutableblockpos = new BlockPos . MutableBlockPos ( ) ; 
 + 
 + @ @ - 96 , 9 + 97 , 9 @ @ 
 IBlockState iblockstate = p _ 180650 _ 1 _ . func _ 180495 _ p ( blockpos $ mutableblockpos . func _ 181079 _ c ( k + i2 , l + j2 , i1 + k2 ) ) ; 
 Block block = iblockstate . func _ 177230 _ c ( ) ; 
 
 @ @ - 33 , 7 + 43 , 7 @ @ 
 { 
 this . field _ 150128 _ a [ ( i2 + 16 ) * 1024 + ( j2 + 16 ) * 32 + k2 + 16 ] = - 2 ; 
 } 
 - @ @ - 205 , 40 + 205 , 7 @ @ 
 + @ @ - 205 , 40 + 206 , 7 @ @ 
 
 public void func _ 180653 _ a ( World p _ 180653 _ 1 _ , BlockPos p _ 180653 _ 2 _ , IBlockState p _ 180653 _ 3 _ , float p _ 180653 _ 4 _ , int p _ 180653 _ 5 _ ) 
 { 
 @ @ - 75 , 7 + 85 , 7 @ @ 
 } 
 
 protected void func _ 176234 _ a ( World p _ 176234 _ 1 _ , BlockPos p _ 176234 _ 2 _ , IBlockState p _ 176234 _ 3 _ , int p _ 176234 _ 4 _ ) 
 - @ @ - 274 , 6 + 241 , 51 @ @ 
 + @ @ - 274 , 6 + 242 , 51 @ @ 
 
 public abstract BlockPlanks . EnumType func _ 176233 _ b ( int p _ 176233 _ 1 _ ) ; 
 
 diff - - git a / patches / minecraft / net / minecraft / block / BlockMycelium . java . patch b / patches / minecraft / net / minecraft / block / BlockMycelium . java . patch 
 index f976444 . . 36158f0 100644 
 - - - a / patches / minecraft / net / minecraft / block / BlockMycelium . java . patch 
 + + + b / patches / minecraft / net / minecraft / block / BlockMycelium . java . patch 
 @ @ - 1 , 15 + 1 , 16 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / block / BlockMycelium . java 
 + + + . . / src - work / minecraft / net / minecraft / block / BlockMycelium . java 
 - @ @ - 39 , 7 + 39 , 7 @ @ 
 + @ @ - 39 , 7 + 39 , 8 @ @ 
 { 
 if ( ! p _ 180650 _ 1 _ . field _ 72995 _ K ) 
 { 
 - if ( p _ 180650 _ 1 _ . func _ 175671 _ l ( p _ 180650 _ 2 _ . func _ 177984 _ a ( ) ) < 4 & & p _ 180650 _ 1 _ . func _ 180495 _ p ( p _ 180650 _ 2 _ . func _ 177984 _ a ( ) ) . func _ 185891 _ c ( ) > 2 ) 
 + + if ( ! p _ 180650 _ 1 _ . func _ 175697 _ a ( p _ 180650 _ 2 _ , 2 ) ) return ; / / Forge : prevent loading unloaded chunks when checking neighbor ' s light and spreading 
 + if ( p _ 180650 _ 1 _ . func _ 175671 _ l ( p _ 180650 _ 2 _ . func _ 177984 _ a ( ) ) < 4 & & p _ 180650 _ 1 _ . func _ 180495 _ p ( p _ 180650 _ 2 _ . func _ 177984 _ a ( ) ) . getLightOpacity ( p _ 180650 _ 1 _ , p _ 180650 _ 2 _ . func _ 177984 _ a ( ) ) > 2 ) 
 { 
 p _ 180650 _ 1 _ . func _ 175656 _ a ( p _ 180650 _ 2 _ , Blocks . field _ 150346 _ d . func _ 176223 _ P ( ) . func _ 177226 _ a ( BlockDirt . field _ 176386 _ a , BlockDirt . DirtType . DIRT ) ) ; 
 } 
 - @ @ - 53 , 7 + 53 , 7 @ @ 
 + @ @ - 53 , 7 + 54 , 7 @ @ 
 IBlockState iblockstate = p _ 180650 _ 1 _ . func _ 180495 _ p ( blockpos ) ; 
 IBlockState iblockstate1 = p _ 180650 _ 1 _ . func _ 180495 _ p ( blockpos . func _ 177984 _ a ( ) ) ; 
 
 diff - - git a / patches / minecraft / net / minecraft / block / BlockSapling . java . patch b / patches / minecraft / net / minecraft / block / BlockSapling . java . patch 
 index 5fc2fa5 . . 059accc 100644 
 - - - a / patches / minecraft / net / minecraft / block / BlockSapling . java . patch 
 + + + b / patches / minecraft / net / minecraft / block / BlockSapling . java . patch 
 @ @ - 1 , 6 + 1 , 14 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / block / BlockSapling . java 
 + + + . . / src - work / minecraft / net / minecraft / block / BlockSapling . java 
 - @ @ - 74 , 6 + 74 , 7 @ @ 
 + @ @ - 53 , 6 + 53 , 7 @ @ 
 + { 
 + super . func _ 180650 _ b ( p _ 180650 _ 1 _ , p _ 180650 _ 2 _ , p _ 180650 _ 3 _ , p _ 180650 _ 4 _ ) ; 
 + 
 + + if ( ! p _ 180650 _ 1 _ . func _ 175697 _ a ( p _ 180650 _ 2 _ , 1 ) ) return ; / / Forge : prevent loading unloaded chunks when checking neighbor ' s light 
 + if ( p _ 180650 _ 1 _ . func _ 175671 _ l ( p _ 180650 _ 2 _ . func _ 177984 _ a ( ) ) > = 9 & & p _ 180650 _ 4 _ . nextInt ( 7 ) = = 0 ) 
 + { 
 + this . func _ 176478 _ d ( p _ 180650 _ 1 _ , p _ 180650 _ 2 _ , p _ 180650 _ 3 _ , p _ 180650 _ 4 _ ) ; 
 + @ @ - 74 , 6 + 75 , 7 @ @ 
 
 public void func _ 176476 _ e ( World p _ 176476 _ 1 _ , BlockPos p _ 176476 _ 2 _ , IBlockState p _ 176476 _ 3 _ , Random p _ 176476 _ 4 _ ) 
 { 
 diff - - git a / patches / minecraft / net / minecraft / block / BlockStem . java . patch b / patches / minecraft / net / minecraft / block / BlockStem . java . patch 
 index 878d14c . . 34ee16b 100644 
 - - - a / patches / minecraft / net / minecraft / block / BlockStem . java . patch 
 + + + b / patches / minecraft / net / minecraft / block / BlockStem . java . patch 
 @ @ - 1 , 6 + 1 , 11 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / block / BlockStem . java 
 + + + . . / src - work / minecraft / net / minecraft / block / BlockStem . java 
 - @ @ - 70 , 14 + 70 , 14 @ @ 
 + @ @ - 66 , 18 + 66 , 19 @ @ 
 + { 
 + super . func _ 180650 _ b ( p _ 180650 _ 1 _ , p _ 180650 _ 2 _ , p _ 180650 _ 3 _ , p _ 180650 _ 4 _ ) ; 
 + 
 + + if ( ! p _ 180650 _ 1 _ . func _ 175697 _ a ( p _ 180650 _ 2 _ , 1 ) ) return ; / / Forge : prevent loading unloaded chunks when checking neighbor ' s light 
 + if ( p _ 180650 _ 1 _ . func _ 175671 _ l ( p _ 180650 _ 2 _ . func _ 177984 _ a ( ) ) > = 9 ) 
 { 
 float f = BlockCrops . func _ 180672 _ a ( this , p _ 180650 _ 1 _ , p _ 180650 _ 2 _ ) ; 
 
 @ @ - 18 , 7 + 23 , 7 @ @ 
 } 
 else 
 { 
 - @ @ - 90 , 13 + 90 , 15 @ @ 
 + @ @ - 90 , 13 + 91 , 15 @ @ 
 } 
 
 p _ 180650 _ 2 _ = p _ 180650 _ 2 _ . func _ 177972 _ a ( EnumFacing . Plane . HORIZONTAL . func _ 179518 _ a ( p _ 180650 _ 4 _ ) ) ; 
 @ @ - 36 , 7 + 41 , 7 @ @ 
 } 
 } 
 } 
 - @ @ - 110 , 20 + 112 , 23 @ @ 
 + @ @ - 110 , 20 + 113 , 23 @ @ 
 public void func _ 180653 _ a ( World p _ 180653 _ 1 _ , BlockPos p _ 180653 _ 2 _ , IBlockState p _ 180653 _ 3 _ , float p _ 180653 _ 4 _ , int p _ 180653 _ 5 _ ) 
 { 
 super . func _ 180653 _ a ( p _ 180653 _ 1 _ , p _ 180653 _ 2 _ , p _ 180653 _ 3 _ , p _ 180653 _ 4 _ , p _ 180653 _ 5 _ ) ; 
 diff - - git a / patches / minecraft / net / minecraft / block / BlockVine . java . patch b / patches / minecraft / net / minecraft / block / BlockVine . java . patch 
 index fd299b1 . . b6860d8 100644 
 - - - a / patches / minecraft / net / minecraft / block / BlockVine . java . patch 
 + + + b / patches / minecraft / net / minecraft / block / BlockVine . java . patch 
 @ @ - 9 , 6 + 9 , 15 @ @ 
 { 
 public static final PropertyBool field _ 176277 _ a = PropertyBool . func _ 177716 _ a ( " up " ) ; 
 public static final PropertyBool field _ 176273 _ b = PropertyBool . func _ 177716 _ a ( " north " ) ; 
 + @ @ - 185 , 7 + 185 , 7 @ @ 
 + { 
 + if ( ! p _ 180650 _ 1 _ . field _ 72995 _ K ) 
 + { 
 + - if ( p _ 180650 _ 1 _ . field _ 73012 _ v . nextInt ( 4 ) = = 0 ) 
 + + if ( p _ 180650 _ 1 _ . field _ 73012 _ v . nextInt ( 4 ) = = 0 & & p _ 180650 _ 1 _ . func _ 175697 _ a ( p _ 180650 _ 2 _ , 4 ) ) / / Forge : check area to prevent loading unloaded chunks 
 + { 
 + int i = 4 ; 
 + int j = 5 ; 
 @ @ - 244 , 7 + 244 , 7 @ @ 
 IBlockState iblockstate3 = p _ 180650 _ 1 _ . func _ 180495 _ p ( blockpos4 ) ; 
 Block block1 = iblockstate3 . func _ 177230 _ c ( ) ; 
 diff - - git a / patches / minecraft / net / minecraft / tileentity / TileEntityChest . java . patch b / patches / minecraft / net / minecraft / tileentity / TileEntityChest . java . patch 
 index 09dabdc . . 78b80ff 100644 
 - - - a / patches / minecraft / net / minecraft / tileentity / TileEntityChest . java . patch 
 + + + b / patches / minecraft / net / minecraft / tileentity / TileEntityChest . java . patch 
 @ @ - 8 , 7 + 8 , 15 @ @ 
 } 
 
 @ SuppressWarnings ( " incomplete - switch " ) 
 - @ @ - 349 , 6 + 350 , 29 @ @ 
 + @ @ - 167 , 6 + 168 , 7 @ @ 
 + { 
 + if ( ! this . field _ 145984 _ a ) 
 + { 
 + + if ( this . field _ 145850 _ b = = null | | ! this . field _ 145850 _ b . func _ 175697 _ a ( this . field _ 174879 _ c , 1 ) ) return ; / / Forge : prevent loading unloaded chunks when checking neighbors 
 + this . field _ 145984 _ a = true ; 
 + this . field _ 145991 _ k = this . func _ 174911 _ a ( EnumFacing . WEST ) ; 
 + this . field _ 145990 _ j = this . func _ 174911 _ a ( EnumFacing . EAST ) ; 
 + @ @ - 349 , 6 + 351 , 29 @ @ 
 } 
 } 
 
 diff - - git a / patches / minecraft / net / minecraft / village / Village . java . patch b / patches / minecraft / net / minecraft / village / Village . java . patch 
 index bf5691c . . b435446 100644 
 - - - a / patches / minecraft / net / minecraft / village / Village . java . patch 
 + + + b / patches / minecraft / net / minecraft / village / Village . java . patch 
 @ @ - 45 , 7 + 45 , 15 @ @ 
 
 if ( entityplayer1 ! = null ) 
 { 
 - @ @ - 415 , 25 + 417 , 51 @ @ 
 + @ @ - 362 , 6 + 364 , 7 @ @ 
 + villagedoorinfo . func _ 75466 _ d ( ) ; 
 + } 
 + 
 + + if ( field _ 75586 _ a . func _ 175667 _ e ( villagedoorinfo . func _ 179852 _ d ( ) ) ) / / Forge : check that the door block is loaded to avoid loading chunks 
 + if ( ! this . func _ 179860 _ f ( villagedoorinfo . func _ 179852 _ d ( ) ) | | Math . abs ( this . field _ 75581 _ g - villagedoorinfo . func _ 75473 _ b ( ) ) > 1200 ) 
 + { 
 + this . field _ 75585 _ c = this . field _ 75585 _ c . func _ 177973 _ b ( villagedoorinfo . func _ 179852 _ d ( ) ) ; 
 + @ @ - 415 , 25 + 418 , 51 @ @ 
 } 
 } 
 
 @ @ - 99 , 7 + 107 , 7 @ @ 
 public void func _ 82690 _ a ( NBTTagCompound p _ 82690 _ 1 _ ) 
 { 
 this . field _ 75588 _ h = p _ 82690 _ 1 _ . func _ 74762 _ e ( " PopSize " ) ; 
 - @ @ - 459 , 21 + 487 , 17 @ @ 
 + @ @ - 459 , 21 + 488 , 17 @ @ 
 { 
 NBTTagCompound nbttagcompound1 = nbttaglist1 . func _ 150305 _ b ( j ) ; 
 
 @ @ - 126 , 7 + 134 , 7 @ @ 
 } 
 
 public void func _ 82689 _ b ( NBTTagCompound p _ 82689 _ 1 _ ) 
 - @ @ - 507 , 18 + 531 , 14 @ @ 
 + @ @ - 507 , 18 + 532 , 14 @ @ 
 p _ 82689 _ 1 _ . func _ 74782 _ a ( " Doors " , nbttaglist ) ; 
 NBTTagList nbttaglist1 = new NBTTagList ( ) ; 
 
 @ @ - 147 , 7 + 155 , 7 @ @ 
 nbttagcompound1 . func _ 74768 _ a ( " S " , ( ( Integer ) this . field _ 82693 _ j . get ( s ) ) . intValue ( ) ) ; 
 nbttaglist1 . func _ 74742 _ a ( nbttagcompound1 ) ; 
 } 
 - @ @ - 530 , 6 + 550 , 7 @ @ 
 + @ @ - 530 , 6 + 551 , 7 @ @ 
 } 
 
 p _ 82689 _ 1 _ . func _ 74782 _ a ( " Players " , nbttaglist1 ) ; 
 @ @ - 155 , 7 + 163 , 7 @ @ 
 } 
 
 public void func _ 82692 _ h ( ) 
 - @ @ - 544 , 9 + 565 , 9 @ @ 
 + @ @ - 544 , 9 + 566 , 9 @ @ 
 
 public void func _ 82683 _ b ( int p _ 82683 _ 1 _ ) 
 { 
 @ @ - 167 , 7 + 175 , 7 @ @ 
 } 
 } 
 
 - @ @ - 561 , 4 + 582 , 31 @ @ 
 + @ @ - 561 , 4 + 583 , 31 @ @ 
 this . field _ 75590 _ b = p _ i1674 _ 3 _ ; 
 } 
 } 
 diff - - git a / patches / minecraft / net / minecraft / village / VillageCollection . java . patch b / patches / minecraft / net / minecraft / village / VillageCollection . java . patch 
 new file mode 100644 
 index 0000000 . . 41811b9 
 - - - / dev / null 
 + + + b / patches / minecraft / net / minecraft / village / VillageCollection . java . patch 
 @ @ - 0 , 0 + 1 , 10 @ @ 
 + - - - . . / src - base / minecraft / net / minecraft / village / VillageCollection . java 
 + + + + . . / src - work / minecraft / net / minecraft / village / VillageCollection . java 
 + @ @ - 151 , 6 + 151 , 7 @ @ 
 + 
 + private void func _ 180609 _ b ( BlockPos p _ 180609 _ 1 _ ) 
 + { 
 + + if ( ! this . field _ 75556 _ a . func _ 175697 _ a ( p _ 180609 _ 1 _ , 16 ) ) return ; / / Forge : prevent loading unloaded chunks when checking for doors 
 + int i = 16 ; 
 + int j = 4 ; 
 + int k = 16 ; 
 diff - - git a / patches / minecraft / net / minecraft / world / WorldServer . java . patch b / patches / minecraft / net / minecraft / world / WorldServer . java . patch 
 index 1968110 . . f717bbb 100644 
 - - - a / patches / minecraft / net / minecraft / world / WorldServer . java . patch 
 + + + b / patches / minecraft / net / minecraft / world / WorldServer . java . patch 
 @ @ - 127 , 7 + 127 , 7 @ @ 
 { 
 this . field _ 73005 _ l = this . field _ 73005 _ l * 3 + 1013904223 ; 
 int l = this . field _ 73005 _ l > > 2 ; 
 - @ @ - 415 , 7 + 428 , 7 @ @ 
 + @ @ - 415 , 13 + 428 , 14 @ @ 
 
 this . field _ 72984 _ F . func _ 76318 _ c ( " iceandsnow " ) ; 
 
 @ @ - 136 , 7 + 136 , 14 @ @ 
 { 
 this . field _ 73005 _ l = this . field _ 73005 _ l * 3 + 1013904223 ; 
 int j2 = this . field _ 73005 _ l > > 2 ; 
 - @ @ - 525 , 7 + 538 , 10 @ @ 
 + BlockPos blockpos1 = this . func _ 175725 _ q ( new BlockPos ( j + ( j2 & 15 ) , 0 , k + ( j2 > > 8 & 15 ) ) ) ; 
 + BlockPos blockpos2 = blockpos1 . func _ 177977 _ b ( ) ; 
 + 
 + + if ( this . func _ 175697 _ a ( blockpos2 , 1 ) ) / / Forge : check area to avoid loading neighbors in unloaded chunks 
 + if ( this . func _ 175662 _ w ( blockpos2 ) ) 
 + { 
 + this . func _ 175656 _ a ( blockpos2 , Blocks . field _ 150432 _ aD . func _ 176223 _ P ( ) ) ; 
 + @ @ - 525 , 7 + 539 , 10 @ @ 
 { 
 if ( p _ 175654 _ 2 _ . func _ 149698 _ L ( ) ) 
 { 
 @ @ - 148 , 7 + 155 , 7 @ @ 
 { 
 IBlockState iblockstate = this . func _ 180495 _ p ( p _ 175654 _ 1 _ ) ; 
 
 - @ @ - 561 , 6 + 577 , 7 @ @ 
 + @ @ - 561 , 6 + 578 , 7 @ @ 
 
 public void func _ 180497 _ b ( BlockPos p _ 180497 _ 1 _ , Block p _ 180497 _ 2 _ , int p _ 180497 _ 3 _ , int p _ 180497 _ 4 _ ) 
 { 
 @ @ - 156 , 7 + 163 , 7 @ @ 
 NextTickListEntry nextticklistentry = new NextTickListEntry ( p _ 180497 _ 1 _ , p _ 180497 _ 2 _ ) ; 
 nextticklistentry . func _ 82753 _ a ( p _ 180497 _ 4 _ ) ; 
 Material material = p _ 180497 _ 2 _ . func _ 176223 _ P ( ) . func _ 185904 _ a ( ) ; 
 - @ @ - 579 , 7 + 596 , 7 @ @ 
 + @ @ - 579 , 7 + 597 , 7 @ @ 
 
 public void func _ 72939 _ s ( ) 
 { 
 @ @ - 165 , 7 + 172 , 7 @ @ 
 { 
 if ( this . field _ 80004 _ Q + + > = 300 ) 
 { 
 - @ @ - 703 , 6 + 720 , 9 @ @ 
 + @ @ - 703 , 6 + 721 , 9 @ @ 
 { 
 NextTickListEntry nextticklistentry1 = iterator . next ( ) ; 
 iterator . remove ( ) ; 
 @ @ - 175 , 7 + 182 , 7 @ @ 
 int k = 0 ; 
 
 if ( this . func _ 175707 _ a ( nextticklistentry1 . field _ 180282 _ a . func _ 177982 _ a ( 0 , 0 , 0 ) , nextticklistentry1 . field _ 180282 _ a . func _ 177982 _ a ( 0 , 0 , 0 ) ) ) 
 - @ @ - 829 , 6 + 849 , 10 @ @ 
 + @ @ - 829 , 6 + 850 , 10 @ @ 
 
 public boolean func _ 175660 _ a ( EntityPlayer p _ 175660 _ 1 _ , BlockPos p _ 175660 _ 2 _ ) 
 { 
 @ @ - 186 , 7 + 193 , 7 @ @ 
 return ! this . field _ 73061 _ a . func _ 175579 _ a ( this , p _ 175660 _ 2 _ , p _ 175660 _ 1 _ ) & & this . func _ 175723 _ af ( ) . func _ 177746 _ a ( p _ 175660 _ 2 _ ) ; 
 } 
 
 - @ @ - 894 , 6 + 918 , 7 @ @ 
 + @ @ - 894 , 6 + 919 , 7 @ @ 
 } 
 else 
 { 
 @ @ - 194 , 7 + 201 , 7 @ @ 
 this . field _ 72987 _ B = true ; 
 BiomeProvider biomeprovider = this . field _ 73011 _ w . func _ 177499 _ m ( ) ; 
 List < Biome > list = biomeprovider . func _ 76932 _ a ( ) ; 
 - @ @ - 979 , 6 + 1004 , 7 @ @ 
 + @ @ - 979 , 6 + 1005 , 7 @ @ 
 } 
 
 chunkproviderserver . func _ 186027 _ a ( p _ 73044 _ 1 _ ) ; 
 @ @ - 202 , 7 + 209 , 7 @ @ 
 
 for ( Chunk chunk : Lists . newArrayList ( chunkproviderserver . func _ 189548 _ a ( ) ) ) 
 { 
 - @ @ - 1023 , 6 + 1049 , 7 @ @ 
 + @ @ - 1023 , 6 + 1050 , 7 @ @ 
 this . field _ 72986 _ A . func _ 176135 _ e ( this . func _ 175723 _ af ( ) . func _ 177732 _ i ( ) ) ; 
 this . field _ 73019 _ z . func _ 75755 _ a ( this . field _ 72986 _ A , this . field _ 73061 _ a . func _ 184103 _ al ( ) . func _ 72378 _ q ( ) ) ; 
 this . field _ 72988 _ C . func _ 75744 _ a ( ) ; 
 @ @ - 210 , 7 + 217 , 7 @ @ 
 } 
 
 public boolean func _ 72838 _ d ( Entity p _ 72838 _ 1 _ ) 
 - @ @ - 1034 , 7 + 1061 , 7 @ @ 
 + @ @ - 1034 , 7 + 1062 , 7 @ @ 
 { 
 for ( Entity entity : Lists . newArrayList ( p _ 175650 _ 1 _ ) ) 
 { 
 @ @ - 219 , 7 + 226 , 7 @ @ 
 { 
 this . field _ 72996 _ f . add ( entity ) ; 
 this . func _ 72923 _ a ( entity ) ; 
 - @ @ - 1115 , 7 + 1142 , 7 @ @ 
 + @ @ - 1115 , 7 + 1143 , 7 @ @ 
 { 
 if ( super . func _ 72942 _ c ( p _ 72942 _ 1 _ ) ) 
 { 
 @ @ - 228 , 7 + 235 , 7 @ @ 
 return true ; 
 } 
 else 
 - @ @ - 1137 , 6 + 1164 , 7 @ @ 
 + @ @ - 1137 , 6 + 1165 , 7 @ @ 
 public Explosion func _ 72885 _ a ( @ Nullable Entity p _ 72885 _ 1 _ , double p _ 72885 _ 2 _ , double p _ 72885 _ 4 _ , double p _ 72885 _ 6 _ , float p _ 72885 _ 8 _ , boolean p _ 72885 _ 9 _ , boolean p _ 72885 _ 10 _ ) 
 { 
 Explosion explosion = new Explosion ( this , p _ 72885 _ 1 _ , p _ 72885 _ 2 _ , p _ 72885 _ 4 _ , p _ 72885 _ 6 _ , p _ 72885 _ 8 _ , p _ 72885 _ 9 _ , p _ 72885 _ 10 _ ) ; 
 @ @ - 236 , 7 + 243 , 7 @ @ 
 explosion . func _ 77278 _ a ( ) ; 
 explosion . func _ 77279 _ a ( false ) ; 
 
 - @ @ - 1182 , 7 + 1210 , 7 @ @ 
 + @ @ - 1182 , 7 + 1211 , 7 @ @ 
 { 
 if ( this . func _ 147485 _ a ( blockeventdata ) ) 
 { 
 @ @ - 245 , 7 + 252 , 7 @ @ 
 } 
 } 
 
 - @ @ - 1208 , 27 + 1236 , 31 @ @ 
 + @ @ - 1208 , 27 + 1237 , 31 @ @ 
 
 if ( this . field _ 73003 _ n ! = this . field _ 73004 _ o ) 
 { 
 @ @ - 283 , 7 + 290 , 7 @ @ 
 } 
 } 
 
 - @ @ - 1323 , 6 + 1355 , 11 @ @ 
 + @ @ - 1323 , 6 + 1356 , 11 @ @ 
 return this . field _ 193036 _ D ; 
 } 


NEAREST DIFF:
diff - - git a / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch b / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch 
 index 25c9c9a . . 46556c3 100644 
 - - - a / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch 
 @ @ - 95 , 7 + 95 , 17 @ @ 
 this . field _ 78776 _ a . func _ 147118 _ V ( ) . func _ 147682 _ a ( new PositionedSoundRecord ( soundtype . func _ 185846 _ f ( ) , SoundCategory . NEUTRAL , ( soundtype . func _ 185843 _ a ( ) + 1 . 0F ) / 8 . 0F , soundtype . func _ 185847 _ b ( ) * 0 . 5F , p _ 180512 _ 1 _ ) ) ; 
 } 
 
 - @ @ - 350 , 7 + 361 , 7 @ @ 
 + @ @ - 326 , 7 + 337 , 8 @ @ 
 + 
 + public float func _ 78757 _ d ( ) 
 + { 
 + - return this . field _ 78779 _ k . func _ 77145 _ d ( ) ? 5 . 0F : 4 . 5F ; 
 + + float attrib = ( float ) field _ 78776 _ a . field _ 71439 _ g . func _ 110148 _ a ( EntityPlayer . REACH _ DISTANCE ) . func _ 111126 _ e ( ) ; 
 + + return this . field _ 78779 _ k . func _ 77145 _ d ( ) ? attrib : attrib - 0 . 5F ; 
 + } 
 + 
 + public void func _ 78765 _ e ( ) 
 + @ @ - 350 , 7 + 362 , 7 @ @ 
 
 if ( ! this . field _ 85183 _ f . func _ 190926 _ b ( ) & & ! itemstack . func _ 190926 _ b ( ) ) 
 { 
 @ @ - 104 , 7 + 114 , 7 @ @ 
 } 
 
 return p _ 178893 _ 1 _ . equals ( this . field _ 178895 _ c ) & & flag ; 
 - @ @ - 382 , 13 + 393 , 34 @ @ 
 + @ @ - 382 , 13 + 394 , 34 @ @ 
 } 
 else 
 { 
 @ @ - 141 , 7 + 151 , 7 @ @ 
 } 
 
 if ( ! flag & & itemstack . func _ 77973 _ b ( ) instanceof ItemBlock ) 
 - @ @ - 404 , 7 + 436 , 7 @ @ 
 + @ @ - 404 , 7 + 437 , 7 @ @ 
 
 this . field _ 78774 _ b . func _ 147297 _ a ( new CPacketPlayerTryUseItemOnBlock ( p _ 187099 _ 3 _ , p _ 187099 _ 4 _ , p _ 187099 _ 6 _ , f , f1 , f2 ) ) ; 
 
 @ @ - 150 , 7 + 160 , 7 @ @ 
 { 
 if ( itemstack . func _ 190926 _ b ( ) ) 
 { 
 - @ @ - 430 , 14 + 462 , 20 @ @ 
 + @ @ - 430 , 14 + 463 , 20 @ @ 
 { 
 int i = itemstack . func _ 77960 _ j ( ) ; 
 int j = itemstack . func _ 190916 _ E ( ) ; 
 @ @ - 172 , 7 + 182 , 7 @ @ 
 } 
 } 
 } 
 - @ @ - 466 , 6 + 504 , 8 @ @ 
 + @ @ - 466 , 6 + 505 , 8 @ @ 
 } 
 else 
 { 
 @ @ - 181 , 7 + 191 , 7 @ @ 
 int i = itemstack . func _ 190916 _ E ( ) ; 
 ActionResult < ItemStack > actionresult = itemstack . func _ 77957 _ a ( p _ 187101 _ 2 _ , p _ 187101 _ 1 _ , p _ 187101 _ 3 _ ) ; 
 ItemStack itemstack1 = actionresult . func _ 188398 _ b ( ) ; 
 - @ @ - 473 , 6 + 513 , 10 @ @ 
 + @ @ - 473 , 6 + 514 , 10 @ @ 
 if ( itemstack1 ! = itemstack | | itemstack1 . func _ 190916 _ E ( ) ! = i ) 
 { 
 p _ 187101 _ 1 _ . func _ 184611 _ a ( p _ 187101 _ 3 _ , itemstack1 ) ; 
 @ @ - 192 , 7 + 202 , 7 @ @ 
 } 
 
 return actionresult . func _ 188397 _ a ( ) ; 
 - @ @ - 509 , 6 + 553 , 9 @ @ 
 + @ @ - 509 , 6 + 554 , 9 @ @ 
 this . func _ 78750 _ j ( ) ; 
 Vec3d vec3d = new Vec3d ( p _ 187102 _ 3 _ . field _ 72307 _ f . field _ 72450 _ a - p _ 187102 _ 2 _ . field _ 70165 _ t , p _ 187102 _ 3 _ . field _ 72307 _ f . field _ 72448 _ b - p _ 187102 _ 2 _ . field _ 70163 _ u , p _ 187102 _ 3 _ . field _ 72307 _ f . field _ 72449 _ c - p _ 187102 _ 2 _ . field _ 70161 _ v ) ; 
 this . field _ 78774 _ b . func _ 147297 _ a ( new CPacketUseEntity ( p _ 187102 _ 2 _ , p _ 187102 _ 4 _ , vec3d ) ) ; 
 diff - - git a / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch b / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch 
 index 270d6e5 . . 7abbbab 100644 
 - - - a / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch 
 + + + b / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch 
 @ @ - 1 , 6 + 1 , 6 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / entity / player / EntityPlayer . java 
 + + + . . / src - work / minecraft / net / minecraft / entity / player / EntityPlayer . java 
 - @ @ - 96 , 6 + 96 , 11 @ @ 
 + @ @ - 96 , 6 + 96 , 12 @ @ 
 @ SuppressWarnings ( " incomplete - switch " ) 
 public abstract class EntityPlayer extends EntityLivingBase 
 { 
 @ @ - 8 , 11 + 8 , 20 @ @ 
 + protected java . util . HashMap < Integer , BlockPos > spawnChunkMap = new java . util . HashMap < Integer , BlockPos > ( ) ; 
 + protected java . util . HashMap < Integer , Boolean > spawnForcedMap = new java . util . HashMap < Integer , Boolean > ( ) ; 
 + public float eyeHeight = this . getDefaultEyeHeight ( ) ; 
 + + public static final net . minecraft . entity . ai . attributes . IAttribute REACH _ DISTANCE = new net . minecraft . entity . ai . attributes . RangedAttribute ( null , " generic . reachDistance " , 5 . 0D , 0 . 0D , 1024 . 0D ) . func _ 111112 _ a ( true ) ; 
 + 
 private static final DataParameter < Float > field _ 184829 _ a = EntityDataManager . < Float > func _ 187226 _ a ( EntityPlayer . class , DataSerializers . field _ 187193 _ c ) ; 
 private static final DataParameter < Integer > field _ 184830 _ b = EntityDataManager . < Integer > func _ 187226 _ a ( EntityPlayer . class , DataSerializers . field _ 187192 _ b ) ; 
 protected static final DataParameter < Byte > field _ 184827 _ bp = EntityDataManager . < Byte > func _ 187226 _ a ( EntityPlayer . class , DataSerializers . field _ 187191 _ a ) ; 
 - @ @ - 180 , 6 + 185 , 7 @ @ 
 + @ @ - 165 , 6 + 171 , 7 @ @ 
 + this . func _ 110148 _ a ( SharedMonsterAttributes . field _ 111263 _ d ) . func _ 111128 _ a ( 0 . 10000000149011612D ) ; 
 + this . func _ 110140 _ aT ( ) . func _ 111150 _ b ( SharedMonsterAttributes . field _ 188790 _ f ) ; 
 + this . func _ 110140 _ aT ( ) . func _ 111150 _ b ( SharedMonsterAttributes . field _ 188792 _ h ) ; 
 + + this . func _ 110140 _ aT ( ) . func _ 111150 _ b ( REACH _ DISTANCE ) ; 
 + } 
 + 
 + protected void func _ 70088 _ a ( ) 
 + @ @ - 180 , 6 + 187 , 7 @ @ 
 
 public void func _ 70071 _ h _ ( ) 
 { 
 @ @ - 20 , 7 + 29 , 7 @ @ 
 this . field _ 70145 _ X = this . func _ 175149 _ v ( ) ; 
 
 if ( this . func _ 175149 _ v ( ) ) 
 - @ @ - 367 , 6 + 373 , 7 @ @ 
 + @ @ - 367 , 6 + 375 , 7 @ @ 
 this . func _ 70105 _ a ( f , f1 ) ; 
 } 
 } 
 @ @ - 28 , 7 + 37 , 7 @ @ 
 } 
 
 public int func _ 82145 _ z ( ) 
 - @ @ - 454 , 11 + 461 , 11 @ @ 
 + @ @ - 454 , 11 + 463 , 11 @ @ 
 this . field _ 71109 _ bG = 0 . 0F ; 
 this . func _ 71015 _ k ( this . field _ 70165 _ t - d0 , this . field _ 70163 _ u - d1 , this . field _ 70161 _ v - d2 ) ; 
 
 @ @ - 42 , 7 + 51 , 7 @ @ 
 } 
 } 
 } 
 - @ @ - 609 , 11 + 616 , 15 @ @ 
 + @ @ - 609 , 11 + 618 , 15 @ @ 
 
 public void func _ 70645 _ a ( DamageSource p _ 70645 _ 1 _ ) 
 { 
 @ @ - 58 , 7 + 67 , 7 @ @ 
 if ( " Notch " . equals ( this . func _ 70005 _ c _ ( ) ) ) 
 { 
 this . func _ 146097 _ a ( new ItemStack ( Items . field _ 151034 _ e , 1 ) , true , false ) ; 
 - @ @ - 625 , 6 + 636 , 9 @ @ 
 + @ @ - 625 , 6 + 638 , 9 @ @ 
 this . field _ 71071 _ by . func _ 70436 _ m ( ) ; 
 } 
 
 @ @ - 68 , 7 + 77 , 7 @ @ 
 if ( p _ 70645 _ 1 _ ! = null ) 
 { 
 this . field _ 70159 _ w = ( double ) ( - MathHelper . func _ 76134 _ b ( ( this . field _ 70739 _ aP + this . field _ 70177 _ z ) * 0 . 017453292F ) * 0 . 1F ) ; 
 - @ @ - 675 , 13 + 689 , 24 @ @ 
 + @ @ - 675 , 13 + 691 , 24 @ @ 
 @ Nullable 
 public EntityItem func _ 71040 _ bB ( boolean p _ 71040 _ 1 _ ) 
 { 
 @ @ - 95 , 7 + 104 , 7 @ @ 
 } 
 
 @ Nullable 
 - @ @ - 741 , 14 + 766 , 22 @ @ 
 + @ @ - 741 , 14 + 768 , 22 @ @ 
 
 public ItemStack func _ 184816 _ a ( EntityItem p _ 184816 _ 1 _ ) 
 { 
 @ @ - 119 , 7 + 128 , 7 @ @ 
 if ( f > 1 . 0F ) 
 { 
 int i = EnchantmentHelper . func _ 185293 _ e ( this ) ; 
 - @ @ - 798 , 12 + 831 , 13 @ @ 
 + @ @ - 798 , 12 + 833 , 13 @ @ 
 f / = 5 . 0F ; 
 } 
 
 @ @ - 135 , 7 + 144 , 7 @ @ 
 } 
 
 public static void func _ 189806 _ a ( DataFixer p _ 189806 _ 0 _ ) 
 - @ @ - 863 , 6 + 897 , 17 @ @ 
 + @ @ - 863 , 6 + 899 , 17 @ @ 
 this . field _ 82248 _ d = p _ 70037 _ 1 _ . func _ 74767 _ n ( " SpawnForced " ) ; 
 } 
 
 @ @ - 153 , 7 + 162 , 7 @ @ 
 this . field _ 71100 _ bB . func _ 75112 _ a ( p _ 70037 _ 1 _ ) ; 
 this . field _ 71075 _ bZ . func _ 75095 _ b ( p _ 70037 _ 1 _ ) ; 
 
 - @ @ - 896 , 6 + 941 , 7 @ @ 
 + @ @ - 896 , 6 + 943 , 7 @ @ 
 p _ 70014 _ 1 _ . func _ 74768 _ a ( " XpTotal " , this . field _ 71067 _ cb ) ; 
 p _ 70014 _ 1 _ . func _ 74768 _ a ( " XpSeed " , this . field _ 175152 _ f ) ; 
 p _ 70014 _ 1 _ . func _ 74768 _ a ( " Score " , this . func _ 71037 _ bA ( ) ) ; 
 @ @ - 161 , 7 + 170 , 7 @ @ 
 
 if ( this . field _ 71077 _ c ! = null ) 
 { 
 - @ @ - 905 , 6 + 951 , 27 @ @ 
 + @ @ - 905 , 6 + 953 , 27 @ @ 
 p _ 70014 _ 1 _ . func _ 74757 _ a ( " SpawnForced " , this . field _ 82248 _ d ) ; 
 } 
 
 @ @ - 189 , 7 + 198 , 7 @ @ 
 this . field _ 71100 _ bB . func _ 75117 _ b ( p _ 70014 _ 1 _ ) ; 
 this . field _ 71075 _ bZ . func _ 75091 _ a ( p _ 70014 _ 1 _ ) ; 
 p _ 70014 _ 1 _ . func _ 74782 _ a ( " EnderItems " , this . field _ 71078 _ a . func _ 70487 _ g ( ) ) ; 
 - @ @ - 922 , 6 + 989 , 7 @ @ 
 + @ @ - 922 , 6 + 991 , 7 @ @ 
 
 public boolean func _ 70097 _ a ( DamageSource p _ 70097 _ 1 _ , float p _ 70097 _ 2 _ ) 
 { 
 @ @ - 197 , 7 + 206 , 7 @ @ 
 if ( this . func _ 180431 _ b ( p _ 70097 _ 1 _ ) ) 
 { 
 return false ; 
 - @ @ - 974 , 7 + 1042 , 7 @ @ 
 + @ @ - 974 , 7 + 1044 , 7 @ @ 
 { 
 super . func _ 190629 _ c ( p _ 190629 _ 1 _ ) ; 
 
 @ @ - 206 , 7 + 215 , 7 @ @ 
 { 
 this . func _ 190777 _ m ( true ) ; 
 } 
 - @ @ - 1002 , 14 + 1070 , 16 @ @ 
 + @ @ - 1002 , 14 + 1072 , 16 @ @ 
 
 protected void func _ 184590 _ k ( float p _ 184590 _ 1 _ ) 
 { 
 @ @ - 224 , 7 + 233 , 7 @ @ 
 
 if ( enumhand = = EnumHand . MAIN _ HAND ) 
 { 
 - @ @ - 1045 , 7 + 1115 , 10 @ @ 
 + @ @ - 1045 , 7 + 1117 , 10 @ @ 
 { 
 if ( ! this . func _ 180431 _ b ( p _ 70665 _ 1 _ ) ) 
 { 
 @ @ - 236 , 7 + 245 , 7 @ @ 
 p _ 70665 _ 2 _ = this . func _ 70672 _ c ( p _ 70665 _ 1 _ , p _ 70665 _ 2 _ ) ; 
 float f = p _ 70665 _ 2 _ ; 
 p _ 70665 _ 2 _ = Math . max ( p _ 70665 _ 2 _ - this . func _ 110139 _ bj ( ) , 0 . 0F ) ; 
 - @ @ - 1115 , 6 + 1188 , 8 @ @ 
 + @ @ - 1115 , 6 + 1190 , 8 @ @ 
 } 
 else 
 { 
 @ @ - 245 , 7 + 254 , 7 @ @ 
 ItemStack itemstack = this . func _ 184586 _ b ( p _ 190775 _ 2 _ ) ; 
 ItemStack itemstack1 = itemstack . func _ 190926 _ b ( ) ? ItemStack . field _ 190927 _ a : itemstack . func _ 77946 _ l ( ) ; 
 
 - @ @ - 1124 , 7 + 1199 , 10 @ @ 
 + @ @ - 1124 , 7 + 1201 , 10 @ @ 
 { 
 itemstack . func _ 190920 _ e ( itemstack1 . func _ 190916 _ E ( ) ) ; 
 } 
 @ @ - 257 , 7 + 266 , 7 @ @ 
 return EnumActionResult . SUCCESS ; 
 } 
 else 
 - @ @ - 1140 , 6 + 1218 , 7 @ @ 
 + @ @ - 1140 , 6 + 1220 , 7 @ @ 
 { 
 if ( itemstack . func _ 190926 _ b ( ) & & ! this . field _ 71075 _ bZ . field _ 75098 _ d ) 
 { 
 @ @ - 265 , 7 + 274 , 7 @ @ 
 this . func _ 184611 _ a ( p _ 190775 _ 2 _ , ItemStack . field _ 190927 _ a ) ; 
 } 
 
 - @ @ - 1165 , 6 + 1244 , 7 @ @ 
 + @ @ - 1165 , 6 + 1246 , 7 @ @ 
 
 public void func _ 71059 _ n ( Entity p _ 71059 _ 1 _ ) 
 { 
 @ @ - 273 , 7 + 282 , 7 @ @ 
 if ( p _ 71059 _ 1 _ . func _ 70075 _ an ( ) ) 
 { 
 if ( ! p _ 71059 _ 1 _ . func _ 85031 _ j ( this ) ) 
 - @ @ - 1203 , 9 + 1283 , 11 @ @ 
 + @ @ - 1203 , 9 + 1285 , 11 @ @ 
 boolean flag2 = flag & & this . field _ 70143 _ R > 0 . 0F & & ! this . field _ 70122 _ E & & ! this . func _ 70617 _ f _ ( ) & & ! this . func _ 70090 _ H ( ) & & ! this . func _ 70644 _ a ( MobEffects . field _ 76440 _ q ) & & ! this . func _ 184218 _ aH ( ) & & p _ 71059 _ 1 _ instanceof EntityLivingBase ; 
 flag2 = flag2 & & ! this . func _ 70051 _ ag ( ) ; 
 
 @ @ - 286 , 7 + 295 , 7 @ @ 
 } 
 
 f = f + f1 ; 
 - @ @ - 1332 , 10 + 1414 , 12 @ @ 
 + @ @ - 1332 , 10 + 1416 , 12 @ @ 
 
 if ( ! itemstack1 . func _ 190926 _ b ( ) & & entity instanceof EntityLivingBase ) 
 { 
 @ @ - 299 , 7 + 308 , 7 @ @ 
 this . func _ 184611 _ a ( EnumHand . MAIN _ HAND , ItemStack . field _ 190927 _ a ) ; 
 } 
 } 
 - @ @ - 1384 , 7 + 1468 , 7 @ @ 
 + @ @ - 1384 , 7 + 1470 , 7 @ @ 
 
 if ( this . field _ 70146 _ Z . nextFloat ( ) < f ) 
 { 
 @ @ - 308 , 7 + 317 , 7 @ @ 
 this . func _ 184602 _ cy ( ) ; 
 this . field _ 70170 _ p . func _ 72960 _ a ( this , ( byte ) 30 ) ; 
 } 
 - @ @ - 1442 , 6 + 1526 , 8 @ @ 
 + @ @ - 1442 , 6 + 1528 , 8 @ @ 
 
 public EntityPlayer . SleepResult func _ 180469 _ a ( BlockPos p _ 180469 _ 1 _ ) 
 { 
 @ @ - 317 , 7 + 326 , 7 @ @ 
 EnumFacing enumfacing = ( EnumFacing ) this . field _ 70170 _ p . func _ 180495 _ p ( p _ 180469 _ 1 _ ) . func _ 177229 _ b ( BlockHorizontal . field _ 185512 _ D ) ; 
 
 if ( ! this . field _ 70170 _ p . field _ 72995 _ K ) 
 - @ @ - 1484 , 8 + 1570 , 9 @ @ 
 + @ @ - 1484 , 8 + 1572 , 9 @ @ 
 this . func _ 192030 _ dh ( ) ; 
 this . func _ 70105 _ a ( 0 . 2F , 0 . 2F ) ; 
 
 @ @ - 329 , 7 + 338 , 7 @ @ 
 float f1 = 0 . 5F + ( float ) enumfacing . func _ 82601 _ c ( ) * 0 . 4F ; 
 float f = 0 . 5F + ( float ) enumfacing . func _ 82599 _ e ( ) * 0 . 4F ; 
 this . func _ 175139 _ a ( enumfacing ) ; 
 - @ @ - 1532 , 13 + 1619 , 14 @ @ 
 + @ @ - 1532 , 13 + 1621 , 14 @ @ 
 
 public void func _ 70999 _ a ( boolean p _ 70999 _ 1 _ , boolean p _ 70999 _ 2 _ , boolean p _ 70999 _ 3 _ ) 
 { 
 @ @ - 347 , 7 + 356 , 7 @ @ 
 
 if ( blockpos = = null ) 
 { 
 - @ @ - 1547 , 6 + 1635 , 10 @ @ 
 + @ @ - 1547 , 6 + 1637 , 10 @ @ 
 
 this . func _ 70107 _ b ( ( double ) ( ( float ) blockpos . func _ 177958 _ n ( ) + 0 . 5F ) , ( double ) ( ( float ) blockpos . func _ 177956 _ o ( ) + 0 . 1F ) , ( double ) ( ( float ) blockpos . func _ 177952 _ p ( ) + 0 . 5F ) ) ; 
 } 
 @ @ - 358 , 7 + 367 , 7 @ @ 
 
 this . field _ 71083 _ bS = false ; 
 
 - @ @ - 1565 , 15 + 1657 , 16 @ @ 
 + @ @ - 1565 , 15 + 1659 , 16 @ @ 
 
 private boolean func _ 175143 _ p ( ) 
 { 
 @ @ - 378 , 7 + 387 , 7 @ @ 
 { 
 if ( ! p _ 180467 _ 2 _ ) 
 { 
 - @ @ - 1588 , 16 + 1681 , 17 @ @ 
 + @ @ - 1588 , 16 + 1683 , 17 @ @ 
 } 
 else 
 { 
 @ @ - 399 , 7 + 408 , 7 @ @ 
 
 switch ( enumfacing ) 
 { 
 - @ @ - 1637 , 16 + 1731 , 24 @ @ 
 + @ @ - 1637 , 16 + 1733 , 24 @ @ 
 
 public BlockPos func _ 180470 _ cg ( ) 
 { 
 @ @ - 426 , 7 + 435 , 7 @ @ 
 if ( p _ 180473 _ 1 _ ! = null ) 
 { 
 this . field _ 71077 _ c = p _ 180473 _ 1 _ ; 
 - @ @ - 1839 , 6 + 1941 , 10 @ @ 
 + @ @ - 1839 , 6 + 1943 , 10 @ @ 
 
 super . func _ 180430 _ e ( p _ 180430 _ 1 _ , p _ 180430 _ 2 _ ) ; 
 } 
 @ @ - 437 , 7 + 446 , 7 @ @ 
 } 
 
 protected void func _ 71061 _ d _ ( ) 
 - @ @ - 2176 , 7 + 2282 , 10 @ @ 
 + @ @ - 2176 , 7 + 2284 , 10 @ @ 
 
 public ITextComponent func _ 145748 _ c _ ( ) 
 { 
 @ @ - 449 , 7 + 458 , 7 @ @ 
 itextcomponent . func _ 150256 _ b ( ) . func _ 150241 _ a ( new ClickEvent ( ClickEvent . Action . SUGGEST _ COMMAND , " / msg " + this . func _ 70005 _ c _ ( ) + " " ) ) ; 
 itextcomponent . func _ 150256 _ b ( ) . func _ 150209 _ a ( this . func _ 174823 _ aP ( ) ) ; 
 itextcomponent . func _ 150256 _ b ( ) . func _ 179989 _ a ( this . func _ 70005 _ c _ ( ) ) ; 
 - @ @ - 2185 , 7 + 2294 , 7 @ @ 
 + @ @ - 2185 , 7 + 2296 , 7 @ @ 
 
 public float func _ 70047 _ e ( ) 
 { 
 @ @ - 458 , 7 + 467 , 7 @ @ 
 
 if ( this . func _ 70608 _ bn ( ) ) 
 { 
 - @ @ - 2421 , 6 + 2530 , 168 @ @ 
 + @ @ - 2421 , 6 + 2532 , 168 @ @ 
 return this . field _ 71075 _ bZ . field _ 75098 _ d & & this . func _ 70003 _ b ( 2 , " " ) ; 
 } 
 
 diff - - git a / patches / minecraft / net / minecraft / item / Item . java . patch b / patches / minecraft / net / minecraft / item / Item . java . patch 
 index e694f02 . . 226daf4 100644 
 - - - a / patches / minecraft / net / minecraft / item / Item . java . patch 
 + + + b / patches / minecraft / net / minecraft / item / Item . java . patch 
 @ @ - 47 , 20 + 47 , 18 @ @ 
 } 
 
 protected RayTraceResult func _ 77621 _ a ( World p _ 77621 _ 1 _ , EntityPlayer p _ 77621 _ 2 _ , boolean p _ 77621 _ 3 _ ) 
 - @ @ - 390 , 7 + 393 , 11 @ @ 
 + @ @ - 389 , 8 + 392 , 8 @ @ 
 + float f5 = MathHelper . func _ 76126 _ a ( - f * 0 . 017453292F ) ; 
 float f6 = f3 * f4 ; 
 float f7 = f2 * f4 ; 
 - double d3 = 5 . 0D ; 
 + - double d3 = 5 . 0D ; 
 - Vec3d vec3d1 = vec3d . func _ 72441 _ c ( ( double ) f6 * 5 . 0D , ( double ) f5 * 5 . 0D , ( double ) f7 * 5 . 0D ) ; 
 - + if ( p _ 77621 _ 2 _ instanceof net . minecraft . entity . player . EntityPlayerMP ) 
 - + { 
 - + d3 = ( ( net . minecraft . entity . player . EntityPlayerMP ) p _ 77621 _ 2 _ ) . field _ 71134 _ c . getBlockReachDistance ( ) ; 
 - + } 
 + + double d3 = p _ 77621 _ 2 _ . func _ 110148 _ a ( EntityPlayer . REACH _ DISTANCE ) . func _ 111126 _ e ( ) ; 
 + Vec3d vec3d1 = vec3d . func _ 72441 _ c ( ( double ) f6 * d3 , ( double ) f5 * d3 , ( double ) f7 * d3 ) ; 
 return p _ 77621 _ 1 _ . func _ 147447 _ a ( vec3d , vec3d1 , p _ 77621 _ 3 _ , ! p _ 77621 _ 3 _ , false ) ; 
 } 
 
 - @ @ - 409 , 6 + 416 , 9 @ @ 
 + @ @ - 409 , 6 + 412 , 9 @ @ 
 
 protected boolean func _ 194125 _ a ( CreativeTabs p _ 194125 _ 1 _ ) 
 { 
 diff - - git a / patches / minecraft / net / minecraft / network / NetHandlerPlayServer . java . patch b / patches / minecraft / net / minecraft / network / NetHandlerPlayServer . java . patch 
 index a793130 . . 877ffe5 100644 
 - - - a / patches / minecraft / net / minecraft / network / NetHandlerPlayServer . java . patch 
 + + + b / patches / minecraft / net / minecraft / network / NetHandlerPlayServer . java . patch 
 @ @ - 5 , 7 + 5 , 7 @ @ 
 double d3 = d0 * d0 + d1 * d1 + d2 * d2 ; 
 
 - if ( d3 > 36 . 0D ) 
 - + double dist = field _ 147369 _ b . field _ 71134 _ c . getBlockReachDistance ( ) + 1 ; 
 + + double dist = field _ 147369 _ b . func _ 110148 _ a ( EntityPlayer . REACH _ DISTANCE ) . func _ 111126 _ e ( ) + 1 ; 
 + dist * = dist ; 
 + 
 + if ( d3 > dist ) 
 @ @ - 17 , 7 + 17 , 7 @ @ 
 if ( blockpos . func _ 177956 _ o ( ) < this . field _ 147367 _ d . func _ 71207 _ Z ( ) - 1 | | enumfacing ! = EnumFacing . UP & & blockpos . func _ 177956 _ o ( ) < this . field _ 147367 _ d . func _ 71207 _ Z ( ) ) 
 { 
 - if ( this . field _ 184362 _ y = = null & & this . field _ 147369 _ b . func _ 70092 _ e ( ( double ) blockpos . func _ 177958 _ n ( ) + 0 . 5D , ( double ) blockpos . func _ 177956 _ o ( ) + 0 . 5D , ( double ) blockpos . func _ 177952 _ p ( ) + 0 . 5D ) < 64 . 0D & & ! this . field _ 147367 _ d . func _ 175579 _ a ( worldserver , blockpos , this . field _ 147369 _ b ) & & worldserver . func _ 175723 _ af ( ) . func _ 177746 _ a ( blockpos ) ) 
 - + double dist = field _ 147369 _ b . field _ 71134 _ c . getBlockReachDistance ( ) + 3 ; 
 + + double dist = field _ 147369 _ b . func _ 110148 _ a ( EntityPlayer . REACH _ DISTANCE ) . func _ 111126 _ e ( ) + 3 ; 
 + dist * = dist ; 
 + if ( this . field _ 184362 _ y = = null & & this . field _ 147369 _ b . func _ 70092 _ e ( ( double ) blockpos . func _ 177958 _ n ( ) + 0 . 5D , ( double ) blockpos . func _ 177956 _ o ( ) + 0 . 5D , ( double ) blockpos . func _ 177952 _ p ( ) + 0 . 5D ) < dist & & ! this . field _ 147367 _ d . func _ 175579 _ a ( worldserver , blockpos , this . field _ 147369 _ b ) & & worldserver . func _ 175723 _ af ( ) . func _ 177746 _ a ( blockpos ) ) 
 { 
 diff - - git a / patches / minecraft / net / minecraft / server / management / PlayerInteractionManager . java . patch b / patches / minecraft / net / minecraft / server / management / PlayerInteractionManager . java . patch 
 index 5e2b8fc . . 431d8bc 100644 
 - - - a / patches / minecraft / net / minecraft / server / management / PlayerInteractionManager . java . patch 
 + + + b / patches / minecraft / net / minecraft / server / management / PlayerInteractionManager . java . patch 
 @ @ - 1 , 15 + 1 , 6 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / server / management / PlayerInteractionManager . java 
 + + + . . / src - work / minecraft / net / minecraft / server / management / PlayerInteractionManager . java 
 - @ @ - 28 , 6 + 28 , 8 @ @ 
 - 
 - public class PlayerInteractionManager 
 - { 
 - + / * * Forge reach distance * / 
 - + private double blockReachDistance = 5 . 0d ; 
 - public World field _ 73092 _ a ; 
 - public EntityPlayerMP field _ 73090 _ b ; 
 - private GameType field _ 73091 _ c = GameType . NOT _ SET ; 
 - @ @ - 88 , 7 + 90 , 7 @ @ 
 + @ @ - 88 , 7 + 88 , 7 @ @ 
 int i = this . field _ 73100 _ i - this . field _ 73093 _ n ; 
 IBlockState iblockstate = this . field _ 73092 _ a . func _ 180495 _ p ( this . field _ 180241 _ i ) ; 
 
 @ @ - 18 , 7 + 9 , 7 @ @ 
 { 
 this . field _ 73097 _ j = false ; 
 } 
 - @ @ - 114 , 7 + 116 , 7 @ @ 
 + @ @ - 114 , 7 + 114 , 7 @ @ 
 { 
 IBlockState iblockstate1 = this . field _ 73092 _ a . func _ 180495 _ p ( this . field _ 180240 _ f ) ; 
 
 @ @ - 27 , 7 + 18 , 7 @ @ 
 { 
 this . field _ 73092 _ a . func _ 175715 _ c ( this . field _ 73090 _ b . func _ 145782 _ y ( ) , this . field _ 180240 _ f , - 1 ) ; 
 this . field _ 73094 _ o = - 1 ; 
 - @ @ - 123 , 7 + 125 , 7 @ @ 
 + @ @ - 123 , 7 + 123 , 7 @ @ 
 else 
 { 
 int k = this . field _ 73100 _ i - this . field _ 73089 _ e ; 
 @ @ - 36 , 11 + 27 , 12 @ @ 
 int l = ( int ) ( f1 * 10 . 0F ) ; 
 
 if ( l ! = this . field _ 73094 _ o ) 
 - @ @ - 137 , 6 + 139 , 15 @ @ 
 + @ @ - 137 , 6 + 137 , 16 @ @ 
 
 public void func _ 180784 _ a ( BlockPos p _ 180784 _ 1 _ , EnumFacing p _ 180784 _ 2 _ ) 
 { 
 - + net . minecraftforge . event . entity . player . PlayerInteractEvent . LeftClickBlock event = net . minecraftforge . common . ForgeHooks . onLeftClickBlock ( field _ 73090 _ b , p _ 180784 _ 1 _ , p _ 180784 _ 2 _ , net . minecraftforge . common . ForgeHooks . rayTraceEyeHitVec ( field _ 73090 _ b , getBlockReachDistance ( ) + 1 ) ) ; 
 + + double reachDist = field _ 73090 _ b . func _ 110148 _ a ( EntityPlayer . REACH _ DISTANCE ) . func _ 111126 _ e ( ) ; 
 + + net . minecraftforge . event . entity . player . PlayerInteractEvent . LeftClickBlock event = net . minecraftforge . common . ForgeHooks . onLeftClickBlock ( field _ 73090 _ b , p _ 180784 _ 1 _ , p _ 180784 _ 2 _ , net . minecraftforge . common . ForgeHooks . rayTraceEyeHitVec ( field _ 73090 _ b , reachDist + 1 ) ) ; 
 + if ( event . isCanceled ( ) ) 
 + { 
 + / / Restore block and te data 
 @ @ - 52 , 7 + 44 , 7 @ @ 
 if ( this . func _ 73083 _ d ( ) ) 
 { 
 if ( ! this . field _ 73092 _ a . func _ 175719 _ a ( ( EntityPlayer ) null , p _ 180784 _ 1 _ , p _ 180784 _ 2 _ ) ) 
 - @ @ - 172 , 17 + 183 , 36 @ @ 
 + @ @ - 172 , 17 + 182 , 36 @ @ 
 } 
 } 
 
 @ @ - 93 , 7 + 85 , 7 @ @ 
 { 
 this . func _ 180237 _ b ( p _ 180784 _ 1 _ ) ; 
 } 
 - @ @ - 204 , 7 + 234 , 7 @ @ 
 + @ @ - 204 , 7 + 233 , 7 @ @ 
 int i = this . field _ 73100 _ i - this . field _ 73089 _ e ; 
 IBlockState iblockstate = this . field _ 73092 _ a . func _ 180495 _ p ( p _ 180785 _ 1 _ ) ; 
 
 @ @ - 102 , 7 + 94 , 7 @ @ 
 { 
 float f = iblockstate . func _ 185903 _ a ( this . field _ 73090 _ b , this . field _ 73090 _ b . field _ 70170 _ p , p _ 180785 _ 1 _ ) * ( float ) ( i + 1 ) ; 
 
 - @ @ - 233 , 13 + 263 , 17 @ @ 
 + @ @ - 233 , 13 + 262 , 17 @ @ 
 
 private boolean func _ 180235 _ c ( BlockPos p _ 180235 _ 1 _ ) 
 { 
 @ @ - 124 , 7 + 116 , 7 @ @ 
 } 
 
 return flag ; 
 - @ @ - 247 , 7 + 281 , 8 @ @ 
 + @ @ - 247 , 7 + 280 , 8 @ @ 
 
 public boolean func _ 180237 _ b ( BlockPos p _ 180237 _ 1 _ ) 
 { 
 @ @ - 134 , 7 + 126 , 7 @ @ 
 { 
 return false ; 
 } 
 - @ @ - 264 , 53 + 299 , 41 @ @ 
 + @ @ - 264 , 53 + 298 , 41 @ @ 
 } 
 else 
 { 
 @ @ - 200 , 7 + 192 , 7 @ @ 
 return flag1 ; 
 } 
 } 
 - @ @ - 328 , 8 + 351 , 11 @ @ 
 + @ @ - 328 , 8 + 350 , 11 @ @ 
 } 
 else 
 { 
 @ @ - 212 , 7 + 204 , 7 @ @ 
 ActionResult < ItemStack > actionresult = p _ 187250 _ 3 _ . func _ 77957 _ a ( p _ 187250 _ 2 _ , p _ 187250 _ 1 _ , p _ 187250 _ 4 _ ) ; 
 ItemStack itemstack = actionresult . func _ 188398 _ b ( ) ; 
 
 - @ @ - 357 , 6 + 383 , 7 @ @ 
 + @ @ - 357 , 6 + 382 , 7 @ @ 
 
 if ( itemstack . func _ 190926 _ b ( ) ) 
 { 
 @ @ - 220 , 13 + 212 , 14 @ @ 
 p _ 187250 _ 1 _ . func _ 184611 _ a ( p _ 187250 _ 4 _ , ItemStack . field _ 190927 _ a ) ; 
 } 
 
 - @ @ - 402 , 13 + 429 , 23 @ @ 
 + @ @ - 402 , 13 + 428 , 24 @ @ 
 } 
 else 
 { 
 - if ( ! p _ 187251 _ 1 _ . func _ 70093 _ af ( ) | | p _ 187251 _ 1 _ . func _ 184614 _ ca ( ) . func _ 190926 _ b ( ) & & p _ 187251 _ 1 _ . func _ 184592 _ cb ( ) . func _ 190926 _ b ( ) ) 
 + + double reachDist = p _ 187251 _ 1 _ . func _ 110148 _ a ( EntityPlayer . REACH _ DISTANCE ) . func _ 111126 _ e ( ) ; 
 + net . minecraftforge . event . entity . player . PlayerInteractEvent . RightClickBlock event = net . minecraftforge . common . ForgeHooks 
 - + . onRightClickBlock ( p _ 187251 _ 1 _ , p _ 187251 _ 4 _ , p _ 187251 _ 5 _ , p _ 187251 _ 6 _ , net . minecraftforge . common . ForgeHooks . rayTraceEyeHitVec ( p _ 187251 _ 1 _ , getBlockReachDistance ( ) + 1 ) ) ; 
 + + . onRightClickBlock ( p _ 187251 _ 1 _ , p _ 187251 _ 4 _ , p _ 187251 _ 5 _ , p _ 187251 _ 6 _ , net . minecraftforge . common . ForgeHooks . rayTraceEyeHitVec ( p _ 187251 _ 1 _ , reachDist + 1 ) ) ; 
 + if ( event . isCanceled ( ) ) return event . getCancellationResult ( ) ; 
 + 
 + EnumActionResult ret = p _ 187251 _ 3 _ . onItemUseFirst ( p _ 187251 _ 1 _ , p _ 187251 _ 2 _ , p _ 187251 _ 5 _ , p _ 187251 _ 4 _ , p _ 187251 _ 6 _ , p _ 187251 _ 7 _ , p _ 187251 _ 8 _ , p _ 187251 _ 9 _ ) ; 
 @ @ - 271 , 17 + 264 , 20 @ @ 
 } 
 } 
 } 
 - @ @ - 453 , 4 + 498 , 13 @ @ 
 + @ @ - 453 , 4 + 498 , 16 @ @ 
 { 
 this . field _ 73092 _ a = p _ 73080 _ 1 _ ; 
 } 
 + 
 + + @ Deprecated / / use the attribute directly 
 + public double getBlockReachDistance ( ) 
 + { 
 - + return blockReachDistance ; 
 + + return field _ 73090 _ b . func _ 110148 _ a ( EntityPlayer . REACH _ DISTANCE ) . func _ 111126 _ e ( ) ; 
 + } 
 + + 
 + + @ Deprecated / / use an attribute modifier 
 + public void setBlockReachDistance ( double distance ) 
 + { 
 - + blockReachDistance = distance ; 
 + + field _ 73090 _ b . func _ 110148 _ a ( EntityPlayer . REACH _ DISTANCE ) . func _ 111128 _ a ( distance ) ; 
 + } 
 } 
 diff - - git a / src / main / resources / assets / forge / lang / en _ US . lang b / src / main / resources / assets / forge / lang / en _ US . lang 
 index 9e3fb22 . . f99745a 100644 
 - - - a / src / main / resources / assets / forge / lang / en _ US . lang 
 + + + b / src / main / resources / assets / forge / lang / en _ US . lang 
 @ @ - 208 , 3 + 208 , 4 @ @ fml . button . open . mods . folder = Open Mods Folder 
 fml . button . open . file = Open % s 
 
 forge . container . enchant . limitedEnchantability = Limited Enchantability 
 + attribute . name . generic . reachDistance = Reach Distance 
 diff - - git a / src / test / java / net / minecraftforge / debug / ReachDistanceAttributeTest . java b / src / test / java / net / minecraftforge / debug / ReachDistanceAttributeTest . java 
 new file mode 100644 
 index 0000000 . . 0cd22cf 
 - - - / dev / null 
 + + + b / src / test / java / net / minecraftforge / debug / ReachDistanceAttributeTest . java 
 @ @ - 0 , 0 + 1 , 61 @ @ 
 + package net . minecraftforge . debug ; 
 + 
 + import com . google . common . collect . Multimap ; 
 + import net . minecraft . client . renderer . block . model . ModelResourceLocation ; 
 + import net . minecraft . entity . ai . attributes . AttributeModifier ; 
 + import net . minecraft . entity . player . EntityPlayer ; 
 + import net . minecraft . inventory . EntityEquipmentSlot ; 
 + import net . minecraft . item . Item ; 
 + import net . minecraft . item . ItemArmor ; 
 + import net . minecraft . item . ItemStack ; 
 + import net . minecraftforge . client . event . ModelRegistryEvent ; 
 + import net . minecraftforge . client . model . ModelLoader ; 
 + import net . minecraftforge . event . RegistryEvent ; 
 + import net . minecraftforge . fml . common . Mod ; 
 + import net . minecraftforge . fml . common . eventhandler . SubscribeEvent ; 
 + import net . minecraftforge . fml . relauncher . Side ; 
 + 
 + @ Mod ( modid = ReachDistanceAttributeTest . MODID , name = ReachDistanceAttributeTest . MODID , version = " 1 . 0 " ) 
 + @ Mod . EventBusSubscriber 
 + public class ReachDistanceAttributeTest 
 + { 
 + public static final String MODID = " reachdistanceattributetest " ; 
 + private static final Item PLATE = new ExtendedReachPlate ( ) . setRegistryName ( MODID , " extended _ reach _ plate " ) ; 
 + 
 + @ SubscribeEvent 
 + public static void registerItems ( RegistryEvent . Register < Item > evt ) { 
 + evt . getRegistry ( ) . register ( PLATE ) ; 
 + } 
 + 
 + @ Mod . EventBusSubscriber ( Side . CLIENT ) 
 + public static class ClientEvents 
 + { 
 + @ SubscribeEvent 
 + public static void registerModels ( ModelRegistryEvent evt ) 
 + { 
 + ModelLoader . setCustomModelResourceLocation ( PLATE , 0 , new ModelResourceLocation ( " minecraft : diamond _ chestplate " , " inventory " ) ) ; 
 + } 
 + } 
 + 
 + public static class ExtendedReachPlate extends ItemArmor 
 + { 
 + private static final AttributeModifier BOOST = new AttributeModifier ( " extended reach plate boost " , 3 , 0 ) ; 
 + 
 + public ExtendedReachPlate ( ) 
 + { 
 + super ( ArmorMaterial . DIAMOND , 3 , EntityEquipmentSlot . CHEST ) ; 
 + setUnlocalizedName ( " extendedReachPlate " ) ; 
 + } 
 + 
 + @ Override 
 + public Multimap < String , AttributeModifier > getAttributeModifiers ( EntityEquipmentSlot slot , ItemStack stack ) 
 + { 
 + Multimap < String , AttributeModifier > attribs = super . getAttributeModifiers ( slot , stack ) ; 
 + if ( slot = = this . armorType ) 
 + { 
 + attribs . put ( EntityPlayer . REACH _ DISTANCE . getName ( ) , BOOST ) ; 
 + } 
 + return attribs ; 
 + } 
 + } 
 + }
