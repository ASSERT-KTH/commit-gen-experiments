BLEU SCORE: 0.011840503781981938

TEST MSG: Fix problem with spam from registry on loading a second world . Empty the staging .
GENERATED MSG: FML ' s metabolic processes are now history . FML ' s off the twig . FML ' s kicked the bucket , FML ' s shuffled off this mortal coil ,

TEST DIFF (one line): diff - - git a / src / main / java / net / minecraftforge / fml / common / registry / PersistentRegistryManager . java b / src / main / java / net / minecraftforge / fml / common / registry / PersistentRegistryManager . java <nl> index 138cfd8 . . b27ccec 100644 <nl> - - - a / src / main / java / net / minecraftforge / fml / common / registry / PersistentRegistryManager . java <nl> + + + b / src / main / java / net / minecraftforge / fml / common / registry / PersistentRegistryManager . java <nl> @ @ - 188 , 6 + 188 , 9 @ @ public class PersistentRegistryManager <nl> / / The id map changed , ensure we apply object holders <nl> ObjectHolderRegistry . INSTANCE . applyObjectHolders ( ) ; <nl> <nl> + / / Clean out the staging registry now , we ' re done with it <nl> + PersistentRegistry . STAGING . clean ( ) ; <nl> + <nl> / / Return an empty list , because we ' re good <nl> return ImmutableList . of ( ) ; <nl> } <nl> @ @ - 259 , 8 + 262 , 10 @ @ public class PersistentRegistryManager <nl> } <nl> / / the id mapping has reverted , fire remap events for those that care about id changes <nl> Loader . instance ( ) . fireRemapEvent ( ImmutableMap . < ResourceLocation , Integer [ ] > of ( ) , ImmutableMap . < ResourceLocation , Integer [ ] > of ( ) ) ; <nl> + <nl> / / the id mapping has reverted , ensure we sync up the object holders <nl> ObjectHolderRegistry . INSTANCE . applyObjectHolders ( ) ; <nl> + FMLLog . fine ( " Frozen state restored . " ) ; <nl> } <nl> <nl> public static void freezeData ( )
NEAREST DIFF (one line): diff - - git a / src / main / java / net / minecraftforge / classloading / FMLForgePlugin . java b / src / main / java / net / minecraftforge / classloading / FMLForgePlugin . java <nl> index 5cb3f3f . . ea9bb59 100644 <nl> - - - a / src / main / java / net / minecraftforge / classloading / FMLForgePlugin . java <nl> + + + b / src / main / java / net / minecraftforge / classloading / FMLForgePlugin . java <nl> @ @ - 38 , 6 + 38 , 6 @ @ public class FMLForgePlugin implements IFMLLoadingPlugin <nl> @ Override <nl> public String getAccessTransformerClass ( ) <nl> { <nl> - return " net . minecraftforge . transformers . ForgeAccessTransformer " ; <nl> + return null ; <nl> } <nl> } <nl> diff - - git a / src / main / java / net / minecraftforge / common / ForgeVersion . java b / src / main / java / net / minecraftforge / common / ForgeVersion . java <nl> index fcc02fe . . bc5db2f 100644 <nl> - - - a / src / main / java / net / minecraftforge / common / ForgeVersion . java <nl> + + + b / src / main / java / net / minecraftforge / common / ForgeVersion . java <nl> @ @ - 26 , 7 + 26 , 10 @ @ public class ForgeVersion <nl> public static final int revisionVersion = 3 ; <nl> / / This number is incremented every time Jenkins builds Forge , and never reset . Should always be 0 in the repo code . <nl> public static final int buildVersion = 0 ; <nl> - <nl> + / / This is the minecraft version we ' re building for - used in various places in Forge / FML code <nl> + public static final String mcVersion = " 1 . 8 " ; <nl> + / / This is the MCP data version we ' re using <nl> + public static final String mcpVersion = " 9 . 10 " ; <nl> private static Status status = PENDING ; <nl> private static String target = null ; <nl> <nl> diff - - git a / src / main / java / net / minecraftforge / fml / common / asm / transformers / AccessTransformer . java b / src / main / java / net / minecraftforge / fml / common / asm / transformers / AccessTransformer . java <nl> index 50c8c57 . . 6b60ace 100644 <nl> - - - a / src / main / java / net / minecraftforge / fml / common / asm / transformers / AccessTransformer . java <nl> + + + b / src / main / java / net / minecraftforge / fml / common / asm / transformers / AccessTransformer . java <nl> @ @ - 93 , 7 + 93 , 7 @ @ public class AccessTransformer implements IClassTransformer <nl> <nl> public AccessTransformer ( ) throws IOException <nl> { <nl> - this ( " fml _ at . cfg " ) ; <nl> + this ( " forge _ at . cfg " ) ; <nl> } <nl> protected AccessTransformer ( String rulesFile ) throws IOException <nl> { <nl> diff - - git a / src / main / java / net / minecraftforge / fml / relauncher / FMLCorePlugin . java b / src / main / java / net / minecraftforge / fml / relauncher / FMLCorePlugin . java <nl> index e86b1ed . . b8ca931 100644 <nl> - - - a / src / main / java / net / minecraftforge / fml / relauncher / FMLCorePlugin . java <nl> + + + b / src / main / java / net / minecraftforge / fml / relauncher / FMLCorePlugin . java <nl> @ @ - 21 , 7 + 21 , 6 @ @ public class FMLCorePlugin implements IFMLLoadingPlugin <nl> { <nl> return new String [ ] { <nl> " net . minecraftforge . fml . common . asm . transformers . BlamingTransformer " , <nl> - " net . minecraftforge . fml . common . asm . transformers . MarkerTransformer " , <nl> " net . minecraftforge . fml . common . asm . transformers . SideTransformer " , <nl> " net . minecraftforge . fml . common . asm . transformers . EventSubscriptionTransformer " , <nl> " net . minecraftforge . fml . common . asm . transformers . EventSubscriberTransformer " , <nl> diff - - git a / src / main / java / net / minecraftforge / fml / relauncher / FMLInjectionData . java b / src / main / java / net / minecraftforge / fml / relauncher / FMLInjectionData . java <nl> index 5c46260 . . 6a9cf9b 100644 <nl> - - - a / src / main / java / net / minecraftforge / fml / relauncher / FMLInjectionData . java <nl> + + + b / src / main / java / net / minecraftforge / fml / relauncher / FMLInjectionData . java <nl> @ @ - 13 , 14 + 13 , 11 @ @ <nl> package net . minecraftforge . fml . relauncher ; <nl> <nl> import java . io . File ; <nl> - import java . io . IOException ; <nl> - import java . io . InputStream ; <nl> import java . util . ArrayList ; <nl> import java . util . List ; <nl> - import java . util . Properties ; <nl> - import org . apache . logging . log4j . Level ; <nl> <nl> import net . minecraft . launchwrapper . LaunchClassLoader ; <nl> + import net . minecraftforge . common . ForgeVersion ; <nl> <nl> public class FMLInjectionData <nl> { <nl> @ @ - 31 , 35 + 28 , 18 @ @ public class FMLInjectionData <nl> static String build ; <nl> static String mccversion ; <nl> static String mcpversion ; <nl> - static String deobfuscationDataHash ; <nl> <nl> public static List < String > containers = new ArrayList < String > ( ) ; <nl> <nl> static void build ( File mcHome , LaunchClassLoader classLoader ) <nl> { <nl> minecraftHome = mcHome ; <nl> - InputStream stream = classLoader . getResourceAsStream ( " fmlversion . properties " ) ; <nl> - Properties properties = new Properties ( ) ; <nl> - <nl> - if ( stream ! = null ) <nl> - { <nl> - try <nl> - { <nl> - properties . load ( stream ) ; <nl> - } <nl> - catch ( IOException ex ) <nl> - { <nl> - FMLRelaunchLog . log ( Level . ERROR , ex , " Could not get FML version information - corrupted installation detected ! " ) ; <nl> - } <nl> - } <nl> - <nl> - major = properties . getProperty ( " fmlbuild . major . number " , " missing " ) ; <nl> - minor = properties . getProperty ( " fmlbuild . minor . number " , " missing " ) ; <nl> - rev = properties . getProperty ( " fmlbuild . revision . number " , " missing " ) ; <nl> - build = properties . getProperty ( " fmlbuild . build . number " , " missing " ) ; <nl> - mccversion = properties . getProperty ( " fmlbuild . mcversion " , " missing " ) ; <nl> - mcpversion = properties . getProperty ( " fmlbuild . mcpversion " , " missing " ) ; <nl> - deobfuscationDataHash = properties . getProperty ( " fmlbuild . deobfuscation . hash " , " deadbeef " ) ; <nl> + major = String . valueOf ( ForgeVersion . majorVersion ) ; <nl> + minor = String . valueOf ( ForgeVersion . minorVersion ) ; <nl> + rev = String . valueOf ( ForgeVersion . revisionVersion ) ; <nl> + build = String . valueOf ( ForgeVersion . buildVersion ) ; <nl> + mccversion = ForgeVersion . mcVersion ; <nl> + mcpversion = ForgeVersion . mcpVersion ; <nl> } <nl> <nl> static String debfuscationDataName ( ) <nl> diff - - git a / src / main / java / net / minecraftforge / transformers / ForgeAccessTransformer . java b / src / main / java / net / minecraftforge / transformers / ForgeAccessTransformer . java <nl> deleted file mode 100644 <nl> index 57610e9 . . 0000000 <nl> - - - a / src / main / java / net / minecraftforge / transformers / ForgeAccessTransformer . java <nl> + + + / dev / null <nl> @ @ - 1 , 13 + 0 , 0 @ @ <nl> - package net . minecraftforge . transformers ; <nl> - <nl> - import java . io . IOException ; <nl> - <nl> - import net . minecraftforge . fml . common . asm . transformers . AccessTransformer ; <nl> - <nl> - public class ForgeAccessTransformer extends AccessTransformer <nl> - { <nl> - public ForgeAccessTransformer ( ) throws IOException <nl> - { <nl> - super ( " forge _ at . cfg " ) ; <nl> - } <nl> - } <nl> diff - - git a / src / main / resources / fmlversion . properties b / src / main / resources / fmlversion . properties <nl> deleted file mode 100644 <nl> index a9ebc93 . . 0000000 <nl> - - - a / src / main / resources / fmlversion . properties <nl> + + + / dev / null <nl> @ @ - 1 , 6 + 0 , 0 @ @ <nl> - fmlbuild . major . number = 8 <nl> - fmlbuild . minor . number = 0 <nl> - fmlbuild . revision . number = 76 <nl> - fmlbuild . build . number = 1404 <nl> - fmlbuild . mcversion = 1 . 8 <nl> - fmlbuild . mcpversion = 9 . 10

TEST DIFF:
diff - - git a / src / main / java / net / minecraftforge / fml / common / registry / PersistentRegistryManager . java b / src / main / java / net / minecraftforge / fml / common / registry / PersistentRegistryManager . java 
 index 138cfd8 . . b27ccec 100644 
 - - - a / src / main / java / net / minecraftforge / fml / common / registry / PersistentRegistryManager . java 
 + + + b / src / main / java / net / minecraftforge / fml / common / registry / PersistentRegistryManager . java 
 @ @ - 188 , 6 + 188 , 9 @ @ public class PersistentRegistryManager 
 / / The id map changed , ensure we apply object holders 
 ObjectHolderRegistry . INSTANCE . applyObjectHolders ( ) ; 
 
 + / / Clean out the staging registry now , we ' re done with it 
 + PersistentRegistry . STAGING . clean ( ) ; 
 + 
 / / Return an empty list , because we ' re good 
 return ImmutableList . of ( ) ; 
 } 
 @ @ - 259 , 8 + 262 , 10 @ @ public class PersistentRegistryManager 
 } 
 / / the id mapping has reverted , fire remap events for those that care about id changes 
 Loader . instance ( ) . fireRemapEvent ( ImmutableMap . < ResourceLocation , Integer [ ] > of ( ) , ImmutableMap . < ResourceLocation , Integer [ ] > of ( ) ) ; 
 + 
 / / the id mapping has reverted , ensure we sync up the object holders 
 ObjectHolderRegistry . INSTANCE . applyObjectHolders ( ) ; 
 + FMLLog . fine ( " Frozen state restored . " ) ; 
 } 
 
 public static void freezeData ( )

NEAREST DIFF:
diff - - git a / src / main / java / net / minecraftforge / classloading / FMLForgePlugin . java b / src / main / java / net / minecraftforge / classloading / FMLForgePlugin . java 
 index 5cb3f3f . . ea9bb59 100644 
 - - - a / src / main / java / net / minecraftforge / classloading / FMLForgePlugin . java 
 + + + b / src / main / java / net / minecraftforge / classloading / FMLForgePlugin . java 
 @ @ - 38 , 6 + 38 , 6 @ @ public class FMLForgePlugin implements IFMLLoadingPlugin 
 @ Override 
 public String getAccessTransformerClass ( ) 
 { 
 - return " net . minecraftforge . transformers . ForgeAccessTransformer " ; 
 + return null ; 
 } 
 } 
 diff - - git a / src / main / java / net / minecraftforge / common / ForgeVersion . java b / src / main / java / net / minecraftforge / common / ForgeVersion . java 
 index fcc02fe . . bc5db2f 100644 
 - - - a / src / main / java / net / minecraftforge / common / ForgeVersion . java 
 + + + b / src / main / java / net / minecraftforge / common / ForgeVersion . java 
 @ @ - 26 , 7 + 26 , 10 @ @ public class ForgeVersion 
 public static final int revisionVersion = 3 ; 
 / / This number is incremented every time Jenkins builds Forge , and never reset . Should always be 0 in the repo code . 
 public static final int buildVersion = 0 ; 
 - 
 + / / This is the minecraft version we ' re building for - used in various places in Forge / FML code 
 + public static final String mcVersion = " 1 . 8 " ; 
 + / / This is the MCP data version we ' re using 
 + public static final String mcpVersion = " 9 . 10 " ; 
 private static Status status = PENDING ; 
 private static String target = null ; 
 
 diff - - git a / src / main / java / net / minecraftforge / fml / common / asm / transformers / AccessTransformer . java b / src / main / java / net / minecraftforge / fml / common / asm / transformers / AccessTransformer . java 
 index 50c8c57 . . 6b60ace 100644 
 - - - a / src / main / java / net / minecraftforge / fml / common / asm / transformers / AccessTransformer . java 
 + + + b / src / main / java / net / minecraftforge / fml / common / asm / transformers / AccessTransformer . java 
 @ @ - 93 , 7 + 93 , 7 @ @ public class AccessTransformer implements IClassTransformer 
 
 public AccessTransformer ( ) throws IOException 
 { 
 - this ( " fml _ at . cfg " ) ; 
 + this ( " forge _ at . cfg " ) ; 
 } 
 protected AccessTransformer ( String rulesFile ) throws IOException 
 { 
 diff - - git a / src / main / java / net / minecraftforge / fml / relauncher / FMLCorePlugin . java b / src / main / java / net / minecraftforge / fml / relauncher / FMLCorePlugin . java 
 index e86b1ed . . b8ca931 100644 
 - - - a / src / main / java / net / minecraftforge / fml / relauncher / FMLCorePlugin . java 
 + + + b / src / main / java / net / minecraftforge / fml / relauncher / FMLCorePlugin . java 
 @ @ - 21 , 7 + 21 , 6 @ @ public class FMLCorePlugin implements IFMLLoadingPlugin 
 { 
 return new String [ ] { 
 " net . minecraftforge . fml . common . asm . transformers . BlamingTransformer " , 
 - " net . minecraftforge . fml . common . asm . transformers . MarkerTransformer " , 
 " net . minecraftforge . fml . common . asm . transformers . SideTransformer " , 
 " net . minecraftforge . fml . common . asm . transformers . EventSubscriptionTransformer " , 
 " net . minecraftforge . fml . common . asm . transformers . EventSubscriberTransformer " , 
 diff - - git a / src / main / java / net / minecraftforge / fml / relauncher / FMLInjectionData . java b / src / main / java / net / minecraftforge / fml / relauncher / FMLInjectionData . java 
 index 5c46260 . . 6a9cf9b 100644 
 - - - a / src / main / java / net / minecraftforge / fml / relauncher / FMLInjectionData . java 
 + + + b / src / main / java / net / minecraftforge / fml / relauncher / FMLInjectionData . java 
 @ @ - 13 , 14 + 13 , 11 @ @ 
 package net . minecraftforge . fml . relauncher ; 
 
 import java . io . File ; 
 - import java . io . IOException ; 
 - import java . io . InputStream ; 
 import java . util . ArrayList ; 
 import java . util . List ; 
 - import java . util . Properties ; 
 - import org . apache . logging . log4j . Level ; 
 
 import net . minecraft . launchwrapper . LaunchClassLoader ; 
 + import net . minecraftforge . common . ForgeVersion ; 
 
 public class FMLInjectionData 
 { 
 @ @ - 31 , 35 + 28 , 18 @ @ public class FMLInjectionData 
 static String build ; 
 static String mccversion ; 
 static String mcpversion ; 
 - static String deobfuscationDataHash ; 
 
 public static List < String > containers = new ArrayList < String > ( ) ; 
 
 static void build ( File mcHome , LaunchClassLoader classLoader ) 
 { 
 minecraftHome = mcHome ; 
 - InputStream stream = classLoader . getResourceAsStream ( " fmlversion . properties " ) ; 
 - Properties properties = new Properties ( ) ; 
 - 
 - if ( stream ! = null ) 
 - { 
 - try 
 - { 
 - properties . load ( stream ) ; 
 - } 
 - catch ( IOException ex ) 
 - { 
 - FMLRelaunchLog . log ( Level . ERROR , ex , " Could not get FML version information - corrupted installation detected ! " ) ; 
 - } 
 - } 
 - 
 - major = properties . getProperty ( " fmlbuild . major . number " , " missing " ) ; 
 - minor = properties . getProperty ( " fmlbuild . minor . number " , " missing " ) ; 
 - rev = properties . getProperty ( " fmlbuild . revision . number " , " missing " ) ; 
 - build = properties . getProperty ( " fmlbuild . build . number " , " missing " ) ; 
 - mccversion = properties . getProperty ( " fmlbuild . mcversion " , " missing " ) ; 
 - mcpversion = properties . getProperty ( " fmlbuild . mcpversion " , " missing " ) ; 
 - deobfuscationDataHash = properties . getProperty ( " fmlbuild . deobfuscation . hash " , " deadbeef " ) ; 
 + major = String . valueOf ( ForgeVersion . majorVersion ) ; 
 + minor = String . valueOf ( ForgeVersion . minorVersion ) ; 
 + rev = String . valueOf ( ForgeVersion . revisionVersion ) ; 
 + build = String . valueOf ( ForgeVersion . buildVersion ) ; 
 + mccversion = ForgeVersion . mcVersion ; 
 + mcpversion = ForgeVersion . mcpVersion ; 
 } 
 
 static String debfuscationDataName ( ) 
 diff - - git a / src / main / java / net / minecraftforge / transformers / ForgeAccessTransformer . java b / src / main / java / net / minecraftforge / transformers / ForgeAccessTransformer . java 
 deleted file mode 100644 
 index 57610e9 . . 0000000 
 - - - a / src / main / java / net / minecraftforge / transformers / ForgeAccessTransformer . java 
 + + + / dev / null 
 @ @ - 1 , 13 + 0 , 0 @ @ 
 - package net . minecraftforge . transformers ; 
 - 
 - import java . io . IOException ; 
 - 
 - import net . minecraftforge . fml . common . asm . transformers . AccessTransformer ; 
 - 
 - public class ForgeAccessTransformer extends AccessTransformer 
 - { 
 - public ForgeAccessTransformer ( ) throws IOException 
 - { 
 - super ( " forge _ at . cfg " ) ; 
 - } 
 - } 
 diff - - git a / src / main / resources / fmlversion . properties b / src / main / resources / fmlversion . properties 
 deleted file mode 100644 
 index a9ebc93 . . 0000000 
 - - - a / src / main / resources / fmlversion . properties 
 + + + / dev / null 
 @ @ - 1 , 6 + 0 , 0 @ @ 
 - fmlbuild . major . number = 8 
 - fmlbuild . minor . number = 0 
 - fmlbuild . revision . number = 76 
 - fmlbuild . build . number = 1404 
 - fmlbuild . mcversion = 1 . 8 
 - fmlbuild . mcpversion = 9 . 10
