BLEU SCORE: 0.021352774592011646

TEST MSG: Add PlayerSetSpawnEvent
GENERATED MSG: Add LivingHealEvent called from EntityLivingBase . heal ( )

TEST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch b / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch <nl> index 3781058 . . 610e370 100644 <nl> - - - a / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch <nl> + + + b / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch <nl> @ @ - 377 , 7 + 377 , 7 @ @ <nl> <nl> switch ( EntityPlayer . SwitchEnumFacing . field _ 179420 _ a [ enumfacing . ordinal ( ) ] ) <nl> { <nl> - @ @ - 1511 , 16 + 1611 , 22 @ @ <nl> + @ @ - 1511 , 16 + 1611 , 23 @ @ <nl> <nl> public BlockPos func _ 180470 _ cg ( ) <nl> { <nl> @ @ - 394 , 6 + 394 , 7 @ @ <nl> <nl> public void func _ 180473 _ a ( BlockPos p _ 180473 _ 1 _ , boolean p _ 180473 _ 2 _ ) <nl> { <nl> + + if ( net . minecraftforge . event . ForgeEventFactory . onPlayerSpawnSet ( this , p _ 180473 _ 1 _ , p _ 180473 _ 2 _ ) ) return ; <nl> + if ( this . field _ 71093 _ bK ! = 0 ) <nl> + { <nl> + setSpawnChunk ( p _ 180473 _ 1 _ , p _ 180473 _ 2 _ , this . field _ 71093 _ bK ) ; <nl> @ @ - 402 , 7 + 403 , 7 @ @ <nl> if ( p _ 180473 _ 1 _ ! = null ) <nl> { <nl> this . field _ 71077 _ c = p _ 180473 _ 1 _ ; <nl> - @ @ - 1702 , 6 + 1808 , 10 @ @ <nl> + @ @ - 1702 , 6 + 1809 , 10 @ @ <nl> <nl> super . func _ 180430 _ e ( p _ 180430 _ 1 _ , p _ 180430 _ 2 _ ) ; <nl> } <nl> @ @ - 413 , 7 + 414 , 7 @ @ <nl> } <nl> <nl> protected void func _ 71061 _ d _ ( ) <nl> - @ @ - 1725 , 6 + 1835 , 7 @ @ <nl> + @ @ - 1725 , 6 + 1836 , 7 @ @ <nl> } <nl> <nl> EntityList . EntityEggInfo entityegginfo = ( EntityList . EntityEggInfo ) EntityList . field _ 75627 _ a . get ( Integer . valueOf ( EntityList . func _ 75619 _ a ( p _ 70074 _ 1 _ ) ) ) ; <nl> @ @ - 421 , 7 + 422 , 7 @ @ <nl> <nl> if ( entityegginfo ! = null ) <nl> { <nl> - @ @ - 1837 , 6 + 1948 , 8 @ @ <nl> + @ @ - 1837 , 6 + 1949 , 8 @ @ <nl> { <nl> if ( p _ 71008 _ 1 _ ! = this . field _ 71074 _ e ) <nl> { <nl> @ @ - 430 , 7 + 431 , 7 @ @ <nl> this . field _ 71074 _ e = p _ 71008 _ 1 _ ; <nl> this . field _ 71072 _ f = p _ 71008 _ 2 _ ; <nl> <nl> - @ @ - 1906 , 6 + 2019 , 10 @ @ <nl> + @ @ - 1906 , 6 + 2020 , 10 @ @ <nl> this . field _ 71106 _ cc = p _ 71049 _ 1 _ . field _ 71106 _ cc ; <nl> this . func _ 85040 _ s ( p _ 71049 _ 1 _ . func _ 71037 _ bA ( ) ) ; <nl> this . field _ 82152 _ aq = p _ 71049 _ 1 _ . field _ 82152 _ aq ; <nl> @ @ - 441 , 7 + 442 , 7 @ @ <nl> } <nl> else if ( this . field _ 70170 _ p . func _ 82736 _ K ( ) . func _ 82766 _ b ( " keepInventory " ) ) <nl> { <nl> - @ @ - 1918 , 6 + 2035 , 18 @ @ <nl> + @ @ - 1918 , 6 + 2036 , 18 @ @ <nl> <nl> this . field _ 71078 _ a = p _ 71049 _ 1 _ . field _ 71078 _ a ; <nl> this . func _ 70096 _ w ( ) . func _ 75692 _ b ( 10 , Byte . valueOf ( p _ 71049 _ 1 _ . func _ 70096 _ w ( ) . func _ 75683 _ a ( 10 ) ) ) ; <nl> @ @ - 460 , 7 + 461 , 7 @ @ <nl> } <nl> <nl> protected boolean func _ 70041 _ e _ ( ) <nl> - @ @ - 1951 , 7 + 2080 , 14 @ @ <nl> + @ @ - 1951 , 7 + 2081 , 14 @ @ <nl> <nl> public void func _ 70062 _ b ( int p _ 70062 _ 1 _ , ItemStack p _ 70062 _ 2 _ ) <nl> { <nl> @ @ - 476 , 7 + 477 , 7 @ @ <nl> } <nl> <nl> @ SideOnly ( Side . CLIENT ) <nl> - @ @ - 1996 , 7 + 2132 , 10 @ @ <nl> + @ @ - 1996 , 7 + 2133 , 10 @ @ <nl> <nl> public IChatComponent func _ 145748 _ c _ ( ) <nl> { <nl> @ @ - 488 , 7 + 489 , 7 @ @ <nl> chatcomponenttext . func _ 150256 _ b ( ) . func _ 150241 _ a ( new ClickEvent ( ClickEvent . Action . SUGGEST _ COMMAND , " / msg " + this . func _ 70005 _ c _ ( ) + " " ) ) ; <nl> chatcomponenttext . func _ 150256 _ b ( ) . func _ 150209 _ a ( this . func _ 174823 _ aP ( ) ) ; <nl> chatcomponenttext . func _ 150256 _ b ( ) . func _ 179989 _ a ( this . func _ 70005 _ c _ ( ) ) ; <nl> - @ @ - 2005 , 7 + 2144 , 7 @ @ <nl> + @ @ - 2005 , 7 + 2145 , 7 @ @ <nl> <nl> public float func _ 70047 _ e ( ) <nl> { <nl> @ @ - 497 , 7 + 498 , 7 @ @ <nl> <nl> if ( this . func _ 70608 _ bn ( ) ) <nl> { <nl> - @ @ - 2139 , 6 + 2278 , 136 @ @ <nl> + @ @ - 2139 , 6 + 2279 , 136 @ @ <nl> this . field _ 175153 _ bG = p _ 175150 _ 1 _ ; <nl> } <nl> <nl> diff - - git a / src / main / java / net / minecraftforge / event / ForgeEventFactory . java b / src / main / java / net / minecraftforge / event / ForgeEventFactory . java <nl> index 48f1c20 . . 9356e26 100644 <nl> - - - a / src / main / java / net / minecraftforge / event / ForgeEventFactory . java <nl> + + + b / src / main / java / net / minecraftforge / event / ForgeEventFactory . java <nl> @ @ - 63 , 6 + 63 , 7 @ @ import net . minecraftforge . event . entity . player . PlayerEvent ; <nl> import net . minecraftforge . event . entity . player . PlayerFlyableFallEvent ; <nl> import net . minecraftforge . event . entity . player . PlayerInteractEvent ; <nl> import net . minecraftforge . event . entity . player . PlayerInteractEvent . Action ; <nl> + import net . minecraftforge . event . entity . player . PlayerSetSpawnEvent ; <nl> import net . minecraftforge . event . entity . player . PlayerSleepInBedEvent ; <nl> import net . minecraftforge . event . entity . player . PlayerUseItemEvent ; <nl> import net . minecraftforge . event . entity . player . PlayerWakeUpEvent ; <nl> @ @ - 397 , 6 + 398 , 10 @ @ public class ForgeEventFactory <nl> { <nl> MinecraftForge . EVENT _ BUS . post ( new PlayerFlyableFallEvent ( player , distance , multiplier ) ) ; <nl> } <nl> + <nl> + public static boolean onPlayerSpawnSet ( EntityPlayer player , BlockPos pos , boolean forced ) { <nl> + return MinecraftForge . EVENT _ BUS . post ( new PlayerSetSpawnEvent ( player , pos , forced ) ) ; <nl> + } <nl> <nl> public static void onPlayerClone ( EntityPlayer player , EntityPlayer oldPlayer , boolean wasDeath ) <nl> { <nl> diff - - git a / src / main / java / net / minecraftforge / event / entity / player / PlayerSetSpawnEvent . java b / src / main / java / net / minecraftforge / event / entity / player / PlayerSetSpawnEvent . java <nl> new file mode 100644 <nl> index 0000000 . . e2d059a <nl> - - - / dev / null <nl> + + + b / src / main / java / net / minecraftforge / event / entity / player / PlayerSetSpawnEvent . java <nl> @ @ - 0 , 0 + 1 , 23 @ @ <nl> + package net . minecraftforge . event . entity . player ; <nl> + <nl> + import net . minecraftforge . fml . common . eventhandler . Cancelable ; <nl> + import net . minecraft . entity . player . EntityPlayer ; <nl> + import net . minecraft . util . BlockPos ; <nl> + <nl> + @ Cancelable <nl> + public class PlayerSetSpawnEvent extends PlayerEvent <nl> + { <nl> + / * * <nl> + * This event is called before a player ' s spawn point is changed . <nl> + * The event can be canceled , and no further processing will be done . <nl> + * / <nl> + public final boolean forced ; <nl> + public final BlockPos newSpawn ; <nl> + <nl> + public PlayerSetSpawnEvent ( EntityPlayer player , BlockPos newSpawn , boolean forced ) { <nl> + super ( player ) ; <nl> + this . newSpawn = newSpawn ; <nl> + this . forced = forced ; <nl> + } <nl> + <nl> + } <nl> diff - - git a / src / test / java / net / minecraftforge / test / PlayerSetSpawnTest . java b / src / test / java / net / minecraftforge / test / PlayerSetSpawnTest . java <nl> new file mode 100644 <nl> index 0000000 . . 78875db <nl> - - - / dev / null <nl> + + + b / src / test / java / net / minecraftforge / test / PlayerSetSpawnTest . java <nl> @ @ - 0 , 0 + 1 , 25 @ @ <nl> + package net . minecraftforge . test ; <nl> + <nl> + import net . minecraftforge . common . MinecraftForge ; <nl> + import net . minecraftforge . event . entity . player . PlayerSetSpawnEvent ; <nl> + import net . minecraftforge . fml . common . Mod ; <nl> + import net . minecraftforge . fml . common . Mod . EventHandler ; <nl> + import net . minecraftforge . fml . common . event . FMLInitializationEvent ; <nl> + import net . minecraftforge . fml . common . eventhandler . SubscribeEvent ; <nl> + <nl> + @ Mod ( modid = " playersetspawntest " , name = " Player Set Spawn Test " , version = " 0 . 0 . 0 " ) <nl> + public class PlayerSetSpawnTest { <nl> + <nl> + @ EventHandler <nl> + public void init ( FMLInitializationEvent event ) <nl> + { <nl> + MinecraftForge . EVENT _ BUS . register ( this ) ; <nl> + } <nl> + <nl> + @ SubscribeEvent <nl> + public void onPlayerSetSpawn ( PlayerSetSpawnEvent event ) <nl> + { <nl> + System . out . println ( event . forced + " " + event . newSpawn . toString ( ) ) ; <nl> + event . setCanceled ( true ) ; <nl> + } <nl> + }
NEAREST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch b / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch <nl> index 6d203c4 . . 5c7ea6f 100644 <nl> - - - a / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch <nl> + + + b / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch <nl> @ @ - 25 , 7 + 25 , 16 @ @ <nl> public void func _ 70618 _ n ( int p _ 70618 _ 1 _ ) <nl> { <nl> this . field _ 70713 _ bf . remove ( Integer . valueOf ( p _ 70618 _ 1 _ ) ) ; <nl> - @ @ - 741 , 6 + 741 , 7 @ @ <nl> + @ @ - 721 , 6 + 721 , 8 @ @ <nl> + <nl> + public void func _ 70691 _ i ( float p _ 70691 _ 1 _ ) <nl> + { <nl> + + p _ 70691 _ 1 _ = net . minecraftforge . event . ForgeEventFactory . onLivingHeal ( this , p _ 70691 _ 1 _ ) ; <nl> + + if ( p _ 70691 _ 1 _ < = 0 ) return ; <nl> + float f1 = this . func _ 110143 _ aJ ( ) ; <nl> + <nl> + if ( f1 > 0 . 0F ) <nl> + @ @ - 741 , 6 + 743 , 7 @ @ <nl> <nl> public boolean func _ 70097 _ a ( DamageSource p _ 70097 _ 1 _ , float p _ 70097 _ 2 _ ) <nl> { <nl> @ @ - 33 , 7 + 42 , 7 @ @ <nl> if ( this . func _ 180431 _ b ( p _ 70097 _ 1 _ ) ) <nl> { <nl> return false ; <nl> - @ @ - 806 , 9 + 807 , 9 @ @ <nl> + @ @ - 806 , 9 + 809 , 9 @ @ <nl> this . field _ 70718 _ bc = 100 ; <nl> this . field _ 70717 _ bb = ( EntityPlayer ) entity ; <nl> } <nl> @ @ - 45 , 7 + 54 , 7 @ @ <nl> <nl> if ( entitywolf . func _ 70909 _ n ( ) ) <nl> { <nl> - @ @ - 894 , 6 + 895 , 7 @ @ <nl> + @ @ - 894 , 6 + 897 , 7 @ @ <nl> <nl> public void func _ 70645 _ a ( DamageSource p _ 70645 _ 1 _ ) <nl> { <nl> @ @ - 53 , 7 + 62 , 7 @ @ <nl> Entity entity = p _ 70645 _ 1 _ . func _ 76346 _ g ( ) ; <nl> EntityLivingBase entitylivingbase = this . func _ 94060 _ bK ( ) ; <nl> <nl> - @ @ - 919 , 6 + 921 , 9 @ @ <nl> + @ @ - 919 , 6 + 923 , 9 @ @ <nl> i = EnchantmentHelper . func _ 77519 _ f ( ( EntityLivingBase ) entity ) ; <nl> } <nl> <nl> @ @ - 63 , 7 + 72 , 7 @ @ <nl> if ( this . func _ 146066 _ aG ( ) & & this . field _ 70170 _ p . func _ 82736 _ K ( ) . func _ 82766 _ b ( " doMobLoot " ) ) <nl> { <nl> this . func _ 70628 _ a ( this . field _ 70718 _ bc > 0 , i ) ; <nl> - @ @ - 929 , 6 + 934 , 16 @ @ <nl> + @ @ - 929 , 6 + 936 , 16 @ @ <nl> this . func _ 82164 _ bB ( ) ; <nl> } <nl> } <nl> @ @ - 80 , 7 + 89 , 7 @ @ <nl> } <nl> <nl> this . field _ 70170 _ p . func _ 72960 _ a ( this , ( byte ) 3 ) ; <nl> - @ @ - 977 , 7 + 992 , 7 @ @ <nl> + @ @ - 977 , 7 + 994 , 7 @ @ <nl> int j = MathHelper . func _ 76128 _ c ( this . func _ 174813 _ aQ ( ) . field _ 72338 _ b ) ; <nl> int k = MathHelper . func _ 76128 _ c ( this . field _ 70161 _ v ) ; <nl> Block block = this . field _ 70170 _ p . func _ 180495 _ p ( new BlockPos ( i , j , k ) ) . func _ 177230 _ c ( ) ; <nl> @ @ - 89 , 7 + 98 , 7 @ @ <nl> } <nl> <nl> public boolean func _ 70089 _ S ( ) <nl> - @ @ - 987 , 6 + 1002 , 9 @ @ <nl> + @ @ - 987 , 6 + 1004 , 9 @ @ <nl> <nl> public void func _ 180430 _ e ( float p _ 180430 _ 1 _ , float p _ 180430 _ 2 _ ) <nl> { <nl> @ @ - 99 , 7 + 108 , 7 @ @ <nl> super . func _ 180430 _ e ( p _ 180430 _ 1 _ , p _ 180430 _ 2 _ ) ; <nl> PotionEffect potioneffect = this . func _ 70660 _ b ( Potion . field _ 76430 _ j ) ; <nl> float f2 = potioneffect ! = null ? ( float ) ( potioneffect . func _ 76458 _ c ( ) + 1 ) : 0 . 0F ; <nl> - @ @ - 1105 , 6 + 1123 , 8 @ @ <nl> + @ @ - 1105 , 6 + 1125 , 8 @ @ <nl> { <nl> if ( ! this . func _ 180431 _ b ( p _ 70665 _ 1 _ ) ) <nl> { <nl> @ @ - 108 , 7 + 117 , 7 @ @ <nl> p _ 70665 _ 2 _ = this . func _ 70655 _ b ( p _ 70665 _ 1 _ , p _ 70665 _ 2 _ ) ; <nl> p _ 70665 _ 2 _ = this . func _ 70672 _ c ( p _ 70665 _ 1 _ , p _ 70665 _ 2 _ ) ; <nl> float f1 = p _ 70665 _ 2 _ ; <nl> - @ @ - 1153 , 6 + 1173 , 11 @ @ <nl> + @ @ - 1153 , 6 + 1175 , 11 @ @ <nl> <nl> public void func _ 71038 _ i ( ) <nl> { <nl> @ @ - 120 , 7 + 129 , 7 @ @ <nl> if ( ! this . field _ 82175 _ bq | | this . field _ 110158 _ av > = this . func _ 82166 _ i ( ) / 2 | | this . field _ 110158 _ av < 0 ) <nl> { <nl> this . field _ 110158 _ av = - 1 ; <nl> - @ @ - 1359 , 6 + 1384 , 7 @ @ <nl> + @ @ - 1359 , 6 + 1386 , 7 @ @ <nl> } <nl> <nl> this . field _ 70160 _ al = true ; <nl> @ @ - 128 , 7 + 137 , 7 @ @ <nl> } <nl> <nl> protected void func _ 70629 _ bd ( ) <nl> - @ @ - 1545 , 6 + 1571 , 7 @ @ <nl> + @ @ - 1545 , 6 + 1573 , 7 @ @ <nl> <nl> public void func _ 70071 _ h _ ( ) <nl> { <nl> @ @ - 136 , 7 + 145 , 7 @ @ <nl> super . func _ 70071 _ h _ ( ) ; <nl> <nl> if ( ! this . field _ 70170 _ p . field _ 72995 _ K ) <nl> - @ @ - 2000 , 4 + 2027 , 39 @ @ <nl> + @ @ - 2000 , 4 + 2029 , 39 @ @ <nl> { <nl> this . field _ 70752 _ e = true ; <nl> } <nl> diff - - git a / src / main / java / net / minecraftforge / event / ForgeEventFactory . java b / src / main / java / net / minecraftforge / event / ForgeEventFactory . java <nl> index 784854f . . 7cb7664 100644 <nl> - - - a / src / main / java / net / minecraftforge / event / ForgeEventFactory . java <nl> + + + b / src / main / java / net / minecraftforge / event / ForgeEventFactory . java <nl> @ @ - 40 , 6 + 40 , 7 @ @ import net . minecraftforge . event . entity . EntityEvent ; <nl> import net . minecraftforge . event . entity . EntityStruckByLightningEvent ; <nl> import net . minecraftforge . event . entity . PlaySoundAtEntityEvent ; <nl> import net . minecraftforge . event . entity . item . ItemExpireEvent ; <nl> + import net . minecraftforge . event . entity . living . LivingHealEvent ; <nl> import net . minecraftforge . event . entity . living . LivingPackSizeEvent ; <nl> import net . minecraftforge . event . entity . living . LivingSpawnEvent ; <nl> import net . minecraftforge . event . entity . living . LivingSpawnEvent . AllowDespawn ; <nl> @ @ - 378 , 4 + 379 , 10 @ @ public class ForgeEventFactory <nl> { <nl> return MinecraftForge . EVENT _ BUS . post ( new WorldEvent . CreateSpawnPosition ( world , settings ) ) ; <nl> } <nl> + <nl> + public static float onLivingHeal ( EntityLivingBase entity , float amount ) <nl> + { <nl> + LivingHealEvent event = new LivingHealEvent ( entity , amount ) ; <nl> + return ( MinecraftForge . EVENT _ BUS . post ( event ) ? 0 : event . amount ) ; <nl> + } <nl> } <nl> diff - - git a / src / main / java / net / minecraftforge / event / entity / living / LivingHealEvent . java b / src / main / java / net / minecraftforge / event / entity / living / LivingHealEvent . java <nl> new file mode 100644 <nl> index 0000000 . . 516f708 <nl> - - - / dev / null <nl> + + + b / src / main / java / net / minecraftforge / event / entity / living / LivingHealEvent . java <nl> @ @ - 0 , 0 + 1 , 30 @ @ <nl> + package net . minecraftforge . event . entity . living ; <nl> + <nl> + import net . minecraftforge . fml . common . eventhandler . Cancelable ; <nl> + import net . minecraft . entity . EntityLivingBase ; <nl> + <nl> + / * * <nl> + * LivingHealEvent is fired when an Entity is set to be healed . < br > <nl> + * This event is fired whenever an Entity is healed in EntityLivingBase # heal ( float ) < br > <nl> + * < br > <nl> + * This event is fired via the { @ link ForgeHooks # onLivingHeal ( EntityLivingBase , float ) } . < br > <nl> + * < br > <nl> + * { @ link # amount } contains the amount of healing done to the Entity that was healed . < br > <nl> + * < br > <nl> + * This event is { @ link Cancelable } . < br > <nl> + * If this event is canceled , the Entity is not healed . < br > <nl> + * < br > <nl> + * This event does not have a result . { @ link HasResult } < br > <nl> + * < br > <nl> + * This event is fired on the { @ link MinecraftForge # EVENT _ BUS } . <nl> + * * / <nl> + @ Cancelable <nl> + public class LivingHealEvent extends LivingEvent <nl> + { <nl> + public float amount ; <nl> + public LivingHealEvent ( EntityLivingBase entity , float amount ) <nl> + { <nl> + super ( entity ) ; <nl> + this . amount = amount ; <nl> + } <nl> + } <nl> \ No newline at end of file

TEST DIFF:
diff - - git a / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch b / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch 
 index 3781058 . . 610e370 100644 
 - - - a / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch 
 + + + b / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch 
 @ @ - 377 , 7 + 377 , 7 @ @ 
 
 switch ( EntityPlayer . SwitchEnumFacing . field _ 179420 _ a [ enumfacing . ordinal ( ) ] ) 
 { 
 - @ @ - 1511 , 16 + 1611 , 22 @ @ 
 + @ @ - 1511 , 16 + 1611 , 23 @ @ 
 
 public BlockPos func _ 180470 _ cg ( ) 
 { 
 @ @ - 394 , 6 + 394 , 7 @ @ 
 
 public void func _ 180473 _ a ( BlockPos p _ 180473 _ 1 _ , boolean p _ 180473 _ 2 _ ) 
 { 
 + + if ( net . minecraftforge . event . ForgeEventFactory . onPlayerSpawnSet ( this , p _ 180473 _ 1 _ , p _ 180473 _ 2 _ ) ) return ; 
 + if ( this . field _ 71093 _ bK ! = 0 ) 
 + { 
 + setSpawnChunk ( p _ 180473 _ 1 _ , p _ 180473 _ 2 _ , this . field _ 71093 _ bK ) ; 
 @ @ - 402 , 7 + 403 , 7 @ @ 
 if ( p _ 180473 _ 1 _ ! = null ) 
 { 
 this . field _ 71077 _ c = p _ 180473 _ 1 _ ; 
 - @ @ - 1702 , 6 + 1808 , 10 @ @ 
 + @ @ - 1702 , 6 + 1809 , 10 @ @ 
 
 super . func _ 180430 _ e ( p _ 180430 _ 1 _ , p _ 180430 _ 2 _ ) ; 
 } 
 @ @ - 413 , 7 + 414 , 7 @ @ 
 } 
 
 protected void func _ 71061 _ d _ ( ) 
 - @ @ - 1725 , 6 + 1835 , 7 @ @ 
 + @ @ - 1725 , 6 + 1836 , 7 @ @ 
 } 
 
 EntityList . EntityEggInfo entityegginfo = ( EntityList . EntityEggInfo ) EntityList . field _ 75627 _ a . get ( Integer . valueOf ( EntityList . func _ 75619 _ a ( p _ 70074 _ 1 _ ) ) ) ; 
 @ @ - 421 , 7 + 422 , 7 @ @ 
 
 if ( entityegginfo ! = null ) 
 { 
 - @ @ - 1837 , 6 + 1948 , 8 @ @ 
 + @ @ - 1837 , 6 + 1949 , 8 @ @ 
 { 
 if ( p _ 71008 _ 1 _ ! = this . field _ 71074 _ e ) 
 { 
 @ @ - 430 , 7 + 431 , 7 @ @ 
 this . field _ 71074 _ e = p _ 71008 _ 1 _ ; 
 this . field _ 71072 _ f = p _ 71008 _ 2 _ ; 
 
 - @ @ - 1906 , 6 + 2019 , 10 @ @ 
 + @ @ - 1906 , 6 + 2020 , 10 @ @ 
 this . field _ 71106 _ cc = p _ 71049 _ 1 _ . field _ 71106 _ cc ; 
 this . func _ 85040 _ s ( p _ 71049 _ 1 _ . func _ 71037 _ bA ( ) ) ; 
 this . field _ 82152 _ aq = p _ 71049 _ 1 _ . field _ 82152 _ aq ; 
 @ @ - 441 , 7 + 442 , 7 @ @ 
 } 
 else if ( this . field _ 70170 _ p . func _ 82736 _ K ( ) . func _ 82766 _ b ( " keepInventory " ) ) 
 { 
 - @ @ - 1918 , 6 + 2035 , 18 @ @ 
 + @ @ - 1918 , 6 + 2036 , 18 @ @ 
 
 this . field _ 71078 _ a = p _ 71049 _ 1 _ . field _ 71078 _ a ; 
 this . func _ 70096 _ w ( ) . func _ 75692 _ b ( 10 , Byte . valueOf ( p _ 71049 _ 1 _ . func _ 70096 _ w ( ) . func _ 75683 _ a ( 10 ) ) ) ; 
 @ @ - 460 , 7 + 461 , 7 @ @ 
 } 
 
 protected boolean func _ 70041 _ e _ ( ) 
 - @ @ - 1951 , 7 + 2080 , 14 @ @ 
 + @ @ - 1951 , 7 + 2081 , 14 @ @ 
 
 public void func _ 70062 _ b ( int p _ 70062 _ 1 _ , ItemStack p _ 70062 _ 2 _ ) 
 { 
 @ @ - 476 , 7 + 477 , 7 @ @ 
 } 
 
 @ SideOnly ( Side . CLIENT ) 
 - @ @ - 1996 , 7 + 2132 , 10 @ @ 
 + @ @ - 1996 , 7 + 2133 , 10 @ @ 
 
 public IChatComponent func _ 145748 _ c _ ( ) 
 { 
 @ @ - 488 , 7 + 489 , 7 @ @ 
 chatcomponenttext . func _ 150256 _ b ( ) . func _ 150241 _ a ( new ClickEvent ( ClickEvent . Action . SUGGEST _ COMMAND , " / msg " + this . func _ 70005 _ c _ ( ) + " " ) ) ; 
 chatcomponenttext . func _ 150256 _ b ( ) . func _ 150209 _ a ( this . func _ 174823 _ aP ( ) ) ; 
 chatcomponenttext . func _ 150256 _ b ( ) . func _ 179989 _ a ( this . func _ 70005 _ c _ ( ) ) ; 
 - @ @ - 2005 , 7 + 2144 , 7 @ @ 
 + @ @ - 2005 , 7 + 2145 , 7 @ @ 
 
 public float func _ 70047 _ e ( ) 
 { 
 @ @ - 497 , 7 + 498 , 7 @ @ 
 
 if ( this . func _ 70608 _ bn ( ) ) 
 { 
 - @ @ - 2139 , 6 + 2278 , 136 @ @ 
 + @ @ - 2139 , 6 + 2279 , 136 @ @ 
 this . field _ 175153 _ bG = p _ 175150 _ 1 _ ; 
 } 
 
 diff - - git a / src / main / java / net / minecraftforge / event / ForgeEventFactory . java b / src / main / java / net / minecraftforge / event / ForgeEventFactory . java 
 index 48f1c20 . . 9356e26 100644 
 - - - a / src / main / java / net / minecraftforge / event / ForgeEventFactory . java 
 + + + b / src / main / java / net / minecraftforge / event / ForgeEventFactory . java 
 @ @ - 63 , 6 + 63 , 7 @ @ import net . minecraftforge . event . entity . player . PlayerEvent ; 
 import net . minecraftforge . event . entity . player . PlayerFlyableFallEvent ; 
 import net . minecraftforge . event . entity . player . PlayerInteractEvent ; 
 import net . minecraftforge . event . entity . player . PlayerInteractEvent . Action ; 
 + import net . minecraftforge . event . entity . player . PlayerSetSpawnEvent ; 
 import net . minecraftforge . event . entity . player . PlayerSleepInBedEvent ; 
 import net . minecraftforge . event . entity . player . PlayerUseItemEvent ; 
 import net . minecraftforge . event . entity . player . PlayerWakeUpEvent ; 
 @ @ - 397 , 6 + 398 , 10 @ @ public class ForgeEventFactory 
 { 
 MinecraftForge . EVENT _ BUS . post ( new PlayerFlyableFallEvent ( player , distance , multiplier ) ) ; 
 } 
 + 
 + public static boolean onPlayerSpawnSet ( EntityPlayer player , BlockPos pos , boolean forced ) { 
 + return MinecraftForge . EVENT _ BUS . post ( new PlayerSetSpawnEvent ( player , pos , forced ) ) ; 
 + } 
 
 public static void onPlayerClone ( EntityPlayer player , EntityPlayer oldPlayer , boolean wasDeath ) 
 { 
 diff - - git a / src / main / java / net / minecraftforge / event / entity / player / PlayerSetSpawnEvent . java b / src / main / java / net / minecraftforge / event / entity / player / PlayerSetSpawnEvent . java 
 new file mode 100644 
 index 0000000 . . e2d059a 
 - - - / dev / null 
 + + + b / src / main / java / net / minecraftforge / event / entity / player / PlayerSetSpawnEvent . java 
 @ @ - 0 , 0 + 1 , 23 @ @ 
 + package net . minecraftforge . event . entity . player ; 
 + 
 + import net . minecraftforge . fml . common . eventhandler . Cancelable ; 
 + import net . minecraft . entity . player . EntityPlayer ; 
 + import net . minecraft . util . BlockPos ; 
 + 
 + @ Cancelable 
 + public class PlayerSetSpawnEvent extends PlayerEvent 
 + { 
 + / * * 
 + * This event is called before a player ' s spawn point is changed . 
 + * The event can be canceled , and no further processing will be done . 
 + * / 
 + public final boolean forced ; 
 + public final BlockPos newSpawn ; 
 + 
 + public PlayerSetSpawnEvent ( EntityPlayer player , BlockPos newSpawn , boolean forced ) { 
 + super ( player ) ; 
 + this . newSpawn = newSpawn ; 
 + this . forced = forced ; 
 + } 
 + 
 + } 
 diff - - git a / src / test / java / net / minecraftforge / test / PlayerSetSpawnTest . java b / src / test / java / net / minecraftforge / test / PlayerSetSpawnTest . java 
 new file mode 100644 
 index 0000000 . . 78875db 
 - - - / dev / null 
 + + + b / src / test / java / net / minecraftforge / test / PlayerSetSpawnTest . java 
 @ @ - 0 , 0 + 1 , 25 @ @ 
 + package net . minecraftforge . test ; 
 + 
 + import net . minecraftforge . common . MinecraftForge ; 
 + import net . minecraftforge . event . entity . player . PlayerSetSpawnEvent ; 
 + import net . minecraftforge . fml . common . Mod ; 
 + import net . minecraftforge . fml . common . Mod . EventHandler ; 
 + import net . minecraftforge . fml . common . event . FMLInitializationEvent ; 
 + import net . minecraftforge . fml . common . eventhandler . SubscribeEvent ; 
 + 
 + @ Mod ( modid = " playersetspawntest " , name = " Player Set Spawn Test " , version = " 0 . 0 . 0 " ) 
 + public class PlayerSetSpawnTest { 
 + 
 + @ EventHandler 
 + public void init ( FMLInitializationEvent event ) 
 + { 
 + MinecraftForge . EVENT _ BUS . register ( this ) ; 
 + } 
 + 
 + @ SubscribeEvent 
 + public void onPlayerSetSpawn ( PlayerSetSpawnEvent event ) 
 + { 
 + System . out . println ( event . forced + " " + event . newSpawn . toString ( ) ) ; 
 + event . setCanceled ( true ) ; 
 + } 
 + }

NEAREST DIFF:
diff - - git a / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch b / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch 
 index 6d203c4 . . 5c7ea6f 100644 
 - - - a / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch 
 + + + b / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch 
 @ @ - 25 , 7 + 25 , 16 @ @ 
 public void func _ 70618 _ n ( int p _ 70618 _ 1 _ ) 
 { 
 this . field _ 70713 _ bf . remove ( Integer . valueOf ( p _ 70618 _ 1 _ ) ) ; 
 - @ @ - 741 , 6 + 741 , 7 @ @ 
 + @ @ - 721 , 6 + 721 , 8 @ @ 
 + 
 + public void func _ 70691 _ i ( float p _ 70691 _ 1 _ ) 
 + { 
 + + p _ 70691 _ 1 _ = net . minecraftforge . event . ForgeEventFactory . onLivingHeal ( this , p _ 70691 _ 1 _ ) ; 
 + + if ( p _ 70691 _ 1 _ < = 0 ) return ; 
 + float f1 = this . func _ 110143 _ aJ ( ) ; 
 + 
 + if ( f1 > 0 . 0F ) 
 + @ @ - 741 , 6 + 743 , 7 @ @ 
 
 public boolean func _ 70097 _ a ( DamageSource p _ 70097 _ 1 _ , float p _ 70097 _ 2 _ ) 
 { 
 @ @ - 33 , 7 + 42 , 7 @ @ 
 if ( this . func _ 180431 _ b ( p _ 70097 _ 1 _ ) ) 
 { 
 return false ; 
 - @ @ - 806 , 9 + 807 , 9 @ @ 
 + @ @ - 806 , 9 + 809 , 9 @ @ 
 this . field _ 70718 _ bc = 100 ; 
 this . field _ 70717 _ bb = ( EntityPlayer ) entity ; 
 } 
 @ @ - 45 , 7 + 54 , 7 @ @ 
 
 if ( entitywolf . func _ 70909 _ n ( ) ) 
 { 
 - @ @ - 894 , 6 + 895 , 7 @ @ 
 + @ @ - 894 , 6 + 897 , 7 @ @ 
 
 public void func _ 70645 _ a ( DamageSource p _ 70645 _ 1 _ ) 
 { 
 @ @ - 53 , 7 + 62 , 7 @ @ 
 Entity entity = p _ 70645 _ 1 _ . func _ 76346 _ g ( ) ; 
 EntityLivingBase entitylivingbase = this . func _ 94060 _ bK ( ) ; 
 
 - @ @ - 919 , 6 + 921 , 9 @ @ 
 + @ @ - 919 , 6 + 923 , 9 @ @ 
 i = EnchantmentHelper . func _ 77519 _ f ( ( EntityLivingBase ) entity ) ; 
 } 
 
 @ @ - 63 , 7 + 72 , 7 @ @ 
 if ( this . func _ 146066 _ aG ( ) & & this . field _ 70170 _ p . func _ 82736 _ K ( ) . func _ 82766 _ b ( " doMobLoot " ) ) 
 { 
 this . func _ 70628 _ a ( this . field _ 70718 _ bc > 0 , i ) ; 
 - @ @ - 929 , 6 + 934 , 16 @ @ 
 + @ @ - 929 , 6 + 936 , 16 @ @ 
 this . func _ 82164 _ bB ( ) ; 
 } 
 } 
 @ @ - 80 , 7 + 89 , 7 @ @ 
 } 
 
 this . field _ 70170 _ p . func _ 72960 _ a ( this , ( byte ) 3 ) ; 
 - @ @ - 977 , 7 + 992 , 7 @ @ 
 + @ @ - 977 , 7 + 994 , 7 @ @ 
 int j = MathHelper . func _ 76128 _ c ( this . func _ 174813 _ aQ ( ) . field _ 72338 _ b ) ; 
 int k = MathHelper . func _ 76128 _ c ( this . field _ 70161 _ v ) ; 
 Block block = this . field _ 70170 _ p . func _ 180495 _ p ( new BlockPos ( i , j , k ) ) . func _ 177230 _ c ( ) ; 
 @ @ - 89 , 7 + 98 , 7 @ @ 
 } 
 
 public boolean func _ 70089 _ S ( ) 
 - @ @ - 987 , 6 + 1002 , 9 @ @ 
 + @ @ - 987 , 6 + 1004 , 9 @ @ 
 
 public void func _ 180430 _ e ( float p _ 180430 _ 1 _ , float p _ 180430 _ 2 _ ) 
 { 
 @ @ - 99 , 7 + 108 , 7 @ @ 
 super . func _ 180430 _ e ( p _ 180430 _ 1 _ , p _ 180430 _ 2 _ ) ; 
 PotionEffect potioneffect = this . func _ 70660 _ b ( Potion . field _ 76430 _ j ) ; 
 float f2 = potioneffect ! = null ? ( float ) ( potioneffect . func _ 76458 _ c ( ) + 1 ) : 0 . 0F ; 
 - @ @ - 1105 , 6 + 1123 , 8 @ @ 
 + @ @ - 1105 , 6 + 1125 , 8 @ @ 
 { 
 if ( ! this . func _ 180431 _ b ( p _ 70665 _ 1 _ ) ) 
 { 
 @ @ - 108 , 7 + 117 , 7 @ @ 
 p _ 70665 _ 2 _ = this . func _ 70655 _ b ( p _ 70665 _ 1 _ , p _ 70665 _ 2 _ ) ; 
 p _ 70665 _ 2 _ = this . func _ 70672 _ c ( p _ 70665 _ 1 _ , p _ 70665 _ 2 _ ) ; 
 float f1 = p _ 70665 _ 2 _ ; 
 - @ @ - 1153 , 6 + 1173 , 11 @ @ 
 + @ @ - 1153 , 6 + 1175 , 11 @ @ 
 
 public void func _ 71038 _ i ( ) 
 { 
 @ @ - 120 , 7 + 129 , 7 @ @ 
 if ( ! this . field _ 82175 _ bq | | this . field _ 110158 _ av > = this . func _ 82166 _ i ( ) / 2 | | this . field _ 110158 _ av < 0 ) 
 { 
 this . field _ 110158 _ av = - 1 ; 
 - @ @ - 1359 , 6 + 1384 , 7 @ @ 
 + @ @ - 1359 , 6 + 1386 , 7 @ @ 
 } 
 
 this . field _ 70160 _ al = true ; 
 @ @ - 128 , 7 + 137 , 7 @ @ 
 } 
 
 protected void func _ 70629 _ bd ( ) 
 - @ @ - 1545 , 6 + 1571 , 7 @ @ 
 + @ @ - 1545 , 6 + 1573 , 7 @ @ 
 
 public void func _ 70071 _ h _ ( ) 
 { 
 @ @ - 136 , 7 + 145 , 7 @ @ 
 super . func _ 70071 _ h _ ( ) ; 
 
 if ( ! this . field _ 70170 _ p . field _ 72995 _ K ) 
 - @ @ - 2000 , 4 + 2027 , 39 @ @ 
 + @ @ - 2000 , 4 + 2029 , 39 @ @ 
 { 
 this . field _ 70752 _ e = true ; 
 } 
 diff - - git a / src / main / java / net / minecraftforge / event / ForgeEventFactory . java b / src / main / java / net / minecraftforge / event / ForgeEventFactory . java 
 index 784854f . . 7cb7664 100644 
 - - - a / src / main / java / net / minecraftforge / event / ForgeEventFactory . java 
 + + + b / src / main / java / net / minecraftforge / event / ForgeEventFactory . java 
 @ @ - 40 , 6 + 40 , 7 @ @ import net . minecraftforge . event . entity . EntityEvent ; 
 import net . minecraftforge . event . entity . EntityStruckByLightningEvent ; 
 import net . minecraftforge . event . entity . PlaySoundAtEntityEvent ; 
 import net . minecraftforge . event . entity . item . ItemExpireEvent ; 
 + import net . minecraftforge . event . entity . living . LivingHealEvent ; 
 import net . minecraftforge . event . entity . living . LivingPackSizeEvent ; 
 import net . minecraftforge . event . entity . living . LivingSpawnEvent ; 
 import net . minecraftforge . event . entity . living . LivingSpawnEvent . AllowDespawn ; 
 @ @ - 378 , 4 + 379 , 10 @ @ public class ForgeEventFactory 
 { 
 return MinecraftForge . EVENT _ BUS . post ( new WorldEvent . CreateSpawnPosition ( world , settings ) ) ; 
 } 
 + 
 + public static float onLivingHeal ( EntityLivingBase entity , float amount ) 
 + { 
 + LivingHealEvent event = new LivingHealEvent ( entity , amount ) ; 
 + return ( MinecraftForge . EVENT _ BUS . post ( event ) ? 0 : event . amount ) ; 
 + } 
 } 
 diff - - git a / src / main / java / net / minecraftforge / event / entity / living / LivingHealEvent . java b / src / main / java / net / minecraftforge / event / entity / living / LivingHealEvent . java 
 new file mode 100644 
 index 0000000 . . 516f708 
 - - - / dev / null 
 + + + b / src / main / java / net / minecraftforge / event / entity / living / LivingHealEvent . java 
 @ @ - 0 , 0 + 1 , 30 @ @ 
 + package net . minecraftforge . event . entity . living ; 
 + 
 + import net . minecraftforge . fml . common . eventhandler . Cancelable ; 
 + import net . minecraft . entity . EntityLivingBase ; 
 + 
 + / * * 
 + * LivingHealEvent is fired when an Entity is set to be healed . < br > 
 + * This event is fired whenever an Entity is healed in EntityLivingBase # heal ( float ) < br > 
 + * < br > 
 + * This event is fired via the { @ link ForgeHooks # onLivingHeal ( EntityLivingBase , float ) } . < br > 
 + * < br > 
 + * { @ link # amount } contains the amount of healing done to the Entity that was healed . < br > 
 + * < br > 
 + * This event is { @ link Cancelable } . < br > 
 + * If this event is canceled , the Entity is not healed . < br > 
 + * < br > 
 + * This event does not have a result . { @ link HasResult } < br > 
 + * < br > 
 + * This event is fired on the { @ link MinecraftForge # EVENT _ BUS } . 
 + * * / 
 + @ Cancelable 
 + public class LivingHealEvent extends LivingEvent 
 + { 
 + public float amount ; 
 + public LivingHealEvent ( EntityLivingBase entity , float amount ) 
 + { 
 + super ( entity ) ; 
 + this . amount = amount ; 
 + } 
 + } 
 \ No newline at end of file
