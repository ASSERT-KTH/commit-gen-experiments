BLEU SCORE: 0.03920125907294628

TEST MSG: Fix FluidUtil . getFluidHandler skipping some fluid tile entities
GENERATED MSG: Fixed FluidUtil . tryEmptyFluidContainerItem not checking if the tank can accept fluids first . Closes # 2527

TEST DIFF (one line): diff - - git a / src / main / java / net / minecraftforge / fluids / FluidUtil . java b / src / main / java / net / minecraftforge / fluids / FluidUtil . java <nl> index f98d0c7 . . c1c3ce9 100644 <nl> - - - a / src / main / java / net / minecraftforge / fluids / FluidUtil . java <nl> + + + b / src / main / java / net / minecraftforge / fluids / FluidUtil . java <nl> @ @ - 531 , 7 + 531 , 7 @ @ public class FluidUtil <nl> return tileEntity . getCapability ( CapabilityFluidHandler . FLUID _ HANDLER _ CAPABILITY , side ) ; <nl> } <nl> } <nl> - else if ( block instanceof IFluidBlock ) <nl> + if ( block instanceof IFluidBlock ) <nl> { <nl> return new FluidBlockWrapper ( ( IFluidBlock ) block , world , blockPos ) ; <nl> }
NEAREST DIFF (one line): diff - - git a / src / main / java / net / minecraftforge / fluids / FluidUtil . java b / src / main / java / net / minecraftforge / fluids / FluidUtil . java <nl> index 52facc9 . . f5b000f 100644 <nl> - - - a / src / main / java / net / minecraftforge / fluids / FluidUtil . java <nl> + + + b / src / main / java / net / minecraftforge / fluids / FluidUtil . java <nl> @ @ - 367 , 7 + 367 , 7 @ @ public class FluidUtil <nl> max = fluidContainer . getCapacity ( container ) ; <nl> } <nl> FluidStack drained = fluidContainer . drain ( container , max , false ) ; <nl> - if ( drained ! = null ) <nl> + if ( drained ! = null & & tank . canFill ( side , drained . getFluid ( ) ) ) <nl> { <nl> / / check how much we can fill into the tank <nl> int filled = tank . fill ( side , drained , false ) ;

TEST DIFF:
diff - - git a / src / main / java / net / minecraftforge / fluids / FluidUtil . java b / src / main / java / net / minecraftforge / fluids / FluidUtil . java 
 index f98d0c7 . . c1c3ce9 100644 
 - - - a / src / main / java / net / minecraftforge / fluids / FluidUtil . java 
 + + + b / src / main / java / net / minecraftforge / fluids / FluidUtil . java 
 @ @ - 531 , 7 + 531 , 7 @ @ public class FluidUtil 
 return tileEntity . getCapability ( CapabilityFluidHandler . FLUID _ HANDLER _ CAPABILITY , side ) ; 
 } 
 } 
 - else if ( block instanceof IFluidBlock ) 
 + if ( block instanceof IFluidBlock ) 
 { 
 return new FluidBlockWrapper ( ( IFluidBlock ) block , world , blockPos ) ; 
 }

NEAREST DIFF:
diff - - git a / src / main / java / net / minecraftforge / fluids / FluidUtil . java b / src / main / java / net / minecraftforge / fluids / FluidUtil . java 
 index 52facc9 . . f5b000f 100644 
 - - - a / src / main / java / net / minecraftforge / fluids / FluidUtil . java 
 + + + b / src / main / java / net / minecraftforge / fluids / FluidUtil . java 
 @ @ - 367 , 7 + 367 , 7 @ @ public class FluidUtil 
 max = fluidContainer . getCapacity ( container ) ; 
 } 
 FluidStack drained = fluidContainer . drain ( container , max , false ) ; 
 - if ( drained ! = null ) 
 + if ( drained ! = null & & tank . canFill ( side , drained . getFluid ( ) ) ) 
 { 
 / / check how much we can fill into the tank 
 int filled = tank . fill ( side , drained , false ) ;
