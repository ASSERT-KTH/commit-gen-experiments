BLEU SCORE: 0.014199193612838947

TEST MSG: Fixes # 5446 Listening for the same registry event in two different mods fails
GENERATED MSG: Suppress firing events at load time if an error has already occurred

TEST DIFF (one line): diff - - git a / build . gradle b / build . gradle <nl> index 3d1eab1 . . 6bdc57a 100644 <nl> - - - a / build . gradle <nl> + + + b / build . gradle <nl> @ @ - 272 , 7 + 272 , 7 @ @ project ( ' : forge ' ) { <nl> installer ' org . ow2 . asm : asm - tree : 6 . 2 ' <nl> installer ' cpw . mods : modlauncher : 0 . 9 . + ' <nl> installer ' net . minecraftforge : accesstransformers : 0 . 14 . + : shadowed ' <nl> - installer ' net . minecraftforge : eventbus : 0 . 6 . + : service ' <nl> + installer ' net . minecraftforge : eventbus : 0 . 7 . + : service ' <nl> installer ' net . minecraftforge : forgespi : 0 . 6 . + ' <nl> installer ' net . minecraftforge : coremods : 0 . 2 . + ' <nl> installer ' com . electronwill . night - config : core : 3 . 4 . 2 ' <nl> diff - - git a / src / main / java / net / minecraftforge / common / MinecraftForge . java b / src / main / java / net / minecraftforge / common / MinecraftForge . java <nl> index 5715417 . . 8e23be3 100644 <nl> - - - a / src / main / java / net / minecraftforge / common / MinecraftForge . java <nl> + + + b / src / main / java / net / minecraftforge / common / MinecraftForge . java <nl> @ @ - 19 , 6 + 19 , 7 @ @ <nl> <nl> package net . minecraftforge . common ; <nl> <nl> + import net . minecraftforge . eventbus . api . BusBuilder ; <nl> import net . minecraftforge . eventbus . api . IEventBus ; <nl> <nl> import net . minecraft . crash . CrashReport ; <nl> @ @ - 42 , 7 + 43 , 7 @ @ public class MinecraftForge <nl> * ORE _ GEN _ BUS for ore gen events <nl> * EVENT _ BUS for everything else <nl> * / <nl> - public static final IEventBus EVENT _ BUS = IEventBus . create ( ) ; <nl> + public static final IEventBus EVENT _ BUS = BusBuilder . builder ( ) . build ( ) ; <nl> <nl> static final ForgeInternalHandler INTERNAL _ HANDLER = new ForgeInternalHandler ( ) ; <nl> private static final Logger LOGGER = LogManager . getLogger ( ) ; <nl> diff - - git a / src / main / java / net / minecraftforge / fml / LifecycleEventProvider . java b / src / main / java / net / minecraftforge / fml / LifecycleEventProvider . java <nl> index fa0c797 . . b580d43 100644 <nl> - - - a / src / main / java / net / minecraftforge / fml / LifecycleEventProvider . java <nl> + + + b / src / main / java / net / minecraftforge / fml / LifecycleEventProvider . java <nl> @ @ - 20 , 8 + 20 , 6 @ @ <nl> package net . minecraftforge . fml ; <nl> <nl> import net . minecraftforge . eventbus . api . Event ; <nl> - import net . minecraftforge . fml . event . lifecycle . ModLifecycleEvent ; <nl> - import net . minecraftforge . fml . javafmlmod . FMLModContainer ; <nl> import net . minecraftforge . forgespi . language . ILifecycleEvent ; <nl> <nl> import java . util . List ; <nl> diff - - git a / src / main / java / net / minecraftforge / fml / javafmlmod / FMLModContainer . java b / src / main / java / net / minecraftforge / fml / javafmlmod / FMLModContainer . java <nl> index 8bf6be4 . . 750a0a8 100644 <nl> - - - a / src / main / java / net / minecraftforge / fml / javafmlmod / FMLModContainer . java <nl> + + + b / src / main / java / net / minecraftforge / fml / javafmlmod / FMLModContainer . java <nl> @ @ - 20 , 6 + 20 , 7 @ @ <nl> package net . minecraftforge . fml . javafmlmod ; <nl> <nl> import net . minecraftforge . eventbus . EventBusErrorMessage ; <nl> + import net . minecraftforge . eventbus . api . BusBuilder ; <nl> import net . minecraftforge . eventbus . api . Event ; <nl> import net . minecraftforge . eventbus . api . IEventBus ; <nl> import net . minecraftforge . eventbus . api . IEventListener ; <nl> @ @ - 28 , 7 + 29 , 6 @ @ import net . minecraftforge . fml . LifecycleEventProvider ; <nl> import net . minecraftforge . fml . ModContainer ; <nl> import net . minecraftforge . fml . ModLoadingException ; <nl> import net . minecraftforge . fml . ModLoadingStage ; <nl> - import net . minecraftforge . fml . ModLoadingContext ; <nl> import net . minecraftforge . forgespi . language . IModInfo ; <nl> import net . minecraftforge . forgespi . language . ModFileScanData ; <nl> <nl> @ @ - 61 , 7 + 61 , 7 @ @ public class FMLModContainer extends ModContainer <nl> triggerMap . put ( ModLoadingStage . ENQUEUE _ IMC , dummy ( ) . andThen ( this : : beforeEvent ) . andThen ( this : : initMod ) . andThen ( this : : fireEvent ) . andThen ( this : : afterEvent ) ) ; <nl> triggerMap . put ( ModLoadingStage . PROCESS _ IMC , dummy ( ) . andThen ( this : : beforeEvent ) . andThen ( this : : fireEvent ) . andThen ( this : : afterEvent ) ) ; <nl> triggerMap . put ( ModLoadingStage . COMPLETE , dummy ( ) . andThen ( this : : beforeEvent ) . andThen ( this : : completeLoading ) . andThen ( this : : fireEvent ) . andThen ( this : : afterEvent ) ) ; <nl> - this . eventBus = IEventBus . create ( this : : onEventFailed ) ; <nl> + this . eventBus = BusBuilder . builder ( ) . setExceptionHandler ( this : : onEventFailed ) . setTrackPhases ( false ) . build ( ) ; <nl> this . configHandler = Optional . of ( event - > this . eventBus . post ( event ) ) ; <nl> final FMLJavaModLoadingContext contextExtension = new FMLJavaModLoadingContext ( this ) ; <nl> this . contextExtension = ( ) - > contextExtension ; <nl> diff - - git a / src / main / java / net / minecraftforge / fml / network / NetworkInstance . java b / src / main / java / net / minecraftforge / fml / network / NetworkInstance . java <nl> index 1635611 . . 30f9dde 100644 <nl> - - - a / src / main / java / net / minecraftforge / fml / network / NetworkInstance . java <nl> + + + b / src / main / java / net / minecraftforge / fml / network / NetworkInstance . java <nl> @ @ - 20 , 12 + 20 , 11 @ @ <nl> package net . minecraftforge . fml . network ; <nl> <nl> import net . minecraft . network . NetworkManager ; <nl> - import net . minecraft . network . PacketBuffer ; <nl> import net . minecraft . util . ResourceLocation ; <nl> + import net . minecraftforge . eventbus . api . BusBuilder ; <nl> import net . minecraftforge . eventbus . api . Event ; <nl> import net . minecraftforge . eventbus . api . IEventBus ; <nl> import net . minecraftforge . eventbus . api . IEventListener ; <nl> - import org . apache . commons . lang3 . tuple . Pair ; <nl> <nl> import java . util . List ; <nl> import java . util . function . Consumer ; <nl> @ @ - 51 , 7 + 50 , 7 @ @ public class NetworkInstance <nl> this . networkProtocolVersion = networkProtocolVersion . get ( ) ; <nl> this . clientAcceptedVersions = clientAcceptedVersions ; <nl> this . serverAcceptedVersions = serverAcceptedVersions ; <nl> - this . networkEventBus = IEventBus . create ( this : : handleError ) ; <nl> + this . networkEventBus = BusBuilder . builder ( ) . setExceptionHandler ( this : : handleError ) . build ( ) ; <nl> } <nl> <nl> private void handleError ( IEventBus iEventBus , Event event , IEventListener [ ] iEventListeners , int i , Throwable throwable )
NEAREST DIFF (one line): diff - - git a / src / main / java / net / minecraftforge / client / model / ModelLoader . java b / src / main / java / net / minecraftforge / client / model / ModelLoader . java <nl> index e725ef1 . . d1707aa 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / ModelLoader . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / ModelLoader . java <nl> @ @ - 952 , 6 + 952 , 8 @ @ public final class ModelLoader extends ModelBakery <nl> * / <nl> public void onPostBakeEvent ( IRegistry < ModelResourceLocation , IBakedModel > modelRegistry ) <nl> { <nl> + if ( ! isLoading ) return ; <nl> + <nl> IBakedModel missingModel = modelRegistry . getObject ( MODEL _ MISSING ) ; <nl> Map < String , Integer > modelErrors = Maps . newHashMap ( ) ; <nl> Set < ResourceLocation > printedBlockStateErrors = Sets . newHashSet ( ) ; <nl> diff - - git a / src / main / java / net / minecraftforge / fml / common / LoadController . java b / src / main / java / net / minecraftforge / fml / common / LoadController . java <nl> index c5ed6fb . . 681631f 100644 <nl> - - - a / src / main / java / net / minecraftforge / fml / common / LoadController . java <nl> + + + b / src / main / java / net / minecraftforge / fml / common / LoadController . java <nl> @ @ - 28 , 6 + 28 , 7 @ @ import java . util . Map ; <nl> import java . util . Map . Entry ; <nl> import java . util . stream . Collectors ; <nl> <nl> + import net . minecraftforge . common . MinecraftForge ; <nl> import net . minecraftforge . common . util . TextTable ; <nl> import net . minecraftforge . fml . common . LoaderState . ModState ; <nl> import net . minecraftforge . fml . common . ProgressManager . ProgressBar ; <nl> @ @ - 185 , 6 + 186 , 7 @ @ public class LoadController <nl> if ( errors . size ( ) > 0 ) <nl> { <nl> FMLLog . log . fatal ( " Fatal errors were detected during { } . Loading cannot continue . " , state ) ; <nl> + MinecraftForge . EVENT _ BUS . shutdown ( ) ; <nl> state = state . transition ( true ) ; <nl> throw throwStoredErrors ( ) ; <nl> } <nl> diff - - git a / src / main / java / net / minecraftforge / fml / common / eventhandler / EventBus . java b / src / main / java / net / minecraftforge / fml / common / eventhandler / EventBus . java <nl> index 1b2c872 . . 11be42f 100644 <nl> - - - a / src / main / java / net / minecraftforge / fml / common / eventhandler / EventBus . java <nl> + + + b / src / main / java / net / minecraftforge / fml / common / eventhandler / EventBus . java <nl> @ @ - 47 , 6 + 47 , 7 @ @ public class EventBus implements IEventExceptionHandler <nl> private Map < Object , ModContainer > listenerOwners = new MapMaker ( ) . weakKeys ( ) . weakValues ( ) . makeMap ( ) ; <nl> private final int busID = maxID + + ; <nl> private IEventExceptionHandler exceptionHandler ; <nl> + private boolean shutdown ; <nl> <nl> public EventBus ( ) <nl> { <nl> @ @ - 170 , 6 + 171 , 8 @ @ public class EventBus implements IEventExceptionHandler <nl> <nl> public boolean post ( Event event ) <nl> { <nl> + if ( shutdown ) return false ; <nl> + <nl> IEventListener [ ] listeners = event . getListenerList ( ) . getListeners ( busID ) ; <nl> int index = 0 ; <nl> try <nl> @ @ - 185 , 7 + 188 , 13 @ @ public class EventBus implements IEventExceptionHandler <nl> Throwables . throwIfUnchecked ( throwable ) ; <nl> throw new RuntimeException ( throwable ) ; <nl> } <nl> - return ( event . isCancelable ( ) ? event . isCanceled ( ) : false ) ; <nl> + return event . isCancelable ( ) & & event . isCanceled ( ) ; <nl> + } <nl> + <nl> + public void shutdown ( ) <nl> + { <nl> + FMLLog . log . warn ( " EventBus { } shutting down - future events will not be posted . " , busID ) ; <nl> + shutdown = true ; <nl> } <nl> <nl> @ Override <nl> diff - - git a / src / test / java / net / minecraftforge / debug / mod / ClientLoadingExceptionTest . java b / src / test / java / net / minecraftforge / debug / mod / ClientLoadingExceptionTest . java <nl> index 3a344d7 . . 1a01663 100644 <nl> - - - a / src / test / java / net / minecraftforge / debug / mod / ClientLoadingExceptionTest . java <nl> + + + b / src / test / java / net / minecraftforge / debug / mod / ClientLoadingExceptionTest . java <nl> @ @ - 22 , 6 + 22 , 7 @ @ package net . minecraftforge . debug . mod ; <nl> import net . minecraft . client . gui . FontRenderer ; <nl> import net . minecraft . client . gui . GuiErrorScreen ; <nl> import net . minecraft . item . Item ; <nl> + import net . minecraftforge . client . event . ModelBakeEvent ; <nl> import net . minecraftforge . common . MinecraftForge ; <nl> import net . minecraftforge . event . RegistryEvent ; <nl> import net . minecraftforge . fml . client . CustomModLoadingErrorDisplayException ; <nl> @ @ - 58 , 6 + 59 , 12 @ @ public class ClientLoadingExceptionTest <nl> throw new RuntimeException ( " This should not be called because the mod threw an exception earlier in Pre - Init and is in a broken state . " ) ; <nl> } <nl> <nl> + @ SubscribeEvent <nl> + public void onModelBake ( ModelBakeEvent e ) <nl> + { <nl> + throw new RuntimeException ( " This should not be called because the mod threw an exception earlier in Pre - Init and is in a broken state . " ) ; <nl> + } <nl> + <nl> @ Mod . EventHandler <nl> public void onInit ( FMLInitializationEvent e ) <nl> {

TEST DIFF:
diff - - git a / build . gradle b / build . gradle 
 index 3d1eab1 . . 6bdc57a 100644 
 - - - a / build . gradle 
 + + + b / build . gradle 
 @ @ - 272 , 7 + 272 , 7 @ @ project ( ' : forge ' ) { 
 installer ' org . ow2 . asm : asm - tree : 6 . 2 ' 
 installer ' cpw . mods : modlauncher : 0 . 9 . + ' 
 installer ' net . minecraftforge : accesstransformers : 0 . 14 . + : shadowed ' 
 - installer ' net . minecraftforge : eventbus : 0 . 6 . + : service ' 
 + installer ' net . minecraftforge : eventbus : 0 . 7 . + : service ' 
 installer ' net . minecraftforge : forgespi : 0 . 6 . + ' 
 installer ' net . minecraftforge : coremods : 0 . 2 . + ' 
 installer ' com . electronwill . night - config : core : 3 . 4 . 2 ' 
 diff - - git a / src / main / java / net / minecraftforge / common / MinecraftForge . java b / src / main / java / net / minecraftforge / common / MinecraftForge . java 
 index 5715417 . . 8e23be3 100644 
 - - - a / src / main / java / net / minecraftforge / common / MinecraftForge . java 
 + + + b / src / main / java / net / minecraftforge / common / MinecraftForge . java 
 @ @ - 19 , 6 + 19 , 7 @ @ 
 
 package net . minecraftforge . common ; 
 
 + import net . minecraftforge . eventbus . api . BusBuilder ; 
 import net . minecraftforge . eventbus . api . IEventBus ; 
 
 import net . minecraft . crash . CrashReport ; 
 @ @ - 42 , 7 + 43 , 7 @ @ public class MinecraftForge 
 * ORE _ GEN _ BUS for ore gen events 
 * EVENT _ BUS for everything else 
 * / 
 - public static final IEventBus EVENT _ BUS = IEventBus . create ( ) ; 
 + public static final IEventBus EVENT _ BUS = BusBuilder . builder ( ) . build ( ) ; 
 
 static final ForgeInternalHandler INTERNAL _ HANDLER = new ForgeInternalHandler ( ) ; 
 private static final Logger LOGGER = LogManager . getLogger ( ) ; 
 diff - - git a / src / main / java / net / minecraftforge / fml / LifecycleEventProvider . java b / src / main / java / net / minecraftforge / fml / LifecycleEventProvider . java 
 index fa0c797 . . b580d43 100644 
 - - - a / src / main / java / net / minecraftforge / fml / LifecycleEventProvider . java 
 + + + b / src / main / java / net / minecraftforge / fml / LifecycleEventProvider . java 
 @ @ - 20 , 8 + 20 , 6 @ @ 
 package net . minecraftforge . fml ; 
 
 import net . minecraftforge . eventbus . api . Event ; 
 - import net . minecraftforge . fml . event . lifecycle . ModLifecycleEvent ; 
 - import net . minecraftforge . fml . javafmlmod . FMLModContainer ; 
 import net . minecraftforge . forgespi . language . ILifecycleEvent ; 
 
 import java . util . List ; 
 diff - - git a / src / main / java / net / minecraftforge / fml / javafmlmod / FMLModContainer . java b / src / main / java / net / minecraftforge / fml / javafmlmod / FMLModContainer . java 
 index 8bf6be4 . . 750a0a8 100644 
 - - - a / src / main / java / net / minecraftforge / fml / javafmlmod / FMLModContainer . java 
 + + + b / src / main / java / net / minecraftforge / fml / javafmlmod / FMLModContainer . java 
 @ @ - 20 , 6 + 20 , 7 @ @ 
 package net . minecraftforge . fml . javafmlmod ; 
 
 import net . minecraftforge . eventbus . EventBusErrorMessage ; 
 + import net . minecraftforge . eventbus . api . BusBuilder ; 
 import net . minecraftforge . eventbus . api . Event ; 
 import net . minecraftforge . eventbus . api . IEventBus ; 
 import net . minecraftforge . eventbus . api . IEventListener ; 
 @ @ - 28 , 7 + 29 , 6 @ @ import net . minecraftforge . fml . LifecycleEventProvider ; 
 import net . minecraftforge . fml . ModContainer ; 
 import net . minecraftforge . fml . ModLoadingException ; 
 import net . minecraftforge . fml . ModLoadingStage ; 
 - import net . minecraftforge . fml . ModLoadingContext ; 
 import net . minecraftforge . forgespi . language . IModInfo ; 
 import net . minecraftforge . forgespi . language . ModFileScanData ; 
 
 @ @ - 61 , 7 + 61 , 7 @ @ public class FMLModContainer extends ModContainer 
 triggerMap . put ( ModLoadingStage . ENQUEUE _ IMC , dummy ( ) . andThen ( this : : beforeEvent ) . andThen ( this : : initMod ) . andThen ( this : : fireEvent ) . andThen ( this : : afterEvent ) ) ; 
 triggerMap . put ( ModLoadingStage . PROCESS _ IMC , dummy ( ) . andThen ( this : : beforeEvent ) . andThen ( this : : fireEvent ) . andThen ( this : : afterEvent ) ) ; 
 triggerMap . put ( ModLoadingStage . COMPLETE , dummy ( ) . andThen ( this : : beforeEvent ) . andThen ( this : : completeLoading ) . andThen ( this : : fireEvent ) . andThen ( this : : afterEvent ) ) ; 
 - this . eventBus = IEventBus . create ( this : : onEventFailed ) ; 
 + this . eventBus = BusBuilder . builder ( ) . setExceptionHandler ( this : : onEventFailed ) . setTrackPhases ( false ) . build ( ) ; 
 this . configHandler = Optional . of ( event - > this . eventBus . post ( event ) ) ; 
 final FMLJavaModLoadingContext contextExtension = new FMLJavaModLoadingContext ( this ) ; 
 this . contextExtension = ( ) - > contextExtension ; 
 diff - - git a / src / main / java / net / minecraftforge / fml / network / NetworkInstance . java b / src / main / java / net / minecraftforge / fml / network / NetworkInstance . java 
 index 1635611 . . 30f9dde 100644 
 - - - a / src / main / java / net / minecraftforge / fml / network / NetworkInstance . java 
 + + + b / src / main / java / net / minecraftforge / fml / network / NetworkInstance . java 
 @ @ - 20 , 12 + 20 , 11 @ @ 
 package net . minecraftforge . fml . network ; 
 
 import net . minecraft . network . NetworkManager ; 
 - import net . minecraft . network . PacketBuffer ; 
 import net . minecraft . util . ResourceLocation ; 
 + import net . minecraftforge . eventbus . api . BusBuilder ; 
 import net . minecraftforge . eventbus . api . Event ; 
 import net . minecraftforge . eventbus . api . IEventBus ; 
 import net . minecraftforge . eventbus . api . IEventListener ; 
 - import org . apache . commons . lang3 . tuple . Pair ; 
 
 import java . util . List ; 
 import java . util . function . Consumer ; 
 @ @ - 51 , 7 + 50 , 7 @ @ public class NetworkInstance 
 this . networkProtocolVersion = networkProtocolVersion . get ( ) ; 
 this . clientAcceptedVersions = clientAcceptedVersions ; 
 this . serverAcceptedVersions = serverAcceptedVersions ; 
 - this . networkEventBus = IEventBus . create ( this : : handleError ) ; 
 + this . networkEventBus = BusBuilder . builder ( ) . setExceptionHandler ( this : : handleError ) . build ( ) ; 
 } 
 
 private void handleError ( IEventBus iEventBus , Event event , IEventListener [ ] iEventListeners , int i , Throwable throwable )

NEAREST DIFF:
diff - - git a / src / main / java / net / minecraftforge / client / model / ModelLoader . java b / src / main / java / net / minecraftforge / client / model / ModelLoader . java 
 index e725ef1 . . d1707aa 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / ModelLoader . java 
 + + + b / src / main / java / net / minecraftforge / client / model / ModelLoader . java 
 @ @ - 952 , 6 + 952 , 8 @ @ public final class ModelLoader extends ModelBakery 
 * / 
 public void onPostBakeEvent ( IRegistry < ModelResourceLocation , IBakedModel > modelRegistry ) 
 { 
 + if ( ! isLoading ) return ; 
 + 
 IBakedModel missingModel = modelRegistry . getObject ( MODEL _ MISSING ) ; 
 Map < String , Integer > modelErrors = Maps . newHashMap ( ) ; 
 Set < ResourceLocation > printedBlockStateErrors = Sets . newHashSet ( ) ; 
 diff - - git a / src / main / java / net / minecraftforge / fml / common / LoadController . java b / src / main / java / net / minecraftforge / fml / common / LoadController . java 
 index c5ed6fb . . 681631f 100644 
 - - - a / src / main / java / net / minecraftforge / fml / common / LoadController . java 
 + + + b / src / main / java / net / minecraftforge / fml / common / LoadController . java 
 @ @ - 28 , 6 + 28 , 7 @ @ import java . util . Map ; 
 import java . util . Map . Entry ; 
 import java . util . stream . Collectors ; 
 
 + import net . minecraftforge . common . MinecraftForge ; 
 import net . minecraftforge . common . util . TextTable ; 
 import net . minecraftforge . fml . common . LoaderState . ModState ; 
 import net . minecraftforge . fml . common . ProgressManager . ProgressBar ; 
 @ @ - 185 , 6 + 186 , 7 @ @ public class LoadController 
 if ( errors . size ( ) > 0 ) 
 { 
 FMLLog . log . fatal ( " Fatal errors were detected during { } . Loading cannot continue . " , state ) ; 
 + MinecraftForge . EVENT _ BUS . shutdown ( ) ; 
 state = state . transition ( true ) ; 
 throw throwStoredErrors ( ) ; 
 } 
 diff - - git a / src / main / java / net / minecraftforge / fml / common / eventhandler / EventBus . java b / src / main / java / net / minecraftforge / fml / common / eventhandler / EventBus . java 
 index 1b2c872 . . 11be42f 100644 
 - - - a / src / main / java / net / minecraftforge / fml / common / eventhandler / EventBus . java 
 + + + b / src / main / java / net / minecraftforge / fml / common / eventhandler / EventBus . java 
 @ @ - 47 , 6 + 47 , 7 @ @ public class EventBus implements IEventExceptionHandler 
 private Map < Object , ModContainer > listenerOwners = new MapMaker ( ) . weakKeys ( ) . weakValues ( ) . makeMap ( ) ; 
 private final int busID = maxID + + ; 
 private IEventExceptionHandler exceptionHandler ; 
 + private boolean shutdown ; 
 
 public EventBus ( ) 
 { 
 @ @ - 170 , 6 + 171 , 8 @ @ public class EventBus implements IEventExceptionHandler 
 
 public boolean post ( Event event ) 
 { 
 + if ( shutdown ) return false ; 
 + 
 IEventListener [ ] listeners = event . getListenerList ( ) . getListeners ( busID ) ; 
 int index = 0 ; 
 try 
 @ @ - 185 , 7 + 188 , 13 @ @ public class EventBus implements IEventExceptionHandler 
 Throwables . throwIfUnchecked ( throwable ) ; 
 throw new RuntimeException ( throwable ) ; 
 } 
 - return ( event . isCancelable ( ) ? event . isCanceled ( ) : false ) ; 
 + return event . isCancelable ( ) & & event . isCanceled ( ) ; 
 + } 
 + 
 + public void shutdown ( ) 
 + { 
 + FMLLog . log . warn ( " EventBus { } shutting down - future events will not be posted . " , busID ) ; 
 + shutdown = true ; 
 } 
 
 @ Override 
 diff - - git a / src / test / java / net / minecraftforge / debug / mod / ClientLoadingExceptionTest . java b / src / test / java / net / minecraftforge / debug / mod / ClientLoadingExceptionTest . java 
 index 3a344d7 . . 1a01663 100644 
 - - - a / src / test / java / net / minecraftforge / debug / mod / ClientLoadingExceptionTest . java 
 + + + b / src / test / java / net / minecraftforge / debug / mod / ClientLoadingExceptionTest . java 
 @ @ - 22 , 6 + 22 , 7 @ @ package net . minecraftforge . debug . mod ; 
 import net . minecraft . client . gui . FontRenderer ; 
 import net . minecraft . client . gui . GuiErrorScreen ; 
 import net . minecraft . item . Item ; 
 + import net . minecraftforge . client . event . ModelBakeEvent ; 
 import net . minecraftforge . common . MinecraftForge ; 
 import net . minecraftforge . event . RegistryEvent ; 
 import net . minecraftforge . fml . client . CustomModLoadingErrorDisplayException ; 
 @ @ - 58 , 6 + 59 , 12 @ @ public class ClientLoadingExceptionTest 
 throw new RuntimeException ( " This should not be called because the mod threw an exception earlier in Pre - Init and is in a broken state . " ) ; 
 } 
 
 + @ SubscribeEvent 
 + public void onModelBake ( ModelBakeEvent e ) 
 + { 
 + throw new RuntimeException ( " This should not be called because the mod threw an exception earlier in Pre - Init and is in a broken state . " ) ; 
 + } 
 + 
 @ Mod . EventHandler 
 public void onInit ( FMLInitializationEvent e ) 
 {
