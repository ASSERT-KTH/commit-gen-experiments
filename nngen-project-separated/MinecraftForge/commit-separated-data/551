BLEU SCORE: 0.03461743640369312

TEST MSG: Changed Armor Material to use an ItemStack aware version
GENERATED MSG: Changed ToolMaterial ' s repair material to ItemStack version to allow metadata sensitive versions .

TEST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / item / Item . java . patch b / patches / minecraft / net / minecraft / item / Item . java . patch <nl> index 5c91576 . . 3909962 100644 <nl> - - - a / patches / minecraft / net / minecraft / item / Item . java . patch <nl> + + + b / patches / minecraft / net / minecraft / item / Item . java . patch <nl> @ @ - 661 , 39 + 661 , 28 @ @ <nl> public static void func _ 150900 _ l ( ) <nl> { <nl> func _ 179214 _ a ( Blocks . field _ 150350 _ a , new ItemAir ( Blocks . field _ 150350 _ a ) ) ; <nl> - @ @ - 972 , 6 + 1568 , 10 @ @ <nl> + @ @ - 971 , 6 + 1567 , 8 @ @ <nl> + private final float field _ 78010 _ h ; <nl> private final float field _ 78011 _ i ; <nl> private final int field _ 78008 _ j ; <nl> - <nl> + / / Added by forge for custom Tool materials . <nl> - + @ Nullable <nl> - + private ItemStack repairMaterial = null ; <nl> - + <nl> + + private ItemStack repairMaterial = ItemStack . field _ 190927 _ a ; <nl> + <nl> private ToolMaterial ( int p _ i1874 _ 3 _ , int p _ i1874 _ 4 _ , float p _ i1874 _ 5 _ , float p _ i1874 _ 6 _ , int p _ i1874 _ 7 _ ) <nl> { <nl> - this . field _ 78001 _ f = p _ i1874 _ 3 _ ; <nl> - @ @ - 1006 , 9 + 1606 , 34 @ @ <nl> + @ @ - 1006 , 9 + 1604 , 26 @ @ <nl> return this . field _ 78008 _ j ; <nl> } <nl> <nl> + @ Deprecated / / Use getRepairItemStack below <nl> public Item func _ 150995 _ f ( ) <nl> { <nl> - - return this = = WOOD ? Item . func _ 150898 _ a ( Blocks . field _ 150344 _ f ) : ( this = = STONE ? Item . func _ 150898 _ a ( Blocks . field _ 150347 _ e ) : ( this = = GOLD ? Items . field _ 151043 _ k : ( this = = IRON ? Items . field _ 151042 _ j : ( this = = DIAMOND ? Items . field _ 151045 _ i : null ) ) ) ) ; <nl> - + switch ( this ) <nl> - + { <nl> - + case WOOD : return Item . func _ 150898 _ a ( Blocks . field _ 150344 _ f ) ; <nl> - + case STONE : return Item . func _ 150898 _ a ( Blocks . field _ 150347 _ e ) ; <nl> - + case GOLD : return Items . field _ 151043 _ k ; <nl> - + case IRON : return Items . field _ 151042 _ j ; <nl> - + case DIAMOND : return Items . field _ 151045 _ i ; <nl> - + default : return Items . field _ 190931 _ a ; <nl> - + } <nl> + return this = = WOOD ? Item . func _ 150898 _ a ( Blocks . field _ 150344 _ f ) : ( this = = STONE ? Item . func _ 150898 _ a ( Blocks . field _ 150347 _ e ) : ( this = = GOLD ? Items . field _ 151043 _ k : ( this = = IRON ? Items . field _ 151042 _ j : ( this = = DIAMOND ? Items . field _ 151045 _ i : null ) ) ) ) ; <nl> } <nl> + <nl> + public ToolMaterial setRepairItem ( ItemStack stack ) <nl> + { <nl> - + if ( this . repairMaterial ! = null ) throw new RuntimeException ( " Repair material has already been set " ) ; <nl> + + if ( ! this . repairMaterial . func _ 190926 _ b ( ) ) throw new RuntimeException ( " Repair material has already been set " ) ; <nl> + if ( this = = WOOD | | this = = STONE | | this = = GOLD | | this = = IRON | | this = = DIAMOND ) throw new RuntimeException ( " Can not change vanilla tool repair materials " ) ; <nl> + this . repairMaterial = stack ; <nl> + return this ; <nl> @ @ - 701 , 9 + 690 , 9 @ @ <nl> + <nl> + public ItemStack getRepairItemStack ( ) <nl> + { <nl> - + if ( repairMaterial ! = null ) return repairMaterial ; <nl> + + if ( ! repairMaterial . func _ 190926 _ b ( ) ) return repairMaterial ; <nl> + Item ret = this . func _ 150995 _ f ( ) ; <nl> - + repairMaterial = new ItemStack ( ret , 1 , net . minecraftforge . oredict . OreDictionary . WILDCARD _ VALUE ) ; <nl> + + if ( ret ! = null ) repairMaterial = new ItemStack ( ret , 1 , net . minecraftforge . oredict . OreDictionary . WILDCARD _ VALUE ) ; <nl> + return repairMaterial ; <nl> + } <nl> } <nl> diff - - git a / patches / minecraft / net / minecraft / item / ItemArmor . java . patch b / patches / minecraft / net / minecraft / item / ItemArmor . java . patch <nl> index 1e9f5da . . 1046ea8 100644 <nl> - - - a / patches / minecraft / net / minecraft / item / ItemArmor . java . patch <nl> + + + b / patches / minecraft / net / minecraft / item / ItemArmor . java . patch <nl> @ @ - 1 , 6 + 1 , 17 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / item / ItemArmor . java <nl> + + + . . / src - work / minecraft / net / minecraft / item / ItemArmor . java <nl> - @ @ - 221 , 6 + 221 , 19 @ @ <nl> + @ @ - 187 , 7 + 187 , 9 @ @ <nl> + <nl> + public boolean func _ 82789 _ a ( ItemStack p _ 82789 _ 1 _ , ItemStack p _ 82789 _ 2 _ ) <nl> + { <nl> + - return this . field _ 77878 _ bZ . func _ 151685 _ b ( ) = = p _ 82789 _ 2 _ . func _ 77973 _ b ( ) ? true : super . func _ 82789 _ a ( p _ 82789 _ 1 _ , p _ 82789 _ 2 _ ) ; <nl> + + ItemStack mat = this . field _ 77878 _ bZ . getRepairItemStack ( ) ; <nl> + + if ( ! mat . func _ 190926 _ b ( ) & & net . minecraftforge . oredict . OreDictionary . itemMatches ( mat , p _ 82789 _ 2 _ , false ) ) return true ; <nl> + + return super . func _ 82789 _ a ( p _ 82789 _ 1 _ , p _ 82789 _ 2 _ ) ; <nl> + } <nl> + <nl> + public ActionResult < ItemStack > func _ 77659 _ a ( World p _ 77659 _ 1 _ , EntityPlayer p _ 77659 _ 2 _ , EnumHand p _ 77659 _ 3 _ ) <nl> + @ @ - 221 , 6 + 223 , 19 @ @ <nl> return multimap ; <nl> } <nl> <nl> @ @ - 20 , 29 + 31 , 42 @ @ <nl> public static enum ArmorMaterial <nl> { <nl> LEATHER ( " leather " , 5 , new int [ ] { 1 , 2 , 3 , 1 } , 15 , SoundEvents . field _ 187728 _ s , 0 . 0F ) , <nl> - @ @ - 235 , 6 + 248 , 8 @ @ <nl> + @ @ - 235 , 6 + 250 , 8 @ @ <nl> private final int field _ 78055 _ h ; <nl> private final SoundEvent field _ 185020 _ j ; <nl> private final float field _ 189417 _ k ; <nl> + / / Added by forge for custom Armor materials . <nl> - + public Item customCraftingMaterial = null ; <nl> + + public ItemStack repairMaterial = ItemStack . field _ 190927 _ a ; <nl> <nl> private ArmorMaterial ( String p _ i47117 _ 3 _ , int p _ i47117 _ 4 _ , int [ ] p _ i47117 _ 5 _ , int p _ i47117 _ 6 _ , SoundEvent p _ i47117 _ 7 _ , float p _ i47117 _ 8 _ ) <nl> { <nl> - @ @ - 268 , 7 + 283 , 15 @ @ <nl> + @ @ - 266 , 6 + 283 , 7 @ @ <nl> + return this . field _ 185020 _ j ; <nl> + } <nl> <nl> + + @ Deprecated / / Use getRepairItemStack below <nl> public Item func _ 151685 _ b ( ) <nl> { <nl> - - return this = = LEATHER ? Items . field _ 151116 _ aA : ( this = = CHAIN ? Items . field _ 151042 _ j : ( this = = GOLD ? Items . field _ 151043 _ k : ( this = = IRON ? Items . field _ 151042 _ j : ( this = = DIAMOND ? Items . field _ 151045 _ i : null ) ) ) ) ; <nl> - + switch ( this ) <nl> - + { <nl> - + case LEATHER : return Items . field _ 151116 _ aA ; <nl> - + case CHAIN : return Items . field _ 151042 _ j ; <nl> - + case GOLD : return Items . field _ 151043 _ k ; <nl> - + case IRON : return Items . field _ 151042 _ j ; <nl> - + case DIAMOND : return Items . field _ 151045 _ i ; <nl> - + default : return customCraftingMaterial ; <nl> - + } <nl> + return this = = LEATHER ? Items . field _ 151116 _ aA : ( this = = CHAIN ? Items . field _ 151042 _ j : ( this = = GOLD ? Items . field _ 151043 _ k : ( this = = IRON ? Items . field _ 151042 _ j : ( this = = DIAMOND ? Items . field _ 151045 _ i : null ) ) ) ) ; <nl> + @ @ - 281 , 5 + 299 , 21 @ @ <nl> + { <nl> + return this . field _ 189417 _ k ; <nl> } <nl> - <nl> - @ SideOnly ( Side . CLIENT ) <nl> + + <nl> + + public ArmorMaterial setRepairItem ( ItemStack stack ) <nl> + + { <nl> + + if ( ! this . repairMaterial . func _ 190926 _ b ( ) ) throw new RuntimeException ( " Repair material has already been set " ) ; <nl> + + if ( this = = LEATHER | | this = = CHAIN | | this = = GOLD | | this = = IRON | | this = = DIAMOND ) throw new RuntimeException ( " Can not change vanilla armor repair materials " ) ; <nl> + + this . repairMaterial = stack ; <nl> + + return this ; <nl> + + } <nl> + + <nl> + + public ItemStack getRepairItemStack ( ) <nl> + + { <nl> + + if ( ! repairMaterial . func _ 190926 _ b ( ) ) return repairMaterial ; <nl> + + Item ret = this . func _ 151685 _ b ( ) ; <nl> + + if ( ret ! = null ) repairMaterial = new ItemStack ( ret , 1 , net . minecraftforge . oredict . OreDictionary . WILDCARD _ VALUE ) ; <nl> + + return repairMaterial ; <nl> + + } <nl> + } <nl> + }
NEAREST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / item / Item . java . patch b / patches / minecraft / net / minecraft / item / Item . java . patch <nl> index 608b1c3 . . 9a7a128 100644 <nl> - - - a / patches / minecraft / net / minecraft / item / Item . java . patch <nl> + + + b / patches / minecraft / net / minecraft / item / Item . java . patch <nl> @ @ - 610 , 18 + 610 , 22 @ @ <nl> public static void func _ 150900 _ l ( ) <nl> { <nl> func _ 179214 _ a ( Blocks . field _ 150348 _ b , ( new ItemMultiTexture ( Blocks . field _ 150348 _ b , Blocks . field _ 150348 _ b , new Function ( ) <nl> - @ @ - 936 , 6 + 1495 , 9 @ @ <nl> + @ @ - 936 , 6 + 1495 , 10 @ @ <nl> <nl> private static final String _ _ OBFID = " CL _ 00000042 " ; <nl> <nl> + / / Added by forge for custom Tool materials . <nl> - + public Item customCraftingMaterial = null ; <nl> + + @ Deprecated public Item customCraftingMaterial = null ; / / Remote in 1 . 8 . 1 <nl> + + private ItemStack repairMaterial = null ; <nl> + <nl> private ToolMaterial ( int p _ i1874 _ 3 _ , int p _ i1874 _ 4 _ , float p _ i1874 _ 5 _ , float p _ i1874 _ 6 _ , int p _ i1874 _ 7 _ ) <nl> { <nl> this . field _ 78001 _ f = p _ i1874 _ 3 _ ; <nl> - @ @ - 972 , 7 + 1534 , 15 @ @ <nl> + @ @ - 970 , 9 + 1533 , 36 @ @ <nl> + return this . field _ 78008 _ j ; <nl> + } <nl> <nl> + + @ Deprecated / / Use getRepairItemStack below <nl> public Item func _ 150995 _ f ( ) <nl> { <nl> - return this = = WOOD ? Item . func _ 150898 _ a ( Blocks . field _ 150344 _ f ) : ( this = = STONE ? Item . func _ 150898 _ a ( Blocks . field _ 150347 _ e ) : ( this = = GOLD ? Items . field _ 151043 _ k : ( this = = IRON ? Items . field _ 151042 _ j : ( this = = EMERALD ? Items . field _ 151045 _ i : null ) ) ) ) ; <nl> @ @ - 635 , 5 + 639 , 23 @ @ <nl> + default : return customCraftingMaterial ; <nl> + } <nl> } <nl> + + <nl> + + public ToolMaterial setRepairItem ( ItemStack stack ) <nl> + + { <nl> + + if ( this . repairMaterial ! = null | | customCraftingMaterial ! = null ) throw new RuntimeException ( " Can not change already set repair material " ) ; <nl> + + if ( this = = WOOD | | this = = STONE | | this = = GOLD | | this = = IRON | | this = = EMERALD ) throw new RuntimeException ( " Can not change vanilla tool repair materials " ) ; <nl> + + this . repairMaterial = stack ; <nl> + + this . customCraftingMaterial = stack . func _ 77973 _ b ( ) ; <nl> + + return this ; <nl> + + } <nl> + + <nl> + + public ItemStack getRepairItemStack ( ) <nl> + + { <nl> + + if ( repairMaterial ! = null ) return repairMaterial ; <nl> + + Item ret = this . func _ 150995 _ f ( ) ; <nl> + + if ( ret = = null ) return null ; <nl> + + repairMaterial = new ItemStack ( ret , 1 , net . minecraftforge . oredict . OreDictionary . WILDCARD _ VALUE ) ; <nl> + + return repairMaterial ; <nl> + + } <nl> } <nl> } <nl> diff - - git a / patches / minecraft / net / minecraft / item / ItemSword . java . patch b / patches / minecraft / net / minecraft / item / ItemSword . java . patch <nl> new file mode 100644 <nl> index 0000000 . . b89d19f <nl> - - - / dev / null <nl> + + + b / patches / minecraft / net / minecraft / item / ItemSword . java . patch <nl> @ @ - 0 , 0 + 1 , 13 @ @ <nl> + - - - . . / src - base / minecraft / net / minecraft / item / ItemSword . java <nl> + + + + . . / src - work / minecraft / net / minecraft / item / ItemSword . java <nl> + @ @ - 102 , 7 + 102 , 9 @ @ <nl> + <nl> + public boolean func _ 82789 _ a ( ItemStack p _ 82789 _ 1 _ , ItemStack p _ 82789 _ 2 _ ) <nl> + { <nl> + - return this . field _ 150933 _ b . func _ 150995 _ f ( ) = = p _ 82789 _ 2 _ . func _ 77973 _ b ( ) ? true : super . func _ 82789 _ a ( p _ 82789 _ 1 _ , p _ 82789 _ 2 _ ) ; <nl> + + ItemStack mat = this . field _ 150933 _ b . getRepairItemStack ( ) ; <nl> + + if ( mat ! = null & & net . minecraftforge . oredict . OreDictionary . itemMatches ( mat , p _ 82789 _ 2 _ , false ) ) return true ; <nl> + + return super . func _ 82789 _ a ( p _ 82789 _ 1 _ , p _ 82789 _ 2 _ ) ; <nl> + } <nl> + <nl> + public Multimap func _ 111205 _ h ( ) <nl> diff - - git a / patches / minecraft / net / minecraft / item / ItemTool . java . patch b / patches / minecraft / net / minecraft / item / ItemTool . java . patch <nl> index 14126a8 . . 802da52 100644 <nl> - - - a / patches / minecraft / net / minecraft / item / ItemTool . java . patch <nl> + + + b / patches / minecraft / net / minecraft / item / ItemTool . java . patch <nl> @ @ - 19 , 7 + 19 , 18 @ @ <nl> } <nl> <nl> public float func _ 150893 _ a ( ItemStack p _ 150893 _ 1 _ , Block p _ 150893 _ 2 _ ) <nl> - @ @ - 84 , 4 + 96 , 38 @ @ <nl> + @ @ - 75 , 7 + 87 , 9 @ @ <nl> + <nl> + public boolean func _ 82789 _ a ( ItemStack p _ 82789 _ 1 _ , ItemStack p _ 82789 _ 2 _ ) <nl> + { <nl> + - return this . field _ 77862 _ b . func _ 150995 _ f ( ) = = p _ 82789 _ 2 _ . func _ 77973 _ b ( ) ? true : super . func _ 82789 _ a ( p _ 82789 _ 1 _ , p _ 82789 _ 2 _ ) ; <nl> + + ItemStack mat = this . field _ 77862 _ b . getRepairItemStack ( ) ; <nl> + + if ( mat ! = null & & net . minecraftforge . oredict . OreDictionary . itemMatches ( mat , p _ 82789 _ 2 _ , false ) ) return true ; <nl> + + return super . func _ 82789 _ a ( p _ 82789 _ 1 _ , p _ 82789 _ 2 _ ) ; <nl> + } <nl> + <nl> + public Multimap func _ 111205 _ h ( ) <nl> + @ @ - 84 , 4 + 98 , 38 @ @ <nl> multimap . put ( SharedMonsterAttributes . field _ 111264 _ e . func _ 111108 _ a ( ) , new AttributeModifier ( field _ 111210 _ e , " Tool modifier " , ( double ) this . field _ 77865 _ bY , 0 ) ) ; <nl> return multimap ; <nl> }

TEST DIFF:
diff - - git a / patches / minecraft / net / minecraft / item / Item . java . patch b / patches / minecraft / net / minecraft / item / Item . java . patch 
 index 5c91576 . . 3909962 100644 
 - - - a / patches / minecraft / net / minecraft / item / Item . java . patch 
 + + + b / patches / minecraft / net / minecraft / item / Item . java . patch 
 @ @ - 661 , 39 + 661 , 28 @ @ 
 public static void func _ 150900 _ l ( ) 
 { 
 func _ 179214 _ a ( Blocks . field _ 150350 _ a , new ItemAir ( Blocks . field _ 150350 _ a ) ) ; 
 - @ @ - 972 , 6 + 1568 , 10 @ @ 
 + @ @ - 971 , 6 + 1567 , 8 @ @ 
 + private final float field _ 78010 _ h ; 
 private final float field _ 78011 _ i ; 
 private final int field _ 78008 _ j ; 
 - 
 + / / Added by forge for custom Tool materials . 
 - + @ Nullable 
 - + private ItemStack repairMaterial = null ; 
 - + 
 + + private ItemStack repairMaterial = ItemStack . field _ 190927 _ a ; 
 + 
 private ToolMaterial ( int p _ i1874 _ 3 _ , int p _ i1874 _ 4 _ , float p _ i1874 _ 5 _ , float p _ i1874 _ 6 _ , int p _ i1874 _ 7 _ ) 
 { 
 - this . field _ 78001 _ f = p _ i1874 _ 3 _ ; 
 - @ @ - 1006 , 9 + 1606 , 34 @ @ 
 + @ @ - 1006 , 9 + 1604 , 26 @ @ 
 return this . field _ 78008 _ j ; 
 } 
 
 + @ Deprecated / / Use getRepairItemStack below 
 public Item func _ 150995 _ f ( ) 
 { 
 - - return this = = WOOD ? Item . func _ 150898 _ a ( Blocks . field _ 150344 _ f ) : ( this = = STONE ? Item . func _ 150898 _ a ( Blocks . field _ 150347 _ e ) : ( this = = GOLD ? Items . field _ 151043 _ k : ( this = = IRON ? Items . field _ 151042 _ j : ( this = = DIAMOND ? Items . field _ 151045 _ i : null ) ) ) ) ; 
 - + switch ( this ) 
 - + { 
 - + case WOOD : return Item . func _ 150898 _ a ( Blocks . field _ 150344 _ f ) ; 
 - + case STONE : return Item . func _ 150898 _ a ( Blocks . field _ 150347 _ e ) ; 
 - + case GOLD : return Items . field _ 151043 _ k ; 
 - + case IRON : return Items . field _ 151042 _ j ; 
 - + case DIAMOND : return Items . field _ 151045 _ i ; 
 - + default : return Items . field _ 190931 _ a ; 
 - + } 
 + return this = = WOOD ? Item . func _ 150898 _ a ( Blocks . field _ 150344 _ f ) : ( this = = STONE ? Item . func _ 150898 _ a ( Blocks . field _ 150347 _ e ) : ( this = = GOLD ? Items . field _ 151043 _ k : ( this = = IRON ? Items . field _ 151042 _ j : ( this = = DIAMOND ? Items . field _ 151045 _ i : null ) ) ) ) ; 
 } 
 + 
 + public ToolMaterial setRepairItem ( ItemStack stack ) 
 + { 
 - + if ( this . repairMaterial ! = null ) throw new RuntimeException ( " Repair material has already been set " ) ; 
 + + if ( ! this . repairMaterial . func _ 190926 _ b ( ) ) throw new RuntimeException ( " Repair material has already been set " ) ; 
 + if ( this = = WOOD | | this = = STONE | | this = = GOLD | | this = = IRON | | this = = DIAMOND ) throw new RuntimeException ( " Can not change vanilla tool repair materials " ) ; 
 + this . repairMaterial = stack ; 
 + return this ; 
 @ @ - 701 , 9 + 690 , 9 @ @ 
 + 
 + public ItemStack getRepairItemStack ( ) 
 + { 
 - + if ( repairMaterial ! = null ) return repairMaterial ; 
 + + if ( ! repairMaterial . func _ 190926 _ b ( ) ) return repairMaterial ; 
 + Item ret = this . func _ 150995 _ f ( ) ; 
 - + repairMaterial = new ItemStack ( ret , 1 , net . minecraftforge . oredict . OreDictionary . WILDCARD _ VALUE ) ; 
 + + if ( ret ! = null ) repairMaterial = new ItemStack ( ret , 1 , net . minecraftforge . oredict . OreDictionary . WILDCARD _ VALUE ) ; 
 + return repairMaterial ; 
 + } 
 } 
 diff - - git a / patches / minecraft / net / minecraft / item / ItemArmor . java . patch b / patches / minecraft / net / minecraft / item / ItemArmor . java . patch 
 index 1e9f5da . . 1046ea8 100644 
 - - - a / patches / minecraft / net / minecraft / item / ItemArmor . java . patch 
 + + + b / patches / minecraft / net / minecraft / item / ItemArmor . java . patch 
 @ @ - 1 , 6 + 1 , 17 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / item / ItemArmor . java 
 + + + . . / src - work / minecraft / net / minecraft / item / ItemArmor . java 
 - @ @ - 221 , 6 + 221 , 19 @ @ 
 + @ @ - 187 , 7 + 187 , 9 @ @ 
 + 
 + public boolean func _ 82789 _ a ( ItemStack p _ 82789 _ 1 _ , ItemStack p _ 82789 _ 2 _ ) 
 + { 
 + - return this . field _ 77878 _ bZ . func _ 151685 _ b ( ) = = p _ 82789 _ 2 _ . func _ 77973 _ b ( ) ? true : super . func _ 82789 _ a ( p _ 82789 _ 1 _ , p _ 82789 _ 2 _ ) ; 
 + + ItemStack mat = this . field _ 77878 _ bZ . getRepairItemStack ( ) ; 
 + + if ( ! mat . func _ 190926 _ b ( ) & & net . minecraftforge . oredict . OreDictionary . itemMatches ( mat , p _ 82789 _ 2 _ , false ) ) return true ; 
 + + return super . func _ 82789 _ a ( p _ 82789 _ 1 _ , p _ 82789 _ 2 _ ) ; 
 + } 
 + 
 + public ActionResult < ItemStack > func _ 77659 _ a ( World p _ 77659 _ 1 _ , EntityPlayer p _ 77659 _ 2 _ , EnumHand p _ 77659 _ 3 _ ) 
 + @ @ - 221 , 6 + 223 , 19 @ @ 
 return multimap ; 
 } 
 
 @ @ - 20 , 29 + 31 , 42 @ @ 
 public static enum ArmorMaterial 
 { 
 LEATHER ( " leather " , 5 , new int [ ] { 1 , 2 , 3 , 1 } , 15 , SoundEvents . field _ 187728 _ s , 0 . 0F ) , 
 - @ @ - 235 , 6 + 248 , 8 @ @ 
 + @ @ - 235 , 6 + 250 , 8 @ @ 
 private final int field _ 78055 _ h ; 
 private final SoundEvent field _ 185020 _ j ; 
 private final float field _ 189417 _ k ; 
 + / / Added by forge for custom Armor materials . 
 - + public Item customCraftingMaterial = null ; 
 + + public ItemStack repairMaterial = ItemStack . field _ 190927 _ a ; 
 
 private ArmorMaterial ( String p _ i47117 _ 3 _ , int p _ i47117 _ 4 _ , int [ ] p _ i47117 _ 5 _ , int p _ i47117 _ 6 _ , SoundEvent p _ i47117 _ 7 _ , float p _ i47117 _ 8 _ ) 
 { 
 - @ @ - 268 , 7 + 283 , 15 @ @ 
 + @ @ - 266 , 6 + 283 , 7 @ @ 
 + return this . field _ 185020 _ j ; 
 + } 
 
 + + @ Deprecated / / Use getRepairItemStack below 
 public Item func _ 151685 _ b ( ) 
 { 
 - - return this = = LEATHER ? Items . field _ 151116 _ aA : ( this = = CHAIN ? Items . field _ 151042 _ j : ( this = = GOLD ? Items . field _ 151043 _ k : ( this = = IRON ? Items . field _ 151042 _ j : ( this = = DIAMOND ? Items . field _ 151045 _ i : null ) ) ) ) ; 
 - + switch ( this ) 
 - + { 
 - + case LEATHER : return Items . field _ 151116 _ aA ; 
 - + case CHAIN : return Items . field _ 151042 _ j ; 
 - + case GOLD : return Items . field _ 151043 _ k ; 
 - + case IRON : return Items . field _ 151042 _ j ; 
 - + case DIAMOND : return Items . field _ 151045 _ i ; 
 - + default : return customCraftingMaterial ; 
 - + } 
 + return this = = LEATHER ? Items . field _ 151116 _ aA : ( this = = CHAIN ? Items . field _ 151042 _ j : ( this = = GOLD ? Items . field _ 151043 _ k : ( this = = IRON ? Items . field _ 151042 _ j : ( this = = DIAMOND ? Items . field _ 151045 _ i : null ) ) ) ) ; 
 + @ @ - 281 , 5 + 299 , 21 @ @ 
 + { 
 + return this . field _ 189417 _ k ; 
 } 
 - 
 - @ SideOnly ( Side . CLIENT ) 
 + + 
 + + public ArmorMaterial setRepairItem ( ItemStack stack ) 
 + + { 
 + + if ( ! this . repairMaterial . func _ 190926 _ b ( ) ) throw new RuntimeException ( " Repair material has already been set " ) ; 
 + + if ( this = = LEATHER | | this = = CHAIN | | this = = GOLD | | this = = IRON | | this = = DIAMOND ) throw new RuntimeException ( " Can not change vanilla armor repair materials " ) ; 
 + + this . repairMaterial = stack ; 
 + + return this ; 
 + + } 
 + + 
 + + public ItemStack getRepairItemStack ( ) 
 + + { 
 + + if ( ! repairMaterial . func _ 190926 _ b ( ) ) return repairMaterial ; 
 + + Item ret = this . func _ 151685 _ b ( ) ; 
 + + if ( ret ! = null ) repairMaterial = new ItemStack ( ret , 1 , net . minecraftforge . oredict . OreDictionary . WILDCARD _ VALUE ) ; 
 + + return repairMaterial ; 
 + + } 
 + } 
 + }

NEAREST DIFF:
diff - - git a / patches / minecraft / net / minecraft / item / Item . java . patch b / patches / minecraft / net / minecraft / item / Item . java . patch 
 index 608b1c3 . . 9a7a128 100644 
 - - - a / patches / minecraft / net / minecraft / item / Item . java . patch 
 + + + b / patches / minecraft / net / minecraft / item / Item . java . patch 
 @ @ - 610 , 18 + 610 , 22 @ @ 
 public static void func _ 150900 _ l ( ) 
 { 
 func _ 179214 _ a ( Blocks . field _ 150348 _ b , ( new ItemMultiTexture ( Blocks . field _ 150348 _ b , Blocks . field _ 150348 _ b , new Function ( ) 
 - @ @ - 936 , 6 + 1495 , 9 @ @ 
 + @ @ - 936 , 6 + 1495 , 10 @ @ 
 
 private static final String _ _ OBFID = " CL _ 00000042 " ; 
 
 + / / Added by forge for custom Tool materials . 
 - + public Item customCraftingMaterial = null ; 
 + + @ Deprecated public Item customCraftingMaterial = null ; / / Remote in 1 . 8 . 1 
 + + private ItemStack repairMaterial = null ; 
 + 
 private ToolMaterial ( int p _ i1874 _ 3 _ , int p _ i1874 _ 4 _ , float p _ i1874 _ 5 _ , float p _ i1874 _ 6 _ , int p _ i1874 _ 7 _ ) 
 { 
 this . field _ 78001 _ f = p _ i1874 _ 3 _ ; 
 - @ @ - 972 , 7 + 1534 , 15 @ @ 
 + @ @ - 970 , 9 + 1533 , 36 @ @ 
 + return this . field _ 78008 _ j ; 
 + } 
 
 + + @ Deprecated / / Use getRepairItemStack below 
 public Item func _ 150995 _ f ( ) 
 { 
 - return this = = WOOD ? Item . func _ 150898 _ a ( Blocks . field _ 150344 _ f ) : ( this = = STONE ? Item . func _ 150898 _ a ( Blocks . field _ 150347 _ e ) : ( this = = GOLD ? Items . field _ 151043 _ k : ( this = = IRON ? Items . field _ 151042 _ j : ( this = = EMERALD ? Items . field _ 151045 _ i : null ) ) ) ) ; 
 @ @ - 635 , 5 + 639 , 23 @ @ 
 + default : return customCraftingMaterial ; 
 + } 
 } 
 + + 
 + + public ToolMaterial setRepairItem ( ItemStack stack ) 
 + + { 
 + + if ( this . repairMaterial ! = null | | customCraftingMaterial ! = null ) throw new RuntimeException ( " Can not change already set repair material " ) ; 
 + + if ( this = = WOOD | | this = = STONE | | this = = GOLD | | this = = IRON | | this = = EMERALD ) throw new RuntimeException ( " Can not change vanilla tool repair materials " ) ; 
 + + this . repairMaterial = stack ; 
 + + this . customCraftingMaterial = stack . func _ 77973 _ b ( ) ; 
 + + return this ; 
 + + } 
 + + 
 + + public ItemStack getRepairItemStack ( ) 
 + + { 
 + + if ( repairMaterial ! = null ) return repairMaterial ; 
 + + Item ret = this . func _ 150995 _ f ( ) ; 
 + + if ( ret = = null ) return null ; 
 + + repairMaterial = new ItemStack ( ret , 1 , net . minecraftforge . oredict . OreDictionary . WILDCARD _ VALUE ) ; 
 + + return repairMaterial ; 
 + + } 
 } 
 } 
 diff - - git a / patches / minecraft / net / minecraft / item / ItemSword . java . patch b / patches / minecraft / net / minecraft / item / ItemSword . java . patch 
 new file mode 100644 
 index 0000000 . . b89d19f 
 - - - / dev / null 
 + + + b / patches / minecraft / net / minecraft / item / ItemSword . java . patch 
 @ @ - 0 , 0 + 1 , 13 @ @ 
 + - - - . . / src - base / minecraft / net / minecraft / item / ItemSword . java 
 + + + + . . / src - work / minecraft / net / minecraft / item / ItemSword . java 
 + @ @ - 102 , 7 + 102 , 9 @ @ 
 + 
 + public boolean func _ 82789 _ a ( ItemStack p _ 82789 _ 1 _ , ItemStack p _ 82789 _ 2 _ ) 
 + { 
 + - return this . field _ 150933 _ b . func _ 150995 _ f ( ) = = p _ 82789 _ 2 _ . func _ 77973 _ b ( ) ? true : super . func _ 82789 _ a ( p _ 82789 _ 1 _ , p _ 82789 _ 2 _ ) ; 
 + + ItemStack mat = this . field _ 150933 _ b . getRepairItemStack ( ) ; 
 + + if ( mat ! = null & & net . minecraftforge . oredict . OreDictionary . itemMatches ( mat , p _ 82789 _ 2 _ , false ) ) return true ; 
 + + return super . func _ 82789 _ a ( p _ 82789 _ 1 _ , p _ 82789 _ 2 _ ) ; 
 + } 
 + 
 + public Multimap func _ 111205 _ h ( ) 
 diff - - git a / patches / minecraft / net / minecraft / item / ItemTool . java . patch b / patches / minecraft / net / minecraft / item / ItemTool . java . patch 
 index 14126a8 . . 802da52 100644 
 - - - a / patches / minecraft / net / minecraft / item / ItemTool . java . patch 
 + + + b / patches / minecraft / net / minecraft / item / ItemTool . java . patch 
 @ @ - 19 , 7 + 19 , 18 @ @ 
 } 
 
 public float func _ 150893 _ a ( ItemStack p _ 150893 _ 1 _ , Block p _ 150893 _ 2 _ ) 
 - @ @ - 84 , 4 + 96 , 38 @ @ 
 + @ @ - 75 , 7 + 87 , 9 @ @ 
 + 
 + public boolean func _ 82789 _ a ( ItemStack p _ 82789 _ 1 _ , ItemStack p _ 82789 _ 2 _ ) 
 + { 
 + - return this . field _ 77862 _ b . func _ 150995 _ f ( ) = = p _ 82789 _ 2 _ . func _ 77973 _ b ( ) ? true : super . func _ 82789 _ a ( p _ 82789 _ 1 _ , p _ 82789 _ 2 _ ) ; 
 + + ItemStack mat = this . field _ 77862 _ b . getRepairItemStack ( ) ; 
 + + if ( mat ! = null & & net . minecraftforge . oredict . OreDictionary . itemMatches ( mat , p _ 82789 _ 2 _ , false ) ) return true ; 
 + + return super . func _ 82789 _ a ( p _ 82789 _ 1 _ , p _ 82789 _ 2 _ ) ; 
 + } 
 + 
 + public Multimap func _ 111205 _ h ( ) 
 + @ @ - 84 , 4 + 98 , 38 @ @ 
 multimap . put ( SharedMonsterAttributes . field _ 111264 _ e . func _ 111108 _ a ( ) , new AttributeModifier ( field _ 111210 _ e , " Tool modifier " , ( double ) this . field _ 77865 _ bY , 0 ) ) ; 
 return multimap ; 
 }
