BLEU SCORE: 0.05522397783539471

TEST MSG: Check use item result before calling onItemUseFirst .
GENERATED MSG: Fix Item . doesSneakBypassUse being applied incorrectly .

TEST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / server / management / PlayerInteractionManager . java . patch b / patches / minecraft / net / minecraft / server / management / PlayerInteractionManager . java . patch <nl> index 431d8bc . . c14361b 100644 <nl> - - - a / patches / minecraft / net / minecraft / server / management / PlayerInteractionManager . java . patch <nl> + + + b / patches / minecraft / net / minecraft / server / management / PlayerInteractionManager . java . patch <nl> @ @ - 212 , 7 + 212 , 7 @ @ <nl> p _ 187250 _ 1 _ . func _ 184611 _ a ( p _ 187250 _ 4 _ , ItemStack . field _ 190927 _ a ) ; <nl> } <nl> <nl> - @ @ - 402 , 13 + 428 , 24 @ @ <nl> + @ @ - 402 , 13 + 428 , 27 @ @ <nl> } <nl> else <nl> { <nl> @ @ - 222 , 16 + 222 , 19 @ @ <nl> + . onRightClickBlock ( p _ 187251 _ 1 _ , p _ 187251 _ 4 _ , p _ 187251 _ 5 _ , p _ 187251 _ 6 _ , net . minecraftforge . common . ForgeHooks . rayTraceEyeHitVec ( p _ 187251 _ 1 _ , reachDist + 1 ) ) ; <nl> + if ( event . isCanceled ( ) ) return event . getCancellationResult ( ) ; <nl> + <nl> - + EnumActionResult ret = p _ 187251 _ 3 _ . onItemUseFirst ( p _ 187251 _ 1 _ , p _ 187251 _ 2 _ , p _ 187251 _ 5 _ , p _ 187251 _ 4 _ , p _ 187251 _ 6 _ , p _ 187251 _ 7 _ , p _ 187251 _ 8 _ , p _ 187251 _ 9 _ ) ; <nl> - + if ( ret ! = EnumActionResult . PASS ) return ret ; <nl> - + <nl> - + boolean bypass = p _ 187251 _ 1 _ . func _ 184614 _ ca ( ) . doesSneakBypassUse ( p _ 187251 _ 2 _ , p _ 187251 _ 5 _ , p _ 187251 _ 1 _ ) & & p _ 187251 _ 1 _ . func _ 184592 _ cb ( ) . doesSneakBypassUse ( p _ 187251 _ 2 _ , p _ 187251 _ 5 _ , p _ 187251 _ 1 _ ) ; <nl> + EnumActionResult result = EnumActionResult . PASS ; <nl> + + if ( event . getUseItem ( ) ! = net . minecraftforge . fml . common . eventhandler . Event . Result . DENY ) <nl> + { <nl> + - IBlockState iblockstate = p _ 187251 _ 2 _ . func _ 180495 _ p ( p _ 187251 _ 5 _ ) ; <nl> + + result = p _ 187251 _ 3 _ . onItemUseFirst ( p _ 187251 _ 1 _ , p _ 187251 _ 2 _ , p _ 187251 _ 5 _ , p _ 187251 _ 4 _ , p _ 187251 _ 6 _ , p _ 187251 _ 7 _ , p _ 187251 _ 8 _ , p _ 187251 _ 9 _ ) ; <nl> + + if ( result ! = EnumActionResult . PASS ) return result ; <nl> + + } <nl> + <nl> + + boolean bypass = p _ 187251 _ 1 _ . func _ 184614 _ ca ( ) . doesSneakBypassUse ( p _ 187251 _ 2 _ , p _ 187251 _ 5 _ , p _ 187251 _ 1 _ ) & & p _ 187251 _ 1 _ . func _ 184592 _ cb ( ) . doesSneakBypassUse ( p _ 187251 _ 2 _ , p _ 187251 _ 5 _ , p _ 187251 _ 1 _ ) ; <nl> + <nl> + if ( ! p _ 187251 _ 1 _ . func _ 70093 _ af ( ) | | bypass | | event . getUseBlock ( ) = = net . minecraftforge . fml . common . eventhandler . Event . Result . ALLOW ) <nl> - { <nl> - IBlockState iblockstate = p _ 187251 _ 2 _ . func _ 180495 _ p ( p _ 187251 _ 5 _ ) ; <nl> - - <nl> + + { <nl> + + IBlockState iblockstate = p _ 187251 _ 2 _ . func _ 180495 _ p ( p _ 187251 _ 5 _ ) ; <nl> + if ( event . getUseBlock ( ) ! = net . minecraftforge . fml . common . eventhandler . Event . Result . DENY ) <nl> if ( iblockstate . func _ 177230 _ c ( ) . func _ 180639 _ a ( p _ 187251 _ 2 _ , p _ 187251 _ 5 _ , iblockstate , p _ 187251 _ 1 _ , p _ 187251 _ 4 _ , p _ 187251 _ 6 _ , p _ 187251 _ 7 _ , p _ 187251 _ 8 _ , p _ 187251 _ 9 _ ) ) <nl> { <nl> @ @ - 240 , 7 + 243 , 7 @ @ <nl> } <nl> } <nl> <nl> - @ @ - 436 , 14 + 473 , 22 @ @ <nl> + @ @ - 436 , 14 + 476 , 22 @ @ <nl> { <nl> int j = p _ 187251 _ 3 _ . func _ 77960 _ j ( ) ; <nl> int i = p _ 187251 _ 3 _ . func _ 190916 _ E ( ) ; <nl> @ @ - 264 , 7 + 267 , 7 @ @ <nl> } <nl> } <nl> } <nl> - @ @ - 453 , 4 + 498 , 16 @ @ <nl> + @ @ - 453 , 4 + 501 , 16 @ @ <nl> { <nl> this . field _ 73092 _ a = p _ 73080 _ 1 _ ; <nl> } <nl> diff - - git a / src / main / java / net / minecraftforge / event / entity / player / PlayerInteractEvent . java b / src / main / java / net / minecraftforge / event / entity / player / PlayerInteractEvent . java <nl> index f54eb59 . . 76c8f3a 100644 <nl> - - - a / src / main / java / net / minecraftforge / event / entity / player / PlayerInteractEvent . java <nl> + + + b / src / main / java / net / minecraftforge / event / entity / player / PlayerInteractEvent . java <nl> @ @ - 168 , 7 + 168 , 7 @ @ public class PlayerInteractEvent extends PlayerEvent <nl> } <nl> <nl> / * * <nl> - * @ return If { @ link net . minecraft . item . Item # onItemUse } should be called <nl> + * @ return If { @ link net . minecraft . item . Item # onItemUseFirst } and { @ link net . minecraft . item . Item # onItemUse } should be called <nl> * / <nl> public Result getUseItem ( ) <nl> {
NEAREST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch b / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch <nl> index 0ad4f44 . . e186be4 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch <nl> @ @ - 98 , 7 + 98 , 7 @ @ <nl> } <nl> <nl> return p _ 178893 _ 1 _ . equals ( this . field _ 178895 _ c ) & & flag ; <nl> - @ @ - 373 , 13 + 384 , 31 @ @ <nl> + @ @ - 373 , 13 + 384 , 29 @ @ <nl> } <nl> else <nl> { <nl> @ @ - 118 , 9 + 118 , 7 @ @ <nl> + if ( ret ! = EnumActionResult . PASS ) return ret ; <nl> + <nl> IBlockState iblockstate = p _ 187099 _ 2 _ . func _ 180495 _ p ( p _ 187099 _ 3 _ ) ; <nl> - + boolean bypass = true ; <nl> - + for ( ItemStack s : new ItemStack [ ] { p _ 187099 _ 1 _ . func _ 184614 _ ca ( ) , p _ 187099 _ 1 _ . func _ 184592 _ cb ( ) } ) / / TODO : Expand to more hands ? player . inv . getHands ( ) ? <nl> - + bypass = bypass & & ( s . func _ 190926 _ b ( ) | | s . func _ 77973 _ b ( ) . doesSneakBypassUse ( s , p _ 187099 _ 2 _ , p _ 187099 _ 3 _ , p _ 187099 _ 1 _ ) ) ; <nl> + + boolean bypass = itemstack . func _ 190926 _ b ( ) | | itemstack . func _ 77973 _ b ( ) . doesSneakBypassUse ( itemstack , p _ 187099 _ 2 _ , p _ 187099 _ 3 _ , p _ 187099 _ 1 _ ) ; <nl> <nl> - if ( ( ! p _ 187099 _ 1 _ . func _ 70093 _ af ( ) | | p _ 187099 _ 1 _ . func _ 184614 _ ca ( ) . func _ 190926 _ b ( ) & & p _ 187099 _ 1 _ . func _ 184592 _ cb ( ) . func _ 190926 _ b ( ) ) & & iblockstate . func _ 177230 _ c ( ) . func _ 180639 _ a ( p _ 187099 _ 2 _ , p _ 187099 _ 3 _ , iblockstate , p _ 187099 _ 1 _ , p _ 187099 _ 6 _ , p _ 187099 _ 4 _ , f , f1 , f2 ) ) <nl> + if ( ( ! p _ 187099 _ 1 _ . func _ 70093 _ af ( ) | | bypass | | event . getUseBlock ( ) = = net . minecraftforge . fml . common . eventhandler . Event . Result . ALLOW ) ) <nl> @ @ - 132 , 7 + 130 , 7 @ @ <nl> } <nl> <nl> if ( ! flag & & itemstack . func _ 77973 _ b ( ) instanceof ItemBlock ) <nl> - @ @ - 395 , 7 + 424 , 7 @ @ <nl> + @ @ - 395 , 7 + 422 , 7 @ @ <nl> <nl> this . field _ 78774 _ b . func _ 147297 _ a ( new CPacketPlayerTryUseItemOnBlock ( p _ 187099 _ 3 _ , p _ 187099 _ 4 _ , p _ 187099 _ 6 _ , f , f1 , f2 ) ) ; <nl> <nl> @ @ - 141 , 7 + 139 , 7 @ @ <nl> { <nl> if ( itemstack . func _ 190926 _ b ( ) ) <nl> { <nl> - @ @ - 421 , 14 + 450 , 20 @ @ <nl> + @ @ - 421 , 14 + 448 , 20 @ @ <nl> { <nl> int i = itemstack . func _ 77960 _ j ( ) ; <nl> int j = itemstack . func _ 190916 _ E ( ) ; <nl> @ @ - 163 , 7 + 161 , 7 @ @ <nl> } <nl> } <nl> } <nl> - @ @ - 457 , 6 + 492 , 7 @ @ <nl> + @ @ - 457 , 6 + 490 , 7 @ @ <nl> } <nl> else <nl> { <nl> @ @ - 171 , 7 + 169 , 7 @ @ <nl> int i = itemstack . func _ 190916 _ E ( ) ; <nl> ActionResult < ItemStack > actionresult = itemstack . func _ 77957 _ a ( p _ 187101 _ 2 _ , p _ 187101 _ 1 _ , p _ 187101 _ 3 _ ) ; <nl> ItemStack itemstack1 = ( ItemStack ) actionresult . func _ 188398 _ b ( ) ; <nl> - @ @ - 464 , 6 + 500 , 10 @ @ <nl> + @ @ - 464 , 6 + 498 , 10 @ @ <nl> if ( itemstack1 ! = itemstack | | itemstack1 . func _ 190916 _ E ( ) ! = i ) <nl> { <nl> p _ 187101 _ 1 _ . func _ 184611 _ a ( p _ 187101 _ 3 _ , itemstack1 ) ; <nl> @ @ - 182 , 7 + 180 , 7 @ @ <nl> } <nl> <nl> return actionresult . func _ 188397 _ a ( ) ; <nl> - @ @ - 500 , 6 + 540 , 7 @ @ <nl> + @ @ - 500 , 6 + 538 , 7 @ @ <nl> this . func _ 78750 _ j ( ) ; <nl> Vec3d vec3d = new Vec3d ( p _ 187102 _ 3 _ . field _ 72307 _ f . field _ 72450 _ a - p _ 187102 _ 2 _ . field _ 70165 _ t , p _ 187102 _ 3 _ . field _ 72307 _ f . field _ 72448 _ b - p _ 187102 _ 2 _ . field _ 70163 _ u , p _ 187102 _ 3 _ . field _ 72307 _ f . field _ 72449 _ c - p _ 187102 _ 2 _ . field _ 70161 _ v ) ; <nl> this . field _ 78774 _ b . func _ 147297 _ a ( new CPacketUseEntity ( p _ 187102 _ 2 _ , p _ 187102 _ 4 _ , vec3d ) ) ; <nl> diff - - git a / patches / minecraft / net / minecraft / server / management / PlayerInteractionManager . java . patch b / patches / minecraft / net / minecraft / server / management / PlayerInteractionManager . java . patch <nl> index 59a6572 . . d72c68a 100644 <nl> - - - a / patches / minecraft / net / minecraft / server / management / PlayerInteractionManager . java . patch <nl> + + + b / patches / minecraft / net / minecraft / server / management / PlayerInteractionManager . java . patch <nl> @ @ - 218 , 7 + 218 , 7 @ @ <nl> } <nl> <nl> if ( ! p _ 187250 _ 1 _ . func _ 184587 _ cr ( ) ) <nl> - @ @ - 404 , 13 + 429 , 25 @ @ <nl> + @ @ - 404 , 13 + 429 , 23 @ @ <nl> } <nl> else <nl> { <nl> @ @ - 230 , 9 + 230 , 7 @ @ <nl> + EnumActionResult ret = p _ 187251 _ 3 _ . onItemUseFirst ( p _ 187251 _ 1 _ , p _ 187251 _ 2 _ , p _ 187251 _ 5 _ , p _ 187251 _ 4 _ , p _ 187251 _ 6 _ , p _ 187251 _ 7 _ , p _ 187251 _ 8 _ , p _ 187251 _ 9 _ ) ; <nl> + if ( ret ! = EnumActionResult . PASS ) return ret ; <nl> + <nl> - + boolean bypass = true ; <nl> - + for ( ItemStack s : new ItemStack [ ] { p _ 187251 _ 1 _ . func _ 184614 _ ca ( ) , p _ 187251 _ 1 _ . func _ 184592 _ cb ( ) } ) / / TODO : Expand to more hands ? player . inv . getHands ( ) ? <nl> - + bypass = bypass & & ( s . func _ 190926 _ b ( ) | | s . func _ 77973 _ b ( ) . doesSneakBypassUse ( s , p _ 187251 _ 2 _ , p _ 187251 _ 5 _ , p _ 187251 _ 1 _ ) ) ; <nl> + + boolean bypass = p _ 187251 _ 3 _ . func _ 190926 _ b ( ) | | p _ 187251 _ 3 _ . func _ 77973 _ b ( ) . doesSneakBypassUse ( p _ 187251 _ 3 _ , p _ 187251 _ 2 _ , p _ 187251 _ 5 _ , p _ 187251 _ 1 _ ) ; <nl> + EnumActionResult result = EnumActionResult . PASS ; <nl> + <nl> + if ( ! p _ 187251 _ 1 _ . func _ 70093 _ af ( ) | | bypass | | event . getUseBlock ( ) = = net . minecraftforge . fml . common . eventhandler . Event . Result . ALLOW ) <nl> @ @ - 247 , 7 + 245 , 7 @ @ <nl> } <nl> } <nl> <nl> - @ @ - 438 , 14 + 475 , 20 @ @ <nl> + @ @ - 438 , 14 + 473 , 20 @ @ <nl> { <nl> int j = p _ 187251 _ 3 _ . func _ 77960 _ j ( ) ; <nl> int i = p _ 187251 _ 3 _ . func _ 190916 _ E ( ) ; <nl> @ @ - 268 , 7 + 266 , 7 @ @ <nl> } <nl> } <nl> } <nl> - @ @ - 455 , 4 + 498 , 13 @ @ <nl> + @ @ - 455 , 4 + 496 , 13 @ @ <nl> { <nl> this . field _ 73092 _ a = p _ 73080 _ 1 _ ; <nl> }

TEST DIFF:
diff - - git a / patches / minecraft / net / minecraft / server / management / PlayerInteractionManager . java . patch b / patches / minecraft / net / minecraft / server / management / PlayerInteractionManager . java . patch 
 index 431d8bc . . c14361b 100644 
 - - - a / patches / minecraft / net / minecraft / server / management / PlayerInteractionManager . java . patch 
 + + + b / patches / minecraft / net / minecraft / server / management / PlayerInteractionManager . java . patch 
 @ @ - 212 , 7 + 212 , 7 @ @ 
 p _ 187250 _ 1 _ . func _ 184611 _ a ( p _ 187250 _ 4 _ , ItemStack . field _ 190927 _ a ) ; 
 } 
 
 - @ @ - 402 , 13 + 428 , 24 @ @ 
 + @ @ - 402 , 13 + 428 , 27 @ @ 
 } 
 else 
 { 
 @ @ - 222 , 16 + 222 , 19 @ @ 
 + . onRightClickBlock ( p _ 187251 _ 1 _ , p _ 187251 _ 4 _ , p _ 187251 _ 5 _ , p _ 187251 _ 6 _ , net . minecraftforge . common . ForgeHooks . rayTraceEyeHitVec ( p _ 187251 _ 1 _ , reachDist + 1 ) ) ; 
 + if ( event . isCanceled ( ) ) return event . getCancellationResult ( ) ; 
 + 
 - + EnumActionResult ret = p _ 187251 _ 3 _ . onItemUseFirst ( p _ 187251 _ 1 _ , p _ 187251 _ 2 _ , p _ 187251 _ 5 _ , p _ 187251 _ 4 _ , p _ 187251 _ 6 _ , p _ 187251 _ 7 _ , p _ 187251 _ 8 _ , p _ 187251 _ 9 _ ) ; 
 - + if ( ret ! = EnumActionResult . PASS ) return ret ; 
 - + 
 - + boolean bypass = p _ 187251 _ 1 _ . func _ 184614 _ ca ( ) . doesSneakBypassUse ( p _ 187251 _ 2 _ , p _ 187251 _ 5 _ , p _ 187251 _ 1 _ ) & & p _ 187251 _ 1 _ . func _ 184592 _ cb ( ) . doesSneakBypassUse ( p _ 187251 _ 2 _ , p _ 187251 _ 5 _ , p _ 187251 _ 1 _ ) ; 
 + EnumActionResult result = EnumActionResult . PASS ; 
 + + if ( event . getUseItem ( ) ! = net . minecraftforge . fml . common . eventhandler . Event . Result . DENY ) 
 + { 
 + - IBlockState iblockstate = p _ 187251 _ 2 _ . func _ 180495 _ p ( p _ 187251 _ 5 _ ) ; 
 + + result = p _ 187251 _ 3 _ . onItemUseFirst ( p _ 187251 _ 1 _ , p _ 187251 _ 2 _ , p _ 187251 _ 5 _ , p _ 187251 _ 4 _ , p _ 187251 _ 6 _ , p _ 187251 _ 7 _ , p _ 187251 _ 8 _ , p _ 187251 _ 9 _ ) ; 
 + + if ( result ! = EnumActionResult . PASS ) return result ; 
 + + } 
 + 
 + + boolean bypass = p _ 187251 _ 1 _ . func _ 184614 _ ca ( ) . doesSneakBypassUse ( p _ 187251 _ 2 _ , p _ 187251 _ 5 _ , p _ 187251 _ 1 _ ) & & p _ 187251 _ 1 _ . func _ 184592 _ cb ( ) . doesSneakBypassUse ( p _ 187251 _ 2 _ , p _ 187251 _ 5 _ , p _ 187251 _ 1 _ ) ; 
 + 
 + if ( ! p _ 187251 _ 1 _ . func _ 70093 _ af ( ) | | bypass | | event . getUseBlock ( ) = = net . minecraftforge . fml . common . eventhandler . Event . Result . ALLOW ) 
 - { 
 - IBlockState iblockstate = p _ 187251 _ 2 _ . func _ 180495 _ p ( p _ 187251 _ 5 _ ) ; 
 - - 
 + + { 
 + + IBlockState iblockstate = p _ 187251 _ 2 _ . func _ 180495 _ p ( p _ 187251 _ 5 _ ) ; 
 + if ( event . getUseBlock ( ) ! = net . minecraftforge . fml . common . eventhandler . Event . Result . DENY ) 
 if ( iblockstate . func _ 177230 _ c ( ) . func _ 180639 _ a ( p _ 187251 _ 2 _ , p _ 187251 _ 5 _ , iblockstate , p _ 187251 _ 1 _ , p _ 187251 _ 4 _ , p _ 187251 _ 6 _ , p _ 187251 _ 7 _ , p _ 187251 _ 8 _ , p _ 187251 _ 9 _ ) ) 
 { 
 @ @ - 240 , 7 + 243 , 7 @ @ 
 } 
 } 
 
 - @ @ - 436 , 14 + 473 , 22 @ @ 
 + @ @ - 436 , 14 + 476 , 22 @ @ 
 { 
 int j = p _ 187251 _ 3 _ . func _ 77960 _ j ( ) ; 
 int i = p _ 187251 _ 3 _ . func _ 190916 _ E ( ) ; 
 @ @ - 264 , 7 + 267 , 7 @ @ 
 } 
 } 
 } 
 - @ @ - 453 , 4 + 498 , 16 @ @ 
 + @ @ - 453 , 4 + 501 , 16 @ @ 
 { 
 this . field _ 73092 _ a = p _ 73080 _ 1 _ ; 
 } 
 diff - - git a / src / main / java / net / minecraftforge / event / entity / player / PlayerInteractEvent . java b / src / main / java / net / minecraftforge / event / entity / player / PlayerInteractEvent . java 
 index f54eb59 . . 76c8f3a 100644 
 - - - a / src / main / java / net / minecraftforge / event / entity / player / PlayerInteractEvent . java 
 + + + b / src / main / java / net / minecraftforge / event / entity / player / PlayerInteractEvent . java 
 @ @ - 168 , 7 + 168 , 7 @ @ public class PlayerInteractEvent extends PlayerEvent 
 } 
 
 / * * 
 - * @ return If { @ link net . minecraft . item . Item # onItemUse } should be called 
 + * @ return If { @ link net . minecraft . item . Item # onItemUseFirst } and { @ link net . minecraft . item . Item # onItemUse } should be called 
 * / 
 public Result getUseItem ( ) 
 {

NEAREST DIFF:
diff - - git a / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch b / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch 
 index 0ad4f44 . . e186be4 100644 
 - - - a / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch 
 @ @ - 98 , 7 + 98 , 7 @ @ 
 } 
 
 return p _ 178893 _ 1 _ . equals ( this . field _ 178895 _ c ) & & flag ; 
 - @ @ - 373 , 13 + 384 , 31 @ @ 
 + @ @ - 373 , 13 + 384 , 29 @ @ 
 } 
 else 
 { 
 @ @ - 118 , 9 + 118 , 7 @ @ 
 + if ( ret ! = EnumActionResult . PASS ) return ret ; 
 + 
 IBlockState iblockstate = p _ 187099 _ 2 _ . func _ 180495 _ p ( p _ 187099 _ 3 _ ) ; 
 - + boolean bypass = true ; 
 - + for ( ItemStack s : new ItemStack [ ] { p _ 187099 _ 1 _ . func _ 184614 _ ca ( ) , p _ 187099 _ 1 _ . func _ 184592 _ cb ( ) } ) / / TODO : Expand to more hands ? player . inv . getHands ( ) ? 
 - + bypass = bypass & & ( s . func _ 190926 _ b ( ) | | s . func _ 77973 _ b ( ) . doesSneakBypassUse ( s , p _ 187099 _ 2 _ , p _ 187099 _ 3 _ , p _ 187099 _ 1 _ ) ) ; 
 + + boolean bypass = itemstack . func _ 190926 _ b ( ) | | itemstack . func _ 77973 _ b ( ) . doesSneakBypassUse ( itemstack , p _ 187099 _ 2 _ , p _ 187099 _ 3 _ , p _ 187099 _ 1 _ ) ; 
 
 - if ( ( ! p _ 187099 _ 1 _ . func _ 70093 _ af ( ) | | p _ 187099 _ 1 _ . func _ 184614 _ ca ( ) . func _ 190926 _ b ( ) & & p _ 187099 _ 1 _ . func _ 184592 _ cb ( ) . func _ 190926 _ b ( ) ) & & iblockstate . func _ 177230 _ c ( ) . func _ 180639 _ a ( p _ 187099 _ 2 _ , p _ 187099 _ 3 _ , iblockstate , p _ 187099 _ 1 _ , p _ 187099 _ 6 _ , p _ 187099 _ 4 _ , f , f1 , f2 ) ) 
 + if ( ( ! p _ 187099 _ 1 _ . func _ 70093 _ af ( ) | | bypass | | event . getUseBlock ( ) = = net . minecraftforge . fml . common . eventhandler . Event . Result . ALLOW ) ) 
 @ @ - 132 , 7 + 130 , 7 @ @ 
 } 
 
 if ( ! flag & & itemstack . func _ 77973 _ b ( ) instanceof ItemBlock ) 
 - @ @ - 395 , 7 + 424 , 7 @ @ 
 + @ @ - 395 , 7 + 422 , 7 @ @ 
 
 this . field _ 78774 _ b . func _ 147297 _ a ( new CPacketPlayerTryUseItemOnBlock ( p _ 187099 _ 3 _ , p _ 187099 _ 4 _ , p _ 187099 _ 6 _ , f , f1 , f2 ) ) ; 
 
 @ @ - 141 , 7 + 139 , 7 @ @ 
 { 
 if ( itemstack . func _ 190926 _ b ( ) ) 
 { 
 - @ @ - 421 , 14 + 450 , 20 @ @ 
 + @ @ - 421 , 14 + 448 , 20 @ @ 
 { 
 int i = itemstack . func _ 77960 _ j ( ) ; 
 int j = itemstack . func _ 190916 _ E ( ) ; 
 @ @ - 163 , 7 + 161 , 7 @ @ 
 } 
 } 
 } 
 - @ @ - 457 , 6 + 492 , 7 @ @ 
 + @ @ - 457 , 6 + 490 , 7 @ @ 
 } 
 else 
 { 
 @ @ - 171 , 7 + 169 , 7 @ @ 
 int i = itemstack . func _ 190916 _ E ( ) ; 
 ActionResult < ItemStack > actionresult = itemstack . func _ 77957 _ a ( p _ 187101 _ 2 _ , p _ 187101 _ 1 _ , p _ 187101 _ 3 _ ) ; 
 ItemStack itemstack1 = ( ItemStack ) actionresult . func _ 188398 _ b ( ) ; 
 - @ @ - 464 , 6 + 500 , 10 @ @ 
 + @ @ - 464 , 6 + 498 , 10 @ @ 
 if ( itemstack1 ! = itemstack | | itemstack1 . func _ 190916 _ E ( ) ! = i ) 
 { 
 p _ 187101 _ 1 _ . func _ 184611 _ a ( p _ 187101 _ 3 _ , itemstack1 ) ; 
 @ @ - 182 , 7 + 180 , 7 @ @ 
 } 
 
 return actionresult . func _ 188397 _ a ( ) ; 
 - @ @ - 500 , 6 + 540 , 7 @ @ 
 + @ @ - 500 , 6 + 538 , 7 @ @ 
 this . func _ 78750 _ j ( ) ; 
 Vec3d vec3d = new Vec3d ( p _ 187102 _ 3 _ . field _ 72307 _ f . field _ 72450 _ a - p _ 187102 _ 2 _ . field _ 70165 _ t , p _ 187102 _ 3 _ . field _ 72307 _ f . field _ 72448 _ b - p _ 187102 _ 2 _ . field _ 70163 _ u , p _ 187102 _ 3 _ . field _ 72307 _ f . field _ 72449 _ c - p _ 187102 _ 2 _ . field _ 70161 _ v ) ; 
 this . field _ 78774 _ b . func _ 147297 _ a ( new CPacketUseEntity ( p _ 187102 _ 2 _ , p _ 187102 _ 4 _ , vec3d ) ) ; 
 diff - - git a / patches / minecraft / net / minecraft / server / management / PlayerInteractionManager . java . patch b / patches / minecraft / net / minecraft / server / management / PlayerInteractionManager . java . patch 
 index 59a6572 . . d72c68a 100644 
 - - - a / patches / minecraft / net / minecraft / server / management / PlayerInteractionManager . java . patch 
 + + + b / patches / minecraft / net / minecraft / server / management / PlayerInteractionManager . java . patch 
 @ @ - 218 , 7 + 218 , 7 @ @ 
 } 
 
 if ( ! p _ 187250 _ 1 _ . func _ 184587 _ cr ( ) ) 
 - @ @ - 404 , 13 + 429 , 25 @ @ 
 + @ @ - 404 , 13 + 429 , 23 @ @ 
 } 
 else 
 { 
 @ @ - 230 , 9 + 230 , 7 @ @ 
 + EnumActionResult ret = p _ 187251 _ 3 _ . onItemUseFirst ( p _ 187251 _ 1 _ , p _ 187251 _ 2 _ , p _ 187251 _ 5 _ , p _ 187251 _ 4 _ , p _ 187251 _ 6 _ , p _ 187251 _ 7 _ , p _ 187251 _ 8 _ , p _ 187251 _ 9 _ ) ; 
 + if ( ret ! = EnumActionResult . PASS ) return ret ; 
 + 
 - + boolean bypass = true ; 
 - + for ( ItemStack s : new ItemStack [ ] { p _ 187251 _ 1 _ . func _ 184614 _ ca ( ) , p _ 187251 _ 1 _ . func _ 184592 _ cb ( ) } ) / / TODO : Expand to more hands ? player . inv . getHands ( ) ? 
 - + bypass = bypass & & ( s . func _ 190926 _ b ( ) | | s . func _ 77973 _ b ( ) . doesSneakBypassUse ( s , p _ 187251 _ 2 _ , p _ 187251 _ 5 _ , p _ 187251 _ 1 _ ) ) ; 
 + + boolean bypass = p _ 187251 _ 3 _ . func _ 190926 _ b ( ) | | p _ 187251 _ 3 _ . func _ 77973 _ b ( ) . doesSneakBypassUse ( p _ 187251 _ 3 _ , p _ 187251 _ 2 _ , p _ 187251 _ 5 _ , p _ 187251 _ 1 _ ) ; 
 + EnumActionResult result = EnumActionResult . PASS ; 
 + 
 + if ( ! p _ 187251 _ 1 _ . func _ 70093 _ af ( ) | | bypass | | event . getUseBlock ( ) = = net . minecraftforge . fml . common . eventhandler . Event . Result . ALLOW ) 
 @ @ - 247 , 7 + 245 , 7 @ @ 
 } 
 } 
 
 - @ @ - 438 , 14 + 475 , 20 @ @ 
 + @ @ - 438 , 14 + 473 , 20 @ @ 
 { 
 int j = p _ 187251 _ 3 _ . func _ 77960 _ j ( ) ; 
 int i = p _ 187251 _ 3 _ . func _ 190916 _ E ( ) ; 
 @ @ - 268 , 7 + 266 , 7 @ @ 
 } 
 } 
 } 
 - @ @ - 455 , 4 + 498 , 13 @ @ 
 + @ @ - 455 , 4 + 496 , 13 @ @ 
 { 
 this . field _ 73092 _ a = p _ 73080 _ 1 _ ; 
 }
