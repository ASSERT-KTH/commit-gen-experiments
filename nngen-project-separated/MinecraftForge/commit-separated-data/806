BLEU SCORE: 0.015330462064343475

TEST MSG: Potion cleanup . Moar fixes !
GENERATED MSG: Implement PlayerPickupXpEvent , fired when a player aquires XP from a EntityXPOrb . Closes # 942

TEST DIFF (one line): diff - - git a / patches . mcp / minecraft / net / minecraft / potion / PotionEffect . java . patch b / patches . mcp / minecraft / net / minecraft / potion / PotionEffect . java . patch <nl> index ce1861e . . dd9931e 100644 <nl> - - - a / patches . mcp / minecraft / net / minecraft / potion / PotionEffect . java . patch <nl> + + + b / patches . mcp / minecraft / net / minecraft / potion / PotionEffect . java . patch <nl> @ @ - 1 , 6 + 1 , 41 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / potion / PotionEffect . java <nl> + + + . . / src - work / minecraft / net / minecraft / potion / PotionEffect . java <nl> - @ @ - 240 , 4 + 240 , 53 @ @ <nl> + @ @ - 19 , 6 + 19 , 8 @ @ <nl> + @ SideOnly ( Side . CLIENT ) <nl> + private boolean isPotionDurationMax ; <nl> + private boolean field _ 188421 _ h ; <nl> + + / * * List of ItemStack that can cure the potion effect * * / <nl> + + private java . util . List < net . minecraft . item . ItemStack > curativeItems ; <nl> + <nl> + public PotionEffect ( Potion p _ i46811 _ 1 _ ) <nl> + { <nl> + @ @ - 42 , 6 + 44 , 8 @ @ <nl> + this . amplifier = p _ i46814 _ 3 _ ; <nl> + this . isAmbient = p _ i46814 _ 4 _ ; <nl> + this . field _ 188421 _ h = p _ i46814 _ 5 _ ; <nl> + + this . curativeItems = new java . util . ArrayList < net . minecraft . item . ItemStack > ( ) ; <nl> + + this . curativeItems . add ( new net . minecraft . item . ItemStack ( net . minecraft . init . Items . milk _ bucket ) ) ; <nl> + } <nl> + <nl> + public PotionEffect ( PotionEffect other ) <nl> + @ @ - 51 , 6 + 55 , 7 @ @ <nl> + this . amplifier = other . amplifier ; <nl> + this . isAmbient = other . isAmbient ; <nl> + this . field _ 188421 _ h = other . field _ 188421 _ h ; <nl> + + this . curativeItems = other . curativeItems ; <nl> + } <nl> + <nl> + public void combine ( PotionEffect other ) <nl> + @ @ - 200 , 7 + 205 , 7 @ @ <nl> + <nl> + public static PotionEffect readCustomPotionEffectFromNBT ( NBTTagCompound nbt ) <nl> + { <nl> + - int i = nbt . getByte ( " Id " ) ; <nl> + + int i = nbt . getByte ( " Id " ) & 0xFF ; <nl> + Potion potion = Potion . func _ 188412 _ a ( i ) ; <nl> + <nl> + if ( potion = = null ) <nl> + @ @ - 240 , 4 + 245 , 53 @ @ <nl> { <nl> return this . isPotionDurationMax ; <nl> } <nl> diff - - git a / rejects / minecraft / net / minecraft / potion / Potion . java . patch . rej b / rejects / minecraft / net / minecraft / potion / Potion . java . patch . rej <nl> deleted file mode 100644 <nl> index ccb6a70 . . 0000000 <nl> - - - a / rejects / minecraft / net / minecraft / potion / Potion . java . patch . rej <nl> + + + / dev / null <nl> @ @ - 1 , 46 + 0 , 0 @ @ <nl> - + + + + REJECTED PATCH 1 <nl> - <nl> - public class Potion <nl> - { <nl> - - public static final Potion [ ] potionTypes = new Potion [ 32 ] ; <nl> - + public static final Potion [ ] potionTypes = new Potion [ 256 ] ; <nl> - private static final Map < ResourceLocation , Potion > field _ 180150 _ I = Maps . < ResourceLocation , Potion > newHashMap ( ) ; <nl> - public static final Potion field _ 180151 _ b = null ; <nl> - public static final Potion moveSpeed = ( new Potion ( 1 , new ResourceLocation ( " speed " ) , false , 8171462 ) ) . setPotionName ( " potion . moveSpeed " ) . setIconIndex ( 0 , 0 ) . registerPotionAttributeModifier ( SharedMonsterAttributes . movementSpeed , " 91AEAA56 - 376B - 4498 - 935B - 2F7F68070635 " , 0 . 20000000298023224D , 2 ) ; <nl> - + + + + END PATCH <nl> - + + + + REJECTED PATCH 2 <nl> - private double effectiveness ; <nl> - private boolean usable ; <nl> - <nl> - + @ Deprecated / / use the Constructor without potion ID or everything will explode . <nl> - protected Potion ( int potionID , ResourceLocation location , boolean badEffect , int potionColor ) <nl> - { <nl> - - this . id = potionID ; <nl> - - potionTypes [ potionID ] = this ; <nl> - + net . minecraftforge . fml . common . registry . GameData . getPotionRegistry ( ) . register ( potionID , location , this ) ; <nl> - field _ 180150 _ I . put ( location , this ) ; <nl> - this . isBadEffect = badEffect ; <nl> - <nl> - + + + + END PATCH <nl> - + + + + REJECTED PATCH 3 <nl> - this . liquidColor = potionColor ; <nl> - } <nl> - <nl> - + protected Potion ( ResourceLocation location , boolean badEffect , int potionColor ) { <nl> - + this ( - 1 , location , badEffect , potionColor ) ; <nl> - + } <nl> - + <nl> - public static Potion getPotionFromResourceLocation ( String location ) <nl> - { <nl> - - return ( Potion ) field _ 180150 _ I . get ( new ResourceLocation ( location ) ) ; <nl> - + return net . minecraftforge . fml . common . registry . GameData . getPotionRegistry ( ) . getObject ( new ResourceLocation ( location ) ) ; <nl> - } <nl> - <nl> - public static Set < ResourceLocation > getPotionLocations ( ) <nl> - { <nl> - - return field _ 180150 _ I . keySet ( ) ; <nl> - + return net . minecraftforge . fml . common . registry . GameData . getPotionRegistry ( ) . getKeys ( ) ; <nl> - } <nl> - <nl> - protected Potion setIconIndex ( int p _ 76399 _ 1 _ , int p _ 76399 _ 2 _ ) <nl> - + + + + END PATCH <nl> diff - - git a / rejects / minecraft / net / minecraft / potion / PotionEffect . java . patch . rej b / rejects / minecraft / net / minecraft / potion / PotionEffect . java . patch . rej <nl> deleted file mode 100644 <nl> index cc68047 . . 0000000 <nl> - - - a / rejects / minecraft / net / minecraft / potion / PotionEffect . java . patch . rej <nl> + + + / dev / null <nl> @ @ - 1 , 39 + 0 , 0 @ @ <nl> - + + + + REJECTED PATCH 1 <nl> - @ SideOnly ( Side . CLIENT ) <nl> - private boolean isPotionDurationMax ; <nl> - private boolean showParticles ; <nl> - + / * * List of ItemStack that can cure the potion effect * * / <nl> - + private java . util . List < net . minecraft . item . ItemStack > curativeItems ; <nl> - <nl> - public PotionEffect ( int id , int effectDuration ) <nl> - { <nl> - + + + + END PATCH <nl> - + + + + REJECTED PATCH 2 <nl> - this . amplifier = effectAmplifier ; <nl> - this . isAmbient = ambient ; <nl> - this . showParticles = showParticles ; <nl> - + this . curativeItems = new java . util . ArrayList < net . minecraft . item . ItemStack > ( ) ; <nl> - + this . curativeItems . add ( new net . minecraft . item . ItemStack ( net . minecraft . init . Items . milk _ bucket ) ) ; <nl> - } <nl> - <nl> - public PotionEffect ( PotionEffect other ) <nl> - + + + + END PATCH <nl> - + + + + REJECTED PATCH 3 <nl> - this . amplifier = other . amplifier ; <nl> - this . isAmbient = other . isAmbient ; <nl> - this . showParticles = other . showParticles ; <nl> - + this . curativeItems = other . curativeItems ; <nl> - } <nl> - <nl> - public void combine ( PotionEffect other ) <nl> - + + + + END PATCH <nl> - + + + + REJECTED PATCH 4 <nl> - <nl> - public static PotionEffect readCustomPotionEffectFromNBT ( NBTTagCompound nbt ) <nl> - { <nl> - - int i = nbt . getByte ( " Id " ) ; <nl> - + int i = nbt . getByte ( " Id " ) & 0xff ; <nl> - <nl> - if ( i > = 0 & & i < Potion . potionTypes . length & & Potion . potionTypes [ i ] ! = null ) <nl> - { <nl> - + + + + END PATCH <nl> diff - - git a / src / main / resources / forge _ at . cfg b / src / main / resources / forge _ at . cfg <nl> index 29fab76 . . b0672ad 100644 <nl> - - - a / src / main / resources / forge _ at . cfg <nl> + + + b / src / main / resources / forge _ at . cfg <nl> @ @ - 32 , 6 + 32 , 8 @ @ public net . minecraft . item . Item func _ 77627 _ a ( Z ) Lnet . minecraft . item . Item ; # setHasS <nl> # public net . minecraft . client . entity . EntityPlayerSP func _ 71012 _ a ( Lnet / minecraft / entity / item / EntityItem ; ) V # joinEntityItemWithWorld <nl> public net . minecraft . entity . player . EntityPlayer func _ 71053 _ j ( ) V # closeScreen <nl> # public uf . b # FD : EntityPlayer / field _ 71076 _ b # sleepTimer <nl> + # EntityTrackerEntry <nl> + public net . minecraft . entity . EntityTrackerEntry field _ 73134 _ o # trackingPlayers <nl> # World Gen Chests Related <nl> public net . minecraft . util . WeightedRandomChestContent * <nl> # Save Location
NEAREST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / client / Minecraft . java . patch b / patches / minecraft / net / minecraft / client / Minecraft . java . patch <nl> index aba3139 . . b131501 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / Minecraft . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / Minecraft . java . patch <nl> @ @ - 72 , 7 + 72 , 7 @ @ <nl> if ( p _ 147108 _ 1 _ instanceof GuiMainMenu ) <nl> { <nl> this . gameSettings . showDebugInfo = false ; <nl> - @ @ - 1338 , 7 + 1352 , 7 @ @ <nl> + @ @ - 1337 , 7 + 1351 , 7 @ @ <nl> <nl> if ( this . thePlayer . isCurrentToolAdventureModeExempt ( i , j , k ) ) <nl> { <nl> @ @ - 81 , 7 + 81 , 7 @ @ <nl> this . thePlayer . swingItem ( ) ; <nl> } <nl> } <nl> - @ @ - 1419 , 11 + 1433 , 12 @ @ <nl> + @ @ - 1418 , 11 + 1432 , 12 @ @ <nl> int j = this . objectMouseOver . blockY ; <nl> int k = this . objectMouseOver . blockZ ; <nl> <nl> @ @ - 96 , 7 + 96 , 7 @ @ <nl> { <nl> flag = false ; <nl> this . thePlayer . swingItem ( ) ; <nl> - @ @ - 1450 , 7 + 1465 , 8 @ @ <nl> + @ @ - 1449 , 7 + 1464 , 8 @ @ <nl> { <nl> ItemStack itemstack1 = this . thePlayer . inventory . getCurrentItem ( ) ; <nl> <nl> @ @ - 106 , 7 + 106 , 7 @ @ <nl> { <nl> this . entityRenderer . itemRenderer . resetEquippedProgress2 ( ) ; <nl> } <nl> - @ @ - 1652 , 6 + 1668 , 8 @ @ <nl> + @ @ - 1651 , 6 + 1667 , 8 @ @ <nl> <nl> while ( Mouse . next ( ) ) <nl> { <nl> @ @ - 115 , 7 + 115 , 7 @ @ <nl> i = Mouse . getEventButton ( ) ; <nl> <nl> if ( isRunningOnMac & & i = = 0 & & ( Keyboard . isKeyDown ( 29 ) | | Keyboard . isKeyDown ( 157 ) ) ) <nl> - @ @ - 2122 , 6 + 2140 , 11 @ @ <nl> + @ @ - 2121 , 6 + 2139 , 11 @ @ <nl> / / JAVADOC METHOD $ $ func _ 71353 _ a <nl> public void loadWorld ( WorldClient par1WorldClient , String par2Str ) <nl> { <nl> @ @ - 127 , 7 + 127 , 7 @ @ <nl> if ( par1WorldClient = = null ) <nl> { <nl> NetHandlerPlayClient nethandlerplayclient = this . func _ 147114 _ u ( ) ; <nl> - @ @ - 2134 , 6 + 2157 , 18 @ @ <nl> + @ @ - 2133 , 6 + 2156 , 18 @ @ <nl> if ( this . theIntegratedServer ! = null ) <nl> { <nl> this . theIntegratedServer . initiateShutdown ( ) ; <nl> @ @ - 146 , 7 + 146 , 7 @ @ <nl> } <nl> <nl> this . theIntegratedServer = null ; <nl> - @ @ - 2289 , 113 + 2324 , 10 @ @ <nl> + @ @ - 2288 , 113 + 2323 , 10 @ @ <nl> if ( this . objectMouseOver ! = null ) <nl> { <nl> boolean flag = this . thePlayer . capabilities . isCreativeMode ; <nl> @ @ - 262 , 7 + 262 , 7 @ @ <nl> if ( flag ) <nl> { <nl> j = this . thePlayer . inventoryContainer . inventorySlots . size ( ) - 9 + this . thePlayer . inventory . currentItem ; <nl> - @ @ - 2565 , 9 + 2497 , 16 @ @ <nl> + @ @ - 2564 , 9 + 2496 , 16 @ @ <nl> par1PlayerUsageSnooper . addData ( " gl _ max _ texture _ size " , Integer . valueOf ( getGLMaximumTextureSize ( ) ) ) ; <nl> } <nl> <nl> @ @ - 279 , 7 + 279 , 7 @ @ <nl> for ( int i = 16384 ; i > 0 ; i > > = 1 ) <nl> { <nl> GL11 . glTexImage2D ( GL11 . GL _ PROXY _ TEXTURE _ 2D , 0 , GL11 . GL _ RGBA , i , i , 0 , GL11 . GL _ RGBA , GL11 . GL _ UNSIGNED _ BYTE , ( ByteBuffer ) null ) ; <nl> - @ @ - 2575 , 6 + 2514 , 7 @ @ <nl> + @ @ - 2574 , 6 + 2513 , 7 @ @ <nl> <nl> if ( j ! = 0 ) <nl> { <nl> diff - - git a / patches / minecraft / net / minecraft / entity / item / EntityXPOrb . java . patch b / patches / minecraft / net / minecraft / entity / item / EntityXPOrb . java . patch <nl> new file mode 100644 <nl> index 0000000 . . 07f1270 <nl> - - - / dev / null <nl> + + + b / patches / minecraft / net / minecraft / entity / item / EntityXPOrb . java . patch <nl> @ @ - 0 , 0 + 1 , 19 @ @ <nl> + - - - . . / src - base / minecraft / net / minecraft / entity / item / EntityXPOrb . java <nl> + + + + . . / src - work / minecraft / net / minecraft / entity / item / EntityXPOrb . java <nl> + @ @ - 9 , 6 + 9 , 8 @ @ <nl> + import net . minecraft . util . DamageSource ; <nl> + import net . minecraft . util . MathHelper ; <nl> + import net . minecraft . world . World ; <nl> + + import net . minecraftforge . common . MinecraftForge ; <nl> + + import net . minecraftforge . event . entity . player . PlayerPickupXpEvent ; <nl> + <nl> + public class EntityXPOrb extends Entity <nl> + { <nl> + @ @ - 218 , 6 + 220 , 7 @ @ <nl> + { <nl> + if ( this . field _ 70532 _ c = = 0 & & par1EntityPlayer . xpCooldown = = 0 ) <nl> + { <nl> + + if ( MinecraftForge . EVENT _ BUS . post ( new PlayerPickupXpEvent ( par1EntityPlayer , this ) ) ) return ; <nl> + par1EntityPlayer . xpCooldown = 2 ; <nl> + this . worldObj . playSoundAtEntity ( par1EntityPlayer , " random . orb " , 0 . 1F , 0 . 5F * ( ( this . rand . nextFloat ( ) - this . rand . nextFloat ( ) ) * 0 . 7F + 1 . 8F ) ) ; <nl> + par1EntityPlayer . onItemPickup ( this , 1 ) ; <nl> diff - - git a / src / main / java / net / minecraftforge / event / entity / player / PlayerPickupXpEvent . java b / src / main / java / net / minecraftforge / event / entity / player / PlayerPickupXpEvent . java <nl> new file mode 100644 <nl> index 0000000 . . 9b27a80 <nl> - - - / dev / null <nl> + + + b / src / main / java / net / minecraftforge / event / entity / player / PlayerPickupXpEvent . java <nl> @ @ - 0 , 0 + 1 , 21 @ @ <nl> + package net . minecraftforge . event . entity . player ; <nl> + <nl> + import cpw . mods . fml . common . eventhandler . Cancelable ; <nl> + import net . minecraft . entity . item . EntityXPOrb ; <nl> + import net . minecraft . entity . player . EntityPlayer ; <nl> + <nl> + / * * <nl> + * This event is called when a player collides with a EntityXPOrb on the ground . <nl> + * The event can be canceled , and no further processing will be done . <nl> + * / <nl> + @ Cancelable <nl> + public class PlayerPickupXpEvent extends PlayerEvent <nl> + { <nl> + public final EntityXPOrb orb ; <nl> + <nl> + public PlayerPickupXpEvent ( EntityPlayer player , EntityXPOrb orb ) <nl> + { <nl> + super ( player ) ; <nl> + this . orb = orb ; <nl> + } <nl> + } <nl> diff - - git a / src / main / resources / forge _ at . cfg b / src / main / resources / forge _ at . cfg <nl> index 988df1d . . 5a7f8cb 100644 <nl> - - - a / src / main / resources / forge _ at . cfg <nl> + + + b / src / main / resources / forge _ at . cfg <nl> @ @ - 169 , 4 + 169 , 6 @ @ public net . minecraft . util . DamageSource * ( ) # All methods public , most are already <nl> # ItemBlock <nl> public net . minecraft . item . ItemBlock field _ 150939 _ a # block <nl> # EntityAITasks <nl> - public net . minecraft . entity . ai . EntityAITasks field _ 75782 _ a # taskEntries <nl> \ No newline at end of file <nl> + public net . minecraft . entity . ai . EntityAITasks field _ 75782 _ a # taskEntries <nl> + # EntityXPOrb <nl> + public net . minecraft . entity . item . EntityXPOrb field _ 70530 _ e # xpValue <nl> \ No newline at end of file

TEST DIFF:
diff - - git a / patches . mcp / minecraft / net / minecraft / potion / PotionEffect . java . patch b / patches . mcp / minecraft / net / minecraft / potion / PotionEffect . java . patch 
 index ce1861e . . dd9931e 100644 
 - - - a / patches . mcp / minecraft / net / minecraft / potion / PotionEffect . java . patch 
 + + + b / patches . mcp / minecraft / net / minecraft / potion / PotionEffect . java . patch 
 @ @ - 1 , 6 + 1 , 41 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / potion / PotionEffect . java 
 + + + . . / src - work / minecraft / net / minecraft / potion / PotionEffect . java 
 - @ @ - 240 , 4 + 240 , 53 @ @ 
 + @ @ - 19 , 6 + 19 , 8 @ @ 
 + @ SideOnly ( Side . CLIENT ) 
 + private boolean isPotionDurationMax ; 
 + private boolean field _ 188421 _ h ; 
 + + / * * List of ItemStack that can cure the potion effect * * / 
 + + private java . util . List < net . minecraft . item . ItemStack > curativeItems ; 
 + 
 + public PotionEffect ( Potion p _ i46811 _ 1 _ ) 
 + { 
 + @ @ - 42 , 6 + 44 , 8 @ @ 
 + this . amplifier = p _ i46814 _ 3 _ ; 
 + this . isAmbient = p _ i46814 _ 4 _ ; 
 + this . field _ 188421 _ h = p _ i46814 _ 5 _ ; 
 + + this . curativeItems = new java . util . ArrayList < net . minecraft . item . ItemStack > ( ) ; 
 + + this . curativeItems . add ( new net . minecraft . item . ItemStack ( net . minecraft . init . Items . milk _ bucket ) ) ; 
 + } 
 + 
 + public PotionEffect ( PotionEffect other ) 
 + @ @ - 51 , 6 + 55 , 7 @ @ 
 + this . amplifier = other . amplifier ; 
 + this . isAmbient = other . isAmbient ; 
 + this . field _ 188421 _ h = other . field _ 188421 _ h ; 
 + + this . curativeItems = other . curativeItems ; 
 + } 
 + 
 + public void combine ( PotionEffect other ) 
 + @ @ - 200 , 7 + 205 , 7 @ @ 
 + 
 + public static PotionEffect readCustomPotionEffectFromNBT ( NBTTagCompound nbt ) 
 + { 
 + - int i = nbt . getByte ( " Id " ) ; 
 + + int i = nbt . getByte ( " Id " ) & 0xFF ; 
 + Potion potion = Potion . func _ 188412 _ a ( i ) ; 
 + 
 + if ( potion = = null ) 
 + @ @ - 240 , 4 + 245 , 53 @ @ 
 { 
 return this . isPotionDurationMax ; 
 } 
 diff - - git a / rejects / minecraft / net / minecraft / potion / Potion . java . patch . rej b / rejects / minecraft / net / minecraft / potion / Potion . java . patch . rej 
 deleted file mode 100644 
 index ccb6a70 . . 0000000 
 - - - a / rejects / minecraft / net / minecraft / potion / Potion . java . patch . rej 
 + + + / dev / null 
 @ @ - 1 , 46 + 0 , 0 @ @ 
 - + + + + REJECTED PATCH 1 
 - 
 - public class Potion 
 - { 
 - - public static final Potion [ ] potionTypes = new Potion [ 32 ] ; 
 - + public static final Potion [ ] potionTypes = new Potion [ 256 ] ; 
 - private static final Map < ResourceLocation , Potion > field _ 180150 _ I = Maps . < ResourceLocation , Potion > newHashMap ( ) ; 
 - public static final Potion field _ 180151 _ b = null ; 
 - public static final Potion moveSpeed = ( new Potion ( 1 , new ResourceLocation ( " speed " ) , false , 8171462 ) ) . setPotionName ( " potion . moveSpeed " ) . setIconIndex ( 0 , 0 ) . registerPotionAttributeModifier ( SharedMonsterAttributes . movementSpeed , " 91AEAA56 - 376B - 4498 - 935B - 2F7F68070635 " , 0 . 20000000298023224D , 2 ) ; 
 - + + + + END PATCH 
 - + + + + REJECTED PATCH 2 
 - private double effectiveness ; 
 - private boolean usable ; 
 - 
 - + @ Deprecated / / use the Constructor without potion ID or everything will explode . 
 - protected Potion ( int potionID , ResourceLocation location , boolean badEffect , int potionColor ) 
 - { 
 - - this . id = potionID ; 
 - - potionTypes [ potionID ] = this ; 
 - + net . minecraftforge . fml . common . registry . GameData . getPotionRegistry ( ) . register ( potionID , location , this ) ; 
 - field _ 180150 _ I . put ( location , this ) ; 
 - this . isBadEffect = badEffect ; 
 - 
 - + + + + END PATCH 
 - + + + + REJECTED PATCH 3 
 - this . liquidColor = potionColor ; 
 - } 
 - 
 - + protected Potion ( ResourceLocation location , boolean badEffect , int potionColor ) { 
 - + this ( - 1 , location , badEffect , potionColor ) ; 
 - + } 
 - + 
 - public static Potion getPotionFromResourceLocation ( String location ) 
 - { 
 - - return ( Potion ) field _ 180150 _ I . get ( new ResourceLocation ( location ) ) ; 
 - + return net . minecraftforge . fml . common . registry . GameData . getPotionRegistry ( ) . getObject ( new ResourceLocation ( location ) ) ; 
 - } 
 - 
 - public static Set < ResourceLocation > getPotionLocations ( ) 
 - { 
 - - return field _ 180150 _ I . keySet ( ) ; 
 - + return net . minecraftforge . fml . common . registry . GameData . getPotionRegistry ( ) . getKeys ( ) ; 
 - } 
 - 
 - protected Potion setIconIndex ( int p _ 76399 _ 1 _ , int p _ 76399 _ 2 _ ) 
 - + + + + END PATCH 
 diff - - git a / rejects / minecraft / net / minecraft / potion / PotionEffect . java . patch . rej b / rejects / minecraft / net / minecraft / potion / PotionEffect . java . patch . rej 
 deleted file mode 100644 
 index cc68047 . . 0000000 
 - - - a / rejects / minecraft / net / minecraft / potion / PotionEffect . java . patch . rej 
 + + + / dev / null 
 @ @ - 1 , 39 + 0 , 0 @ @ 
 - + + + + REJECTED PATCH 1 
 - @ SideOnly ( Side . CLIENT ) 
 - private boolean isPotionDurationMax ; 
 - private boolean showParticles ; 
 - + / * * List of ItemStack that can cure the potion effect * * / 
 - + private java . util . List < net . minecraft . item . ItemStack > curativeItems ; 
 - 
 - public PotionEffect ( int id , int effectDuration ) 
 - { 
 - + + + + END PATCH 
 - + + + + REJECTED PATCH 2 
 - this . amplifier = effectAmplifier ; 
 - this . isAmbient = ambient ; 
 - this . showParticles = showParticles ; 
 - + this . curativeItems = new java . util . ArrayList < net . minecraft . item . ItemStack > ( ) ; 
 - + this . curativeItems . add ( new net . minecraft . item . ItemStack ( net . minecraft . init . Items . milk _ bucket ) ) ; 
 - } 
 - 
 - public PotionEffect ( PotionEffect other ) 
 - + + + + END PATCH 
 - + + + + REJECTED PATCH 3 
 - this . amplifier = other . amplifier ; 
 - this . isAmbient = other . isAmbient ; 
 - this . showParticles = other . showParticles ; 
 - + this . curativeItems = other . curativeItems ; 
 - } 
 - 
 - public void combine ( PotionEffect other ) 
 - + + + + END PATCH 
 - + + + + REJECTED PATCH 4 
 - 
 - public static PotionEffect readCustomPotionEffectFromNBT ( NBTTagCompound nbt ) 
 - { 
 - - int i = nbt . getByte ( " Id " ) ; 
 - + int i = nbt . getByte ( " Id " ) & 0xff ; 
 - 
 - if ( i > = 0 & & i < Potion . potionTypes . length & & Potion . potionTypes [ i ] ! = null ) 
 - { 
 - + + + + END PATCH 
 diff - - git a / src / main / resources / forge _ at . cfg b / src / main / resources / forge _ at . cfg 
 index 29fab76 . . b0672ad 100644 
 - - - a / src / main / resources / forge _ at . cfg 
 + + + b / src / main / resources / forge _ at . cfg 
 @ @ - 32 , 6 + 32 , 8 @ @ public net . minecraft . item . Item func _ 77627 _ a ( Z ) Lnet . minecraft . item . Item ; # setHasS 
 # public net . minecraft . client . entity . EntityPlayerSP func _ 71012 _ a ( Lnet / minecraft / entity / item / EntityItem ; ) V # joinEntityItemWithWorld 
 public net . minecraft . entity . player . EntityPlayer func _ 71053 _ j ( ) V # closeScreen 
 # public uf . b # FD : EntityPlayer / field _ 71076 _ b # sleepTimer 
 + # EntityTrackerEntry 
 + public net . minecraft . entity . EntityTrackerEntry field _ 73134 _ o # trackingPlayers 
 # World Gen Chests Related 
 public net . minecraft . util . WeightedRandomChestContent * 
 # Save Location

NEAREST DIFF:
diff - - git a / patches / minecraft / net / minecraft / client / Minecraft . java . patch b / patches / minecraft / net / minecraft / client / Minecraft . java . patch 
 index aba3139 . . b131501 100644 
 - - - a / patches / minecraft / net / minecraft / client / Minecraft . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / Minecraft . java . patch 
 @ @ - 72 , 7 + 72 , 7 @ @ 
 if ( p _ 147108 _ 1 _ instanceof GuiMainMenu ) 
 { 
 this . gameSettings . showDebugInfo = false ; 
 - @ @ - 1338 , 7 + 1352 , 7 @ @ 
 + @ @ - 1337 , 7 + 1351 , 7 @ @ 
 
 if ( this . thePlayer . isCurrentToolAdventureModeExempt ( i , j , k ) ) 
 { 
 @ @ - 81 , 7 + 81 , 7 @ @ 
 this . thePlayer . swingItem ( ) ; 
 } 
 } 
 - @ @ - 1419 , 11 + 1433 , 12 @ @ 
 + @ @ - 1418 , 11 + 1432 , 12 @ @ 
 int j = this . objectMouseOver . blockY ; 
 int k = this . objectMouseOver . blockZ ; 
 
 @ @ - 96 , 7 + 96 , 7 @ @ 
 { 
 flag = false ; 
 this . thePlayer . swingItem ( ) ; 
 - @ @ - 1450 , 7 + 1465 , 8 @ @ 
 + @ @ - 1449 , 7 + 1464 , 8 @ @ 
 { 
 ItemStack itemstack1 = this . thePlayer . inventory . getCurrentItem ( ) ; 
 
 @ @ - 106 , 7 + 106 , 7 @ @ 
 { 
 this . entityRenderer . itemRenderer . resetEquippedProgress2 ( ) ; 
 } 
 - @ @ - 1652 , 6 + 1668 , 8 @ @ 
 + @ @ - 1651 , 6 + 1667 , 8 @ @ 
 
 while ( Mouse . next ( ) ) 
 { 
 @ @ - 115 , 7 + 115 , 7 @ @ 
 i = Mouse . getEventButton ( ) ; 
 
 if ( isRunningOnMac & & i = = 0 & & ( Keyboard . isKeyDown ( 29 ) | | Keyboard . isKeyDown ( 157 ) ) ) 
 - @ @ - 2122 , 6 + 2140 , 11 @ @ 
 + @ @ - 2121 , 6 + 2139 , 11 @ @ 
 / / JAVADOC METHOD $ $ func _ 71353 _ a 
 public void loadWorld ( WorldClient par1WorldClient , String par2Str ) 
 { 
 @ @ - 127 , 7 + 127 , 7 @ @ 
 if ( par1WorldClient = = null ) 
 { 
 NetHandlerPlayClient nethandlerplayclient = this . func _ 147114 _ u ( ) ; 
 - @ @ - 2134 , 6 + 2157 , 18 @ @ 
 + @ @ - 2133 , 6 + 2156 , 18 @ @ 
 if ( this . theIntegratedServer ! = null ) 
 { 
 this . theIntegratedServer . initiateShutdown ( ) ; 
 @ @ - 146 , 7 + 146 , 7 @ @ 
 } 
 
 this . theIntegratedServer = null ; 
 - @ @ - 2289 , 113 + 2324 , 10 @ @ 
 + @ @ - 2288 , 113 + 2323 , 10 @ @ 
 if ( this . objectMouseOver ! = null ) 
 { 
 boolean flag = this . thePlayer . capabilities . isCreativeMode ; 
 @ @ - 262 , 7 + 262 , 7 @ @ 
 if ( flag ) 
 { 
 j = this . thePlayer . inventoryContainer . inventorySlots . size ( ) - 9 + this . thePlayer . inventory . currentItem ; 
 - @ @ - 2565 , 9 + 2497 , 16 @ @ 
 + @ @ - 2564 , 9 + 2496 , 16 @ @ 
 par1PlayerUsageSnooper . addData ( " gl _ max _ texture _ size " , Integer . valueOf ( getGLMaximumTextureSize ( ) ) ) ; 
 } 
 
 @ @ - 279 , 7 + 279 , 7 @ @ 
 for ( int i = 16384 ; i > 0 ; i > > = 1 ) 
 { 
 GL11 . glTexImage2D ( GL11 . GL _ PROXY _ TEXTURE _ 2D , 0 , GL11 . GL _ RGBA , i , i , 0 , GL11 . GL _ RGBA , GL11 . GL _ UNSIGNED _ BYTE , ( ByteBuffer ) null ) ; 
 - @ @ - 2575 , 6 + 2514 , 7 @ @ 
 + @ @ - 2574 , 6 + 2513 , 7 @ @ 
 
 if ( j ! = 0 ) 
 { 
 diff - - git a / patches / minecraft / net / minecraft / entity / item / EntityXPOrb . java . patch b / patches / minecraft / net / minecraft / entity / item / EntityXPOrb . java . patch 
 new file mode 100644 
 index 0000000 . . 07f1270 
 - - - / dev / null 
 + + + b / patches / minecraft / net / minecraft / entity / item / EntityXPOrb . java . patch 
 @ @ - 0 , 0 + 1 , 19 @ @ 
 + - - - . . / src - base / minecraft / net / minecraft / entity / item / EntityXPOrb . java 
 + + + + . . / src - work / minecraft / net / minecraft / entity / item / EntityXPOrb . java 
 + @ @ - 9 , 6 + 9 , 8 @ @ 
 + import net . minecraft . util . DamageSource ; 
 + import net . minecraft . util . MathHelper ; 
 + import net . minecraft . world . World ; 
 + + import net . minecraftforge . common . MinecraftForge ; 
 + + import net . minecraftforge . event . entity . player . PlayerPickupXpEvent ; 
 + 
 + public class EntityXPOrb extends Entity 
 + { 
 + @ @ - 218 , 6 + 220 , 7 @ @ 
 + { 
 + if ( this . field _ 70532 _ c = = 0 & & par1EntityPlayer . xpCooldown = = 0 ) 
 + { 
 + + if ( MinecraftForge . EVENT _ BUS . post ( new PlayerPickupXpEvent ( par1EntityPlayer , this ) ) ) return ; 
 + par1EntityPlayer . xpCooldown = 2 ; 
 + this . worldObj . playSoundAtEntity ( par1EntityPlayer , " random . orb " , 0 . 1F , 0 . 5F * ( ( this . rand . nextFloat ( ) - this . rand . nextFloat ( ) ) * 0 . 7F + 1 . 8F ) ) ; 
 + par1EntityPlayer . onItemPickup ( this , 1 ) ; 
 diff - - git a / src / main / java / net / minecraftforge / event / entity / player / PlayerPickupXpEvent . java b / src / main / java / net / minecraftforge / event / entity / player / PlayerPickupXpEvent . java 
 new file mode 100644 
 index 0000000 . . 9b27a80 
 - - - / dev / null 
 + + + b / src / main / java / net / minecraftforge / event / entity / player / PlayerPickupXpEvent . java 
 @ @ - 0 , 0 + 1 , 21 @ @ 
 + package net . minecraftforge . event . entity . player ; 
 + 
 + import cpw . mods . fml . common . eventhandler . Cancelable ; 
 + import net . minecraft . entity . item . EntityXPOrb ; 
 + import net . minecraft . entity . player . EntityPlayer ; 
 + 
 + / * * 
 + * This event is called when a player collides with a EntityXPOrb on the ground . 
 + * The event can be canceled , and no further processing will be done . 
 + * / 
 + @ Cancelable 
 + public class PlayerPickupXpEvent extends PlayerEvent 
 + { 
 + public final EntityXPOrb orb ; 
 + 
 + public PlayerPickupXpEvent ( EntityPlayer player , EntityXPOrb orb ) 
 + { 
 + super ( player ) ; 
 + this . orb = orb ; 
 + } 
 + } 
 diff - - git a / src / main / resources / forge _ at . cfg b / src / main / resources / forge _ at . cfg 
 index 988df1d . . 5a7f8cb 100644 
 - - - a / src / main / resources / forge _ at . cfg 
 + + + b / src / main / resources / forge _ at . cfg 
 @ @ - 169 , 4 + 169 , 6 @ @ public net . minecraft . util . DamageSource * ( ) # All methods public , most are already 
 # ItemBlock 
 public net . minecraft . item . ItemBlock field _ 150939 _ a # block 
 # EntityAITasks 
 - public net . minecraft . entity . ai . EntityAITasks field _ 75782 _ a # taskEntries 
 \ No newline at end of file 
 + public net . minecraft . entity . ai . EntityAITasks field _ 75782 _ a # taskEntries 
 + # EntityXPOrb 
 + public net . minecraft . entity . item . EntityXPOrb field _ 70530 _ e # xpValue 
 \ No newline at end of file
