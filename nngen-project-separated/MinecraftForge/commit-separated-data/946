BLEU SCORE: 0.009080424707719657

TEST MSG: RenderEntityItem , RenderPlayer , RendererLivingEntity , LayerArmorBase , ItemStack rejects fixed ; changed Armor Layer hook to catch LayerBipedArmor only .
GENERATED MSG: Updated FML :

TEST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / client / renderer / entity / RenderEntityItem . java . patch b / patches / minecraft / net / minecraft / client / renderer / entity / RenderEntityItem . java . patch <nl> index fbe2553 . . 3e67a92 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / renderer / entity / RenderEntityItem . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / renderer / entity / RenderEntityItem . java . patch <nl> @ @ - 1 , 5 + 1 , 14 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / client / renderer / entity / RenderEntityItem . java <nl> + + + . . / src - work / minecraft / net / minecraft / client / renderer / entity / RenderEntityItem . java <nl> + @ @ - 42 , 7 + 42 , 7 @ @ <nl> + boolean flag = p _ 177077 _ 9 _ . isGui3d ( ) ; <nl> + int i = this . func _ 177078 _ a ( itemstack ) ; <nl> + float f = 0 . 25F ; <nl> + - float f1 = MathHelper . sin ( ( ( float ) p _ 177077 _ 1 _ . getAge ( ) + p _ 177077 _ 8 _ ) / 10 . 0F + p _ 177077 _ 1 _ . hoverStart ) * 0 . 1F + 0 . 1F ; <nl> + + float f1 = shouldBob ( ) ? MathHelper . sin ( ( ( float ) p _ 177077 _ 1 _ . getAge ( ) + p _ 177077 _ 8 _ ) / 10 . 0F + p _ 177077 _ 1 _ . hoverStart ) * 0 . 1F + 0 . 1F : 0 ; <nl> + float f2 = p _ 177077 _ 9 _ . getItemCameraTransforms ( ) . func _ 181688 _ b ( ItemCameraTransforms . TransformType . GROUND ) . scale . y ; <nl> + GlStateManager . translate ( ( float ) p _ 177077 _ 2 _ , ( float ) p _ 177077 _ 4 _ + f1 + 0 . 25F * f2 , ( float ) p _ 177077 _ 6 _ ) ; <nl> + <nl> @ @ - 158 , 4 + 158 , 25 @ @ <nl> { <nl> return TextureMap . locationBlocksTexture ; <nl> diff - - git a / patches / minecraft / net / minecraft / client / renderer / entity / RenderPlayer . java . patch b / patches / minecraft / net / minecraft / client / renderer / entity / RenderPlayer . java . patch <nl> index bc5b356 . . d00961b 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / renderer / entity / RenderPlayer . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / renderer / entity / RenderPlayer . java . patch <nl> @ @ - 1 , 10 + 1 , 18 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / client / renderer / entity / RenderPlayer . java <nl> + + + . . / src - work / minecraft / net / minecraft / client / renderer / entity / RenderPlayer . java <nl> - @ @ - 62 , 6 + 62 , 7 @ @ <nl> + @ @ - 50 , 6 + 50 , 7 @ @ <nl> + <nl> + public void doRender ( AbstractClientPlayer entity , double x , double y , double z , float p _ 76986 _ 8 _ , float partialTicks ) <nl> + { <nl> + + if ( net . minecraftforge . common . MinecraftForge . EVENT _ BUS . post ( new net . minecraftforge . client . event . RenderPlayerEvent . Pre ( entity , this , partialTicks , x , y , z ) ) ) return ; <nl> + if ( ! entity . isUser ( ) | | this . renderManager . livingPlayer = = entity ) <nl> + { <nl> + double d0 = y ; <nl> + @ @ - 62 , 6 + 63 , 7 @ @ <nl> this . func _ 177137 _ d ( entity ) ; <nl> super . doRender ( entity , x , d0 , z , p _ 76986 _ 8 _ , partialTicks ) ; <nl> } <nl> - + net . minecraftforge . common . MinecraftForge . EVENT _ BUS . post ( new net . minecraftforge . client . event . RenderPlayerEvent . Post ( p _ 180596 _ 1 _ , this , p _ 180596 _ 9 _ , p _ 180596 _ 2 _ , p _ 180596 _ 4 _ , p _ 180596 _ 6 _ ) ) ; <nl> + + net . minecraftforge . common . MinecraftForge . EVENT _ BUS . post ( new net . minecraftforge . client . event . RenderPlayerEvent . Post ( entity , this , partialTicks , x , y , z ) ) ; <nl> } <nl> <nl> private void func _ 177137 _ d ( AbstractClientPlayer p _ 177137 _ 1 _ ) <nl> diff - - git a / patches / minecraft / net / minecraft / client / renderer / entity / RendererLivingEntity . java . patch b / patches / minecraft / net / minecraft / client / renderer / entity / RendererLivingEntity . java . patch <nl> index 8548073 . . e18e068 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / renderer / entity / RendererLivingEntity . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / renderer / entity / RendererLivingEntity . java . patch <nl> @ @ - 26 , 11 + 26 , 24 @ @ <nl> } <nl> <nl> protected boolean func _ 177088 _ c ( T p _ 177088 _ 1 _ ) <nl> - @ @ - 519 , 6 + 524 , 7 @ @ <nl> + @ @ - 470 , 10 + 475 , 11 @ @ <nl> + <nl> + public void renderName ( T entity , double x , double y , double z ) <nl> + { <nl> + + if ( net . minecraftforge . common . MinecraftForge . EVENT _ BUS . post ( new net . minecraftforge . client . event . RenderLivingEvent . Specials . Pre ( entity , this , x , y , z ) ) ) return ; <nl> + if ( this . canRenderName ( entity ) ) <nl> + { <nl> + double d0 = entity . getDistanceSqToEntity ( this . renderManager . livingPlayer ) ; <nl> + - float f = entity . isSneaking ( ) ? 32 . 0F : 64 . 0F ; <nl> + + float f = entity . isSneaking ( ) ? NAME _ TAG _ RANGE _ SNEAK : NAME _ TAG _ RANGE ; <nl> + <nl> + if ( d0 < ( double ) ( f * f ) ) <nl> + { <nl> + @ @ - 519 , 6 + 525 , 7 @ @ <nl> } <nl> } <nl> } <nl> - + net . minecraftforge . common . MinecraftForge . EVENT _ BUS . post ( new net . minecraftforge . client . event . RenderLivingEvent . Specials . Post ( p _ 77033 _ 1 _ , this , p _ 77033 _ 2 _ , p _ 77033 _ 4 _ , p _ 77033 _ 6 _ ) ) ; <nl> + + net . minecraftforge . common . MinecraftForge . EVENT _ BUS . post ( new net . minecraftforge . client . event . RenderLivingEvent . Specials . Post ( entity , this , x , y , z ) ) ; <nl> } <nl> <nl> protected boolean canRenderName ( T entity ) <nl> diff - - git a / patches / minecraft / net / minecraft / client / renderer / entity / layers / LayerArmorBase . java . patch b / patches / minecraft / net / minecraft / client / renderer / entity / layers / LayerArmorBase . java . patch <nl> index 117c5c7 . . 49f5846 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / renderer / entity / layers / LayerArmorBase . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / renderer / entity / layers / LayerArmorBase . java . patch <nl> @ @ - 1 , 5 + 1 , 44 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / client / renderer / entity / layers / LayerArmorBase . java <nl> + + + . . / src - work / minecraft / net / minecraft / client / renderer / entity / layers / LayerArmorBase . java <nl> + @ @ - 56 , 28 + 56 , 28 @ @ <nl> + T t = this . func _ 177175 _ a ( p _ 177182 _ 9 _ ) ; <nl> + t . setModelAttributes ( this . field _ 177190 _ a . getMainModel ( ) ) ; <nl> + t . setLivingAnimations ( p _ 177182 _ 1 _ , p _ 177182 _ 2 _ , p _ 177182 _ 3 _ , p _ 177182 _ 4 _ ) ; <nl> + + t = getArmorModelHook ( p _ 177182 _ 1 _ , itemstack , p _ 177182 _ 9 _ , t ) ; <nl> + this . func _ 177179 _ a ( t , p _ 177182 _ 9 _ ) ; <nl> + boolean flag = this . func _ 177180 _ b ( p _ 177182 _ 9 _ ) ; <nl> + this . field _ 177190 _ a . bindTexture ( this . getArmorResource ( itemarmor , flag ) ) ; <nl> + <nl> + - switch ( itemarmor . getArmorMaterial ( ) ) <nl> + - { <nl> + - case LEATHER : <nl> + int i = itemarmor . getColor ( itemstack ) ; <nl> + + { <nl> + + if ( i ! = - 1 ) / / Allow this for anything , not only cloth . <nl> + + { <nl> + float f = ( float ) ( i > > 16 & 255 ) / 255 . 0F ; <nl> + float f1 = ( float ) ( i > > 8 & 255 ) / 255 . 0F ; <nl> + float f2 = ( float ) ( i & 255 ) / 255 . 0F ; <nl> + GlStateManager . color ( this . field _ 177184 _ f * f , this . field _ 177185 _ g * f1 , this . field _ 177192 _ h * f2 , this . field _ 177187 _ e ) ; <nl> + t . render ( p _ 177182 _ 1 _ , p _ 177182 _ 2 _ , p _ 177182 _ 3 _ , p _ 177182 _ 5 _ , p _ 177182 _ 6 _ , p _ 177182 _ 7 _ , p _ 177182 _ 8 _ ) ; <nl> + - this . field _ 177190 _ a . bindTexture ( this . getArmorResource ( itemarmor , flag , " overlay " ) ) ; <nl> + - case CHAIN : <nl> + - case IRON : <nl> + - case GOLD : <nl> + - case DIAMOND : <nl> + + this . field _ 177190 _ a . bindTexture ( this . getArmorResource ( p _ 177182 _ 1 _ , itemstack , flag ? 2 : 1 , " overlay " ) ) ; <nl> + + } <nl> + + else / / Non - colored <nl> + + { <nl> + GlStateManager . color ( this . field _ 177184 _ f , this . field _ 177185 _ g , this . field _ 177192 _ h , this . field _ 177187 _ e ) ; <nl> + t . render ( p _ 177182 _ 1 _ , p _ 177182 _ 2 _ , p _ 177182 _ 3 _ , p _ 177182 _ 5 _ , p _ 177182 _ 6 _ , p _ 177182 _ 7 _ , p _ 177182 _ 8 _ ) ; <nl> + - default : <nl> + - <nl> + + } <nl> + + / / Default <nl> + if ( ! this . field _ 177193 _ i & & itemstack . isItemEnchanted ( ) ) <nl> + { <nl> + this . func _ 177183 _ a ( p _ 177182 _ 1 _ , t , p _ 177182 _ 2 _ , p _ 177182 _ 3 _ , p _ 177182 _ 4 _ , p _ 177182 _ 5 _ , p _ 177182 _ 6 _ , p _ 177182 _ 7 _ , p _ 177182 _ 8 _ ) ; <nl> @ @ - 136 , 11 + 136 , 13 @ @ <nl> GlStateManager . disableBlend ( ) ; <nl> } <nl> @ @ - 14 , 3 + 53 , 53 @ @ <nl> private ResourceLocation getArmorResource ( ItemArmor p _ 177178 _ 1 _ , boolean p _ 177178 _ 2 _ , String p _ 177178 _ 3 _ ) <nl> { <nl> String s = String . format ( " textures / models / armor / % s _ layer _ % d % s . png " , new Object [ ] { p _ 177178 _ 1 _ . getArmorMaterial ( ) . getName ( ) , Integer . valueOf ( p _ 177178 _ 2 _ ? 2 : 1 ) , p _ 177178 _ 3 _ = = null ? " " : String . format ( " _ % s " , new Object [ ] { p _ 177178 _ 3 _ } ) } ) ; <nl> + @ @ - 158 , 4 + 160 , 49 @ @ <nl> + protected abstract void func _ 177177 _ a ( ) ; <nl> + <nl> + protected abstract void func _ 177179 _ a ( T p _ 177179 _ 1 _ , int p _ 177179 _ 2 _ ) ; <nl> + + <nl> + + / * = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = FORGE START = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = * / <nl> + + <nl> + + / * * <nl> + + * Hook to allow item - sensitive armor model . for LayerBipedArmor . <nl> + + * / <nl> + + protected T getArmorModelHook ( EntityLivingBase entity , ItemStack itemStack , int slot , T model ) <nl> + + { <nl> + + return model ; <nl> + + } <nl> + + <nl> + + / * * <nl> + + * More generic ForgeHook version of the above function , it allows for Items to have more control over what texture they provide . <nl> + + * <nl> + + * @ param entity Entity wearing the armor <nl> + + * @ param stack ItemStack for the armor <nl> + + * @ param slot Slot ID that the item is in <nl> + + * @ param type Subtype , can be null or " overlay " <nl> + + * @ return ResourceLocation pointing at the armor ' s texture <nl> + + * / <nl> + + public ResourceLocation getArmorResource ( net . minecraft . entity . Entity entity , ItemStack stack , int slot , String type ) <nl> + + { <nl> + + ItemArmor item = ( ItemArmor ) stack . getItem ( ) ; <nl> + + String texture = item . getArmorMaterial ( ) . getName ( ) ; <nl> + + String domain = " minecraft " ; <nl> + + int idx = texture . indexOf ( ' : ' ) ; <nl> + + if ( idx ! = - 1 ) <nl> + + { <nl> + + domain = texture . substring ( 0 , idx ) ; <nl> + + texture = texture . substring ( idx + 1 ) ; <nl> + + } <nl> + + String s1 = String . format ( " % s : textures / models / armor / % s _ layer _ % d % s . png " , domain , texture , ( slot = = 2 ? 2 : 1 ) , type = = null ? " " : String . format ( " _ % s " , type ) ) ; <nl> + + <nl> + + s1 = net . minecraftforge . client . ForgeHooksClient . getArmorTexture ( entity , stack , s1 , slot , type ) ; <nl> + + ResourceLocation resourcelocation = ( ResourceLocation ) field _ 177191 _ j . get ( s1 ) ; <nl> + + <nl> + + if ( resourcelocation = = null ) <nl> + + { <nl> + + resourcelocation = new ResourceLocation ( s1 ) ; <nl> + + field _ 177191 _ j . put ( s1 , resourcelocation ) ; <nl> + + } <nl> + + <nl> + + return resourcelocation ; <nl> + + } <nl> + + / * = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = FORGE END = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = * / <nl> + } <nl> diff - - git a / patches / minecraft / net / minecraft / client / renderer / entity / layers / LayerBipedArmor . java . patch b / patches / minecraft / net / minecraft / client / renderer / entity / layers / LayerBipedArmor . java . patch <nl> new file mode 100644 <nl> index 0000000 . . 9990cb4 <nl> - - - / dev / null <nl> + + + b / patches / minecraft / net / minecraft / client / renderer / entity / layers / LayerBipedArmor . java . patch <nl> @ @ - 0 , 0 + 1 , 13 @ @ <nl> + - - - . . / src - base / minecraft / net / minecraft / client / renderer / entity / layers / LayerBipedArmor . java <nl> + + + + . . / src - work / minecraft / net / minecraft / client / renderer / entity / layers / LayerBipedArmor . java <nl> + @ @ - 51 , 4 + 51 , 10 @ @ <nl> + { <nl> + p _ 177194 _ 1 _ . setInvisible ( false ) ; <nl> + } <nl> + + <nl> + + @ Override <nl> + + protected ModelBiped getArmorModelHook ( net . minecraft . entity . EntityLivingBase entity , net . minecraft . item . ItemStack itemStack , int slot , ModelBiped model ) <nl> + + { <nl> + + return net . minecraftforge . client . ForgeHooksClient . getArmorModel ( entity , itemStack , slot , model ) ; <nl> + + } <nl> + } <nl> diff - - git a / patches / minecraft / net / minecraft / item / Item . java . patch b / patches / minecraft / net / minecraft / item / Item . java . patch <nl> index d092536 . . 2bd466c 100644 <nl> - - - a / patches / minecraft / net / minecraft / item / Item . java . patch <nl> + + + b / patches / minecraft / net / minecraft / item / Item . java . patch <nl> @ @ - 71 , 7 + 71 , 7 @ @ <nl> + / * * <nl> + * ItemStack sensitive version of getItemAttributeModifiers <nl> + * / <nl> - + public Multimap getAttributeModifiers ( ItemStack stack ) <nl> + + public Multimap < String , AttributeModifier > getAttributeModifiers ( ItemStack stack ) <nl> + { <nl> + return this . getItemAttributeModifiers ( ) ; <nl> + } <nl> diff - - git a / patches / minecraft / net / minecraft / item / ItemStack . java . patch b / patches / minecraft / net / minecraft / item / ItemStack . java . patch <nl> index a52cb14 . . d750d56 100644 <nl> - - - a / patches / minecraft / net / minecraft / item / ItemStack . java . patch <nl> + + + b / patches / minecraft / net / minecraft / item / ItemStack . java . patch <nl> @ @ - 121 , 7 + 121 , 24 @ @ <nl> } <nl> <nl> public boolean interactWithEntity ( EntityPlayer playerIn , EntityLivingBase entityIn ) <nl> - @ @ - 861 , 6 + 858 , 7 @ @ <nl> + @ @ - 743 , 6 + 740 , 7 @ @ <nl> + } <nl> + } <nl> + <nl> + + net . minecraftforge . event . ForgeEventFactory . onItemTooltip ( this , playerIn , list , advanced ) ; <nl> + return list ; <nl> + } <nl> + <nl> + @ @ - 853 , 7 + 851 , 7 @ @ <nl> + } <nl> + else <nl> + { <nl> + - multimap = this . getItem ( ) . getItemAttributeModifiers ( ) ; <nl> + + multimap = this . getItem ( ) . getAttributeModifiers ( this ) ; <nl> + } <nl> + <nl> + return multimap ; <nl> + @ @ - 861 , 6 + 859 , 7 @ @ <nl> <nl> public void setItem ( Item newItem ) <nl> { <nl> diff - - git a / rejects / minecraft / net / minecraft / client / renderer / entity / RenderEntityItem . java . patch . rej b / rejects / minecraft / net / minecraft / client / renderer / entity / RenderEntityItem . java . patch . rej <nl> deleted file mode 100644 <nl> index 06899dd . . 0000000 <nl> - - - a / rejects / minecraft / net / minecraft / client / renderer / entity / RenderEntityItem . java . patch . rej <nl> + + + / dev / null <nl> @ @ - 1 , 26 + 0 , 0 @ @ <nl> - + + + + REJECTED PATCH 1 <nl> - boolean flag = p _ 177077 _ 9 _ . isGui3d ( ) ; <nl> - int i = this . func _ 177078 _ a ( itemstack ) ; <nl> - float f1 = 0 . 25F ; <nl> - - float f2 = MathHelper . sin ( ( ( float ) p _ 177077 _ 1 _ . getAge ( ) + p _ 177077 _ 8 _ ) / 10 . 0F + p _ 177077 _ 1 _ . hoverStart ) * 0 . 1F + 0 . 1F ; <nl> - + float f2 = shouldBob ( ) ? MathHelper . sin ( ( ( float ) p _ 177077 _ 1 _ . getAge ( ) + p _ 177077 _ 8 _ ) / 10 . 0F + p _ 177077 _ 1 _ . hoverStart ) * 0 . 1F + 0 . 1F : 0 . 0F ; <nl> - GlStateManager . translate ( ( float ) p _ 177077 _ 2 _ , ( float ) p _ 177077 _ 4 _ + f2 + 0 . 25F , ( float ) p _ 177077 _ 6 _ ) ; <nl> - float f3 ; <nl> - <nl> - + + + + END PATCH <nl> - + + + + REJECTED PATCH 2 <nl> - } <nl> - else <nl> - { <nl> - + / / Makes items offset when in 3D , like when in 2D , looks much better . Considered a vanilla bug . . . <nl> - + if ( j > 0 & & shouldSpreadItems ( ) ) <nl> - + { <nl> - + float f2 = ( this . field _ 177079 _ e . nextFloat ( ) * 2 . 0F - 1 . 0F ) * 0 . 15F ; <nl> - + float f3 = ( this . field _ 177079 _ e . nextFloat ( ) * 2 . 0F - 1 . 0F ) * 0 . 15F ; <nl> - + float f4 = ( this . field _ 177079 _ e . nextFloat ( ) * 2 . 0F - 1 . 0F ) * 0 . 15F ; <nl> - + GlStateManager . translate ( f2 , f3 , 0 ) ; <nl> - + } <nl> - this . field _ 177080 _ a . renderItem ( itemstack , ibakedmodel ) ; <nl> - GlStateManager . translate ( 0 . 0F , 0 . 0F , 0 . 046875F ) ; <nl> - } <nl> - + + + + END PATCH <nl> diff - - git a / rejects / minecraft / net / minecraft / client / renderer / entity / RenderPlayer . java . patch . rej b / rejects / minecraft / net / minecraft / client / renderer / entity / RenderPlayer . java . patch . rej <nl> deleted file mode 100644 <nl> index 1cd962d . . 0000000 <nl> - - - a / rejects / minecraft / net / minecraft / client / renderer / entity / RenderPlayer . java . patch . rej <nl> + + + / dev / null <nl> @ @ - 1 , 9 + 0 , 0 @ @ <nl> - + + + + REJECTED PATCH 1 <nl> - <nl> - public void func _ 180596 _ a ( AbstractClientPlayer p _ 180596 _ 1 _ , double p _ 180596 _ 2 _ , double p _ 180596 _ 4 _ , double p _ 180596 _ 6 _ , float p _ 180596 _ 8 _ , float p _ 180596 _ 9 _ ) <nl> - { <nl> - + if ( net . minecraftforge . common . MinecraftForge . EVENT _ BUS . post ( new net . minecraftforge . client . event . RenderPlayerEvent . Pre ( p _ 180596 _ 1 _ , this , p _ 180596 _ 9 _ , p _ 180596 _ 2 _ , p _ 180596 _ 4 _ , p _ 180596 _ 6 _ ) ) ) return ; <nl> - if ( ! p _ 180596 _ 1 _ . isUser ( ) | | this . renderManager . livingPlayer = = p _ 180596 _ 1 _ ) <nl> - { <nl> - double d3 = p _ 180596 _ 4 _ ; <nl> - + + + + END PATCH <nl> diff - - git a / rejects / minecraft / net / minecraft / client / renderer / entity / RendererLivingEntity . java . patch . rej b / rejects / minecraft / net / minecraft / client / renderer / entity / RendererLivingEntity . java . patch . rej <nl> deleted file mode 100644 <nl> index 6d8c9be . . 0000000 <nl> - - - a / rejects / minecraft / net / minecraft / client / renderer / entity / RendererLivingEntity . java . patch . rej <nl> + + + / dev / null <nl> @ @ - 1 , 14 + 0 , 0 @ @ <nl> - + + + + REJECTED PATCH 4 <nl> - <nl> - public void passSpecialRender ( EntityLivingBase p _ 77033 _ 1 _ , double p _ 77033 _ 2 _ , double p _ 77033 _ 4 _ , double p _ 77033 _ 6 _ ) <nl> - { <nl> - + if ( net . minecraftforge . common . MinecraftForge . EVENT _ BUS . post ( new net . minecraftforge . client . event . RenderLivingEvent . Specials . Pre ( p _ 77033 _ 1 _ , this , p _ 77033 _ 2 _ , p _ 77033 _ 4 _ , p _ 77033 _ 6 _ ) ) ) return ; <nl> - if ( this . canRenderName ( p _ 77033 _ 1 _ ) ) <nl> - { <nl> - double d3 = p _ 77033 _ 1 _ . getDistanceSqToEntity ( this . renderManager . livingPlayer ) ; <nl> - - float f = p _ 77033 _ 1 _ . isSneaking ( ) ? 32 . 0F : 64 . 0F ; <nl> - + float f = p _ 77033 _ 1 _ . isSneaking ( ) ? NAME _ TAG _ RANGE _ SNEAK : NAME _ TAG _ RANGE ; <nl> - <nl> - if ( d3 < ( double ) ( f * f ) ) <nl> - { <nl> - + + + + END PATCH <nl> diff - - git a / rejects / minecraft / net / minecraft / client / renderer / entity / layers / LayerArmorBase . java . patch . rej b / rejects / minecraft / net / minecraft / client / renderer / entity / layers / LayerArmorBase . java . patch . rej <nl> deleted file mode 100644 <nl> index e50d4cd . . 0000000 <nl> - - - a / rejects / minecraft / net / minecraft / client / renderer / entity / layers / LayerArmorBase . java . patch . rej <nl> + + + / dev / null <nl> @ @ - 1 , 88 + 0 , 0 @ @ <nl> - + + + + REJECTED PATCH 1 <nl> - ModelBase modelbase = this . func _ 177175 _ a ( p _ 177182 _ 9 _ ) ; <nl> - modelbase . setModelAttributes ( this . field _ 177190 _ a . getMainModel ( ) ) ; <nl> - modelbase . setLivingAnimations ( p _ 177182 _ 1 _ , p _ 177182 _ 2 _ , p _ 177182 _ 3 _ , p _ 177182 _ 4 _ ) ; <nl> - + modelbase = net . minecraftforge . client . ForgeHooksClient . getArmorModel ( p _ 177182 _ 1 _ , itemstack , p _ 177182 _ 9 _ , modelbase ) ; <nl> - this . func _ 177179 _ a ( modelbase , p _ 177182 _ 9 _ ) ; <nl> - boolean flag = this . func _ 177180 _ b ( p _ 177182 _ 9 _ ) ; <nl> - - this . field _ 177190 _ a . bindTexture ( this . getArmorResource ( itemarmor , flag ) ) ; <nl> - + this . field _ 177190 _ a . bindTexture ( this . getArmorResource ( p _ 177182 _ 1 _ , itemstack , flag ? 2 : 1 , null ) ) ; <nl> - <nl> - - switch ( LayerArmorBase . SwitchArmorMaterial . field _ 178747 _ a [ itemarmor . getArmorMaterial ( ) . ordinal ( ) ] ) <nl> - { <nl> - - case 1 : <nl> - - int j = itemarmor . getColor ( itemstack ) ; <nl> - + int j = itemarmor . getColor ( itemstack ) ; <nl> - + if ( j ! = - 1 ) / / Allow this for anything , not only cloth . <nl> - + { <nl> - float f7 = ( float ) ( j > > 16 & 255 ) / 255 . 0F ; <nl> - float f8 = ( float ) ( j > > 8 & 255 ) / 255 . 0F ; <nl> - float f9 = ( float ) ( j & 255 ) / 255 . 0F ; <nl> - GlStateManager . color ( this . field _ 177184 _ f * f7 , this . field _ 177185 _ g * f8 , this . field _ 177192 _ h * f9 , this . field _ 177187 _ e ) ; <nl> - modelbase . render ( p _ 177182 _ 1 _ , p _ 177182 _ 2 _ , p _ 177182 _ 3 _ , p _ 177182 _ 5 _ , p _ 177182 _ 6 _ , p _ 177182 _ 7 _ , p _ 177182 _ 8 _ ) ; <nl> - - this . field _ 177190 _ a . bindTexture ( this . getArmorResource ( itemarmor , flag , " overlay " ) ) ; <nl> - - case 2 : <nl> - - case 3 : <nl> - - case 4 : <nl> - - case 5 : <nl> - + this . field _ 177190 _ a . bindTexture ( this . getArmorResource ( p _ 177182 _ 1 _ , itemstack , flag ? 2 : 1 , " overlay " ) ) ; <nl> - + } <nl> - + { / / Non - cloth <nl> - GlStateManager . color ( this . field _ 177184 _ f , this . field _ 177185 _ g , this . field _ 177192 _ h , this . field _ 177187 _ e ) ; <nl> - modelbase . render ( p _ 177182 _ 1 _ , p _ 177182 _ 2 _ , p _ 177182 _ 3 _ , p _ 177182 _ 5 _ , p _ 177182 _ 6 _ , p _ 177182 _ 7 _ , p _ 177182 _ 8 _ ) ; <nl> - - default : <nl> - + } <nl> - + { / / Default , Why is this a switch ? there were no breaks . <nl> - if ( ! this . field _ 177193 _ i & & itemstack . isItemEnchanted ( ) ) <nl> - { <nl> - this . func _ 177183 _ a ( p _ 177182 _ 1 _ , modelbase , p _ 177182 _ 2 _ , p _ 177182 _ 3 _ , p _ 177182 _ 4 _ , p _ 177182 _ 5 _ , p _ 177182 _ 6 _ , p _ 177182 _ 7 _ , p _ 177182 _ 8 _ ) ; <nl> - } <nl> - + } <nl> - } <nl> - } <nl> - } <nl> - + + + + END PATCH <nl> - + + + + REJECTED PATCH 3 <nl> - <nl> - protected abstract void func _ 177179 _ a ( ModelBase p _ 177179 _ 1 _ , int p _ 177179 _ 2 _ ) ; <nl> - <nl> - + / * = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = FORGE START = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = * / <nl> - + / * * <nl> - + * More generic ForgeHook version of the above function , it allows for Items to have more control over what texture they provide . <nl> - + * <nl> - + * @ param entity Entity wearing the armor <nl> - + * @ param stack ItemStack for the armor <nl> - + * @ param slot Slot ID that the item is in <nl> - + * @ param type Subtype , can be null or " overlay " <nl> - + * @ return ResourceLocation pointing at the armor ' s texture <nl> - + * / <nl> - + public ResourceLocation getArmorResource ( net . minecraft . entity . Entity entity , ItemStack stack , int slot , String type ) <nl> - + { <nl> - + ItemArmor item = ( ItemArmor ) stack . getItem ( ) ; <nl> - + String texture = ( ( ItemArmor ) stack . getItem ( ) ) . getArmorMaterial ( ) . getName ( ) ; <nl> - + String domain = " minecraft " ; <nl> - + int idx = texture . indexOf ( ' : ' ) ; <nl> - + if ( idx ! = - 1 ) <nl> - + { <nl> - + domain = texture . substring ( 0 , idx ) ; <nl> - + texture = texture . substring ( idx + 1 ) ; <nl> - + } <nl> - + String s1 = String . format ( " % s : textures / models / armor / % s _ layer _ % d % s . png " , domain , texture , ( slot = = 2 ? 2 : 1 ) , type = = null ? " " : String . format ( " _ % s " , type ) ) ; <nl> - + <nl> - + s1 = net . minecraftforge . client . ForgeHooksClient . getArmorTexture ( entity , stack , s1 , slot , type ) ; <nl> - + ResourceLocation resourcelocation = ( ResourceLocation ) field _ 177191 _ j . get ( s1 ) ; <nl> - + <nl> - + if ( resourcelocation = = null ) <nl> - + { <nl> - + resourcelocation = new ResourceLocation ( s1 ) ; <nl> - + field _ 177191 _ j . put ( s1 , resourcelocation ) ; <nl> - + } <nl> - + <nl> - + return resourcelocation ; <nl> - + } <nl> - + / * = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = FORGE END = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = * / <nl> - + <nl> - @ SideOnly ( Side . CLIENT ) <nl> - <nl> - static final class SwitchArmorMaterial <nl> - + + + + END PATCH <nl> diff - - git a / rejects / minecraft / net / minecraft / item / ItemStack . java . patch . rej b / rejects / minecraft / net / minecraft / item / ItemStack . java . patch . rej <nl> deleted file mode 100644 <nl> index eee0c26 . . 0000000 <nl> - - - a / rejects / minecraft / net / minecraft / item / ItemStack . java . patch . rej <nl> + + + / dev / null <nl> @ @ - 1 , 20 + 0 , 0 @ @ <nl> - + + + + REJECTED PATCH 10 <nl> - } <nl> - } <nl> - <nl> - + net . minecraftforge . event . ForgeEventFactory . onItemTooltip ( this , playerIn , arraylist , advanced ) ; <nl> - + <nl> - return arraylist ; <nl> - } <nl> - <nl> - + + + + END PATCH <nl> - + + + + REJECTED PATCH 11 <nl> - } <nl> - else <nl> - { <nl> - - object = this . getItem ( ) . getItemAttributeModifiers ( ) ; <nl> - + object = this . getItem ( ) . getAttributeModifiers ( this ) ; <nl> - } <nl> - <nl> - return ( Multimap ) object ; <nl> - + + + + END PATCH <nl> diff - - git a / src / main / java / net / minecraftforge / client / ForgeHooksClient . java b / src / main / java / net / minecraftforge / client / ForgeHooksClient . java <nl> index fdf0c30 . . 2fc9623 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / ForgeHooksClient . java <nl> + + + b / src / main / java / net / minecraftforge / client / ForgeHooksClient . java <nl> @ @ - 10 , 7 + 10 , 6 @ @ import java . nio . FloatBuffer ; <nl> import java . util . Map ; <nl> <nl> import javax . vecmath . Matrix4f ; <nl> - import javax . vecmath . Vector3d ; <nl> import javax . vecmath . Vector3f ; <nl> import javax . vecmath . Vector4f ; <nl> <nl> @ @ - 23 , 7 + 22 , 7 @ @ import net . minecraft . client . audio . SoundManager ; <nl> import net . minecraft . client . gui . FontRenderer ; <nl> import net . minecraft . client . gui . GuiMainMenu ; <nl> import net . minecraft . client . gui . GuiScreen ; <nl> - import net . minecraft . client . model . ModelBase ; <nl> + import net . minecraft . client . model . ModelBiped ; <nl> import net . minecraft . client . renderer . EntityRenderer ; <nl> import net . minecraft . client . renderer . GlStateManager ; <nl> import net . minecraft . client . renderer . OpenGlHelper ; <nl> @ @ - 32 , 7 + 31 , 6 @ @ import net . minecraft . client . renderer . WorldRenderer ; <nl> import net . minecraft . client . renderer . block . model . BakedQuad ; <nl> import net . minecraft . client . renderer . block . model . ItemCameraTransforms ; <nl> import net . minecraft . client . renderer . block . model . ItemTransformVec3f ; <nl> - import net . minecraft . client . renderer . entity . RenderItem ; <nl> import net . minecraft . client . renderer . texture . TextureManager ; <nl> import net . minecraft . client . renderer . texture . TextureMap ; <nl> import net . minecraft . client . renderer . tileentity . TileEntityRendererDispatcher ; <nl> @ @ - 91 , 6 + 89 , 7 @ @ import org . lwjgl . opengl . GL11 ; <nl> <nl> <nl> <nl> + <nl> import com . google . common . collect . Maps ; <nl> <nl> public class ForgeHooksClient <nl> @ @ - 326 , 10 + 325 , 10 @ @ public class ForgeHooksClient <nl> renderLayer . set ( layer ) ; <nl> } <nl> <nl> - public static ModelBase getArmorModel ( EntityLivingBase entityLiving , ItemStack itemStack , int slotID , ModelBase _ default ) <nl> + public static ModelBiped getArmorModel ( EntityLivingBase entityLiving , ItemStack itemStack , int slotID , ModelBiped _ default ) <nl> { <nl> - ModelBase modelbase = itemStack . getItem ( ) . getArmorModel ( entityLiving , itemStack , slotID ) ; <nl> - return modelbase = = null ? _ default : modelbase ; <nl> + ModelBiped model = itemStack . getItem ( ) . getArmorModel ( entityLiving , itemStack , slotID ) ; <nl> + return model = = null ? _ default : model ; <nl> } <nl> <nl> / / This properly moves the domain , if provided , to the front of the string before concatenating
NEAREST DIFF (one line): diff - - git a / fml - src - 1 . 4 . 6 - 4 . 6 . 0 . 502 - master . zip b / fml - src - 1 . 4 . 6 - 4 . 6 . 0 . 502 - master . zip <nl> deleted file mode 100644 <nl> index aeb7c55 . . 0000000 <nl> Binary files a / fml - src - 1 . 4 . 6 - 4 . 6 . 0 . 502 - master . zip and / dev / null differ <nl> diff - - git a / fml - src - 1 . 4 . 6 - 4 . 6 . 4 . 505 - master . zip b / fml - src - 1 . 4 . 6 - 4 . 6 . 4 . 505 - master . zip <nl> new file mode 100644 <nl> index 0000000 . . 49a3243 <nl> Binary files / dev / null and b / fml - src - 1 . 4 . 6 - 4 . 6 . 4 . 505 - master . zip differ

TEST DIFF:
diff - - git a / patches / minecraft / net / minecraft / client / renderer / entity / RenderEntityItem . java . patch b / patches / minecraft / net / minecraft / client / renderer / entity / RenderEntityItem . java . patch 
 index fbe2553 . . 3e67a92 100644 
 - - - a / patches / minecraft / net / minecraft / client / renderer / entity / RenderEntityItem . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / renderer / entity / RenderEntityItem . java . patch 
 @ @ - 1 , 5 + 1 , 14 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / client / renderer / entity / RenderEntityItem . java 
 + + + . . / src - work / minecraft / net / minecraft / client / renderer / entity / RenderEntityItem . java 
 + @ @ - 42 , 7 + 42 , 7 @ @ 
 + boolean flag = p _ 177077 _ 9 _ . isGui3d ( ) ; 
 + int i = this . func _ 177078 _ a ( itemstack ) ; 
 + float f = 0 . 25F ; 
 + - float f1 = MathHelper . sin ( ( ( float ) p _ 177077 _ 1 _ . getAge ( ) + p _ 177077 _ 8 _ ) / 10 . 0F + p _ 177077 _ 1 _ . hoverStart ) * 0 . 1F + 0 . 1F ; 
 + + float f1 = shouldBob ( ) ? MathHelper . sin ( ( ( float ) p _ 177077 _ 1 _ . getAge ( ) + p _ 177077 _ 8 _ ) / 10 . 0F + p _ 177077 _ 1 _ . hoverStart ) * 0 . 1F + 0 . 1F : 0 ; 
 + float f2 = p _ 177077 _ 9 _ . getItemCameraTransforms ( ) . func _ 181688 _ b ( ItemCameraTransforms . TransformType . GROUND ) . scale . y ; 
 + GlStateManager . translate ( ( float ) p _ 177077 _ 2 _ , ( float ) p _ 177077 _ 4 _ + f1 + 0 . 25F * f2 , ( float ) p _ 177077 _ 6 _ ) ; 
 + 
 @ @ - 158 , 4 + 158 , 25 @ @ 
 { 
 return TextureMap . locationBlocksTexture ; 
 diff - - git a / patches / minecraft / net / minecraft / client / renderer / entity / RenderPlayer . java . patch b / patches / minecraft / net / minecraft / client / renderer / entity / RenderPlayer . java . patch 
 index bc5b356 . . d00961b 100644 
 - - - a / patches / minecraft / net / minecraft / client / renderer / entity / RenderPlayer . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / renderer / entity / RenderPlayer . java . patch 
 @ @ - 1 , 10 + 1 , 18 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / client / renderer / entity / RenderPlayer . java 
 + + + . . / src - work / minecraft / net / minecraft / client / renderer / entity / RenderPlayer . java 
 - @ @ - 62 , 6 + 62 , 7 @ @ 
 + @ @ - 50 , 6 + 50 , 7 @ @ 
 + 
 + public void doRender ( AbstractClientPlayer entity , double x , double y , double z , float p _ 76986 _ 8 _ , float partialTicks ) 
 + { 
 + + if ( net . minecraftforge . common . MinecraftForge . EVENT _ BUS . post ( new net . minecraftforge . client . event . RenderPlayerEvent . Pre ( entity , this , partialTicks , x , y , z ) ) ) return ; 
 + if ( ! entity . isUser ( ) | | this . renderManager . livingPlayer = = entity ) 
 + { 
 + double d0 = y ; 
 + @ @ - 62 , 6 + 63 , 7 @ @ 
 this . func _ 177137 _ d ( entity ) ; 
 super . doRender ( entity , x , d0 , z , p _ 76986 _ 8 _ , partialTicks ) ; 
 } 
 - + net . minecraftforge . common . MinecraftForge . EVENT _ BUS . post ( new net . minecraftforge . client . event . RenderPlayerEvent . Post ( p _ 180596 _ 1 _ , this , p _ 180596 _ 9 _ , p _ 180596 _ 2 _ , p _ 180596 _ 4 _ , p _ 180596 _ 6 _ ) ) ; 
 + + net . minecraftforge . common . MinecraftForge . EVENT _ BUS . post ( new net . minecraftforge . client . event . RenderPlayerEvent . Post ( entity , this , partialTicks , x , y , z ) ) ; 
 } 
 
 private void func _ 177137 _ d ( AbstractClientPlayer p _ 177137 _ 1 _ ) 
 diff - - git a / patches / minecraft / net / minecraft / client / renderer / entity / RendererLivingEntity . java . patch b / patches / minecraft / net / minecraft / client / renderer / entity / RendererLivingEntity . java . patch 
 index 8548073 . . e18e068 100644 
 - - - a / patches / minecraft / net / minecraft / client / renderer / entity / RendererLivingEntity . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / renderer / entity / RendererLivingEntity . java . patch 
 @ @ - 26 , 11 + 26 , 24 @ @ 
 } 
 
 protected boolean func _ 177088 _ c ( T p _ 177088 _ 1 _ ) 
 - @ @ - 519 , 6 + 524 , 7 @ @ 
 + @ @ - 470 , 10 + 475 , 11 @ @ 
 + 
 + public void renderName ( T entity , double x , double y , double z ) 
 + { 
 + + if ( net . minecraftforge . common . MinecraftForge . EVENT _ BUS . post ( new net . minecraftforge . client . event . RenderLivingEvent . Specials . Pre ( entity , this , x , y , z ) ) ) return ; 
 + if ( this . canRenderName ( entity ) ) 
 + { 
 + double d0 = entity . getDistanceSqToEntity ( this . renderManager . livingPlayer ) ; 
 + - float f = entity . isSneaking ( ) ? 32 . 0F : 64 . 0F ; 
 + + float f = entity . isSneaking ( ) ? NAME _ TAG _ RANGE _ SNEAK : NAME _ TAG _ RANGE ; 
 + 
 + if ( d0 < ( double ) ( f * f ) ) 
 + { 
 + @ @ - 519 , 6 + 525 , 7 @ @ 
 } 
 } 
 } 
 - + net . minecraftforge . common . MinecraftForge . EVENT _ BUS . post ( new net . minecraftforge . client . event . RenderLivingEvent . Specials . Post ( p _ 77033 _ 1 _ , this , p _ 77033 _ 2 _ , p _ 77033 _ 4 _ , p _ 77033 _ 6 _ ) ) ; 
 + + net . minecraftforge . common . MinecraftForge . EVENT _ BUS . post ( new net . minecraftforge . client . event . RenderLivingEvent . Specials . Post ( entity , this , x , y , z ) ) ; 
 } 
 
 protected boolean canRenderName ( T entity ) 
 diff - - git a / patches / minecraft / net / minecraft / client / renderer / entity / layers / LayerArmorBase . java . patch b / patches / minecraft / net / minecraft / client / renderer / entity / layers / LayerArmorBase . java . patch 
 index 117c5c7 . . 49f5846 100644 
 - - - a / patches / minecraft / net / minecraft / client / renderer / entity / layers / LayerArmorBase . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / renderer / entity / layers / LayerArmorBase . java . patch 
 @ @ - 1 , 5 + 1 , 44 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / client / renderer / entity / layers / LayerArmorBase . java 
 + + + . . / src - work / minecraft / net / minecraft / client / renderer / entity / layers / LayerArmorBase . java 
 + @ @ - 56 , 28 + 56 , 28 @ @ 
 + T t = this . func _ 177175 _ a ( p _ 177182 _ 9 _ ) ; 
 + t . setModelAttributes ( this . field _ 177190 _ a . getMainModel ( ) ) ; 
 + t . setLivingAnimations ( p _ 177182 _ 1 _ , p _ 177182 _ 2 _ , p _ 177182 _ 3 _ , p _ 177182 _ 4 _ ) ; 
 + + t = getArmorModelHook ( p _ 177182 _ 1 _ , itemstack , p _ 177182 _ 9 _ , t ) ; 
 + this . func _ 177179 _ a ( t , p _ 177182 _ 9 _ ) ; 
 + boolean flag = this . func _ 177180 _ b ( p _ 177182 _ 9 _ ) ; 
 + this . field _ 177190 _ a . bindTexture ( this . getArmorResource ( itemarmor , flag ) ) ; 
 + 
 + - switch ( itemarmor . getArmorMaterial ( ) ) 
 + - { 
 + - case LEATHER : 
 + int i = itemarmor . getColor ( itemstack ) ; 
 + + { 
 + + if ( i ! = - 1 ) / / Allow this for anything , not only cloth . 
 + + { 
 + float f = ( float ) ( i > > 16 & 255 ) / 255 . 0F ; 
 + float f1 = ( float ) ( i > > 8 & 255 ) / 255 . 0F ; 
 + float f2 = ( float ) ( i & 255 ) / 255 . 0F ; 
 + GlStateManager . color ( this . field _ 177184 _ f * f , this . field _ 177185 _ g * f1 , this . field _ 177192 _ h * f2 , this . field _ 177187 _ e ) ; 
 + t . render ( p _ 177182 _ 1 _ , p _ 177182 _ 2 _ , p _ 177182 _ 3 _ , p _ 177182 _ 5 _ , p _ 177182 _ 6 _ , p _ 177182 _ 7 _ , p _ 177182 _ 8 _ ) ; 
 + - this . field _ 177190 _ a . bindTexture ( this . getArmorResource ( itemarmor , flag , " overlay " ) ) ; 
 + - case CHAIN : 
 + - case IRON : 
 + - case GOLD : 
 + - case DIAMOND : 
 + + this . field _ 177190 _ a . bindTexture ( this . getArmorResource ( p _ 177182 _ 1 _ , itemstack , flag ? 2 : 1 , " overlay " ) ) ; 
 + + } 
 + + else / / Non - colored 
 + + { 
 + GlStateManager . color ( this . field _ 177184 _ f , this . field _ 177185 _ g , this . field _ 177192 _ h , this . field _ 177187 _ e ) ; 
 + t . render ( p _ 177182 _ 1 _ , p _ 177182 _ 2 _ , p _ 177182 _ 3 _ , p _ 177182 _ 5 _ , p _ 177182 _ 6 _ , p _ 177182 _ 7 _ , p _ 177182 _ 8 _ ) ; 
 + - default : 
 + - 
 + + } 
 + + / / Default 
 + if ( ! this . field _ 177193 _ i & & itemstack . isItemEnchanted ( ) ) 
 + { 
 + this . func _ 177183 _ a ( p _ 177182 _ 1 _ , t , p _ 177182 _ 2 _ , p _ 177182 _ 3 _ , p _ 177182 _ 4 _ , p _ 177182 _ 5 _ , p _ 177182 _ 6 _ , p _ 177182 _ 7 _ , p _ 177182 _ 8 _ ) ; 
 @ @ - 136 , 11 + 136 , 13 @ @ 
 GlStateManager . disableBlend ( ) ; 
 } 
 @ @ - 14 , 3 + 53 , 53 @ @ 
 private ResourceLocation getArmorResource ( ItemArmor p _ 177178 _ 1 _ , boolean p _ 177178 _ 2 _ , String p _ 177178 _ 3 _ ) 
 { 
 String s = String . format ( " textures / models / armor / % s _ layer _ % d % s . png " , new Object [ ] { p _ 177178 _ 1 _ . getArmorMaterial ( ) . getName ( ) , Integer . valueOf ( p _ 177178 _ 2 _ ? 2 : 1 ) , p _ 177178 _ 3 _ = = null ? " " : String . format ( " _ % s " , new Object [ ] { p _ 177178 _ 3 _ } ) } ) ; 
 + @ @ - 158 , 4 + 160 , 49 @ @ 
 + protected abstract void func _ 177177 _ a ( ) ; 
 + 
 + protected abstract void func _ 177179 _ a ( T p _ 177179 _ 1 _ , int p _ 177179 _ 2 _ ) ; 
 + + 
 + + / * = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = FORGE START = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = * / 
 + + 
 + + / * * 
 + + * Hook to allow item - sensitive armor model . for LayerBipedArmor . 
 + + * / 
 + + protected T getArmorModelHook ( EntityLivingBase entity , ItemStack itemStack , int slot , T model ) 
 + + { 
 + + return model ; 
 + + } 
 + + 
 + + / * * 
 + + * More generic ForgeHook version of the above function , it allows for Items to have more control over what texture they provide . 
 + + * 
 + + * @ param entity Entity wearing the armor 
 + + * @ param stack ItemStack for the armor 
 + + * @ param slot Slot ID that the item is in 
 + + * @ param type Subtype , can be null or " overlay " 
 + + * @ return ResourceLocation pointing at the armor ' s texture 
 + + * / 
 + + public ResourceLocation getArmorResource ( net . minecraft . entity . Entity entity , ItemStack stack , int slot , String type ) 
 + + { 
 + + ItemArmor item = ( ItemArmor ) stack . getItem ( ) ; 
 + + String texture = item . getArmorMaterial ( ) . getName ( ) ; 
 + + String domain = " minecraft " ; 
 + + int idx = texture . indexOf ( ' : ' ) ; 
 + + if ( idx ! = - 1 ) 
 + + { 
 + + domain = texture . substring ( 0 , idx ) ; 
 + + texture = texture . substring ( idx + 1 ) ; 
 + + } 
 + + String s1 = String . format ( " % s : textures / models / armor / % s _ layer _ % d % s . png " , domain , texture , ( slot = = 2 ? 2 : 1 ) , type = = null ? " " : String . format ( " _ % s " , type ) ) ; 
 + + 
 + + s1 = net . minecraftforge . client . ForgeHooksClient . getArmorTexture ( entity , stack , s1 , slot , type ) ; 
 + + ResourceLocation resourcelocation = ( ResourceLocation ) field _ 177191 _ j . get ( s1 ) ; 
 + + 
 + + if ( resourcelocation = = null ) 
 + + { 
 + + resourcelocation = new ResourceLocation ( s1 ) ; 
 + + field _ 177191 _ j . put ( s1 , resourcelocation ) ; 
 + + } 
 + + 
 + + return resourcelocation ; 
 + + } 
 + + / * = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = FORGE END = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = * / 
 + } 
 diff - - git a / patches / minecraft / net / minecraft / client / renderer / entity / layers / LayerBipedArmor . java . patch b / patches / minecraft / net / minecraft / client / renderer / entity / layers / LayerBipedArmor . java . patch 
 new file mode 100644 
 index 0000000 . . 9990cb4 
 - - - / dev / null 
 + + + b / patches / minecraft / net / minecraft / client / renderer / entity / layers / LayerBipedArmor . java . patch 
 @ @ - 0 , 0 + 1 , 13 @ @ 
 + - - - . . / src - base / minecraft / net / minecraft / client / renderer / entity / layers / LayerBipedArmor . java 
 + + + + . . / src - work / minecraft / net / minecraft / client / renderer / entity / layers / LayerBipedArmor . java 
 + @ @ - 51 , 4 + 51 , 10 @ @ 
 + { 
 + p _ 177194 _ 1 _ . setInvisible ( false ) ; 
 + } 
 + + 
 + + @ Override 
 + + protected ModelBiped getArmorModelHook ( net . minecraft . entity . EntityLivingBase entity , net . minecraft . item . ItemStack itemStack , int slot , ModelBiped model ) 
 + + { 
 + + return net . minecraftforge . client . ForgeHooksClient . getArmorModel ( entity , itemStack , slot , model ) ; 
 + + } 
 + } 
 diff - - git a / patches / minecraft / net / minecraft / item / Item . java . patch b / patches / minecraft / net / minecraft / item / Item . java . patch 
 index d092536 . . 2bd466c 100644 
 - - - a / patches / minecraft / net / minecraft / item / Item . java . patch 
 + + + b / patches / minecraft / net / minecraft / item / Item . java . patch 
 @ @ - 71 , 7 + 71 , 7 @ @ 
 + / * * 
 + * ItemStack sensitive version of getItemAttributeModifiers 
 + * / 
 - + public Multimap getAttributeModifiers ( ItemStack stack ) 
 + + public Multimap < String , AttributeModifier > getAttributeModifiers ( ItemStack stack ) 
 + { 
 + return this . getItemAttributeModifiers ( ) ; 
 + } 
 diff - - git a / patches / minecraft / net / minecraft / item / ItemStack . java . patch b / patches / minecraft / net / minecraft / item / ItemStack . java . patch 
 index a52cb14 . . d750d56 100644 
 - - - a / patches / minecraft / net / minecraft / item / ItemStack . java . patch 
 + + + b / patches / minecraft / net / minecraft / item / ItemStack . java . patch 
 @ @ - 121 , 7 + 121 , 24 @ @ 
 } 
 
 public boolean interactWithEntity ( EntityPlayer playerIn , EntityLivingBase entityIn ) 
 - @ @ - 861 , 6 + 858 , 7 @ @ 
 + @ @ - 743 , 6 + 740 , 7 @ @ 
 + } 
 + } 
 + 
 + + net . minecraftforge . event . ForgeEventFactory . onItemTooltip ( this , playerIn , list , advanced ) ; 
 + return list ; 
 + } 
 + 
 + @ @ - 853 , 7 + 851 , 7 @ @ 
 + } 
 + else 
 + { 
 + - multimap = this . getItem ( ) . getItemAttributeModifiers ( ) ; 
 + + multimap = this . getItem ( ) . getAttributeModifiers ( this ) ; 
 + } 
 + 
 + return multimap ; 
 + @ @ - 861 , 6 + 859 , 7 @ @ 
 
 public void setItem ( Item newItem ) 
 { 
 diff - - git a / rejects / minecraft / net / minecraft / client / renderer / entity / RenderEntityItem . java . patch . rej b / rejects / minecraft / net / minecraft / client / renderer / entity / RenderEntityItem . java . patch . rej 
 deleted file mode 100644 
 index 06899dd . . 0000000 
 - - - a / rejects / minecraft / net / minecraft / client / renderer / entity / RenderEntityItem . java . patch . rej 
 + + + / dev / null 
 @ @ - 1 , 26 + 0 , 0 @ @ 
 - + + + + REJECTED PATCH 1 
 - boolean flag = p _ 177077 _ 9 _ . isGui3d ( ) ; 
 - int i = this . func _ 177078 _ a ( itemstack ) ; 
 - float f1 = 0 . 25F ; 
 - - float f2 = MathHelper . sin ( ( ( float ) p _ 177077 _ 1 _ . getAge ( ) + p _ 177077 _ 8 _ ) / 10 . 0F + p _ 177077 _ 1 _ . hoverStart ) * 0 . 1F + 0 . 1F ; 
 - + float f2 = shouldBob ( ) ? MathHelper . sin ( ( ( float ) p _ 177077 _ 1 _ . getAge ( ) + p _ 177077 _ 8 _ ) / 10 . 0F + p _ 177077 _ 1 _ . hoverStart ) * 0 . 1F + 0 . 1F : 0 . 0F ; 
 - GlStateManager . translate ( ( float ) p _ 177077 _ 2 _ , ( float ) p _ 177077 _ 4 _ + f2 + 0 . 25F , ( float ) p _ 177077 _ 6 _ ) ; 
 - float f3 ; 
 - 
 - + + + + END PATCH 
 - + + + + REJECTED PATCH 2 
 - } 
 - else 
 - { 
 - + / / Makes items offset when in 3D , like when in 2D , looks much better . Considered a vanilla bug . . . 
 - + if ( j > 0 & & shouldSpreadItems ( ) ) 
 - + { 
 - + float f2 = ( this . field _ 177079 _ e . nextFloat ( ) * 2 . 0F - 1 . 0F ) * 0 . 15F ; 
 - + float f3 = ( this . field _ 177079 _ e . nextFloat ( ) * 2 . 0F - 1 . 0F ) * 0 . 15F ; 
 - + float f4 = ( this . field _ 177079 _ e . nextFloat ( ) * 2 . 0F - 1 . 0F ) * 0 . 15F ; 
 - + GlStateManager . translate ( f2 , f3 , 0 ) ; 
 - + } 
 - this . field _ 177080 _ a . renderItem ( itemstack , ibakedmodel ) ; 
 - GlStateManager . translate ( 0 . 0F , 0 . 0F , 0 . 046875F ) ; 
 - } 
 - + + + + END PATCH 
 diff - - git a / rejects / minecraft / net / minecraft / client / renderer / entity / RenderPlayer . java . patch . rej b / rejects / minecraft / net / minecraft / client / renderer / entity / RenderPlayer . java . patch . rej 
 deleted file mode 100644 
 index 1cd962d . . 0000000 
 - - - a / rejects / minecraft / net / minecraft / client / renderer / entity / RenderPlayer . java . patch . rej 
 + + + / dev / null 
 @ @ - 1 , 9 + 0 , 0 @ @ 
 - + + + + REJECTED PATCH 1 
 - 
 - public void func _ 180596 _ a ( AbstractClientPlayer p _ 180596 _ 1 _ , double p _ 180596 _ 2 _ , double p _ 180596 _ 4 _ , double p _ 180596 _ 6 _ , float p _ 180596 _ 8 _ , float p _ 180596 _ 9 _ ) 
 - { 
 - + if ( net . minecraftforge . common . MinecraftForge . EVENT _ BUS . post ( new net . minecraftforge . client . event . RenderPlayerEvent . Pre ( p _ 180596 _ 1 _ , this , p _ 180596 _ 9 _ , p _ 180596 _ 2 _ , p _ 180596 _ 4 _ , p _ 180596 _ 6 _ ) ) ) return ; 
 - if ( ! p _ 180596 _ 1 _ . isUser ( ) | | this . renderManager . livingPlayer = = p _ 180596 _ 1 _ ) 
 - { 
 - double d3 = p _ 180596 _ 4 _ ; 
 - + + + + END PATCH 
 diff - - git a / rejects / minecraft / net / minecraft / client / renderer / entity / RendererLivingEntity . java . patch . rej b / rejects / minecraft / net / minecraft / client / renderer / entity / RendererLivingEntity . java . patch . rej 
 deleted file mode 100644 
 index 6d8c9be . . 0000000 
 - - - a / rejects / minecraft / net / minecraft / client / renderer / entity / RendererLivingEntity . java . patch . rej 
 + + + / dev / null 
 @ @ - 1 , 14 + 0 , 0 @ @ 
 - + + + + REJECTED PATCH 4 
 - 
 - public void passSpecialRender ( EntityLivingBase p _ 77033 _ 1 _ , double p _ 77033 _ 2 _ , double p _ 77033 _ 4 _ , double p _ 77033 _ 6 _ ) 
 - { 
 - + if ( net . minecraftforge . common . MinecraftForge . EVENT _ BUS . post ( new net . minecraftforge . client . event . RenderLivingEvent . Specials . Pre ( p _ 77033 _ 1 _ , this , p _ 77033 _ 2 _ , p _ 77033 _ 4 _ , p _ 77033 _ 6 _ ) ) ) return ; 
 - if ( this . canRenderName ( p _ 77033 _ 1 _ ) ) 
 - { 
 - double d3 = p _ 77033 _ 1 _ . getDistanceSqToEntity ( this . renderManager . livingPlayer ) ; 
 - - float f = p _ 77033 _ 1 _ . isSneaking ( ) ? 32 . 0F : 64 . 0F ; 
 - + float f = p _ 77033 _ 1 _ . isSneaking ( ) ? NAME _ TAG _ RANGE _ SNEAK : NAME _ TAG _ RANGE ; 
 - 
 - if ( d3 < ( double ) ( f * f ) ) 
 - { 
 - + + + + END PATCH 
 diff - - git a / rejects / minecraft / net / minecraft / client / renderer / entity / layers / LayerArmorBase . java . patch . rej b / rejects / minecraft / net / minecraft / client / renderer / entity / layers / LayerArmorBase . java . patch . rej 
 deleted file mode 100644 
 index e50d4cd . . 0000000 
 - - - a / rejects / minecraft / net / minecraft / client / renderer / entity / layers / LayerArmorBase . java . patch . rej 
 + + + / dev / null 
 @ @ - 1 , 88 + 0 , 0 @ @ 
 - + + + + REJECTED PATCH 1 
 - ModelBase modelbase = this . func _ 177175 _ a ( p _ 177182 _ 9 _ ) ; 
 - modelbase . setModelAttributes ( this . field _ 177190 _ a . getMainModel ( ) ) ; 
 - modelbase . setLivingAnimations ( p _ 177182 _ 1 _ , p _ 177182 _ 2 _ , p _ 177182 _ 3 _ , p _ 177182 _ 4 _ ) ; 
 - + modelbase = net . minecraftforge . client . ForgeHooksClient . getArmorModel ( p _ 177182 _ 1 _ , itemstack , p _ 177182 _ 9 _ , modelbase ) ; 
 - this . func _ 177179 _ a ( modelbase , p _ 177182 _ 9 _ ) ; 
 - boolean flag = this . func _ 177180 _ b ( p _ 177182 _ 9 _ ) ; 
 - - this . field _ 177190 _ a . bindTexture ( this . getArmorResource ( itemarmor , flag ) ) ; 
 - + this . field _ 177190 _ a . bindTexture ( this . getArmorResource ( p _ 177182 _ 1 _ , itemstack , flag ? 2 : 1 , null ) ) ; 
 - 
 - - switch ( LayerArmorBase . SwitchArmorMaterial . field _ 178747 _ a [ itemarmor . getArmorMaterial ( ) . ordinal ( ) ] ) 
 - { 
 - - case 1 : 
 - - int j = itemarmor . getColor ( itemstack ) ; 
 - + int j = itemarmor . getColor ( itemstack ) ; 
 - + if ( j ! = - 1 ) / / Allow this for anything , not only cloth . 
 - + { 
 - float f7 = ( float ) ( j > > 16 & 255 ) / 255 . 0F ; 
 - float f8 = ( float ) ( j > > 8 & 255 ) / 255 . 0F ; 
 - float f9 = ( float ) ( j & 255 ) / 255 . 0F ; 
 - GlStateManager . color ( this . field _ 177184 _ f * f7 , this . field _ 177185 _ g * f8 , this . field _ 177192 _ h * f9 , this . field _ 177187 _ e ) ; 
 - modelbase . render ( p _ 177182 _ 1 _ , p _ 177182 _ 2 _ , p _ 177182 _ 3 _ , p _ 177182 _ 5 _ , p _ 177182 _ 6 _ , p _ 177182 _ 7 _ , p _ 177182 _ 8 _ ) ; 
 - - this . field _ 177190 _ a . bindTexture ( this . getArmorResource ( itemarmor , flag , " overlay " ) ) ; 
 - - case 2 : 
 - - case 3 : 
 - - case 4 : 
 - - case 5 : 
 - + this . field _ 177190 _ a . bindTexture ( this . getArmorResource ( p _ 177182 _ 1 _ , itemstack , flag ? 2 : 1 , " overlay " ) ) ; 
 - + } 
 - + { / / Non - cloth 
 - GlStateManager . color ( this . field _ 177184 _ f , this . field _ 177185 _ g , this . field _ 177192 _ h , this . field _ 177187 _ e ) ; 
 - modelbase . render ( p _ 177182 _ 1 _ , p _ 177182 _ 2 _ , p _ 177182 _ 3 _ , p _ 177182 _ 5 _ , p _ 177182 _ 6 _ , p _ 177182 _ 7 _ , p _ 177182 _ 8 _ ) ; 
 - - default : 
 - + } 
 - + { / / Default , Why is this a switch ? there were no breaks . 
 - if ( ! this . field _ 177193 _ i & & itemstack . isItemEnchanted ( ) ) 
 - { 
 - this . func _ 177183 _ a ( p _ 177182 _ 1 _ , modelbase , p _ 177182 _ 2 _ , p _ 177182 _ 3 _ , p _ 177182 _ 4 _ , p _ 177182 _ 5 _ , p _ 177182 _ 6 _ , p _ 177182 _ 7 _ , p _ 177182 _ 8 _ ) ; 
 - } 
 - + } 
 - } 
 - } 
 - } 
 - + + + + END PATCH 
 - + + + + REJECTED PATCH 3 
 - 
 - protected abstract void func _ 177179 _ a ( ModelBase p _ 177179 _ 1 _ , int p _ 177179 _ 2 _ ) ; 
 - 
 - + / * = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = FORGE START = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = * / 
 - + / * * 
 - + * More generic ForgeHook version of the above function , it allows for Items to have more control over what texture they provide . 
 - + * 
 - + * @ param entity Entity wearing the armor 
 - + * @ param stack ItemStack for the armor 
 - + * @ param slot Slot ID that the item is in 
 - + * @ param type Subtype , can be null or " overlay " 
 - + * @ return ResourceLocation pointing at the armor ' s texture 
 - + * / 
 - + public ResourceLocation getArmorResource ( net . minecraft . entity . Entity entity , ItemStack stack , int slot , String type ) 
 - + { 
 - + ItemArmor item = ( ItemArmor ) stack . getItem ( ) ; 
 - + String texture = ( ( ItemArmor ) stack . getItem ( ) ) . getArmorMaterial ( ) . getName ( ) ; 
 - + String domain = " minecraft " ; 
 - + int idx = texture . indexOf ( ' : ' ) ; 
 - + if ( idx ! = - 1 ) 
 - + { 
 - + domain = texture . substring ( 0 , idx ) ; 
 - + texture = texture . substring ( idx + 1 ) ; 
 - + } 
 - + String s1 = String . format ( " % s : textures / models / armor / % s _ layer _ % d % s . png " , domain , texture , ( slot = = 2 ? 2 : 1 ) , type = = null ? " " : String . format ( " _ % s " , type ) ) ; 
 - + 
 - + s1 = net . minecraftforge . client . ForgeHooksClient . getArmorTexture ( entity , stack , s1 , slot , type ) ; 
 - + ResourceLocation resourcelocation = ( ResourceLocation ) field _ 177191 _ j . get ( s1 ) ; 
 - + 
 - + if ( resourcelocation = = null ) 
 - + { 
 - + resourcelocation = new ResourceLocation ( s1 ) ; 
 - + field _ 177191 _ j . put ( s1 , resourcelocation ) ; 
 - + } 
 - + 
 - + return resourcelocation ; 
 - + } 
 - + / * = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = FORGE END = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = * / 
 - + 
 - @ SideOnly ( Side . CLIENT ) 
 - 
 - static final class SwitchArmorMaterial 
 - + + + + END PATCH 
 diff - - git a / rejects / minecraft / net / minecraft / item / ItemStack . java . patch . rej b / rejects / minecraft / net / minecraft / item / ItemStack . java . patch . rej 
 deleted file mode 100644 
 index eee0c26 . . 0000000 
 - - - a / rejects / minecraft / net / minecraft / item / ItemStack . java . patch . rej 
 + + + / dev / null 
 @ @ - 1 , 20 + 0 , 0 @ @ 
 - + + + + REJECTED PATCH 10 
 - } 
 - } 
 - 
 - + net . minecraftforge . event . ForgeEventFactory . onItemTooltip ( this , playerIn , arraylist , advanced ) ; 
 - + 
 - return arraylist ; 
 - } 
 - 
 - + + + + END PATCH 
 - + + + + REJECTED PATCH 11 
 - } 
 - else 
 - { 
 - - object = this . getItem ( ) . getItemAttributeModifiers ( ) ; 
 - + object = this . getItem ( ) . getAttributeModifiers ( this ) ; 
 - } 
 - 
 - return ( Multimap ) object ; 
 - + + + + END PATCH 
 diff - - git a / src / main / java / net / minecraftforge / client / ForgeHooksClient . java b / src / main / java / net / minecraftforge / client / ForgeHooksClient . java 
 index fdf0c30 . . 2fc9623 100644 
 - - - a / src / main / java / net / minecraftforge / client / ForgeHooksClient . java 
 + + + b / src / main / java / net / minecraftforge / client / ForgeHooksClient . java 
 @ @ - 10 , 7 + 10 , 6 @ @ import java . nio . FloatBuffer ; 
 import java . util . Map ; 
 
 import javax . vecmath . Matrix4f ; 
 - import javax . vecmath . Vector3d ; 
 import javax . vecmath . Vector3f ; 
 import javax . vecmath . Vector4f ; 
 
 @ @ - 23 , 7 + 22 , 7 @ @ import net . minecraft . client . audio . SoundManager ; 
 import net . minecraft . client . gui . FontRenderer ; 
 import net . minecraft . client . gui . GuiMainMenu ; 
 import net . minecraft . client . gui . GuiScreen ; 
 - import net . minecraft . client . model . ModelBase ; 
 + import net . minecraft . client . model . ModelBiped ; 
 import net . minecraft . client . renderer . EntityRenderer ; 
 import net . minecraft . client . renderer . GlStateManager ; 
 import net . minecraft . client . renderer . OpenGlHelper ; 
 @ @ - 32 , 7 + 31 , 6 @ @ import net . minecraft . client . renderer . WorldRenderer ; 
 import net . minecraft . client . renderer . block . model . BakedQuad ; 
 import net . minecraft . client . renderer . block . model . ItemCameraTransforms ; 
 import net . minecraft . client . renderer . block . model . ItemTransformVec3f ; 
 - import net . minecraft . client . renderer . entity . RenderItem ; 
 import net . minecraft . client . renderer . texture . TextureManager ; 
 import net . minecraft . client . renderer . texture . TextureMap ; 
 import net . minecraft . client . renderer . tileentity . TileEntityRendererDispatcher ; 
 @ @ - 91 , 6 + 89 , 7 @ @ import org . lwjgl . opengl . GL11 ; 
 
 
 
 + 
 import com . google . common . collect . Maps ; 
 
 public class ForgeHooksClient 
 @ @ - 326 , 10 + 325 , 10 @ @ public class ForgeHooksClient 
 renderLayer . set ( layer ) ; 
 } 
 
 - public static ModelBase getArmorModel ( EntityLivingBase entityLiving , ItemStack itemStack , int slotID , ModelBase _ default ) 
 + public static ModelBiped getArmorModel ( EntityLivingBase entityLiving , ItemStack itemStack , int slotID , ModelBiped _ default ) 
 { 
 - ModelBase modelbase = itemStack . getItem ( ) . getArmorModel ( entityLiving , itemStack , slotID ) ; 
 - return modelbase = = null ? _ default : modelbase ; 
 + ModelBiped model = itemStack . getItem ( ) . getArmorModel ( entityLiving , itemStack , slotID ) ; 
 + return model = = null ? _ default : model ; 
 } 
 
 / / This properly moves the domain , if provided , to the front of the string before concatenating

NEAREST DIFF:
diff - - git a / fml - src - 1 . 4 . 6 - 4 . 6 . 0 . 502 - master . zip b / fml - src - 1 . 4 . 6 - 4 . 6 . 0 . 502 - master . zip 
 deleted file mode 100644 
 index aeb7c55 . . 0000000 
 Binary files a / fml - src - 1 . 4 . 6 - 4 . 6 . 0 . 502 - master . zip and / dev / null differ 
 diff - - git a / fml - src - 1 . 4 . 6 - 4 . 6 . 4 . 505 - master . zip b / fml - src - 1 . 4 . 6 - 4 . 6 . 4 . 505 - master . zip 
 new file mode 100644 
 index 0000000 . . 49a3243 
 Binary files / dev / null and b / fml - src - 1 . 4 . 6 - 4 . 6 . 4 . 505 - master . zip differ
