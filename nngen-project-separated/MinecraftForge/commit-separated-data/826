BLEU SCORE: 0.08295193507109855

TEST MSG: EntityRenderer , most of RenderGlobal , minor fix to LayerBipedArmor .
GENERATED MSG: EntityRenderer , StringTranslate rejects fixed .

TEST DIFF (one line): diff - - git a / patches . mcp / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch b / patches . mcp / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch <nl> index acb32c3 . . a2f88c7 100644 <nl> - - - a / patches . mcp / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch <nl> + + + b / patches . mcp / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch <nl> @ @ - 8 , 16 + 8 , 41 @ @ <nl> } <nl> } <nl> <nl> + @ @ - 398 , 7 + 399 , 7 @ @ <nl> + <nl> + if ( d3 < d2 | | d2 = = 0 . 0D ) <nl> + { <nl> + - if ( entity1 . func _ 184208 _ bv ( ) = = entity . func _ 184208 _ bv ( ) ) <nl> + + if ( entity1 . func _ 184208 _ bv ( ) = = entity . func _ 184208 _ bv ( ) & & ! entity . canRiderInteract ( ) ) <nl> + { <nl> + if ( d2 = = 0 . 0D ) <nl> + { <nl> @ @ - 491 , 7 + 492 , 7 @ @ <nl> f = f * 60 . 0F / 70 . 0F ; <nl> } <nl> <nl> - return f ; <nl> - + return net . minecraftforge . client . ForgeHooksClient . getFOVModifier ( this , entity , block , partialTicks , f ) ; <nl> + + return net . minecraftforge . client . ForgeHooksClient . getFOVModifier ( this , entity , iblockstate , partialTicks , f ) ; <nl> } <nl> } <nl> <nl> - @ @ - 629 , 17 + 630 , 20 @ @ <nl> + @ @ - 555 , 14 + 556 , 8 @ @ <nl> + { <nl> + BlockPos blockpos = new BlockPos ( entity ) ; <nl> + IBlockState iblockstate = this . mc . theWorld . getBlockState ( blockpos ) ; <nl> + - Block block = iblockstate . getBlock ( ) ; <nl> + + net . minecraftforge . client . ForgeHooksClient . orientBedCamera ( this . mc . theWorld , blockpos , iblockstate , entity ) ; <nl> + <nl> + - if ( block = = Blocks . bed ) <nl> + - { <nl> + - int j = ( ( EnumFacing ) iblockstate . getValue ( BlockBed . field _ 185512 _ D ) ) . getHorizontalIndex ( ) ; <nl> + - GlStateManager . rotate ( ( float ) ( j * 90 ) , 0 . 0F , 1 . 0F , 0 . 0F ) ; <nl> + - } <nl> + - <nl> + GlStateManager . rotate ( entity . prevRotationYaw + ( entity . rotationYaw - entity . prevRotationYaw ) * partialTicks + 180 . 0F , 0 . 0F , - 1 . 0F , 0 . 0F ) ; <nl> + GlStateManager . rotate ( entity . prevRotationPitch + ( entity . rotationPitch - entity . prevRotationPitch ) * partialTicks , - 1 . 0F , 0 . 0F , 0 . 0F ) ; <nl> + } <nl> + @ @ - 629 , 17 + 624 , 20 @ @ <nl> <nl> if ( ! this . mc . gameSettings . debugCamEnable ) <nl> { <nl> @ @ - 36 , 8 + 61 , 8 @ @ <nl> - { <nl> - GlStateManager . rotate ( entity . prevRotationYaw + ( entity . rotationYaw - entity . prevRotationYaw ) * partialTicks + 180 . 0F , 0 . 0F , 1 . 0F , 0 . 0F ) ; <nl> - } <nl> - + Block block = ActiveRenderInfo . getBlockAtEntityViewpoint ( this . mc . theWorld , entity , partialTicks ) ; <nl> - + net . minecraftforge . client . event . EntityViewRenderEvent . CameraSetup event = new net . minecraftforge . client . event . EntityViewRenderEvent . CameraSetup ( this , entity , block , partialTicks , yaw , pitch , roll ) ; <nl> + + IBlockState state = ActiveRenderInfo . func _ 186703 _ a ( this . mc . theWorld , entity , partialTicks ) ; <nl> + + net . minecraftforge . client . event . EntityViewRenderEvent . CameraSetup event = new net . minecraftforge . client . event . EntityViewRenderEvent . CameraSetup ( this , entity , state , partialTicks , yaw , pitch , roll ) ; <nl> + net . minecraftforge . common . MinecraftForge . EVENT _ BUS . post ( event ) ; <nl> + GlStateManager . rotate ( event . roll , 0 . 0F , 0 . 0F , 1 . 0F ) ; <nl> + GlStateManager . rotate ( event . pitch , 1 . 0F , 0 . 0F , 0 . 0F ) ; <nl> @ @ - 45 , 7 + 70 , 15 @ @ <nl> } <nl> <nl> GlStateManager . translate ( 0 . 0F , - f , 0 . 0F ) ; <nl> - @ @ - 1092 , 7 + 1096 , 7 @ @ <nl> + @ @ - 757 , 6 + 755 , 7 @ @ <nl> + <nl> + boolean flag = this . mc . getRenderViewEntity ( ) instanceof EntityLivingBase & & ( ( EntityLivingBase ) this . mc . getRenderViewEntity ( ) ) . isPlayerSleeping ( ) ; <nl> + <nl> + + if ( ! net . minecraftforge . client . ForgeHooksClient . renderFirstPersonHand ( mc . renderGlobal , partialTicks , xOffset ) ) <nl> + if ( this . mc . gameSettings . thirdPersonView = = 0 & & ! flag & & ! this . mc . gameSettings . hideGUI & & ! this . mc . playerController . isSpectator ( ) ) <nl> + { <nl> + this . enableLightmap ( ) ; <nl> + @ @ - 1092 , 7 + 1091 , 7 @ @ <nl> <nl> try <nl> { <nl> @ @ - 54 , 7 + 87 , 7 @ @ <nl> } <nl> catch ( Throwable throwable ) <nl> { <nl> - @ @ - 1187 , 7 + 1191 , 7 @ @ <nl> + @ @ - 1187 , 7 + 1186 , 7 @ @ <nl> <nl> if ( this . mc . playerController . getCurrentGameType ( ) = = WorldSettings . GameType . SPECTATOR ) <nl> { <nl> @ @ - 63 , 7 + 96 , 7 @ @ <nl> } <nl> else <nl> { <nl> - @ @ - 1312 , 7 + 1316 , 9 @ @ <nl> + @ @ - 1312 , 7 + 1311 , 9 @ @ <nl> GlStateManager . pushMatrix ( ) ; <nl> RenderHelper . enableStandardItemLighting ( ) ; <nl> this . mc . mcProfiler . endStartSection ( " entities " ) ; <nl> @ @ - 73 , 7 + 106 , 31 @ @ <nl> RenderHelper . disableStandardItemLighting ( ) ; <nl> this . disableLightmap ( ) ; <nl> } <nl> - @ @ - 1378 , 8 + 1384 , 12 @ @ <nl> + @ @ - 1325 , 6 + 1326 , 7 @ @ <nl> + EntityPlayer entityplayer = ( EntityPlayer ) entity ; <nl> + GlStateManager . disableAlpha ( ) ; <nl> + this . mc . mcProfiler . endStartSection ( " outline " ) ; <nl> + + if ( ! net . minecraftforge . client . ForgeHooksClient . onDrawBlockHighlight ( renderglobal , entityplayer , mc . objectMouseOver , 0 , partialTicks ) ) <nl> + renderglobal . drawSelectionBox ( entityplayer , this . mc . objectMouseOver , 0 , partialTicks ) ; <nl> + GlStateManager . enableAlpha ( ) ; <nl> + } <nl> + @ @ - 1366 , 6 + 1368 , 15 @ @ <nl> + GlStateManager . shadeModel ( 7425 ) ; <nl> + this . mc . mcProfiler . endStartSection ( " translucent " ) ; <nl> + renderglobal . renderBlockLayer ( BlockRenderLayer . TRANSLUCENT , ( double ) partialTicks , pass , entity ) ; <nl> + + if ( ! this . debugView ) / / Only render if render pass 0 happens as well . <nl> + + { <nl> + + RenderHelper . enableStandardItemLighting ( ) ; <nl> + + this . mc . mcProfiler . endStartSection ( " entities " ) ; <nl> + + net . minecraftforge . client . ForgeHooksClient . setRenderPass ( 1 ) ; <nl> + + renderglobal . renderEntities ( entity , icamera , partialTicks ) ; <nl> + + net . minecraftforge . client . ForgeHooksClient . setRenderPass ( - 1 ) ; <nl> + + RenderHelper . disableStandardItemLighting ( ) ; <nl> + + } <nl> + GlStateManager . shadeModel ( 7424 ) ; <nl> + GlStateManager . depthMask ( true ) ; <nl> + GlStateManager . enableCull ( ) ; <nl> + @ @ - 1378 , 6 + 1389 , 9 @ @ <nl> this . renderCloudsCheck ( renderglobal , partialTicks , pass ) ; <nl> } <nl> <nl> @ @ - 82 , 11 + 139 , 8 @ @ <nl> + <nl> this . mc . mcProfiler . endStartSection ( " hand " ) ; <nl> <nl> - + if ( ! net . minecraftforge . client . ForgeHooksClient . renderFirstPersonHand ( renderglobal , partialTicks , pass ) ) <nl> if ( this . renderHand ) <nl> - { <nl> - GlStateManager . clear ( 256 ) ; <nl> - @ @ - 1490 , 6 + 1500 , 13 @ @ <nl> + @ @ - 1490 , 6 + 1504 , 13 @ @ <nl> <nl> protected void renderRainSnow ( float partialTicks ) <nl> { <nl> @ @ - 100 , 11 + 154 , 11 @ @ <nl> float f = this . mc . theWorld . getRainStrength ( partialTicks ) ; <nl> <nl> if ( f > 0 . 0F ) <nl> - @ @ - 1820 , 6 + 1837 , 13 @ @ <nl> + @ @ - 1820 , 6 + 1841 , 13 @ @ <nl> this . fogColorBlue = f7 ; <nl> } <nl> <nl> - + net . minecraftforge . client . event . EntityViewRenderEvent . FogColors event = new net . minecraftforge . client . event . EntityViewRenderEvent . FogColors ( this , entity , block , partialTicks , this . fogColorRed , this . fogColorGreen , this . fogColorBlue ) ; <nl> + + net . minecraftforge . client . event . EntityViewRenderEvent . FogColors event = new net . minecraftforge . client . event . EntityViewRenderEvent . FogColors ( this , entity , iblockstate , partialTicks , this . fogColorRed , this . fogColorGreen , this . fogColorBlue ) ; <nl> + net . minecraftforge . common . MinecraftForge . EVENT _ BUS . post ( event ) ; <nl> + <nl> + this . fogColorRed = event . red ; <nl> @ @ - 114 , 11 + 168 , 22 @ @ <nl> GlStateManager . clearColor ( this . fogColorRed , this . fogColorGreen , this . fogColorBlue , 0 . 0F ) ; <nl> } <nl> <nl> - @ @ - 1915 , 6 + 1939 , 7 @ @ <nl> + @ @ - 1830 , 7 + 1858 , 9 @ @ <nl> + GlStateManager . func _ 187432 _ a ( 0 . 0F , - 1 . 0F , 0 . 0F ) ; <nl> + GlStateManager . color ( 1 . 0F , 1 . 0F , 1 . 0F , 1 . 0F ) ; <nl> + IBlockState iblockstate = ActiveRenderInfo . func _ 186703 _ a ( this . mc . theWorld , entity , partialTicks ) ; <nl> + - <nl> + + float hook = net . minecraftforge . client . ForgeHooksClient . getFogDensity ( this , entity , iblockstate , partialTicks , 0 . 1F ) ; <nl> + + if ( hook > = 0 ) GlStateManager . setFogDensity ( hook ) ; <nl> + + else <nl> + if ( entity instanceof EntityLivingBase & & ( ( EntityLivingBase ) entity ) . isPotionActive ( MobEffects . blindness ) ) <nl> + { <nl> + float f1 = 5 . 0F ; <nl> + @ @ - 1915 , 6 + 1945 , 7 @ @ <nl> GlStateManager . setFogStart ( f * 0 . 05F ) ; <nl> GlStateManager . setFogEnd ( Math . min ( f , 192 . 0F ) * 0 . 5F ) ; <nl> } <nl> - + net . minecraftforge . client . ForgeHooksClient . onFogRender ( this , entity , block , partialTicks , p _ 78468 _ 1 _ , f ) ; <nl> + + net . minecraftforge . client . ForgeHooksClient . onFogRender ( this , entity , iblockstate , partialTicks , p _ 78468 _ 1 _ , f ) ; <nl> } <nl> <nl> GlStateManager . enableColorMaterial ( ) ; <nl> diff - - git a / patches . mcp / minecraft / net / minecraft / client / renderer / RenderGlobal . java . patch b / patches . mcp / minecraft / net / minecraft / client / renderer / RenderGlobal . java . patch <nl> index 887b5b0 . . 5798363 100644 <nl> - - - a / patches . mcp / minecraft / net / minecraft / client / renderer / RenderGlobal . java . patch <nl> + + + b / patches . mcp / minecraft / net / minecraft / client / renderer / RenderGlobal . java . patch <nl> @ @ - 40 , 7 + 40 , 15 @ @ <nl> + + this . countEntitiesRendered ; <nl> <nl> if ( entity1 . isInRangeToRender3d ( d0 , d1 , d2 ) ) <nl> - @ @ - 672 , 6 + 681 , 7 @ @ <nl> + @ @ - 599 , 6 + 608 , 7 @ @ <nl> + { <nl> + for ( Entity entity2 : classinheritancemultimap ) <nl> + { <nl> + + 	 if ( ! entity2 . shouldRenderInPass ( pass ) ) continue ; <nl> + boolean flag = this . renderManager . shouldRender ( entity2 , camera , d0 , d1 , d2 ) | | entity2 . func _ 184215 _ y ( this . mc . thePlayer ) ; <nl> + <nl> + if ( flag ) <nl> + @ @ - 672 , 6 + 682 , 7 @ @ <nl> this . theWorld . theProfiler . endStartSection ( " blockentities " ) ; <nl> RenderHelper . enableStandardItemLighting ( ) ; <nl> <nl> @ @ - 48 , 7 + 56 , 7 @ @ <nl> for ( RenderGlobal . ContainerLocalRenderInformation renderglobal $ containerlocalrenderinformation1 : this . renderInfos ) <nl> { <nl> List < TileEntity > list3 = renderglobal $ containerlocalrenderinformation1 . renderChunk . getCompiledChunk ( ) . getTileEntities ( ) ; <nl> - @ @ - 680 , 6 + 690 , 7 @ @ <nl> + @ @ - 680 , 6 + 691 , 7 @ @ <nl> { <nl> for ( TileEntity tileentity2 : list3 ) <nl> { <nl> @ @ - 56 , 7 + 64 , 7 @ @ <nl> TileEntityRendererDispatcher . instance . renderTileEntity ( tileentity2 , partialTicks , - 1 ) ; <nl> } <nl> } <nl> - @ @ - 689 , 9 + 700 , 11 @ @ <nl> + @ @ - 689 , 9 + 701 , 11 @ @ <nl> { <nl> for ( TileEntity tileentity : this . setTileEntities ) <nl> { <nl> @ @ - 68 , 7 + 76 , 7 @ @ <nl> <nl> this . preRenderDamagedBlocks ( ) ; <nl> <nl> - @ @ - 718 , 7 + 731 , 7 @ @ <nl> + @ @ - 718 , 7 + 732 , 7 @ @ <nl> <nl> Block block = this . theWorld . getBlockState ( blockpos ) . getBlock ( ) ; <nl> <nl> @ @ - 77 , 7 + 85 , 21 @ @ <nl> { <nl> TileEntityRendererDispatcher . instance . renderTileEntity ( tileentity1 , partialTicks , destroyblockprogress . getPartialBlockDamage ( ) ) ; <nl> } <nl> - @ @ - 1427 , 6 + 1440 , 12 @ @ <nl> + @ @ - 1210 , 6 + 1224 , 13 @ @ <nl> + <nl> + public void renderSky ( float partialTicks , int pass ) <nl> + { <nl> + + 	 net . minecraftforge . client . IRenderHandler renderer = this . theWorld . provider . getSkyRenderer ( ) ; <nl> + + if ( renderer ! = null ) <nl> + + { <nl> + + renderer . render ( partialTicks , theWorld , mc ) ; <nl> + + return ; <nl> + + } <nl> + + <nl> + if ( this . mc . theWorld . provider . func _ 186058 _ p ( ) . func _ 186068 _ a ( ) = = 1 ) <nl> + { <nl> + this . renderSkyEnd ( ) ; <nl> + @ @ - 1427 , 6 + 1448 , 12 @ @ <nl> <nl> public void renderClouds ( float partialTicks , int pass ) <nl> { <nl> @ @ - 90 , 7 + 112 , 7 @ @ <nl> if ( this . mc . theWorld . provider . isSurfaceWorld ( ) ) <nl> { <nl> if ( this . mc . gameSettings . func _ 181147 _ e ( ) = = 2 ) <nl> - @ @ - 1854 , 8 + 1873 , 11 @ @ <nl> + @ @ - 1854 , 8 + 1881 , 11 @ @ <nl> double d4 = ( double ) blockpos . getY ( ) - d1 ; <nl> double d5 = ( double ) blockpos . getZ ( ) - d2 ; <nl> Block block = this . theWorld . getBlockState ( blockpos ) . getBlock ( ) ; <nl> diff - - git a / patches . mcp / minecraft / net / minecraft / client / renderer / entity / layers / LayerBipedArmor . java . patch b / patches . mcp / minecraft / net / minecraft / client / renderer / entity / layers / LayerBipedArmor . java . patch <nl> index 9990cb4 . . 854dd05 100644 <nl> - - - a / patches . mcp / minecraft / net / minecraft / client / renderer / entity / layers / LayerBipedArmor . java . patch <nl> + + + b / patches . mcp / minecraft / net / minecraft / client / renderer / entity / layers / LayerBipedArmor . java . patch <nl> @ @ - 6 , 7 + 6 , 7 @ @ <nl> } <nl> + <nl> + @ Override <nl> - + protected ModelBiped getArmorModelHook ( net . minecraft . entity . EntityLivingBase entity , net . minecraft . item . ItemStack itemStack , int slot , ModelBiped model ) <nl> + + protected ModelBiped getArmorModelHook ( net . minecraft . entity . EntityLivingBase entity , net . minecraft . item . ItemStack itemStack , EntityEquipmentSlot slot , ModelBiped model ) <nl> + { <nl> + return net . minecraftforge . client . ForgeHooksClient . getArmorModel ( entity , itemStack , slot , model ) ; <nl> + } <nl> diff - - git a / rejects / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch . rej b / rejects / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch . rej <nl> deleted file mode 100644 <nl> index c1b1b32 . . 0000000 <nl> - - - a / rejects / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch . rej <nl> + + + / dev / null <nl> @ @ - 1 , 74 + 0 , 0 @ @ <nl> - + + + + REJECTED PATCH 2 <nl> - <nl> - if ( d3 < d2 | | d2 = = 0 . 0D ) <nl> - { <nl> - - if ( entity1 = = entity . ridingEntity ) <nl> - + if ( entity1 = = entity . ridingEntity & & ! entity . canRiderInteract ( ) ) <nl> - { <nl> - if ( d2 = = 0 . 0D ) <nl> - { <nl> - + + + + END PATCH <nl> - + + + + REJECTED PATCH 4 <nl> - { <nl> - BlockPos blockpos = new BlockPos ( entity ) ; <nl> - IBlockState iblockstate = this . mc . theWorld . getBlockState ( blockpos ) ; <nl> - - Block block = iblockstate . getBlock ( ) ; <nl> - + net . minecraftforge . client . ForgeHooksClient . orientBedCamera ( this . mc . theWorld , blockpos , iblockstate , entity ) ; <nl> - <nl> - - if ( block = = Blocks . bed ) <nl> - - { <nl> - - int j = ( ( EnumFacing ) iblockstate . getValue ( BlockBed . FACING ) ) . getHorizontalIndex ( ) ; <nl> - - GlStateManager . rotate ( ( float ) ( j * 90 ) , 0 . 0F , 1 . 0F , 0 . 0F ) ; <nl> - - } <nl> - - <nl> - GlStateManager . rotate ( entity . prevRotationYaw + ( entity . rotationYaw - entity . prevRotationYaw ) * partialTicks + 180 . 0F , 0 . 0F , - 1 . 0F , 0 . 0F ) ; <nl> - GlStateManager . rotate ( entity . prevRotationPitch + ( entity . rotationPitch - entity . prevRotationPitch ) * partialTicks , - 1 . 0F , 0 . 0F , 0 . 0F ) ; <nl> - } <nl> - + + + + END PATCH <nl> - + + + + REJECTED PATCH 9 <nl> - EntityPlayer entityplayer = ( EntityPlayer ) entity ; <nl> - GlStateManager . disableAlpha ( ) ; <nl> - this . mc . mcProfiler . endStartSection ( " outline " ) ; <nl> - + if ( ! net . minecraftforge . client . ForgeHooksClient . onDrawBlockHighlight ( renderglobal , entityplayer , mc . objectMouseOver , 0 , entityplayer . getHeldItem ( ) , partialTicks ) ) <nl> - renderglobal . drawSelectionBox ( entityplayer , this . mc . objectMouseOver , 0 , partialTicks ) ; <nl> - GlStateManager . enableAlpha ( ) ; <nl> - } <nl> - + + + + END PATCH <nl> - + + + + REJECTED PATCH 10 <nl> - EntityPlayer entityplayer1 = ( EntityPlayer ) entity ; <nl> - GlStateManager . disableAlpha ( ) ; <nl> - this . mc . mcProfiler . endStartSection ( " outline " ) ; <nl> - + if ( ! net . minecraftforge . client . ForgeHooksClient . onDrawBlockHighlight ( renderglobal , entityplayer1 , mc . objectMouseOver , 0 , entityplayer1 . getHeldItem ( ) , partialTicks ) ) <nl> - renderglobal . drawSelectionBox ( entityplayer1 , this . mc . objectMouseOver , 0 , partialTicks ) ; <nl> - GlStateManager . enableAlpha ( ) ; <nl> - } <nl> - + + + + END PATCH <nl> - + + + + REJECTED PATCH 11 <nl> - GlStateManager . shadeModel ( 7425 ) ; <nl> - this . mc . mcProfiler . endStartSection ( " translucent " ) ; <nl> - renderglobal . renderBlockLayer ( EnumWorldBlockLayer . TRANSLUCENT , ( double ) partialTicks , pass , entity ) ; <nl> - + if ( ! this . debugView ) / / Only render if render pass 0 happens as well . <nl> - + { <nl> - + RenderHelper . enableStandardItemLighting ( ) ; <nl> - + this . mc . mcProfiler . endStartSection ( " entities " ) ; <nl> - + net . minecraftforge . client . ForgeHooksClient . setRenderPass ( 1 ) ; <nl> - + renderglobal . renderEntities ( entity , icamera , partialTicks ) ; <nl> - + net . minecraftforge . client . ForgeHooksClient . setRenderPass ( - 1 ) ; <nl> - + RenderHelper . disableStandardItemLighting ( ) ; <nl> - + } <nl> - GlStateManager . shadeModel ( 7424 ) ; <nl> - GlStateManager . depthMask ( true ) ; <nl> - GlStateManager . enableCull ( ) ; <nl> - + + + + END PATCH <nl> - + + + + REJECTED PATCH 15 <nl> - GlStateManager . color ( 1 . 0F , 1 . 0F , 1 . 0F , 1 . 0F ) ; <nl> - Block block = ActiveRenderInfo . getBlockAtEntityViewpoint ( this . mc . theWorld , entity , partialTicks ) ; <nl> - <nl> - + float hook = net . minecraftforge . client . ForgeHooksClient . getFogDensity ( this , entity , block , partialTicks , 0 . 1F ) ; <nl> - + if ( hook > = 0 ) <nl> - + GlStateManager . setFogDensity ( hook ) ; <nl> - + else <nl> - if ( entity instanceof EntityLivingBase & & ( ( EntityLivingBase ) entity ) . isPotionActive ( Potion . blindness ) ) <nl> - { <nl> - float f1 = 5 . 0F ; <nl> - + + + + END PATCH <nl> diff - - git a / rejects / minecraft / net / minecraft / client / renderer / RenderGlobal . java . patch . rej b / rejects / minecraft / net / minecraft / client / renderer / RenderGlobal . java . patch . rej <nl> index 182cfa6 . . 3a8a044 100644 <nl> - - - a / rejects / minecraft / net / minecraft / client / renderer / RenderGlobal . java . patch . rej <nl> + + + b / rejects / minecraft / net / minecraft / client / renderer / RenderGlobal . java . patch . rej <nl> @ @ - 1 , 35 + 1 , 3 @ @ <nl> - + + + + REJECTED PATCH 4 <nl> - for ( int j = 0 ; j < list . size ( ) ; + + j ) <nl> - { <nl> - Entity entity3 = ( Entity ) list . get ( j ) ; <nl> - + if ( ! entity3 . shouldRenderInPass ( pass ) ) continue ; <nl> - boolean flag = this . mc . getRenderViewEntity ( ) instanceof EntityLivingBase & & ( ( EntityLivingBase ) this . mc . getRenderViewEntity ( ) ) . isPlayerSleeping ( ) ; <nl> - boolean flag1 = entity3 . isInRangeToRender3d ( d0 , d1 , d2 ) & & ( entity3 . ignoreFrustumCheck | | camera . isBoundingBoxInFrustum ( entity3 . getEntityBoundingBox ( ) ) | | entity3 . riddenByEntity = = this . mc . thePlayer ) & & entity3 instanceof EntityPlayer ; <nl> - <nl> - + + + + END PATCH <nl> - + + + + REJECTED PATCH 5 <nl> - } <nl> - <nl> - entity2 = ( Entity ) iterator . next ( ) ; <nl> - + if ( ! entity2 . shouldRenderInPass ( pass ) ) continue ; <nl> - flag2 = this . renderManager . shouldRender ( entity2 , camera , d0 , d1 , d2 ) | | entity2 . riddenByEntity = = this . mc . thePlayer ; <nl> - <nl> - if ( ! flag2 ) <nl> - + + + + END PATCH <nl> - + + + + REJECTED PATCH 10 <nl> - <nl> - public void renderSky ( float partialTicks , int pass ) <nl> - { <nl> - + net . minecraftforge . client . IRenderHandler renderer = this . theWorld . provider . getSkyRenderer ( ) ; <nl> - + if ( renderer ! = null ) <nl> - + { <nl> - + renderer . render ( partialTicks , theWorld , mc ) ; <nl> - + return ; <nl> - + } <nl> - if ( this . mc . theWorld . provider . getDimensionId ( ) = = 1 ) <nl> - { <nl> - this . renderSkyEnd ( ) ; <nl> - + + + + END PATCH <nl> + + + + REJECTED PATCH 13 <nl> if ( recordName ! = null ) <nl> { <nl> diff - - git a / src / main / java / net / minecraftforge / client / ForgeHooksClient . java b / src / main / java / net / minecraftforge / client / ForgeHooksClient . java <nl> index a806b6f . . 7d258b2 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / ForgeHooksClient . java <nl> + + + b / src / main / java / net / minecraftforge / client / ForgeHooksClient . java <nl> @ @ - 49 , 6 + 49 , 7 @ @ import net . minecraft . client . settings . GameSettings ; <nl> import net . minecraft . entity . Entity ; <nl> import net . minecraft . entity . EntityLivingBase ; <nl> import net . minecraft . entity . player . EntityPlayer ; <nl> + import net . minecraft . inventory . EntityEquipmentSlot ; <nl> import net . minecraft . item . Item ; <nl> import net . minecraft . item . ItemStack ; <nl> import net . minecraft . tileentity . TileEntity ; <nl> @ @ - 100 , 7 + 101 , 7 @ @ public class ForgeHooksClient <nl> return FMLClientHandler . instance ( ) . getClient ( ) . renderEngine ; <nl> } <nl> <nl> - public static String getArmorTexture ( Entity entity , ItemStack armor , String _ default , int slot , String type ) <nl> + public static String getArmorTexture ( Entity entity , ItemStack armor , String _ default , EntityEquipmentSlot slot , String type ) <nl> { <nl> String result = armor . getItem ( ) . getArmorTexture ( armor , entity , slot , type ) ; <nl> return result ! = null ? result : _ default ; <nl> @ @ - 119 , 9 + 120 , 9 @ @ public class ForgeHooksClient <nl> } <nl> } <nl> <nl> - public static boolean onDrawBlockHighlight ( RenderGlobal context , EntityPlayer player , RayTraceResult target , int subID , ItemStack currentItem , float partialTicks ) <nl> + public static boolean onDrawBlockHighlight ( RenderGlobal context , EntityPlayer player , RayTraceResult target , int subID , float partialTicks ) <nl> { <nl> - return MinecraftForge . EVENT _ BUS . post ( new DrawBlockHighlightEvent ( context , player , target , subID , currentItem , partialTicks ) ) ; <nl> + return MinecraftForge . EVENT _ BUS . post ( new DrawBlockHighlightEvent ( context , player , target , subID , partialTicks ) ) ; <nl> } <nl> <nl> public static void dispatchRenderLast ( RenderGlobal context , float partialTicks ) <nl> @ @ - 164 , 9 + 165 , 9 @ @ public class ForgeHooksClient <nl> renderLayer . set ( layer ) ; <nl> } <nl> <nl> - public static ModelBiped getArmorModel ( EntityLivingBase entityLiving , ItemStack itemStack , int slotID , ModelBiped _ default ) <nl> + public static ModelBiped getArmorModel ( EntityLivingBase entityLiving , ItemStack itemStack , EntityEquipmentSlot slot , ModelBiped _ default ) <nl> { <nl> - ModelBiped model = itemStack . getItem ( ) . getArmorModel ( entityLiving , itemStack , slotID , _ default ) ; <nl> + ModelBiped model = itemStack . getItem ( ) . getArmorModel ( entityLiving , itemStack , slot , _ default ) ; <nl> return model = = null ? _ default : model ; <nl> } <nl> <nl> @ @ - 203 , 8 + 204 , 8 @ @ public class ForgeHooksClient <nl> return fovUpdateEvent . newfov ; <nl> } <nl> <nl> - public static float getFOVModifier ( EntityRenderer renderer , Entity entity , Block block , double renderPartialTicks , float fov ) { <nl> - EntityViewRenderEvent . FOVModifier event = new EntityViewRenderEvent . FOVModifier ( renderer , entity , block , renderPartialTicks , fov ) ; <nl> + public static float getFOVModifier ( EntityRenderer renderer , Entity entity , IBlockState state , double renderPartialTicks , float fov ) { <nl> + EntityViewRenderEvent . FOVModifier event = new EntityViewRenderEvent . FOVModifier ( renderer , entity , state , renderPartialTicks , fov ) ; <nl> MinecraftForge . EVENT _ BUS . post ( event ) ; <nl> return event . getFOV ( ) ; <nl> } <nl> @ @ - 318 , 16 + 319 , 16 @ @ public class ForgeHooksClient <nl> MinecraftForge . EVENT _ BUS . post ( new GuiScreenEvent . DrawScreenEvent . Post ( screen , mouseX , mouseY , partialTicks ) ) ; <nl> } <nl> <nl> - public static float getFogDensity ( EntityRenderer renderer , Entity entity , Block block , float partial , float density ) <nl> + public static float getFogDensity ( EntityRenderer renderer , Entity entity , IBlockState state , float partial , float density ) <nl> { <nl> - EntityViewRenderEvent . FogDensity event = new EntityViewRenderEvent . FogDensity ( renderer , entity , block , partial , density ) ; <nl> + EntityViewRenderEvent . FogDensity event = new EntityViewRenderEvent . FogDensity ( renderer , entity , state , partial , density ) ; <nl> if ( MinecraftForge . EVENT _ BUS . post ( event ) ) return event . density ; <nl> return - 1 ; <nl> } <nl> <nl> - public static void onFogRender ( EntityRenderer renderer , Entity entity , Block block , float partial , int mode , float distance ) <nl> + public static void onFogRender ( EntityRenderer renderer , Entity entity , IBlockState state , float partial , int mode , float distance ) <nl> { <nl> - MinecraftForge . EVENT _ BUS . post ( new EntityViewRenderEvent . RenderFogEvent ( renderer , entity , block , partial , mode , distance ) ) ; <nl> + MinecraftForge . EVENT _ BUS . post ( new EntityViewRenderEvent . RenderFogEvent ( renderer , entity , state , partial , mode , distance ) ) ; <nl> } <nl> <nl> / * <nl> diff - - git a / src / main / java / net / minecraftforge / client / event / DrawBlockHighlightEvent . java b / src / main / java / net / minecraftforge / client / event / DrawBlockHighlightEvent . java <nl> index ea53c22 . . b962071 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / event / DrawBlockHighlightEvent . java <nl> + + + b / src / main / java / net / minecraftforge / client / event / DrawBlockHighlightEvent . java <nl> @ @ - 14 , 7 + 14 , 6 @ @ public class DrawBlockHighlightEvent extends Event <nl> public final EntityPlayer player ; <nl> public final RayTraceResult target ; <nl> public final int subID ; <nl> - public final ItemStack currentItem ; <nl> public final float partialTicks ; <nl> <nl> public DrawBlockHighlightEvent ( RenderGlobal context , EntityPlayer player , RayTraceResult target , int subID , ItemStack currentItem , float partialTicks ) <nl> @ @ - 23 , 7 + 22 , 6 @ @ public class DrawBlockHighlightEvent extends Event <nl> this . player = player ; <nl> this . target = target ; <nl> this . subID = subID ; <nl> - this . currentItem = currentItem ; <nl> this . partialTicks = partialTicks ; <nl> } <nl> <nl> diff - - git a / src / main / java / net / minecraftforge / client / event / EntityViewRenderEvent . java b / src / main / java / net / minecraftforge / client / event / EntityViewRenderEvent . java <nl> index 1f23314 . . 90e73e3 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / event / EntityViewRenderEvent . java <nl> + + + b / src / main / java / net / minecraftforge / client / event / EntityViewRenderEvent . java <nl> @ @ - 1 , 6 + 1 , 7 @ @ <nl> package net . minecraftforge . client . event ; <nl> <nl> import net . minecraft . block . Block ; <nl> + import net . minecraft . block . state . IBlockState ; <nl> import net . minecraft . client . renderer . EntityRenderer ; <nl> import net . minecraft . entity . Entity ; <nl> import net . minecraftforge . fml . common . eventhandler . Cancelable ; <nl> @ @ - 12 , 20 + 13 , 40 @ @ import net . minecraftforge . fml . common . eventhandler . Event ; <nl> * / <nl> public abstract class EntityViewRenderEvent extends Event <nl> { <nl> - public final EntityRenderer renderer ; <nl> - public final Entity entity ; <nl> - public final Block block ; <nl> - public final double renderPartialTicks ; <nl> + private final EntityRenderer renderer ; <nl> + private final Entity entity ; <nl> + private final IBlockState state ; <nl> + private final double renderPartialTicks ; <nl> <nl> - public EntityViewRenderEvent ( EntityRenderer renderer , Entity entity , Block block , double renderPartialTicks ) <nl> + public EntityViewRenderEvent ( EntityRenderer renderer , Entity entity , IBlockState state , double renderPartialTicks ) <nl> { <nl> this . renderer = renderer ; <nl> this . entity = entity ; <nl> - this . block = block ; <nl> + this . state = state ; <nl> this . renderPartialTicks = renderPartialTicks ; <nl> } <nl> <nl> - / * * <nl> + public EntityRenderer getRenderer ( ) <nl> + { <nl> + 	 return renderer ; <nl> + 	 } <nl> + <nl> + public Entity getEntity ( ) <nl> + { <nl> + return entity ; <nl> + } <nl> + <nl> + public IBlockState getState ( ) <nl> + { <nl> + return state ; <nl> + } <nl> + <nl> + public double getRenderPartialTicks ( ) <nl> + { <nl> + return renderPartialTicks ; <nl> + } <nl> + <nl> + 	 / * * <nl> * Event that allows any feature to customize the fog density the player sees . <nl> * NOTE : In order to make this event have an effect , you must cancel the event <nl> * / <nl> @ @ - 34 , 9 + 55 , 9 @ @ public abstract class EntityViewRenderEvent extends Event <nl> { <nl> public float density ; <nl> <nl> - public FogDensity ( EntityRenderer renderer , Entity entity , Block block , double renderPartialTicks , float density ) <nl> + public FogDensity ( EntityRenderer renderer , Entity entity , IBlockState state , double renderPartialTicks , float density ) <nl> { <nl> - super ( renderer , entity , block , renderPartialTicks ) ; <nl> + super ( renderer , entity , state , renderPartialTicks ) ; <nl> this . density = density ; <nl> } <nl> } <nl> @ @ - 50 , 9 + 71 , 9 @ @ public abstract class EntityViewRenderEvent extends Event <nl> public final int fogMode ; <nl> public final float farPlaneDistance ; <nl> <nl> - public RenderFogEvent ( EntityRenderer renderer , Entity entity , Block block , double renderPartialTicks , int fogMode , float farPlaneDistance ) <nl> + public RenderFogEvent ( EntityRenderer renderer , Entity entity , IBlockState state , double renderPartialTicks , int fogMode , float farPlaneDistance ) <nl> { <nl> - super ( renderer , entity , block , renderPartialTicks ) ; <nl> + super ( renderer , entity , state , renderPartialTicks ) ; <nl> this . fogMode = fogMode ; <nl> this . farPlaneDistance = farPlaneDistance ; <nl> } <nl> @ @ - 68 , 9 + 89 , 9 @ @ public abstract class EntityViewRenderEvent extends Event <nl> public float green ; <nl> public float blue ; <nl> <nl> - public FogColors ( EntityRenderer renderer , Entity entity , Block block , double renderPartialTicks , float red , float green , float blue ) <nl> + public FogColors ( EntityRenderer renderer , Entity entity , IBlockState state , double renderPartialTicks , float red , float green , float blue ) <nl> { <nl> - super ( renderer , entity , block , renderPartialTicks ) ; <nl> + super ( renderer , entity , state , renderPartialTicks ) ; <nl> this . red = red ; <nl> this . green = green ; <nl> this . blue = blue ; <nl> @ @ - 86 , 9 + 107 , 9 @ @ public abstract class EntityViewRenderEvent extends Event <nl> public float pitch ; <nl> public float roll ; <nl> <nl> - public CameraSetup ( EntityRenderer renderer , Entity entity , Block block , double renderPartialTicks , float yaw , float pitch , float roll ) <nl> + public CameraSetup ( EntityRenderer renderer , Entity entity , IBlockState state , double renderPartialTicks , float yaw , float pitch , float roll ) <nl> { <nl> - super ( renderer , entity , block , renderPartialTicks ) ; <nl> + super ( renderer , entity , state , renderPartialTicks ) ; <nl> this . yaw = yaw ; <nl> this . pitch = pitch ; <nl> this . roll = roll ; <nl> @ @ - 103 , 8 + 124 , 8 @ @ public abstract class EntityViewRenderEvent extends Event <nl> { <nl> private float fov ; <nl> <nl> - public FOVModifier ( EntityRenderer renderer , Entity entity , Block block , double renderPartialTicks , float fov ) { <nl> - super ( renderer , entity , block , renderPartialTicks ) ; <nl> + public FOVModifier ( EntityRenderer renderer , Entity entity , IBlockState state , double renderPartialTicks , float fov ) { <nl> + super ( renderer , entity , state , renderPartialTicks ) ; <nl> this . setFOV ( fov ) ; <nl> } <nl>
NEAREST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch b / patches / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch <nl> index 120177d . . 0cae971 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch <nl> @ @ - 1 , 5 + 1 , 14 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / client / renderer / EntityRenderer . java <nl> + + + . . / src - work / minecraft / net / minecraft / client / renderer / EntityRenderer . java <nl> + @ @ - 423 , 7 + 423 , 7 @ @ <nl> + <nl> + if ( d3 < d2 | | d2 = = 0 . 0D ) <nl> + { <nl> + - if ( entity1 = = entity . ridingEntity ) <nl> + + if ( entity1 = = entity . ridingEntity & & ! entity . canRiderInteract ( ) ) <nl> + { <nl> + if ( d2 = = 0 . 0D ) <nl> + { <nl> @ @ - 580 , 14 + 580 , 8 @ @ <nl> { <nl> BlockPos blockpos = new BlockPos ( entity ) ; <nl> @ @ - 44 , 6 + 53 , 15 @ @ <nl> } <nl> <nl> GlStateManager . translate ( 0 . 0F , - f , 0 . 0F ) ; <nl> + @ @ - 1107 , 7 + 1104 , 7 @ @ <nl> + <nl> + try <nl> + { <nl> + - this . mc . currentScreen . drawScreen ( k1 , l1 , p _ 181560 _ 1 _ ) ; <nl> + + net . minecraftforge . client . ForgeHooksClient . drawScreen ( this . mc . currentScreen , k1 , l1 , p _ 181560 _ 1 _ ) ; <nl> + } <nl> + catch ( Throwable throwable ) <nl> + { <nl> @ @ - 1171 , 7 + 1168 , 7 @ @ <nl> <nl> if ( this . mc . playerController . getCurrentGameType ( ) = = WorldSettings . GameType . SPECTATOR ) <nl> @ @ - 53 , 7 + 71 , 17 @ @ <nl> } <nl> else <nl> { <nl> - @ @ - 1333 , 6 + 1330 , 7 @ @ <nl> + @ @ - 1321 , 7 + 1318 , 9 @ @ <nl> + GlStateManager . pushMatrix ( ) ; <nl> + RenderHelper . enableStandardItemLighting ( ) ; <nl> + this . mc . mcProfiler . endStartSection ( " entities " ) ; <nl> + + net . minecraftforge . client . ForgeHooksClient . setRenderPass ( 0 ) ; <nl> + renderglobal . renderEntities ( entity , icamera , partialTicks ) ; <nl> + + net . minecraftforge . client . ForgeHooksClient . setRenderPass ( 0 ) ; <nl> + RenderHelper . disableStandardItemLighting ( ) ; <nl> + this . disableLightmap ( ) ; <nl> + GlStateManager . matrixMode ( 5888 ) ; <nl> + @ @ - 1333 , 6 + 1332 , 7 @ @ <nl> EntityPlayer entityplayer = ( EntityPlayer ) entity ; <nl> GlStateManager . disableAlpha ( ) ; <nl> this . mc . mcProfiler . endStartSection ( " outline " ) ; <nl> @ @ - 61 , 7 + 89 , 31 @ @ <nl> renderglobal . drawSelectionBox ( entityplayer , this . mc . objectMouseOver , 0 , partialTicks ) ; <nl> GlStateManager . enableAlpha ( ) ; <nl> } <nl> - @ @ - 1399 , 8 + 1397 , 12 @ @ <nl> + @ @ - 1346 , 6 + 1346 , 7 @ @ <nl> + EntityPlayer entityplayer1 = ( EntityPlayer ) entity ; <nl> + GlStateManager . disableAlpha ( ) ; <nl> + this . mc . mcProfiler . endStartSection ( " outline " ) ; <nl> + + if ( ! net . minecraftforge . client . ForgeHooksClient . onDrawBlockHighlight ( renderglobal , entityplayer1 , mc . objectMouseOver , 0 , entityplayer1 . getHeldItem ( ) , partialTicks ) ) <nl> + renderglobal . drawSelectionBox ( entityplayer1 , this . mc . objectMouseOver , 0 , partialTicks ) ; <nl> + GlStateManager . enableAlpha ( ) ; <nl> + } <nl> + @ @ - 1387 , 6 + 1388 , 15 @ @ <nl> + GlStateManager . shadeModel ( 7425 ) ; <nl> + this . mc . mcProfiler . endStartSection ( " translucent " ) ; <nl> + renderglobal . renderBlockLayer ( EnumWorldBlockLayer . TRANSLUCENT , ( double ) partialTicks , pass , entity ) ; <nl> + + if ( ! this . debugView ) / / Only render if render pass 0 happens as well . <nl> + + { <nl> + + RenderHelper . enableStandardItemLighting ( ) ; <nl> + + this . mc . mcProfiler . endStartSection ( " entities " ) ; <nl> + + net . minecraftforge . client . ForgeHooksClient . setRenderPass ( 1 ) ; <nl> + + renderglobal . renderEntities ( entity , icamera , partialTicks ) ; <nl> + + net . minecraftforge . client . ForgeHooksClient . setRenderPass ( - 1 ) ; <nl> + + RenderHelper . disableStandardItemLighting ( ) ; <nl> + + } <nl> + GlStateManager . shadeModel ( 7424 ) ; <nl> + GlStateManager . depthMask ( true ) ; <nl> + GlStateManager . enableCull ( ) ; <nl> + @ @ - 1399 , 8 + 1409 , 12 @ @ <nl> this . renderCloudsCheck ( renderglobal , partialTicks , pass ) ; <nl> } <nl> <nl> @ @ - 74 , 7 + 126 , 21 @ @ <nl> if ( this . renderHand ) <nl> { <nl> GlStateManager . clear ( 256 ) ; <nl> - @ @ - 1837 , 6 + 1839 , 13 @ @ <nl> + @ @ - 1512 , 6 + 1526 , 13 @ @ <nl> + <nl> + protected void renderRainSnow ( float partialTicks ) <nl> + { <nl> + + net . minecraftforge . client . IRenderHandler renderer = this . mc . theWorld . provider . getWeatherRenderer ( ) ; <nl> + + if ( renderer ! = null ) <nl> + + { <nl> + + renderer . render ( partialTicks , this . mc . theWorld , mc ) ; <nl> + + return ; <nl> + + } <nl> + + <nl> + float f = this . mc . theWorld . getRainStrength ( partialTicks ) ; <nl> + <nl> + if ( f > 0 . 0F ) <nl> + @ @ - 1837 , 6 + 1858 , 13 @ @ <nl> this . fogColorBlue = f7 ; <nl> } <nl> <nl> @ @ - 88 , 7 + 154 , 7 @ @ <nl> GlStateManager . clearColor ( this . fogColorRed , this . fogColorGreen , this . fogColorBlue , 0 . 0F ) ; <nl> } <nl> <nl> - @ @ - 1855 , 6 + 1864 , 10 @ @ <nl> + @ @ - 1855 , 6 + 1883 , 10 @ @ <nl> GlStateManager . color ( 1 . 0F , 1 . 0F , 1 . 0F , 1 . 0F ) ; <nl> Block block = ActiveRenderInfo . getBlockAtEntityViewpoint ( this . mc . theWorld , entity , partialTicks ) ; <nl> <nl> @ @ - 99 , 11 + 165 , 11 @ @ <nl> if ( entity instanceof EntityLivingBase & & ( ( EntityLivingBase ) entity ) . isPotionActive ( Potion . blindness ) ) <nl> { <nl> float f1 = 5 . 0F ; <nl> - @ @ - 1932 , 6 + 1945 , 7 @ @ <nl> + @ @ - 1932 , 6 + 1964 , 7 @ @ <nl> GlStateManager . setFogStart ( f * 0 . 05F ) ; <nl> GlStateManager . setFogEnd ( Math . min ( f , 192 . 0F ) * 0 . 5F ) ; <nl> } <nl> - + net . minecraftforge . client . ForgeHooksClient . onFogRender ( this , entity , block , partialTicks , p _ 78468 _ 1 _ , f1 ) ; <nl> + + net . minecraftforge . client . ForgeHooksClient . onFogRender ( this , entity , block , partialTicks , p _ 78468 _ 1 _ , f ) ; <nl> } <nl> <nl> GlStateManager . enableColorMaterial ( ) ; <nl> diff - - git a / patches / minecraft / net / minecraft / util / StringTranslate . java . patch b / patches / minecraft / net / minecraft / util / StringTranslate . java . patch <nl> new file mode 100644 <nl> index 0000000 . . c5464bc <nl> - - - / dev / null <nl> + + + b / patches / minecraft / net / minecraft / util / StringTranslate . java . patch <nl> @ @ - 0 , 0 + 1 , 54 @ @ <nl> + - - - . . / src - base / minecraft / net / minecraft / util / StringTranslate . java <nl> + + + + . . / src - work / minecraft / net / minecraft / util / StringTranslate . java <nl> + @ @ - 24 , 9 + 24 , 29 @ @ <nl> + <nl> + public StringTranslate ( ) <nl> + { <nl> + + InputStream inputstream = StringTranslate . class . getResourceAsStream ( " / assets / minecraft / lang / en _ US . lang " ) ; <nl> + + inject ( this , inputstream ) ; <nl> + + } <nl> + + <nl> + + public static void inject ( InputStream inputstream ) <nl> + + { <nl> + + inject ( instance , inputstream ) ; <nl> + + } <nl> + + <nl> + + private static void inject ( StringTranslate inst , InputStream inputstream ) <nl> + + { <nl> + + java . util . HashMap < String , String > map = parseLangFile ( inputstream ) ; <nl> + + inst . languageList . putAll ( map ) ; <nl> + + inst . lastUpdateTimeInMilliseconds = System . currentTimeMillis ( ) ; <nl> + + } <nl> + + <nl> + + public static java . util . HashMap < String , String > parseLangFile ( InputStream inputstream ) <nl> + + { <nl> + + java . util . HashMap < String , String > table = Maps . newHashMap ( ) ; <nl> + try <nl> + { <nl> + - InputStream inputstream = StringTranslate . class . getResourceAsStream ( " / assets / minecraft / lang / en _ US . lang " ) ; <nl> + + inputstream = net . minecraftforge . fml . common . FMLCommonHandler . instance ( ) . loadLanguage ( table , inputstream ) ; <nl> + + if ( inputstream = = null ) return table ; <nl> + <nl> + for ( String s : IOUtils . readLines ( inputstream , Charsets . UTF _ 8 ) ) <nl> + { <nl> + @ @ - 38 , 17 + 58 , 17 @ @ <nl> + { <nl> + String s1 = astring [ 0 ] ; <nl> + String s2 = numericVariablePattern . matcher ( astring [ 1 ] ) . replaceAll ( " % $ 1s " ) ; <nl> + - this . languageList . put ( s1 , s2 ) ; <nl> + + table . put ( s1 , s2 ) ; <nl> + } <nl> + } <nl> + } <nl> + <nl> + - this . lastUpdateTimeInMilliseconds = System . currentTimeMillis ( ) ; <nl> + } <nl> + - catch ( IOException var7 ) <nl> + + catch ( Exception var7 ) <nl> + { <nl> + ; <nl> + } <nl> + + return table ; <nl> + } <nl> + <nl> + static StringTranslate getInstance ( ) <nl> diff - - git a / rejects / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch . rej b / rejects / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch . rej <nl> deleted file mode 100644 <nl> index 6113b99 . . 0000000 <nl> - - - a / rejects / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch . rej <nl> + + + / dev / null <nl> @ @ - 1 , 73 + 0 , 0 @ @ <nl> - + + + + REJECTED PATCH 1 <nl> - <nl> - if ( d3 < d2 | | d2 = = 0 . 0D ) <nl> - { <nl> - - if ( entity1 = = entity . ridingEntity ) <nl> - + if ( entity1 = = entity . ridingEntity & & ! entity . canRiderInteract ( ) ) <nl> - { <nl> - if ( d2 = = 0 . 0D ) <nl> - { <nl> - + + + + END PATCH <nl> - + + + + REJECTED PATCH 4 <nl> - <nl> - try <nl> - { <nl> - - this . mc . currentScreen . drawScreen ( l , i1 , partialTicks ) ; <nl> - + net . minecraftforge . client . ForgeHooksClient . drawScreen ( this . mc . currentScreen , l , i1 , partialTicks ) ; <nl> - } <nl> - catch ( Throwable throwable ) <nl> - { <nl> - + + + + END PATCH <nl> - + + + + REJECTED PATCH 6 <nl> - GlStateManager . pushMatrix ( ) ; <nl> - RenderHelper . enableStandardItemLighting ( ) ; <nl> - this . mc . mcProfiler . endStartSection ( " entities " ) ; <nl> - + net . minecraftforge . client . ForgeHooksClient . setRenderPass ( 0 ) ; <nl> - renderglobal . renderEntities ( entity , frustum , partialTicks ) ; <nl> - + net . minecraftforge . client . ForgeHooksClient . setRenderPass ( 0 ) ; <nl> - RenderHelper . disableStandardItemLighting ( ) ; <nl> - this . disableLightmap ( ) ; <nl> - GlStateManager . matrixMode ( 5888 ) ; <nl> - + + + + END PATCH <nl> - + + + + REJECTED PATCH 8 <nl> - entityplayer = ( EntityPlayer ) entity ; <nl> - GlStateManager . disableAlpha ( ) ; <nl> - this . mc . mcProfiler . endStartSection ( " outline " ) ; <nl> - + if ( ! net . minecraftforge . client . ForgeHooksClient . onDrawBlockHighlight ( renderglobal , entityplayer , mc . objectMouseOver , 0 , entityplayer . getHeldItem ( ) , partialTicks ) ) <nl> - renderglobal . drawSelectionBox ( entityplayer , this . mc . objectMouseOver , 0 , partialTicks ) ; <nl> - GlStateManager . enableAlpha ( ) ; <nl> - } <nl> - + + + + END PATCH <nl> - + + + + REJECTED PATCH 9 <nl> - renderglobal . renderBlockLayer ( EnumWorldBlockLayer . TRANSLUCENT , ( double ) partialTicks , pass , entity ) ; <nl> - } <nl> - <nl> - + if ( ! this . debugView ) / / Only render if render pass 0 happens as well . <nl> - + { <nl> - + RenderHelper . enableStandardItemLighting ( ) ; <nl> - + this . mc . mcProfiler . endStartSection ( " entities " ) ; <nl> - + net . minecraftforge . client . ForgeHooksClient . setRenderPass ( 1 ) ; <nl> - + renderglobal . renderEntities ( entity , frustum , partialTicks ) ; <nl> - + net . minecraftforge . client . ForgeHooksClient . setRenderPass ( - 1 ) ; <nl> - + RenderHelper . disableStandardItemLighting ( ) ; <nl> - + } <nl> - + <nl> - GlStateManager . shadeModel ( 7424 ) ; <nl> - GlStateManager . depthMask ( true ) ; <nl> - GlStateManager . enableCull ( ) ; <nl> - + + + + END PATCH <nl> - + + + + REJECTED PATCH 11 <nl> - <nl> - protected void renderRainSnow ( float partialTicks ) <nl> - { <nl> - + net . minecraftforge . client . IRenderHandler renderer = this . mc . theWorld . provider . getWeatherRenderer ( ) ; <nl> - + if ( renderer ! = null ) <nl> - + { <nl> - + renderer . render ( partialTicks , this . mc . theWorld , mc ) ; <nl> - + return ; <nl> - + } <nl> - + <nl> - float f1 = this . mc . theWorld . getRainStrength ( partialTicks ) ; <nl> - <nl> - if ( f1 > 0 . 0F ) <nl> - + + + + END PATCH <nl> diff - - git a / rejects / minecraft / net / minecraft / util / StringTranslate . java . patch . rej b / rejects / minecraft / net / minecraft / util / StringTranslate . java . patch . rej <nl> deleted file mode 100644 <nl> index b552d24 . . 0000000 <nl> - - - a / rejects / minecraft / net / minecraft / util / StringTranslate . java . patch . rej <nl> + + + / dev / null <nl> @ @ - 1 , 64 + 0 , 0 @ @ <nl> - + + + + REJECTED PATCH 1 <nl> - { <nl> - private static final Pattern numericVariablePattern = Pattern . compile ( " % ( \ \ d + \ \ $ ) ? [ \ \ d \ \ . ] * [ df ] " ) ; <nl> - private static final Splitter equalSignSplitter = Splitter . on ( ' = ' ) . limit ( 2 ) ; <nl> - + private final Map languageList ; <nl> - private static StringTranslate instance = new StringTranslate ( ) ; <nl> - - private final Map languageList = Maps . newHashMap ( ) ; <nl> - private long lastUpdateTimeInMilliseconds ; <nl> - private static final String _ _ OBFID = " CL _ 00001212 " ; <nl> - <nl> - public StringTranslate ( ) <nl> - { <nl> - + InputStream inputstream = StringTranslate . class . getResourceAsStream ( " / assets / minecraft / lang / en _ US . lang " ) ; <nl> - + languageList = Maps . newHashMap ( ) ; <nl> - + inject ( this , inputstream ) ; <nl> - + } <nl> - + <nl> - + public static void inject ( InputStream inputstream ) <nl> - + { <nl> - + inject ( instance , inputstream ) ; <nl> - + } <nl> - + <nl> - + private static void inject ( StringTranslate inst , InputStream inputstream ) <nl> - + { <nl> - + java . util . HashMap < String , String > map = parseLangFile ( inputstream ) ; <nl> - + inst . languageList . putAll ( map ) ; <nl> - + inst . lastUpdateTimeInMilliseconds = System . currentTimeMillis ( ) ; <nl> - + } <nl> - + <nl> - + public static java . util . HashMap < String , String > parseLangFile ( InputStream inputstream ) <nl> - + { <nl> - + java . util . HashMap < String , String > table = Maps . newHashMap ( ) ; <nl> - try <nl> - { <nl> - - InputStream inputstream = StringTranslate . class . getResourceAsStream ( " / assets / minecraft / lang / en _ US . lang " ) ; <nl> - + inputstream = net . minecraftforge . fml . common . FMLCommonHandler . instance ( ) . loadLanguage ( table , inputstream ) ; <nl> - + if ( inputstream = = null ) return table ; <nl> - + <nl> - Iterator iterator = IOUtils . readLines ( inputstream , Charsets . UTF _ 8 ) . iterator ( ) ; <nl> - <nl> - while ( iterator . hasNext ( ) ) <nl> - + + + + END PATCH <nl> - + + + + REJECTED PATCH 2 <nl> - { <nl> - String s1 = astring [ 0 ] ; <nl> - String s2 = numericVariablePattern . matcher ( astring [ 1 ] ) . replaceAll ( " % $ 1s " ) ; <nl> - - this . languageList . put ( s1 , s2 ) ; <nl> - + table . put ( s1 , s2 ) ; <nl> - } <nl> - } <nl> - } <nl> - <nl> - - this . lastUpdateTimeInMilliseconds = System . currentTimeMillis ( ) ; <nl> - } <nl> - - catch ( IOException ioexception ) <nl> - + catch ( Exception ioexception ) <nl> - { <nl> - ; <nl> - } <nl> - + return table ; <nl> - } <nl> - <nl> - static StringTranslate getInstance ( ) <nl> - + + + + END PATCH

TEST DIFF:
diff - - git a / patches . mcp / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch b / patches . mcp / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch 
 index acb32c3 . . a2f88c7 100644 
 - - - a / patches . mcp / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch 
 + + + b / patches . mcp / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch 
 @ @ - 8 , 16 + 8 , 41 @ @ 
 } 
 } 
 
 + @ @ - 398 , 7 + 399 , 7 @ @ 
 + 
 + if ( d3 < d2 | | d2 = = 0 . 0D ) 
 + { 
 + - if ( entity1 . func _ 184208 _ bv ( ) = = entity . func _ 184208 _ bv ( ) ) 
 + + if ( entity1 . func _ 184208 _ bv ( ) = = entity . func _ 184208 _ bv ( ) & & ! entity . canRiderInteract ( ) ) 
 + { 
 + if ( d2 = = 0 . 0D ) 
 + { 
 @ @ - 491 , 7 + 492 , 7 @ @ 
 f = f * 60 . 0F / 70 . 0F ; 
 } 
 
 - return f ; 
 - + return net . minecraftforge . client . ForgeHooksClient . getFOVModifier ( this , entity , block , partialTicks , f ) ; 
 + + return net . minecraftforge . client . ForgeHooksClient . getFOVModifier ( this , entity , iblockstate , partialTicks , f ) ; 
 } 
 } 
 
 - @ @ - 629 , 17 + 630 , 20 @ @ 
 + @ @ - 555 , 14 + 556 , 8 @ @ 
 + { 
 + BlockPos blockpos = new BlockPos ( entity ) ; 
 + IBlockState iblockstate = this . mc . theWorld . getBlockState ( blockpos ) ; 
 + - Block block = iblockstate . getBlock ( ) ; 
 + + net . minecraftforge . client . ForgeHooksClient . orientBedCamera ( this . mc . theWorld , blockpos , iblockstate , entity ) ; 
 + 
 + - if ( block = = Blocks . bed ) 
 + - { 
 + - int j = ( ( EnumFacing ) iblockstate . getValue ( BlockBed . field _ 185512 _ D ) ) . getHorizontalIndex ( ) ; 
 + - GlStateManager . rotate ( ( float ) ( j * 90 ) , 0 . 0F , 1 . 0F , 0 . 0F ) ; 
 + - } 
 + - 
 + GlStateManager . rotate ( entity . prevRotationYaw + ( entity . rotationYaw - entity . prevRotationYaw ) * partialTicks + 180 . 0F , 0 . 0F , - 1 . 0F , 0 . 0F ) ; 
 + GlStateManager . rotate ( entity . prevRotationPitch + ( entity . rotationPitch - entity . prevRotationPitch ) * partialTicks , - 1 . 0F , 0 . 0F , 0 . 0F ) ; 
 + } 
 + @ @ - 629 , 17 + 624 , 20 @ @ 
 
 if ( ! this . mc . gameSettings . debugCamEnable ) 
 { 
 @ @ - 36 , 8 + 61 , 8 @ @ 
 - { 
 - GlStateManager . rotate ( entity . prevRotationYaw + ( entity . rotationYaw - entity . prevRotationYaw ) * partialTicks + 180 . 0F , 0 . 0F , 1 . 0F , 0 . 0F ) ; 
 - } 
 - + Block block = ActiveRenderInfo . getBlockAtEntityViewpoint ( this . mc . theWorld , entity , partialTicks ) ; 
 - + net . minecraftforge . client . event . EntityViewRenderEvent . CameraSetup event = new net . minecraftforge . client . event . EntityViewRenderEvent . CameraSetup ( this , entity , block , partialTicks , yaw , pitch , roll ) ; 
 + + IBlockState state = ActiveRenderInfo . func _ 186703 _ a ( this . mc . theWorld , entity , partialTicks ) ; 
 + + net . minecraftforge . client . event . EntityViewRenderEvent . CameraSetup event = new net . minecraftforge . client . event . EntityViewRenderEvent . CameraSetup ( this , entity , state , partialTicks , yaw , pitch , roll ) ; 
 + net . minecraftforge . common . MinecraftForge . EVENT _ BUS . post ( event ) ; 
 + GlStateManager . rotate ( event . roll , 0 . 0F , 0 . 0F , 1 . 0F ) ; 
 + GlStateManager . rotate ( event . pitch , 1 . 0F , 0 . 0F , 0 . 0F ) ; 
 @ @ - 45 , 7 + 70 , 15 @ @ 
 } 
 
 GlStateManager . translate ( 0 . 0F , - f , 0 . 0F ) ; 
 - @ @ - 1092 , 7 + 1096 , 7 @ @ 
 + @ @ - 757 , 6 + 755 , 7 @ @ 
 + 
 + boolean flag = this . mc . getRenderViewEntity ( ) instanceof EntityLivingBase & & ( ( EntityLivingBase ) this . mc . getRenderViewEntity ( ) ) . isPlayerSleeping ( ) ; 
 + 
 + + if ( ! net . minecraftforge . client . ForgeHooksClient . renderFirstPersonHand ( mc . renderGlobal , partialTicks , xOffset ) ) 
 + if ( this . mc . gameSettings . thirdPersonView = = 0 & & ! flag & & ! this . mc . gameSettings . hideGUI & & ! this . mc . playerController . isSpectator ( ) ) 
 + { 
 + this . enableLightmap ( ) ; 
 + @ @ - 1092 , 7 + 1091 , 7 @ @ 
 
 try 
 { 
 @ @ - 54 , 7 + 87 , 7 @ @ 
 } 
 catch ( Throwable throwable ) 
 { 
 - @ @ - 1187 , 7 + 1191 , 7 @ @ 
 + @ @ - 1187 , 7 + 1186 , 7 @ @ 
 
 if ( this . mc . playerController . getCurrentGameType ( ) = = WorldSettings . GameType . SPECTATOR ) 
 { 
 @ @ - 63 , 7 + 96 , 7 @ @ 
 } 
 else 
 { 
 - @ @ - 1312 , 7 + 1316 , 9 @ @ 
 + @ @ - 1312 , 7 + 1311 , 9 @ @ 
 GlStateManager . pushMatrix ( ) ; 
 RenderHelper . enableStandardItemLighting ( ) ; 
 this . mc . mcProfiler . endStartSection ( " entities " ) ; 
 @ @ - 73 , 7 + 106 , 31 @ @ 
 RenderHelper . disableStandardItemLighting ( ) ; 
 this . disableLightmap ( ) ; 
 } 
 - @ @ - 1378 , 8 + 1384 , 12 @ @ 
 + @ @ - 1325 , 6 + 1326 , 7 @ @ 
 + EntityPlayer entityplayer = ( EntityPlayer ) entity ; 
 + GlStateManager . disableAlpha ( ) ; 
 + this . mc . mcProfiler . endStartSection ( " outline " ) ; 
 + + if ( ! net . minecraftforge . client . ForgeHooksClient . onDrawBlockHighlight ( renderglobal , entityplayer , mc . objectMouseOver , 0 , partialTicks ) ) 
 + renderglobal . drawSelectionBox ( entityplayer , this . mc . objectMouseOver , 0 , partialTicks ) ; 
 + GlStateManager . enableAlpha ( ) ; 
 + } 
 + @ @ - 1366 , 6 + 1368 , 15 @ @ 
 + GlStateManager . shadeModel ( 7425 ) ; 
 + this . mc . mcProfiler . endStartSection ( " translucent " ) ; 
 + renderglobal . renderBlockLayer ( BlockRenderLayer . TRANSLUCENT , ( double ) partialTicks , pass , entity ) ; 
 + + if ( ! this . debugView ) / / Only render if render pass 0 happens as well . 
 + + { 
 + + RenderHelper . enableStandardItemLighting ( ) ; 
 + + this . mc . mcProfiler . endStartSection ( " entities " ) ; 
 + + net . minecraftforge . client . ForgeHooksClient . setRenderPass ( 1 ) ; 
 + + renderglobal . renderEntities ( entity , icamera , partialTicks ) ; 
 + + net . minecraftforge . client . ForgeHooksClient . setRenderPass ( - 1 ) ; 
 + + RenderHelper . disableStandardItemLighting ( ) ; 
 + + } 
 + GlStateManager . shadeModel ( 7424 ) ; 
 + GlStateManager . depthMask ( true ) ; 
 + GlStateManager . enableCull ( ) ; 
 + @ @ - 1378 , 6 + 1389 , 9 @ @ 
 this . renderCloudsCheck ( renderglobal , partialTicks , pass ) ; 
 } 
 
 @ @ - 82 , 11 + 139 , 8 @ @ 
 + 
 this . mc . mcProfiler . endStartSection ( " hand " ) ; 
 
 - + if ( ! net . minecraftforge . client . ForgeHooksClient . renderFirstPersonHand ( renderglobal , partialTicks , pass ) ) 
 if ( this . renderHand ) 
 - { 
 - GlStateManager . clear ( 256 ) ; 
 - @ @ - 1490 , 6 + 1500 , 13 @ @ 
 + @ @ - 1490 , 6 + 1504 , 13 @ @ 
 
 protected void renderRainSnow ( float partialTicks ) 
 { 
 @ @ - 100 , 11 + 154 , 11 @ @ 
 float f = this . mc . theWorld . getRainStrength ( partialTicks ) ; 
 
 if ( f > 0 . 0F ) 
 - @ @ - 1820 , 6 + 1837 , 13 @ @ 
 + @ @ - 1820 , 6 + 1841 , 13 @ @ 
 this . fogColorBlue = f7 ; 
 } 
 
 - + net . minecraftforge . client . event . EntityViewRenderEvent . FogColors event = new net . minecraftforge . client . event . EntityViewRenderEvent . FogColors ( this , entity , block , partialTicks , this . fogColorRed , this . fogColorGreen , this . fogColorBlue ) ; 
 + + net . minecraftforge . client . event . EntityViewRenderEvent . FogColors event = new net . minecraftforge . client . event . EntityViewRenderEvent . FogColors ( this , entity , iblockstate , partialTicks , this . fogColorRed , this . fogColorGreen , this . fogColorBlue ) ; 
 + net . minecraftforge . common . MinecraftForge . EVENT _ BUS . post ( event ) ; 
 + 
 + this . fogColorRed = event . red ; 
 @ @ - 114 , 11 + 168 , 22 @ @ 
 GlStateManager . clearColor ( this . fogColorRed , this . fogColorGreen , this . fogColorBlue , 0 . 0F ) ; 
 } 
 
 - @ @ - 1915 , 6 + 1939 , 7 @ @ 
 + @ @ - 1830 , 7 + 1858 , 9 @ @ 
 + GlStateManager . func _ 187432 _ a ( 0 . 0F , - 1 . 0F , 0 . 0F ) ; 
 + GlStateManager . color ( 1 . 0F , 1 . 0F , 1 . 0F , 1 . 0F ) ; 
 + IBlockState iblockstate = ActiveRenderInfo . func _ 186703 _ a ( this . mc . theWorld , entity , partialTicks ) ; 
 + - 
 + + float hook = net . minecraftforge . client . ForgeHooksClient . getFogDensity ( this , entity , iblockstate , partialTicks , 0 . 1F ) ; 
 + + if ( hook > = 0 ) GlStateManager . setFogDensity ( hook ) ; 
 + + else 
 + if ( entity instanceof EntityLivingBase & & ( ( EntityLivingBase ) entity ) . isPotionActive ( MobEffects . blindness ) ) 
 + { 
 + float f1 = 5 . 0F ; 
 + @ @ - 1915 , 6 + 1945 , 7 @ @ 
 GlStateManager . setFogStart ( f * 0 . 05F ) ; 
 GlStateManager . setFogEnd ( Math . min ( f , 192 . 0F ) * 0 . 5F ) ; 
 } 
 - + net . minecraftforge . client . ForgeHooksClient . onFogRender ( this , entity , block , partialTicks , p _ 78468 _ 1 _ , f ) ; 
 + + net . minecraftforge . client . ForgeHooksClient . onFogRender ( this , entity , iblockstate , partialTicks , p _ 78468 _ 1 _ , f ) ; 
 } 
 
 GlStateManager . enableColorMaterial ( ) ; 
 diff - - git a / patches . mcp / minecraft / net / minecraft / client / renderer / RenderGlobal . java . patch b / patches . mcp / minecraft / net / minecraft / client / renderer / RenderGlobal . java . patch 
 index 887b5b0 . . 5798363 100644 
 - - - a / patches . mcp / minecraft / net / minecraft / client / renderer / RenderGlobal . java . patch 
 + + + b / patches . mcp / minecraft / net / minecraft / client / renderer / RenderGlobal . java . patch 
 @ @ - 40 , 7 + 40 , 15 @ @ 
 + + this . countEntitiesRendered ; 
 
 if ( entity1 . isInRangeToRender3d ( d0 , d1 , d2 ) ) 
 - @ @ - 672 , 6 + 681 , 7 @ @ 
 + @ @ - 599 , 6 + 608 , 7 @ @ 
 + { 
 + for ( Entity entity2 : classinheritancemultimap ) 
 + { 
 + + 	 if ( ! entity2 . shouldRenderInPass ( pass ) ) continue ; 
 + boolean flag = this . renderManager . shouldRender ( entity2 , camera , d0 , d1 , d2 ) | | entity2 . func _ 184215 _ y ( this . mc . thePlayer ) ; 
 + 
 + if ( flag ) 
 + @ @ - 672 , 6 + 682 , 7 @ @ 
 this . theWorld . theProfiler . endStartSection ( " blockentities " ) ; 
 RenderHelper . enableStandardItemLighting ( ) ; 
 
 @ @ - 48 , 7 + 56 , 7 @ @ 
 for ( RenderGlobal . ContainerLocalRenderInformation renderglobal $ containerlocalrenderinformation1 : this . renderInfos ) 
 { 
 List < TileEntity > list3 = renderglobal $ containerlocalrenderinformation1 . renderChunk . getCompiledChunk ( ) . getTileEntities ( ) ; 
 - @ @ - 680 , 6 + 690 , 7 @ @ 
 + @ @ - 680 , 6 + 691 , 7 @ @ 
 { 
 for ( TileEntity tileentity2 : list3 ) 
 { 
 @ @ - 56 , 7 + 64 , 7 @ @ 
 TileEntityRendererDispatcher . instance . renderTileEntity ( tileentity2 , partialTicks , - 1 ) ; 
 } 
 } 
 - @ @ - 689 , 9 + 700 , 11 @ @ 
 + @ @ - 689 , 9 + 701 , 11 @ @ 
 { 
 for ( TileEntity tileentity : this . setTileEntities ) 
 { 
 @ @ - 68 , 7 + 76 , 7 @ @ 
 
 this . preRenderDamagedBlocks ( ) ; 
 
 - @ @ - 718 , 7 + 731 , 7 @ @ 
 + @ @ - 718 , 7 + 732 , 7 @ @ 
 
 Block block = this . theWorld . getBlockState ( blockpos ) . getBlock ( ) ; 
 
 @ @ - 77 , 7 + 85 , 21 @ @ 
 { 
 TileEntityRendererDispatcher . instance . renderTileEntity ( tileentity1 , partialTicks , destroyblockprogress . getPartialBlockDamage ( ) ) ; 
 } 
 - @ @ - 1427 , 6 + 1440 , 12 @ @ 
 + @ @ - 1210 , 6 + 1224 , 13 @ @ 
 + 
 + public void renderSky ( float partialTicks , int pass ) 
 + { 
 + + 	 net . minecraftforge . client . IRenderHandler renderer = this . theWorld . provider . getSkyRenderer ( ) ; 
 + + if ( renderer ! = null ) 
 + + { 
 + + renderer . render ( partialTicks , theWorld , mc ) ; 
 + + return ; 
 + + } 
 + + 
 + if ( this . mc . theWorld . provider . func _ 186058 _ p ( ) . func _ 186068 _ a ( ) = = 1 ) 
 + { 
 + this . renderSkyEnd ( ) ; 
 + @ @ - 1427 , 6 + 1448 , 12 @ @ 
 
 public void renderClouds ( float partialTicks , int pass ) 
 { 
 @ @ - 90 , 7 + 112 , 7 @ @ 
 if ( this . mc . theWorld . provider . isSurfaceWorld ( ) ) 
 { 
 if ( this . mc . gameSettings . func _ 181147 _ e ( ) = = 2 ) 
 - @ @ - 1854 , 8 + 1873 , 11 @ @ 
 + @ @ - 1854 , 8 + 1881 , 11 @ @ 
 double d4 = ( double ) blockpos . getY ( ) - d1 ; 
 double d5 = ( double ) blockpos . getZ ( ) - d2 ; 
 Block block = this . theWorld . getBlockState ( blockpos ) . getBlock ( ) ; 
 diff - - git a / patches . mcp / minecraft / net / minecraft / client / renderer / entity / layers / LayerBipedArmor . java . patch b / patches . mcp / minecraft / net / minecraft / client / renderer / entity / layers / LayerBipedArmor . java . patch 
 index 9990cb4 . . 854dd05 100644 
 - - - a / patches . mcp / minecraft / net / minecraft / client / renderer / entity / layers / LayerBipedArmor . java . patch 
 + + + b / patches . mcp / minecraft / net / minecraft / client / renderer / entity / layers / LayerBipedArmor . java . patch 
 @ @ - 6 , 7 + 6 , 7 @ @ 
 } 
 + 
 + @ Override 
 - + protected ModelBiped getArmorModelHook ( net . minecraft . entity . EntityLivingBase entity , net . minecraft . item . ItemStack itemStack , int slot , ModelBiped model ) 
 + + protected ModelBiped getArmorModelHook ( net . minecraft . entity . EntityLivingBase entity , net . minecraft . item . ItemStack itemStack , EntityEquipmentSlot slot , ModelBiped model ) 
 + { 
 + return net . minecraftforge . client . ForgeHooksClient . getArmorModel ( entity , itemStack , slot , model ) ; 
 + } 
 diff - - git a / rejects / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch . rej b / rejects / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch . rej 
 deleted file mode 100644 
 index c1b1b32 . . 0000000 
 - - - a / rejects / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch . rej 
 + + + / dev / null 
 @ @ - 1 , 74 + 0 , 0 @ @ 
 - + + + + REJECTED PATCH 2 
 - 
 - if ( d3 < d2 | | d2 = = 0 . 0D ) 
 - { 
 - - if ( entity1 = = entity . ridingEntity ) 
 - + if ( entity1 = = entity . ridingEntity & & ! entity . canRiderInteract ( ) ) 
 - { 
 - if ( d2 = = 0 . 0D ) 
 - { 
 - + + + + END PATCH 
 - + + + + REJECTED PATCH 4 
 - { 
 - BlockPos blockpos = new BlockPos ( entity ) ; 
 - IBlockState iblockstate = this . mc . theWorld . getBlockState ( blockpos ) ; 
 - - Block block = iblockstate . getBlock ( ) ; 
 - + net . minecraftforge . client . ForgeHooksClient . orientBedCamera ( this . mc . theWorld , blockpos , iblockstate , entity ) ; 
 - 
 - - if ( block = = Blocks . bed ) 
 - - { 
 - - int j = ( ( EnumFacing ) iblockstate . getValue ( BlockBed . FACING ) ) . getHorizontalIndex ( ) ; 
 - - GlStateManager . rotate ( ( float ) ( j * 90 ) , 0 . 0F , 1 . 0F , 0 . 0F ) ; 
 - - } 
 - - 
 - GlStateManager . rotate ( entity . prevRotationYaw + ( entity . rotationYaw - entity . prevRotationYaw ) * partialTicks + 180 . 0F , 0 . 0F , - 1 . 0F , 0 . 0F ) ; 
 - GlStateManager . rotate ( entity . prevRotationPitch + ( entity . rotationPitch - entity . prevRotationPitch ) * partialTicks , - 1 . 0F , 0 . 0F , 0 . 0F ) ; 
 - } 
 - + + + + END PATCH 
 - + + + + REJECTED PATCH 9 
 - EntityPlayer entityplayer = ( EntityPlayer ) entity ; 
 - GlStateManager . disableAlpha ( ) ; 
 - this . mc . mcProfiler . endStartSection ( " outline " ) ; 
 - + if ( ! net . minecraftforge . client . ForgeHooksClient . onDrawBlockHighlight ( renderglobal , entityplayer , mc . objectMouseOver , 0 , entityplayer . getHeldItem ( ) , partialTicks ) ) 
 - renderglobal . drawSelectionBox ( entityplayer , this . mc . objectMouseOver , 0 , partialTicks ) ; 
 - GlStateManager . enableAlpha ( ) ; 
 - } 
 - + + + + END PATCH 
 - + + + + REJECTED PATCH 10 
 - EntityPlayer entityplayer1 = ( EntityPlayer ) entity ; 
 - GlStateManager . disableAlpha ( ) ; 
 - this . mc . mcProfiler . endStartSection ( " outline " ) ; 
 - + if ( ! net . minecraftforge . client . ForgeHooksClient . onDrawBlockHighlight ( renderglobal , entityplayer1 , mc . objectMouseOver , 0 , entityplayer1 . getHeldItem ( ) , partialTicks ) ) 
 - renderglobal . drawSelectionBox ( entityplayer1 , this . mc . objectMouseOver , 0 , partialTicks ) ; 
 - GlStateManager . enableAlpha ( ) ; 
 - } 
 - + + + + END PATCH 
 - + + + + REJECTED PATCH 11 
 - GlStateManager . shadeModel ( 7425 ) ; 
 - this . mc . mcProfiler . endStartSection ( " translucent " ) ; 
 - renderglobal . renderBlockLayer ( EnumWorldBlockLayer . TRANSLUCENT , ( double ) partialTicks , pass , entity ) ; 
 - + if ( ! this . debugView ) / / Only render if render pass 0 happens as well . 
 - + { 
 - + RenderHelper . enableStandardItemLighting ( ) ; 
 - + this . mc . mcProfiler . endStartSection ( " entities " ) ; 
 - + net . minecraftforge . client . ForgeHooksClient . setRenderPass ( 1 ) ; 
 - + renderglobal . renderEntities ( entity , icamera , partialTicks ) ; 
 - + net . minecraftforge . client . ForgeHooksClient . setRenderPass ( - 1 ) ; 
 - + RenderHelper . disableStandardItemLighting ( ) ; 
 - + } 
 - GlStateManager . shadeModel ( 7424 ) ; 
 - GlStateManager . depthMask ( true ) ; 
 - GlStateManager . enableCull ( ) ; 
 - + + + + END PATCH 
 - + + + + REJECTED PATCH 15 
 - GlStateManager . color ( 1 . 0F , 1 . 0F , 1 . 0F , 1 . 0F ) ; 
 - Block block = ActiveRenderInfo . getBlockAtEntityViewpoint ( this . mc . theWorld , entity , partialTicks ) ; 
 - 
 - + float hook = net . minecraftforge . client . ForgeHooksClient . getFogDensity ( this , entity , block , partialTicks , 0 . 1F ) ; 
 - + if ( hook > = 0 ) 
 - + GlStateManager . setFogDensity ( hook ) ; 
 - + else 
 - if ( entity instanceof EntityLivingBase & & ( ( EntityLivingBase ) entity ) . isPotionActive ( Potion . blindness ) ) 
 - { 
 - float f1 = 5 . 0F ; 
 - + + + + END PATCH 
 diff - - git a / rejects / minecraft / net / minecraft / client / renderer / RenderGlobal . java . patch . rej b / rejects / minecraft / net / minecraft / client / renderer / RenderGlobal . java . patch . rej 
 index 182cfa6 . . 3a8a044 100644 
 - - - a / rejects / minecraft / net / minecraft / client / renderer / RenderGlobal . java . patch . rej 
 + + + b / rejects / minecraft / net / minecraft / client / renderer / RenderGlobal . java . patch . rej 
 @ @ - 1 , 35 + 1 , 3 @ @ 
 - + + + + REJECTED PATCH 4 
 - for ( int j = 0 ; j < list . size ( ) ; + + j ) 
 - { 
 - Entity entity3 = ( Entity ) list . get ( j ) ; 
 - + if ( ! entity3 . shouldRenderInPass ( pass ) ) continue ; 
 - boolean flag = this . mc . getRenderViewEntity ( ) instanceof EntityLivingBase & & ( ( EntityLivingBase ) this . mc . getRenderViewEntity ( ) ) . isPlayerSleeping ( ) ; 
 - boolean flag1 = entity3 . isInRangeToRender3d ( d0 , d1 , d2 ) & & ( entity3 . ignoreFrustumCheck | | camera . isBoundingBoxInFrustum ( entity3 . getEntityBoundingBox ( ) ) | | entity3 . riddenByEntity = = this . mc . thePlayer ) & & entity3 instanceof EntityPlayer ; 
 - 
 - + + + + END PATCH 
 - + + + + REJECTED PATCH 5 
 - } 
 - 
 - entity2 = ( Entity ) iterator . next ( ) ; 
 - + if ( ! entity2 . shouldRenderInPass ( pass ) ) continue ; 
 - flag2 = this . renderManager . shouldRender ( entity2 , camera , d0 , d1 , d2 ) | | entity2 . riddenByEntity = = this . mc . thePlayer ; 
 - 
 - if ( ! flag2 ) 
 - + + + + END PATCH 
 - + + + + REJECTED PATCH 10 
 - 
 - public void renderSky ( float partialTicks , int pass ) 
 - { 
 - + net . minecraftforge . client . IRenderHandler renderer = this . theWorld . provider . getSkyRenderer ( ) ; 
 - + if ( renderer ! = null ) 
 - + { 
 - + renderer . render ( partialTicks , theWorld , mc ) ; 
 - + return ; 
 - + } 
 - if ( this . mc . theWorld . provider . getDimensionId ( ) = = 1 ) 
 - { 
 - this . renderSkyEnd ( ) ; 
 - + + + + END PATCH 
 + + + + REJECTED PATCH 13 
 if ( recordName ! = null ) 
 { 
 diff - - git a / src / main / java / net / minecraftforge / client / ForgeHooksClient . java b / src / main / java / net / minecraftforge / client / ForgeHooksClient . java 
 index a806b6f . . 7d258b2 100644 
 - - - a / src / main / java / net / minecraftforge / client / ForgeHooksClient . java 
 + + + b / src / main / java / net / minecraftforge / client / ForgeHooksClient . java 
 @ @ - 49 , 6 + 49 , 7 @ @ import net . minecraft . client . settings . GameSettings ; 
 import net . minecraft . entity . Entity ; 
 import net . minecraft . entity . EntityLivingBase ; 
 import net . minecraft . entity . player . EntityPlayer ; 
 + import net . minecraft . inventory . EntityEquipmentSlot ; 
 import net . minecraft . item . Item ; 
 import net . minecraft . item . ItemStack ; 
 import net . minecraft . tileentity . TileEntity ; 
 @ @ - 100 , 7 + 101 , 7 @ @ public class ForgeHooksClient 
 return FMLClientHandler . instance ( ) . getClient ( ) . renderEngine ; 
 } 
 
 - public static String getArmorTexture ( Entity entity , ItemStack armor , String _ default , int slot , String type ) 
 + public static String getArmorTexture ( Entity entity , ItemStack armor , String _ default , EntityEquipmentSlot slot , String type ) 
 { 
 String result = armor . getItem ( ) . getArmorTexture ( armor , entity , slot , type ) ; 
 return result ! = null ? result : _ default ; 
 @ @ - 119 , 9 + 120 , 9 @ @ public class ForgeHooksClient 
 } 
 } 
 
 - public static boolean onDrawBlockHighlight ( RenderGlobal context , EntityPlayer player , RayTraceResult target , int subID , ItemStack currentItem , float partialTicks ) 
 + public static boolean onDrawBlockHighlight ( RenderGlobal context , EntityPlayer player , RayTraceResult target , int subID , float partialTicks ) 
 { 
 - return MinecraftForge . EVENT _ BUS . post ( new DrawBlockHighlightEvent ( context , player , target , subID , currentItem , partialTicks ) ) ; 
 + return MinecraftForge . EVENT _ BUS . post ( new DrawBlockHighlightEvent ( context , player , target , subID , partialTicks ) ) ; 
 } 
 
 public static void dispatchRenderLast ( RenderGlobal context , float partialTicks ) 
 @ @ - 164 , 9 + 165 , 9 @ @ public class ForgeHooksClient 
 renderLayer . set ( layer ) ; 
 } 
 
 - public static ModelBiped getArmorModel ( EntityLivingBase entityLiving , ItemStack itemStack , int slotID , ModelBiped _ default ) 
 + public static ModelBiped getArmorModel ( EntityLivingBase entityLiving , ItemStack itemStack , EntityEquipmentSlot slot , ModelBiped _ default ) 
 { 
 - ModelBiped model = itemStack . getItem ( ) . getArmorModel ( entityLiving , itemStack , slotID , _ default ) ; 
 + ModelBiped model = itemStack . getItem ( ) . getArmorModel ( entityLiving , itemStack , slot , _ default ) ; 
 return model = = null ? _ default : model ; 
 } 
 
 @ @ - 203 , 8 + 204 , 8 @ @ public class ForgeHooksClient 
 return fovUpdateEvent . newfov ; 
 } 
 
 - public static float getFOVModifier ( EntityRenderer renderer , Entity entity , Block block , double renderPartialTicks , float fov ) { 
 - EntityViewRenderEvent . FOVModifier event = new EntityViewRenderEvent . FOVModifier ( renderer , entity , block , renderPartialTicks , fov ) ; 
 + public static float getFOVModifier ( EntityRenderer renderer , Entity entity , IBlockState state , double renderPartialTicks , float fov ) { 
 + EntityViewRenderEvent . FOVModifier event = new EntityViewRenderEvent . FOVModifier ( renderer , entity , state , renderPartialTicks , fov ) ; 
 MinecraftForge . EVENT _ BUS . post ( event ) ; 
 return event . getFOV ( ) ; 
 } 
 @ @ - 318 , 16 + 319 , 16 @ @ public class ForgeHooksClient 
 MinecraftForge . EVENT _ BUS . post ( new GuiScreenEvent . DrawScreenEvent . Post ( screen , mouseX , mouseY , partialTicks ) ) ; 
 } 
 
 - public static float getFogDensity ( EntityRenderer renderer , Entity entity , Block block , float partial , float density ) 
 + public static float getFogDensity ( EntityRenderer renderer , Entity entity , IBlockState state , float partial , float density ) 
 { 
 - EntityViewRenderEvent . FogDensity event = new EntityViewRenderEvent . FogDensity ( renderer , entity , block , partial , density ) ; 
 + EntityViewRenderEvent . FogDensity event = new EntityViewRenderEvent . FogDensity ( renderer , entity , state , partial , density ) ; 
 if ( MinecraftForge . EVENT _ BUS . post ( event ) ) return event . density ; 
 return - 1 ; 
 } 
 
 - public static void onFogRender ( EntityRenderer renderer , Entity entity , Block block , float partial , int mode , float distance ) 
 + public static void onFogRender ( EntityRenderer renderer , Entity entity , IBlockState state , float partial , int mode , float distance ) 
 { 
 - MinecraftForge . EVENT _ BUS . post ( new EntityViewRenderEvent . RenderFogEvent ( renderer , entity , block , partial , mode , distance ) ) ; 
 + MinecraftForge . EVENT _ BUS . post ( new EntityViewRenderEvent . RenderFogEvent ( renderer , entity , state , partial , mode , distance ) ) ; 
 } 
 
 / * 
 diff - - git a / src / main / java / net / minecraftforge / client / event / DrawBlockHighlightEvent . java b / src / main / java / net / minecraftforge / client / event / DrawBlockHighlightEvent . java 
 index ea53c22 . . b962071 100644 
 - - - a / src / main / java / net / minecraftforge / client / event / DrawBlockHighlightEvent . java 
 + + + b / src / main / java / net / minecraftforge / client / event / DrawBlockHighlightEvent . java 
 @ @ - 14 , 7 + 14 , 6 @ @ public class DrawBlockHighlightEvent extends Event 
 public final EntityPlayer player ; 
 public final RayTraceResult target ; 
 public final int subID ; 
 - public final ItemStack currentItem ; 
 public final float partialTicks ; 
 
 public DrawBlockHighlightEvent ( RenderGlobal context , EntityPlayer player , RayTraceResult target , int subID , ItemStack currentItem , float partialTicks ) 
 @ @ - 23 , 7 + 22 , 6 @ @ public class DrawBlockHighlightEvent extends Event 
 this . player = player ; 
 this . target = target ; 
 this . subID = subID ; 
 - this . currentItem = currentItem ; 
 this . partialTicks = partialTicks ; 
 } 
 
 diff - - git a / src / main / java / net / minecraftforge / client / event / EntityViewRenderEvent . java b / src / main / java / net / minecraftforge / client / event / EntityViewRenderEvent . java 
 index 1f23314 . . 90e73e3 100644 
 - - - a / src / main / java / net / minecraftforge / client / event / EntityViewRenderEvent . java 
 + + + b / src / main / java / net / minecraftforge / client / event / EntityViewRenderEvent . java 
 @ @ - 1 , 6 + 1 , 7 @ @ 
 package net . minecraftforge . client . event ; 
 
 import net . minecraft . block . Block ; 
 + import net . minecraft . block . state . IBlockState ; 
 import net . minecraft . client . renderer . EntityRenderer ; 
 import net . minecraft . entity . Entity ; 
 import net . minecraftforge . fml . common . eventhandler . Cancelable ; 
 @ @ - 12 , 20 + 13 , 40 @ @ import net . minecraftforge . fml . common . eventhandler . Event ; 
 * / 
 public abstract class EntityViewRenderEvent extends Event 
 { 
 - public final EntityRenderer renderer ; 
 - public final Entity entity ; 
 - public final Block block ; 
 - public final double renderPartialTicks ; 
 + private final EntityRenderer renderer ; 
 + private final Entity entity ; 
 + private final IBlockState state ; 
 + private final double renderPartialTicks ; 
 
 - public EntityViewRenderEvent ( EntityRenderer renderer , Entity entity , Block block , double renderPartialTicks ) 
 + public EntityViewRenderEvent ( EntityRenderer renderer , Entity entity , IBlockState state , double renderPartialTicks ) 
 { 
 this . renderer = renderer ; 
 this . entity = entity ; 
 - this . block = block ; 
 + this . state = state ; 
 this . renderPartialTicks = renderPartialTicks ; 
 } 
 
 - / * * 
 + public EntityRenderer getRenderer ( ) 
 + { 
 + 	 return renderer ; 
 + 	 } 
 + 
 + public Entity getEntity ( ) 
 + { 
 + return entity ; 
 + } 
 + 
 + public IBlockState getState ( ) 
 + { 
 + return state ; 
 + } 
 + 
 + public double getRenderPartialTicks ( ) 
 + { 
 + return renderPartialTicks ; 
 + } 
 + 
 + 	 / * * 
 * Event that allows any feature to customize the fog density the player sees . 
 * NOTE : In order to make this event have an effect , you must cancel the event 
 * / 
 @ @ - 34 , 9 + 55 , 9 @ @ public abstract class EntityViewRenderEvent extends Event 
 { 
 public float density ; 
 
 - public FogDensity ( EntityRenderer renderer , Entity entity , Block block , double renderPartialTicks , float density ) 
 + public FogDensity ( EntityRenderer renderer , Entity entity , IBlockState state , double renderPartialTicks , float density ) 
 { 
 - super ( renderer , entity , block , renderPartialTicks ) ; 
 + super ( renderer , entity , state , renderPartialTicks ) ; 
 this . density = density ; 
 } 
 } 
 @ @ - 50 , 9 + 71 , 9 @ @ public abstract class EntityViewRenderEvent extends Event 
 public final int fogMode ; 
 public final float farPlaneDistance ; 
 
 - public RenderFogEvent ( EntityRenderer renderer , Entity entity , Block block , double renderPartialTicks , int fogMode , float farPlaneDistance ) 
 + public RenderFogEvent ( EntityRenderer renderer , Entity entity , IBlockState state , double renderPartialTicks , int fogMode , float farPlaneDistance ) 
 { 
 - super ( renderer , entity , block , renderPartialTicks ) ; 
 + super ( renderer , entity , state , renderPartialTicks ) ; 
 this . fogMode = fogMode ; 
 this . farPlaneDistance = farPlaneDistance ; 
 } 
 @ @ - 68 , 9 + 89 , 9 @ @ public abstract class EntityViewRenderEvent extends Event 
 public float green ; 
 public float blue ; 
 
 - public FogColors ( EntityRenderer renderer , Entity entity , Block block , double renderPartialTicks , float red , float green , float blue ) 
 + public FogColors ( EntityRenderer renderer , Entity entity , IBlockState state , double renderPartialTicks , float red , float green , float blue ) 
 { 
 - super ( renderer , entity , block , renderPartialTicks ) ; 
 + super ( renderer , entity , state , renderPartialTicks ) ; 
 this . red = red ; 
 this . green = green ; 
 this . blue = blue ; 
 @ @ - 86 , 9 + 107 , 9 @ @ public abstract class EntityViewRenderEvent extends Event 
 public float pitch ; 
 public float roll ; 
 
 - public CameraSetup ( EntityRenderer renderer , Entity entity , Block block , double renderPartialTicks , float yaw , float pitch , float roll ) 
 + public CameraSetup ( EntityRenderer renderer , Entity entity , IBlockState state , double renderPartialTicks , float yaw , float pitch , float roll ) 
 { 
 - super ( renderer , entity , block , renderPartialTicks ) ; 
 + super ( renderer , entity , state , renderPartialTicks ) ; 
 this . yaw = yaw ; 
 this . pitch = pitch ; 
 this . roll = roll ; 
 @ @ - 103 , 8 + 124 , 8 @ @ public abstract class EntityViewRenderEvent extends Event 
 { 
 private float fov ; 
 
 - public FOVModifier ( EntityRenderer renderer , Entity entity , Block block , double renderPartialTicks , float fov ) { 
 - super ( renderer , entity , block , renderPartialTicks ) ; 
 + public FOVModifier ( EntityRenderer renderer , Entity entity , IBlockState state , double renderPartialTicks , float fov ) { 
 + super ( renderer , entity , state , renderPartialTicks ) ; 
 this . setFOV ( fov ) ; 
 } 


NEAREST DIFF:
diff - - git a / patches / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch b / patches / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch 
 index 120177d . . 0cae971 100644 
 - - - a / patches / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch 
 @ @ - 1 , 5 + 1 , 14 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / client / renderer / EntityRenderer . java 
 + + + . . / src - work / minecraft / net / minecraft / client / renderer / EntityRenderer . java 
 + @ @ - 423 , 7 + 423 , 7 @ @ 
 + 
 + if ( d3 < d2 | | d2 = = 0 . 0D ) 
 + { 
 + - if ( entity1 = = entity . ridingEntity ) 
 + + if ( entity1 = = entity . ridingEntity & & ! entity . canRiderInteract ( ) ) 
 + { 
 + if ( d2 = = 0 . 0D ) 
 + { 
 @ @ - 580 , 14 + 580 , 8 @ @ 
 { 
 BlockPos blockpos = new BlockPos ( entity ) ; 
 @ @ - 44 , 6 + 53 , 15 @ @ 
 } 
 
 GlStateManager . translate ( 0 . 0F , - f , 0 . 0F ) ; 
 + @ @ - 1107 , 7 + 1104 , 7 @ @ 
 + 
 + try 
 + { 
 + - this . mc . currentScreen . drawScreen ( k1 , l1 , p _ 181560 _ 1 _ ) ; 
 + + net . minecraftforge . client . ForgeHooksClient . drawScreen ( this . mc . currentScreen , k1 , l1 , p _ 181560 _ 1 _ ) ; 
 + } 
 + catch ( Throwable throwable ) 
 + { 
 @ @ - 1171 , 7 + 1168 , 7 @ @ 
 
 if ( this . mc . playerController . getCurrentGameType ( ) = = WorldSettings . GameType . SPECTATOR ) 
 @ @ - 53 , 7 + 71 , 17 @ @ 
 } 
 else 
 { 
 - @ @ - 1333 , 6 + 1330 , 7 @ @ 
 + @ @ - 1321 , 7 + 1318 , 9 @ @ 
 + GlStateManager . pushMatrix ( ) ; 
 + RenderHelper . enableStandardItemLighting ( ) ; 
 + this . mc . mcProfiler . endStartSection ( " entities " ) ; 
 + + net . minecraftforge . client . ForgeHooksClient . setRenderPass ( 0 ) ; 
 + renderglobal . renderEntities ( entity , icamera , partialTicks ) ; 
 + + net . minecraftforge . client . ForgeHooksClient . setRenderPass ( 0 ) ; 
 + RenderHelper . disableStandardItemLighting ( ) ; 
 + this . disableLightmap ( ) ; 
 + GlStateManager . matrixMode ( 5888 ) ; 
 + @ @ - 1333 , 6 + 1332 , 7 @ @ 
 EntityPlayer entityplayer = ( EntityPlayer ) entity ; 
 GlStateManager . disableAlpha ( ) ; 
 this . mc . mcProfiler . endStartSection ( " outline " ) ; 
 @ @ - 61 , 7 + 89 , 31 @ @ 
 renderglobal . drawSelectionBox ( entityplayer , this . mc . objectMouseOver , 0 , partialTicks ) ; 
 GlStateManager . enableAlpha ( ) ; 
 } 
 - @ @ - 1399 , 8 + 1397 , 12 @ @ 
 + @ @ - 1346 , 6 + 1346 , 7 @ @ 
 + EntityPlayer entityplayer1 = ( EntityPlayer ) entity ; 
 + GlStateManager . disableAlpha ( ) ; 
 + this . mc . mcProfiler . endStartSection ( " outline " ) ; 
 + + if ( ! net . minecraftforge . client . ForgeHooksClient . onDrawBlockHighlight ( renderglobal , entityplayer1 , mc . objectMouseOver , 0 , entityplayer1 . getHeldItem ( ) , partialTicks ) ) 
 + renderglobal . drawSelectionBox ( entityplayer1 , this . mc . objectMouseOver , 0 , partialTicks ) ; 
 + GlStateManager . enableAlpha ( ) ; 
 + } 
 + @ @ - 1387 , 6 + 1388 , 15 @ @ 
 + GlStateManager . shadeModel ( 7425 ) ; 
 + this . mc . mcProfiler . endStartSection ( " translucent " ) ; 
 + renderglobal . renderBlockLayer ( EnumWorldBlockLayer . TRANSLUCENT , ( double ) partialTicks , pass , entity ) ; 
 + + if ( ! this . debugView ) / / Only render if render pass 0 happens as well . 
 + + { 
 + + RenderHelper . enableStandardItemLighting ( ) ; 
 + + this . mc . mcProfiler . endStartSection ( " entities " ) ; 
 + + net . minecraftforge . client . ForgeHooksClient . setRenderPass ( 1 ) ; 
 + + renderglobal . renderEntities ( entity , icamera , partialTicks ) ; 
 + + net . minecraftforge . client . ForgeHooksClient . setRenderPass ( - 1 ) ; 
 + + RenderHelper . disableStandardItemLighting ( ) ; 
 + + } 
 + GlStateManager . shadeModel ( 7424 ) ; 
 + GlStateManager . depthMask ( true ) ; 
 + GlStateManager . enableCull ( ) ; 
 + @ @ - 1399 , 8 + 1409 , 12 @ @ 
 this . renderCloudsCheck ( renderglobal , partialTicks , pass ) ; 
 } 
 
 @ @ - 74 , 7 + 126 , 21 @ @ 
 if ( this . renderHand ) 
 { 
 GlStateManager . clear ( 256 ) ; 
 - @ @ - 1837 , 6 + 1839 , 13 @ @ 
 + @ @ - 1512 , 6 + 1526 , 13 @ @ 
 + 
 + protected void renderRainSnow ( float partialTicks ) 
 + { 
 + + net . minecraftforge . client . IRenderHandler renderer = this . mc . theWorld . provider . getWeatherRenderer ( ) ; 
 + + if ( renderer ! = null ) 
 + + { 
 + + renderer . render ( partialTicks , this . mc . theWorld , mc ) ; 
 + + return ; 
 + + } 
 + + 
 + float f = this . mc . theWorld . getRainStrength ( partialTicks ) ; 
 + 
 + if ( f > 0 . 0F ) 
 + @ @ - 1837 , 6 + 1858 , 13 @ @ 
 this . fogColorBlue = f7 ; 
 } 
 
 @ @ - 88 , 7 + 154 , 7 @ @ 
 GlStateManager . clearColor ( this . fogColorRed , this . fogColorGreen , this . fogColorBlue , 0 . 0F ) ; 
 } 
 
 - @ @ - 1855 , 6 + 1864 , 10 @ @ 
 + @ @ - 1855 , 6 + 1883 , 10 @ @ 
 GlStateManager . color ( 1 . 0F , 1 . 0F , 1 . 0F , 1 . 0F ) ; 
 Block block = ActiveRenderInfo . getBlockAtEntityViewpoint ( this . mc . theWorld , entity , partialTicks ) ; 
 
 @ @ - 99 , 11 + 165 , 11 @ @ 
 if ( entity instanceof EntityLivingBase & & ( ( EntityLivingBase ) entity ) . isPotionActive ( Potion . blindness ) ) 
 { 
 float f1 = 5 . 0F ; 
 - @ @ - 1932 , 6 + 1945 , 7 @ @ 
 + @ @ - 1932 , 6 + 1964 , 7 @ @ 
 GlStateManager . setFogStart ( f * 0 . 05F ) ; 
 GlStateManager . setFogEnd ( Math . min ( f , 192 . 0F ) * 0 . 5F ) ; 
 } 
 - + net . minecraftforge . client . ForgeHooksClient . onFogRender ( this , entity , block , partialTicks , p _ 78468 _ 1 _ , f1 ) ; 
 + + net . minecraftforge . client . ForgeHooksClient . onFogRender ( this , entity , block , partialTicks , p _ 78468 _ 1 _ , f ) ; 
 } 
 
 GlStateManager . enableColorMaterial ( ) ; 
 diff - - git a / patches / minecraft / net / minecraft / util / StringTranslate . java . patch b / patches / minecraft / net / minecraft / util / StringTranslate . java . patch 
 new file mode 100644 
 index 0000000 . . c5464bc 
 - - - / dev / null 
 + + + b / patches / minecraft / net / minecraft / util / StringTranslate . java . patch 
 @ @ - 0 , 0 + 1 , 54 @ @ 
 + - - - . . / src - base / minecraft / net / minecraft / util / StringTranslate . java 
 + + + + . . / src - work / minecraft / net / minecraft / util / StringTranslate . java 
 + @ @ - 24 , 9 + 24 , 29 @ @ 
 + 
 + public StringTranslate ( ) 
 + { 
 + + InputStream inputstream = StringTranslate . class . getResourceAsStream ( " / assets / minecraft / lang / en _ US . lang " ) ; 
 + + inject ( this , inputstream ) ; 
 + + } 
 + + 
 + + public static void inject ( InputStream inputstream ) 
 + + { 
 + + inject ( instance , inputstream ) ; 
 + + } 
 + + 
 + + private static void inject ( StringTranslate inst , InputStream inputstream ) 
 + + { 
 + + java . util . HashMap < String , String > map = parseLangFile ( inputstream ) ; 
 + + inst . languageList . putAll ( map ) ; 
 + + inst . lastUpdateTimeInMilliseconds = System . currentTimeMillis ( ) ; 
 + + } 
 + + 
 + + public static java . util . HashMap < String , String > parseLangFile ( InputStream inputstream ) 
 + + { 
 + + java . util . HashMap < String , String > table = Maps . newHashMap ( ) ; 
 + try 
 + { 
 + - InputStream inputstream = StringTranslate . class . getResourceAsStream ( " / assets / minecraft / lang / en _ US . lang " ) ; 
 + + inputstream = net . minecraftforge . fml . common . FMLCommonHandler . instance ( ) . loadLanguage ( table , inputstream ) ; 
 + + if ( inputstream = = null ) return table ; 
 + 
 + for ( String s : IOUtils . readLines ( inputstream , Charsets . UTF _ 8 ) ) 
 + { 
 + @ @ - 38 , 17 + 58 , 17 @ @ 
 + { 
 + String s1 = astring [ 0 ] ; 
 + String s2 = numericVariablePattern . matcher ( astring [ 1 ] ) . replaceAll ( " % $ 1s " ) ; 
 + - this . languageList . put ( s1 , s2 ) ; 
 + + table . put ( s1 , s2 ) ; 
 + } 
 + } 
 + } 
 + 
 + - this . lastUpdateTimeInMilliseconds = System . currentTimeMillis ( ) ; 
 + } 
 + - catch ( IOException var7 ) 
 + + catch ( Exception var7 ) 
 + { 
 + ; 
 + } 
 + + return table ; 
 + } 
 + 
 + static StringTranslate getInstance ( ) 
 diff - - git a / rejects / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch . rej b / rejects / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch . rej 
 deleted file mode 100644 
 index 6113b99 . . 0000000 
 - - - a / rejects / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch . rej 
 + + + / dev / null 
 @ @ - 1 , 73 + 0 , 0 @ @ 
 - + + + + REJECTED PATCH 1 
 - 
 - if ( d3 < d2 | | d2 = = 0 . 0D ) 
 - { 
 - - if ( entity1 = = entity . ridingEntity ) 
 - + if ( entity1 = = entity . ridingEntity & & ! entity . canRiderInteract ( ) ) 
 - { 
 - if ( d2 = = 0 . 0D ) 
 - { 
 - + + + + END PATCH 
 - + + + + REJECTED PATCH 4 
 - 
 - try 
 - { 
 - - this . mc . currentScreen . drawScreen ( l , i1 , partialTicks ) ; 
 - + net . minecraftforge . client . ForgeHooksClient . drawScreen ( this . mc . currentScreen , l , i1 , partialTicks ) ; 
 - } 
 - catch ( Throwable throwable ) 
 - { 
 - + + + + END PATCH 
 - + + + + REJECTED PATCH 6 
 - GlStateManager . pushMatrix ( ) ; 
 - RenderHelper . enableStandardItemLighting ( ) ; 
 - this . mc . mcProfiler . endStartSection ( " entities " ) ; 
 - + net . minecraftforge . client . ForgeHooksClient . setRenderPass ( 0 ) ; 
 - renderglobal . renderEntities ( entity , frustum , partialTicks ) ; 
 - + net . minecraftforge . client . ForgeHooksClient . setRenderPass ( 0 ) ; 
 - RenderHelper . disableStandardItemLighting ( ) ; 
 - this . disableLightmap ( ) ; 
 - GlStateManager . matrixMode ( 5888 ) ; 
 - + + + + END PATCH 
 - + + + + REJECTED PATCH 8 
 - entityplayer = ( EntityPlayer ) entity ; 
 - GlStateManager . disableAlpha ( ) ; 
 - this . mc . mcProfiler . endStartSection ( " outline " ) ; 
 - + if ( ! net . minecraftforge . client . ForgeHooksClient . onDrawBlockHighlight ( renderglobal , entityplayer , mc . objectMouseOver , 0 , entityplayer . getHeldItem ( ) , partialTicks ) ) 
 - renderglobal . drawSelectionBox ( entityplayer , this . mc . objectMouseOver , 0 , partialTicks ) ; 
 - GlStateManager . enableAlpha ( ) ; 
 - } 
 - + + + + END PATCH 
 - + + + + REJECTED PATCH 9 
 - renderglobal . renderBlockLayer ( EnumWorldBlockLayer . TRANSLUCENT , ( double ) partialTicks , pass , entity ) ; 
 - } 
 - 
 - + if ( ! this . debugView ) / / Only render if render pass 0 happens as well . 
 - + { 
 - + RenderHelper . enableStandardItemLighting ( ) ; 
 - + this . mc . mcProfiler . endStartSection ( " entities " ) ; 
 - + net . minecraftforge . client . ForgeHooksClient . setRenderPass ( 1 ) ; 
 - + renderglobal . renderEntities ( entity , frustum , partialTicks ) ; 
 - + net . minecraftforge . client . ForgeHooksClient . setRenderPass ( - 1 ) ; 
 - + RenderHelper . disableStandardItemLighting ( ) ; 
 - + } 
 - + 
 - GlStateManager . shadeModel ( 7424 ) ; 
 - GlStateManager . depthMask ( true ) ; 
 - GlStateManager . enableCull ( ) ; 
 - + + + + END PATCH 
 - + + + + REJECTED PATCH 11 
 - 
 - protected void renderRainSnow ( float partialTicks ) 
 - { 
 - + net . minecraftforge . client . IRenderHandler renderer = this . mc . theWorld . provider . getWeatherRenderer ( ) ; 
 - + if ( renderer ! = null ) 
 - + { 
 - + renderer . render ( partialTicks , this . mc . theWorld , mc ) ; 
 - + return ; 
 - + } 
 - + 
 - float f1 = this . mc . theWorld . getRainStrength ( partialTicks ) ; 
 - 
 - if ( f1 > 0 . 0F ) 
 - + + + + END PATCH 
 diff - - git a / rejects / minecraft / net / minecraft / util / StringTranslate . java . patch . rej b / rejects / minecraft / net / minecraft / util / StringTranslate . java . patch . rej 
 deleted file mode 100644 
 index b552d24 . . 0000000 
 - - - a / rejects / minecraft / net / minecraft / util / StringTranslate . java . patch . rej 
 + + + / dev / null 
 @ @ - 1 , 64 + 0 , 0 @ @ 
 - + + + + REJECTED PATCH 1 
 - { 
 - private static final Pattern numericVariablePattern = Pattern . compile ( " % ( \ \ d + \ \ $ ) ? [ \ \ d \ \ . ] * [ df ] " ) ; 
 - private static final Splitter equalSignSplitter = Splitter . on ( ' = ' ) . limit ( 2 ) ; 
 - + private final Map languageList ; 
 - private static StringTranslate instance = new StringTranslate ( ) ; 
 - - private final Map languageList = Maps . newHashMap ( ) ; 
 - private long lastUpdateTimeInMilliseconds ; 
 - private static final String _ _ OBFID = " CL _ 00001212 " ; 
 - 
 - public StringTranslate ( ) 
 - { 
 - + InputStream inputstream = StringTranslate . class . getResourceAsStream ( " / assets / minecraft / lang / en _ US . lang " ) ; 
 - + languageList = Maps . newHashMap ( ) ; 
 - + inject ( this , inputstream ) ; 
 - + } 
 - + 
 - + public static void inject ( InputStream inputstream ) 
 - + { 
 - + inject ( instance , inputstream ) ; 
 - + } 
 - + 
 - + private static void inject ( StringTranslate inst , InputStream inputstream ) 
 - + { 
 - + java . util . HashMap < String , String > map = parseLangFile ( inputstream ) ; 
 - + inst . languageList . putAll ( map ) ; 
 - + inst . lastUpdateTimeInMilliseconds = System . currentTimeMillis ( ) ; 
 - + } 
 - + 
 - + public static java . util . HashMap < String , String > parseLangFile ( InputStream inputstream ) 
 - + { 
 - + java . util . HashMap < String , String > table = Maps . newHashMap ( ) ; 
 - try 
 - { 
 - - InputStream inputstream = StringTranslate . class . getResourceAsStream ( " / assets / minecraft / lang / en _ US . lang " ) ; 
 - + inputstream = net . minecraftforge . fml . common . FMLCommonHandler . instance ( ) . loadLanguage ( table , inputstream ) ; 
 - + if ( inputstream = = null ) return table ; 
 - + 
 - Iterator iterator = IOUtils . readLines ( inputstream , Charsets . UTF _ 8 ) . iterator ( ) ; 
 - 
 - while ( iterator . hasNext ( ) ) 
 - + + + + END PATCH 
 - + + + + REJECTED PATCH 2 
 - { 
 - String s1 = astring [ 0 ] ; 
 - String s2 = numericVariablePattern . matcher ( astring [ 1 ] ) . replaceAll ( " % $ 1s " ) ; 
 - - this . languageList . put ( s1 , s2 ) ; 
 - + table . put ( s1 , s2 ) ; 
 - } 
 - } 
 - } 
 - 
 - - this . lastUpdateTimeInMilliseconds = System . currentTimeMillis ( ) ; 
 - } 
 - - catch ( IOException ioexception ) 
 - + catch ( Exception ioexception ) 
 - { 
 - ; 
 - } 
 - + return table ; 
 - } 
 - 
 - static StringTranslate getInstance ( ) 
 - + + + + END PATCH
