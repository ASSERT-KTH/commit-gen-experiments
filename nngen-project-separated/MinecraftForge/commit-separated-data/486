BLEU SCORE: 0.0856127425234383

TEST MSG: [ MC - 2518 ] Fixed missing break sound and particles . Closes # 3821
GENERATED MSG: Move dismount version of EntityMountEvent to Entity class . Should fix canceling dismounting . Closes # 3226

TEST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch b / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch <nl> index 7bfdbcf . . aa9e616 100644 <nl> - - - a / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch <nl> + + + b / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch <nl> @ @ - 81 , 7 + 81 , 25 @ @ <nl> <nl> if ( entitywolf . func _ 70909 _ n ( ) ) <nl> { <nl> - @ @ - 1107 , 6 + 1114 , 7 @ @ <nl> + @ @ - 1089 , 7 + 1096 , 7 @ @ <nl> + <nl> + public void func _ 70669 _ a ( ItemStack p _ 70669 _ 1 _ ) <nl> + { <nl> + - this . func _ 184185 _ a ( SoundEvents . field _ 187635 _ cQ , 0 . 8F , 0 . 8F + this . field _ 70170 _ p . field _ 73012 _ v . nextFloat ( ) * 0 . 4F ) ; <nl> + + this . field _ 70170 _ p . func _ 184148 _ a ( null , this . field _ 70165 _ t , this . field _ 70163 _ u , this . field _ 70161 _ v , SoundEvents . field _ 187635 _ cQ , this . func _ 184176 _ by ( ) , 0 . 8F , 0 . 8F + this . field _ 70170 _ p . field _ 73012 _ v . nextFloat ( ) * 0 . 4F ) ; / / Forge : Fix MC - 2518 Items are not damaged on the client so client needs packet as well . <nl> + <nl> + for ( int i = 0 ; i < 5 ; + + i ) <nl> + { <nl> + @ @ - 1101 , 12 + 1108 , 16 @ @ <nl> + vec3d1 = vec3d1 . func _ 178789 _ a ( - this . field _ 70125 _ A * 0 . 017453292F ) ; <nl> + vec3d1 = vec3d1 . func _ 178785 _ b ( - this . field _ 70177 _ z * 0 . 017453292F ) ; <nl> + vec3d1 = vec3d1 . func _ 72441 _ c ( this . field _ 70165 _ t , this . field _ 70163 _ u + ( double ) this . func _ 70047 _ e ( ) , this . field _ 70161 _ v ) ; <nl> + + if ( this . field _ 70170 _ p instanceof WorldServer ) / / Forge : Fix MC - 2518 spawnParticle is nooped on server , need to use server specific variant <nl> + + ( ( WorldServer ) this . field _ 70170 _ p ) . func _ 175739 _ a ( EnumParticleTypes . ITEM _ CRACK , vec3d1 . field _ 72450 _ a , vec3d1 . field _ 72448 _ b , vec3d1 . field _ 72449 _ c , 0 , vec3d . field _ 72450 _ a , vec3d . field _ 72448 _ b + 0 . 05D , vec3d . field _ 72449 _ c , 0 . 0D , new int [ ] { Item . func _ 150891 _ b ( p _ 70669 _ 1 _ . func _ 77973 _ b ( ) ) } ) ; <nl> + + else <nl> + this . field _ 70170 _ p . func _ 175688 _ a ( EnumParticleTypes . ITEM _ CRACK , vec3d1 . field _ 72450 _ a , vec3d1 . field _ 72448 _ b , vec3d1 . field _ 72449 _ c , vec3d . field _ 72450 _ a , vec3d . field _ 72448 _ b + 0 . 05D , vec3d . field _ 72449 _ c , new int [ ] { Item . func _ 150891 _ b ( p _ 70669 _ 1 _ . func _ 77973 _ b ( ) ) } ) ; <nl> + } <nl> + } <nl> <nl> public void func _ 70645 _ a ( DamageSource p _ 70645 _ 1 _ ) <nl> { <nl> @ @ - 89 , 7 + 107 , 7 @ @ <nl> if ( ! this . field _ 70729 _ aU ) <nl> { <nl> Entity entity = p _ 70645 _ 1 _ . func _ 76346 _ g ( ) ; <nl> - @ @ - 1127 , 18 + 1135 , 26 @ @ <nl> + @ @ - 1127 , 18 + 1138 , 26 @ @ <nl> <nl> if ( ! this . field _ 70170 _ p . field _ 72995 _ K ) <nl> { <nl> @ @ - 121 , 7 + 139 , 7 @ @ <nl> } <nl> <nl> this . field _ 70170 _ p . func _ 72960 _ a ( this , ( byte ) 3 ) ; <nl> - @ @ - 1215 , 7 + 1231 , 7 @ @ <nl> + @ @ - 1215 , 7 + 1234 , 7 @ @ <nl> BlockPos blockpos = new BlockPos ( i , j , k ) ; <nl> IBlockState iblockstate = this . field _ 70170 _ p . func _ 180495 _ p ( blockpos ) ; <nl> Block block = iblockstate . func _ 177230 _ c ( ) ; <nl> @ @ - 130 , 7 + 148 , 7 @ @ <nl> } <nl> } <nl> <nl> - @ @ - 1241 , 6 + 1257 , 9 @ @ <nl> + @ @ - 1241 , 6 + 1260 , 9 @ @ <nl> <nl> public void func _ 180430 _ e ( float p _ 180430 _ 1 _ , float p _ 180430 _ 2 _ ) <nl> { <nl> @ @ - 140 , 7 + 158 , 7 @ @ <nl> super . func _ 180430 _ e ( p _ 180430 _ 1 _ , p _ 180430 _ 2 _ ) ; <nl> PotionEffect potioneffect = this . func _ 70660 _ b ( MobEffects . field _ 76430 _ j ) ; <nl> float f = potioneffect = = null ? 0 . 0F : ( float ) ( potioneffect . func _ 76458 _ c ( ) + 1 ) ; <nl> - @ @ - 1257 , 7 + 1276 , 7 @ @ <nl> + @ @ - 1257 , 7 + 1279 , 7 @ @ <nl> <nl> if ( iblockstate . func _ 185904 _ a ( ) ! = Material . field _ 151579 _ a ) <nl> { <nl> @ @ - 149 , 7 + 167 , 7 @ @ <nl> this . func _ 184185 _ a ( soundtype . func _ 185842 _ g ( ) , soundtype . func _ 185843 _ a ( ) * 0 . 5F , soundtype . func _ 185847 _ b ( ) * 0 . 75F ) ; <nl> } <nl> } <nl> - @ @ - 1334 , 6 + 1353 , 8 @ @ <nl> + @ @ - 1334 , 6 + 1356 , 8 @ @ <nl> { <nl> if ( ! this . func _ 180431 _ b ( p _ 70665 _ 1 _ ) ) <nl> { <nl> @ @ - 158 , 7 + 176 , 7 @ @ <nl> p _ 70665 _ 2 _ = this . func _ 70655 _ b ( p _ 70665 _ 1 _ , p _ 70665 _ 2 _ ) ; <nl> p _ 70665 _ 2 _ = this . func _ 70672 _ c ( p _ 70665 _ 1 _ , p _ 70665 _ 2 _ ) ; <nl> float f = p _ 70665 _ 2 _ ; <nl> - @ @ - 1383 , 6 + 1404 , 11 @ @ <nl> + @ @ - 1383 , 6 + 1407 , 11 @ @ <nl> <nl> public void func _ 184609 _ a ( EnumHand p _ 184609 _ 1 _ ) <nl> { <nl> @ @ - 170 , 7 + 188 , 7 @ @ <nl> if ( ! this . field _ 82175 _ bq | | this . field _ 110158 _ av > = this . func _ 82166 _ i ( ) / 2 | | this . field _ 110158 _ av < 0 ) <nl> { <nl> this . field _ 110158 _ av = - 1 ; <nl> - @ @ - 1613 , 7 + 1639 , 7 @ @ <nl> + @ @ - 1613 , 7 + 1642 , 7 @ @ <nl> <nl> if ( ! this . field _ 70170 _ p . func _ 184143 _ b ( axisalignedbb1 ) ) <nl> { <nl> @ @ - 179 , 7 + 197 , 7 @ @ <nl> { <nl> this . func _ 70634 _ a ( d11 , this . field _ 70163 _ u + 1 . 0D , d12 ) ; <nl> return ; <nl> - @ @ - 1621 , 14 + 1647 , 14 @ @ <nl> + @ @ - 1621 , 14 + 1650 , 14 @ @ <nl> <nl> BlockPos blockpos = new BlockPos ( d11 , this . field _ 70163 _ u - 1 . 0D , d12 ) ; <nl> <nl> @ @ - 196 , 7 + 214 , 7 @ @ <nl> { <nl> d1 = d11 ; <nl> d13 = this . field _ 70163 _ u + 2 . 0D ; <nl> - @ @ - 1700 , 6 + 1726 , 7 @ @ <nl> + @ @ - 1700 , 6 + 1729 , 7 @ @ <nl> } <nl> <nl> this . field _ 70160 _ al = true ; <nl> @ @ - 204 , 7 + 222 , 7 @ @ <nl> } <nl> <nl> protected void func _ 70629 _ bd ( ) <nl> - @ @ - 1972 , 6 + 1999 , 7 @ @ <nl> + @ @ - 1972 , 6 + 2002 , 7 @ @ <nl> <nl> public void func _ 70071 _ h _ ( ) <nl> { <nl> @ @ - 212 , 7 + 230 , 7 @ @ <nl> super . func _ 70071 _ h _ ( ) ; <nl> this . func _ 184608 _ ct ( ) ; <nl> <nl> - @ @ - 2015 , 6 + 2043 , 7 @ @ <nl> + @ @ - 2015 , 6 + 2046 , 7 @ @ <nl> if ( ! ItemStack . func _ 77989 _ b ( itemstack1 , itemstack ) ) <nl> { <nl> ( ( WorldServer ) this . field _ 70170 _ p ) . func _ 73039 _ n ( ) . func _ 151247 _ a ( this , new SPacketEntityEquipment ( this . func _ 145782 _ y ( ) , entityequipmentslot , itemstack1 ) ) ; <nl> @ @ - 220 , 7 + 238 , 7 @ @ <nl> <nl> if ( ! itemstack . func _ 190926 _ b ( ) ) <nl> { <nl> - @ @ - 2488 , 6 + 2517 , 40 @ @ <nl> + @ @ - 2488 , 6 + 2520 , 40 @ @ <nl> this . field _ 70752 _ e = true ; <nl> } <nl> <nl> @ @ - 261 , 7 + 279 , 7 @ @ <nl> public abstract EnumHandSide func _ 184591 _ cq ( ) ; <nl> <nl> public boolean func _ 184587 _ cr ( ) <nl> - @ @ - 2508 , 12 + 2571 , 19 @ @ <nl> + @ @ - 2508 , 12 + 2574 , 19 @ @ <nl> <nl> if ( itemstack = = this . field _ 184627 _ bm ) <nl> { <nl> @ @ - 282 , 7 + 300 , 7 @ @ <nl> { <nl> this . func _ 71036 _ o ( ) ; <nl> } <nl> - @ @ - 2531 , 8 + 2601 , 10 @ @ <nl> + @ @ - 2531 , 8 + 2604 , 10 @ @ <nl> <nl> if ( ! itemstack . func _ 190926 _ b ( ) & & ! this . func _ 184587 _ cr ( ) ) <nl> { <nl> @ @ - 294 , 7 + 312 , 7 @ @ <nl> <nl> if ( ! this . field _ 70170 _ p . field _ 72995 _ K ) <nl> { <nl> - @ @ - 2613 , 7 + 2685 , 9 @ @ <nl> + @ @ - 2613 , 7 + 2688 , 9 @ @ <nl> if ( ! this . field _ 184627 _ bm . func _ 190926 _ b ( ) & & this . func _ 184587 _ cr ( ) ) <nl> { <nl> this . func _ 184584 _ a ( this . field _ 184627 _ bm , 16 ) ; <nl> @ @ - 305 , 7 + 323 , 7 @ @ <nl> this . func _ 184602 _ cy ( ) ; <nl> } <nl> } <nl> - @ @ - 2637 , 7 + 2711 , 8 @ @ <nl> + @ @ - 2637 , 7 + 2714 , 8 @ @ <nl> { <nl> if ( ! this . field _ 184627 _ bm . func _ 190926 _ b ( ) ) <nl> { <nl> @ @ - 315 , 7 + 333 , 7 @ @ <nl> } <nl> <nl> this . func _ 184602 _ cy ( ) ; <nl> - @ @ - 2761 , 4 + 2836 , 29 @ @ <nl> + @ @ - 2761 , 4 + 2839 , 29 @ @ <nl> { <nl> return true ; <nl> }
NEAREST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / entity / Entity . java . patch b / patches / minecraft / net / minecraft / entity / Entity . java . patch <nl> index 94607d1 . . f15eb5b 100644 <nl> - - - a / patches / minecraft / net / minecraft / entity / Entity . java . patch <nl> + + + b / patches / minecraft / net / minecraft / entity / Entity . java . patch <nl> @ @ - 101 , 7 + 101 , 15 @ @ <nl> if ( p _ 184205 _ 2 _ | | this . func _ 184228 _ n ( p _ 184205 _ 1 _ ) & & p _ 184205 _ 1 _ . func _ 184219 _ q ( this ) ) <nl> { <nl> if ( this . func _ 184218 _ aH ( ) ) <nl> - @ @ - 2336 , 6 + 2354 , 7 @ @ <nl> + @ @ - 1902 , 6 + 1920 , 7 @ @ <nl> + if ( this . field _ 184239 _ as ! = null ) <nl> + { <nl> + Entity entity = this . field _ 184239 _ as ; <nl> + + if ( ! net . minecraftforge . event . ForgeEventFactory . canMountEntity ( this , entity , false ) ) return ; <nl> + this . field _ 184239 _ as = null ; <nl> + entity . func _ 184225 _ p ( this ) ; <nl> + } <nl> + @ @ - 2336 , 6 + 2355 , 7 @ @ <nl> { <nl> if ( ! this . field _ 70170 _ p . field _ 72995 _ K & & ! this . field _ 70128 _ L ) <nl> { <nl> @ @ - 109 , 7 + 117 , 7 @ @ <nl> this . field _ 70170 _ p . field _ 72984 _ F . func _ 76320 _ a ( " changeDimension " ) ; <nl> MinecraftServer minecraftserver = this . func _ 184102 _ h ( ) ; <nl> int i = this . field _ 71093 _ bK ; <nl> - @ @ - 2429 , 7 + 2448 , 7 @ @ <nl> + @ @ - 2429 , 7 + 2449 , 7 @ @ <nl> <nl> public float func _ 180428 _ a ( Explosion p _ 180428 _ 1 _ , World p _ 180428 _ 2 _ , BlockPos p _ 180428 _ 3 _ , IBlockState p _ 180428 _ 4 _ ) <nl> { <nl> @ @ - 118 , 7 + 126 , 7 @ @ <nl> } <nl> <nl> public boolean func _ 174816 _ a ( Explosion p _ 174816 _ 1 _ , World p _ 174816 _ 2 _ , BlockPos p _ 174816 _ 3 _ , IBlockState p _ 174816 _ 4 _ , float p _ 174816 _ 5 _ ) <nl> - @ @ - 2726 , 6 + 2745 , 164 @ @ <nl> + @ @ - 2726 , 6 + 2746 , 164 @ @ <nl> EnchantmentHelper . func _ 151385 _ b ( p _ 174815 _ 1 _ , p _ 174815 _ 2 _ ) ; <nl> } <nl> <nl> diff - - git a / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch b / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch <nl> index bf1b196 . . 77601b5 100644 <nl> - - - a / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch <nl> + + + b / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch <nl> @ @ - 152 , 15 + 152 , 7 @ @ <nl> if ( ! this . field _ 82175 _ bq | | this . field _ 110158 _ av > = this . func _ 82166 _ i ( ) / 2 | | this . field _ 110158 _ av < 0 ) <nl> { <nl> this . field _ 110158 _ av = - 1 ; <nl> - @ @ - 1521 , 6 + 1551 , 7 @ @ <nl> - <nl> - public void func _ 110145 _ l ( Entity p _ 110145 _ 1 _ ) <nl> - { <nl> - + if ( ! net . minecraftforge . event . ForgeEventFactory . canMountEntity ( this , p _ 110145 _ 1 _ , false ) ) return ; <nl> - if ( ! ( p _ 110145 _ 1 _ instanceof EntityBoat ) & & ! ( p _ 110145 _ 1 _ instanceof EntityHorse ) ) <nl> - { <nl> - double d1 = p _ 110145 _ 1 _ . field _ 70165 _ t ; <nl> - @ @ - 1545 , 7 + 1576 , 7 @ @ <nl> + @ @ - 1545 , 7 + 1575 , 7 @ @ <nl> <nl> if ( ! this . field _ 70170 _ p . func _ 184143 _ b ( axisalignedbb1 ) ) <nl> { <nl> @ @ - 169 , 7 + 161 , 7 @ @ <nl> { <nl> this . func _ 70634 _ a ( d11 , this . field _ 70163 _ u + 1 . 0D , d12 ) ; <nl> return ; <nl> - @ @ - 1553 , 14 + 1584 , 14 @ @ <nl> + @ @ - 1553 , 14 + 1583 , 14 @ @ <nl> <nl> BlockPos blockpos = new BlockPos ( d11 , this . field _ 70163 _ u - 1 . 0D , d12 ) ; <nl> <nl> @ @ - 186 , 7 + 178 , 7 @ @ <nl> { <nl> d1 = d11 ; <nl> d13 = this . field _ 70163 _ u + 2 . 0D ; <nl> - @ @ - 1631 , 6 + 1662 , 7 @ @ <nl> + @ @ - 1631 , 6 + 1661 , 7 @ @ <nl> } <nl> <nl> this . field _ 70160 _ al = true ; <nl> @ @ - 194 , 7 + 186 , 7 @ @ <nl> } <nl> <nl> protected void func _ 70629 _ bd ( ) <nl> - @ @ - 1903 , 6 + 1935 , 7 @ @ <nl> + @ @ - 1903 , 6 + 1934 , 7 @ @ <nl> <nl> public void func _ 70071 _ h _ ( ) <nl> { <nl> @ @ - 202 , 7 + 194 , 7 @ @ <nl> super . func _ 70071 _ h _ ( ) ; <nl> this . func _ 184608 _ ct ( ) ; <nl> <nl> - @ @ - 2409 , 6 + 2442 , 40 @ @ <nl> + @ @ - 2409 , 6 + 2441 , 40 @ @ <nl> this . field _ 70752 _ e = true ; <nl> } <nl> <nl> @ @ - 243 , 7 + 235 , 7 @ @ <nl> public abstract EnumHandSide func _ 184591 _ cq ( ) ; <nl> <nl> public boolean func _ 184587 _ cr ( ) <nl> - @ @ - 2429 , 12 + 2496 , 19 @ @ <nl> + @ @ - 2429 , 12 + 2495 , 19 @ @ <nl> <nl> if ( itemstack = = this . field _ 184627 _ bm ) <nl> { <nl> @ @ - 264 , 7 + 256 , 7 @ @ <nl> { <nl> this . func _ 71036 _ o ( ) ; <nl> } <nl> - @ @ - 2452 , 8 + 2526 , 10 @ @ <nl> + @ @ - 2452 , 8 + 2525 , 10 @ @ <nl> <nl> if ( itemstack ! = null & & ! this . func _ 184587 _ cr ( ) ) <nl> { <nl> @ @ - 276 , 7 + 268 , 7 @ @ <nl> <nl> if ( ! this . field _ 70170 _ p . field _ 72995 _ K ) <nl> { <nl> - @ @ - 2536 , 6 + 2612 , 8 @ @ <nl> + @ @ - 2536 , 6 + 2611 , 8 @ @ <nl> this . func _ 184584 _ a ( this . field _ 184627 _ bm , 16 ) ; <nl> ItemStack itemstack = this . field _ 184627 _ bm . func _ 77950 _ b ( this . field _ 70170 _ p , this ) ; <nl> <nl> @ @ - 285 , 7 + 277 , 7 @ @ <nl> if ( itemstack ! = null & & itemstack . field _ 77994 _ a = = 0 ) <nl> { <nl> itemstack = null ; <nl> - @ @ - 2566 , 7 + 2644 , 8 @ @ <nl> + @ @ - 2566 , 7 + 2643 , 8 @ @ <nl> { <nl> if ( this . field _ 184627 _ bm ! = null ) <nl> { <nl> @ @ - 295 , 7 + 287 , 7 @ @ <nl> } <nl> <nl> this . func _ 184602 _ cy ( ) ; <nl> - @ @ - 2685 , 4 + 2764 , 28 @ @ <nl> + @ @ - 2685 , 4 + 2763 , 28 @ @ <nl> { <nl> return true ; <nl> }

TEST DIFF:
diff - - git a / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch b / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch 
 index 7bfdbcf . . aa9e616 100644 
 - - - a / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch 
 + + + b / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch 
 @ @ - 81 , 7 + 81 , 25 @ @ 
 
 if ( entitywolf . func _ 70909 _ n ( ) ) 
 { 
 - @ @ - 1107 , 6 + 1114 , 7 @ @ 
 + @ @ - 1089 , 7 + 1096 , 7 @ @ 
 + 
 + public void func _ 70669 _ a ( ItemStack p _ 70669 _ 1 _ ) 
 + { 
 + - this . func _ 184185 _ a ( SoundEvents . field _ 187635 _ cQ , 0 . 8F , 0 . 8F + this . field _ 70170 _ p . field _ 73012 _ v . nextFloat ( ) * 0 . 4F ) ; 
 + + this . field _ 70170 _ p . func _ 184148 _ a ( null , this . field _ 70165 _ t , this . field _ 70163 _ u , this . field _ 70161 _ v , SoundEvents . field _ 187635 _ cQ , this . func _ 184176 _ by ( ) , 0 . 8F , 0 . 8F + this . field _ 70170 _ p . field _ 73012 _ v . nextFloat ( ) * 0 . 4F ) ; / / Forge : Fix MC - 2518 Items are not damaged on the client so client needs packet as well . 
 + 
 + for ( int i = 0 ; i < 5 ; + + i ) 
 + { 
 + @ @ - 1101 , 12 + 1108 , 16 @ @ 
 + vec3d1 = vec3d1 . func _ 178789 _ a ( - this . field _ 70125 _ A * 0 . 017453292F ) ; 
 + vec3d1 = vec3d1 . func _ 178785 _ b ( - this . field _ 70177 _ z * 0 . 017453292F ) ; 
 + vec3d1 = vec3d1 . func _ 72441 _ c ( this . field _ 70165 _ t , this . field _ 70163 _ u + ( double ) this . func _ 70047 _ e ( ) , this . field _ 70161 _ v ) ; 
 + + if ( this . field _ 70170 _ p instanceof WorldServer ) / / Forge : Fix MC - 2518 spawnParticle is nooped on server , need to use server specific variant 
 + + ( ( WorldServer ) this . field _ 70170 _ p ) . func _ 175739 _ a ( EnumParticleTypes . ITEM _ CRACK , vec3d1 . field _ 72450 _ a , vec3d1 . field _ 72448 _ b , vec3d1 . field _ 72449 _ c , 0 , vec3d . field _ 72450 _ a , vec3d . field _ 72448 _ b + 0 . 05D , vec3d . field _ 72449 _ c , 0 . 0D , new int [ ] { Item . func _ 150891 _ b ( p _ 70669 _ 1 _ . func _ 77973 _ b ( ) ) } ) ; 
 + + else 
 + this . field _ 70170 _ p . func _ 175688 _ a ( EnumParticleTypes . ITEM _ CRACK , vec3d1 . field _ 72450 _ a , vec3d1 . field _ 72448 _ b , vec3d1 . field _ 72449 _ c , vec3d . field _ 72450 _ a , vec3d . field _ 72448 _ b + 0 . 05D , vec3d . field _ 72449 _ c , new int [ ] { Item . func _ 150891 _ b ( p _ 70669 _ 1 _ . func _ 77973 _ b ( ) ) } ) ; 
 + } 
 + } 
 
 public void func _ 70645 _ a ( DamageSource p _ 70645 _ 1 _ ) 
 { 
 @ @ - 89 , 7 + 107 , 7 @ @ 
 if ( ! this . field _ 70729 _ aU ) 
 { 
 Entity entity = p _ 70645 _ 1 _ . func _ 76346 _ g ( ) ; 
 - @ @ - 1127 , 18 + 1135 , 26 @ @ 
 + @ @ - 1127 , 18 + 1138 , 26 @ @ 
 
 if ( ! this . field _ 70170 _ p . field _ 72995 _ K ) 
 { 
 @ @ - 121 , 7 + 139 , 7 @ @ 
 } 
 
 this . field _ 70170 _ p . func _ 72960 _ a ( this , ( byte ) 3 ) ; 
 - @ @ - 1215 , 7 + 1231 , 7 @ @ 
 + @ @ - 1215 , 7 + 1234 , 7 @ @ 
 BlockPos blockpos = new BlockPos ( i , j , k ) ; 
 IBlockState iblockstate = this . field _ 70170 _ p . func _ 180495 _ p ( blockpos ) ; 
 Block block = iblockstate . func _ 177230 _ c ( ) ; 
 @ @ - 130 , 7 + 148 , 7 @ @ 
 } 
 } 
 
 - @ @ - 1241 , 6 + 1257 , 9 @ @ 
 + @ @ - 1241 , 6 + 1260 , 9 @ @ 
 
 public void func _ 180430 _ e ( float p _ 180430 _ 1 _ , float p _ 180430 _ 2 _ ) 
 { 
 @ @ - 140 , 7 + 158 , 7 @ @ 
 super . func _ 180430 _ e ( p _ 180430 _ 1 _ , p _ 180430 _ 2 _ ) ; 
 PotionEffect potioneffect = this . func _ 70660 _ b ( MobEffects . field _ 76430 _ j ) ; 
 float f = potioneffect = = null ? 0 . 0F : ( float ) ( potioneffect . func _ 76458 _ c ( ) + 1 ) ; 
 - @ @ - 1257 , 7 + 1276 , 7 @ @ 
 + @ @ - 1257 , 7 + 1279 , 7 @ @ 
 
 if ( iblockstate . func _ 185904 _ a ( ) ! = Material . field _ 151579 _ a ) 
 { 
 @ @ - 149 , 7 + 167 , 7 @ @ 
 this . func _ 184185 _ a ( soundtype . func _ 185842 _ g ( ) , soundtype . func _ 185843 _ a ( ) * 0 . 5F , soundtype . func _ 185847 _ b ( ) * 0 . 75F ) ; 
 } 
 } 
 - @ @ - 1334 , 6 + 1353 , 8 @ @ 
 + @ @ - 1334 , 6 + 1356 , 8 @ @ 
 { 
 if ( ! this . func _ 180431 _ b ( p _ 70665 _ 1 _ ) ) 
 { 
 @ @ - 158 , 7 + 176 , 7 @ @ 
 p _ 70665 _ 2 _ = this . func _ 70655 _ b ( p _ 70665 _ 1 _ , p _ 70665 _ 2 _ ) ; 
 p _ 70665 _ 2 _ = this . func _ 70672 _ c ( p _ 70665 _ 1 _ , p _ 70665 _ 2 _ ) ; 
 float f = p _ 70665 _ 2 _ ; 
 - @ @ - 1383 , 6 + 1404 , 11 @ @ 
 + @ @ - 1383 , 6 + 1407 , 11 @ @ 
 
 public void func _ 184609 _ a ( EnumHand p _ 184609 _ 1 _ ) 
 { 
 @ @ - 170 , 7 + 188 , 7 @ @ 
 if ( ! this . field _ 82175 _ bq | | this . field _ 110158 _ av > = this . func _ 82166 _ i ( ) / 2 | | this . field _ 110158 _ av < 0 ) 
 { 
 this . field _ 110158 _ av = - 1 ; 
 - @ @ - 1613 , 7 + 1639 , 7 @ @ 
 + @ @ - 1613 , 7 + 1642 , 7 @ @ 
 
 if ( ! this . field _ 70170 _ p . func _ 184143 _ b ( axisalignedbb1 ) ) 
 { 
 @ @ - 179 , 7 + 197 , 7 @ @ 
 { 
 this . func _ 70634 _ a ( d11 , this . field _ 70163 _ u + 1 . 0D , d12 ) ; 
 return ; 
 - @ @ - 1621 , 14 + 1647 , 14 @ @ 
 + @ @ - 1621 , 14 + 1650 , 14 @ @ 
 
 BlockPos blockpos = new BlockPos ( d11 , this . field _ 70163 _ u - 1 . 0D , d12 ) ; 
 
 @ @ - 196 , 7 + 214 , 7 @ @ 
 { 
 d1 = d11 ; 
 d13 = this . field _ 70163 _ u + 2 . 0D ; 
 - @ @ - 1700 , 6 + 1726 , 7 @ @ 
 + @ @ - 1700 , 6 + 1729 , 7 @ @ 
 } 
 
 this . field _ 70160 _ al = true ; 
 @ @ - 204 , 7 + 222 , 7 @ @ 
 } 
 
 protected void func _ 70629 _ bd ( ) 
 - @ @ - 1972 , 6 + 1999 , 7 @ @ 
 + @ @ - 1972 , 6 + 2002 , 7 @ @ 
 
 public void func _ 70071 _ h _ ( ) 
 { 
 @ @ - 212 , 7 + 230 , 7 @ @ 
 super . func _ 70071 _ h _ ( ) ; 
 this . func _ 184608 _ ct ( ) ; 
 
 - @ @ - 2015 , 6 + 2043 , 7 @ @ 
 + @ @ - 2015 , 6 + 2046 , 7 @ @ 
 if ( ! ItemStack . func _ 77989 _ b ( itemstack1 , itemstack ) ) 
 { 
 ( ( WorldServer ) this . field _ 70170 _ p ) . func _ 73039 _ n ( ) . func _ 151247 _ a ( this , new SPacketEntityEquipment ( this . func _ 145782 _ y ( ) , entityequipmentslot , itemstack1 ) ) ; 
 @ @ - 220 , 7 + 238 , 7 @ @ 
 
 if ( ! itemstack . func _ 190926 _ b ( ) ) 
 { 
 - @ @ - 2488 , 6 + 2517 , 40 @ @ 
 + @ @ - 2488 , 6 + 2520 , 40 @ @ 
 this . field _ 70752 _ e = true ; 
 } 
 
 @ @ - 261 , 7 + 279 , 7 @ @ 
 public abstract EnumHandSide func _ 184591 _ cq ( ) ; 
 
 public boolean func _ 184587 _ cr ( ) 
 - @ @ - 2508 , 12 + 2571 , 19 @ @ 
 + @ @ - 2508 , 12 + 2574 , 19 @ @ 
 
 if ( itemstack = = this . field _ 184627 _ bm ) 
 { 
 @ @ - 282 , 7 + 300 , 7 @ @ 
 { 
 this . func _ 71036 _ o ( ) ; 
 } 
 - @ @ - 2531 , 8 + 2601 , 10 @ @ 
 + @ @ - 2531 , 8 + 2604 , 10 @ @ 
 
 if ( ! itemstack . func _ 190926 _ b ( ) & & ! this . func _ 184587 _ cr ( ) ) 
 { 
 @ @ - 294 , 7 + 312 , 7 @ @ 
 
 if ( ! this . field _ 70170 _ p . field _ 72995 _ K ) 
 { 
 - @ @ - 2613 , 7 + 2685 , 9 @ @ 
 + @ @ - 2613 , 7 + 2688 , 9 @ @ 
 if ( ! this . field _ 184627 _ bm . func _ 190926 _ b ( ) & & this . func _ 184587 _ cr ( ) ) 
 { 
 this . func _ 184584 _ a ( this . field _ 184627 _ bm , 16 ) ; 
 @ @ - 305 , 7 + 323 , 7 @ @ 
 this . func _ 184602 _ cy ( ) ; 
 } 
 } 
 - @ @ - 2637 , 7 + 2711 , 8 @ @ 
 + @ @ - 2637 , 7 + 2714 , 8 @ @ 
 { 
 if ( ! this . field _ 184627 _ bm . func _ 190926 _ b ( ) ) 
 { 
 @ @ - 315 , 7 + 333 , 7 @ @ 
 } 
 
 this . func _ 184602 _ cy ( ) ; 
 - @ @ - 2761 , 4 + 2836 , 29 @ @ 
 + @ @ - 2761 , 4 + 2839 , 29 @ @ 
 { 
 return true ; 
 }

NEAREST DIFF:
diff - - git a / patches / minecraft / net / minecraft / entity / Entity . java . patch b / patches / minecraft / net / minecraft / entity / Entity . java . patch 
 index 94607d1 . . f15eb5b 100644 
 - - - a / patches / minecraft / net / minecraft / entity / Entity . java . patch 
 + + + b / patches / minecraft / net / minecraft / entity / Entity . java . patch 
 @ @ - 101 , 7 + 101 , 15 @ @ 
 if ( p _ 184205 _ 2 _ | | this . func _ 184228 _ n ( p _ 184205 _ 1 _ ) & & p _ 184205 _ 1 _ . func _ 184219 _ q ( this ) ) 
 { 
 if ( this . func _ 184218 _ aH ( ) ) 
 - @ @ - 2336 , 6 + 2354 , 7 @ @ 
 + @ @ - 1902 , 6 + 1920 , 7 @ @ 
 + if ( this . field _ 184239 _ as ! = null ) 
 + { 
 + Entity entity = this . field _ 184239 _ as ; 
 + + if ( ! net . minecraftforge . event . ForgeEventFactory . canMountEntity ( this , entity , false ) ) return ; 
 + this . field _ 184239 _ as = null ; 
 + entity . func _ 184225 _ p ( this ) ; 
 + } 
 + @ @ - 2336 , 6 + 2355 , 7 @ @ 
 { 
 if ( ! this . field _ 70170 _ p . field _ 72995 _ K & & ! this . field _ 70128 _ L ) 
 { 
 @ @ - 109 , 7 + 117 , 7 @ @ 
 this . field _ 70170 _ p . field _ 72984 _ F . func _ 76320 _ a ( " changeDimension " ) ; 
 MinecraftServer minecraftserver = this . func _ 184102 _ h ( ) ; 
 int i = this . field _ 71093 _ bK ; 
 - @ @ - 2429 , 7 + 2448 , 7 @ @ 
 + @ @ - 2429 , 7 + 2449 , 7 @ @ 
 
 public float func _ 180428 _ a ( Explosion p _ 180428 _ 1 _ , World p _ 180428 _ 2 _ , BlockPos p _ 180428 _ 3 _ , IBlockState p _ 180428 _ 4 _ ) 
 { 
 @ @ - 118 , 7 + 126 , 7 @ @ 
 } 
 
 public boolean func _ 174816 _ a ( Explosion p _ 174816 _ 1 _ , World p _ 174816 _ 2 _ , BlockPos p _ 174816 _ 3 _ , IBlockState p _ 174816 _ 4 _ , float p _ 174816 _ 5 _ ) 
 - @ @ - 2726 , 6 + 2745 , 164 @ @ 
 + @ @ - 2726 , 6 + 2746 , 164 @ @ 
 EnchantmentHelper . func _ 151385 _ b ( p _ 174815 _ 1 _ , p _ 174815 _ 2 _ ) ; 
 } 
 
 diff - - git a / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch b / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch 
 index bf1b196 . . 77601b5 100644 
 - - - a / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch 
 + + + b / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch 
 @ @ - 152 , 15 + 152 , 7 @ @ 
 if ( ! this . field _ 82175 _ bq | | this . field _ 110158 _ av > = this . func _ 82166 _ i ( ) / 2 | | this . field _ 110158 _ av < 0 ) 
 { 
 this . field _ 110158 _ av = - 1 ; 
 - @ @ - 1521 , 6 + 1551 , 7 @ @ 
 - 
 - public void func _ 110145 _ l ( Entity p _ 110145 _ 1 _ ) 
 - { 
 - + if ( ! net . minecraftforge . event . ForgeEventFactory . canMountEntity ( this , p _ 110145 _ 1 _ , false ) ) return ; 
 - if ( ! ( p _ 110145 _ 1 _ instanceof EntityBoat ) & & ! ( p _ 110145 _ 1 _ instanceof EntityHorse ) ) 
 - { 
 - double d1 = p _ 110145 _ 1 _ . field _ 70165 _ t ; 
 - @ @ - 1545 , 7 + 1576 , 7 @ @ 
 + @ @ - 1545 , 7 + 1575 , 7 @ @ 
 
 if ( ! this . field _ 70170 _ p . func _ 184143 _ b ( axisalignedbb1 ) ) 
 { 
 @ @ - 169 , 7 + 161 , 7 @ @ 
 { 
 this . func _ 70634 _ a ( d11 , this . field _ 70163 _ u + 1 . 0D , d12 ) ; 
 return ; 
 - @ @ - 1553 , 14 + 1584 , 14 @ @ 
 + @ @ - 1553 , 14 + 1583 , 14 @ @ 
 
 BlockPos blockpos = new BlockPos ( d11 , this . field _ 70163 _ u - 1 . 0D , d12 ) ; 
 
 @ @ - 186 , 7 + 178 , 7 @ @ 
 { 
 d1 = d11 ; 
 d13 = this . field _ 70163 _ u + 2 . 0D ; 
 - @ @ - 1631 , 6 + 1662 , 7 @ @ 
 + @ @ - 1631 , 6 + 1661 , 7 @ @ 
 } 
 
 this . field _ 70160 _ al = true ; 
 @ @ - 194 , 7 + 186 , 7 @ @ 
 } 
 
 protected void func _ 70629 _ bd ( ) 
 - @ @ - 1903 , 6 + 1935 , 7 @ @ 
 + @ @ - 1903 , 6 + 1934 , 7 @ @ 
 
 public void func _ 70071 _ h _ ( ) 
 { 
 @ @ - 202 , 7 + 194 , 7 @ @ 
 super . func _ 70071 _ h _ ( ) ; 
 this . func _ 184608 _ ct ( ) ; 
 
 - @ @ - 2409 , 6 + 2442 , 40 @ @ 
 + @ @ - 2409 , 6 + 2441 , 40 @ @ 
 this . field _ 70752 _ e = true ; 
 } 
 
 @ @ - 243 , 7 + 235 , 7 @ @ 
 public abstract EnumHandSide func _ 184591 _ cq ( ) ; 
 
 public boolean func _ 184587 _ cr ( ) 
 - @ @ - 2429 , 12 + 2496 , 19 @ @ 
 + @ @ - 2429 , 12 + 2495 , 19 @ @ 
 
 if ( itemstack = = this . field _ 184627 _ bm ) 
 { 
 @ @ - 264 , 7 + 256 , 7 @ @ 
 { 
 this . func _ 71036 _ o ( ) ; 
 } 
 - @ @ - 2452 , 8 + 2526 , 10 @ @ 
 + @ @ - 2452 , 8 + 2525 , 10 @ @ 
 
 if ( itemstack ! = null & & ! this . func _ 184587 _ cr ( ) ) 
 { 
 @ @ - 276 , 7 + 268 , 7 @ @ 
 
 if ( ! this . field _ 70170 _ p . field _ 72995 _ K ) 
 { 
 - @ @ - 2536 , 6 + 2612 , 8 @ @ 
 + @ @ - 2536 , 6 + 2611 , 8 @ @ 
 this . func _ 184584 _ a ( this . field _ 184627 _ bm , 16 ) ; 
 ItemStack itemstack = this . field _ 184627 _ bm . func _ 77950 _ b ( this . field _ 70170 _ p , this ) ; 
 
 @ @ - 285 , 7 + 277 , 7 @ @ 
 if ( itemstack ! = null & & itemstack . field _ 77994 _ a = = 0 ) 
 { 
 itemstack = null ; 
 - @ @ - 2566 , 7 + 2644 , 8 @ @ 
 + @ @ - 2566 , 7 + 2643 , 8 @ @ 
 { 
 if ( this . field _ 184627 _ bm ! = null ) 
 { 
 @ @ - 295 , 7 + 287 , 7 @ @ 
 } 
 
 this . func _ 184602 _ cy ( ) ; 
 - @ @ - 2685 , 4 + 2764 , 28 @ @ 
 + @ @ - 2685 , 4 + 2763 , 28 @ @ 
 { 
 return true ; 
 }
