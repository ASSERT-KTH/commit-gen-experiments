BLEU SCORE: 0.033864985683445356

TEST MSG: Fix up torch placement logic to handle more vanilla special - casing
GENERATED MSG: Fix return value of EnchantPower hook , closes # 518

TEST DIFF (one line): diff - - git a / src / main / java / net / minecraftforge / common / extensions / IForgeBlock . java b / src / main / java / net / minecraftforge / common / extensions / IForgeBlock . java <nl> index 52ff755 . . 54f7444 100644 <nl> - - - a / src / main / java / net / minecraftforge / common / extensions / IForgeBlock . java <nl> + + + b / src / main / java / net / minecraftforge / common / extensions / IForgeBlock . java <nl> @ @ - 465 , 10 + 465 , 14 @ @ public interface IForgeBlock <nl> * / <nl> default boolean canPlaceTorchOnTop ( IBlockState state , IWorldReaderBase world , BlockPos pos ) <nl> { <nl> - if ( state . isTopSolid ( ) | | state . getBlockFaceShape ( world , pos , EnumFacing . UP ) = = BlockFaceShape . SOLID ) <nl> - return this . getBlock ( ) ! = Blocks . END _ GATEWAY ; <nl> - else <nl> - return this . getBlock ( ) instanceof BlockFence | | this . getBlock ( ) instanceof BlockStainedGlass | | this . getBlock ( ) = = Blocks . GLASS | | this . getBlock ( ) = = Blocks . COBBLESTONE _ WALL | | this . getBlock ( ) = = Blocks . MOSSY _ COBBLESTONE _ WALL ; <nl> + if ( this = = Blocks . END _ GATEWAY ) { <nl> + return false ; <nl> + } else if ( state . isTopSolid ( ) | | this instanceof BlockFence | | this = = Blocks . GLASS | | this = = Blocks . COBBLESTONE _ WALL | | this instanceof BlockStainedGlass ) { <nl> + return true ; <nl> + } else { <nl> + BlockFaceShape shape = state . getBlockFaceShape ( world , pos , EnumFacing . UP ) ; <nl> + return ( shape = = BlockFaceShape . SOLID | | shape = = BlockFaceShape . CENTER | | shape = = BlockFaceShape . CENTER _ BIG ) & & ! Block . isExceptionBlockForAttaching ( getBlock ( ) ) ; <nl> + } <nl> } <nl> <nl> / * * <nl> diff - - git a / src / main / resources / META - INF / accesstransformer . cfg b / src / main / resources / META - INF / accesstransformer . cfg <nl> index 52575b7 . . 143510d 100644 <nl> - - - a / src / main / resources / META - INF / accesstransformer . cfg <nl> + + + b / src / main / resources / META - INF / accesstransformer . cfg <nl> @ @ - 10 , 6 + 10 , 7 @ @ public net . minecraft . block . Block func _ 149715 _ a ( F ) Lnet . minecraft . block . Block ; # se <nl> public net . minecraft . block . Block func _ 149722 _ s ( ) Lnet . minecraft . block . Block ; # setBlockUnbreakable <nl> public net . minecraft . block . Block func _ 149675 _ a ( Z ) Lnet . minecraft . block . Block ; # setTickRandomly <nl> public net . minecraft . block . Block func _ 180637 _ b ( Lnet / minecraft / world / World ; Lnet / minecraft / util / math / BlockPos ; I ) V # dropXpOnBlockBreak <nl> + public net . minecraft . block . Block func _ 193384 _ b ( Lnet / minecraft / block / Block ; ) Z # isExceptionBlockForAttaching <nl> # BlockFire <nl> public net . minecraft . block . BlockFire func _ 176532 _ c ( Lnet / minecraft / block / Block ; ) I # getFireSpreadSpeed <nl> public net . minecraft . block . BlockFire func _ 176534 _ d ( Lnet / minecraft / block / Block ; ) I # getFireSpreadSpeed
NEAREST DIFF (one line): diff - - git a / common / net / minecraftforge / common / ForgeHooks . java b / common / net / minecraftforge / common / ForgeHooks . java <nl> index ee2e00b . . fa1883f 100644 <nl> - - - a / common / net / minecraftforge / common / ForgeHooks . java <nl> + + + b / common / net / minecraftforge / common / ForgeHooks . java <nl> @ @ - 379 , 6 + 379 , 6 @ @ public class ForgeHooks <nl> } <nl> <nl> Block block = Block . blocksList [ world . getBlockId ( x , y , z ) ] ; <nl> - return ( block = = null ? 0 : block . getEnchantPower ( world , x , y , z ) ) ; <nl> + return ( block = = null ? 0 : block . getEnchantPowerBonus ( world , x , y , z ) ) ; <nl> } <nl> } <nl> diff - - git a / patches / minecraft / net / minecraft / block / Block . java . patch b / patches / minecraft / net / minecraft / block / Block . java . patch <nl> index 241ab09 . . c040c5f 100644 <nl> - - - a / patches / minecraft / net / minecraft / block / Block . java . patch <nl> + + + b / patches / minecraft / net / minecraft / block / Block . java . patch <nl> @ @ - 155 , 7 + 155 , 7 @ @ <nl> } <nl> <nl> / * * <nl> - @ @ - 1439 , 4 + 1459 , 911 @ @ <nl> + @ @ - 1439 , 4 + 1459 , 917 @ @ <nl> canBlockGrass [ 0 ] = true ; <nl> StatList . initBreakableStats ( ) ; <nl> } <nl> @ @ - 1062 , 6 + 1062 , 12 @ @ <nl> + * @ param z Z position <nl> + * @ return The amount of enchanting power this block produces . <nl> + * / <nl> + + public float getEnchantPowerBonus ( World world , int x , int y , int z ) <nl> + + { <nl> + + return getEnchantPower ( world , x , y , z ) ; <nl> + + } <nl> + + <nl> + + @ Deprecated / / Changed return to float , see above . <nl> + public int getEnchantPower ( World world , int x , int y , int z ) <nl> + { <nl> + return blockID = = bookShelf . blockID ? 1 : 0 ;

TEST DIFF:
diff - - git a / src / main / java / net / minecraftforge / common / extensions / IForgeBlock . java b / src / main / java / net / minecraftforge / common / extensions / IForgeBlock . java 
 index 52ff755 . . 54f7444 100644 
 - - - a / src / main / java / net / minecraftforge / common / extensions / IForgeBlock . java 
 + + + b / src / main / java / net / minecraftforge / common / extensions / IForgeBlock . java 
 @ @ - 465 , 10 + 465 , 14 @ @ public interface IForgeBlock 
 * / 
 default boolean canPlaceTorchOnTop ( IBlockState state , IWorldReaderBase world , BlockPos pos ) 
 { 
 - if ( state . isTopSolid ( ) | | state . getBlockFaceShape ( world , pos , EnumFacing . UP ) = = BlockFaceShape . SOLID ) 
 - return this . getBlock ( ) ! = Blocks . END _ GATEWAY ; 
 - else 
 - return this . getBlock ( ) instanceof BlockFence | | this . getBlock ( ) instanceof BlockStainedGlass | | this . getBlock ( ) = = Blocks . GLASS | | this . getBlock ( ) = = Blocks . COBBLESTONE _ WALL | | this . getBlock ( ) = = Blocks . MOSSY _ COBBLESTONE _ WALL ; 
 + if ( this = = Blocks . END _ GATEWAY ) { 
 + return false ; 
 + } else if ( state . isTopSolid ( ) | | this instanceof BlockFence | | this = = Blocks . GLASS | | this = = Blocks . COBBLESTONE _ WALL | | this instanceof BlockStainedGlass ) { 
 + return true ; 
 + } else { 
 + BlockFaceShape shape = state . getBlockFaceShape ( world , pos , EnumFacing . UP ) ; 
 + return ( shape = = BlockFaceShape . SOLID | | shape = = BlockFaceShape . CENTER | | shape = = BlockFaceShape . CENTER _ BIG ) & & ! Block . isExceptionBlockForAttaching ( getBlock ( ) ) ; 
 + } 
 } 
 
 / * * 
 diff - - git a / src / main / resources / META - INF / accesstransformer . cfg b / src / main / resources / META - INF / accesstransformer . cfg 
 index 52575b7 . . 143510d 100644 
 - - - a / src / main / resources / META - INF / accesstransformer . cfg 
 + + + b / src / main / resources / META - INF / accesstransformer . cfg 
 @ @ - 10 , 6 + 10 , 7 @ @ public net . minecraft . block . Block func _ 149715 _ a ( F ) Lnet . minecraft . block . Block ; # se 
 public net . minecraft . block . Block func _ 149722 _ s ( ) Lnet . minecraft . block . Block ; # setBlockUnbreakable 
 public net . minecraft . block . Block func _ 149675 _ a ( Z ) Lnet . minecraft . block . Block ; # setTickRandomly 
 public net . minecraft . block . Block func _ 180637 _ b ( Lnet / minecraft / world / World ; Lnet / minecraft / util / math / BlockPos ; I ) V # dropXpOnBlockBreak 
 + public net . minecraft . block . Block func _ 193384 _ b ( Lnet / minecraft / block / Block ; ) Z # isExceptionBlockForAttaching 
 # BlockFire 
 public net . minecraft . block . BlockFire func _ 176532 _ c ( Lnet / minecraft / block / Block ; ) I # getFireSpreadSpeed 
 public net . minecraft . block . BlockFire func _ 176534 _ d ( Lnet / minecraft / block / Block ; ) I # getFireSpreadSpeed

NEAREST DIFF:
diff - - git a / common / net / minecraftforge / common / ForgeHooks . java b / common / net / minecraftforge / common / ForgeHooks . java 
 index ee2e00b . . fa1883f 100644 
 - - - a / common / net / minecraftforge / common / ForgeHooks . java 
 + + + b / common / net / minecraftforge / common / ForgeHooks . java 
 @ @ - 379 , 6 + 379 , 6 @ @ public class ForgeHooks 
 } 
 
 Block block = Block . blocksList [ world . getBlockId ( x , y , z ) ] ; 
 - return ( block = = null ? 0 : block . getEnchantPower ( world , x , y , z ) ) ; 
 + return ( block = = null ? 0 : block . getEnchantPowerBonus ( world , x , y , z ) ) ; 
 } 
 } 
 diff - - git a / patches / minecraft / net / minecraft / block / Block . java . patch b / patches / minecraft / net / minecraft / block / Block . java . patch 
 index 241ab09 . . c040c5f 100644 
 - - - a / patches / minecraft / net / minecraft / block / Block . java . patch 
 + + + b / patches / minecraft / net / minecraft / block / Block . java . patch 
 @ @ - 155 , 7 + 155 , 7 @ @ 
 } 
 
 / * * 
 - @ @ - 1439 , 4 + 1459 , 911 @ @ 
 + @ @ - 1439 , 4 + 1459 , 917 @ @ 
 canBlockGrass [ 0 ] = true ; 
 StatList . initBreakableStats ( ) ; 
 } 
 @ @ - 1062 , 6 + 1062 , 12 @ @ 
 + * @ param z Z position 
 + * @ return The amount of enchanting power this block produces . 
 + * / 
 + + public float getEnchantPowerBonus ( World world , int x , int y , int z ) 
 + + { 
 + + return getEnchantPower ( world , x , y , z ) ; 
 + + } 
 + + 
 + + @ Deprecated / / Changed return to float , see above . 
 + public int getEnchantPower ( World world , int x , int y , int z ) 
 + { 
 + return blockID = = bookShelf . blockID ? 1 : 0 ;
