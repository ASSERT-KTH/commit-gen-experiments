BLEU SCORE: 0.03772691894380681

TEST MSG: Several bugfixes for PlayerInteractEvent
GENERATED MSG: Fix patches after last fml merge .

TEST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / client / Minecraft . java . patch b / patches / minecraft / net / minecraft / client / Minecraft . java . patch <nl> index 06127c3 . . 94d8906 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / Minecraft . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / Minecraft . java . patch <nl> @ @ - 184 , 12 + 184 , 19 @ @ <nl> { <nl> this . field _ 71442 _ b . func _ 180511 _ b ( blockpos , this . field _ 71476 _ x . field _ 178784 _ b ) ; <nl> break ; <nl> - @ @ - 1476 , 7 + 1494 , 7 @ @ <nl> + @ @ - 1447 , 6 + 1465 , 7 @ @ <nl> + } <nl> + <nl> + this . field _ 71439 _ g . func _ 184821 _ cY ( ) ; <nl> + + net . minecraftforge . common . ForgeHooks . onEmptyLeftClick ( this . field _ 71439 _ g , this . field _ 71439 _ g . func _ 184614 _ ca ( ) ) ; <nl> + } <nl> + <nl> + this . field _ 71439 _ g . func _ 184609 _ a ( EnumHand . MAIN _ HAND ) ; <nl> + @ @ - 1476 , 7 + 1495 , 6 @ @ <nl> switch ( this . field _ 71476 _ x . field _ 72313 _ a ) <nl> { <nl> case ENTITY : <nl> - <nl> - + if ( ! net . minecraftforge . common . ForgeHooks . onInteractEntityAt ( field _ 71439 _ g , field _ 71476 _ x . field _ 72308 _ g , field _ 71476 _ x , field _ 71439 _ g . func _ 184586 _ b ( enumhand ) , enumhand ) ) <nl> if ( this . field _ 71442 _ b . func _ 187102 _ a ( this . field _ 71439 _ g , this . field _ 71476 _ x . field _ 72308 _ g , this . field _ 71476 _ x , this . field _ 71439 _ g . func _ 184586 _ b ( enumhand ) , enumhand ) = = EnumActionResult . SUCCESS ) <nl> { <nl> return ; <nl> @ @ - 198 , 7 + 205 , 7 @ @ <nl> <nl> ItemStack itemstack1 = this . field _ 71439 _ g . func _ 184586 _ b ( enumhand ) ; <nl> - <nl> - + if ( itemstack1 = = null ) net . minecraftforge . common . ForgeHooks . onEmptyClick ( this . field _ 71439 _ g , enumhand ) ; <nl> + + if ( itemstack1 = = null & & ( this . field _ 71476 _ x = = null | | this . field _ 71476 _ x . field _ 72313 _ a = = RayTraceResult . Type . MISS ) ) net . minecraftforge . common . ForgeHooks . onEmptyClick ( this . field _ 71439 _ g , enumhand ) ; <nl> if ( itemstack1 ! = null & & this . field _ 71442 _ b . func _ 187101 _ a ( this . field _ 71439 _ g , this . field _ 71441 _ e , itemstack1 , enumhand ) = = EnumActionResult . SUCCESS ) <nl> { <nl> this . field _ 71460 _ t . field _ 78516 _ c . func _ 187460 _ a ( enumhand ) ; <nl> diff - - git a / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch b / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch <nl> index d8396ce . . 0876521 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch <nl> @ @ - 50 , 7 + 50 , 15 @ @ <nl> return flag ; <nl> } <nl> } <nl> - @ @ - 218 , 14 + 224 , 17 @ @ <nl> + @ @ - 207 , 6 + 213 , 7 @ @ <nl> + if ( this . field _ 78779 _ k . func _ 77145 _ d ( ) ) <nl> + { <nl> + this . field _ 78774 _ b . func _ 147297 _ a ( new CPacketPlayerDigging ( CPacketPlayerDigging . Action . START _ DESTROY _ BLOCK , p _ 180511 _ 1 _ , p _ 180511 _ 2 _ ) ) ; <nl> + + if ( ! net . minecraftforge . common . ForgeHooks . onLeftClickBlock ( this . field _ 78776 _ a . field _ 71439 _ g , p _ 180511 _ 1 _ , p _ 180511 _ 2 _ , net . minecraftforge . common . ForgeHooks . rayTraceEyeHitVec ( this . field _ 78776 _ a . field _ 71439 _ g , func _ 78757 _ d ( ) + 1 ) ) . isCanceled ( ) ) <nl> + func _ 178891 _ a ( this . field _ 78776 _ a , this , p _ 180511 _ 1 _ , p _ 180511 _ 2 _ ) ; <nl> + this . field _ 78781 _ i = 5 ; <nl> + } <nl> + @ @ - 218 , 14 + 225 , 17 @ @ <nl> } <nl> <nl> this . field _ 78774 _ b . func _ 147297 _ a ( new CPacketPlayerDigging ( CPacketPlayerDigging . Action . START _ DESTROY _ BLOCK , p _ 180511 _ 1 _ , p _ 180511 _ 2 _ ) ) ; <nl> @ @ - 69 , 7 + 77 , 7 @ @ <nl> if ( flag & & iblockstate . func _ 185903 _ a ( this . field _ 78776 _ a . field _ 71439 _ g , this . field _ 78776 _ a . field _ 71439 _ g . field _ 70170 _ p , p _ 180511 _ 1 _ ) > = 1 . 0F ) <nl> { <nl> this . func _ 187103 _ a ( p _ 180511 _ 1 _ ) ; <nl> - @ @ - 372 , 13 + 381 , 32 @ @ <nl> + @ @ - 372 , 13 + 382 , 32 @ @ <nl> } <nl> else <nl> { <nl> @ @ - 104 , 7 + 112 , 7 @ @ <nl> } <nl> <nl> if ( ! flag & & p _ 187099 _ 3 _ ! = null & & p _ 187099 _ 3 _ . func _ 77973 _ b ( ) instanceof ItemBlock ) <nl> - @ @ - 394 , 7 + 422 , 7 @ @ <nl> + @ @ - 394 , 7 + 423 , 7 @ @ <nl> <nl> this . field _ 78774 _ b . func _ 147297 _ a ( new CPacketPlayerTryUseItemOnBlock ( p _ 187099 _ 4 _ , p _ 187099 _ 5 _ , p _ 187099 _ 7 _ , f , f1 , f2 ) ) ; <nl> <nl> @ @ - 113 , 7 + 121 , 7 @ @ <nl> { <nl> if ( p _ 187099 _ 3 _ = = null ) <nl> { <nl> - @ @ - 412 , 14 + 440 , 19 @ @ <nl> + @ @ - 412 , 14 + 441 , 19 @ @ <nl> { <nl> int i = p _ 187099 _ 3 _ . func _ 77960 _ j ( ) ; <nl> int j = p _ 187099 _ 3 _ . field _ 77994 _ a ; <nl> @ @ - 134 , 7 + 142 , 7 @ @ <nl> } <nl> } <nl> else <nl> - @ @ - 446 , 6 + 479 , 7 @ @ <nl> + @ @ - 446 , 6 + 480 , 7 @ @ <nl> } <nl> else <nl> { <nl> @ @ - 142 , 7 + 150 , 7 @ @ <nl> int i = p _ 187101 _ 3 _ . field _ 77994 _ a ; <nl> ActionResult < ItemStack > actionresult = p _ 187101 _ 3 _ . func _ 77957 _ a ( p _ 187101 _ 2 _ , p _ 187101 _ 1 _ , p _ 187101 _ 4 _ ) ; <nl> ItemStack itemstack = ( ItemStack ) actionresult . func _ 188398 _ b ( ) ; <nl> - @ @ - 454 , 9 + 488 , 10 @ @ <nl> + @ @ - 454 , 9 + 489 , 10 @ @ <nl> { <nl> p _ 187101 _ 1 _ . func _ 184611 _ a ( p _ 187101 _ 4 _ , itemstack ) ; <nl> <nl> @ @ - 154 , 3 + 162 , 11 @ @ <nl> } <nl> } <nl> <nl> + @ @ - 494 , 6 + 530 , 7 @ @ <nl> + this . func _ 78750 _ j ( ) ; <nl> + Vec3d vec3d = new Vec3d ( p _ 187102 _ 3 _ . field _ 72307 _ f . field _ 72450 _ a - p _ 187102 _ 2 _ . field _ 70165 _ t , p _ 187102 _ 3 _ . field _ 72307 _ f . field _ 72448 _ b - p _ 187102 _ 2 _ . field _ 70163 _ u , p _ 187102 _ 3 _ . field _ 72307 _ f . field _ 72449 _ c - p _ 187102 _ 2 _ . field _ 70161 _ v ) ; <nl> + this . field _ 78774 _ b . func _ 147297 _ a ( new CPacketUseEntity ( p _ 187102 _ 2 _ , p _ 187102 _ 5 _ , vec3d ) ) ; <nl> + + if ( net . minecraftforge . common . ForgeHooks . onInteractEntityAt ( p _ 187102 _ 1 _ , p _ 187102 _ 2 _ , p _ 187102 _ 3 _ , p _ 187102 _ 1 _ . func _ 184586 _ b ( p _ 187102 _ 5 _ ) , p _ 187102 _ 5 _ ) ) return EnumActionResult . PASS ; <nl> + return this . field _ 78779 _ k = = WorldSettings . GameType . SPECTATOR ? EnumActionResult . PASS : p _ 187102 _ 2 _ . func _ 184199 _ a ( p _ 187102 _ 1 _ , vec3d , p _ 187102 _ 4 _ , p _ 187102 _ 5 _ ) ; <nl> + } <nl> + <nl> diff - - git a / src / main / java / net / minecraftforge / common / ForgeHooks . java b / src / main / java / net / minecraftforge / common / ForgeHooks . java <nl> index 15371b4 . . 751ce32 100644 <nl> - - - a / src / main / java / net / minecraftforge / common / ForgeHooks . java <nl> + + + b / src / main / java / net / minecraftforge / common / ForgeHooks . java <nl> @ @ - 987 , 6 + 987 , 11 @ @ public class ForgeHooks <nl> MinecraftForge . EVENT _ BUS . post ( new PlayerInteractEvent . RightClickEmpty ( player , hand ) ) ; <nl> } <nl> <nl> + public static void onEmptyLeftClick ( EntityPlayer player , ItemStack stack ) <nl> + { <nl> + MinecraftForge . EVENT _ BUS . post ( new PlayerInteractEvent . LeftClickEmpty ( player , stack ) ) ; <nl> + } <nl> + <nl> private static ThreadLocal < Deque < LootTableContext > > lootContext = new ThreadLocal < Deque < LootTableContext > > ( ) ; <nl> private static LootTableContext getLootTableContext ( ) <nl> { <nl> diff - - git a / src / main / java / net / minecraftforge / event / entity / player / PlayerInteractEvent . java b / src / main / java / net / minecraftforge / event / entity / player / PlayerInteractEvent . java <nl> index 90325e3 . . 17ffd7f 100644 <nl> - - - a / src / main / java / net / minecraftforge / event / entity / player / PlayerInteractEvent . java <nl> + + + b / src / main / java / net / minecraftforge / event / entity / player / PlayerInteractEvent . java <nl> @ @ - 182 , 8 + 182 , 11 @ @ public class PlayerInteractEvent extends PlayerEvent <nl> public void setCanceled ( boolean canceled ) <nl> { <nl> super . setCanceled ( canceled ) ; <nl> - useBlock = DENY ; <nl> - useItem = DENY ; <nl> + if ( canceled ) <nl> + { <nl> + useBlock = DENY ; <nl> + useItem = DENY ; <nl> + } <nl> } <nl> } <nl> <nl> @ @ - 220 , 8 + 223 , 12 @ @ public class PlayerInteractEvent extends PlayerEvent <nl> * This event controls which of { @ link net . minecraft . block . Block # onBlockClicked } and / or the item harvesting methods will be called <nl> * Canceling the event will cause none of the above noted methods to be called . <nl> * There are various results to this event , see the getters below . <nl> + * <nl> * Note that if the event is canceled and the player holds down left mouse , the event will continue to fire . <nl> * This is due to how vanilla calls the left click handler methods . <nl> + * <nl> + * Also note that creative mode directly breaks the block without running any other logic . <nl> + * Therefore , in creative mode , { @ link # setUseBlock } and { @ link # setUseItem } have no effect . <nl> * / <nl> @ Cancelable <nl> public static class LeftClickBlock extends PlayerInteractEvent <nl> @ @ - 245 , 7 + 252 , 7 @ @ public class PlayerInteractEvent extends PlayerEvent <nl> } <nl> <nl> / * * <nl> - * @ return If { @ link net . minecraft . block . Block # onBlockClicked } should be called <nl> + * @ return If { @ link net . minecraft . block . Block # onBlockClicked } should be called . Changing this has no effect in creative mode <nl> * / <nl> public Result getUseBlock ( ) <nl> { <nl> @ @ - 253 , 7 + 260 , 7 @ @ public class PlayerInteractEvent extends PlayerEvent <nl> } <nl> <nl> / * * <nl> - * @ return If the block should be attempted to be mined with the current item <nl> + * @ return If the block should be attempted to be mined with the current item . Changing this has no effect in creative mode <nl> * / <nl> public Result getUseItem ( ) <nl> { <nl> @ @ - 274 , 8 + 281 , 24 @ @ public class PlayerInteractEvent extends PlayerEvent <nl> public void setCanceled ( boolean canceled ) <nl> { <nl> super . setCanceled ( canceled ) ; <nl> - useBlock = DENY ; <nl> - useItem = DENY ; <nl> + if ( canceled ) <nl> + { <nl> + useBlock = DENY ; <nl> + useItem = DENY ; <nl> + } <nl> + } <nl> + } <nl> + <nl> + / * * <nl> + * This event is fired on the client side when the player left clicks empty space with any ItemStack . <nl> + * The server is not aware of when the client left clicks empty space , you will need to tell the server yourself . <nl> + * This event cannot be canceled . <nl> + * / <nl> + public static class LeftClickEmpty extends PlayerInteractEvent <nl> + { <nl> + public LeftClickEmpty ( EntityPlayer player , ItemStack stack ) <nl> + { <nl> + super ( player , EnumHand . MAIN _ HAND , stack , new BlockPos ( player ) , null ) ; <nl> } <nl> } <nl>
NEAREST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / client / Minecraft . java . patch b / patches / minecraft / net / minecraft / client / Minecraft . java . patch <nl> index e2de566 . . 7c6ff2e 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / Minecraft . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / Minecraft . java . patch <nl> @ @ - 8 , 8 + 8 , 17 @ @ <nl> this . field _ 71459 _ aj = p _ i45547 _ 1 _ . field _ 178741 _ d . field _ 178756 _ a ; <nl> this . field _ 71443 _ c = p _ i45547 _ 1 _ . field _ 178743 _ b . field _ 178764 _ a > 0 ? p _ i45547 _ 1 _ . field _ 178743 _ b . field _ 178764 _ a : 1 ; <nl> this . field _ 71440 _ d = p _ i45547 _ 1 _ . field _ 178743 _ b . field _ 178762 _ b > 0 ? p _ i45547 _ 1 _ . field _ 178743 _ b . field _ 178762 _ b : 1 ; <nl> - @ @ - 484 , 7 + 483 , 7 @ @ <nl> - this . field _ 71452 _ i = new EffectRenderer ( this . field _ 71441 _ e , this . field _ 71446 _ o ) ; <nl> + @ @ - 449 , 7 + 448 , 7 @ @ <nl> + } <nl> + } ) ; <nl> + this . field _ 71417 _ B = new MouseHelper ( ) ; <nl> + - net . minecraftforge . fml . common . ProgressManager . ProgressBar bar = net . minecraftforge . fml . common . ProgressManager . push ( " Rendering Setup " , 9 ) ; <nl> + + net . minecraftforge . fml . common . ProgressManager . ProgressBar bar = net . minecraftforge . fml . common . ProgressManager . push ( " Rendering Setup " , 5 ) ; <nl> + bar . step ( " GL Setup " ) ; <nl> + this . func _ 71361 _ d ( " Pre startup " ) ; <nl> + GlStateManager . func _ 179098 _ w ( ) ; <nl> + @ @ - 491 , 7 + 490 , 7 @ @ <nl> + net . minecraftforge . fml . common . ProgressManager . pop ( bar ) ; <nl> net . minecraftforge . fml . client . FMLClientHandler . instance ( ) . finishMinecraftLoading ( ) ; <nl> this . func _ 71361 _ d ( " Post startup " ) ; <nl> - this . field _ 71456 _ v = new GuiIngame ( this ) ; <nl> @ @ - 17 , 7 + 26 , 7 @ @ <nl> <nl> if ( this . field _ 71475 _ ae ! = null ) <nl> { <nl> - @ @ - 891 , 11 + 890 , 6 @ @ <nl> + @ @ - 898 , 11 + 897 , 6 @ @ <nl> <nl> public void func _ 147108 _ a ( GuiScreen p _ 147108 _ 1 _ ) <nl> { <nl> @ @ - 29 , 7 + 38 , 7 @ @ <nl> if ( p _ 147108 _ 1 _ = = null & & this . field _ 71441 _ e = = null ) <nl> { <nl> p _ 147108 _ 1 _ = new GuiMainMenu ( ) ; <nl> - @ @ - 905 , 6 + 899 , 17 @ @ <nl> + @ @ - 912 , 6 + 906 , 17 @ @ <nl> p _ 147108 _ 1 _ = new GuiGameOver ( ) ; <nl> } <nl> <nl> @ @ - 47 , 7 + 56 , 7 @ @ <nl> if ( p _ 147108 _ 1 _ instanceof GuiMainMenu ) <nl> { <nl> this . field _ 71474 _ y . field _ 74330 _ P = false ; <nl> - @ @ - 1388 , 7 + 1393 , 7 @ @ <nl> + @ @ - 1395 , 7 + 1400 , 7 @ @ <nl> <nl> if ( this . field _ 71441 _ e . func _ 180495 _ p ( blockpos ) . func _ 177230 _ c ( ) . func _ 149688 _ o ( ) ! = Material . field _ 151579 _ a & & this . field _ 71442 _ b . func _ 180512 _ c ( blockpos , this . field _ 71476 _ x . field _ 178784 _ b ) ) <nl> { <nl> @ @ - 56 , 7 + 65 , 7 @ @ <nl> this . field _ 71439 _ g . func _ 71038 _ i ( ) ; <nl> } <nl> } <nl> - @ @ - 1468 , 15 + 1473 , 19 @ @ <nl> + @ @ - 1475 , 15 + 1480 , 19 @ @ <nl> case 2 : <nl> BlockPos blockpos = this . field _ 71476 _ x . func _ 178782 _ a ( ) ; <nl> <nl> @ @ - 77 , 7 + 86 , 7 @ @ <nl> <nl> if ( itemstack = = null ) <nl> { <nl> - @ @ - 1697 , 6 + 1706 , 8 @ @ <nl> + @ @ - 1704 , 6 + 1713 , 8 @ @ <nl> <nl> while ( Mouse . next ( ) ) <nl> { <nl> @ @ - 86 , 7 + 95 , 7 @ @ <nl> i = Mouse . getEventButton ( ) ; <nl> KeyBinding . func _ 74510 _ a ( i - 100 , Mouse . getEventButtonState ( ) ) ; <nl> <nl> - @ @ - 2206 , 7 + 2217 , 13 @ @ <nl> + @ @ - 2213 , 7 + 2224 , 13 @ @ <nl> NetworkManager networkmanager = NetworkManager . func _ 150722 _ a ( socketaddress ) ; <nl> networkmanager . func _ 150719 _ a ( new NetHandlerLoginClient ( networkmanager , this , ( GuiScreen ) null ) ) ; <nl> networkmanager . func _ 179290 _ a ( new C00Handshake ( 47 , socketaddress . toString ( ) , 0 , EnumConnectionState . LOGIN , true ) ) ; <nl> @ @ - 101 , 7 + 110 , 7 @ @ <nl> this . field _ 71453 _ ak = networkmanager ; <nl> } <nl> <nl> - @ @ - 2217 , 6 + 2234 , 8 @ @ <nl> + @ @ - 2224 , 6 + 2241 , 8 @ @ <nl> <nl> public void func _ 71353 _ a ( WorldClient p _ 71353 _ 1 _ , String p _ 71353 _ 2 _ ) <nl> { <nl> @ @ - 110 , 7 + 119 , 7 @ @ <nl> if ( p _ 71353 _ 1 _ = = null ) <nl> { <nl> NetHandlerPlayClient nethandlerplayclient = this . func _ 147114 _ u ( ) ; <nl> - @ @ - 2230 , 6 + 2249 , 18 @ @ <nl> + @ @ - 2237 , 6 + 2256 , 18 @ @ <nl> { <nl> this . field _ 71437 _ Z . func _ 71263 _ m ( ) ; <nl> this . field _ 71437 _ Z . func _ 175592 _ a ( ) ; <nl> @ @ - 129 , 7 + 138 , 7 @ @ <nl> } <nl> <nl> this . field _ 71437 _ Z = null ; <nl> - @ @ - 2361 , 134 + 2392 , 11 @ @ <nl> + @ @ - 2368 , 134 + 2399 , 11 @ @ <nl> if ( this . field _ 71476 _ x ! = null ) <nl> { <nl> boolean flag = this . field _ 71439 _ g . field _ 71075 _ bZ . field _ 75098 _ d ; <nl> @ @ - 266 , 7 + 275 , 7 @ @ <nl> if ( flag ) <nl> { <nl> int j = this . field _ 71439 _ g . field _ 71069 _ bz . field _ 75151 _ b . size ( ) - 9 + inventoryplayer . field _ 70461 _ c ; <nl> - @ @ - 2744 , 8 + 2652 , 11 @ @ <nl> + @ @ - 2751 , 8 + 2659 , 11 @ @ <nl> p _ 70001 _ 1 _ . func _ 152767 _ b ( " gl _ max _ texture _ size " , Integer . valueOf ( func _ 71369 _ N ( ) ) ) ; <nl> } <nl> <nl> @ @ - 278 , 7 + 287 , 7 @ @ <nl> for ( int i = 16384 ; i > 0 ; i > > = 1 ) <nl> { <nl> GL11 . glTexImage2D ( GL11 . GL _ PROXY _ TEXTURE _ 2D , 0 , GL11 . GL _ RGBA , i , i , 0 , GL11 . GL _ RGBA , GL11 . GL _ UNSIGNED _ BYTE , ( ByteBuffer ) null ) ; <nl> - @ @ - 2753 , 6 + 2664 , 7 @ @ <nl> + @ @ - 2760 , 6 + 2671 , 7 @ @ <nl> <nl> if ( j ! = 0 ) <nl> { <nl> diff - - git a / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch b / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch <nl> index d588e09 . . b8c8d8a 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch <nl> @ @ - 5 , 12 + 5 , 12 @ @ <nl> int j = Integer . MAX _ VALUE ; <nl> int k = 1 < < this . field _ 147636 _ j ; <nl> + net . minecraftforge . client . ForgeHooksClient . onTextureStitchedPre ( this ) ; <nl> + net . minecraftforge . fml . common . ProgressManager . ProgressBar bar = net . minecraftforge . fml . common . ProgressManager . push ( " Texture stitching " , this . field _ 110574 _ e . size ( ) ) ; <nl> Iterator iterator = this . field _ 110574 _ e . entrySet ( ) . iterator ( ) ; <nl> <nl> - while ( iterator . hasNext ( ) ) <nl> - @ @ - 100 , 6 + 101 , 16 @ @ <nl> - ResourceLocation resourcelocation = new ResourceLocation ( textureatlassprite . func _ 94215 _ i ( ) ) ; <nl> + @ @ - 102 , 6 + 103 , 16 @ @ <nl> ResourceLocation resourcelocation1 = this . func _ 147634 _ a ( resourcelocation , 0 ) ; <nl> + bar . step ( resourcelocation1 . func _ 110623 _ a ( ) ) ; <nl> <nl> + if ( textureatlassprite . hasCustomLoader ( p _ 110571 _ 1 _ , resourcelocation ) ) <nl> + { <nl> @ @ - 25 , 7 + 25 , 7 @ @ <nl> try <nl> { <nl> IResource iresource = p _ 110571 _ 1 _ . func _ 110536 _ a ( resourcelocation1 ) ; <nl> - @ @ - 275 , 6 + 286 , 9 @ @ <nl> + @ @ - 287 , 6 + 298 , 9 @ @ <nl> textureatlassprite2 . func _ 94217 _ a ( this . field _ 94249 _ f ) ; <nl> } <nl> <nl> @ @ - 33 , 9 + 33 , 9 @ @ <nl> + <nl> + if ( ! net . minecraftforge . common . ForgeModContainer . disableStitchedFileSaving ) <nl> TextureUtil . func _ 177055 _ a ( this . field _ 94254 _ c . replaceAll ( " / " , " _ " ) , this . func _ 110552 _ b ( ) , this . field _ 147636 _ j , stitcher . func _ 110935 _ a ( ) , stitcher . func _ 110936 _ b ( ) ) ; <nl> + net . minecraftforge . fml . common . ProgressManager . pop ( bar ) ; <nl> } <nl> - <nl> - @ @ - 341 , 4 + 355 , 37 @ @ <nl> + @ @ - 354 , 4 + 368 , 37 @ @ <nl> { <nl> return this . field _ 94249 _ f ; <nl> } <nl> diff - - git a / patches / minecraft / net / minecraft / world / gen / feature / WorldGenDungeons . java . patch b / patches / minecraft / net / minecraft / world / gen / feature / WorldGenDungeons . java . patch <nl> index 7377440 . . ab64b25 100644 <nl> - - - a / patches / minecraft / net / minecraft / world / gen / feature / WorldGenDungeons . java . patch <nl> + + + b / patches / minecraft / net / minecraft / world / gen / feature / WorldGenDungeons . java . patch <nl> @ @ - 23 , 7 + 23 , 7 @ @ <nl> + WeightedRandomChestContent . func _ 177630 _ a ( p _ 180709 _ 2 _ , ChestGenHooks . getItems ( DUNGEON _ CHEST , p _ 180709 _ 2 _ ) , ( TileEntityChest ) tileentity1 , ChestGenHooks . getCount ( DUNGEON _ CHEST , p _ 180709 _ 2 _ ) ) ; <nl> } <nl> <nl> - break label100 ; <nl> + break label197 ; <nl> @ @ - 184 , 6 + 186 , 12 @ @ <nl> <nl> private String func _ 76543 _ b ( Random p _ 76543 _ 1 _ )

TEST DIFF:
diff - - git a / patches / minecraft / net / minecraft / client / Minecraft . java . patch b / patches / minecraft / net / minecraft / client / Minecraft . java . patch 
 index 06127c3 . . 94d8906 100644 
 - - - a / patches / minecraft / net / minecraft / client / Minecraft . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / Minecraft . java . patch 
 @ @ - 184 , 12 + 184 , 19 @ @ 
 { 
 this . field _ 71442 _ b . func _ 180511 _ b ( blockpos , this . field _ 71476 _ x . field _ 178784 _ b ) ; 
 break ; 
 - @ @ - 1476 , 7 + 1494 , 7 @ @ 
 + @ @ - 1447 , 6 + 1465 , 7 @ @ 
 + } 
 + 
 + this . field _ 71439 _ g . func _ 184821 _ cY ( ) ; 
 + + net . minecraftforge . common . ForgeHooks . onEmptyLeftClick ( this . field _ 71439 _ g , this . field _ 71439 _ g . func _ 184614 _ ca ( ) ) ; 
 + } 
 + 
 + this . field _ 71439 _ g . func _ 184609 _ a ( EnumHand . MAIN _ HAND ) ; 
 + @ @ - 1476 , 7 + 1495 , 6 @ @ 
 switch ( this . field _ 71476 _ x . field _ 72313 _ a ) 
 { 
 case ENTITY : 
 - 
 - + if ( ! net . minecraftforge . common . ForgeHooks . onInteractEntityAt ( field _ 71439 _ g , field _ 71476 _ x . field _ 72308 _ g , field _ 71476 _ x , field _ 71439 _ g . func _ 184586 _ b ( enumhand ) , enumhand ) ) 
 if ( this . field _ 71442 _ b . func _ 187102 _ a ( this . field _ 71439 _ g , this . field _ 71476 _ x . field _ 72308 _ g , this . field _ 71476 _ x , this . field _ 71439 _ g . func _ 184586 _ b ( enumhand ) , enumhand ) = = EnumActionResult . SUCCESS ) 
 { 
 return ; 
 @ @ - 198 , 7 + 205 , 7 @ @ 
 
 ItemStack itemstack1 = this . field _ 71439 _ g . func _ 184586 _ b ( enumhand ) ; 
 - 
 - + if ( itemstack1 = = null ) net . minecraftforge . common . ForgeHooks . onEmptyClick ( this . field _ 71439 _ g , enumhand ) ; 
 + + if ( itemstack1 = = null & & ( this . field _ 71476 _ x = = null | | this . field _ 71476 _ x . field _ 72313 _ a = = RayTraceResult . Type . MISS ) ) net . minecraftforge . common . ForgeHooks . onEmptyClick ( this . field _ 71439 _ g , enumhand ) ; 
 if ( itemstack1 ! = null & & this . field _ 71442 _ b . func _ 187101 _ a ( this . field _ 71439 _ g , this . field _ 71441 _ e , itemstack1 , enumhand ) = = EnumActionResult . SUCCESS ) 
 { 
 this . field _ 71460 _ t . field _ 78516 _ c . func _ 187460 _ a ( enumhand ) ; 
 diff - - git a / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch b / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch 
 index d8396ce . . 0876521 100644 
 - - - a / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch 
 @ @ - 50 , 7 + 50 , 15 @ @ 
 return flag ; 
 } 
 } 
 - @ @ - 218 , 14 + 224 , 17 @ @ 
 + @ @ - 207 , 6 + 213 , 7 @ @ 
 + if ( this . field _ 78779 _ k . func _ 77145 _ d ( ) ) 
 + { 
 + this . field _ 78774 _ b . func _ 147297 _ a ( new CPacketPlayerDigging ( CPacketPlayerDigging . Action . START _ DESTROY _ BLOCK , p _ 180511 _ 1 _ , p _ 180511 _ 2 _ ) ) ; 
 + + if ( ! net . minecraftforge . common . ForgeHooks . onLeftClickBlock ( this . field _ 78776 _ a . field _ 71439 _ g , p _ 180511 _ 1 _ , p _ 180511 _ 2 _ , net . minecraftforge . common . ForgeHooks . rayTraceEyeHitVec ( this . field _ 78776 _ a . field _ 71439 _ g , func _ 78757 _ d ( ) + 1 ) ) . isCanceled ( ) ) 
 + func _ 178891 _ a ( this . field _ 78776 _ a , this , p _ 180511 _ 1 _ , p _ 180511 _ 2 _ ) ; 
 + this . field _ 78781 _ i = 5 ; 
 + } 
 + @ @ - 218 , 14 + 225 , 17 @ @ 
 } 
 
 this . field _ 78774 _ b . func _ 147297 _ a ( new CPacketPlayerDigging ( CPacketPlayerDigging . Action . START _ DESTROY _ BLOCK , p _ 180511 _ 1 _ , p _ 180511 _ 2 _ ) ) ; 
 @ @ - 69 , 7 + 77 , 7 @ @ 
 if ( flag & & iblockstate . func _ 185903 _ a ( this . field _ 78776 _ a . field _ 71439 _ g , this . field _ 78776 _ a . field _ 71439 _ g . field _ 70170 _ p , p _ 180511 _ 1 _ ) > = 1 . 0F ) 
 { 
 this . func _ 187103 _ a ( p _ 180511 _ 1 _ ) ; 
 - @ @ - 372 , 13 + 381 , 32 @ @ 
 + @ @ - 372 , 13 + 382 , 32 @ @ 
 } 
 else 
 { 
 @ @ - 104 , 7 + 112 , 7 @ @ 
 } 
 
 if ( ! flag & & p _ 187099 _ 3 _ ! = null & & p _ 187099 _ 3 _ . func _ 77973 _ b ( ) instanceof ItemBlock ) 
 - @ @ - 394 , 7 + 422 , 7 @ @ 
 + @ @ - 394 , 7 + 423 , 7 @ @ 
 
 this . field _ 78774 _ b . func _ 147297 _ a ( new CPacketPlayerTryUseItemOnBlock ( p _ 187099 _ 4 _ , p _ 187099 _ 5 _ , p _ 187099 _ 7 _ , f , f1 , f2 ) ) ; 
 
 @ @ - 113 , 7 + 121 , 7 @ @ 
 { 
 if ( p _ 187099 _ 3 _ = = null ) 
 { 
 - @ @ - 412 , 14 + 440 , 19 @ @ 
 + @ @ - 412 , 14 + 441 , 19 @ @ 
 { 
 int i = p _ 187099 _ 3 _ . func _ 77960 _ j ( ) ; 
 int j = p _ 187099 _ 3 _ . field _ 77994 _ a ; 
 @ @ - 134 , 7 + 142 , 7 @ @ 
 } 
 } 
 else 
 - @ @ - 446 , 6 + 479 , 7 @ @ 
 + @ @ - 446 , 6 + 480 , 7 @ @ 
 } 
 else 
 { 
 @ @ - 142 , 7 + 150 , 7 @ @ 
 int i = p _ 187101 _ 3 _ . field _ 77994 _ a ; 
 ActionResult < ItemStack > actionresult = p _ 187101 _ 3 _ . func _ 77957 _ a ( p _ 187101 _ 2 _ , p _ 187101 _ 1 _ , p _ 187101 _ 4 _ ) ; 
 ItemStack itemstack = ( ItemStack ) actionresult . func _ 188398 _ b ( ) ; 
 - @ @ - 454 , 9 + 488 , 10 @ @ 
 + @ @ - 454 , 9 + 489 , 10 @ @ 
 { 
 p _ 187101 _ 1 _ . func _ 184611 _ a ( p _ 187101 _ 4 _ , itemstack ) ; 
 
 @ @ - 154 , 3 + 162 , 11 @ @ 
 } 
 } 
 
 + @ @ - 494 , 6 + 530 , 7 @ @ 
 + this . func _ 78750 _ j ( ) ; 
 + Vec3d vec3d = new Vec3d ( p _ 187102 _ 3 _ . field _ 72307 _ f . field _ 72450 _ a - p _ 187102 _ 2 _ . field _ 70165 _ t , p _ 187102 _ 3 _ . field _ 72307 _ f . field _ 72448 _ b - p _ 187102 _ 2 _ . field _ 70163 _ u , p _ 187102 _ 3 _ . field _ 72307 _ f . field _ 72449 _ c - p _ 187102 _ 2 _ . field _ 70161 _ v ) ; 
 + this . field _ 78774 _ b . func _ 147297 _ a ( new CPacketUseEntity ( p _ 187102 _ 2 _ , p _ 187102 _ 5 _ , vec3d ) ) ; 
 + + if ( net . minecraftforge . common . ForgeHooks . onInteractEntityAt ( p _ 187102 _ 1 _ , p _ 187102 _ 2 _ , p _ 187102 _ 3 _ , p _ 187102 _ 1 _ . func _ 184586 _ b ( p _ 187102 _ 5 _ ) , p _ 187102 _ 5 _ ) ) return EnumActionResult . PASS ; 
 + return this . field _ 78779 _ k = = WorldSettings . GameType . SPECTATOR ? EnumActionResult . PASS : p _ 187102 _ 2 _ . func _ 184199 _ a ( p _ 187102 _ 1 _ , vec3d , p _ 187102 _ 4 _ , p _ 187102 _ 5 _ ) ; 
 + } 
 + 
 diff - - git a / src / main / java / net / minecraftforge / common / ForgeHooks . java b / src / main / java / net / minecraftforge / common / ForgeHooks . java 
 index 15371b4 . . 751ce32 100644 
 - - - a / src / main / java / net / minecraftforge / common / ForgeHooks . java 
 + + + b / src / main / java / net / minecraftforge / common / ForgeHooks . java 
 @ @ - 987 , 6 + 987 , 11 @ @ public class ForgeHooks 
 MinecraftForge . EVENT _ BUS . post ( new PlayerInteractEvent . RightClickEmpty ( player , hand ) ) ; 
 } 
 
 + public static void onEmptyLeftClick ( EntityPlayer player , ItemStack stack ) 
 + { 
 + MinecraftForge . EVENT _ BUS . post ( new PlayerInteractEvent . LeftClickEmpty ( player , stack ) ) ; 
 + } 
 + 
 private static ThreadLocal < Deque < LootTableContext > > lootContext = new ThreadLocal < Deque < LootTableContext > > ( ) ; 
 private static LootTableContext getLootTableContext ( ) 
 { 
 diff - - git a / src / main / java / net / minecraftforge / event / entity / player / PlayerInteractEvent . java b / src / main / java / net / minecraftforge / event / entity / player / PlayerInteractEvent . java 
 index 90325e3 . . 17ffd7f 100644 
 - - - a / src / main / java / net / minecraftforge / event / entity / player / PlayerInteractEvent . java 
 + + + b / src / main / java / net / minecraftforge / event / entity / player / PlayerInteractEvent . java 
 @ @ - 182 , 8 + 182 , 11 @ @ public class PlayerInteractEvent extends PlayerEvent 
 public void setCanceled ( boolean canceled ) 
 { 
 super . setCanceled ( canceled ) ; 
 - useBlock = DENY ; 
 - useItem = DENY ; 
 + if ( canceled ) 
 + { 
 + useBlock = DENY ; 
 + useItem = DENY ; 
 + } 
 } 
 } 
 
 @ @ - 220 , 8 + 223 , 12 @ @ public class PlayerInteractEvent extends PlayerEvent 
 * This event controls which of { @ link net . minecraft . block . Block # onBlockClicked } and / or the item harvesting methods will be called 
 * Canceling the event will cause none of the above noted methods to be called . 
 * There are various results to this event , see the getters below . 
 + * 
 * Note that if the event is canceled and the player holds down left mouse , the event will continue to fire . 
 * This is due to how vanilla calls the left click handler methods . 
 + * 
 + * Also note that creative mode directly breaks the block without running any other logic . 
 + * Therefore , in creative mode , { @ link # setUseBlock } and { @ link # setUseItem } have no effect . 
 * / 
 @ Cancelable 
 public static class LeftClickBlock extends PlayerInteractEvent 
 @ @ - 245 , 7 + 252 , 7 @ @ public class PlayerInteractEvent extends PlayerEvent 
 } 
 
 / * * 
 - * @ return If { @ link net . minecraft . block . Block # onBlockClicked } should be called 
 + * @ return If { @ link net . minecraft . block . Block # onBlockClicked } should be called . Changing this has no effect in creative mode 
 * / 
 public Result getUseBlock ( ) 
 { 
 @ @ - 253 , 7 + 260 , 7 @ @ public class PlayerInteractEvent extends PlayerEvent 
 } 
 
 / * * 
 - * @ return If the block should be attempted to be mined with the current item 
 + * @ return If the block should be attempted to be mined with the current item . Changing this has no effect in creative mode 
 * / 
 public Result getUseItem ( ) 
 { 
 @ @ - 274 , 8 + 281 , 24 @ @ public class PlayerInteractEvent extends PlayerEvent 
 public void setCanceled ( boolean canceled ) 
 { 
 super . setCanceled ( canceled ) ; 
 - useBlock = DENY ; 
 - useItem = DENY ; 
 + if ( canceled ) 
 + { 
 + useBlock = DENY ; 
 + useItem = DENY ; 
 + } 
 + } 
 + } 
 + 
 + / * * 
 + * This event is fired on the client side when the player left clicks empty space with any ItemStack . 
 + * The server is not aware of when the client left clicks empty space , you will need to tell the server yourself . 
 + * This event cannot be canceled . 
 + * / 
 + public static class LeftClickEmpty extends PlayerInteractEvent 
 + { 
 + public LeftClickEmpty ( EntityPlayer player , ItemStack stack ) 
 + { 
 + super ( player , EnumHand . MAIN _ HAND , stack , new BlockPos ( player ) , null ) ; 
 } 
 } 


NEAREST DIFF:
diff - - git a / patches / minecraft / net / minecraft / client / Minecraft . java . patch b / patches / minecraft / net / minecraft / client / Minecraft . java . patch 
 index e2de566 . . 7c6ff2e 100644 
 - - - a / patches / minecraft / net / minecraft / client / Minecraft . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / Minecraft . java . patch 
 @ @ - 8 , 8 + 8 , 17 @ @ 
 this . field _ 71459 _ aj = p _ i45547 _ 1 _ . field _ 178741 _ d . field _ 178756 _ a ; 
 this . field _ 71443 _ c = p _ i45547 _ 1 _ . field _ 178743 _ b . field _ 178764 _ a > 0 ? p _ i45547 _ 1 _ . field _ 178743 _ b . field _ 178764 _ a : 1 ; 
 this . field _ 71440 _ d = p _ i45547 _ 1 _ . field _ 178743 _ b . field _ 178762 _ b > 0 ? p _ i45547 _ 1 _ . field _ 178743 _ b . field _ 178762 _ b : 1 ; 
 - @ @ - 484 , 7 + 483 , 7 @ @ 
 - this . field _ 71452 _ i = new EffectRenderer ( this . field _ 71441 _ e , this . field _ 71446 _ o ) ; 
 + @ @ - 449 , 7 + 448 , 7 @ @ 
 + } 
 + } ) ; 
 + this . field _ 71417 _ B = new MouseHelper ( ) ; 
 + - net . minecraftforge . fml . common . ProgressManager . ProgressBar bar = net . minecraftforge . fml . common . ProgressManager . push ( " Rendering Setup " , 9 ) ; 
 + + net . minecraftforge . fml . common . ProgressManager . ProgressBar bar = net . minecraftforge . fml . common . ProgressManager . push ( " Rendering Setup " , 5 ) ; 
 + bar . step ( " GL Setup " ) ; 
 + this . func _ 71361 _ d ( " Pre startup " ) ; 
 + GlStateManager . func _ 179098 _ w ( ) ; 
 + @ @ - 491 , 7 + 490 , 7 @ @ 
 + net . minecraftforge . fml . common . ProgressManager . pop ( bar ) ; 
 net . minecraftforge . fml . client . FMLClientHandler . instance ( ) . finishMinecraftLoading ( ) ; 
 this . func _ 71361 _ d ( " Post startup " ) ; 
 - this . field _ 71456 _ v = new GuiIngame ( this ) ; 
 @ @ - 17 , 7 + 26 , 7 @ @ 
 
 if ( this . field _ 71475 _ ae ! = null ) 
 { 
 - @ @ - 891 , 11 + 890 , 6 @ @ 
 + @ @ - 898 , 11 + 897 , 6 @ @ 
 
 public void func _ 147108 _ a ( GuiScreen p _ 147108 _ 1 _ ) 
 { 
 @ @ - 29 , 7 + 38 , 7 @ @ 
 if ( p _ 147108 _ 1 _ = = null & & this . field _ 71441 _ e = = null ) 
 { 
 p _ 147108 _ 1 _ = new GuiMainMenu ( ) ; 
 - @ @ - 905 , 6 + 899 , 17 @ @ 
 + @ @ - 912 , 6 + 906 , 17 @ @ 
 p _ 147108 _ 1 _ = new GuiGameOver ( ) ; 
 } 
 
 @ @ - 47 , 7 + 56 , 7 @ @ 
 if ( p _ 147108 _ 1 _ instanceof GuiMainMenu ) 
 { 
 this . field _ 71474 _ y . field _ 74330 _ P = false ; 
 - @ @ - 1388 , 7 + 1393 , 7 @ @ 
 + @ @ - 1395 , 7 + 1400 , 7 @ @ 
 
 if ( this . field _ 71441 _ e . func _ 180495 _ p ( blockpos ) . func _ 177230 _ c ( ) . func _ 149688 _ o ( ) ! = Material . field _ 151579 _ a & & this . field _ 71442 _ b . func _ 180512 _ c ( blockpos , this . field _ 71476 _ x . field _ 178784 _ b ) ) 
 { 
 @ @ - 56 , 7 + 65 , 7 @ @ 
 this . field _ 71439 _ g . func _ 71038 _ i ( ) ; 
 } 
 } 
 - @ @ - 1468 , 15 + 1473 , 19 @ @ 
 + @ @ - 1475 , 15 + 1480 , 19 @ @ 
 case 2 : 
 BlockPos blockpos = this . field _ 71476 _ x . func _ 178782 _ a ( ) ; 
 
 @ @ - 77 , 7 + 86 , 7 @ @ 
 
 if ( itemstack = = null ) 
 { 
 - @ @ - 1697 , 6 + 1706 , 8 @ @ 
 + @ @ - 1704 , 6 + 1713 , 8 @ @ 
 
 while ( Mouse . next ( ) ) 
 { 
 @ @ - 86 , 7 + 95 , 7 @ @ 
 i = Mouse . getEventButton ( ) ; 
 KeyBinding . func _ 74510 _ a ( i - 100 , Mouse . getEventButtonState ( ) ) ; 
 
 - @ @ - 2206 , 7 + 2217 , 13 @ @ 
 + @ @ - 2213 , 7 + 2224 , 13 @ @ 
 NetworkManager networkmanager = NetworkManager . func _ 150722 _ a ( socketaddress ) ; 
 networkmanager . func _ 150719 _ a ( new NetHandlerLoginClient ( networkmanager , this , ( GuiScreen ) null ) ) ; 
 networkmanager . func _ 179290 _ a ( new C00Handshake ( 47 , socketaddress . toString ( ) , 0 , EnumConnectionState . LOGIN , true ) ) ; 
 @ @ - 101 , 7 + 110 , 7 @ @ 
 this . field _ 71453 _ ak = networkmanager ; 
 } 
 
 - @ @ - 2217 , 6 + 2234 , 8 @ @ 
 + @ @ - 2224 , 6 + 2241 , 8 @ @ 
 
 public void func _ 71353 _ a ( WorldClient p _ 71353 _ 1 _ , String p _ 71353 _ 2 _ ) 
 { 
 @ @ - 110 , 7 + 119 , 7 @ @ 
 if ( p _ 71353 _ 1 _ = = null ) 
 { 
 NetHandlerPlayClient nethandlerplayclient = this . func _ 147114 _ u ( ) ; 
 - @ @ - 2230 , 6 + 2249 , 18 @ @ 
 + @ @ - 2237 , 6 + 2256 , 18 @ @ 
 { 
 this . field _ 71437 _ Z . func _ 71263 _ m ( ) ; 
 this . field _ 71437 _ Z . func _ 175592 _ a ( ) ; 
 @ @ - 129 , 7 + 138 , 7 @ @ 
 } 
 
 this . field _ 71437 _ Z = null ; 
 - @ @ - 2361 , 134 + 2392 , 11 @ @ 
 + @ @ - 2368 , 134 + 2399 , 11 @ @ 
 if ( this . field _ 71476 _ x ! = null ) 
 { 
 boolean flag = this . field _ 71439 _ g . field _ 71075 _ bZ . field _ 75098 _ d ; 
 @ @ - 266 , 7 + 275 , 7 @ @ 
 if ( flag ) 
 { 
 int j = this . field _ 71439 _ g . field _ 71069 _ bz . field _ 75151 _ b . size ( ) - 9 + inventoryplayer . field _ 70461 _ c ; 
 - @ @ - 2744 , 8 + 2652 , 11 @ @ 
 + @ @ - 2751 , 8 + 2659 , 11 @ @ 
 p _ 70001 _ 1 _ . func _ 152767 _ b ( " gl _ max _ texture _ size " , Integer . valueOf ( func _ 71369 _ N ( ) ) ) ; 
 } 
 
 @ @ - 278 , 7 + 287 , 7 @ @ 
 for ( int i = 16384 ; i > 0 ; i > > = 1 ) 
 { 
 GL11 . glTexImage2D ( GL11 . GL _ PROXY _ TEXTURE _ 2D , 0 , GL11 . GL _ RGBA , i , i , 0 , GL11 . GL _ RGBA , GL11 . GL _ UNSIGNED _ BYTE , ( ByteBuffer ) null ) ; 
 - @ @ - 2753 , 6 + 2664 , 7 @ @ 
 + @ @ - 2760 , 6 + 2671 , 7 @ @ 
 
 if ( j ! = 0 ) 
 { 
 diff - - git a / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch b / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch 
 index d588e09 . . b8c8d8a 100644 
 - - - a / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch 
 @ @ - 5 , 12 + 5 , 12 @ @ 
 int j = Integer . MAX _ VALUE ; 
 int k = 1 < < this . field _ 147636 _ j ; 
 + net . minecraftforge . client . ForgeHooksClient . onTextureStitchedPre ( this ) ; 
 + net . minecraftforge . fml . common . ProgressManager . ProgressBar bar = net . minecraftforge . fml . common . ProgressManager . push ( " Texture stitching " , this . field _ 110574 _ e . size ( ) ) ; 
 Iterator iterator = this . field _ 110574 _ e . entrySet ( ) . iterator ( ) ; 
 
 - while ( iterator . hasNext ( ) ) 
 - @ @ - 100 , 6 + 101 , 16 @ @ 
 - ResourceLocation resourcelocation = new ResourceLocation ( textureatlassprite . func _ 94215 _ i ( ) ) ; 
 + @ @ - 102 , 6 + 103 , 16 @ @ 
 ResourceLocation resourcelocation1 = this . func _ 147634 _ a ( resourcelocation , 0 ) ; 
 + bar . step ( resourcelocation1 . func _ 110623 _ a ( ) ) ; 
 
 + if ( textureatlassprite . hasCustomLoader ( p _ 110571 _ 1 _ , resourcelocation ) ) 
 + { 
 @ @ - 25 , 7 + 25 , 7 @ @ 
 try 
 { 
 IResource iresource = p _ 110571 _ 1 _ . func _ 110536 _ a ( resourcelocation1 ) ; 
 - @ @ - 275 , 6 + 286 , 9 @ @ 
 + @ @ - 287 , 6 + 298 , 9 @ @ 
 textureatlassprite2 . func _ 94217 _ a ( this . field _ 94249 _ f ) ; 
 } 
 
 @ @ - 33 , 9 + 33 , 9 @ @ 
 + 
 + if ( ! net . minecraftforge . common . ForgeModContainer . disableStitchedFileSaving ) 
 TextureUtil . func _ 177055 _ a ( this . field _ 94254 _ c . replaceAll ( " / " , " _ " ) , this . func _ 110552 _ b ( ) , this . field _ 147636 _ j , stitcher . func _ 110935 _ a ( ) , stitcher . func _ 110936 _ b ( ) ) ; 
 + net . minecraftforge . fml . common . ProgressManager . pop ( bar ) ; 
 } 
 - 
 - @ @ - 341 , 4 + 355 , 37 @ @ 
 + @ @ - 354 , 4 + 368 , 37 @ @ 
 { 
 return this . field _ 94249 _ f ; 
 } 
 diff - - git a / patches / minecraft / net / minecraft / world / gen / feature / WorldGenDungeons . java . patch b / patches / minecraft / net / minecraft / world / gen / feature / WorldGenDungeons . java . patch 
 index 7377440 . . ab64b25 100644 
 - - - a / patches / minecraft / net / minecraft / world / gen / feature / WorldGenDungeons . java . patch 
 + + + b / patches / minecraft / net / minecraft / world / gen / feature / WorldGenDungeons . java . patch 
 @ @ - 23 , 7 + 23 , 7 @ @ 
 + WeightedRandomChestContent . func _ 177630 _ a ( p _ 180709 _ 2 _ , ChestGenHooks . getItems ( DUNGEON _ CHEST , p _ 180709 _ 2 _ ) , ( TileEntityChest ) tileentity1 , ChestGenHooks . getCount ( DUNGEON _ CHEST , p _ 180709 _ 2 _ ) ) ; 
 } 
 
 - break label100 ; 
 + break label197 ; 
 @ @ - 184 , 6 + 186 , 12 @ @ 
 
 private String func _ 76543 _ b ( Random p _ 76543 _ 1 _ )
