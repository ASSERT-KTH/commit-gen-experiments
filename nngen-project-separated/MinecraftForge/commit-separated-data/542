BLEU SCORE: 0.06760229884571738

TEST MSG: Fix issue reading chunks from the network when client and server do not agree on block count . Closes # 34925
GENERATED MSG: Made EmeraldOre respect isReplaceableOreGen . Closes # 1157

TEST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / world / chunk / BlockStateContainer . java . patch b / patches / minecraft / net / minecraft / world / chunk / BlockStateContainer . java . patch <nl> new file mode 100644 <nl> index 0000000 . . ed98b66 <nl> - - - / dev / null <nl> + + + b / patches / minecraft / net / minecraft / world / chunk / BlockStateContainer . java . patch <nl> @ @ - 0 , 0 + 1 , 39 @ @ <nl> + - - - . . / src - base / minecraft / net / minecraft / world / chunk / BlockStateContainer . java <nl> + + + + . . / src - work / minecraft / net / minecraft / world / chunk / BlockStateContainer . java <nl> + @ @ - 30 , 6 + 30 , 10 @ @ <nl> + <nl> + private void func _ 186012 _ b ( int p _ 186012 _ 1 _ ) <nl> + { <nl> + + setBits ( p _ 186012 _ 1 _ , false ) ; <nl> + + } <nl> + + private void setBits ( int p _ 186012 _ 1 _ , boolean forceBits ) <nl> + + { <nl> + if ( p _ 186012 _ 1 _ ! = this . field _ 186024 _ e ) <nl> + { <nl> + this . field _ 186024 _ e = p _ 186012 _ 1 _ ; <nl> + @ @ - 47 , 6 + 51 , 8 @ @ <nl> + { <nl> + this . field _ 186022 _ c = field _ 186023 _ d ; <nl> + this . field _ 186024 _ e = MathHelper . func _ 151241 _ e ( Block . field _ 176229 _ d . func _ 186804 _ a ( ) ) ; <nl> + + if ( forceBits ) <nl> + + this . field _ 186024 _ e = p _ 186012 _ 1 _ ; <nl> + } <nl> + <nl> + this . field _ 186022 _ c . func _ 186041 _ a ( field _ 186020 _ a ) ; <nl> + @ @ - 102 , 11 + 108 , 15 @ @ <nl> + <nl> + if ( this . field _ 186024 _ e ! = i ) <nl> + { <nl> + - this . func _ 186012 _ b ( i ) ; <nl> + + this . setBits ( i , true ) ; / / Forge , Force bit density to fix network issues , resize below if needed . <nl> + } <nl> + <nl> + this . field _ 186022 _ c . func _ 186038 _ a ( p _ 186010 _ 1 _ ) ; <nl> + p _ 186010 _ 1 _ . func _ 186873 _ b ( this . field _ 186021 _ b . func _ 188143 _ a ( ) ) ; <nl> + + <nl> + + int regSize = MathHelper . func _ 151241 _ e ( Block . field _ 176229 _ d . func _ 186804 _ a ( ) ) ; <nl> + + if ( this . field _ 186022 _ c = = field _ 186023 _ d & & this . field _ 186024 _ e ! = regSize ) / / Resize bits to fit registry . <nl> + + this . func _ 186008 _ a ( regSize , field _ 186020 _ a ) ; <nl> + } <nl> + <nl> + public void func _ 186009 _ b ( PacketBuffer p _ 186009 _ 1 _ ) <nl> diff - - git a / src / main / resources / forge . exc b / src / main / resources / forge . exc <nl> index 5dd6d23 . . 765c9a6 100644 <nl> - - - a / src / main / resources / forge . exc <nl> + + + b / src / main / resources / forge . exc <nl> @ @ - 55 , 3 + 55 , 5 @ @ net / minecraft / world / storage / loot / LootEntry . < init > ( II [ Lnet / minecraft / world / storag <nl> net / minecraft / world / storage / loot / LootEntryItem . < init > ( Lnet / minecraft / item / Item ; II [ Lnet / minecraft / world / storage / loot / functions / LootFunction ; [ Lnet / minecraft / world / storage / loot / conditions / LootCondition ; Ljava / lang / String ; ) V = | p _ i46644 _ 1 _ , p _ i46644 _ 2 _ , p _ i46644 _ 3 _ , p _ i46644 _ 4 _ , p _ i46644 _ 5 _ , entryName <nl> net / minecraft / world / storage / loot / LootEntryTable . < init > ( Lnet / minecraft / util / ResourceLocation ; II [ Lnet / minecraft / world / storage / loot / conditions / LootCondition ; Ljava / lang / String ; ) V = | p _ i46639 _ 1 _ , p _ i46639 _ 2 _ , p _ i46639 _ 3 _ , p _ i46639 _ 4 _ , entryName <nl> net / minecraft / world / storage / loot / LootEntryEmpty . < init > ( II [ Lnet / minecraft / world / storage / loot / conditions / LootCondition ; Ljava / lang / String ; ) V = | p _ i46645 _ 1 _ , p _ i46645 _ 2 _ , p _ i46645 _ 3 _ , entryName <nl> + <nl> + net / minecraft / world / chunk / BlockStateContainer . setBits ( IZ ) V = | p _ 186012 _ 1 _ , forceBits <nl> \ No newline at end of file
NEAREST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / client / Minecraft . java . patch b / patches / minecraft / net / minecraft / client / Minecraft . java . patch <nl> index fb443a4 . . 9ec8287 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / Minecraft . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / Minecraft . java . patch <nl> @ @ - 56 , 7 + 56 , 7 @ @ <nl> if ( p _ 147108 _ 1 _ instanceof GuiMainMenu ) <nl> { <nl> this . field _ 71474 _ y . field _ 74330 _ P = false ; <nl> - @ @ - 1342 , 7 + 1347 , 7 @ @ <nl> + @ @ - 1341 , 7 + 1346 , 7 @ @ <nl> <nl> if ( this . field _ 71439 _ g . func _ 82246 _ f ( i , j , k ) ) <nl> { <nl> @ @ - 65 , 7 + 65 , 7 @ @ <nl> this . field _ 71439 _ g . func _ 71038 _ i ( ) ; <nl> } <nl> } <nl> - @ @ - 1423 , 11 + 1428 , 12 @ @ <nl> + @ @ - 1422 , 11 + 1427 , 12 @ @ <nl> int j = this . field _ 71476 _ x . field _ 72312 _ c ; <nl> int k = this . field _ 71476 _ x . field _ 72309 _ d ; <nl> <nl> @ @ - 80 , 7 + 80 , 7 @ @ <nl> { <nl> flag = false ; <nl> this . field _ 71439 _ g . func _ 71038 _ i ( ) ; <nl> - @ @ - 1454 , 7 + 1460 , 8 @ @ <nl> + @ @ - 1453 , 7 + 1459 , 8 @ @ <nl> { <nl> ItemStack itemstack1 = this . field _ 71439 _ g . field _ 71071 _ by . func _ 70448 _ g ( ) ; <nl> <nl> @ @ - 90 , 7 + 90 , 7 @ @ <nl> { <nl> this . field _ 71460 _ t . field _ 78516 _ c . func _ 78445 _ c ( ) ; <nl> } <nl> - @ @ - 1666 , 6 + 1673 , 8 @ @ <nl> + @ @ - 1665 , 6 + 1672 , 8 @ @ <nl> <nl> while ( Mouse . next ( ) ) <nl> { <nl> @ @ - 99 , 7 + 99 , 7 @ @ <nl> j = Mouse . getEventButton ( ) ; <nl> KeyBinding . func _ 74510 _ a ( j - 100 , Mouse . getEventButtonState ( ) ) ; <nl> <nl> - @ @ - 2128 , 6 + 2137 , 11 @ @ <nl> + @ @ - 2127 , 6 + 2136 , 11 @ @ <nl> <nl> public void func _ 71353 _ a ( WorldClient p _ 71353 _ 1 _ , String p _ 71353 _ 2 _ ) <nl> { <nl> @ @ - 111 , 7 + 111 , 7 @ @ <nl> if ( p _ 71353 _ 1 _ = = null ) <nl> { <nl> NetHandlerPlayClient nethandlerplayclient = this . func _ 147114 _ u ( ) ; <nl> - @ @ - 2140 , 6 + 2154 , 18 @ @ <nl> + @ @ - 2139 , 6 + 2153 , 18 @ @ <nl> if ( this . field _ 71437 _ Z ! = null ) <nl> { <nl> this . field _ 71437 _ Z . func _ 71263 _ m ( ) ; <nl> @ @ - 130 , 7 + 130 , 7 @ @ <nl> } <nl> <nl> this . field _ 71437 _ Z = null ; <nl> - @ @ - 2288 , 113 + 2314 , 10 @ @ <nl> + @ @ - 2287 , 113 + 2313 , 10 @ @ <nl> if ( this . field _ 71476 _ x ! = null ) <nl> { <nl> boolean flag = this . field _ 71439 _ g . field _ 71075 _ bZ . field _ 75098 _ d ; <nl> @ @ - 246 , 7 + 246 , 7 @ @ <nl> if ( flag ) <nl> { <nl> j = this . field _ 71439 _ g . field _ 71069 _ bz . field _ 75151 _ b . size ( ) - 9 + this . field _ 71439 _ g . field _ 71071 _ by . field _ 70461 _ c ; <nl> - @ @ - 2660 , 8 + 2583 , 15 @ @ <nl> + @ @ - 2659 , 8 + 2582 , 15 @ @ <nl> p _ 70001 _ 1 _ . func _ 152767 _ b ( " gl _ max _ texture _ size " , Integer . valueOf ( func _ 71369 _ N ( ) ) ) ; <nl> } <nl> <nl> @ @ - 262 , 7 + 262 , 7 @ @ <nl> for ( int i = 16384 ; i > 0 ; i > > = 1 ) <nl> { <nl> GL11 . glTexImage2D ( GL11 . GL _ PROXY _ TEXTURE _ 2D , 0 , GL11 . GL _ RGBA , i , i , 0 , GL11 . GL _ RGBA , GL11 . GL _ UNSIGNED _ BYTE , ( ByteBuffer ) null ) ; <nl> - @ @ - 2669 , 6 + 2599 , 7 @ @ <nl> + @ @ - 2668 , 6 + 2598 , 7 @ @ <nl> <nl> if ( j ! = 0 ) <nl> { <nl> diff - - git a / patches / minecraft / net / minecraft / world / biome / BiomeGenHills . java . patch b / patches / minecraft / net / minecraft / world / biome / BiomeGenHills . java . patch <nl> new file mode 100644 <nl> index 0000000 . . 4930e6e <nl> - - - / dev / null <nl> + + + b / patches / minecraft / net / minecraft / world / biome / BiomeGenHills . java . patch <nl> @ @ - 0 , 0 + 1 , 11 @ @ <nl> + - - - . . / src - base / minecraft / net / minecraft / world / biome / BiomeGenHills . java <nl> + + + + . . / src - work / minecraft / net / minecraft / world / biome / BiomeGenHills . java <nl> + @ @ - 55 , 7 + 55 , 7 @ @ <nl> + j1 = p _ 76728 _ 2 _ . nextInt ( 28 ) + 4 ; <nl> + int k1 = p _ 76728 _ 4 _ + p _ 76728 _ 2 _ . nextInt ( 16 ) ; <nl> + <nl> + - if ( p _ 76728 _ 1 _ . func _ 147439 _ a ( i1 , j1 , k1 ) = = Blocks . field _ 150348 _ b ) <nl> + + if ( p _ 76728 _ 1 _ . func _ 147439 _ a ( i1 , j1 , k1 ) . isReplaceableOreGen ( p _ 76728 _ 1 _ , i1 , j1 , k1 , Blocks . field _ 150348 _ b ) ) <nl> + { <nl> + p _ 76728 _ 1 _ . func _ 147465 _ d ( i1 , j1 , k1 , Blocks . field _ 150412 _ bA , 0 , 2 ) ; <nl> + }

TEST DIFF:
diff - - git a / patches / minecraft / net / minecraft / world / chunk / BlockStateContainer . java . patch b / patches / minecraft / net / minecraft / world / chunk / BlockStateContainer . java . patch 
 new file mode 100644 
 index 0000000 . . ed98b66 
 - - - / dev / null 
 + + + b / patches / minecraft / net / minecraft / world / chunk / BlockStateContainer . java . patch 
 @ @ - 0 , 0 + 1 , 39 @ @ 
 + - - - . . / src - base / minecraft / net / minecraft / world / chunk / BlockStateContainer . java 
 + + + + . . / src - work / minecraft / net / minecraft / world / chunk / BlockStateContainer . java 
 + @ @ - 30 , 6 + 30 , 10 @ @ 
 + 
 + private void func _ 186012 _ b ( int p _ 186012 _ 1 _ ) 
 + { 
 + + setBits ( p _ 186012 _ 1 _ , false ) ; 
 + + } 
 + + private void setBits ( int p _ 186012 _ 1 _ , boolean forceBits ) 
 + + { 
 + if ( p _ 186012 _ 1 _ ! = this . field _ 186024 _ e ) 
 + { 
 + this . field _ 186024 _ e = p _ 186012 _ 1 _ ; 
 + @ @ - 47 , 6 + 51 , 8 @ @ 
 + { 
 + this . field _ 186022 _ c = field _ 186023 _ d ; 
 + this . field _ 186024 _ e = MathHelper . func _ 151241 _ e ( Block . field _ 176229 _ d . func _ 186804 _ a ( ) ) ; 
 + + if ( forceBits ) 
 + + this . field _ 186024 _ e = p _ 186012 _ 1 _ ; 
 + } 
 + 
 + this . field _ 186022 _ c . func _ 186041 _ a ( field _ 186020 _ a ) ; 
 + @ @ - 102 , 11 + 108 , 15 @ @ 
 + 
 + if ( this . field _ 186024 _ e ! = i ) 
 + { 
 + - this . func _ 186012 _ b ( i ) ; 
 + + this . setBits ( i , true ) ; / / Forge , Force bit density to fix network issues , resize below if needed . 
 + } 
 + 
 + this . field _ 186022 _ c . func _ 186038 _ a ( p _ 186010 _ 1 _ ) ; 
 + p _ 186010 _ 1 _ . func _ 186873 _ b ( this . field _ 186021 _ b . func _ 188143 _ a ( ) ) ; 
 + + 
 + + int regSize = MathHelper . func _ 151241 _ e ( Block . field _ 176229 _ d . func _ 186804 _ a ( ) ) ; 
 + + if ( this . field _ 186022 _ c = = field _ 186023 _ d & & this . field _ 186024 _ e ! = regSize ) / / Resize bits to fit registry . 
 + + this . func _ 186008 _ a ( regSize , field _ 186020 _ a ) ; 
 + } 
 + 
 + public void func _ 186009 _ b ( PacketBuffer p _ 186009 _ 1 _ ) 
 diff - - git a / src / main / resources / forge . exc b / src / main / resources / forge . exc 
 index 5dd6d23 . . 765c9a6 100644 
 - - - a / src / main / resources / forge . exc 
 + + + b / src / main / resources / forge . exc 
 @ @ - 55 , 3 + 55 , 5 @ @ net / minecraft / world / storage / loot / LootEntry . < init > ( II [ Lnet / minecraft / world / storag 
 net / minecraft / world / storage / loot / LootEntryItem . < init > ( Lnet / minecraft / item / Item ; II [ Lnet / minecraft / world / storage / loot / functions / LootFunction ; [ Lnet / minecraft / world / storage / loot / conditions / LootCondition ; Ljava / lang / String ; ) V = | p _ i46644 _ 1 _ , p _ i46644 _ 2 _ , p _ i46644 _ 3 _ , p _ i46644 _ 4 _ , p _ i46644 _ 5 _ , entryName 
 net / minecraft / world / storage / loot / LootEntryTable . < init > ( Lnet / minecraft / util / ResourceLocation ; II [ Lnet / minecraft / world / storage / loot / conditions / LootCondition ; Ljava / lang / String ; ) V = | p _ i46639 _ 1 _ , p _ i46639 _ 2 _ , p _ i46639 _ 3 _ , p _ i46639 _ 4 _ , entryName 
 net / minecraft / world / storage / loot / LootEntryEmpty . < init > ( II [ Lnet / minecraft / world / storage / loot / conditions / LootCondition ; Ljava / lang / String ; ) V = | p _ i46645 _ 1 _ , p _ i46645 _ 2 _ , p _ i46645 _ 3 _ , entryName 
 + 
 + net / minecraft / world / chunk / BlockStateContainer . setBits ( IZ ) V = | p _ 186012 _ 1 _ , forceBits 
 \ No newline at end of file

NEAREST DIFF:
diff - - git a / patches / minecraft / net / minecraft / client / Minecraft . java . patch b / patches / minecraft / net / minecraft / client / Minecraft . java . patch 
 index fb443a4 . . 9ec8287 100644 
 - - - a / patches / minecraft / net / minecraft / client / Minecraft . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / Minecraft . java . patch 
 @ @ - 56 , 7 + 56 , 7 @ @ 
 if ( p _ 147108 _ 1 _ instanceof GuiMainMenu ) 
 { 
 this . field _ 71474 _ y . field _ 74330 _ P = false ; 
 - @ @ - 1342 , 7 + 1347 , 7 @ @ 
 + @ @ - 1341 , 7 + 1346 , 7 @ @ 
 
 if ( this . field _ 71439 _ g . func _ 82246 _ f ( i , j , k ) ) 
 { 
 @ @ - 65 , 7 + 65 , 7 @ @ 
 this . field _ 71439 _ g . func _ 71038 _ i ( ) ; 
 } 
 } 
 - @ @ - 1423 , 11 + 1428 , 12 @ @ 
 + @ @ - 1422 , 11 + 1427 , 12 @ @ 
 int j = this . field _ 71476 _ x . field _ 72312 _ c ; 
 int k = this . field _ 71476 _ x . field _ 72309 _ d ; 
 
 @ @ - 80 , 7 + 80 , 7 @ @ 
 { 
 flag = false ; 
 this . field _ 71439 _ g . func _ 71038 _ i ( ) ; 
 - @ @ - 1454 , 7 + 1460 , 8 @ @ 
 + @ @ - 1453 , 7 + 1459 , 8 @ @ 
 { 
 ItemStack itemstack1 = this . field _ 71439 _ g . field _ 71071 _ by . func _ 70448 _ g ( ) ; 
 
 @ @ - 90 , 7 + 90 , 7 @ @ 
 { 
 this . field _ 71460 _ t . field _ 78516 _ c . func _ 78445 _ c ( ) ; 
 } 
 - @ @ - 1666 , 6 + 1673 , 8 @ @ 
 + @ @ - 1665 , 6 + 1672 , 8 @ @ 
 
 while ( Mouse . next ( ) ) 
 { 
 @ @ - 99 , 7 + 99 , 7 @ @ 
 j = Mouse . getEventButton ( ) ; 
 KeyBinding . func _ 74510 _ a ( j - 100 , Mouse . getEventButtonState ( ) ) ; 
 
 - @ @ - 2128 , 6 + 2137 , 11 @ @ 
 + @ @ - 2127 , 6 + 2136 , 11 @ @ 
 
 public void func _ 71353 _ a ( WorldClient p _ 71353 _ 1 _ , String p _ 71353 _ 2 _ ) 
 { 
 @ @ - 111 , 7 + 111 , 7 @ @ 
 if ( p _ 71353 _ 1 _ = = null ) 
 { 
 NetHandlerPlayClient nethandlerplayclient = this . func _ 147114 _ u ( ) ; 
 - @ @ - 2140 , 6 + 2154 , 18 @ @ 
 + @ @ - 2139 , 6 + 2153 , 18 @ @ 
 if ( this . field _ 71437 _ Z ! = null ) 
 { 
 this . field _ 71437 _ Z . func _ 71263 _ m ( ) ; 
 @ @ - 130 , 7 + 130 , 7 @ @ 
 } 
 
 this . field _ 71437 _ Z = null ; 
 - @ @ - 2288 , 113 + 2314 , 10 @ @ 
 + @ @ - 2287 , 113 + 2313 , 10 @ @ 
 if ( this . field _ 71476 _ x ! = null ) 
 { 
 boolean flag = this . field _ 71439 _ g . field _ 71075 _ bZ . field _ 75098 _ d ; 
 @ @ - 246 , 7 + 246 , 7 @ @ 
 if ( flag ) 
 { 
 j = this . field _ 71439 _ g . field _ 71069 _ bz . field _ 75151 _ b . size ( ) - 9 + this . field _ 71439 _ g . field _ 71071 _ by . field _ 70461 _ c ; 
 - @ @ - 2660 , 8 + 2583 , 15 @ @ 
 + @ @ - 2659 , 8 + 2582 , 15 @ @ 
 p _ 70001 _ 1 _ . func _ 152767 _ b ( " gl _ max _ texture _ size " , Integer . valueOf ( func _ 71369 _ N ( ) ) ) ; 
 } 
 
 @ @ - 262 , 7 + 262 , 7 @ @ 
 for ( int i = 16384 ; i > 0 ; i > > = 1 ) 
 { 
 GL11 . glTexImage2D ( GL11 . GL _ PROXY _ TEXTURE _ 2D , 0 , GL11 . GL _ RGBA , i , i , 0 , GL11 . GL _ RGBA , GL11 . GL _ UNSIGNED _ BYTE , ( ByteBuffer ) null ) ; 
 - @ @ - 2669 , 6 + 2599 , 7 @ @ 
 + @ @ - 2668 , 6 + 2598 , 7 @ @ 
 
 if ( j ! = 0 ) 
 { 
 diff - - git a / patches / minecraft / net / minecraft / world / biome / BiomeGenHills . java . patch b / patches / minecraft / net / minecraft / world / biome / BiomeGenHills . java . patch 
 new file mode 100644 
 index 0000000 . . 4930e6e 
 - - - / dev / null 
 + + + b / patches / minecraft / net / minecraft / world / biome / BiomeGenHills . java . patch 
 @ @ - 0 , 0 + 1 , 11 @ @ 
 + - - - . . / src - base / minecraft / net / minecraft / world / biome / BiomeGenHills . java 
 + + + + . . / src - work / minecraft / net / minecraft / world / biome / BiomeGenHills . java 
 + @ @ - 55 , 7 + 55 , 7 @ @ 
 + j1 = p _ 76728 _ 2 _ . nextInt ( 28 ) + 4 ; 
 + int k1 = p _ 76728 _ 4 _ + p _ 76728 _ 2 _ . nextInt ( 16 ) ; 
 + 
 + - if ( p _ 76728 _ 1 _ . func _ 147439 _ a ( i1 , j1 , k1 ) = = Blocks . field _ 150348 _ b ) 
 + + if ( p _ 76728 _ 1 _ . func _ 147439 _ a ( i1 , j1 , k1 ) . isReplaceableOreGen ( p _ 76728 _ 1 _ , i1 , j1 , k1 , Blocks . field _ 150348 _ b ) ) 
 + { 
 + p _ 76728 _ 1 _ . func _ 147465 _ d ( i1 , j1 , k1 , Blocks . field _ 150412 _ bA , 0 , 2 ) ; 
 + }
