BLEU SCORE: 0.017539413943549187

TEST MSG: Allow custom models to have per - state lighting
GENERATED MSG: Model stuff : updated to generics , fixed various warnings , added handling of new perspective types .

TEST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / client / renderer / BlockModelRenderer . java . patch b / patches / minecraft / net / minecraft / client / renderer / BlockModelRenderer . java . patch <nl> index 2637d75 . . fc77349 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / renderer / BlockModelRenderer . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / renderer / BlockModelRenderer . java . patch <nl> @ @ - 5 , 7 + 5 , 7 @ @ <nl> public boolean func _ 187493 _ a ( IBlockAccess p _ 187493 _ 1 _ , IBakedModel p _ 187493 _ 2 _ , IBlockState p _ 187493 _ 3 _ , BlockPos p _ 187493 _ 4 _ , BufferBuilder p _ 187493 _ 5 _ , boolean p _ 187493 _ 6 _ , long p _ 187493 _ 7 _ ) <nl> { <nl> - boolean flag = Minecraft . func _ 71379 _ u ( ) & & p _ 187493 _ 3 _ . func _ 185906 _ d ( ) = = 0 & & p _ 187493 _ 2 _ . func _ 177555 _ b ( ) ; <nl> - + boolean flag = Minecraft . func _ 71379 _ u ( ) & & p _ 187493 _ 3 _ . getLightValue ( p _ 187493 _ 1 _ , p _ 187493 _ 4 _ ) = = 0 & & p _ 187493 _ 2 _ . func _ 177555 _ b ( ) ; <nl> + + boolean flag = Minecraft . func _ 71379 _ u ( ) & & p _ 187493 _ 3 _ . getLightValue ( p _ 187493 _ 1 _ , p _ 187493 _ 4 _ ) = = 0 & & p _ 187493 _ 2 _ . isAmbientOcclusion ( p _ 187493 _ 3 _ ) ; <nl> <nl> try <nl> { <nl> diff - - git a / patches / minecraft / net / minecraft / client / renderer / block / model / IBakedModel . java . patch b / patches / minecraft / net / minecraft / client / renderer / block / model / IBakedModel . java . patch <nl> index 1715d81 . . 033f7d8 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / renderer / block / model / IBakedModel . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / renderer / block / model / IBakedModel . java . patch <nl> @ @ - 1 , 6 + 1 , 6 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / client / renderer / block / model / IBakedModel . java <nl> + + + . . / src - work / minecraft / net / minecraft / client / renderer / block / model / IBakedModel . java <nl> - @ @ - 21 , 7 + 21 , 16 @ @ <nl> + @ @ - 21 , 7 + 21 , 18 @ @ <nl> <nl> TextureAtlasSprite func _ 177554 _ e ( ) ; <nl> <nl> @ @ - 10 , 6 + 10 , 8 @ @ <nl> <nl> ItemOverrideList func _ 188617 _ f ( ) ; <nl> + <nl> + + default boolean isAmbientOcclusion ( IBlockState state ) { return func _ 177555 _ b ( ) ; } <nl> + + <nl> + / * <nl> + * Returns the pair of the model for the given perspective , and the matrix <nl> + * that should be applied to the GL state before rendering it ( matrix may be null ) . <nl> diff - - git a / patches / minecraft / net / minecraft / client / renderer / block / model / SimpleBakedModel . java . patch b / patches / minecraft / net / minecraft / client / renderer / block / model / SimpleBakedModel . java . patch <nl> new file mode 100644 <nl> index 0000000 . . 85c04be <nl> - - - / dev / null <nl> + + + b / patches / minecraft / net / minecraft / client / renderer / block / model / SimpleBakedModel . java . patch <nl> @ @ - 0 , 0 + 1 , 11 @ @ <nl> + - - - . . / src - base / minecraft / net / minecraft / client / renderer / block / model / SimpleBakedModel . java <nl> + + + + . . / src - work / minecraft / net / minecraft / client / renderer / block / model / SimpleBakedModel . java <nl> + @ @ - 88 , 7 + 88 , 7 @ @ <nl> + <nl> + public Builder ( IBlockState p _ i46989 _ 1 _ , IBakedModel p _ i46989 _ 2 _ , TextureAtlasSprite p _ i46989 _ 3 _ , BlockPos p _ i46989 _ 4 _ ) <nl> + { <nl> + - this ( p _ i46989 _ 2 _ . func _ 177555 _ b ( ) , p _ i46989 _ 2 _ . func _ 177556 _ c ( ) , p _ i46989 _ 2 _ . func _ 177552 _ f ( ) , p _ i46989 _ 2 _ . func _ 188617 _ f ( ) ) ; <nl> + + this ( p _ i46989 _ 2 _ . isAmbientOcclusion ( p _ i46989 _ 1 _ ) , p _ i46989 _ 2 _ . func _ 177556 _ c ( ) , p _ i46989 _ 2 _ . func _ 177552 _ f ( ) , p _ i46989 _ 2 _ . func _ 188617 _ f ( ) ) ; <nl> + this . field _ 177652 _ d = p _ i46989 _ 2 _ . func _ 177554 _ e ( ) ; <nl> + long i = MathHelper . func _ 180186 _ a ( p _ i46989 _ 4 _ ) ; <nl> + <nl> diff - - git a / patches / minecraft / net / minecraft / client / renderer / block / model / WeightedBakedModel . java . patch b / patches / minecraft / net / minecraft / client / renderer / block / model / WeightedBakedModel . java . patch <nl> new file mode 100644 <nl> index 0000000 . . aebad79 <nl> - - - / dev / null <nl> + + + b / patches / minecraft / net / minecraft / client / renderer / block / model / WeightedBakedModel . java . patch <nl> @ @ - 0 , 0 + 1 , 11 @ @ <nl> + - - - . . / src - base / minecraft / net / minecraft / client / renderer / block / model / WeightedBakedModel . java <nl> + + + + . . / src - work / minecraft / net / minecraft / client / renderer / block / model / WeightedBakedModel . java <nl> + @ @ - 41 , 6 + 41 , 8 @ @ <nl> + return this . field _ 177566 _ c . func _ 177555 _ b ( ) ; <nl> + } <nl> + <nl> + + public boolean isAmbientOcclusion ( IBlockState state ) { return this . field _ 177566 _ c . isAmbientOcclusion ( state ) ; } <nl> + + <nl> + public boolean func _ 177556 _ c ( ) <nl> + { <nl> + return this . field _ 177566 _ c . func _ 177556 _ c ( ) ; <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / BakedModelWrapper . java b / src / main / java / net / minecraftforge / client / model / BakedModelWrapper . java <nl> index 1e14bd0 . . 3fe9227 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / BakedModelWrapper . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / BakedModelWrapper . java <nl> @ @ - 53 , 6 + 53 , 12 @ @ public abstract class BakedModelWrapper < T extends IBakedModel > implements IBaked <nl> } <nl> <nl> @ Override <nl> + public boolean isAmbientOcclusion ( IBlockState state ) <nl> + { <nl> + return originalModel . isAmbientOcclusion ( state ) ; <nl> + } <nl> + <nl> + @ Override <nl> public boolean isGui3d ( ) <nl> { <nl> return originalModel . isGui3d ( ) ; <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / MultiLayerModel . java b / src / main / java / net / minecraftforge / client / model / MultiLayerModel . java <nl> index 5d45059 . . b3deb51 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / MultiLayerModel . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / MultiLayerModel . java <nl> @ @ - 182 , 6 + 182 , 12 @ @ public final class MultiLayerModel implements IModel <nl> } <nl> <nl> @ Override <nl> + public boolean isAmbientOcclusion ( IBlockState state ) <nl> + { <nl> + return base . isAmbientOcclusion ( state ) ; <nl> + } <nl> + <nl> + @ Override <nl> public boolean isGui3d ( ) <nl> { <nl> return base . isGui3d ( ) ; <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / MultiModel . java b / src / main / java / net / minecraftforge / client / model / MultiModel . java <nl> index 968b9cb . . 34e0105 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / MultiModel . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / MultiModel . java <nl> @ @ - 155 , 6 + 155 , 12 @ @ public final class MultiModel implements IModel <nl> } <nl> <nl> @ Override <nl> + public boolean isAmbientOcclusion ( IBlockState state ) <nl> + { <nl> + return internalBase . isAmbientOcclusion ( state ) ; <nl> + } <nl> + <nl> + @ Override <nl> public boolean isGui3d ( ) <nl> { <nl> return internalBase . isGui3d ( ) ; <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / PerspectiveMapWrapper . java b / src / main / java / net / minecraftforge / client / model / PerspectiveMapWrapper . java <nl> index b4d062e . . 6690397 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / PerspectiveMapWrapper . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / PerspectiveMapWrapper . java <nl> @ @ - 82 , 14 + 82 , 15 @ @ public class PerspectiveMapWrapper implements IBakedModel <nl> return Pair . of ( model , null ) ; <nl> } <nl> <nl> - public boolean isAmbientOcclusion ( ) { return parent . isAmbientOcclusion ( ) ; } <nl> - public boolean isGui3d ( ) { return parent . isGui3d ( ) ; } <nl> - public boolean isBuiltInRenderer ( ) { return parent . isBuiltInRenderer ( ) ; } <nl> - public TextureAtlasSprite getParticleTexture ( ) { return parent . getParticleTexture ( ) ; } <nl> + @ Override public boolean isAmbientOcclusion ( ) { return parent . isAmbientOcclusion ( ) ; } <nl> + @ Override public boolean isAmbientOcclusion ( IBlockState state ) { return parent . isAmbientOcclusion ( state ) ; } <nl> + @ Override public boolean isGui3d ( ) { return parent . isGui3d ( ) ; } <nl> + @ Override public boolean isBuiltInRenderer ( ) { return parent . isBuiltInRenderer ( ) ; } <nl> + @ Override public TextureAtlasSprite getParticleTexture ( ) { return parent . getParticleTexture ( ) ; } <nl> @ SuppressWarnings ( " deprecation " ) <nl> - public ItemCameraTransforms getItemCameraTransforms ( ) { return parent . getItemCameraTransforms ( ) ; } <nl> - public List < BakedQuad > getQuads ( @ Nullable IBlockState state , @ Nullable EnumFacing side , long rand ) { return parent . getQuads ( state , side , rand ) ; } <nl> - public ItemOverrideList getOverrides ( ) { return parent . getOverrides ( ) ; } <nl> + @ Override public ItemCameraTransforms getItemCameraTransforms ( ) { return parent . getItemCameraTransforms ( ) ; } <nl> + @ Override public List < BakedQuad > getQuads ( @ Nullable IBlockState state , @ Nullable EnumFacing side , long rand ) { return parent . getQuads ( state , side , rand ) ; } <nl> + @ Override public ItemOverrideList getOverrides ( ) { return parent . getOverrides ( ) ; } <nl> <nl> @ Override <nl> public Pair < ? extends IBakedModel , Matrix4f > handlePerspective ( ItemCameraTransforms . TransformType cameraTransformType )
NEAREST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / client / resources / model / IBakedModel . java . patch b / patches / minecraft / net / minecraft / client / resources / model / IBakedModel . java . patch <nl> index 94444e8 . . d032f72 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / resources / model / IBakedModel . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / resources / model / IBakedModel . java . patch <nl> @ @ - 1 , 18 + 1 , 6 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / client / resources / model / IBakedModel . java <nl> + + + . . / src - work / minecraft / net / minecraft / client / resources / model / IBakedModel . java <nl> - @ @ - 8 , 7 + 8 , 11 @ @ <nl> - import net . minecraftforge . fml . relauncher . Side ; <nl> - import net . minecraftforge . fml . relauncher . SideOnly ; <nl> - <nl> - + / * <nl> - + * @ deprecated use { @ link net . minecraftforge . client . model . IFlexibleBakedModel } , { @ link net . minecraftforge . client . model . IPerspectiveAwareModel } <nl> - + * / <nl> - @ SideOnly ( Side . CLIENT ) <nl> - + @ Deprecated <nl> - public interface IBakedModel <nl> - { <nl> - List < BakedQuad > getFaceQuads ( EnumFacing p _ 177551 _ 1 _ ) ; <nl> - @ @ - 23 , 5 + 27 , 6 @ @ <nl> + @ @ - 23 , 5 + 23 , 6 @ @ <nl> <nl> TextureAtlasSprite getTexture ( ) ; <nl> <nl> diff - - git a / src / main / java / net / minecraftforge / client / ForgeHooksClient . java b / src / main / java / net / minecraftforge / client / ForgeHooksClient . java <nl> index 2fc9623 . . 2b58dee 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / ForgeHooksClient . java <nl> + + + b / src / main / java / net / minecraftforge / client / ForgeHooksClient . java <nl> @ @ - 42 , 6 + 42 , 7 @ @ import net . minecraft . client . resources . I18n ; <nl> import net . minecraft . client . resources . model . IBakedModel ; <nl> import net . minecraft . client . resources . model . ModelBakery ; <nl> import net . minecraft . client . resources . model . ModelManager ; <nl> + import net . minecraft . client . resources . model . ModelResourceLocation ; <nl> import net . minecraft . client . resources . model . ModelRotation ; <nl> import net . minecraft . client . settings . GameSettings ; <nl> import net . minecraft . entity . Entity ; <nl> @ @ - 90 , 6 + 91 , 7 @ @ import org . lwjgl . opengl . GL11 ; <nl> <nl> <nl> <nl> + <nl> import com . google . common . collect . Maps ; <nl> <nl> public class ForgeHooksClient <nl> @ @ - 510 , 7 + 512 , 7 @ @ public class ForgeHooksClient <nl> } <nl> * / <nl> <nl> - public static void onModelBake ( ModelManager modelManager , IRegistry modelRegistry , ModelBakery modelBakery ) <nl> + public static void onModelBake ( ModelManager modelManager , IRegistry < ModelResourceLocation , IBakedModel > modelRegistry , ModelBakery modelBakery ) <nl> { <nl> ModelLoader loader = ( ModelLoader ) modelBakery ; <nl> MinecraftForge . EVENT _ BUS . post ( new ModelBakeEvent ( modelManager , modelRegistry , loader ) ) ; <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / BlockStateLoader . java b / src / main / java / net / minecraftforge / client / model / BlockStateLoader . java <nl> index cd3e1d2 . . 007fefc 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / BlockStateLoader . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / BlockStateLoader . java <nl> @ @ - 43 , 7 + 43 , 6 @ @ public class BlockStateLoader <nl> * <nl> * @ return Model definition including variants for all known combinations . <nl> * / <nl> - @ SuppressWarnings ( " rawtypes " ) <nl> public static ModelBlockDefinition load ( Reader reader , final Gson vanillaGSON ) <nl> { <nl> try <nl> @ @ - 75 , 7 + 74 , 7 @ @ public class BlockStateLoader <nl> variants . add ( new ModelBlockDefinition . Variants ( entry . getKey ( ) , mcVars ) ) ; <nl> } <nl> <nl> - return new ModelBlockDefinition ( ( Collection ) variants ) ; / / Damn lists being collections ! <nl> + return new ModelBlockDefinition ( variants ) ; <nl> <nl> default : / / Unknown version . . try loading it as normal . <nl> return vanillaGSON . fromJson ( reader , ModelBlockDefinition . class ) ; <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / ForgeBlockStateV1 . java b / src / main / java / net / minecraftforge / client / model / ForgeBlockStateV1 . java <nl> index 59598c2 . . b5ced65 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / ForgeBlockStateV1 . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / ForgeBlockStateV1 . java <nl> @ @ - 534 , 17 + 534 , 29 @ @ public class ForgeBlockStateV1 extends Marker <nl> transform . remove ( " firstperson " ) ; <nl> transforms . put ( TransformType . FIRST _ PERSON , TRSRTransformation . blockCenterToCorner ( t ) ) ; <nl> } <nl> + if ( transform . has ( " head " ) ) <nl> + { <nl> + TRSRTransformation t = context . deserialize ( transform . get ( " head " ) , TRSRTransformation . class ) ; <nl> + transform . remove ( " head " ) ; <nl> + transforms . put ( TransformType . HEAD , TRSRTransformation . blockCenterToCorner ( t ) ) ; <nl> + } <nl> if ( transform . has ( " gui " ) ) <nl> { <nl> TRSRTransformation t = context . deserialize ( transform . get ( " gui " ) , TRSRTransformation . class ) ; <nl> transform . remove ( " gui " ) ; <nl> transforms . put ( TransformType . GUI , TRSRTransformation . blockCenterToCorner ( t ) ) ; <nl> } <nl> - if ( transform . has ( " head " ) ) <nl> + if ( transform . has ( " ground " ) ) <nl> { <nl> - TRSRTransformation t = context . deserialize ( transform . get ( " head " ) , TRSRTransformation . class ) ; <nl> - transform . remove ( " head " ) ; <nl> - transforms . put ( TransformType . HEAD , TRSRTransformation . blockCenterToCorner ( t ) ) ; <nl> + TRSRTransformation t = context . deserialize ( transform . get ( " ground " ) , TRSRTransformation . class ) ; <nl> + transform . remove ( " ground " ) ; <nl> + transforms . put ( TransformType . GROUND , TRSRTransformation . blockCenterToCorner ( t ) ) ; <nl> + } <nl> + if ( transform . has ( " fixed " ) ) <nl> + { <nl> + TRSRTransformation t = context . deserialize ( transform . get ( " fixed " ) , TRSRTransformation . class ) ; <nl> + transform . remove ( " fixed " ) ; <nl> + transforms . put ( TransformType . FIXED , TRSRTransformation . blockCenterToCorner ( t ) ) ; <nl> } <nl> int k = transform . entrySet ( ) . size ( ) ; <nl> if ( transform . has ( " matrix " ) ) k - - ; <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / IFlexibleBakedModel . java b / src / main / java / net / minecraftforge / client / model / IFlexibleBakedModel . java <nl> index e01989a . . 4d921fa 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / IFlexibleBakedModel . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / IFlexibleBakedModel . java <nl> @ @ - 14 , 9 + 14 , 6 @ @ import net . minecraft . util . EnumFacing ; <nl> * / <nl> public interface IFlexibleBakedModel extends IBakedModel <nl> { <nl> - / / non - erased versions of the IBakedModel methods <nl> - List < BakedQuad > getFaceQuads ( EnumFacing side ) ; <nl> - List < BakedQuad > getGeneralQuads ( ) ; <nl> / * <nl> * Specifies the format which BakedQuads ' getVertexData will have . <nl> * / <nl> @ @ - 36 , 13 + 33 , 11 @ @ public interface IFlexibleBakedModel extends IBakedModel <nl> this . format = format ; <nl> } <nl> <nl> - @ SuppressWarnings ( " unchecked " ) <nl> public List < BakedQuad > getFaceQuads ( EnumFacing side ) <nl> { <nl> return parent . getFaceQuads ( side ) ; <nl> } <nl> <nl> - @ SuppressWarnings ( " unchecked " ) <nl> public List < BakedQuad > getGeneralQuads ( ) <nl> { <nl> return parent . getGeneralQuads ( ) ; <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / IPerspectiveAwareModel . java b / src / main / java / net / minecraftforge / client / model / IPerspectiveAwareModel . java <nl> index be4a2ad . . d783267 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / IPerspectiveAwareModel . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / IPerspectiveAwareModel . java <nl> @ @ - 14 , 7 + 14 , 6 @ @ import net . minecraft . util . EnumFacing ; <nl> <nl> import org . apache . commons . lang3 . tuple . Pair ; <nl> <nl> - import com . google . common . collect . ImmutableList ; <nl> import com . google . common . collect . ImmutableMap ; <nl> <nl> / * <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / IPerspectiveState . java b / src / main / java / net / minecraftforge / client / model / IPerspectiveState . java <nl> index 1dbeb77 . . 838090f 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / IPerspectiveState . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / IPerspectiveState . java <nl> @ @ - 38 , 11 + 38 , 10 @ @ public interface IPerspectiveState extends IModelState <nl> private static ImmutableMap < TransformType , IModelState > getMap ( ItemCameraTransforms transforms ) <nl> { <nl> Map < TransformType , IModelState > map = Maps . newHashMap ( ) ; <nl> - map . put ( TransformType . NONE , TRSRTransformation . identity ( ) ) ; <nl> - map . put ( TransformType . THIRD _ PERSON , transforms . thirdPerson ) ; <nl> - map . put ( TransformType . FIRST _ PERSON , transforms . firstPerson ) ; <nl> - map . put ( TransformType . GUI , transforms . gui ) ; <nl> - map . put ( TransformType . HEAD , transforms . head ) ; <nl> + for ( TransformType type : TransformType . values ( ) ) <nl> + { <nl> + map . put ( type , transforms . func _ 181688 _ b ( type ) ) ; <nl> + } <nl> return Maps . immutableEnumMap ( map ) ; <nl> } <nl> <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / ItemLayerModel . java b / src / main / java / net / minecraftforge / client / model / ItemLayerModel . java <nl> index 8930101 . . 396c4e6 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / ItemLayerModel . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / ItemLayerModel . java <nl> @ @ - 3 , 7 + 3 , 6 @ @ package net . minecraftforge . client . model ; <nl> import java . util . Arrays ; <nl> import java . util . Collection ; <nl> import java . util . List ; <nl> - import java . util . Map ; <nl> <nl> import javax . vecmath . Matrix4f ; <nl> import javax . vecmath . Vector4f ; <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / ModelLoader . java b / src / main / java / net / minecraftforge / client / model / ModelLoader . java <nl> index fda3968 . . 4e0fdef 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / ModelLoader . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / ModelLoader . java <nl> @ @ - 38 , 6 + 38 , 7 @ @ import net . minecraft . client . renderer . vertex . DefaultVertexFormats ; <nl> import net . minecraft . client . renderer . vertex . VertexFormat ; <nl> import net . minecraft . client . resources . IResourceManager ; <nl> import net . minecraft . client . resources . model . BuiltInModel ; <nl> + import net . minecraft . client . resources . model . IBakedModel ; <nl> import net . minecraft . client . resources . model . ModelBakery ; <nl> import net . minecraft . client . resources . model . ModelResourceLocation ; <nl> import net . minecraft . client . resources . model . ModelRotation ; <nl> @ @ - 85 , 7 + 86 , 7 @ @ public class ModelLoader extends ModelBakery <nl> } <nl> <nl> @ Override <nl> - public IRegistry setupModelRegistry ( ) <nl> + public IRegistry < ModelResourceLocation , IBakedModel > setupModelRegistry ( ) <nl> { <nl> isLoading = true ; <nl> loadBlocks ( ) ; <nl> @ @ - 717 , 12 + 718 , 12 @ @ public class ModelLoader extends ModelBakery <nl> } <nl> } <nl> <nl> - public void onPostBakeEvent ( IRegistry modelRegistry ) <nl> + public void onPostBakeEvent ( IRegistry < ModelResourceLocation , IBakedModel > modelRegistry ) <nl> { <nl> - Object missingModel = modelRegistry . getObject ( MODEL _ MISSING ) ; <nl> + IBakedModel missingModel = modelRegistry . getObject ( MODEL _ MISSING ) ; <nl> for ( ModelResourceLocation missing : missingVariants ) <nl> { <nl> - Object model = modelRegistry . getObject ( missing ) ; <nl> + IBakedModel model = modelRegistry . getObject ( missing ) ; <nl> if ( model = = null | | model = = missingModel ) <nl> { <nl> FMLLog . severe ( " Model definition for location % s not found " , missing ) ; <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / b3d / B3DModel . java b / src / main / java / net / minecraftforge / client / model / b3d / B3DModel . java <nl> index c9b889a . . 60af648 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / b3d / B3DModel . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / b3d / B3DModel . java <nl> @ @ - 185 , 12 + 185 , 12 @ @ public class B3DModel <nl> { <nl> chunk ( " BB3D " ) ; <nl> int version = buf . getInt ( ) ; <nl> - if ( version / 100 > this . version / 100 ) <nl> + if ( version / 100 > Parser . version / 100 ) <nl> throw new IOException ( " Unsupported major model version : " + ( ( float ) version / 100 ) ) ; <nl> - if ( version % 100 > this . version % 100 ) <nl> + if ( version % 100 > Parser . version % 100 ) <nl> logger . warn ( String . format ( " Minor version differnce in model : " , ( ( float ) version / 100 ) ) ) ; <nl> - List < Texture > textures = Collections . EMPTY _ LIST ; <nl> - List < Brush > brushes = Collections . EMPTY _ LIST ; <nl> + List < Texture > textures = Collections . emptyList ( ) ; <nl> + List < Brush > brushes = Collections . emptyList ( ) ; <nl> Node < ? > root = null ; <nl> while ( buf . hasRemaining ( ) ) <nl> { <nl> @ @ - 400 , 7 + 400 , 6 @ @ public class B3DModel <nl> chunk ( " NODE " ) ; <nl> animations . push ( HashBasedTable . < Integer , Optional < Node < ? > > , Key > create ( ) ) ; <nl> Triple < Integer , Integer , Float > animData = null ; <nl> - Animation animation = null ; <nl> Pair < Brush , List < Face > > mesh = null ; <nl> List < Pair < Vertex , Float > > bone = null ; <nl> Map < Integer , Key > keys = new HashMap < Integer , Key > ( ) ;

TEST DIFF:
diff - - git a / patches / minecraft / net / minecraft / client / renderer / BlockModelRenderer . java . patch b / patches / minecraft / net / minecraft / client / renderer / BlockModelRenderer . java . patch 
 index 2637d75 . . fc77349 100644 
 - - - a / patches / minecraft / net / minecraft / client / renderer / BlockModelRenderer . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / renderer / BlockModelRenderer . java . patch 
 @ @ - 5 , 7 + 5 , 7 @ @ 
 public boolean func _ 187493 _ a ( IBlockAccess p _ 187493 _ 1 _ , IBakedModel p _ 187493 _ 2 _ , IBlockState p _ 187493 _ 3 _ , BlockPos p _ 187493 _ 4 _ , BufferBuilder p _ 187493 _ 5 _ , boolean p _ 187493 _ 6 _ , long p _ 187493 _ 7 _ ) 
 { 
 - boolean flag = Minecraft . func _ 71379 _ u ( ) & & p _ 187493 _ 3 _ . func _ 185906 _ d ( ) = = 0 & & p _ 187493 _ 2 _ . func _ 177555 _ b ( ) ; 
 - + boolean flag = Minecraft . func _ 71379 _ u ( ) & & p _ 187493 _ 3 _ . getLightValue ( p _ 187493 _ 1 _ , p _ 187493 _ 4 _ ) = = 0 & & p _ 187493 _ 2 _ . func _ 177555 _ b ( ) ; 
 + + boolean flag = Minecraft . func _ 71379 _ u ( ) & & p _ 187493 _ 3 _ . getLightValue ( p _ 187493 _ 1 _ , p _ 187493 _ 4 _ ) = = 0 & & p _ 187493 _ 2 _ . isAmbientOcclusion ( p _ 187493 _ 3 _ ) ; 
 
 try 
 { 
 diff - - git a / patches / minecraft / net / minecraft / client / renderer / block / model / IBakedModel . java . patch b / patches / minecraft / net / minecraft / client / renderer / block / model / IBakedModel . java . patch 
 index 1715d81 . . 033f7d8 100644 
 - - - a / patches / minecraft / net / minecraft / client / renderer / block / model / IBakedModel . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / renderer / block / model / IBakedModel . java . patch 
 @ @ - 1 , 6 + 1 , 6 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / client / renderer / block / model / IBakedModel . java 
 + + + . . / src - work / minecraft / net / minecraft / client / renderer / block / model / IBakedModel . java 
 - @ @ - 21 , 7 + 21 , 16 @ @ 
 + @ @ - 21 , 7 + 21 , 18 @ @ 
 
 TextureAtlasSprite func _ 177554 _ e ( ) ; 
 
 @ @ - 10 , 6 + 10 , 8 @ @ 
 
 ItemOverrideList func _ 188617 _ f ( ) ; 
 + 
 + + default boolean isAmbientOcclusion ( IBlockState state ) { return func _ 177555 _ b ( ) ; } 
 + + 
 + / * 
 + * Returns the pair of the model for the given perspective , and the matrix 
 + * that should be applied to the GL state before rendering it ( matrix may be null ) . 
 diff - - git a / patches / minecraft / net / minecraft / client / renderer / block / model / SimpleBakedModel . java . patch b / patches / minecraft / net / minecraft / client / renderer / block / model / SimpleBakedModel . java . patch 
 new file mode 100644 
 index 0000000 . . 85c04be 
 - - - / dev / null 
 + + + b / patches / minecraft / net / minecraft / client / renderer / block / model / SimpleBakedModel . java . patch 
 @ @ - 0 , 0 + 1 , 11 @ @ 
 + - - - . . / src - base / minecraft / net / minecraft / client / renderer / block / model / SimpleBakedModel . java 
 + + + + . . / src - work / minecraft / net / minecraft / client / renderer / block / model / SimpleBakedModel . java 
 + @ @ - 88 , 7 + 88 , 7 @ @ 
 + 
 + public Builder ( IBlockState p _ i46989 _ 1 _ , IBakedModel p _ i46989 _ 2 _ , TextureAtlasSprite p _ i46989 _ 3 _ , BlockPos p _ i46989 _ 4 _ ) 
 + { 
 + - this ( p _ i46989 _ 2 _ . func _ 177555 _ b ( ) , p _ i46989 _ 2 _ . func _ 177556 _ c ( ) , p _ i46989 _ 2 _ . func _ 177552 _ f ( ) , p _ i46989 _ 2 _ . func _ 188617 _ f ( ) ) ; 
 + + this ( p _ i46989 _ 2 _ . isAmbientOcclusion ( p _ i46989 _ 1 _ ) , p _ i46989 _ 2 _ . func _ 177556 _ c ( ) , p _ i46989 _ 2 _ . func _ 177552 _ f ( ) , p _ i46989 _ 2 _ . func _ 188617 _ f ( ) ) ; 
 + this . field _ 177652 _ d = p _ i46989 _ 2 _ . func _ 177554 _ e ( ) ; 
 + long i = MathHelper . func _ 180186 _ a ( p _ i46989 _ 4 _ ) ; 
 + 
 diff - - git a / patches / minecraft / net / minecraft / client / renderer / block / model / WeightedBakedModel . java . patch b / patches / minecraft / net / minecraft / client / renderer / block / model / WeightedBakedModel . java . patch 
 new file mode 100644 
 index 0000000 . . aebad79 
 - - - / dev / null 
 + + + b / patches / minecraft / net / minecraft / client / renderer / block / model / WeightedBakedModel . java . patch 
 @ @ - 0 , 0 + 1 , 11 @ @ 
 + - - - . . / src - base / minecraft / net / minecraft / client / renderer / block / model / WeightedBakedModel . java 
 + + + + . . / src - work / minecraft / net / minecraft / client / renderer / block / model / WeightedBakedModel . java 
 + @ @ - 41 , 6 + 41 , 8 @ @ 
 + return this . field _ 177566 _ c . func _ 177555 _ b ( ) ; 
 + } 
 + 
 + + public boolean isAmbientOcclusion ( IBlockState state ) { return this . field _ 177566 _ c . isAmbientOcclusion ( state ) ; } 
 + + 
 + public boolean func _ 177556 _ c ( ) 
 + { 
 + return this . field _ 177566 _ c . func _ 177556 _ c ( ) ; 
 diff - - git a / src / main / java / net / minecraftforge / client / model / BakedModelWrapper . java b / src / main / java / net / minecraftforge / client / model / BakedModelWrapper . java 
 index 1e14bd0 . . 3fe9227 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / BakedModelWrapper . java 
 + + + b / src / main / java / net / minecraftforge / client / model / BakedModelWrapper . java 
 @ @ - 53 , 6 + 53 , 12 @ @ public abstract class BakedModelWrapper < T extends IBakedModel > implements IBaked 
 } 
 
 @ Override 
 + public boolean isAmbientOcclusion ( IBlockState state ) 
 + { 
 + return originalModel . isAmbientOcclusion ( state ) ; 
 + } 
 + 
 + @ Override 
 public boolean isGui3d ( ) 
 { 
 return originalModel . isGui3d ( ) ; 
 diff - - git a / src / main / java / net / minecraftforge / client / model / MultiLayerModel . java b / src / main / java / net / minecraftforge / client / model / MultiLayerModel . java 
 index 5d45059 . . b3deb51 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / MultiLayerModel . java 
 + + + b / src / main / java / net / minecraftforge / client / model / MultiLayerModel . java 
 @ @ - 182 , 6 + 182 , 12 @ @ public final class MultiLayerModel implements IModel 
 } 
 
 @ Override 
 + public boolean isAmbientOcclusion ( IBlockState state ) 
 + { 
 + return base . isAmbientOcclusion ( state ) ; 
 + } 
 + 
 + @ Override 
 public boolean isGui3d ( ) 
 { 
 return base . isGui3d ( ) ; 
 diff - - git a / src / main / java / net / minecraftforge / client / model / MultiModel . java b / src / main / java / net / minecraftforge / client / model / MultiModel . java 
 index 968b9cb . . 34e0105 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / MultiModel . java 
 + + + b / src / main / java / net / minecraftforge / client / model / MultiModel . java 
 @ @ - 155 , 6 + 155 , 12 @ @ public final class MultiModel implements IModel 
 } 
 
 @ Override 
 + public boolean isAmbientOcclusion ( IBlockState state ) 
 + { 
 + return internalBase . isAmbientOcclusion ( state ) ; 
 + } 
 + 
 + @ Override 
 public boolean isGui3d ( ) 
 { 
 return internalBase . isGui3d ( ) ; 
 diff - - git a / src / main / java / net / minecraftforge / client / model / PerspectiveMapWrapper . java b / src / main / java / net / minecraftforge / client / model / PerspectiveMapWrapper . java 
 index b4d062e . . 6690397 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / PerspectiveMapWrapper . java 
 + + + b / src / main / java / net / minecraftforge / client / model / PerspectiveMapWrapper . java 
 @ @ - 82 , 14 + 82 , 15 @ @ public class PerspectiveMapWrapper implements IBakedModel 
 return Pair . of ( model , null ) ; 
 } 
 
 - public boolean isAmbientOcclusion ( ) { return parent . isAmbientOcclusion ( ) ; } 
 - public boolean isGui3d ( ) { return parent . isGui3d ( ) ; } 
 - public boolean isBuiltInRenderer ( ) { return parent . isBuiltInRenderer ( ) ; } 
 - public TextureAtlasSprite getParticleTexture ( ) { return parent . getParticleTexture ( ) ; } 
 + @ Override public boolean isAmbientOcclusion ( ) { return parent . isAmbientOcclusion ( ) ; } 
 + @ Override public boolean isAmbientOcclusion ( IBlockState state ) { return parent . isAmbientOcclusion ( state ) ; } 
 + @ Override public boolean isGui3d ( ) { return parent . isGui3d ( ) ; } 
 + @ Override public boolean isBuiltInRenderer ( ) { return parent . isBuiltInRenderer ( ) ; } 
 + @ Override public TextureAtlasSprite getParticleTexture ( ) { return parent . getParticleTexture ( ) ; } 
 @ SuppressWarnings ( " deprecation " ) 
 - public ItemCameraTransforms getItemCameraTransforms ( ) { return parent . getItemCameraTransforms ( ) ; } 
 - public List < BakedQuad > getQuads ( @ Nullable IBlockState state , @ Nullable EnumFacing side , long rand ) { return parent . getQuads ( state , side , rand ) ; } 
 - public ItemOverrideList getOverrides ( ) { return parent . getOverrides ( ) ; } 
 + @ Override public ItemCameraTransforms getItemCameraTransforms ( ) { return parent . getItemCameraTransforms ( ) ; } 
 + @ Override public List < BakedQuad > getQuads ( @ Nullable IBlockState state , @ Nullable EnumFacing side , long rand ) { return parent . getQuads ( state , side , rand ) ; } 
 + @ Override public ItemOverrideList getOverrides ( ) { return parent . getOverrides ( ) ; } 
 
 @ Override 
 public Pair < ? extends IBakedModel , Matrix4f > handlePerspective ( ItemCameraTransforms . TransformType cameraTransformType )

NEAREST DIFF:
diff - - git a / patches / minecraft / net / minecraft / client / resources / model / IBakedModel . java . patch b / patches / minecraft / net / minecraft / client / resources / model / IBakedModel . java . patch 
 index 94444e8 . . d032f72 100644 
 - - - a / patches / minecraft / net / minecraft / client / resources / model / IBakedModel . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / resources / model / IBakedModel . java . patch 
 @ @ - 1 , 18 + 1 , 6 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / client / resources / model / IBakedModel . java 
 + + + . . / src - work / minecraft / net / minecraft / client / resources / model / IBakedModel . java 
 - @ @ - 8 , 7 + 8 , 11 @ @ 
 - import net . minecraftforge . fml . relauncher . Side ; 
 - import net . minecraftforge . fml . relauncher . SideOnly ; 
 - 
 - + / * 
 - + * @ deprecated use { @ link net . minecraftforge . client . model . IFlexibleBakedModel } , { @ link net . minecraftforge . client . model . IPerspectiveAwareModel } 
 - + * / 
 - @ SideOnly ( Side . CLIENT ) 
 - + @ Deprecated 
 - public interface IBakedModel 
 - { 
 - List < BakedQuad > getFaceQuads ( EnumFacing p _ 177551 _ 1 _ ) ; 
 - @ @ - 23 , 5 + 27 , 6 @ @ 
 + @ @ - 23 , 5 + 23 , 6 @ @ 
 
 TextureAtlasSprite getTexture ( ) ; 
 
 diff - - git a / src / main / java / net / minecraftforge / client / ForgeHooksClient . java b / src / main / java / net / minecraftforge / client / ForgeHooksClient . java 
 index 2fc9623 . . 2b58dee 100644 
 - - - a / src / main / java / net / minecraftforge / client / ForgeHooksClient . java 
 + + + b / src / main / java / net / minecraftforge / client / ForgeHooksClient . java 
 @ @ - 42 , 6 + 42 , 7 @ @ import net . minecraft . client . resources . I18n ; 
 import net . minecraft . client . resources . model . IBakedModel ; 
 import net . minecraft . client . resources . model . ModelBakery ; 
 import net . minecraft . client . resources . model . ModelManager ; 
 + import net . minecraft . client . resources . model . ModelResourceLocation ; 
 import net . minecraft . client . resources . model . ModelRotation ; 
 import net . minecraft . client . settings . GameSettings ; 
 import net . minecraft . entity . Entity ; 
 @ @ - 90 , 6 + 91 , 7 @ @ import org . lwjgl . opengl . GL11 ; 
 
 
 
 + 
 import com . google . common . collect . Maps ; 
 
 public class ForgeHooksClient 
 @ @ - 510 , 7 + 512 , 7 @ @ public class ForgeHooksClient 
 } 
 * / 
 
 - public static void onModelBake ( ModelManager modelManager , IRegistry modelRegistry , ModelBakery modelBakery ) 
 + public static void onModelBake ( ModelManager modelManager , IRegistry < ModelResourceLocation , IBakedModel > modelRegistry , ModelBakery modelBakery ) 
 { 
 ModelLoader loader = ( ModelLoader ) modelBakery ; 
 MinecraftForge . EVENT _ BUS . post ( new ModelBakeEvent ( modelManager , modelRegistry , loader ) ) ; 
 diff - - git a / src / main / java / net / minecraftforge / client / model / BlockStateLoader . java b / src / main / java / net / minecraftforge / client / model / BlockStateLoader . java 
 index cd3e1d2 . . 007fefc 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / BlockStateLoader . java 
 + + + b / src / main / java / net / minecraftforge / client / model / BlockStateLoader . java 
 @ @ - 43 , 7 + 43 , 6 @ @ public class BlockStateLoader 
 * 
 * @ return Model definition including variants for all known combinations . 
 * / 
 - @ SuppressWarnings ( " rawtypes " ) 
 public static ModelBlockDefinition load ( Reader reader , final Gson vanillaGSON ) 
 { 
 try 
 @ @ - 75 , 7 + 74 , 7 @ @ public class BlockStateLoader 
 variants . add ( new ModelBlockDefinition . Variants ( entry . getKey ( ) , mcVars ) ) ; 
 } 
 
 - return new ModelBlockDefinition ( ( Collection ) variants ) ; / / Damn lists being collections ! 
 + return new ModelBlockDefinition ( variants ) ; 
 
 default : / / Unknown version . . try loading it as normal . 
 return vanillaGSON . fromJson ( reader , ModelBlockDefinition . class ) ; 
 diff - - git a / src / main / java / net / minecraftforge / client / model / ForgeBlockStateV1 . java b / src / main / java / net / minecraftforge / client / model / ForgeBlockStateV1 . java 
 index 59598c2 . . b5ced65 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / ForgeBlockStateV1 . java 
 + + + b / src / main / java / net / minecraftforge / client / model / ForgeBlockStateV1 . java 
 @ @ - 534 , 17 + 534 , 29 @ @ public class ForgeBlockStateV1 extends Marker 
 transform . remove ( " firstperson " ) ; 
 transforms . put ( TransformType . FIRST _ PERSON , TRSRTransformation . blockCenterToCorner ( t ) ) ; 
 } 
 + if ( transform . has ( " head " ) ) 
 + { 
 + TRSRTransformation t = context . deserialize ( transform . get ( " head " ) , TRSRTransformation . class ) ; 
 + transform . remove ( " head " ) ; 
 + transforms . put ( TransformType . HEAD , TRSRTransformation . blockCenterToCorner ( t ) ) ; 
 + } 
 if ( transform . has ( " gui " ) ) 
 { 
 TRSRTransformation t = context . deserialize ( transform . get ( " gui " ) , TRSRTransformation . class ) ; 
 transform . remove ( " gui " ) ; 
 transforms . put ( TransformType . GUI , TRSRTransformation . blockCenterToCorner ( t ) ) ; 
 } 
 - if ( transform . has ( " head " ) ) 
 + if ( transform . has ( " ground " ) ) 
 { 
 - TRSRTransformation t = context . deserialize ( transform . get ( " head " ) , TRSRTransformation . class ) ; 
 - transform . remove ( " head " ) ; 
 - transforms . put ( TransformType . HEAD , TRSRTransformation . blockCenterToCorner ( t ) ) ; 
 + TRSRTransformation t = context . deserialize ( transform . get ( " ground " ) , TRSRTransformation . class ) ; 
 + transform . remove ( " ground " ) ; 
 + transforms . put ( TransformType . GROUND , TRSRTransformation . blockCenterToCorner ( t ) ) ; 
 + } 
 + if ( transform . has ( " fixed " ) ) 
 + { 
 + TRSRTransformation t = context . deserialize ( transform . get ( " fixed " ) , TRSRTransformation . class ) ; 
 + transform . remove ( " fixed " ) ; 
 + transforms . put ( TransformType . FIXED , TRSRTransformation . blockCenterToCorner ( t ) ) ; 
 } 
 int k = transform . entrySet ( ) . size ( ) ; 
 if ( transform . has ( " matrix " ) ) k - - ; 
 diff - - git a / src / main / java / net / minecraftforge / client / model / IFlexibleBakedModel . java b / src / main / java / net / minecraftforge / client / model / IFlexibleBakedModel . java 
 index e01989a . . 4d921fa 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / IFlexibleBakedModel . java 
 + + + b / src / main / java / net / minecraftforge / client / model / IFlexibleBakedModel . java 
 @ @ - 14 , 9 + 14 , 6 @ @ import net . minecraft . util . EnumFacing ; 
 * / 
 public interface IFlexibleBakedModel extends IBakedModel 
 { 
 - / / non - erased versions of the IBakedModel methods 
 - List < BakedQuad > getFaceQuads ( EnumFacing side ) ; 
 - List < BakedQuad > getGeneralQuads ( ) ; 
 / * 
 * Specifies the format which BakedQuads ' getVertexData will have . 
 * / 
 @ @ - 36 , 13 + 33 , 11 @ @ public interface IFlexibleBakedModel extends IBakedModel 
 this . format = format ; 
 } 
 
 - @ SuppressWarnings ( " unchecked " ) 
 public List < BakedQuad > getFaceQuads ( EnumFacing side ) 
 { 
 return parent . getFaceQuads ( side ) ; 
 } 
 
 - @ SuppressWarnings ( " unchecked " ) 
 public List < BakedQuad > getGeneralQuads ( ) 
 { 
 return parent . getGeneralQuads ( ) ; 
 diff - - git a / src / main / java / net / minecraftforge / client / model / IPerspectiveAwareModel . java b / src / main / java / net / minecraftforge / client / model / IPerspectiveAwareModel . java 
 index be4a2ad . . d783267 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / IPerspectiveAwareModel . java 
 + + + b / src / main / java / net / minecraftforge / client / model / IPerspectiveAwareModel . java 
 @ @ - 14 , 7 + 14 , 6 @ @ import net . minecraft . util . EnumFacing ; 
 
 import org . apache . commons . lang3 . tuple . Pair ; 
 
 - import com . google . common . collect . ImmutableList ; 
 import com . google . common . collect . ImmutableMap ; 
 
 / * 
 diff - - git a / src / main / java / net / minecraftforge / client / model / IPerspectiveState . java b / src / main / java / net / minecraftforge / client / model / IPerspectiveState . java 
 index 1dbeb77 . . 838090f 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / IPerspectiveState . java 
 + + + b / src / main / java / net / minecraftforge / client / model / IPerspectiveState . java 
 @ @ - 38 , 11 + 38 , 10 @ @ public interface IPerspectiveState extends IModelState 
 private static ImmutableMap < TransformType , IModelState > getMap ( ItemCameraTransforms transforms ) 
 { 
 Map < TransformType , IModelState > map = Maps . newHashMap ( ) ; 
 - map . put ( TransformType . NONE , TRSRTransformation . identity ( ) ) ; 
 - map . put ( TransformType . THIRD _ PERSON , transforms . thirdPerson ) ; 
 - map . put ( TransformType . FIRST _ PERSON , transforms . firstPerson ) ; 
 - map . put ( TransformType . GUI , transforms . gui ) ; 
 - map . put ( TransformType . HEAD , transforms . head ) ; 
 + for ( TransformType type : TransformType . values ( ) ) 
 + { 
 + map . put ( type , transforms . func _ 181688 _ b ( type ) ) ; 
 + } 
 return Maps . immutableEnumMap ( map ) ; 
 } 
 
 diff - - git a / src / main / java / net / minecraftforge / client / model / ItemLayerModel . java b / src / main / java / net / minecraftforge / client / model / ItemLayerModel . java 
 index 8930101 . . 396c4e6 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / ItemLayerModel . java 
 + + + b / src / main / java / net / minecraftforge / client / model / ItemLayerModel . java 
 @ @ - 3 , 7 + 3 , 6 @ @ package net . minecraftforge . client . model ; 
 import java . util . Arrays ; 
 import java . util . Collection ; 
 import java . util . List ; 
 - import java . util . Map ; 
 
 import javax . vecmath . Matrix4f ; 
 import javax . vecmath . Vector4f ; 
 diff - - git a / src / main / java / net / minecraftforge / client / model / ModelLoader . java b / src / main / java / net / minecraftforge / client / model / ModelLoader . java 
 index fda3968 . . 4e0fdef 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / ModelLoader . java 
 + + + b / src / main / java / net / minecraftforge / client / model / ModelLoader . java 
 @ @ - 38 , 6 + 38 , 7 @ @ import net . minecraft . client . renderer . vertex . DefaultVertexFormats ; 
 import net . minecraft . client . renderer . vertex . VertexFormat ; 
 import net . minecraft . client . resources . IResourceManager ; 
 import net . minecraft . client . resources . model . BuiltInModel ; 
 + import net . minecraft . client . resources . model . IBakedModel ; 
 import net . minecraft . client . resources . model . ModelBakery ; 
 import net . minecraft . client . resources . model . ModelResourceLocation ; 
 import net . minecraft . client . resources . model . ModelRotation ; 
 @ @ - 85 , 7 + 86 , 7 @ @ public class ModelLoader extends ModelBakery 
 } 
 
 @ Override 
 - public IRegistry setupModelRegistry ( ) 
 + public IRegistry < ModelResourceLocation , IBakedModel > setupModelRegistry ( ) 
 { 
 isLoading = true ; 
 loadBlocks ( ) ; 
 @ @ - 717 , 12 + 718 , 12 @ @ public class ModelLoader extends ModelBakery 
 } 
 } 
 
 - public void onPostBakeEvent ( IRegistry modelRegistry ) 
 + public void onPostBakeEvent ( IRegistry < ModelResourceLocation , IBakedModel > modelRegistry ) 
 { 
 - Object missingModel = modelRegistry . getObject ( MODEL _ MISSING ) ; 
 + IBakedModel missingModel = modelRegistry . getObject ( MODEL _ MISSING ) ; 
 for ( ModelResourceLocation missing : missingVariants ) 
 { 
 - Object model = modelRegistry . getObject ( missing ) ; 
 + IBakedModel model = modelRegistry . getObject ( missing ) ; 
 if ( model = = null | | model = = missingModel ) 
 { 
 FMLLog . severe ( " Model definition for location % s not found " , missing ) ; 
 diff - - git a / src / main / java / net / minecraftforge / client / model / b3d / B3DModel . java b / src / main / java / net / minecraftforge / client / model / b3d / B3DModel . java 
 index c9b889a . . 60af648 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / b3d / B3DModel . java 
 + + + b / src / main / java / net / minecraftforge / client / model / b3d / B3DModel . java 
 @ @ - 185 , 12 + 185 , 12 @ @ public class B3DModel 
 { 
 chunk ( " BB3D " ) ; 
 int version = buf . getInt ( ) ; 
 - if ( version / 100 > this . version / 100 ) 
 + if ( version / 100 > Parser . version / 100 ) 
 throw new IOException ( " Unsupported major model version : " + ( ( float ) version / 100 ) ) ; 
 - if ( version % 100 > this . version % 100 ) 
 + if ( version % 100 > Parser . version % 100 ) 
 logger . warn ( String . format ( " Minor version differnce in model : " , ( ( float ) version / 100 ) ) ) ; 
 - List < Texture > textures = Collections . EMPTY _ LIST ; 
 - List < Brush > brushes = Collections . EMPTY _ LIST ; 
 + List < Texture > textures = Collections . emptyList ( ) ; 
 + List < Brush > brushes = Collections . emptyList ( ) ; 
 Node < ? > root = null ; 
 while ( buf . hasRemaining ( ) ) 
 { 
 @ @ - 400 , 7 + 400 , 6 @ @ public class B3DModel 
 chunk ( " NODE " ) ; 
 animations . push ( HashBasedTable . < Integer , Optional < Node < ? > > , Key > create ( ) ) ; 
 Triple < Integer , Integer , Float > animData = null ; 
 - Animation animation = null ; 
 Pair < Brush , List < Face > > mesh = null ; 
 List < Pair < Vertex , Float > > bone = null ; 
 Map < Integer , Key > keys = new HashMap < Integer , Key > ( ) ;
