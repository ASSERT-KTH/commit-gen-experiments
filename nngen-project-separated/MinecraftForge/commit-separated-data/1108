BLEU SCORE: 0.021476912089159066

TEST MSG: MinecraftForge / FML @ 6b0ae369eb9b8cf89eb9d53fe997a6e5ef222093 Try and improve performance of the registry by avoiding superType . cast .
GENERATED MSG: And fix firing for single player loading .

TEST DIFF (one line): diff - - git a / fml b / fml <nl> index 1112c45 . . 6edc163 160000 <nl> - - - a / fml <nl> + + + b / fml <nl> @ @ - 1 + 1 @ @ <nl> - Subproject commit 1112c455b9758c38eab385f48578bad17c0180f9 <nl> + Subproject commit 6edc1635de163c41b6b5dfe02bee13d6a9c5aa4d <nl> diff - - git a / patches / minecraft / net / minecraft / client / network / NetHandlerPlayClient . java . patch b / patches / minecraft / net / minecraft / client / network / NetHandlerPlayClient . java . patch <nl> index 365c394 . . b3d3008 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / network / NetHandlerPlayClient . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / network / NetHandlerPlayClient . java . patch <nl> @ @ - 1 , 6 + 1 , 6 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / client / network / NetHandlerPlayClient . java <nl> + + + . . / src - work / minecraft / net / minecraft / client / network / NetHandlerPlayClient . java <nl> - @ @ - 195 , 6 + 195 , 8 @ @ <nl> + @ @ - 196 , 6 + 196 , 8 @ @ <nl> import net . minecraft . world . storage . ISaveHandler ; <nl> import net . minecraft . world . storage . MapData ; <nl> import net . minecraft . world . storage . MapStorage ; <nl> @ @ - 9 , 7 + 9 , 7 @ @ <nl> import org . apache . logging . log4j . LogManager ; <nl> import org . apache . logging . log4j . Logger ; <nl> <nl> - @ @ - 389 , 7 + 391 , 8 @ @ <nl> + @ @ - 390 , 7 + 392 , 8 @ @ <nl> <nl> public void func _ 147286 _ a ( S11PacketSpawnExperienceOrb p _ 147286 _ 1 _ ) <nl> { <nl> @ @ - 19 , 7 + 19 , 7 @ @ <nl> entityxporb . field _ 70118 _ ct = p _ 147286 _ 1 _ . func _ 148984 _ d ( ) ; <nl> entityxporb . field _ 70117 _ cu = p _ 147286 _ 1 _ . func _ 148983 _ e ( ) ; <nl> entityxporb . field _ 70116 _ cv = p _ 147286 _ 1 _ . func _ 148982 _ f ( ) ; <nl> - @ @ - 686 , 7 + 689 , 11 @ @ <nl> + @ @ - 687 , 7 + 690 , 11 @ @ <nl> <nl> public void func _ 147251 _ a ( S02PacketChat p _ 147251 _ 1 _ ) <nl> { <nl> @ @ - 32 , 7 + 32 , 7 @ @ <nl> } <nl> <nl> public void func _ 147279 _ a ( S0BPacketAnimation p _ 147279 _ 1 _ ) <nl> - @ @ - 1126 , 6 + 1133 , 10 @ @ <nl> + @ @ - 1127 , 6 + 1134 , 10 @ @ <nl> { <nl> tileentity . func _ 145839 _ a ( p _ 147273 _ 1 _ . func _ 148857 _ g ( ) ) ; <nl> } <nl> diff - - git a / patches / minecraft / net / minecraft / server / management / ServerConfigurationManager . java . patch b / patches / minecraft / net / minecraft / server / management / ServerConfigurationManager . java . patch <nl> index 0f03097 . . a959f9d 100644 <nl> - - - a / patches / minecraft / net / minecraft / server / management / ServerConfigurationManager . java . patch <nl> + + + b / patches / minecraft / net / minecraft / server / management / ServerConfigurationManager . java . patch <nl> @ @ - 1 , 6 + 1 , 6 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / server / management / ServerConfigurationManager . java <nl> + + + . . / src - work / minecraft / net / minecraft / server / management / ServerConfigurationManager . java <nl> - @ @ - 55 , 11 + 55 , 15 @ @ <nl> + @ @ - 55 , 12 + 55 , 15 @ @ <nl> import net . minecraft . util . EnumChatFormatting ; <nl> import net . minecraft . util . IChatComponent ; <nl> import net . minecraft . util . MathHelper ; <nl> @ @ - 11 , 12 + 11 , 12 @ @ <nl> import net . minecraft . world . WorldSettings ; <nl> import net . minecraft . world . demo . DemoWorldManager ; <nl> import net . minecraft . world . storage . IPlayerFileData ; <nl> + import net . minecraft . world . storage . SaveHandler ; <nl> + import net . minecraftforge . common . chunkio . ChunkIOExecutor ; <nl> - + <nl> import org . apache . logging . log4j . LogManager ; <nl> import org . apache . logging . log4j . Logger ; <nl> <nl> - @ @ - 108 , 7 + 112 , 17 @ @ <nl> + @ @ - 109 , 7 + 112 , 17 @ @ <nl> String s = gameprofile1 = = null ? gameprofile . getName ( ) : gameprofile1 . getName ( ) ; <nl> playerprofilecache . func _ 152649 _ a ( gameprofile ) ; <nl> NBTTagCompound nbttagcompound = this . func _ 72380 _ a ( p _ 72355 _ 2 _ ) ; <nl> @ @ - 35 , 7 + 35 , 7 @ @ <nl> p _ 72355 _ 2 _ . field _ 71134 _ c . func _ 73080 _ a ( ( WorldServer ) p _ 72355 _ 2 _ . field _ 70170 _ p ) ; <nl> String s1 = " local " ; <nl> <nl> - @ @ - 242 , 6 + 256 , 7 @ @ <nl> + @ @ - 243 , 6 + 256 , 7 @ @ <nl> p _ 72380 _ 1 _ . func _ 70020 _ e ( nbttagcompound ) ; <nl> nbttagcompound1 = nbttagcompound ; <nl> field _ 148546 _ d . debug ( " loading single player " ) ; <nl> @ @ - 43 , 7 + 43 , 7 @ @ <nl> } <nl> else <nl> { <nl> - @ @ - 269 , 6 + 284 , 7 @ @ <nl> + @ @ - 283 , 6 + 297 , 7 @ @ <nl> this . func _ 148540 _ a ( new S38PacketPlayerListItem ( p _ 72377 _ 1 _ . func _ 70005 _ c _ ( ) , true , 1000 ) ) ; <nl> this . field _ 72404 _ b . add ( p _ 72377 _ 1 _ ) ; <nl> WorldServer worldserver = this . field _ 72400 _ f . func _ 71218 _ a ( p _ 72377 _ 1 _ . field _ 71093 _ bK ) ; <nl> @ @ - 51 , 7 + 51 , 7 @ @ <nl> worldserver . func _ 72838 _ d ( p _ 72377 _ 1 _ ) ; <nl> this . func _ 72375 _ a ( p _ 72377 _ 1 _ , ( WorldServer ) null ) ; <nl> <nl> - @ @ - 301 , 6 + 317 , 7 @ @ <nl> + @ @ - 315 , 6 + 330 , 7 @ @ <nl> worldserver . func _ 73040 _ p ( ) . func _ 72695 _ c ( p _ 72367 _ 1 _ ) ; <nl> this . field _ 72404 _ b . remove ( p _ 72367 _ 1 _ ) ; <nl> this . field _ 148547 _ k . remove ( p _ 72367 _ 1 _ . func _ 110124 _ au ( ) ) ; <nl> @ @ - 59 , 7 + 59 , 7 @ @ <nl> this . func _ 148540 _ a ( new S38PacketPlayerListItem ( p _ 72367 _ 1 _ . func _ 70005 _ c _ ( ) , false , 9999 ) ) ; <nl> } <nl> <nl> - @ @ - 382 , 13 + 399 , 23 @ @ <nl> + @ @ - 396 , 13 + 412 , 23 @ @ <nl> <nl> public EntityPlayerMP func _ 72368 _ a ( EntityPlayerMP p _ 72368 _ 1 _ , int p _ 72368 _ 2 _ , boolean p _ 72368 _ 3 _ ) <nl> { <nl> @ @ - 85 , 7 + 85 , 7 @ @ <nl> p _ 72368 _ 1 _ . field _ 71093 _ bK = p _ 72368 _ 2 _ ; <nl> Object object ; <nl> <nl> - @ @ - 404 , 6 + 431 , 7 @ @ <nl> + @ @ - 418 , 6 + 444 , 7 @ @ <nl> EntityPlayerMP entityplayermp1 = new EntityPlayerMP ( this . field _ 72400 _ f , this . field _ 72400 _ f . func _ 71218 _ a ( p _ 72368 _ 1 _ . field _ 71093 _ bK ) , p _ 72368 _ 1 _ . func _ 146103 _ bH ( ) , ( ItemInWorldManager ) object ) ; <nl> entityplayermp1 . field _ 71135 _ a = p _ 72368 _ 1 _ . field _ 71135 _ a ; <nl> entityplayermp1 . func _ 71049 _ a ( p _ 72368 _ 1 _ , p _ 72368 _ 3 _ ) ; <nl> @ @ - 93 , 7 + 93 , 7 @ @ <nl> entityplayermp1 . func _ 145769 _ d ( p _ 72368 _ 1 _ . func _ 145782 _ y ( ) ) ; <nl> WorldServer worldserver = this . field _ 72400 _ f . func _ 71218 _ a ( p _ 72368 _ 1 _ . field _ 71093 _ bK ) ; <nl> this . func _ 72381 _ a ( entityplayermp1 , p _ 72368 _ 1 _ , worldserver ) ; <nl> - @ @ - 448 , 14 + 476 , 19 @ @ <nl> + @ @ - 462 , 14 + 489 , 19 @ @ <nl> <nl> public void func _ 72356 _ a ( EntityPlayerMP p _ 72356 _ 1 _ , int p _ 72356 _ 2 _ ) <nl> { <nl> @ @ - 115 , 7 + 115 , 7 @ @ <nl> this . func _ 72375 _ a ( p _ 72356 _ 1 _ , worldserver ) ; <nl> p _ 72356 _ 1 _ . field _ 71135 _ a . func _ 147364 _ a ( p _ 72356 _ 1 _ . field _ 70165 _ t , p _ 72356 _ 1 _ . field _ 70163 _ u , p _ 72356 _ 1 _ . field _ 70161 _ v , p _ 72356 _ 1 _ . field _ 70177 _ z , p _ 72356 _ 1 _ . field _ 70125 _ A ) ; <nl> p _ 72356 _ 1 _ . field _ 71134 _ c . func _ 73080 _ a ( worldserver1 ) ; <nl> - @ @ - 473 , 38 + 506 , 47 @ @ <nl> + @ @ - 487 , 38 + 519 , 47 @ @ <nl> <nl> public void func _ 82448 _ a ( Entity p _ 82448 _ 1 _ , int p _ 82448 _ 2 _ , WorldServer p _ 82448 _ 3 _ , WorldServer p _ 82448 _ 4 _ ) <nl> { <nl> @ @ - 175 , 7 + 175 , 7 @ @ <nl> { <nl> ChunkCoordinates chunkcoordinates ; <nl> <nl> - @ @ - 539 , 7 + 581 , 7 @ @ <nl> + @ @ - 553 , 7 + 594 , 7 @ @ <nl> if ( p _ 82448 _ 1 _ . func _ 70089 _ S ( ) ) <nl> { <nl> p _ 82448 _ 1 _ . func _ 70012 _ b ( d0 , p _ 82448 _ 1 _ . field _ 70163 _ u , d1 , p _ 82448 _ 1 _ . field _ 70177 _ z , p _ 82448 _ 1 _ . field _ 70125 _ A ) ; <nl> diff - - git a / patches / minecraft / net / minecraft / world / storage / SaveHandler . java . patch b / patches / minecraft / net / minecraft / world / storage / SaveHandler . java . patch <nl> index a265ec0 . . 3e8518a 100644 <nl> - - - a / patches / minecraft / net / minecraft / world / storage / SaveHandler . java . patch <nl> + + + b / patches / minecraft / net / minecraft / world / storage / SaveHandler . java . patch <nl> @ @ - 1 , 6 + 1 , 6 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / world / storage / SaveHandler . java <nl> + + + . . / src - work / minecraft / net / minecraft / world / storage / SaveHandler . java <nl> - @ @ - 254 , 6 + 254 , 7 @ @ <nl> + @ @ - 256 , 6 + 256 , 7 @ @ <nl> } <nl> <nl> file1 . renameTo ( file2 ) ; <nl> @ @ - 8 , 7 + 8 , 7 @ @ <nl> } <nl> catch ( Exception exception ) <nl> { <nl> - @ @ - 284 , 6 + 285 , 7 @ @ <nl> + @ @ - 286 , 6 + 287 , 7 @ @ <nl> p _ 75752 _ 1 _ . func _ 70020 _ e ( nbttagcompound ) ; <nl> } <nl>
NEAREST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / server / management / ServerConfigurationManager . java . patch b / patches / minecraft / net / minecraft / server / management / ServerConfigurationManager . java . patch <nl> index 5158072 . . 7c34994 100644 <nl> - - - a / patches / minecraft / net / minecraft / server / management / ServerConfigurationManager . java . patch <nl> + + + b / patches / minecraft / net / minecraft / server / management / ServerConfigurationManager . java . patch <nl> @ @ - 51 , 7 + 51 , 15 @ @ <nl> p _ 72355 _ 2 _ . field _ 71134 _ c . func _ 73080 _ a ( ( WorldServer ) p _ 72355 _ 2 _ . field _ 70170 _ p ) ; <nl> String s = " local " ; <nl> <nl> - @ @ - 244 , 6 + 260 , 7 @ @ <nl> + @ @ - 217 , 6 + 233 , 7 @ @ <nl> + p _ 72380 _ 1 _ . func _ 70020 _ e ( nbttagcompound ) ; <nl> + nbttagcompound1 = nbttagcompound ; <nl> + field _ 148546 _ d . debug ( " loading single player " ) ; <nl> + + net . minecraftforge . event . ForgeEventFactory . firePlayerLoadingEvent ( p _ 72380 _ 1 _ , this . field _ 72412 _ k , p _ 72380 _ 1 _ . func _ 110124 _ au ( ) . toString ( ) ) ; <nl> + } <nl> + else <nl> + { <nl> + @ @ - 244 , 6 + 261 , 7 @ @ <nl> this . func _ 148540 _ a ( new S38PacketPlayerListItem ( p _ 72377 _ 1 _ . func _ 70005 _ c _ ( ) , true , 1000 ) ) ; <nl> this . field _ 72404 _ b . add ( p _ 72377 _ 1 _ ) ; <nl> WorldServer worldserver = this . field _ 72400 _ f . func _ 71218 _ a ( p _ 72377 _ 1 _ . field _ 71093 _ bK ) ; <nl> @ @ - 59 , 7 + 67 , 7 @ @ <nl> worldserver . func _ 72838 _ d ( p _ 72377 _ 1 _ ) ; <nl> this . func _ 72375 _ a ( p _ 72377 _ 1 _ , ( WorldServer ) null ) ; <nl> <nl> - @ @ - 276 , 6 + 293 , 7 @ @ <nl> + @ @ - 276 , 6 + 294 , 7 @ @ <nl> worldserver . func _ 73040 _ p ( ) . func _ 72695 _ c ( p _ 72367 _ 1 _ ) ; <nl> this . field _ 72404 _ b . remove ( p _ 72367 _ 1 _ ) ; <nl> this . field _ 148547 _ k . remove ( p _ 72367 _ 1 _ . func _ 70005 _ c _ ( ) ) ; <nl> @ @ - 67 , 7 + 75 , 7 @ @ <nl> this . func _ 148540 _ a ( new S38PacketPlayerListItem ( p _ 72367 _ 1 _ . func _ 70005 _ c _ ( ) , false , 9999 ) ) ; <nl> } <nl> <nl> - @ @ - 361 , 13 + 379 , 23 @ @ <nl> + @ @ - 361 , 13 + 380 , 23 @ @ <nl> <nl> public EntityPlayerMP func _ 72368 _ a ( EntityPlayerMP p _ 72368 _ 1 _ , int p _ 72368 _ 2 _ , boolean p _ 72368 _ 3 _ ) <nl> { <nl> @ @ - 93 , 7 + 101 , 7 @ @ <nl> p _ 72368 _ 1 _ . field _ 71093 _ bK = p _ 72368 _ 2 _ ; <nl> Object object ; <nl> <nl> - @ @ - 383 , 6 + 411 , 7 @ @ <nl> + @ @ - 383 , 6 + 412 , 7 @ @ <nl> EntityPlayerMP entityplayermp1 = new EntityPlayerMP ( this . field _ 72400 _ f , this . field _ 72400 _ f . func _ 71218 _ a ( p _ 72368 _ 1 _ . field _ 71093 _ bK ) , p _ 72368 _ 1 _ . func _ 146103 _ bH ( ) , ( ItemInWorldManager ) object ) ; <nl> entityplayermp1 . field _ 71135 _ a = p _ 72368 _ 1 _ . field _ 71135 _ a ; <nl> entityplayermp1 . func _ 71049 _ a ( p _ 72368 _ 1 _ , p _ 72368 _ 3 _ ) ; <nl> @ @ - 101 , 7 + 109 , 7 @ @ <nl> entityplayermp1 . func _ 145769 _ d ( p _ 72368 _ 1 _ . func _ 145782 _ y ( ) ) ; <nl> WorldServer worldserver = this . field _ 72400 _ f . func _ 71218 _ a ( p _ 72368 _ 1 _ . field _ 71093 _ bK ) ; <nl> this . func _ 72381 _ a ( entityplayermp1 , p _ 72368 _ 1 _ , worldserver ) ; <nl> - @ @ - 427 , 6 + 456 , 11 @ @ <nl> + @ @ - 427 , 6 + 457 , 11 @ @ <nl> <nl> public void func _ 72356 _ a ( EntityPlayerMP p _ 72356 _ 1 _ , int p _ 72356 _ 2 _ ) <nl> { <nl> @ @ - 113 , 7 + 121 , 7 @ @ <nl> int j = p _ 72356 _ 1 _ . field _ 71093 _ bK ; <nl> WorldServer worldserver = this . field _ 72400 _ f . func _ 71218 _ a ( p _ 72356 _ 1 _ . field _ 71093 _ bK ) ; <nl> p _ 72356 _ 1 _ . field _ 71093 _ bK = p _ 72356 _ 2 _ ; <nl> - @ @ - 434 , 7 + 468 , 7 @ @ <nl> + @ @ - 434 , 7 + 469 , 7 @ @ <nl> p _ 72356 _ 1 _ . field _ 71135 _ a . func _ 147359 _ a ( new S07PacketRespawn ( p _ 72356 _ 1 _ . field _ 71093 _ bK , p _ 72356 _ 1 _ . field _ 70170 _ p . field _ 73013 _ u , p _ 72356 _ 1 _ . field _ 70170 _ p . func _ 72912 _ H ( ) . func _ 76067 _ t ( ) , p _ 72356 _ 1 _ . field _ 71134 _ c . func _ 73081 _ b ( ) ) ) ; <nl> worldserver . func _ 72973 _ f ( p _ 72356 _ 1 _ ) ; <nl> p _ 72356 _ 1 _ . field _ 70128 _ L = false ; <nl> @ @ - 122 , 7 + 130 , 7 @ @ <nl> this . func _ 72375 _ a ( p _ 72356 _ 1 _ , worldserver ) ; <nl> p _ 72356 _ 1 _ . field _ 71135 _ a . func _ 147364 _ a ( p _ 72356 _ 1 _ . field _ 70165 _ t , p _ 72356 _ 1 _ . field _ 70163 _ u , p _ 72356 _ 1 _ . field _ 70161 _ v , p _ 72356 _ 1 _ . field _ 70177 _ z , p _ 72356 _ 1 _ . field _ 70125 _ A ) ; <nl> p _ 72356 _ 1 _ . field _ 71134 _ c . func _ 73080 _ a ( worldserver1 ) ; <nl> - @ @ - 452 , 38 + 486 , 47 @ @ <nl> + @ @ - 452 , 38 + 487 , 47 @ @ <nl> <nl> public void func _ 82448 _ a ( Entity p _ 82448 _ 1 _ , int p _ 82448 _ 2 _ , WorldServer p _ 82448 _ 3 _ , WorldServer p _ 82448 _ 4 _ ) <nl> { <nl> @ @ - 182 , 7 + 190 , 7 @ @ <nl> { <nl> ChunkCoordinates chunkcoordinates ; <nl> <nl> - @ @ - 518 , 7 + 561 , 7 @ @ <nl> + @ @ - 518 , 7 + 562 , 7 @ @ <nl> if ( p _ 82448 _ 1 _ . func _ 70089 _ S ( ) ) <nl> { <nl> p _ 82448 _ 1 _ . func _ 70012 _ b ( d0 , p _ 82448 _ 1 _ . field _ 70163 _ u , d1 , p _ 82448 _ 1 _ . field _ 70177 _ z , p _ 82448 _ 1 _ . field _ 70125 _ A ) ; <nl> diff - - git a / src / main / java / net / minecraftforge / event / ForgeEventFactory . java b / src / main / java / net / minecraftforge / event / ForgeEventFactory . java <nl> index f4e6e47 . . 7916413 100644 <nl> - - - a / src / main / java / net / minecraftforge / event / ForgeEventFactory . java <nl> + + + b / src / main / java / net / minecraftforge / event / ForgeEventFactory . java <nl> @ @ - 3 , 6 + 3 , 7 @ @ package net . minecraftforge . event ; <nl> import java . io . File ; <nl> import java . util . ArrayList ; <nl> import java . util . List ; <nl> + import cpw . mods . fml . common . ObfuscationReflectionHelper ; <nl> import cpw . mods . fml . common . eventhandler . Event . Result ; <nl> import net . minecraft . block . Block ; <nl> import net . minecraft . entity . Entity ; <nl> @ @ - 12 , 10 + 13 , 13 @ @ import net . minecraft . entity . EnumCreatureType ; <nl> import net . minecraft . entity . effect . EntityLightningBolt ; <nl> import net . minecraft . entity . monster . EntityZombie ; <nl> import net . minecraft . entity . player . EntityPlayer ; <nl> + import net . minecraft . entity . player . EntityPlayerMP ; <nl> import net . minecraft . item . ItemStack ; <nl> import net . minecraft . world . World ; <nl> import net . minecraft . world . WorldServer ; <nl> import net . minecraft . world . biome . BiomeGenBase ; <nl> + import net . minecraft . world . storage . IPlayerFileData ; <nl> + import net . minecraft . world . storage . SaveHandler ; <nl> import net . minecraftforge . common . MinecraftForge ; <nl> import net . minecraftforge . event . entity . EntityStruckByLightningEvent ; <nl> import net . minecraftforge . event . entity . living . LivingPackSizeEvent ; <nl> @ @ - 181 , 4 + 185 , 11 @ @ public class ForgeEventFactory <nl> { <nl> MinecraftForge . EVENT _ BUS . post ( new PlayerEvent . SaveToFile ( player , playerDirectory , uuidString ) ) ; <nl> } <nl> + <nl> + public static void firePlayerLoadingEvent ( EntityPlayer player , IPlayerFileData playerFileData , String uuidString ) <nl> + { <nl> + SaveHandler sh = ( SaveHandler ) playerFileData ; <nl> + File dir = ObfuscationReflectionHelper . getPrivateValue ( SaveHandler . class , sh , " playersDirectory " , " field _ " + " 75771 _ c " ) ; <nl> + MinecraftForge . EVENT _ BUS . post ( new PlayerEvent . LoadFromFile ( player , dir , uuidString ) ) ; <nl> + } <nl> }

TEST DIFF:
diff - - git a / fml b / fml 
 index 1112c45 . . 6edc163 160000 
 - - - a / fml 
 + + + b / fml 
 @ @ - 1 + 1 @ @ 
 - Subproject commit 1112c455b9758c38eab385f48578bad17c0180f9 
 + Subproject commit 6edc1635de163c41b6b5dfe02bee13d6a9c5aa4d 
 diff - - git a / patches / minecraft / net / minecraft / client / network / NetHandlerPlayClient . java . patch b / patches / minecraft / net / minecraft / client / network / NetHandlerPlayClient . java . patch 
 index 365c394 . . b3d3008 100644 
 - - - a / patches / minecraft / net / minecraft / client / network / NetHandlerPlayClient . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / network / NetHandlerPlayClient . java . patch 
 @ @ - 1 , 6 + 1 , 6 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / client / network / NetHandlerPlayClient . java 
 + + + . . / src - work / minecraft / net / minecraft / client / network / NetHandlerPlayClient . java 
 - @ @ - 195 , 6 + 195 , 8 @ @ 
 + @ @ - 196 , 6 + 196 , 8 @ @ 
 import net . minecraft . world . storage . ISaveHandler ; 
 import net . minecraft . world . storage . MapData ; 
 import net . minecraft . world . storage . MapStorage ; 
 @ @ - 9 , 7 + 9 , 7 @ @ 
 import org . apache . logging . log4j . LogManager ; 
 import org . apache . logging . log4j . Logger ; 
 
 - @ @ - 389 , 7 + 391 , 8 @ @ 
 + @ @ - 390 , 7 + 392 , 8 @ @ 
 
 public void func _ 147286 _ a ( S11PacketSpawnExperienceOrb p _ 147286 _ 1 _ ) 
 { 
 @ @ - 19 , 7 + 19 , 7 @ @ 
 entityxporb . field _ 70118 _ ct = p _ 147286 _ 1 _ . func _ 148984 _ d ( ) ; 
 entityxporb . field _ 70117 _ cu = p _ 147286 _ 1 _ . func _ 148983 _ e ( ) ; 
 entityxporb . field _ 70116 _ cv = p _ 147286 _ 1 _ . func _ 148982 _ f ( ) ; 
 - @ @ - 686 , 7 + 689 , 11 @ @ 
 + @ @ - 687 , 7 + 690 , 11 @ @ 
 
 public void func _ 147251 _ a ( S02PacketChat p _ 147251 _ 1 _ ) 
 { 
 @ @ - 32 , 7 + 32 , 7 @ @ 
 } 
 
 public void func _ 147279 _ a ( S0BPacketAnimation p _ 147279 _ 1 _ ) 
 - @ @ - 1126 , 6 + 1133 , 10 @ @ 
 + @ @ - 1127 , 6 + 1134 , 10 @ @ 
 { 
 tileentity . func _ 145839 _ a ( p _ 147273 _ 1 _ . func _ 148857 _ g ( ) ) ; 
 } 
 diff - - git a / patches / minecraft / net / minecraft / server / management / ServerConfigurationManager . java . patch b / patches / minecraft / net / minecraft / server / management / ServerConfigurationManager . java . patch 
 index 0f03097 . . a959f9d 100644 
 - - - a / patches / minecraft / net / minecraft / server / management / ServerConfigurationManager . java . patch 
 + + + b / patches / minecraft / net / minecraft / server / management / ServerConfigurationManager . java . patch 
 @ @ - 1 , 6 + 1 , 6 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / server / management / ServerConfigurationManager . java 
 + + + . . / src - work / minecraft / net / minecraft / server / management / ServerConfigurationManager . java 
 - @ @ - 55 , 11 + 55 , 15 @ @ 
 + @ @ - 55 , 12 + 55 , 15 @ @ 
 import net . minecraft . util . EnumChatFormatting ; 
 import net . minecraft . util . IChatComponent ; 
 import net . minecraft . util . MathHelper ; 
 @ @ - 11 , 12 + 11 , 12 @ @ 
 import net . minecraft . world . WorldSettings ; 
 import net . minecraft . world . demo . DemoWorldManager ; 
 import net . minecraft . world . storage . IPlayerFileData ; 
 + import net . minecraft . world . storage . SaveHandler ; 
 + import net . minecraftforge . common . chunkio . ChunkIOExecutor ; 
 - + 
 import org . apache . logging . log4j . LogManager ; 
 import org . apache . logging . log4j . Logger ; 
 
 - @ @ - 108 , 7 + 112 , 17 @ @ 
 + @ @ - 109 , 7 + 112 , 17 @ @ 
 String s = gameprofile1 = = null ? gameprofile . getName ( ) : gameprofile1 . getName ( ) ; 
 playerprofilecache . func _ 152649 _ a ( gameprofile ) ; 
 NBTTagCompound nbttagcompound = this . func _ 72380 _ a ( p _ 72355 _ 2 _ ) ; 
 @ @ - 35 , 7 + 35 , 7 @ @ 
 p _ 72355 _ 2 _ . field _ 71134 _ c . func _ 73080 _ a ( ( WorldServer ) p _ 72355 _ 2 _ . field _ 70170 _ p ) ; 
 String s1 = " local " ; 
 
 - @ @ - 242 , 6 + 256 , 7 @ @ 
 + @ @ - 243 , 6 + 256 , 7 @ @ 
 p _ 72380 _ 1 _ . func _ 70020 _ e ( nbttagcompound ) ; 
 nbttagcompound1 = nbttagcompound ; 
 field _ 148546 _ d . debug ( " loading single player " ) ; 
 @ @ - 43 , 7 + 43 , 7 @ @ 
 } 
 else 
 { 
 - @ @ - 269 , 6 + 284 , 7 @ @ 
 + @ @ - 283 , 6 + 297 , 7 @ @ 
 this . func _ 148540 _ a ( new S38PacketPlayerListItem ( p _ 72377 _ 1 _ . func _ 70005 _ c _ ( ) , true , 1000 ) ) ; 
 this . field _ 72404 _ b . add ( p _ 72377 _ 1 _ ) ; 
 WorldServer worldserver = this . field _ 72400 _ f . func _ 71218 _ a ( p _ 72377 _ 1 _ . field _ 71093 _ bK ) ; 
 @ @ - 51 , 7 + 51 , 7 @ @ 
 worldserver . func _ 72838 _ d ( p _ 72377 _ 1 _ ) ; 
 this . func _ 72375 _ a ( p _ 72377 _ 1 _ , ( WorldServer ) null ) ; 
 
 - @ @ - 301 , 6 + 317 , 7 @ @ 
 + @ @ - 315 , 6 + 330 , 7 @ @ 
 worldserver . func _ 73040 _ p ( ) . func _ 72695 _ c ( p _ 72367 _ 1 _ ) ; 
 this . field _ 72404 _ b . remove ( p _ 72367 _ 1 _ ) ; 
 this . field _ 148547 _ k . remove ( p _ 72367 _ 1 _ . func _ 110124 _ au ( ) ) ; 
 @ @ - 59 , 7 + 59 , 7 @ @ 
 this . func _ 148540 _ a ( new S38PacketPlayerListItem ( p _ 72367 _ 1 _ . func _ 70005 _ c _ ( ) , false , 9999 ) ) ; 
 } 
 
 - @ @ - 382 , 13 + 399 , 23 @ @ 
 + @ @ - 396 , 13 + 412 , 23 @ @ 
 
 public EntityPlayerMP func _ 72368 _ a ( EntityPlayerMP p _ 72368 _ 1 _ , int p _ 72368 _ 2 _ , boolean p _ 72368 _ 3 _ ) 
 { 
 @ @ - 85 , 7 + 85 , 7 @ @ 
 p _ 72368 _ 1 _ . field _ 71093 _ bK = p _ 72368 _ 2 _ ; 
 Object object ; 
 
 - @ @ - 404 , 6 + 431 , 7 @ @ 
 + @ @ - 418 , 6 + 444 , 7 @ @ 
 EntityPlayerMP entityplayermp1 = new EntityPlayerMP ( this . field _ 72400 _ f , this . field _ 72400 _ f . func _ 71218 _ a ( p _ 72368 _ 1 _ . field _ 71093 _ bK ) , p _ 72368 _ 1 _ . func _ 146103 _ bH ( ) , ( ItemInWorldManager ) object ) ; 
 entityplayermp1 . field _ 71135 _ a = p _ 72368 _ 1 _ . field _ 71135 _ a ; 
 entityplayermp1 . func _ 71049 _ a ( p _ 72368 _ 1 _ , p _ 72368 _ 3 _ ) ; 
 @ @ - 93 , 7 + 93 , 7 @ @ 
 entityplayermp1 . func _ 145769 _ d ( p _ 72368 _ 1 _ . func _ 145782 _ y ( ) ) ; 
 WorldServer worldserver = this . field _ 72400 _ f . func _ 71218 _ a ( p _ 72368 _ 1 _ . field _ 71093 _ bK ) ; 
 this . func _ 72381 _ a ( entityplayermp1 , p _ 72368 _ 1 _ , worldserver ) ; 
 - @ @ - 448 , 14 + 476 , 19 @ @ 
 + @ @ - 462 , 14 + 489 , 19 @ @ 
 
 public void func _ 72356 _ a ( EntityPlayerMP p _ 72356 _ 1 _ , int p _ 72356 _ 2 _ ) 
 { 
 @ @ - 115 , 7 + 115 , 7 @ @ 
 this . func _ 72375 _ a ( p _ 72356 _ 1 _ , worldserver ) ; 
 p _ 72356 _ 1 _ . field _ 71135 _ a . func _ 147364 _ a ( p _ 72356 _ 1 _ . field _ 70165 _ t , p _ 72356 _ 1 _ . field _ 70163 _ u , p _ 72356 _ 1 _ . field _ 70161 _ v , p _ 72356 _ 1 _ . field _ 70177 _ z , p _ 72356 _ 1 _ . field _ 70125 _ A ) ; 
 p _ 72356 _ 1 _ . field _ 71134 _ c . func _ 73080 _ a ( worldserver1 ) ; 
 - @ @ - 473 , 38 + 506 , 47 @ @ 
 + @ @ - 487 , 38 + 519 , 47 @ @ 
 
 public void func _ 82448 _ a ( Entity p _ 82448 _ 1 _ , int p _ 82448 _ 2 _ , WorldServer p _ 82448 _ 3 _ , WorldServer p _ 82448 _ 4 _ ) 
 { 
 @ @ - 175 , 7 + 175 , 7 @ @ 
 { 
 ChunkCoordinates chunkcoordinates ; 
 
 - @ @ - 539 , 7 + 581 , 7 @ @ 
 + @ @ - 553 , 7 + 594 , 7 @ @ 
 if ( p _ 82448 _ 1 _ . func _ 70089 _ S ( ) ) 
 { 
 p _ 82448 _ 1 _ . func _ 70012 _ b ( d0 , p _ 82448 _ 1 _ . field _ 70163 _ u , d1 , p _ 82448 _ 1 _ . field _ 70177 _ z , p _ 82448 _ 1 _ . field _ 70125 _ A ) ; 
 diff - - git a / patches / minecraft / net / minecraft / world / storage / SaveHandler . java . patch b / patches / minecraft / net / minecraft / world / storage / SaveHandler . java . patch 
 index a265ec0 . . 3e8518a 100644 
 - - - a / patches / minecraft / net / minecraft / world / storage / SaveHandler . java . patch 
 + + + b / patches / minecraft / net / minecraft / world / storage / SaveHandler . java . patch 
 @ @ - 1 , 6 + 1 , 6 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / world / storage / SaveHandler . java 
 + + + . . / src - work / minecraft / net / minecraft / world / storage / SaveHandler . java 
 - @ @ - 254 , 6 + 254 , 7 @ @ 
 + @ @ - 256 , 6 + 256 , 7 @ @ 
 } 
 
 file1 . renameTo ( file2 ) ; 
 @ @ - 8 , 7 + 8 , 7 @ @ 
 } 
 catch ( Exception exception ) 
 { 
 - @ @ - 284 , 6 + 285 , 7 @ @ 
 + @ @ - 286 , 6 + 287 , 7 @ @ 
 p _ 75752 _ 1 _ . func _ 70020 _ e ( nbttagcompound ) ; 
 } 


NEAREST DIFF:
diff - - git a / patches / minecraft / net / minecraft / server / management / ServerConfigurationManager . java . patch b / patches / minecraft / net / minecraft / server / management / ServerConfigurationManager . java . patch 
 index 5158072 . . 7c34994 100644 
 - - - a / patches / minecraft / net / minecraft / server / management / ServerConfigurationManager . java . patch 
 + + + b / patches / minecraft / net / minecraft / server / management / ServerConfigurationManager . java . patch 
 @ @ - 51 , 7 + 51 , 15 @ @ 
 p _ 72355 _ 2 _ . field _ 71134 _ c . func _ 73080 _ a ( ( WorldServer ) p _ 72355 _ 2 _ . field _ 70170 _ p ) ; 
 String s = " local " ; 
 
 - @ @ - 244 , 6 + 260 , 7 @ @ 
 + @ @ - 217 , 6 + 233 , 7 @ @ 
 + p _ 72380 _ 1 _ . func _ 70020 _ e ( nbttagcompound ) ; 
 + nbttagcompound1 = nbttagcompound ; 
 + field _ 148546 _ d . debug ( " loading single player " ) ; 
 + + net . minecraftforge . event . ForgeEventFactory . firePlayerLoadingEvent ( p _ 72380 _ 1 _ , this . field _ 72412 _ k , p _ 72380 _ 1 _ . func _ 110124 _ au ( ) . toString ( ) ) ; 
 + } 
 + else 
 + { 
 + @ @ - 244 , 6 + 261 , 7 @ @ 
 this . func _ 148540 _ a ( new S38PacketPlayerListItem ( p _ 72377 _ 1 _ . func _ 70005 _ c _ ( ) , true , 1000 ) ) ; 
 this . field _ 72404 _ b . add ( p _ 72377 _ 1 _ ) ; 
 WorldServer worldserver = this . field _ 72400 _ f . func _ 71218 _ a ( p _ 72377 _ 1 _ . field _ 71093 _ bK ) ; 
 @ @ - 59 , 7 + 67 , 7 @ @ 
 worldserver . func _ 72838 _ d ( p _ 72377 _ 1 _ ) ; 
 this . func _ 72375 _ a ( p _ 72377 _ 1 _ , ( WorldServer ) null ) ; 
 
 - @ @ - 276 , 6 + 293 , 7 @ @ 
 + @ @ - 276 , 6 + 294 , 7 @ @ 
 worldserver . func _ 73040 _ p ( ) . func _ 72695 _ c ( p _ 72367 _ 1 _ ) ; 
 this . field _ 72404 _ b . remove ( p _ 72367 _ 1 _ ) ; 
 this . field _ 148547 _ k . remove ( p _ 72367 _ 1 _ . func _ 70005 _ c _ ( ) ) ; 
 @ @ - 67 , 7 + 75 , 7 @ @ 
 this . func _ 148540 _ a ( new S38PacketPlayerListItem ( p _ 72367 _ 1 _ . func _ 70005 _ c _ ( ) , false , 9999 ) ) ; 
 } 
 
 - @ @ - 361 , 13 + 379 , 23 @ @ 
 + @ @ - 361 , 13 + 380 , 23 @ @ 
 
 public EntityPlayerMP func _ 72368 _ a ( EntityPlayerMP p _ 72368 _ 1 _ , int p _ 72368 _ 2 _ , boolean p _ 72368 _ 3 _ ) 
 { 
 @ @ - 93 , 7 + 101 , 7 @ @ 
 p _ 72368 _ 1 _ . field _ 71093 _ bK = p _ 72368 _ 2 _ ; 
 Object object ; 
 
 - @ @ - 383 , 6 + 411 , 7 @ @ 
 + @ @ - 383 , 6 + 412 , 7 @ @ 
 EntityPlayerMP entityplayermp1 = new EntityPlayerMP ( this . field _ 72400 _ f , this . field _ 72400 _ f . func _ 71218 _ a ( p _ 72368 _ 1 _ . field _ 71093 _ bK ) , p _ 72368 _ 1 _ . func _ 146103 _ bH ( ) , ( ItemInWorldManager ) object ) ; 
 entityplayermp1 . field _ 71135 _ a = p _ 72368 _ 1 _ . field _ 71135 _ a ; 
 entityplayermp1 . func _ 71049 _ a ( p _ 72368 _ 1 _ , p _ 72368 _ 3 _ ) ; 
 @ @ - 101 , 7 + 109 , 7 @ @ 
 entityplayermp1 . func _ 145769 _ d ( p _ 72368 _ 1 _ . func _ 145782 _ y ( ) ) ; 
 WorldServer worldserver = this . field _ 72400 _ f . func _ 71218 _ a ( p _ 72368 _ 1 _ . field _ 71093 _ bK ) ; 
 this . func _ 72381 _ a ( entityplayermp1 , p _ 72368 _ 1 _ , worldserver ) ; 
 - @ @ - 427 , 6 + 456 , 11 @ @ 
 + @ @ - 427 , 6 + 457 , 11 @ @ 
 
 public void func _ 72356 _ a ( EntityPlayerMP p _ 72356 _ 1 _ , int p _ 72356 _ 2 _ ) 
 { 
 @ @ - 113 , 7 + 121 , 7 @ @ 
 int j = p _ 72356 _ 1 _ . field _ 71093 _ bK ; 
 WorldServer worldserver = this . field _ 72400 _ f . func _ 71218 _ a ( p _ 72356 _ 1 _ . field _ 71093 _ bK ) ; 
 p _ 72356 _ 1 _ . field _ 71093 _ bK = p _ 72356 _ 2 _ ; 
 - @ @ - 434 , 7 + 468 , 7 @ @ 
 + @ @ - 434 , 7 + 469 , 7 @ @ 
 p _ 72356 _ 1 _ . field _ 71135 _ a . func _ 147359 _ a ( new S07PacketRespawn ( p _ 72356 _ 1 _ . field _ 71093 _ bK , p _ 72356 _ 1 _ . field _ 70170 _ p . field _ 73013 _ u , p _ 72356 _ 1 _ . field _ 70170 _ p . func _ 72912 _ H ( ) . func _ 76067 _ t ( ) , p _ 72356 _ 1 _ . field _ 71134 _ c . func _ 73081 _ b ( ) ) ) ; 
 worldserver . func _ 72973 _ f ( p _ 72356 _ 1 _ ) ; 
 p _ 72356 _ 1 _ . field _ 70128 _ L = false ; 
 @ @ - 122 , 7 + 130 , 7 @ @ 
 this . func _ 72375 _ a ( p _ 72356 _ 1 _ , worldserver ) ; 
 p _ 72356 _ 1 _ . field _ 71135 _ a . func _ 147364 _ a ( p _ 72356 _ 1 _ . field _ 70165 _ t , p _ 72356 _ 1 _ . field _ 70163 _ u , p _ 72356 _ 1 _ . field _ 70161 _ v , p _ 72356 _ 1 _ . field _ 70177 _ z , p _ 72356 _ 1 _ . field _ 70125 _ A ) ; 
 p _ 72356 _ 1 _ . field _ 71134 _ c . func _ 73080 _ a ( worldserver1 ) ; 
 - @ @ - 452 , 38 + 486 , 47 @ @ 
 + @ @ - 452 , 38 + 487 , 47 @ @ 
 
 public void func _ 82448 _ a ( Entity p _ 82448 _ 1 _ , int p _ 82448 _ 2 _ , WorldServer p _ 82448 _ 3 _ , WorldServer p _ 82448 _ 4 _ ) 
 { 
 @ @ - 182 , 7 + 190 , 7 @ @ 
 { 
 ChunkCoordinates chunkcoordinates ; 
 
 - @ @ - 518 , 7 + 561 , 7 @ @ 
 + @ @ - 518 , 7 + 562 , 7 @ @ 
 if ( p _ 82448 _ 1 _ . func _ 70089 _ S ( ) ) 
 { 
 p _ 82448 _ 1 _ . func _ 70012 _ b ( d0 , p _ 82448 _ 1 _ . field _ 70163 _ u , d1 , p _ 82448 _ 1 _ . field _ 70177 _ z , p _ 82448 _ 1 _ . field _ 70125 _ A ) ; 
 diff - - git a / src / main / java / net / minecraftforge / event / ForgeEventFactory . java b / src / main / java / net / minecraftforge / event / ForgeEventFactory . java 
 index f4e6e47 . . 7916413 100644 
 - - - a / src / main / java / net / minecraftforge / event / ForgeEventFactory . java 
 + + + b / src / main / java / net / minecraftforge / event / ForgeEventFactory . java 
 @ @ - 3 , 6 + 3 , 7 @ @ package net . minecraftforge . event ; 
 import java . io . File ; 
 import java . util . ArrayList ; 
 import java . util . List ; 
 + import cpw . mods . fml . common . ObfuscationReflectionHelper ; 
 import cpw . mods . fml . common . eventhandler . Event . Result ; 
 import net . minecraft . block . Block ; 
 import net . minecraft . entity . Entity ; 
 @ @ - 12 , 10 + 13 , 13 @ @ import net . minecraft . entity . EnumCreatureType ; 
 import net . minecraft . entity . effect . EntityLightningBolt ; 
 import net . minecraft . entity . monster . EntityZombie ; 
 import net . minecraft . entity . player . EntityPlayer ; 
 + import net . minecraft . entity . player . EntityPlayerMP ; 
 import net . minecraft . item . ItemStack ; 
 import net . minecraft . world . World ; 
 import net . minecraft . world . WorldServer ; 
 import net . minecraft . world . biome . BiomeGenBase ; 
 + import net . minecraft . world . storage . IPlayerFileData ; 
 + import net . minecraft . world . storage . SaveHandler ; 
 import net . minecraftforge . common . MinecraftForge ; 
 import net . minecraftforge . event . entity . EntityStruckByLightningEvent ; 
 import net . minecraftforge . event . entity . living . LivingPackSizeEvent ; 
 @ @ - 181 , 4 + 185 , 11 @ @ public class ForgeEventFactory 
 { 
 MinecraftForge . EVENT _ BUS . post ( new PlayerEvent . SaveToFile ( player , playerDirectory , uuidString ) ) ; 
 } 
 + 
 + public static void firePlayerLoadingEvent ( EntityPlayer player , IPlayerFileData playerFileData , String uuidString ) 
 + { 
 + SaveHandler sh = ( SaveHandler ) playerFileData ; 
 + File dir = ObfuscationReflectionHelper . getPrivateValue ( SaveHandler . class , sh , " playersDirectory " , " field _ " + " 75771 _ c " ) ; 
 + MinecraftForge . EVENT _ BUS . post ( new PlayerEvent . LoadFromFile ( player , dir , uuidString ) ) ; 
 + } 
 }
