BLEU SCORE: 0.06567274736060397

TEST MSG: Add missing Minecart / Track hook .
GENERATED MSG: Clean up chunk patch .

TEST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / block / BlockRailBase . java . patch b / patches / minecraft / net / minecraft / block / BlockRailBase . java . patch <nl> index 9f7a361 . . d4566a8 100644 <nl> - - - a / patches / minecraft / net / minecraft / block / BlockRailBase . java . patch <nl> + + + b / patches / minecraft / net / minecraft / block / BlockRailBase . java . patch <nl> @ @ - 9 , 7 + 9 , 7 @ @ <nl> } <nl> <nl> protected BlockRailBase ( boolean p _ i45389 _ 1 _ ) <nl> - @ @ - 175 , 6 + 175 , 81 @ @ <nl> + @ @ - 175 , 6 + 175 , 98 @ @ <nl> <nl> public abstract IProperty < BlockRailBase . EnumRailDirection > func _ 176560 _ l ( ) ; <nl> <nl> @ @ - 18 , 7 + 18 , 7 @ @ <nl> + * Return true if the rail can make corners . <nl> + * Used by placement logic . <nl> + * @ param world The world . <nl> - + * @ param pod Block ' s position in world <nl> + + * @ param pos Block ' s position in world <nl> + * @ return True if the rail can make corners . <nl> + * / <nl> + public boolean isFlexibleRail ( IBlockAccess world , BlockPos pos ) <nl> @ @ - 30 , 7 + 30 , 7 @ @ <nl> + * Returns true if the rail can make up and down slopes . <nl> + * Used by placement logic . <nl> + * @ param world The world . <nl> - + * @ param pod Block ' s position in world <nl> + + * @ param pos Block ' s position in world <nl> + * @ return True if the rail can make slopes . <nl> + * / <nl> + public boolean canMakeSlopes ( IBlockAccess world , BlockPos pos ) <nl> @ @ - 39 , 10 + 39 , 27 @ @ <nl> + } <nl> + <nl> + / * * <nl> + + * Return the rail ' s direction . <nl> + + * Can be used to make the cart think the rail is a different shape , <nl> + + * for example when making diamond junctions or switches . <nl> + + * The cart parameter will often be null unless it it called from EntityMinecart . <nl> + + * <nl> + + * @ param world The world . <nl> + + * @ param pos Block ' s position in world <nl> + + * @ param state The BlockState <nl> + + * @ param cart The cart asking for the metadata , null if it is not called by EntityMinecart . <nl> + + * @ return The direction . <nl> + + * / <nl> + + public EnumRailDirection getRailDirection ( IBlockAccess world , BlockPos pos , IBlockState state , @ javax . annotation . Nullable net . minecraft . entity . item . EntityMinecart cart ) <nl> + + { <nl> + + return state . func _ 177229 _ b ( func _ 176560 _ l ( ) ) ; <nl> + + } <nl> + + <nl> + + / * * <nl> + * Returns the max speed of the rail at the specified position . <nl> + * @ param world The world . <nl> + * @ param cart The cart on the rail , may be null . <nl> - + * @ param pod Block ' s position in world <nl> + + * @ param pos Block ' s position in world <nl> + * @ return The max speed of the current rail . <nl> + * / <nl> + public float getRailMaxSpeed ( World world , net . minecraft . entity . item . EntityMinecart cart , BlockPos pos ) <nl> @ @ - 55 , 7 + 72 , 7 @ @ <nl> + * It is called once per update tick that the minecart is on the rail . <nl> + * @ param world The world . <nl> + * @ param cart The cart on the rail . <nl> - + * @ param pod Block ' s position in world <nl> + + * @ param pos Block ' s position in world <nl> + * / <nl> + public void onMinecartPass ( World world , net . minecraft . entity . item . EntityMinecart cart , BlockPos pos ) <nl> + { <nl> @ @ - 91 , 7 + 108 , 7 @ @ <nl> public static enum EnumRailDirection implements IStringSerializable <nl> { <nl> NORTH _ SOUTH ( 0 , " north _ south " ) , <nl> - @ @ - 245 , 6 + 320 , 7 @ @ <nl> + @ @ - 245 , 6 + 337 , 7 @ @ <nl> private IBlockState field _ 180366 _ e ; <nl> private final boolean field _ 150656 _ f ; <nl> private final List < BlockPos > field _ 150657 _ g = Lists . < BlockPos > newArrayList ( ) ; <nl> @ @ - 99 , 17 + 116 , 19 @ @ <nl> <nl> public Rail ( World p _ i45739 _ 2 _ , BlockPos p _ i45739 _ 3 _ , IBlockState p _ i45739 _ 4 _ ) <nl> { <nl> - @ @ - 253 , 7 + 329 , 8 @ @ <nl> + @ @ - 252 , 8 + 345 , 9 @ @ <nl> + this . field _ 180367 _ c = p _ i45739 _ 3 _ ; <nl> this . field _ 180366 _ e = p _ i45739 _ 4 _ ; <nl> this . field _ 180365 _ d = ( BlockRailBase ) p _ i45739 _ 4 _ . func _ 177230 _ c ( ) ; <nl> - BlockRailBase . EnumRailDirection blockrailbase $ enumraildirection = ( BlockRailBase . EnumRailDirection ) p _ i45739 _ 4 _ . func _ 177229 _ b ( BlockRailBase . this . func _ 176560 _ l ( ) ) ; <nl> + - BlockRailBase . EnumRailDirection blockrailbase $ enumraildirection = ( BlockRailBase . EnumRailDirection ) p _ i45739 _ 4 _ . func _ 177229 _ b ( BlockRailBase . this . func _ 176560 _ l ( ) ) ; <nl> - this . field _ 150656 _ f = this . field _ 180365 _ d . field _ 150053 _ a ; <nl> + + BlockRailBase . EnumRailDirection blockrailbase $ enumraildirection = field _ 180365 _ d . getRailDirection ( p _ i45739 _ 2 _ , p _ i45739 _ 3 _ , p _ i45739 _ 4 _ , null ) ; <nl> + this . field _ 150656 _ f = ! this . field _ 180365 _ d . isFlexibleRail ( p _ i45739 _ 2 _ , p _ i45739 _ 3 _ ) ; <nl> + canMakeSlopes = this . field _ 180365 _ d . canMakeSlopes ( p _ i45739 _ 2 _ , p _ i45739 _ 3 _ ) ; <nl> this . func _ 180360 _ a ( blockrailbase $ enumraildirection ) ; <nl> } <nl> <nl> - @ @ - 439 , 7 + 516 , 7 @ @ <nl> + @ @ - 439 , 7 + 533 , 7 @ @ <nl> } <nl> } <nl> <nl> @ @ - 118 , 7 + 137 , 7 @ @ <nl> { <nl> if ( BlockRailBase . func _ 176562 _ d ( this . field _ 150660 _ b , blockpos . func _ 177984 _ a ( ) ) ) <nl> { <nl> - @ @ - 452 , 7 + 529 , 7 @ @ <nl> + @ @ - 452 , 7 + 546 , 7 @ @ <nl> } <nl> } <nl> <nl> @ @ - 127 , 7 + 146 , 7 @ @ <nl> { <nl> if ( BlockRailBase . func _ 176562 _ d ( this . field _ 150660 _ b , blockpos3 . func _ 177984 _ a ( ) ) ) <nl> { <nl> - @ @ - 595 , 7 + 672 , 7 @ @ <nl> + @ @ - 595 , 7 + 689 , 7 @ @ <nl> } <nl> } <nl> <nl> @ @ - 136 , 7 + 155 , 7 @ @ <nl> { <nl> if ( BlockRailBase . func _ 176562 _ d ( this . field _ 150660 _ b , blockpos . func _ 177984 _ a ( ) ) ) <nl> { <nl> - @ @ - 608 , 7 + 685 , 7 @ @ <nl> + @ @ - 608 , 7 + 702 , 7 @ @ <nl> } <nl> } <nl> <nl> diff - - git a / patches / minecraft / net / minecraft / entity / item / EntityMinecart . java . patch b / patches / minecraft / net / minecraft / entity / item / EntityMinecart . java . patch <nl> index da822bd . . 324ff39 100644 <nl> - - - a / patches / minecraft / net / minecraft / entity / item / EntityMinecart . java . patch <nl> + + + b / patches / minecraft / net / minecraft / entity / item / EntityMinecart . java . patch <nl> @ @ - 117 , 8 + 117 , 9 @ @ <nl> } <nl> <nl> - double d0 = 0 . 0078125D ; <nl> + - BlockRailBase . EnumRailDirection blockrailbase $ enumraildirection = ( BlockRailBase . EnumRailDirection ) p _ 180460 _ 2 _ . func _ 177229 _ b ( blockrailbase . func _ 176560 _ l ( ) ) ; <nl> + double slopeAdjustment = getSlopeAdjustment ( ) ; <nl> - BlockRailBase . EnumRailDirection blockrailbase $ enumraildirection = ( BlockRailBase . EnumRailDirection ) p _ 180460 _ 2 _ . func _ 177229 _ b ( blockrailbase . func _ 176560 _ l ( ) ) ; <nl> + + BlockRailBase . EnumRailDirection blockrailbase $ enumraildirection = blockrailbase . getRailDirection ( field _ 70170 _ p , p _ 180460 _ 1 _ , p _ 180460 _ 2 _ , this ) ; <nl> <nl> switch ( blockrailbase $ enumraildirection ) <nl> { <nl> @ @ - 190 , 6 + 191 , 24 @ @ <nl> double d15 = Math . sqrt ( this . field _ 70159 _ w * this . field _ 70159 _ w + this . field _ 70179 _ y * this . field _ 70179 _ y ) ; <nl> <nl> if ( d15 > 0 . 01D ) <nl> + @ @ - 654 , 7 + 679 , 7 @ @ <nl> + <nl> + if ( BlockRailBase . func _ 176563 _ d ( iblockstate ) ) <nl> + { <nl> + - BlockRailBase . EnumRailDirection blockrailbase $ enumraildirection = ( BlockRailBase . EnumRailDirection ) iblockstate . func _ 177229 _ b ( ( ( BlockRailBase ) iblockstate . func _ 177230 _ c ( ) ) . func _ 176560 _ l ( ) ) ; <nl> + + BlockRailBase . EnumRailDirection blockrailbase $ enumraildirection = ( ( BlockRailBase ) iblockstate . func _ 177230 _ c ( ) ) . getRailDirection ( field _ 70170 _ p , new BlockPos ( i , j , k ) , iblockstate , this ) ; <nl> + p _ 70495 _ 3 _ = ( double ) j ; <nl> + <nl> + if ( blockrailbase $ enumraildirection . func _ 177018 _ c ( ) ) <nl> + @ @ - 703 , 7 + 728 , 7 @ @ <nl> + <nl> + if ( BlockRailBase . func _ 176563 _ d ( iblockstate ) ) <nl> + { <nl> + - BlockRailBase . EnumRailDirection blockrailbase $ enumraildirection = ( BlockRailBase . EnumRailDirection ) iblockstate . func _ 177229 _ b ( ( ( BlockRailBase ) iblockstate . func _ 177230 _ c ( ) ) . func _ 176560 _ l ( ) ) ; <nl> + + BlockRailBase . EnumRailDirection blockrailbase $ enumraildirection = ( ( BlockRailBase ) iblockstate . func _ 177230 _ c ( ) ) . getRailDirection ( field _ 70170 _ p , new BlockPos ( i , j , k ) , iblockstate , this ) ; <nl> + int [ ] [ ] aint = field _ 70500 _ g [ blockrailbase $ enumraildirection . func _ 177015 _ a ( ) ] ; <nl> + double d0 = 0 . 0D ; <nl> + double d1 = ( double ) i + 0 . 5D + ( double ) aint [ 0 ] [ 0 ] * 0 . 5D ; <nl> @ @ - 817 , 13 + 842 , 20 @ @ <nl> <nl> public void func _ 70108 _ f ( Entity p _ 70108 _ 1 _ )
NEAREST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch b / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch <nl> index 1903a69 . . f05c96e 100644 <nl> - - - a / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch <nl> + + + b / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch <nl> @ @ - 1 , 14 + 1 , 6 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / world / chunk / Chunk . java <nl> + + + . . / src - work / minecraft / net / minecraft / world / chunk / Chunk . java <nl> - @ @ - 10 , 7 + 10 , 6 @ @ <nl> - import java . util . concurrent . Callable ; <nl> - import java . util . concurrent . ConcurrentLinkedQueue ; <nl> - import net . minecraft . block . Block ; <nl> - - import net . minecraft . block . ITileEntityProvider ; <nl> - import net . minecraft . block . material . Material ; <nl> - import net . minecraft . block . state . IBlockState ; <nl> - import net . minecraft . crash . CrashReport ; <nl> - @ @ - 167 , 7 + 166 , 7 @ @ <nl> + @ @ - 167 , 7 + 167 , 7 @ @ <nl> { <nl> Block block = this . func _ 150810 _ a ( j , l - 1 , k ) ; <nl> <nl> @ @ - 17 , 7 + 9 , 7 @ @ <nl> { <nl> this . field _ 76634 _ f [ k < < 4 | j ] = l ; <nl> <nl> - @ @ - 440 , 12 + 439 , 12 @ @ <nl> + @ @ - 440 , 12 + 440 , 12 @ @ <nl> <nl> public int func _ 177437 _ b ( BlockPos p _ 177437 _ 1 _ ) <nl> { <nl> @ @ - 32 , 7 + 24 , 7 @ @ <nl> } <nl> <nl> private Block func _ 150810 _ a ( int p _ 150810 _ 1 _ , int p _ 150810 _ 2 _ , int p _ 150810 _ 3 _ ) <nl> - @ @ - 623 , 14 + 622 , 19 @ @ <nl> + @ @ - 623 , 14 + 623 , 19 @ @ <nl> <nl> extendedblockstorage . func _ 177484 _ a ( i , j & 15 , k , p _ 177436 _ 2 _ ) ; <nl> <nl> @ @ - 54 , 7 + 46 , 7 @ @ <nl> this . field _ 76637 _ e . func _ 175713 _ t ( p _ 177436 _ 1 _ ) ; <nl> } <nl> } <nl> - @ @ - 647 , 8 + 651 , 8 @ @ <nl> + @ @ - 647 , 8 + 652 , 8 @ @ <nl> } <nl> else <nl> { <nl> @ @ - 65 , 7 + 57 , 7 @ @ <nl> <nl> if ( j1 > 0 ) <nl> { <nl> - @ @ - 668 , 28 + 672 , 18 @ @ <nl> + @ @ - 668 , 28 + 673 , 18 @ @ <nl> } <nl> } <nl> <nl> @ @ - 96 , 7 + 88 , 7 @ @ <nl> this . field _ 76637 _ e . func _ 175690 _ a ( p _ 177436 _ 1 _ , tileentity1 ) ; <nl> } <nl> <nl> - @ @ - 792 , 6 + 786 , 7 @ @ <nl> + @ @ - 792 , 6 + 787 , 7 @ @ <nl> k = this . field _ 76645 _ j . length - 1 ; <nl> } <nl> <nl> @ @ - 104 , 7 + 96 , 7 @ @ <nl> p _ 76612 _ 1 _ . field _ 70175 _ ag = true ; <nl> p _ 76612 _ 1 _ . field _ 70176 _ ah = this . field _ 76635 _ g ; <nl> p _ 76612 _ 1 _ . field _ 70162 _ ai = k ; <nl> - @ @ - 830 , 13 + 825 , 20 @ @ <nl> + @ @ - 830 , 13 + 826 , 20 @ @ <nl> private TileEntity func _ 177422 _ i ( BlockPos p _ 177422 _ 1 _ ) <nl> { <nl> Block block = this . func _ 177428 _ a ( p _ 177422 _ 1 _ ) ; <nl> @ @ - 126 , 7 + 118 , 7 @ @ <nl> if ( tileentity = = null ) <nl> { <nl> if ( p _ 177424 _ 2 _ = = Chunk . EnumCreateEntityType . IMMEDIATE ) <nl> - @ @ - 849 , 11 + 851 , 6 @ @ <nl> + @ @ - 849 , 11 + 852 , 6 @ @ <nl> this . field _ 177447 _ w . add ( p _ 177424 _ 1 _ ) ; <nl> } <nl> } <nl> @ @ - 138 , 7 + 130 , 7 @ @ <nl> <nl> return tileentity ; <nl> } <nl> - @ @ - 873 , 7 + 870 , 7 @ @ <nl> + @ @ - 873 , 7 + 871 , 7 @ @ <nl> p _ 177426 _ 2 _ . func _ 145834 _ a ( this . field _ 76637 _ e ) ; <nl> p _ 177426 _ 2 _ . func _ 174878 _ a ( p _ 177426 _ 1 _ ) ; <nl> <nl> @ @ - 147 , 7 + 139 , 7 @ @ <nl> { <nl> if ( this . field _ 150816 _ i . containsKey ( p _ 177426 _ 1 _ ) ) <nl> { <nl> - @ @ - 882 , 6 + 879 , 7 @ @ <nl> + @ @ - 882 , 6 + 880 , 7 @ @ <nl> <nl> p _ 177426 _ 2 _ . func _ 145829 _ t ( ) ; <nl> this . field _ 150816 _ i . put ( p _ 177426 _ 1 _ , p _ 177426 _ 2 _ ) ; <nl> @ @ - 155 , 7 + 147 , 7 @ @ <nl> } <nl> } <nl> <nl> - @ @ - 910 , 8 + 908 , 9 @ @ <nl> + @ @ - 910 , 8 + 909 , 9 @ @ <nl> entity . func _ 110123 _ P ( ) ; <nl> } <nl> <nl> @ @ - 166 , 7 + 158 , 7 @ @ <nl> } <nl> <nl> public void func _ 76623 _ d ( ) <nl> - @ @ - 927 , 6 + 926 , 7 @ @ <nl> + @ @ - 927 , 6 + 927 , 7 @ @ <nl> { <nl> this . field _ 76637 _ e . func _ 175681 _ c ( this . field _ 76645 _ j [ i ] ) ; <nl> } <nl> @ @ - 174 , 7 + 166 , 7 @ @ <nl> } <nl> <nl> public void func _ 76630 _ e ( ) <nl> - @ @ - 936 , 8 + 936 , 8 @ @ <nl> + @ @ - 936 , 8 + 937 , 8 @ @ <nl> <nl> public void func _ 177414 _ a ( Entity p _ 177414 _ 1 _ , AxisAlignedBB p _ 177414 _ 2 _ , List < Entity > p _ 177414 _ 3 _ , Predicate < ? super Entity > p _ 177414 _ 4 _ ) <nl> { <nl> @ @ - 185 , 7 + 177 , 7 @ @ <nl> i = MathHelper . func _ 76125 _ a ( i , 0 , this . field _ 76645 _ j . length - 1 ) ; <nl> j = MathHelper . func _ 76125 _ a ( j , 0 , this . field _ 76645 _ j . length - 1 ) ; <nl> <nl> - @ @ - 976 , 8 + 976 , 8 @ @ <nl> + @ @ - 976 , 8 + 977 , 8 @ @ <nl> <nl> public < T extends Entity > void func _ 177430 _ a ( Class < ? extends T > p _ 177430 _ 1 _ , AxisAlignedBB p _ 177430 _ 2 _ , List < T > p _ 177430 _ 3 _ , Predicate < ? super T > p _ 177430 _ 4 _ ) <nl> { <nl> @ @ - 196 , 7 + 188 , 7 @ @ <nl> i = MathHelper . func _ 76125 _ a ( i , 0 , this . field _ 76645 _ j . length - 1 ) ; <nl> j = MathHelper . func _ 76125 _ a ( j , 0 , this . field _ 76645 _ j . length - 1 ) ; <nl> <nl> - @ @ - 1137 , 8 + 1137 , 10 @ @ <nl> + @ @ - 1137 , 8 + 1138 , 10 @ @ <nl> while ( ! this . field _ 177447 _ w . isEmpty ( ) ) <nl> { <nl> BlockPos blockpos = ( BlockPos ) this . field _ 177447 _ w . poll ( ) ; <nl> @ @ - 208 , 7 + 200 , 7 @ @ <nl> { <nl> TileEntity tileentity = this . func _ 177422 _ i ( blockpos ) ; <nl> this . field _ 76637 _ e . func _ 175690 _ a ( blockpos , tileentity ) ; <nl> - @ @ - 1200 , 6 + 1202 , 13 @ @ <nl> + @ @ - 1200 , 6 + 1203 , 13 @ @ <nl> @ SideOnly ( Side . CLIENT ) <nl> public void func _ 177439 _ a ( byte [ ] p _ 177439 _ 1 _ , int p _ 177439 _ 2 _ , boolean p _ 177439 _ 3 _ ) <nl> { <nl> @ @ - 222 , 7 + 214 , 7 @ @ <nl> int i = 0 ; <nl> boolean flag = ! this . field _ 76637 _ e . field _ 73011 _ w . func _ 177495 _ o ( ) ; <nl> <nl> - @ @ - 1267 , 10 + 1276 , 16 @ @ <nl> + @ @ - 1267 , 10 + 1277 , 16 @ @ <nl> this . field _ 76646 _ k = true ; <nl> this . func _ 76590 _ a ( ) ; <nl> <nl> @ @ - 239 , 7 + 231 , 7 @ @ <nl> } <nl> <nl> public BiomeGenBase func _ 177411 _ a ( BlockPos p _ 177411 _ 1 _ , WorldChunkManager p _ 177411 _ 2 _ ) <nl> - @ @ - 1583 , 4 + 1598 , 20 @ @ <nl> + @ @ - 1583 , 4 + 1599 , 20 @ @ <nl> QUEUED , <nl> CHECK ; <nl> }

TEST DIFF:
diff - - git a / patches / minecraft / net / minecraft / block / BlockRailBase . java . patch b / patches / minecraft / net / minecraft / block / BlockRailBase . java . patch 
 index 9f7a361 . . d4566a8 100644 
 - - - a / patches / minecraft / net / minecraft / block / BlockRailBase . java . patch 
 + + + b / patches / minecraft / net / minecraft / block / BlockRailBase . java . patch 
 @ @ - 9 , 7 + 9 , 7 @ @ 
 } 
 
 protected BlockRailBase ( boolean p _ i45389 _ 1 _ ) 
 - @ @ - 175 , 6 + 175 , 81 @ @ 
 + @ @ - 175 , 6 + 175 , 98 @ @ 
 
 public abstract IProperty < BlockRailBase . EnumRailDirection > func _ 176560 _ l ( ) ; 
 
 @ @ - 18 , 7 + 18 , 7 @ @ 
 + * Return true if the rail can make corners . 
 + * Used by placement logic . 
 + * @ param world The world . 
 - + * @ param pod Block ' s position in world 
 + + * @ param pos Block ' s position in world 
 + * @ return True if the rail can make corners . 
 + * / 
 + public boolean isFlexibleRail ( IBlockAccess world , BlockPos pos ) 
 @ @ - 30 , 7 + 30 , 7 @ @ 
 + * Returns true if the rail can make up and down slopes . 
 + * Used by placement logic . 
 + * @ param world The world . 
 - + * @ param pod Block ' s position in world 
 + + * @ param pos Block ' s position in world 
 + * @ return True if the rail can make slopes . 
 + * / 
 + public boolean canMakeSlopes ( IBlockAccess world , BlockPos pos ) 
 @ @ - 39 , 10 + 39 , 27 @ @ 
 + } 
 + 
 + / * * 
 + + * Return the rail ' s direction . 
 + + * Can be used to make the cart think the rail is a different shape , 
 + + * for example when making diamond junctions or switches . 
 + + * The cart parameter will often be null unless it it called from EntityMinecart . 
 + + * 
 + + * @ param world The world . 
 + + * @ param pos Block ' s position in world 
 + + * @ param state The BlockState 
 + + * @ param cart The cart asking for the metadata , null if it is not called by EntityMinecart . 
 + + * @ return The direction . 
 + + * / 
 + + public EnumRailDirection getRailDirection ( IBlockAccess world , BlockPos pos , IBlockState state , @ javax . annotation . Nullable net . minecraft . entity . item . EntityMinecart cart ) 
 + + { 
 + + return state . func _ 177229 _ b ( func _ 176560 _ l ( ) ) ; 
 + + } 
 + + 
 + + / * * 
 + * Returns the max speed of the rail at the specified position . 
 + * @ param world The world . 
 + * @ param cart The cart on the rail , may be null . 
 - + * @ param pod Block ' s position in world 
 + + * @ param pos Block ' s position in world 
 + * @ return The max speed of the current rail . 
 + * / 
 + public float getRailMaxSpeed ( World world , net . minecraft . entity . item . EntityMinecart cart , BlockPos pos ) 
 @ @ - 55 , 7 + 72 , 7 @ @ 
 + * It is called once per update tick that the minecart is on the rail . 
 + * @ param world The world . 
 + * @ param cart The cart on the rail . 
 - + * @ param pod Block ' s position in world 
 + + * @ param pos Block ' s position in world 
 + * / 
 + public void onMinecartPass ( World world , net . minecraft . entity . item . EntityMinecart cart , BlockPos pos ) 
 + { 
 @ @ - 91 , 7 + 108 , 7 @ @ 
 public static enum EnumRailDirection implements IStringSerializable 
 { 
 NORTH _ SOUTH ( 0 , " north _ south " ) , 
 - @ @ - 245 , 6 + 320 , 7 @ @ 
 + @ @ - 245 , 6 + 337 , 7 @ @ 
 private IBlockState field _ 180366 _ e ; 
 private final boolean field _ 150656 _ f ; 
 private final List < BlockPos > field _ 150657 _ g = Lists . < BlockPos > newArrayList ( ) ; 
 @ @ - 99 , 17 + 116 , 19 @ @ 
 
 public Rail ( World p _ i45739 _ 2 _ , BlockPos p _ i45739 _ 3 _ , IBlockState p _ i45739 _ 4 _ ) 
 { 
 - @ @ - 253 , 7 + 329 , 8 @ @ 
 + @ @ - 252 , 8 + 345 , 9 @ @ 
 + this . field _ 180367 _ c = p _ i45739 _ 3 _ ; 
 this . field _ 180366 _ e = p _ i45739 _ 4 _ ; 
 this . field _ 180365 _ d = ( BlockRailBase ) p _ i45739 _ 4 _ . func _ 177230 _ c ( ) ; 
 - BlockRailBase . EnumRailDirection blockrailbase $ enumraildirection = ( BlockRailBase . EnumRailDirection ) p _ i45739 _ 4 _ . func _ 177229 _ b ( BlockRailBase . this . func _ 176560 _ l ( ) ) ; 
 + - BlockRailBase . EnumRailDirection blockrailbase $ enumraildirection = ( BlockRailBase . EnumRailDirection ) p _ i45739 _ 4 _ . func _ 177229 _ b ( BlockRailBase . this . func _ 176560 _ l ( ) ) ; 
 - this . field _ 150656 _ f = this . field _ 180365 _ d . field _ 150053 _ a ; 
 + + BlockRailBase . EnumRailDirection blockrailbase $ enumraildirection = field _ 180365 _ d . getRailDirection ( p _ i45739 _ 2 _ , p _ i45739 _ 3 _ , p _ i45739 _ 4 _ , null ) ; 
 + this . field _ 150656 _ f = ! this . field _ 180365 _ d . isFlexibleRail ( p _ i45739 _ 2 _ , p _ i45739 _ 3 _ ) ; 
 + canMakeSlopes = this . field _ 180365 _ d . canMakeSlopes ( p _ i45739 _ 2 _ , p _ i45739 _ 3 _ ) ; 
 this . func _ 180360 _ a ( blockrailbase $ enumraildirection ) ; 
 } 
 
 - @ @ - 439 , 7 + 516 , 7 @ @ 
 + @ @ - 439 , 7 + 533 , 7 @ @ 
 } 
 } 
 
 @ @ - 118 , 7 + 137 , 7 @ @ 
 { 
 if ( BlockRailBase . func _ 176562 _ d ( this . field _ 150660 _ b , blockpos . func _ 177984 _ a ( ) ) ) 
 { 
 - @ @ - 452 , 7 + 529 , 7 @ @ 
 + @ @ - 452 , 7 + 546 , 7 @ @ 
 } 
 } 
 
 @ @ - 127 , 7 + 146 , 7 @ @ 
 { 
 if ( BlockRailBase . func _ 176562 _ d ( this . field _ 150660 _ b , blockpos3 . func _ 177984 _ a ( ) ) ) 
 { 
 - @ @ - 595 , 7 + 672 , 7 @ @ 
 + @ @ - 595 , 7 + 689 , 7 @ @ 
 } 
 } 
 
 @ @ - 136 , 7 + 155 , 7 @ @ 
 { 
 if ( BlockRailBase . func _ 176562 _ d ( this . field _ 150660 _ b , blockpos . func _ 177984 _ a ( ) ) ) 
 { 
 - @ @ - 608 , 7 + 685 , 7 @ @ 
 + @ @ - 608 , 7 + 702 , 7 @ @ 
 } 
 } 
 
 diff - - git a / patches / minecraft / net / minecraft / entity / item / EntityMinecart . java . patch b / patches / minecraft / net / minecraft / entity / item / EntityMinecart . java . patch 
 index da822bd . . 324ff39 100644 
 - - - a / patches / minecraft / net / minecraft / entity / item / EntityMinecart . java . patch 
 + + + b / patches / minecraft / net / minecraft / entity / item / EntityMinecart . java . patch 
 @ @ - 117 , 8 + 117 , 9 @ @ 
 } 
 
 - double d0 = 0 . 0078125D ; 
 + - BlockRailBase . EnumRailDirection blockrailbase $ enumraildirection = ( BlockRailBase . EnumRailDirection ) p _ 180460 _ 2 _ . func _ 177229 _ b ( blockrailbase . func _ 176560 _ l ( ) ) ; 
 + double slopeAdjustment = getSlopeAdjustment ( ) ; 
 - BlockRailBase . EnumRailDirection blockrailbase $ enumraildirection = ( BlockRailBase . EnumRailDirection ) p _ 180460 _ 2 _ . func _ 177229 _ b ( blockrailbase . func _ 176560 _ l ( ) ) ; 
 + + BlockRailBase . EnumRailDirection blockrailbase $ enumraildirection = blockrailbase . getRailDirection ( field _ 70170 _ p , p _ 180460 _ 1 _ , p _ 180460 _ 2 _ , this ) ; 
 
 switch ( blockrailbase $ enumraildirection ) 
 { 
 @ @ - 190 , 6 + 191 , 24 @ @ 
 double d15 = Math . sqrt ( this . field _ 70159 _ w * this . field _ 70159 _ w + this . field _ 70179 _ y * this . field _ 70179 _ y ) ; 
 
 if ( d15 > 0 . 01D ) 
 + @ @ - 654 , 7 + 679 , 7 @ @ 
 + 
 + if ( BlockRailBase . func _ 176563 _ d ( iblockstate ) ) 
 + { 
 + - BlockRailBase . EnumRailDirection blockrailbase $ enumraildirection = ( BlockRailBase . EnumRailDirection ) iblockstate . func _ 177229 _ b ( ( ( BlockRailBase ) iblockstate . func _ 177230 _ c ( ) ) . func _ 176560 _ l ( ) ) ; 
 + + BlockRailBase . EnumRailDirection blockrailbase $ enumraildirection = ( ( BlockRailBase ) iblockstate . func _ 177230 _ c ( ) ) . getRailDirection ( field _ 70170 _ p , new BlockPos ( i , j , k ) , iblockstate , this ) ; 
 + p _ 70495 _ 3 _ = ( double ) j ; 
 + 
 + if ( blockrailbase $ enumraildirection . func _ 177018 _ c ( ) ) 
 + @ @ - 703 , 7 + 728 , 7 @ @ 
 + 
 + if ( BlockRailBase . func _ 176563 _ d ( iblockstate ) ) 
 + { 
 + - BlockRailBase . EnumRailDirection blockrailbase $ enumraildirection = ( BlockRailBase . EnumRailDirection ) iblockstate . func _ 177229 _ b ( ( ( BlockRailBase ) iblockstate . func _ 177230 _ c ( ) ) . func _ 176560 _ l ( ) ) ; 
 + + BlockRailBase . EnumRailDirection blockrailbase $ enumraildirection = ( ( BlockRailBase ) iblockstate . func _ 177230 _ c ( ) ) . getRailDirection ( field _ 70170 _ p , new BlockPos ( i , j , k ) , iblockstate , this ) ; 
 + int [ ] [ ] aint = field _ 70500 _ g [ blockrailbase $ enumraildirection . func _ 177015 _ a ( ) ] ; 
 + double d0 = 0 . 0D ; 
 + double d1 = ( double ) i + 0 . 5D + ( double ) aint [ 0 ] [ 0 ] * 0 . 5D ; 
 @ @ - 817 , 13 + 842 , 20 @ @ 
 
 public void func _ 70108 _ f ( Entity p _ 70108 _ 1 _ )

NEAREST DIFF:
diff - - git a / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch b / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch 
 index 1903a69 . . f05c96e 100644 
 - - - a / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch 
 + + + b / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch 
 @ @ - 1 , 14 + 1 , 6 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / world / chunk / Chunk . java 
 + + + . . / src - work / minecraft / net / minecraft / world / chunk / Chunk . java 
 - @ @ - 10 , 7 + 10 , 6 @ @ 
 - import java . util . concurrent . Callable ; 
 - import java . util . concurrent . ConcurrentLinkedQueue ; 
 - import net . minecraft . block . Block ; 
 - - import net . minecraft . block . ITileEntityProvider ; 
 - import net . minecraft . block . material . Material ; 
 - import net . minecraft . block . state . IBlockState ; 
 - import net . minecraft . crash . CrashReport ; 
 - @ @ - 167 , 7 + 166 , 7 @ @ 
 + @ @ - 167 , 7 + 167 , 7 @ @ 
 { 
 Block block = this . func _ 150810 _ a ( j , l - 1 , k ) ; 
 
 @ @ - 17 , 7 + 9 , 7 @ @ 
 { 
 this . field _ 76634 _ f [ k < < 4 | j ] = l ; 
 
 - @ @ - 440 , 12 + 439 , 12 @ @ 
 + @ @ - 440 , 12 + 440 , 12 @ @ 
 
 public int func _ 177437 _ b ( BlockPos p _ 177437 _ 1 _ ) 
 { 
 @ @ - 32 , 7 + 24 , 7 @ @ 
 } 
 
 private Block func _ 150810 _ a ( int p _ 150810 _ 1 _ , int p _ 150810 _ 2 _ , int p _ 150810 _ 3 _ ) 
 - @ @ - 623 , 14 + 622 , 19 @ @ 
 + @ @ - 623 , 14 + 623 , 19 @ @ 
 
 extendedblockstorage . func _ 177484 _ a ( i , j & 15 , k , p _ 177436 _ 2 _ ) ; 
 
 @ @ - 54 , 7 + 46 , 7 @ @ 
 this . field _ 76637 _ e . func _ 175713 _ t ( p _ 177436 _ 1 _ ) ; 
 } 
 } 
 - @ @ - 647 , 8 + 651 , 8 @ @ 
 + @ @ - 647 , 8 + 652 , 8 @ @ 
 } 
 else 
 { 
 @ @ - 65 , 7 + 57 , 7 @ @ 
 
 if ( j1 > 0 ) 
 { 
 - @ @ - 668 , 28 + 672 , 18 @ @ 
 + @ @ - 668 , 28 + 673 , 18 @ @ 
 } 
 } 
 
 @ @ - 96 , 7 + 88 , 7 @ @ 
 this . field _ 76637 _ e . func _ 175690 _ a ( p _ 177436 _ 1 _ , tileentity1 ) ; 
 } 
 
 - @ @ - 792 , 6 + 786 , 7 @ @ 
 + @ @ - 792 , 6 + 787 , 7 @ @ 
 k = this . field _ 76645 _ j . length - 1 ; 
 } 
 
 @ @ - 104 , 7 + 96 , 7 @ @ 
 p _ 76612 _ 1 _ . field _ 70175 _ ag = true ; 
 p _ 76612 _ 1 _ . field _ 70176 _ ah = this . field _ 76635 _ g ; 
 p _ 76612 _ 1 _ . field _ 70162 _ ai = k ; 
 - @ @ - 830 , 13 + 825 , 20 @ @ 
 + @ @ - 830 , 13 + 826 , 20 @ @ 
 private TileEntity func _ 177422 _ i ( BlockPos p _ 177422 _ 1 _ ) 
 { 
 Block block = this . func _ 177428 _ a ( p _ 177422 _ 1 _ ) ; 
 @ @ - 126 , 7 + 118 , 7 @ @ 
 if ( tileentity = = null ) 
 { 
 if ( p _ 177424 _ 2 _ = = Chunk . EnumCreateEntityType . IMMEDIATE ) 
 - @ @ - 849 , 11 + 851 , 6 @ @ 
 + @ @ - 849 , 11 + 852 , 6 @ @ 
 this . field _ 177447 _ w . add ( p _ 177424 _ 1 _ ) ; 
 } 
 } 
 @ @ - 138 , 7 + 130 , 7 @ @ 
 
 return tileentity ; 
 } 
 - @ @ - 873 , 7 + 870 , 7 @ @ 
 + @ @ - 873 , 7 + 871 , 7 @ @ 
 p _ 177426 _ 2 _ . func _ 145834 _ a ( this . field _ 76637 _ e ) ; 
 p _ 177426 _ 2 _ . func _ 174878 _ a ( p _ 177426 _ 1 _ ) ; 
 
 @ @ - 147 , 7 + 139 , 7 @ @ 
 { 
 if ( this . field _ 150816 _ i . containsKey ( p _ 177426 _ 1 _ ) ) 
 { 
 - @ @ - 882 , 6 + 879 , 7 @ @ 
 + @ @ - 882 , 6 + 880 , 7 @ @ 
 
 p _ 177426 _ 2 _ . func _ 145829 _ t ( ) ; 
 this . field _ 150816 _ i . put ( p _ 177426 _ 1 _ , p _ 177426 _ 2 _ ) ; 
 @ @ - 155 , 7 + 147 , 7 @ @ 
 } 
 } 
 
 - @ @ - 910 , 8 + 908 , 9 @ @ 
 + @ @ - 910 , 8 + 909 , 9 @ @ 
 entity . func _ 110123 _ P ( ) ; 
 } 
 
 @ @ - 166 , 7 + 158 , 7 @ @ 
 } 
 
 public void func _ 76623 _ d ( ) 
 - @ @ - 927 , 6 + 926 , 7 @ @ 
 + @ @ - 927 , 6 + 927 , 7 @ @ 
 { 
 this . field _ 76637 _ e . func _ 175681 _ c ( this . field _ 76645 _ j [ i ] ) ; 
 } 
 @ @ - 174 , 7 + 166 , 7 @ @ 
 } 
 
 public void func _ 76630 _ e ( ) 
 - @ @ - 936 , 8 + 936 , 8 @ @ 
 + @ @ - 936 , 8 + 937 , 8 @ @ 
 
 public void func _ 177414 _ a ( Entity p _ 177414 _ 1 _ , AxisAlignedBB p _ 177414 _ 2 _ , List < Entity > p _ 177414 _ 3 _ , Predicate < ? super Entity > p _ 177414 _ 4 _ ) 
 { 
 @ @ - 185 , 7 + 177 , 7 @ @ 
 i = MathHelper . func _ 76125 _ a ( i , 0 , this . field _ 76645 _ j . length - 1 ) ; 
 j = MathHelper . func _ 76125 _ a ( j , 0 , this . field _ 76645 _ j . length - 1 ) ; 
 
 - @ @ - 976 , 8 + 976 , 8 @ @ 
 + @ @ - 976 , 8 + 977 , 8 @ @ 
 
 public < T extends Entity > void func _ 177430 _ a ( Class < ? extends T > p _ 177430 _ 1 _ , AxisAlignedBB p _ 177430 _ 2 _ , List < T > p _ 177430 _ 3 _ , Predicate < ? super T > p _ 177430 _ 4 _ ) 
 { 
 @ @ - 196 , 7 + 188 , 7 @ @ 
 i = MathHelper . func _ 76125 _ a ( i , 0 , this . field _ 76645 _ j . length - 1 ) ; 
 j = MathHelper . func _ 76125 _ a ( j , 0 , this . field _ 76645 _ j . length - 1 ) ; 
 
 - @ @ - 1137 , 8 + 1137 , 10 @ @ 
 + @ @ - 1137 , 8 + 1138 , 10 @ @ 
 while ( ! this . field _ 177447 _ w . isEmpty ( ) ) 
 { 
 BlockPos blockpos = ( BlockPos ) this . field _ 177447 _ w . poll ( ) ; 
 @ @ - 208 , 7 + 200 , 7 @ @ 
 { 
 TileEntity tileentity = this . func _ 177422 _ i ( blockpos ) ; 
 this . field _ 76637 _ e . func _ 175690 _ a ( blockpos , tileentity ) ; 
 - @ @ - 1200 , 6 + 1202 , 13 @ @ 
 + @ @ - 1200 , 6 + 1203 , 13 @ @ 
 @ SideOnly ( Side . CLIENT ) 
 public void func _ 177439 _ a ( byte [ ] p _ 177439 _ 1 _ , int p _ 177439 _ 2 _ , boolean p _ 177439 _ 3 _ ) 
 { 
 @ @ - 222 , 7 + 214 , 7 @ @ 
 int i = 0 ; 
 boolean flag = ! this . field _ 76637 _ e . field _ 73011 _ w . func _ 177495 _ o ( ) ; 
 
 - @ @ - 1267 , 10 + 1276 , 16 @ @ 
 + @ @ - 1267 , 10 + 1277 , 16 @ @ 
 this . field _ 76646 _ k = true ; 
 this . func _ 76590 _ a ( ) ; 
 
 @ @ - 239 , 7 + 231 , 7 @ @ 
 } 
 
 public BiomeGenBase func _ 177411 _ a ( BlockPos p _ 177411 _ 1 _ , WorldChunkManager p _ 177411 _ 2 _ ) 
 - @ @ - 1583 , 4 + 1598 , 20 @ @ 
 + @ @ - 1583 , 4 + 1599 , 20 @ @ 
 QUEUED , 
 CHECK ; 
 }
