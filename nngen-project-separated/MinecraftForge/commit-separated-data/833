BLEU SCORE: 0.003269653562747846

TEST MSG: Preserve ItemStack Caps when picking Items up .
GENERATED MSG: Fix extended entity properties being lost when leaving the end , This introduces the concept of calling IExtendedEntityProperties . init when entites / worlds change . Lets see if mods explode .

TEST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / entity / player / InventoryPlayer . java . patch b / patches / minecraft / net / minecraft / entity / player / InventoryPlayer . java . patch <nl> index ed4ba11 . . f597943 100644 <nl> - - - a / patches / minecraft / net / minecraft / entity / player / InventoryPlayer . java . patch <nl> + + + b / patches / minecraft / net / minecraft / entity / player / InventoryPlayer . java . patch <nl> @ @ - 1 , 6 + 1 , 21 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / entity / player / InventoryPlayer . java <nl> + + + . . / src - work / minecraft / net / minecraft / entity / player / InventoryPlayer . java <nl> - @ @ - 315 , 6 + 315 , 14 @ @ <nl> + @ @ - 272 , 12 + 272 , 8 @ @ <nl> + { <nl> + if ( this . field _ 70462 _ a [ j ] = = null ) <nl> + { <nl> + - this . field _ 70462 _ a [ j ] = new ItemStack ( item , 0 , p _ 70452 _ 1 _ . func _ 77960 _ j ( ) ) ; <nl> + - <nl> + - if ( p _ 70452 _ 1 _ . func _ 77942 _ o ( ) ) <nl> + - { <nl> + - this . field _ 70462 _ a [ j ] . func _ 77982 _ d ( ( NBTTagCompound ) p _ 70452 _ 1 _ . func _ 77978 _ p ( ) . func _ 74737 _ b ( ) ) ; <nl> + - } <nl> + + this . field _ 70462 _ a [ j ] = p _ 70452 _ 1 _ . func _ 77946 _ l ( ) ; / / Forge : Replace Item clone above to preserve item capabilities when picking the item up . <nl> + + this . field _ 70462 _ a [ j ] . field _ 77994 _ a = 0 ; <nl> + } <nl> + <nl> + int k = i ; <nl> + @ @ - 315 , 6 + 311 , 14 @ @ <nl> this . field _ 70462 _ a [ i ] . func _ 77945 _ a ( this . field _ 70458 _ d . field _ 70170 _ p , this . field _ 70458 _ d , i , this . field _ 70461 _ c = = i ) ; <nl> } <nl> }
NEAREST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / entity / Entity . java . patch b / patches / minecraft / net / minecraft / entity / Entity . java . patch <nl> index 5f2c397 . . 7a5064e 100644 <nl> - - - a / patches / minecraft / net / minecraft / entity / Entity . java . patch <nl> + + + b / patches / minecraft / net / minecraft / entity / Entity . java . patch <nl> @ @ - 54 , 7 + 54 , 7 @ @ <nl> + public ArrayList < EntityItem > capturedDrops = new ArrayList < EntityItem > ( ) ; <nl> + private UUID persistentID ; <nl> <nl> - + private HashMap < String , IExtendedEntityProperties > extendedProperties ; <nl> + + protected HashMap < String , IExtendedEntityProperties > extendedProperties ; <nl> + <nl> public int func _ 145782 _ y ( ) <nl> { <nl> diff - - git a / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch b / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch <nl> index 1d1e587 . . 4ad85e0 100644 <nl> - - - a / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch <nl> + + + b / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch <nl> @ @ - 498 , 7 + 498 , 18 @ @ <nl> this . field _ 71074 _ e = p _ 71008 _ 1 _ ; <nl> this . field _ 71072 _ f = p _ 71008 _ 2 _ ; <nl> <nl> - @ @ - 1876 , 6 + 2020 , 17 @ @ <nl> + @ @ - 1865 , 6 + 2009 , 10 @ @ <nl> + this . field _ 71106 _ cc = p _ 71049 _ 1 _ . field _ 71106 _ cc ; <nl> + this . func _ 85040 _ s ( p _ 71049 _ 1 _ . func _ 71037 _ bA ( ) ) ; <nl> + this . field _ 82152 _ aq = p _ 71049 _ 1 _ . field _ 82152 _ aq ; <nl> + + / / Copy and re - init ExtendedProperties when switching dimensions . <nl> + + this . extendedProperties = p _ 71049 _ 1 _ . extendedProperties ; <nl> + + for ( net . minecraftforge . common . IExtendedEntityProperties p : this . extendedProperties . values ( ) ) <nl> + + p . init ( this , this . field _ 70170 _ p ) ; <nl> + } <nl> + else if ( this . field _ 70170 _ p . func _ 82736 _ K ( ) . func _ 82766 _ b ( " keepInventory " ) ) <nl> + { <nl> + @ @ - 1876 , 6 + 2024 , 17 @ @ <nl> } <nl> <nl> this . field _ 71078 _ a = p _ 71049 _ 1 _ . field _ 71078 _ a ; <nl> @ @ - 516 , 7 + 527 , 7 @ @ <nl> } <nl> <nl> protected boolean func _ 70041 _ e _ ( ) <nl> - @ @ - 1914 , 7 + 2069 , 14 @ @ <nl> + @ @ - 1914 , 7 + 2073 , 14 @ @ <nl> <nl> public void func _ 70062 _ b ( int p _ 70062 _ 1 _ , ItemStack p _ 70062 _ 2 _ ) <nl> { <nl> @ @ - 532 , 7 + 543 , 7 @ @ <nl> } <nl> <nl> @ SideOnly ( Side . CLIENT ) <nl> - @ @ - 1959 , 7 + 2121 , 7 @ @ <nl> + @ @ - 1959 , 7 + 2125 , 7 @ @ <nl> <nl> public IChatComponent func _ 145748 _ c _ ( ) <nl> { <nl> @ @ - 541 , 7 + 552 , 7 @ @ <nl> chatcomponenttext . func _ 150256 _ b ( ) . func _ 150241 _ a ( new ClickEvent ( ClickEvent . Action . SUGGEST _ COMMAND , " / msg " + this . func _ 70005 _ c _ ( ) + " " ) ) ; <nl> return chatcomponenttext ; <nl> } <nl> - @ @ - 2042 , 6 + 2204 , 118 @ @ <nl> + @ @ - 2042 , 6 + 2208 , 118 @ @ <nl> FMLNetworkHandler . openGui ( this , mod , modGuiId , world , x , y , z ) ; <nl> } <nl> <nl> diff - - git a / src / main / java / net / minecraftforge / common / IExtendedEntityProperties . java b / src / main / java / net / minecraftforge / common / IExtendedEntityProperties . java <nl> index 48702bd . . 87ea4da 100644 <nl> - - - a / src / main / java / net / minecraftforge / common / IExtendedEntityProperties . java <nl> + + + b / src / main / java / net / minecraftforge / common / IExtendedEntityProperties . java <nl> @ @ - 30 , 6 + 30 , 8 @ @ public interface IExtendedEntityProperties { <nl> * Used to initialize the extended properties with the entity that this is attached to , as well <nl> * as the world object . <nl> * Called automatically if you register with the EntityConstructing event . <nl> + * May be called multiple times if the extended properties is moved over to a new entity . <nl> + * Such as when a player switches dimension { Minecraft re - creates the player entity } <nl> * @ param entity The entity that this extended properties is attached to <nl> * @ param world The world in which the entity exists <nl> * /

TEST DIFF:
diff - - git a / patches / minecraft / net / minecraft / entity / player / InventoryPlayer . java . patch b / patches / minecraft / net / minecraft / entity / player / InventoryPlayer . java . patch 
 index ed4ba11 . . f597943 100644 
 - - - a / patches / minecraft / net / minecraft / entity / player / InventoryPlayer . java . patch 
 + + + b / patches / minecraft / net / minecraft / entity / player / InventoryPlayer . java . patch 
 @ @ - 1 , 6 + 1 , 21 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / entity / player / InventoryPlayer . java 
 + + + . . / src - work / minecraft / net / minecraft / entity / player / InventoryPlayer . java 
 - @ @ - 315 , 6 + 315 , 14 @ @ 
 + @ @ - 272 , 12 + 272 , 8 @ @ 
 + { 
 + if ( this . field _ 70462 _ a [ j ] = = null ) 
 + { 
 + - this . field _ 70462 _ a [ j ] = new ItemStack ( item , 0 , p _ 70452 _ 1 _ . func _ 77960 _ j ( ) ) ; 
 + - 
 + - if ( p _ 70452 _ 1 _ . func _ 77942 _ o ( ) ) 
 + - { 
 + - this . field _ 70462 _ a [ j ] . func _ 77982 _ d ( ( NBTTagCompound ) p _ 70452 _ 1 _ . func _ 77978 _ p ( ) . func _ 74737 _ b ( ) ) ; 
 + - } 
 + + this . field _ 70462 _ a [ j ] = p _ 70452 _ 1 _ . func _ 77946 _ l ( ) ; / / Forge : Replace Item clone above to preserve item capabilities when picking the item up . 
 + + this . field _ 70462 _ a [ j ] . field _ 77994 _ a = 0 ; 
 + } 
 + 
 + int k = i ; 
 + @ @ - 315 , 6 + 311 , 14 @ @ 
 this . field _ 70462 _ a [ i ] . func _ 77945 _ a ( this . field _ 70458 _ d . field _ 70170 _ p , this . field _ 70458 _ d , i , this . field _ 70461 _ c = = i ) ; 
 } 
 }

NEAREST DIFF:
diff - - git a / patches / minecraft / net / minecraft / entity / Entity . java . patch b / patches / minecraft / net / minecraft / entity / Entity . java . patch 
 index 5f2c397 . . 7a5064e 100644 
 - - - a / patches / minecraft / net / minecraft / entity / Entity . java . patch 
 + + + b / patches / minecraft / net / minecraft / entity / Entity . java . patch 
 @ @ - 54 , 7 + 54 , 7 @ @ 
 + public ArrayList < EntityItem > capturedDrops = new ArrayList < EntityItem > ( ) ; 
 + private UUID persistentID ; 
 
 - + private HashMap < String , IExtendedEntityProperties > extendedProperties ; 
 + + protected HashMap < String , IExtendedEntityProperties > extendedProperties ; 
 + 
 public int func _ 145782 _ y ( ) 
 { 
 diff - - git a / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch b / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch 
 index 1d1e587 . . 4ad85e0 100644 
 - - - a / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch 
 + + + b / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch 
 @ @ - 498 , 7 + 498 , 18 @ @ 
 this . field _ 71074 _ e = p _ 71008 _ 1 _ ; 
 this . field _ 71072 _ f = p _ 71008 _ 2 _ ; 
 
 - @ @ - 1876 , 6 + 2020 , 17 @ @ 
 + @ @ - 1865 , 6 + 2009 , 10 @ @ 
 + this . field _ 71106 _ cc = p _ 71049 _ 1 _ . field _ 71106 _ cc ; 
 + this . func _ 85040 _ s ( p _ 71049 _ 1 _ . func _ 71037 _ bA ( ) ) ; 
 + this . field _ 82152 _ aq = p _ 71049 _ 1 _ . field _ 82152 _ aq ; 
 + + / / Copy and re - init ExtendedProperties when switching dimensions . 
 + + this . extendedProperties = p _ 71049 _ 1 _ . extendedProperties ; 
 + + for ( net . minecraftforge . common . IExtendedEntityProperties p : this . extendedProperties . values ( ) ) 
 + + p . init ( this , this . field _ 70170 _ p ) ; 
 + } 
 + else if ( this . field _ 70170 _ p . func _ 82736 _ K ( ) . func _ 82766 _ b ( " keepInventory " ) ) 
 + { 
 + @ @ - 1876 , 6 + 2024 , 17 @ @ 
 } 
 
 this . field _ 71078 _ a = p _ 71049 _ 1 _ . field _ 71078 _ a ; 
 @ @ - 516 , 7 + 527 , 7 @ @ 
 } 
 
 protected boolean func _ 70041 _ e _ ( ) 
 - @ @ - 1914 , 7 + 2069 , 14 @ @ 
 + @ @ - 1914 , 7 + 2073 , 14 @ @ 
 
 public void func _ 70062 _ b ( int p _ 70062 _ 1 _ , ItemStack p _ 70062 _ 2 _ ) 
 { 
 @ @ - 532 , 7 + 543 , 7 @ @ 
 } 
 
 @ SideOnly ( Side . CLIENT ) 
 - @ @ - 1959 , 7 + 2121 , 7 @ @ 
 + @ @ - 1959 , 7 + 2125 , 7 @ @ 
 
 public IChatComponent func _ 145748 _ c _ ( ) 
 { 
 @ @ - 541 , 7 + 552 , 7 @ @ 
 chatcomponenttext . func _ 150256 _ b ( ) . func _ 150241 _ a ( new ClickEvent ( ClickEvent . Action . SUGGEST _ COMMAND , " / msg " + this . func _ 70005 _ c _ ( ) + " " ) ) ; 
 return chatcomponenttext ; 
 } 
 - @ @ - 2042 , 6 + 2204 , 118 @ @ 
 + @ @ - 2042 , 6 + 2208 , 118 @ @ 
 FMLNetworkHandler . openGui ( this , mod , modGuiId , world , x , y , z ) ; 
 } 
 
 diff - - git a / src / main / java / net / minecraftforge / common / IExtendedEntityProperties . java b / src / main / java / net / minecraftforge / common / IExtendedEntityProperties . java 
 index 48702bd . . 87ea4da 100644 
 - - - a / src / main / java / net / minecraftforge / common / IExtendedEntityProperties . java 
 + + + b / src / main / java / net / minecraftforge / common / IExtendedEntityProperties . java 
 @ @ - 30 , 6 + 30 , 8 @ @ public interface IExtendedEntityProperties { 
 * Used to initialize the extended properties with the entity that this is attached to , as well 
 * as the world object . 
 * Called automatically if you register with the EntityConstructing event . 
 + * May be called multiple times if the extended properties is moved over to a new entity . 
 + * Such as when a player switches dimension { Minecraft re - creates the player entity } 
 * @ param entity The entity that this extended properties is attached to 
 * @ param world The world in which the entity exists 
 * /
