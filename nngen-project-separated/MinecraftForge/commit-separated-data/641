BLEU SCORE: 0.02190407726635374

TEST MSG: Force mipmap even if textures are the wrong size
GENERATED MSG: Move resource location resolution down to TextureAtlasSprite and allow for sprites that are not stitched .

TEST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch b / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch <nl> index 73e5da4 . . 02b6019 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch <nl> @ @ - 84 , 7 + 84 , 16 @ @ <nl> continue ; <nl> } <nl> finally <nl> - @ @ - 129 , 6 + 158 , 7 @ @ <nl> + @ @ - 122 , 17 + 151 , 18 @ @ <nl> + <nl> + if ( lvt _ 11 _ 2 _ < k ) <nl> + { <nl> + - field _ 147635 _ d . warn ( " Texture { } with size { } x { } limits mip level from { } to { } " , new Object [ ] { resourcelocation , Integer . valueOf ( textureatlassprite . func _ 94211 _ a ( ) ) , Integer . valueOf ( textureatlassprite . func _ 94216 _ b ( ) ) , Integer . valueOf ( MathHelper . func _ 151239 _ c ( k ) ) , Integer . valueOf ( MathHelper . func _ 151239 _ c ( lvt _ 11 _ 2 _ ) ) } ) ; <nl> + - k = lvt _ 11 _ 2 _ ; <nl> + + / / FORGE : do not lower the mipmap level , just log the problematic textures <nl> + + field _ 147635 _ d . warn ( " Texture { } with size { } x { } will have visual artifacts at mip level { } , it can only support level { } . Please report to the mod author that the texture should be some multiple of 16x16 . " , resourcelocation , textureatlassprite . func _ 94211 _ a ( ) , textureatlassprite . func _ 94216 _ b ( ) , MathHelper . func _ 151239 _ c ( k ) , MathHelper . func _ 151239 _ c ( lvt _ 11 _ 2 _ ) ) ; <nl> + } <nl> + <nl> stitcher . func _ 110934 _ a ( textureatlassprite ) ; <nl> } <nl> <nl> @ @ - 92 , 6 + 101 , 11 @ @ <nl> int l = Math . min ( j , k ) ; <nl> int i1 = MathHelper . func _ 151239 _ c ( l ) ; <nl> <nl> + - if ( i1 < this . field _ 147636 _ j ) <nl> + + if ( false & & i1 < this . field _ 147636 _ j ) / / FORGE : do not lower the mipmap level <nl> + { <nl> + field _ 147635 _ d . warn ( " { } : dropping miplevel from { } to { } , because of minimum power of two : { } " , new Object [ ] { this . field _ 94254 _ c , Integer . valueOf ( this . field _ 147636 _ j ) , Integer . valueOf ( i1 ) , Integer . valueOf ( l ) } ) ; <nl> + this . field _ 147636 _ j = i1 ; <nl> @ @ - 140 , 9 + 170 , 12 @ @ <nl> <nl> this . field _ 94249 _ f . func _ 147963 _ d ( this . field _ 147636 _ j ) ; <nl> diff - - git a / patches / minecraft / net / minecraft / client / renderer / texture / TextureUtil . java . patch b / patches / minecraft / net / minecraft / client / renderer / texture / TextureUtil . java . patch <nl> index cb9c3dc . . 1c5abc4 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / renderer / texture / TextureUtil . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / renderer / texture / TextureUtil . java . patch <nl> @ @ - 1 , 6 + 1 , 30 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / client / renderer / texture / TextureUtil . java <nl> + + + . . / src - work / minecraft / net / minecraft / client / renderer / texture / TextureUtil . java <nl> - @ @ - 202 , 9 + 202 , 11 @ @ <nl> + @ @ - 83 , 6 + 83 , 7 @ @ <nl> + int [ ] aint1 = aint [ l1 - 1 ] ; <nl> + int [ ] aint2 = new int [ aint1 . length > > 2 ] ; <nl> + int j = p _ 147949 _ 1 _ > > l1 ; <nl> + + if ( j > 0 ) { / / FORGE : forcing higher mipmap levels on odd textures needs this check <nl> + int k = aint2 . length / j ; <nl> + int l = j < < 1 ; <nl> + <nl> + @ @ - 94 , 6 + 95 , 7 @ @ <nl> + aint2 [ i1 + j1 * j ] = func _ 147943 _ a ( aint1 [ k1 + 0 ] , aint1 [ k1 + 1 ] , aint1 [ k1 + 0 + l ] , aint1 [ k1 + 1 + l ] , flag ) ; <nl> + } <nl> + } <nl> + + } / / end if ( j > 0 ) <nl> + <nl> + aint [ l1 ] = aint2 ; <nl> + } <nl> + @ @ - 168 , 6 + 170 , 7 @ @ <nl> + for ( int i = 0 ; i < p _ 147955 _ 0 _ . length ; + + i ) <nl> + { <nl> + int [ ] aint = p _ 147955 _ 0 _ [ i ] ; <nl> + + if ( ( p _ 147955 _ 1 _ > > i < = 0 ) | | ( p _ 147955 _ 2 _ > > i < = 0 ) ) break ; <nl> + func _ 147947 _ a ( i , aint , p _ 147955 _ 1 _ > > i , p _ 147955 _ 2 _ > > i , p _ 147955 _ 3 _ > > i , p _ 147955 _ 4 _ > > i , p _ 147955 _ 5 _ , p _ 147955 _ 6 _ , p _ 147955 _ 0 _ . length > 1 ) ; <nl> + } <nl> + } <nl> + @ @ - 202 , 9 + 205 , 11 @ @ <nl> <nl> public static void func _ 180600 _ a ( int p _ 180600 _ 0 _ , int p _ 180600 _ 1 _ , int p _ 180600 _ 2 _ , int p _ 180600 _ 3 _ ) <nl> {
NEAREST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / client / renderer / texture / TextureAtlasSprite . java . patch b / patches / minecraft / net / minecraft / client / renderer / texture / TextureAtlasSprite . java . patch <nl> new file mode 100644 <nl> index 0000000 . . 0df2675 <nl> - - - / dev / null <nl> + + + b / patches / minecraft / net / minecraft / client / renderer / texture / TextureAtlasSprite . java . patch <nl> @ @ - 0 , 0 + 1 , 32 @ @ <nl> + - - - . . / src _ base / minecraft / net / minecraft / client / renderer / texture / TextureAtlasSprite . java <nl> + + + + . . / src _ work / minecraft / net / minecraft / client / renderer / texture / TextureAtlasSprite . java <nl> + @ @ - 11 , 6 + 11 , 8 @ @ <nl> + import java . util . List ; <nl> + import javax . imageio . ImageIO ; <nl> + import net . minecraft . client . resources . Resource ; <nl> + + import net . minecraft . client . resources . ResourceLocation ; <nl> + + import net . minecraft . client . resources . ResourceManager ; <nl> + import net . minecraft . client . resources . data . AnimationFrame ; <nl> + import net . minecraft . client . resources . data . AnimationMetadataSection ; <nl> + import net . minecraft . util . Icon ; <nl> + @ @ - 184 , 6 + 186 , 20 @ @ <nl> + this . height = par1 ; <nl> + } <nl> + <nl> + + / * * <nl> + + * Load the specified resource as this sprite ' s data . <nl> + + * Returning false from this function will prevent this icon from being stitched onto the master texture . <nl> + + * @ param manager Main resource manager <nl> + + * @ param location File resource location <nl> + + * @ return False to prevent this Icon from being stitched <nl> + + * @ throws IOException <nl> + + * / <nl> + + public boolean load ( ResourceManager manager , ResourceLocation location ) throws IOException <nl> + + { <nl> + + func _ 130100 _ a ( manager . func _ 110536 _ a ( location ) ) ; <nl> + + return true ; <nl> + + } <nl> + + <nl> + public void func _ 130100 _ a ( Resource par1Resource ) throws IOException <nl> + { <nl> + this . func _ 130102 _ n ( ) ; <nl> diff - - git a / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch b / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch <nl> index 9db4e41 . . 1ac1446 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch <nl> @ @ - 16 , 7 + 16 , 7 @ @ <nl> Iterator iterator = this . field _ 110574 _ e . entrySet ( ) . iterator ( ) ; <nl> <nl> while ( iterator . hasNext ( ) ) <nl> - @ @ - 69 , 7 + 71 , 7 @ @ <nl> + @ @ - 69 , 11 + 71 , 14 @ @ <nl> Entry entry = ( Entry ) iterator . next ( ) ; <nl> String s = ( String ) entry . getKey ( ) ; <nl> TextureAtlasSprite textureatlassprite = ( TextureAtlasSprite ) entry . getValue ( ) ; <nl> @ @ - 25 , 7 + 25 , 15 @ @ <nl> <nl> try <nl> { <nl> - @ @ - 142 , 6 + 144 , 7 @ @ <nl> + - textureatlassprite . func _ 130100 _ a ( par1ResourceManager . func _ 110536 _ a ( resourcelocation ) ) ; <nl> + + if ( ! textureatlassprite . load ( par1ResourceManager , resourcelocation ) ) <nl> + + { <nl> + + continue ; <nl> + + } <nl> + } <nl> + catch ( RuntimeException runtimeexception ) <nl> + { <nl> + @ @ - 142 , 6 + 147 , 7 @ @ <nl> textureatlassprite1 = ( TextureAtlasSprite ) iterator1 . next ( ) ; <nl> textureatlassprite1 . copyFrom ( this . missingImage ) ; <nl> } <nl> @ @ - 33 , 7 + 41 , 7 @ @ <nl> } <nl> <nl> private void func _ 110573 _ f ( ) <nl> - @ @ - 212 , 6 + 215 , 7 @ @ <nl> + @ @ - 212 , 6 + 218 , 7 @ @ <nl> if ( par1Str = = null ) <nl> { <nl> ( new RuntimeException ( " Don \ ' t register null ! " ) ) . printStackTrace ( ) ; <nl> @ @ - 41 , 7 + 49 , 7 @ @ <nl> } <nl> <nl> Object object = ( TextureAtlasSprite ) this . field _ 110574 _ e . get ( par1Str ) ; <nl> - @ @ - 253 , 4 + 257 , 58 @ @ <nl> + @ @ - 253 , 4 + 260 , 58 @ @ <nl> { <nl> this . updateAnimations ( ) ; <nl> }

TEST DIFF:
diff - - git a / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch b / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch 
 index 73e5da4 . . 02b6019 100644 
 - - - a / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch 
 @ @ - 84 , 7 + 84 , 16 @ @ 
 continue ; 
 } 
 finally 
 - @ @ - 129 , 6 + 158 , 7 @ @ 
 + @ @ - 122 , 17 + 151 , 18 @ @ 
 + 
 + if ( lvt _ 11 _ 2 _ < k ) 
 + { 
 + - field _ 147635 _ d . warn ( " Texture { } with size { } x { } limits mip level from { } to { } " , new Object [ ] { resourcelocation , Integer . valueOf ( textureatlassprite . func _ 94211 _ a ( ) ) , Integer . valueOf ( textureatlassprite . func _ 94216 _ b ( ) ) , Integer . valueOf ( MathHelper . func _ 151239 _ c ( k ) ) , Integer . valueOf ( MathHelper . func _ 151239 _ c ( lvt _ 11 _ 2 _ ) ) } ) ; 
 + - k = lvt _ 11 _ 2 _ ; 
 + + / / FORGE : do not lower the mipmap level , just log the problematic textures 
 + + field _ 147635 _ d . warn ( " Texture { } with size { } x { } will have visual artifacts at mip level { } , it can only support level { } . Please report to the mod author that the texture should be some multiple of 16x16 . " , resourcelocation , textureatlassprite . func _ 94211 _ a ( ) , textureatlassprite . func _ 94216 _ b ( ) , MathHelper . func _ 151239 _ c ( k ) , MathHelper . func _ 151239 _ c ( lvt _ 11 _ 2 _ ) ) ; 
 + } 
 + 
 stitcher . func _ 110934 _ a ( textureatlassprite ) ; 
 } 
 
 @ @ - 92 , 6 + 101 , 11 @ @ 
 int l = Math . min ( j , k ) ; 
 int i1 = MathHelper . func _ 151239 _ c ( l ) ; 
 
 + - if ( i1 < this . field _ 147636 _ j ) 
 + + if ( false & & i1 < this . field _ 147636 _ j ) / / FORGE : do not lower the mipmap level 
 + { 
 + field _ 147635 _ d . warn ( " { } : dropping miplevel from { } to { } , because of minimum power of two : { } " , new Object [ ] { this . field _ 94254 _ c , Integer . valueOf ( this . field _ 147636 _ j ) , Integer . valueOf ( i1 ) , Integer . valueOf ( l ) } ) ; 
 + this . field _ 147636 _ j = i1 ; 
 @ @ - 140 , 9 + 170 , 12 @ @ 
 
 this . field _ 94249 _ f . func _ 147963 _ d ( this . field _ 147636 _ j ) ; 
 diff - - git a / patches / minecraft / net / minecraft / client / renderer / texture / TextureUtil . java . patch b / patches / minecraft / net / minecraft / client / renderer / texture / TextureUtil . java . patch 
 index cb9c3dc . . 1c5abc4 100644 
 - - - a / patches / minecraft / net / minecraft / client / renderer / texture / TextureUtil . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / renderer / texture / TextureUtil . java . patch 
 @ @ - 1 , 6 + 1 , 30 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / client / renderer / texture / TextureUtil . java 
 + + + . . / src - work / minecraft / net / minecraft / client / renderer / texture / TextureUtil . java 
 - @ @ - 202 , 9 + 202 , 11 @ @ 
 + @ @ - 83 , 6 + 83 , 7 @ @ 
 + int [ ] aint1 = aint [ l1 - 1 ] ; 
 + int [ ] aint2 = new int [ aint1 . length > > 2 ] ; 
 + int j = p _ 147949 _ 1 _ > > l1 ; 
 + + if ( j > 0 ) { / / FORGE : forcing higher mipmap levels on odd textures needs this check 
 + int k = aint2 . length / j ; 
 + int l = j < < 1 ; 
 + 
 + @ @ - 94 , 6 + 95 , 7 @ @ 
 + aint2 [ i1 + j1 * j ] = func _ 147943 _ a ( aint1 [ k1 + 0 ] , aint1 [ k1 + 1 ] , aint1 [ k1 + 0 + l ] , aint1 [ k1 + 1 + l ] , flag ) ; 
 + } 
 + } 
 + + } / / end if ( j > 0 ) 
 + 
 + aint [ l1 ] = aint2 ; 
 + } 
 + @ @ - 168 , 6 + 170 , 7 @ @ 
 + for ( int i = 0 ; i < p _ 147955 _ 0 _ . length ; + + i ) 
 + { 
 + int [ ] aint = p _ 147955 _ 0 _ [ i ] ; 
 + + if ( ( p _ 147955 _ 1 _ > > i < = 0 ) | | ( p _ 147955 _ 2 _ > > i < = 0 ) ) break ; 
 + func _ 147947 _ a ( i , aint , p _ 147955 _ 1 _ > > i , p _ 147955 _ 2 _ > > i , p _ 147955 _ 3 _ > > i , p _ 147955 _ 4 _ > > i , p _ 147955 _ 5 _ , p _ 147955 _ 6 _ , p _ 147955 _ 0 _ . length > 1 ) ; 
 + } 
 + } 
 + @ @ - 202 , 9 + 205 , 11 @ @ 
 
 public static void func _ 180600 _ a ( int p _ 180600 _ 0 _ , int p _ 180600 _ 1 _ , int p _ 180600 _ 2 _ , int p _ 180600 _ 3 _ ) 
 {

NEAREST DIFF:
diff - - git a / patches / minecraft / net / minecraft / client / renderer / texture / TextureAtlasSprite . java . patch b / patches / minecraft / net / minecraft / client / renderer / texture / TextureAtlasSprite . java . patch 
 new file mode 100644 
 index 0000000 . . 0df2675 
 - - - / dev / null 
 + + + b / patches / minecraft / net / minecraft / client / renderer / texture / TextureAtlasSprite . java . patch 
 @ @ - 0 , 0 + 1 , 32 @ @ 
 + - - - . . / src _ base / minecraft / net / minecraft / client / renderer / texture / TextureAtlasSprite . java 
 + + + + . . / src _ work / minecraft / net / minecraft / client / renderer / texture / TextureAtlasSprite . java 
 + @ @ - 11 , 6 + 11 , 8 @ @ 
 + import java . util . List ; 
 + import javax . imageio . ImageIO ; 
 + import net . minecraft . client . resources . Resource ; 
 + + import net . minecraft . client . resources . ResourceLocation ; 
 + + import net . minecraft . client . resources . ResourceManager ; 
 + import net . minecraft . client . resources . data . AnimationFrame ; 
 + import net . minecraft . client . resources . data . AnimationMetadataSection ; 
 + import net . minecraft . util . Icon ; 
 + @ @ - 184 , 6 + 186 , 20 @ @ 
 + this . height = par1 ; 
 + } 
 + 
 + + / * * 
 + + * Load the specified resource as this sprite ' s data . 
 + + * Returning false from this function will prevent this icon from being stitched onto the master texture . 
 + + * @ param manager Main resource manager 
 + + * @ param location File resource location 
 + + * @ return False to prevent this Icon from being stitched 
 + + * @ throws IOException 
 + + * / 
 + + public boolean load ( ResourceManager manager , ResourceLocation location ) throws IOException 
 + + { 
 + + func _ 130100 _ a ( manager . func _ 110536 _ a ( location ) ) ; 
 + + return true ; 
 + + } 
 + + 
 + public void func _ 130100 _ a ( Resource par1Resource ) throws IOException 
 + { 
 + this . func _ 130102 _ n ( ) ; 
 diff - - git a / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch b / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch 
 index 9db4e41 . . 1ac1446 100644 
 - - - a / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / renderer / texture / TextureMap . java . patch 
 @ @ - 16 , 7 + 16 , 7 @ @ 
 Iterator iterator = this . field _ 110574 _ e . entrySet ( ) . iterator ( ) ; 
 
 while ( iterator . hasNext ( ) ) 
 - @ @ - 69 , 7 + 71 , 7 @ @ 
 + @ @ - 69 , 11 + 71 , 14 @ @ 
 Entry entry = ( Entry ) iterator . next ( ) ; 
 String s = ( String ) entry . getKey ( ) ; 
 TextureAtlasSprite textureatlassprite = ( TextureAtlasSprite ) entry . getValue ( ) ; 
 @ @ - 25 , 7 + 25 , 15 @ @ 
 
 try 
 { 
 - @ @ - 142 , 6 + 144 , 7 @ @ 
 + - textureatlassprite . func _ 130100 _ a ( par1ResourceManager . func _ 110536 _ a ( resourcelocation ) ) ; 
 + + if ( ! textureatlassprite . load ( par1ResourceManager , resourcelocation ) ) 
 + + { 
 + + continue ; 
 + + } 
 + } 
 + catch ( RuntimeException runtimeexception ) 
 + { 
 + @ @ - 142 , 6 + 147 , 7 @ @ 
 textureatlassprite1 = ( TextureAtlasSprite ) iterator1 . next ( ) ; 
 textureatlassprite1 . copyFrom ( this . missingImage ) ; 
 } 
 @ @ - 33 , 7 + 41 , 7 @ @ 
 } 
 
 private void func _ 110573 _ f ( ) 
 - @ @ - 212 , 6 + 215 , 7 @ @ 
 + @ @ - 212 , 6 + 218 , 7 @ @ 
 if ( par1Str = = null ) 
 { 
 ( new RuntimeException ( " Don \ ' t register null ! " ) ) . printStackTrace ( ) ; 
 @ @ - 41 , 7 + 49 , 7 @ @ 
 } 
 
 Object object = ( TextureAtlasSprite ) this . field _ 110574 _ e . get ( par1Str ) ; 
 - @ @ - 253 , 4 + 257 , 58 @ @ 
 + @ @ - 253 , 4 + 260 , 58 @ @ 
 { 
 this . updateAnimations ( ) ; 
 }
