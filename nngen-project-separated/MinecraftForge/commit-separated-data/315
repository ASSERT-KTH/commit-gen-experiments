BLEU SCORE: 0.03089055318156698

TEST MSG: Fix for the EntityItemPickupEvent having 0 count item when event is fired .
GENERATED MSG: Fixed Entity extended properties init order . Closes # 1532

TEST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / entity / item / EntityItem . java . patch b / patches / minecraft / net / minecraft / entity / item / EntityItem . java . patch <nl> index 1eb7106 . . cadbee0 100644 <nl> - - - a / patches / minecraft / net / minecraft / entity / item / EntityItem . java . patch <nl> + + + b / patches / minecraft / net / minecraft / entity / item / EntityItem . java . patch <nl> @ @ - 84 , 7 + 84 , 7 @ @ <nl> <nl> if ( this . func _ 145800 _ j ( ) ! = null ) <nl> { <nl> - @ @ - 358 , 18 + 381 , 24 @ @ <nl> + @ @ - 358 , 22 + 381 , 30 @ @ <nl> { <nl> this . func _ 70106 _ y ( ) ; <nl> } <nl> @ @ - 103 , 14 + 103 , 21 @ @ <nl> - if ( this . field _ 145804 _ b = = 0 & & ( this . field _ 145802 _ g = = null | | 6000 - this . field _ 70292 _ b < = 200 | | this . field _ 145802 _ g . equals ( p _ 70100 _ 1 _ . func _ 70005 _ c _ ( ) ) ) & & p _ 70100 _ 1 _ . field _ 71071 _ by . func _ 70441 _ a ( itemstack ) ) <nl> + int hook = net . minecraftforge . event . ForgeEventFactory . onItemPickup ( this , p _ 70100 _ 1 _ ) ; <nl> + if ( hook < 0 ) return ; <nl> + + ItemStack clone = itemstack . func _ 77946 _ l ( ) ; <nl> + <nl> - + if ( this . field _ 145804 _ b < = 0 & & ( this . field _ 145802 _ g = = null | | lifespan - this . field _ 70292 _ b < = 200 | | this . field _ 145802 _ g . equals ( p _ 70100 _ 1 _ . func _ 70005 _ c _ ( ) ) ) & & ( hook = = 1 | | i < = 0 | | p _ 70100 _ 1 _ . field _ 71071 _ by . func _ 70441 _ a ( itemstack ) ) ) <nl> + + if ( this . field _ 145804 _ b < = 0 & & ( this . field _ 145802 _ g = = null | | lifespan - this . field _ 70292 _ b < = 200 | | this . field _ 145802 _ g . equals ( p _ 70100 _ 1 _ . func _ 70005 _ c _ ( ) ) ) & & ( hook = = 1 | | i < = 0 | | p _ 70100 _ 1 _ . field _ 71071 _ by . func _ 70441 _ a ( itemstack ) | | clone . func _ 190916 _ E ( ) > this . func _ 92059 _ d ( ) . func _ 190916 _ E ( ) ) ) <nl> { <nl> - + net . minecraftforge . fml . common . FMLCommonHandler . instance ( ) . firePlayerItemPickupEvent ( p _ 70100 _ 1 _ , this ) ; <nl> - p _ 70100 _ 1 _ . func _ 71001 _ a ( this , i ) ; <nl> + - p _ 70100 _ 1 _ . func _ 71001 _ a ( this , i ) ; <nl> + + clone . func _ 190920 _ e ( clone . func _ 190916 _ E ( ) - this . func _ 92059 _ d ( ) . func _ 190916 _ E ( ) ) ; <nl> + + net . minecraftforge . fml . common . FMLCommonHandler . instance ( ) . firePlayerItemPickupEvent ( p _ 70100 _ 1 _ , this , clone ) ; <nl> <nl> if ( itemstack . func _ 190926 _ b ( ) ) <nl> - @ @ - 476 , 6 + 505 , 6 @ @ <nl> + { <nl> + + p _ 70100 _ 1 _ . func _ 71001 _ a ( this , i ) ; <nl> + this . func _ 70106 _ y ( ) ; <nl> + itemstack . func _ 190920 _ e ( i ) ; <nl> + } <nl> + @ @ - 476 , 6 + 507 , 6 @ @ <nl> public void func _ 174870 _ v ( ) <nl> { <nl> this . func _ 174871 _ r ( ) ; <nl> diff - - git a / src / main / java / net / minecraftforge / fml / common / FMLCommonHandler . java b / src / main / java / net / minecraftforge / fml / common / FMLCommonHandler . java <nl> index 7be185e . . 1be0b02 100644 <nl> - - - a / src / main / java / net / minecraftforge / fml / common / FMLCommonHandler . java <nl> + + + b / src / main / java / net / minecraftforge / fml / common / FMLCommonHandler . java <nl> @ @ - 583 , 9 + 583 , 9 @ @ public class FMLCommonHandler <nl> bus ( ) . post ( new PlayerEvent . PlayerRespawnEvent ( player , endConquered ) ) ; <nl> } <nl> <nl> - public void firePlayerItemPickupEvent ( EntityPlayer player , EntityItem item ) <nl> + public void firePlayerItemPickupEvent ( EntityPlayer player , EntityItem item , ItemStack clone ) <nl> { <nl> - bus ( ) . post ( new PlayerEvent . ItemPickupEvent ( player , item ) ) ; <nl> + bus ( ) . post ( new PlayerEvent . ItemPickupEvent ( player , item , clone ) ) ; <nl> } <nl> <nl> public void firePlayerCraftingEvent ( EntityPlayer player , ItemStack crafted , IInventory craftMatrix ) <nl> diff - - git a / src / main / java / net / minecraftforge / fml / common / gameevent / PlayerEvent . java b / src / main / java / net / minecraftforge / fml / common / gameevent / PlayerEvent . java <nl> index 2b2f0bd . . 5d1a0db 100644 <nl> - - - a / src / main / java / net / minecraftforge / fml / common / gameevent / PlayerEvent . java <nl> + + + b / src / main / java / net / minecraftforge / fml / common / gameevent / PlayerEvent . java <nl> @ @ - 35 , 11 + 35 , 27 @ @ public class PlayerEvent extends Event { <nl> } <nl> <nl> public static class ItemPickupEvent extends PlayerEvent { <nl> - public final EntityItem pickedUp ; <nl> - public ItemPickupEvent ( EntityPlayer player , EntityItem pickedUp ) <nl> + 	 / * * <nl> + 	 * Original EntityItem with current remaining stack size <nl> + 	 * / <nl> + private final EntityItem originalEntity ; <nl> + / * * <nl> + * Clone item stack , containing the item and amount picked up <nl> + * / <nl> + private final ItemStack stack ; <nl> + public ItemPickupEvent ( EntityPlayer player , EntityItem entPickedUp , ItemStack stack ) <nl> { <nl> super ( player ) ; <nl> - this . pickedUp = pickedUp ; <nl> + originalEntity = entPickedUp ; <nl> + this . stack = stack ; <nl> + } <nl> + <nl> + public ItemStack getStack ( ) { <nl> + 	 return stack ; <nl> + } <nl> + <nl> + public EntityItem getOriginalEntity ( ) { <nl> + 	 return originalEntity ; <nl> } <nl> } <nl> <nl> diff - - git a / src / test / java / net / minecraftforge / debug / PlayerItemPickupEventDebug . java b / src / test / java / net / minecraftforge / debug / PlayerItemPickupEventDebug . java <nl> new file mode 100644 <nl> index 0000000 . . 7e332ea <nl> - - - / dev / null <nl> + + + b / src / test / java / net / minecraftforge / debug / PlayerItemPickupEventDebug . java <nl> @ @ - 0 , 0 + 1 , 38 @ @ <nl> + package net . minecraftforge . debug ; <nl> + <nl> + import org . apache . logging . log4j . Logger ; <nl> + <nl> + import net . minecraftforge . common . MinecraftForge ; <nl> + import net . minecraftforge . event . entity . player . EntityItemPickupEvent ; <nl> + import net . minecraftforge . fml . common . Mod ; <nl> + import net . minecraftforge . fml . common . Mod . EventHandler ; <nl> + import net . minecraftforge . fml . common . event . FMLPreInitializationEvent ; <nl> + import net . minecraftforge . fml . common . eventhandler . SubscribeEvent ; <nl> + import net . minecraftforge . fml . common . gameevent . PlayerEvent ; <nl> + <nl> + @ Mod ( modid = PlayerItemPickupEventDebug . MODID , name = PlayerItemPickupEventDebug . NAME , version = PlayerItemPickupEventDebug . VERSION , acceptableRemoteVersions = " * " ) <nl> + public class PlayerItemPickupEventDebug <nl> + { <nl> + <nl> + private static final boolean ENABLED = true ; <nl> + public static final String MODID = " playeritempickupeventdebug " ; <nl> + public static final String NAME = " Player . ItemPickup Event Debug " ; <nl> + public static final String VERSION = " 1 . 0 . 0 " ; <nl> + private static Logger logger ; <nl> + <nl> + @ EventHandler <nl> + public void init ( FMLPreInitializationEvent event ) <nl> + { <nl> + logger = event . getModLog ( ) ; <nl> + if ( ENABLED ) <nl> + { <nl> + MinecraftForge . EVENT _ BUS . register ( this ) ; <nl> + } <nl> + } <nl> + <nl> + @ SubscribeEvent <nl> + public void itemPickupEvent ( PlayerEvent . ItemPickupEvent event ) <nl> + { <nl> + 	 logger . info ( " Item picked up : " + event . getStack ( ) . getDisplayName ( ) + " x " + event . getStack ( ) . getCount ( ) ) ; <nl> + } <nl> + }
NEAREST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / entity / Entity . java . patch b / patches / minecraft / net / minecraft / entity / Entity . java . patch <nl> index 537f4f4 . . dbc848d 100644 <nl> - - - a / patches / minecraft / net / minecraft / entity / Entity . java . patch <nl> + + + b / patches / minecraft / net / minecraft / entity / Entity . java . patch <nl> @ @ - 10 , 20 + 10 , 21 @ @ <nl> + public java . util . ArrayList < EntityItem > capturedDrops = new java . util . ArrayList < EntityItem > ( ) ; <nl> + private UUID persistentID ; <nl> + <nl> - + protected java . util . HashMap < String , net . minecraftforge . common . IExtendedEntityProperties > extendedProperties ; <nl> + + protected java . util . HashMap < String , net . minecraftforge . common . IExtendedEntityProperties > extendedProperties = new java . util . HashMap < String , net . minecraftforge . common . IExtendedEntityProperties > ( ) ; <nl> + <nl> public int func _ 145782 _ y ( ) <nl> { <nl> return this . field _ 145783 _ c ; <nl> - @ @ - 171 , 6 + 179 , 7 @ @ <nl> + @ @ - 171 , 6 + 179 , 8 @ @ <nl> this . field _ 70180 _ af . func _ 75682 _ a ( 2 , " " ) ; <nl> this . field _ 70180 _ af . func _ 75682 _ a ( 4 , Byte . valueOf ( ( byte ) 0 ) ) ; <nl> this . func _ 70088 _ a ( ) ; <nl> - + extendedProperties = net . minecraftforge . event . ForgeEventFactory . onEntityConstructing ( this , p _ i1582 _ 1 _ ) ; <nl> + + net . minecraftforge . common . MinecraftForge . EVENT _ BUS . post ( new net . minecraftforge . event . entity . EntityEvent . EntityConstructing ( this ) ) ; <nl> + + for ( net . minecraftforge . common . IExtendedEntityProperties props : extendedProperties . values ( ) ) props . init ( this , p _ i1582 _ 1 _ ) ; <nl> } <nl> <nl> protected abstract void func _ 70088 _ a ( ) ; <nl> - @ @ - 1010 , 10 + 1019 , 7 @ @ <nl> + @ @ - 1010 , 10 + 1020 , 7 @ @ <nl> <nl> if ( block . func _ 149688 _ o ( ) = = p _ 70055 _ 1 _ ) <nl> { <nl> @ @ - 35 , 7 + 36 , 7 @ @ <nl> } <nl> else <nl> { <nl> - @ @ - 1378 , 6 + 1384 , 21 @ @ <nl> + @ @ - 1378 , 6 + 1385 , 21 @ @ <nl> p _ 70109 _ 1 _ . func _ 74757 _ a ( " Silent " , this . func _ 174814 _ R ( ) ) ; <nl> } <nl> <nl> @ @ - 57 , 7 + 58 , 7 @ @ <nl> this . func _ 70014 _ b ( p _ 70109 _ 1 _ ) ; <nl> <nl> if ( this . field _ 70154 _ o ! = null ) <nl> - @ @ - 1458 , 6 + 1479 , 28 @ @ <nl> + @ @ - 1458 , 6 + 1480 , 28 @ @ <nl> this . func _ 174805 _ g ( p _ 70020 _ 1 _ . func _ 74767 _ n ( " CustomNameVisible " ) ) ; <nl> this . field _ 174837 _ as . func _ 179668 _ a ( p _ 70020 _ 1 _ ) ; <nl> this . func _ 174810 _ b ( p _ 70020 _ 1 _ . func _ 74767 _ n ( " Silent " ) ) ; <nl> @ @ - 86 , 7 + 87 , 7 @ @ <nl> this . func _ 70037 _ a ( p _ 70020 _ 1 _ ) ; <nl> <nl> if ( this . func _ 142008 _ O ( ) ) <nl> - @ @ - 1536 , 7 + 1579 , 10 @ @ <nl> + @ @ - 1536 , 7 + 1580 , 10 @ @ <nl> { <nl> EntityItem entityitem = new EntityItem ( this . field _ 70170 _ p , this . field _ 70165 _ t , this . field _ 70163 _ u + ( double ) p _ 70099 _ 2 _ , this . field _ 70161 _ v , p _ 70099 _ 1 _ ) ; <nl> entityitem . func _ 174869 _ p ( ) ; <nl> @ @ - 98 , 7 + 99 , 7 @ @ <nl> return entityitem ; <nl> } <nl> else <nl> - @ @ - 1810 , 7 + 1856 , 7 @ @ <nl> + @ @ - 1810 , 7 + 1857 , 7 @ @ <nl> <nl> public boolean func _ 70115 _ ae ( ) <nl> { <nl> @ @ - 107 , 7 + 108 , 7 @ @ <nl> } <nl> <nl> public boolean func _ 70093 _ af ( ) <nl> - @ @ - 2103 , 7 + 2149 , 7 @ @ <nl> + @ @ - 2103 , 7 + 2150 , 7 @ @ <nl> <nl> public float func _ 180428 _ a ( Explosion p _ 180428 _ 1 _ , World p _ 180428 _ 2 _ , BlockPos p _ 180428 _ 3 _ , IBlockState p _ 180428 _ 4 _ ) <nl> { <nl> @ @ - 116 , 7 + 117 , 7 @ @ <nl> } <nl> <nl> public boolean func _ 174816 _ a ( Explosion p _ 174816 _ 1 _ , World p _ 174816 _ 2 _ , BlockPos p _ 174816 _ 3 _ , IBlockState p _ 174816 _ 4 _ , float p _ 174816 _ 5 _ ) <nl> - @ @ - 2357 , 4 + 2403 , 176 @ @ <nl> + @ @ - 2357 , 4 + 2404 , 176 @ @ <nl> <nl> EnchantmentHelper . func _ 151385 _ b ( p _ 174815 _ 1 _ , p _ 174815 _ 2 _ ) ; <nl> } <nl> diff - - git a / src / main / java / net / minecraftforge / event / ForgeEventFactory . java b / src / main / java / net / minecraftforge / event / ForgeEventFactory . java <nl> index 7560e93 . . a1aeb74 100644 <nl> - - - a / src / main / java / net / minecraftforge / event / ForgeEventFactory . java <nl> + + + b / src / main / java / net / minecraftforge / event / ForgeEventFactory . java <nl> @ @ - 293 , 20 + 293 , 6 @ @ public class ForgeEventFactory <nl> return event . name ; <nl> } <nl> <nl> - public static HashMap < String , IExtendedEntityProperties > onEntityConstructing ( Entity entity , World world ) <nl> - { <nl> - HashMap < String , IExtendedEntityProperties > ret = new HashMap < String , IExtendedEntityProperties > ( ) ; <nl> - <nl> - MinecraftForge . EVENT _ BUS . post ( new EntityEvent . EntityConstructing ( entity ) ) ; <nl> - <nl> - for ( IExtendedEntityProperties props : ret . values ( ) ) <nl> - { <nl> - props . init ( entity , world ) ; <nl> - } <nl> - <nl> - return ret ; <nl> - } <nl> - <nl> public static int onItemExpire ( EntityItem entity , ItemStack item ) <nl> { <nl> if ( item = = null ) return - 1 ;

TEST DIFF:
diff - - git a / patches / minecraft / net / minecraft / entity / item / EntityItem . java . patch b / patches / minecraft / net / minecraft / entity / item / EntityItem . java . patch 
 index 1eb7106 . . cadbee0 100644 
 - - - a / patches / minecraft / net / minecraft / entity / item / EntityItem . java . patch 
 + + + b / patches / minecraft / net / minecraft / entity / item / EntityItem . java . patch 
 @ @ - 84 , 7 + 84 , 7 @ @ 
 
 if ( this . func _ 145800 _ j ( ) ! = null ) 
 { 
 - @ @ - 358 , 18 + 381 , 24 @ @ 
 + @ @ - 358 , 22 + 381 , 30 @ @ 
 { 
 this . func _ 70106 _ y ( ) ; 
 } 
 @ @ - 103 , 14 + 103 , 21 @ @ 
 - if ( this . field _ 145804 _ b = = 0 & & ( this . field _ 145802 _ g = = null | | 6000 - this . field _ 70292 _ b < = 200 | | this . field _ 145802 _ g . equals ( p _ 70100 _ 1 _ . func _ 70005 _ c _ ( ) ) ) & & p _ 70100 _ 1 _ . field _ 71071 _ by . func _ 70441 _ a ( itemstack ) ) 
 + int hook = net . minecraftforge . event . ForgeEventFactory . onItemPickup ( this , p _ 70100 _ 1 _ ) ; 
 + if ( hook < 0 ) return ; 
 + + ItemStack clone = itemstack . func _ 77946 _ l ( ) ; 
 + 
 - + if ( this . field _ 145804 _ b < = 0 & & ( this . field _ 145802 _ g = = null | | lifespan - this . field _ 70292 _ b < = 200 | | this . field _ 145802 _ g . equals ( p _ 70100 _ 1 _ . func _ 70005 _ c _ ( ) ) ) & & ( hook = = 1 | | i < = 0 | | p _ 70100 _ 1 _ . field _ 71071 _ by . func _ 70441 _ a ( itemstack ) ) ) 
 + + if ( this . field _ 145804 _ b < = 0 & & ( this . field _ 145802 _ g = = null | | lifespan - this . field _ 70292 _ b < = 200 | | this . field _ 145802 _ g . equals ( p _ 70100 _ 1 _ . func _ 70005 _ c _ ( ) ) ) & & ( hook = = 1 | | i < = 0 | | p _ 70100 _ 1 _ . field _ 71071 _ by . func _ 70441 _ a ( itemstack ) | | clone . func _ 190916 _ E ( ) > this . func _ 92059 _ d ( ) . func _ 190916 _ E ( ) ) ) 
 { 
 - + net . minecraftforge . fml . common . FMLCommonHandler . instance ( ) . firePlayerItemPickupEvent ( p _ 70100 _ 1 _ , this ) ; 
 - p _ 70100 _ 1 _ . func _ 71001 _ a ( this , i ) ; 
 + - p _ 70100 _ 1 _ . func _ 71001 _ a ( this , i ) ; 
 + + clone . func _ 190920 _ e ( clone . func _ 190916 _ E ( ) - this . func _ 92059 _ d ( ) . func _ 190916 _ E ( ) ) ; 
 + + net . minecraftforge . fml . common . FMLCommonHandler . instance ( ) . firePlayerItemPickupEvent ( p _ 70100 _ 1 _ , this , clone ) ; 
 
 if ( itemstack . func _ 190926 _ b ( ) ) 
 - @ @ - 476 , 6 + 505 , 6 @ @ 
 + { 
 + + p _ 70100 _ 1 _ . func _ 71001 _ a ( this , i ) ; 
 + this . func _ 70106 _ y ( ) ; 
 + itemstack . func _ 190920 _ e ( i ) ; 
 + } 
 + @ @ - 476 , 6 + 507 , 6 @ @ 
 public void func _ 174870 _ v ( ) 
 { 
 this . func _ 174871 _ r ( ) ; 
 diff - - git a / src / main / java / net / minecraftforge / fml / common / FMLCommonHandler . java b / src / main / java / net / minecraftforge / fml / common / FMLCommonHandler . java 
 index 7be185e . . 1be0b02 100644 
 - - - a / src / main / java / net / minecraftforge / fml / common / FMLCommonHandler . java 
 + + + b / src / main / java / net / minecraftforge / fml / common / FMLCommonHandler . java 
 @ @ - 583 , 9 + 583 , 9 @ @ public class FMLCommonHandler 
 bus ( ) . post ( new PlayerEvent . PlayerRespawnEvent ( player , endConquered ) ) ; 
 } 
 
 - public void firePlayerItemPickupEvent ( EntityPlayer player , EntityItem item ) 
 + public void firePlayerItemPickupEvent ( EntityPlayer player , EntityItem item , ItemStack clone ) 
 { 
 - bus ( ) . post ( new PlayerEvent . ItemPickupEvent ( player , item ) ) ; 
 + bus ( ) . post ( new PlayerEvent . ItemPickupEvent ( player , item , clone ) ) ; 
 } 
 
 public void firePlayerCraftingEvent ( EntityPlayer player , ItemStack crafted , IInventory craftMatrix ) 
 diff - - git a / src / main / java / net / minecraftforge / fml / common / gameevent / PlayerEvent . java b / src / main / java / net / minecraftforge / fml / common / gameevent / PlayerEvent . java 
 index 2b2f0bd . . 5d1a0db 100644 
 - - - a / src / main / java / net / minecraftforge / fml / common / gameevent / PlayerEvent . java 
 + + + b / src / main / java / net / minecraftforge / fml / common / gameevent / PlayerEvent . java 
 @ @ - 35 , 11 + 35 , 27 @ @ public class PlayerEvent extends Event { 
 } 
 
 public static class ItemPickupEvent extends PlayerEvent { 
 - public final EntityItem pickedUp ; 
 - public ItemPickupEvent ( EntityPlayer player , EntityItem pickedUp ) 
 + 	 / * * 
 + 	 * Original EntityItem with current remaining stack size 
 + 	 * / 
 + private final EntityItem originalEntity ; 
 + / * * 
 + * Clone item stack , containing the item and amount picked up 
 + * / 
 + private final ItemStack stack ; 
 + public ItemPickupEvent ( EntityPlayer player , EntityItem entPickedUp , ItemStack stack ) 
 { 
 super ( player ) ; 
 - this . pickedUp = pickedUp ; 
 + originalEntity = entPickedUp ; 
 + this . stack = stack ; 
 + } 
 + 
 + public ItemStack getStack ( ) { 
 + 	 return stack ; 
 + } 
 + 
 + public EntityItem getOriginalEntity ( ) { 
 + 	 return originalEntity ; 
 } 
 } 
 
 diff - - git a / src / test / java / net / minecraftforge / debug / PlayerItemPickupEventDebug . java b / src / test / java / net / minecraftforge / debug / PlayerItemPickupEventDebug . java 
 new file mode 100644 
 index 0000000 . . 7e332ea 
 - - - / dev / null 
 + + + b / src / test / java / net / minecraftforge / debug / PlayerItemPickupEventDebug . java 
 @ @ - 0 , 0 + 1 , 38 @ @ 
 + package net . minecraftforge . debug ; 
 + 
 + import org . apache . logging . log4j . Logger ; 
 + 
 + import net . minecraftforge . common . MinecraftForge ; 
 + import net . minecraftforge . event . entity . player . EntityItemPickupEvent ; 
 + import net . minecraftforge . fml . common . Mod ; 
 + import net . minecraftforge . fml . common . Mod . EventHandler ; 
 + import net . minecraftforge . fml . common . event . FMLPreInitializationEvent ; 
 + import net . minecraftforge . fml . common . eventhandler . SubscribeEvent ; 
 + import net . minecraftforge . fml . common . gameevent . PlayerEvent ; 
 + 
 + @ Mod ( modid = PlayerItemPickupEventDebug . MODID , name = PlayerItemPickupEventDebug . NAME , version = PlayerItemPickupEventDebug . VERSION , acceptableRemoteVersions = " * " ) 
 + public class PlayerItemPickupEventDebug 
 + { 
 + 
 + private static final boolean ENABLED = true ; 
 + public static final String MODID = " playeritempickupeventdebug " ; 
 + public static final String NAME = " Player . ItemPickup Event Debug " ; 
 + public static final String VERSION = " 1 . 0 . 0 " ; 
 + private static Logger logger ; 
 + 
 + @ EventHandler 
 + public void init ( FMLPreInitializationEvent event ) 
 + { 
 + logger = event . getModLog ( ) ; 
 + if ( ENABLED ) 
 + { 
 + MinecraftForge . EVENT _ BUS . register ( this ) ; 
 + } 
 + } 
 + 
 + @ SubscribeEvent 
 + public void itemPickupEvent ( PlayerEvent . ItemPickupEvent event ) 
 + { 
 + 	 logger . info ( " Item picked up : " + event . getStack ( ) . getDisplayName ( ) + " x " + event . getStack ( ) . getCount ( ) ) ; 
 + } 
 + }

NEAREST DIFF:
diff - - git a / patches / minecraft / net / minecraft / entity / Entity . java . patch b / patches / minecraft / net / minecraft / entity / Entity . java . patch 
 index 537f4f4 . . dbc848d 100644 
 - - - a / patches / minecraft / net / minecraft / entity / Entity . java . patch 
 + + + b / patches / minecraft / net / minecraft / entity / Entity . java . patch 
 @ @ - 10 , 20 + 10 , 21 @ @ 
 + public java . util . ArrayList < EntityItem > capturedDrops = new java . util . ArrayList < EntityItem > ( ) ; 
 + private UUID persistentID ; 
 + 
 - + protected java . util . HashMap < String , net . minecraftforge . common . IExtendedEntityProperties > extendedProperties ; 
 + + protected java . util . HashMap < String , net . minecraftforge . common . IExtendedEntityProperties > extendedProperties = new java . util . HashMap < String , net . minecraftforge . common . IExtendedEntityProperties > ( ) ; 
 + 
 public int func _ 145782 _ y ( ) 
 { 
 return this . field _ 145783 _ c ; 
 - @ @ - 171 , 6 + 179 , 7 @ @ 
 + @ @ - 171 , 6 + 179 , 8 @ @ 
 this . field _ 70180 _ af . func _ 75682 _ a ( 2 , " " ) ; 
 this . field _ 70180 _ af . func _ 75682 _ a ( 4 , Byte . valueOf ( ( byte ) 0 ) ) ; 
 this . func _ 70088 _ a ( ) ; 
 - + extendedProperties = net . minecraftforge . event . ForgeEventFactory . onEntityConstructing ( this , p _ i1582 _ 1 _ ) ; 
 + + net . minecraftforge . common . MinecraftForge . EVENT _ BUS . post ( new net . minecraftforge . event . entity . EntityEvent . EntityConstructing ( this ) ) ; 
 + + for ( net . minecraftforge . common . IExtendedEntityProperties props : extendedProperties . values ( ) ) props . init ( this , p _ i1582 _ 1 _ ) ; 
 } 
 
 protected abstract void func _ 70088 _ a ( ) ; 
 - @ @ - 1010 , 10 + 1019 , 7 @ @ 
 + @ @ - 1010 , 10 + 1020 , 7 @ @ 
 
 if ( block . func _ 149688 _ o ( ) = = p _ 70055 _ 1 _ ) 
 { 
 @ @ - 35 , 7 + 36 , 7 @ @ 
 } 
 else 
 { 
 - @ @ - 1378 , 6 + 1384 , 21 @ @ 
 + @ @ - 1378 , 6 + 1385 , 21 @ @ 
 p _ 70109 _ 1 _ . func _ 74757 _ a ( " Silent " , this . func _ 174814 _ R ( ) ) ; 
 } 
 
 @ @ - 57 , 7 + 58 , 7 @ @ 
 this . func _ 70014 _ b ( p _ 70109 _ 1 _ ) ; 
 
 if ( this . field _ 70154 _ o ! = null ) 
 - @ @ - 1458 , 6 + 1479 , 28 @ @ 
 + @ @ - 1458 , 6 + 1480 , 28 @ @ 
 this . func _ 174805 _ g ( p _ 70020 _ 1 _ . func _ 74767 _ n ( " CustomNameVisible " ) ) ; 
 this . field _ 174837 _ as . func _ 179668 _ a ( p _ 70020 _ 1 _ ) ; 
 this . func _ 174810 _ b ( p _ 70020 _ 1 _ . func _ 74767 _ n ( " Silent " ) ) ; 
 @ @ - 86 , 7 + 87 , 7 @ @ 
 this . func _ 70037 _ a ( p _ 70020 _ 1 _ ) ; 
 
 if ( this . func _ 142008 _ O ( ) ) 
 - @ @ - 1536 , 7 + 1579 , 10 @ @ 
 + @ @ - 1536 , 7 + 1580 , 10 @ @ 
 { 
 EntityItem entityitem = new EntityItem ( this . field _ 70170 _ p , this . field _ 70165 _ t , this . field _ 70163 _ u + ( double ) p _ 70099 _ 2 _ , this . field _ 70161 _ v , p _ 70099 _ 1 _ ) ; 
 entityitem . func _ 174869 _ p ( ) ; 
 @ @ - 98 , 7 + 99 , 7 @ @ 
 return entityitem ; 
 } 
 else 
 - @ @ - 1810 , 7 + 1856 , 7 @ @ 
 + @ @ - 1810 , 7 + 1857 , 7 @ @ 
 
 public boolean func _ 70115 _ ae ( ) 
 { 
 @ @ - 107 , 7 + 108 , 7 @ @ 
 } 
 
 public boolean func _ 70093 _ af ( ) 
 - @ @ - 2103 , 7 + 2149 , 7 @ @ 
 + @ @ - 2103 , 7 + 2150 , 7 @ @ 
 
 public float func _ 180428 _ a ( Explosion p _ 180428 _ 1 _ , World p _ 180428 _ 2 _ , BlockPos p _ 180428 _ 3 _ , IBlockState p _ 180428 _ 4 _ ) 
 { 
 @ @ - 116 , 7 + 117 , 7 @ @ 
 } 
 
 public boolean func _ 174816 _ a ( Explosion p _ 174816 _ 1 _ , World p _ 174816 _ 2 _ , BlockPos p _ 174816 _ 3 _ , IBlockState p _ 174816 _ 4 _ , float p _ 174816 _ 5 _ ) 
 - @ @ - 2357 , 4 + 2403 , 176 @ @ 
 + @ @ - 2357 , 4 + 2404 , 176 @ @ 
 
 EnchantmentHelper . func _ 151385 _ b ( p _ 174815 _ 1 _ , p _ 174815 _ 2 _ ) ; 
 } 
 diff - - git a / src / main / java / net / minecraftforge / event / ForgeEventFactory . java b / src / main / java / net / minecraftforge / event / ForgeEventFactory . java 
 index 7560e93 . . a1aeb74 100644 
 - - - a / src / main / java / net / minecraftforge / event / ForgeEventFactory . java 
 + + + b / src / main / java / net / minecraftforge / event / ForgeEventFactory . java 
 @ @ - 293 , 20 + 293 , 6 @ @ public class ForgeEventFactory 
 return event . name ; 
 } 
 
 - public static HashMap < String , IExtendedEntityProperties > onEntityConstructing ( Entity entity , World world ) 
 - { 
 - HashMap < String , IExtendedEntityProperties > ret = new HashMap < String , IExtendedEntityProperties > ( ) ; 
 - 
 - MinecraftForge . EVENT _ BUS . post ( new EntityEvent . EntityConstructing ( entity ) ) ; 
 - 
 - for ( IExtendedEntityProperties props : ret . values ( ) ) 
 - { 
 - props . init ( entity , world ) ; 
 - } 
 - 
 - return ret ; 
 - } 
 - 
 public static int onItemExpire ( EntityItem entity , ItemStack item ) 
 { 
 if ( item = = null ) return - 1 ;
