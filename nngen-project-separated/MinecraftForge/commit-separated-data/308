BLEU SCORE: 0.024478224028345454

TEST MSG: Deprecate passing a class to CapabilityManager : : register
GENERATED MSG: Disable substitution test , substitutions are not managed the way they used to be .

TEST DIFF (one line): diff - - git a / src / main / java / net / minecraftforge / common / capabilities / CapabilityManager . java b / src / main / java / net / minecraftforge / common / capabilities / CapabilityManager . java <nl> index cf9ebc3 . . 75fc508 100644 <nl> - - - a / src / main / java / net / minecraftforge / common / capabilities / CapabilityManager . java <nl> + + + b / src / main / java / net / minecraftforge / common / capabilities / CapabilityManager . java <nl> @ @ - 49 , 7 + 49 , 11 @ @ public enum CapabilityManager <nl> * @ param type The Interface to be registered <nl> * @ param storage A default implementation of the storage handler . <nl> * @ param implementation A default implementation of the interface . <nl> + * @ deprecated Use the overload that takes a factory instead of a class . <nl> + * You can easily do this by passing a constructor reference <nl> + * ( MyImpl : : new instead of MyImpl . class ) . TODO remove in 1 . 13 . <nl> * / <nl> + @ Deprecated <nl> public < T > void register ( Class < T > type , Capability . IStorage < T > storage , final Class < ? extends T > implementation ) <nl> { <nl> Preconditions . checkArgument ( implementation ! = null , " Attempted to register a capability with no default implementation " ) ; <nl> @ @ - 173 , 4 + 177 , 4 @ @ public enum CapabilityManager <nl> } <nl> } <nl> } <nl> - } <nl> \ No newline at end of file <nl> + } <nl> diff - - git a / src / test / java / net / minecraftforge / debug / ChunkCapabilityPollutionTest . java b / src / test / java / net / minecraftforge / debug / ChunkCapabilityPollutionTest . java <nl> index d4cd182 . . cd3f3df 100644 <nl> - - - a / src / test / java / net / minecraftforge / debug / ChunkCapabilityPollutionTest . java <nl> + + + b / src / test / java / net / minecraftforge / debug / ChunkCapabilityPollutionTest . java <nl> @ @ - 169 , 7 + 169 , 7 @ @ public class ChunkCapabilityPollutionTest { <nl> { <nl> if ( ENABLE ) <nl> { <nl> - CapabilityManager . INSTANCE . register ( IPollution . class , new PollutionStorage ( ) , DefaultPollution . class ) ; <nl> + CapabilityManager . INSTANCE . register ( IPollution . class , new PollutionStorage ( ) , DefaultPollution : : new ) ; <nl> MinecraftForge . EVENT _ BUS . register ( new EventBusHandler ( ) ) ; <nl> } <nl> } <nl> diff - - git a / src / test / java / net / minecraftforge / debug / NoBedSleepingTest . java b / src / test / java / net / minecraftforge / debug / NoBedSleepingTest . java <nl> index 06231b1 . . 626f343 100644 <nl> - - - a / src / test / java / net / minecraftforge / debug / NoBedSleepingTest . java <nl> + + + b / src / test / java / net / minecraftforge / debug / NoBedSleepingTest . java <nl> @ @ - 66 , 7 + 66 , 7 @ @ public class NoBedSleepingTest <nl> @ Mod . EventHandler <nl> public void preInit ( FMLPreInitializationEvent event ) <nl> { <nl> - CapabilityManager . INSTANCE . register ( IExtraSleeping . class , new Storage ( ) , DefaultImpl . class ) ; <nl> + CapabilityManager . INSTANCE . register ( IExtraSleeping . class , new Storage ( ) , DefaultImpl : : new ) ; <nl> MinecraftForge . EVENT _ BUS . register ( new EventHandler ( ) ) ; <nl> } <nl> <nl> diff - - git a / src / test / java / net / minecraftforge / debug / TestCapabilityMod . java b / src / test / java / net / minecraftforge / debug / TestCapabilityMod . java <nl> index 2c8263f . . 7c551d7 100644 <nl> - - - a / src / test / java / net / minecraftforge / debug / TestCapabilityMod . java <nl> + + + b / src / test / java / net / minecraftforge / debug / TestCapabilityMod . java <nl> @ @ - 52 , 7 + 52 , 7 @ @ public class TestCapabilityMod <nl> / / If you are a API , provide register your capability ASAP . <nl> / / You MUST supply a default save handler and a default implementation <nl> / / If you are a CONSUMER of the capability DO NOT register it . Only APIs should . <nl> - CapabilityManager . INSTANCE . register ( IExampleCapability . class , new Storage ( ) , DefaultImpl . class ) ; <nl> + CapabilityManager . INSTANCE . register ( IExampleCapability . class , new Storage ( ) , DefaultImpl : : new ) ; <nl> MinecraftForge . EVENT _ BUS . register ( this ) ; <nl> } <nl> <nl> diff - - git a / src / test / java / net / minecraftforge / debug / WorldCapabilityRainTimerTest . java b / src / test / java / net / minecraftforge / debug / WorldCapabilityRainTimerTest . java <nl> index bce974a . . 1f6d5ce 100644 <nl> - - - a / src / test / java / net / minecraftforge / debug / WorldCapabilityRainTimerTest . java <nl> + + + b / src / test / java / net / minecraftforge / debug / WorldCapabilityRainTimerTest . java <nl> @ @ - 36 , 7 + 36 , 7 @ @ public class WorldCapabilityRainTimerTest <nl> @ EventHandler <nl> public void init ( FMLInitializationEvent event ) <nl> { <nl> - CapabilityManager . INSTANCE . register ( IRainTimer . class , new TimerStorage ( ) , DefaultTimer . class ) ; <nl> + CapabilityManager . INSTANCE . register ( IRainTimer . class , new TimerStorage ( ) , DefaultTimer : : new ) ; <nl> MinecraftForge . EVENT _ BUS . register ( new NormalEventHandler ( ) ) ; <nl> } <nl>
NEAREST DIFF (one line): diff - - git a / src / test / java / net / minecraftforge / debug / DynBucketTest . java b / src / test / java / net / minecraftforge / debug / DynBucketTest . java <nl> index cb0675f . . 8d5c514 100644 <nl> - - - a / src / test / java / net / minecraftforge / debug / DynBucketTest . java <nl> + + + b / src / test / java / net / minecraftforge / debug / DynBucketTest . java <nl> @ @ - 137 , 7 + 137 , 7 @ @ public class DynBucketTest <nl> public void registrRecipes ( RegistryEvent . Register < IRecipe > event ) <nl> { <nl> ItemStack filledBucket = FluidUtil . getFilledBucket ( new FluidStack ( TestFluid . instance , Fluid . BUCKET _ VOLUME ) ) ; <nl> - GameRegistry . addShapelessRecipe ( new ResourceLocation ( MODID , " diamond _ to _ fluid " ) , null , filledBucket , Ingredient . func _ 193368 _ a ( Items . DIAMOND ) ) ; <nl> + GameRegistry . addShapelessRecipe ( new ResourceLocation ( MODID , " diamond _ to _ fluid " ) , null , filledBucket , Ingredient . fromItem ( Items . DIAMOND ) ) ; <nl> } <nl> <nl> @ SuppressWarnings ( " unused " ) <nl> diff - - git a / src / test / java / net / minecraftforge / debug / NBTShareTagItemTest . java b / src / test / java / net / minecraftforge / debug / NBTShareTagItemTest . java <nl> index fe02667 . . c0ed610 100644 <nl> - - - a / src / test / java / net / minecraftforge / debug / NBTShareTagItemTest . java <nl> + + + b / src / test / java / net / minecraftforge / debug / NBTShareTagItemTest . java <nl> @ @ - 38 , 7 + 38 , 7 @ @ public class NBTShareTagItemTest <nl> nbt . setBoolean ( " crafted " , true ) ; <nl> crafted . setTagCompound ( nbt ) ; <nl> <nl> - GameRegistry . addShapelessRecipe ( new ResourceLocation ( MODID , " nbt _ share " ) , null , crafted , Ingredient . func _ 193367 _ a ( Items . STICK ) ) ; <nl> + GameRegistry . addShapelessRecipe ( new ResourceLocation ( MODID , " nbt _ share " ) , null , crafted , Ingredient . fromItem ( Items . STICK ) ) ; <nl> } <nl> <nl> @ SubscribeEvent <nl> diff - - git a / src / test / java / net / minecraftforge / debug / RecipeTestMod . java b / src / test / java / net / minecraftforge / debug / RecipeTestMod . java <nl> index ee77914 . . 7e46090 100644 <nl> - - - a / src / test / java / net / minecraftforge / debug / RecipeTestMod . java <nl> + + + b / src / test / java / net / minecraftforge / debug / RecipeTestMod . java <nl> @ @ - 2 , 12 + 2 , 15 @ @ package net . minecraftforge . debug ; <nl> <nl> import net . minecraft . init . Blocks ; <nl> import net . minecraft . item . ItemStack ; <nl> + import net . minecraft . item . crafting . IRecipe ; <nl> import net . minecraft . item . crafting . ShapedRecipes ; <nl> import net . minecraft . util . ResourceLocation ; <nl> + import net . minecraftforge . common . MinecraftForge ; <nl> import net . minecraftforge . common . crafting . CraftingHelper ; <nl> + import net . minecraftforge . event . RegistryEvent ; <nl> import net . minecraftforge . fml . common . Mod ; <nl> import net . minecraftforge . fml . common . event . FMLPreInitializationEvent ; <nl> - import net . minecraftforge . fml . common . registry . GameRegistry ; <nl> + import net . minecraftforge . fml . common . eventhandler . SubscribeEvent ; <nl> import net . minecraftforge . oredict . ShapedOreRecipe ; <nl> <nl> @ Mod ( modid = " recipetest " , version = " 1 . 0 " , acceptableRemoteVersions = " * " ) <nl> @ @ - 16 , 15 + 19 , 21 @ @ public class RecipeTestMod <nl> @ Mod . EventHandler <nl> public void preinit ( FMLPreInitializationEvent event ) <nl> { <nl> + MinecraftForge . EVENT _ BUS . register ( this ) ; <nl> + } <nl> + <nl> + @ SubscribeEvent <nl> + public void registerRecipes ( RegistryEvent . Register < IRecipe > event ) <nl> + { <nl> ResourceLocation location1 = new ResourceLocation ( " recipetest " , " dirt " ) ; <nl> ShapedOreRecipe recipe1 = new ShapedOreRecipe ( location1 , new ItemStack ( Blocks . DIAMOND _ BLOCK ) , " DDD " , ' D ' , new ItemStack ( Blocks . DIRT ) ) ; <nl> recipe1 . setRegistryName ( location1 ) ; <nl> - GameRegistry . register ( recipe1 ) ; <nl> + event . getRegistry ( ) . register ( recipe1 ) ; <nl> <nl> ResourceLocation location2 = new ResourceLocation ( " recipetest " , " stone " ) ; <nl> CraftingHelper . ShapedPrimer primer1 = CraftingHelper . parseShaped ( " SSS " , ' S ' , new ItemStack ( Blocks . IRON _ BLOCK ) ) ; <nl> ShapedRecipes recipe2 = new ShapedRecipes ( location2 . getResourcePath ( ) , primer1 . width , primer1 . height , primer1 . input , new ItemStack ( Blocks . GOLD _ BLOCK ) ) ; <nl> recipe2 . setRegistryName ( location2 ) ; <nl> - GameRegistry . register ( recipe2 ) ; <nl> + event . getRegistry ( ) . register ( recipe2 ) ; <nl> } <nl> } <nl> diff - - git a / src / test / java / net / minecraftforge / fml / common / registry / SubstitutionInjectionTest . java b / src / test / java / net / minecraftforge / fml / common / registry / SubstitutionInjectionTest . java <nl> index 793641c . . e1b9058 100644 <nl> - - - a / src / test / java / net / minecraftforge / fml / common / registry / SubstitutionInjectionTest . java <nl> + + + b / src / test / java / net / minecraftforge / fml / common / registry / SubstitutionInjectionTest . java <nl> @ @ - 58 , 6 + 58 , 10 @ @ public class SubstitutionInjectionTest <nl> @ Test <nl> public void testSubstitutionInjection ( ) throws Exception <nl> { <nl> + / / TODO : Decide exactly how I want to deal with subs , this test doesn ' t really do anything right now <nl> + if ( true = = Boolean . valueOf ( " true " ) . booleanValue ( ) ) <nl> + return ; <nl> + <nl> final ForgeRegistry < Block > blockRegistry = ( ForgeRegistry < Block > ) RegistryManager . ACTIVE . getRegistry ( Block . class ) ; <nl> final ForgeRegistry < Item > itemRegistry = ( ForgeRegistry < Item > ) RegistryManager . ACTIVE . getRegistry ( Item . class ) ; <nl>

TEST DIFF:
diff - - git a / src / main / java / net / minecraftforge / common / capabilities / CapabilityManager . java b / src / main / java / net / minecraftforge / common / capabilities / CapabilityManager . java 
 index cf9ebc3 . . 75fc508 100644 
 - - - a / src / main / java / net / minecraftforge / common / capabilities / CapabilityManager . java 
 + + + b / src / main / java / net / minecraftforge / common / capabilities / CapabilityManager . java 
 @ @ - 49 , 7 + 49 , 11 @ @ public enum CapabilityManager 
 * @ param type The Interface to be registered 
 * @ param storage A default implementation of the storage handler . 
 * @ param implementation A default implementation of the interface . 
 + * @ deprecated Use the overload that takes a factory instead of a class . 
 + * You can easily do this by passing a constructor reference 
 + * ( MyImpl : : new instead of MyImpl . class ) . TODO remove in 1 . 13 . 
 * / 
 + @ Deprecated 
 public < T > void register ( Class < T > type , Capability . IStorage < T > storage , final Class < ? extends T > implementation ) 
 { 
 Preconditions . checkArgument ( implementation ! = null , " Attempted to register a capability with no default implementation " ) ; 
 @ @ - 173 , 4 + 177 , 4 @ @ public enum CapabilityManager 
 } 
 } 
 } 
 - } 
 \ No newline at end of file 
 + } 
 diff - - git a / src / test / java / net / minecraftforge / debug / ChunkCapabilityPollutionTest . java b / src / test / java / net / minecraftforge / debug / ChunkCapabilityPollutionTest . java 
 index d4cd182 . . cd3f3df 100644 
 - - - a / src / test / java / net / minecraftforge / debug / ChunkCapabilityPollutionTest . java 
 + + + b / src / test / java / net / minecraftforge / debug / ChunkCapabilityPollutionTest . java 
 @ @ - 169 , 7 + 169 , 7 @ @ public class ChunkCapabilityPollutionTest { 
 { 
 if ( ENABLE ) 
 { 
 - CapabilityManager . INSTANCE . register ( IPollution . class , new PollutionStorage ( ) , DefaultPollution . class ) ; 
 + CapabilityManager . INSTANCE . register ( IPollution . class , new PollutionStorage ( ) , DefaultPollution : : new ) ; 
 MinecraftForge . EVENT _ BUS . register ( new EventBusHandler ( ) ) ; 
 } 
 } 
 diff - - git a / src / test / java / net / minecraftforge / debug / NoBedSleepingTest . java b / src / test / java / net / minecraftforge / debug / NoBedSleepingTest . java 
 index 06231b1 . . 626f343 100644 
 - - - a / src / test / java / net / minecraftforge / debug / NoBedSleepingTest . java 
 + + + b / src / test / java / net / minecraftforge / debug / NoBedSleepingTest . java 
 @ @ - 66 , 7 + 66 , 7 @ @ public class NoBedSleepingTest 
 @ Mod . EventHandler 
 public void preInit ( FMLPreInitializationEvent event ) 
 { 
 - CapabilityManager . INSTANCE . register ( IExtraSleeping . class , new Storage ( ) , DefaultImpl . class ) ; 
 + CapabilityManager . INSTANCE . register ( IExtraSleeping . class , new Storage ( ) , DefaultImpl : : new ) ; 
 MinecraftForge . EVENT _ BUS . register ( new EventHandler ( ) ) ; 
 } 
 
 diff - - git a / src / test / java / net / minecraftforge / debug / TestCapabilityMod . java b / src / test / java / net / minecraftforge / debug / TestCapabilityMod . java 
 index 2c8263f . . 7c551d7 100644 
 - - - a / src / test / java / net / minecraftforge / debug / TestCapabilityMod . java 
 + + + b / src / test / java / net / minecraftforge / debug / TestCapabilityMod . java 
 @ @ - 52 , 7 + 52 , 7 @ @ public class TestCapabilityMod 
 / / If you are a API , provide register your capability ASAP . 
 / / You MUST supply a default save handler and a default implementation 
 / / If you are a CONSUMER of the capability DO NOT register it . Only APIs should . 
 - CapabilityManager . INSTANCE . register ( IExampleCapability . class , new Storage ( ) , DefaultImpl . class ) ; 
 + CapabilityManager . INSTANCE . register ( IExampleCapability . class , new Storage ( ) , DefaultImpl : : new ) ; 
 MinecraftForge . EVENT _ BUS . register ( this ) ; 
 } 
 
 diff - - git a / src / test / java / net / minecraftforge / debug / WorldCapabilityRainTimerTest . java b / src / test / java / net / minecraftforge / debug / WorldCapabilityRainTimerTest . java 
 index bce974a . . 1f6d5ce 100644 
 - - - a / src / test / java / net / minecraftforge / debug / WorldCapabilityRainTimerTest . java 
 + + + b / src / test / java / net / minecraftforge / debug / WorldCapabilityRainTimerTest . java 
 @ @ - 36 , 7 + 36 , 7 @ @ public class WorldCapabilityRainTimerTest 
 @ EventHandler 
 public void init ( FMLInitializationEvent event ) 
 { 
 - CapabilityManager . INSTANCE . register ( IRainTimer . class , new TimerStorage ( ) , DefaultTimer . class ) ; 
 + CapabilityManager . INSTANCE . register ( IRainTimer . class , new TimerStorage ( ) , DefaultTimer : : new ) ; 
 MinecraftForge . EVENT _ BUS . register ( new NormalEventHandler ( ) ) ; 
 } 


NEAREST DIFF:
diff - - git a / src / test / java / net / minecraftforge / debug / DynBucketTest . java b / src / test / java / net / minecraftforge / debug / DynBucketTest . java 
 index cb0675f . . 8d5c514 100644 
 - - - a / src / test / java / net / minecraftforge / debug / DynBucketTest . java 
 + + + b / src / test / java / net / minecraftforge / debug / DynBucketTest . java 
 @ @ - 137 , 7 + 137 , 7 @ @ public class DynBucketTest 
 public void registrRecipes ( RegistryEvent . Register < IRecipe > event ) 
 { 
 ItemStack filledBucket = FluidUtil . getFilledBucket ( new FluidStack ( TestFluid . instance , Fluid . BUCKET _ VOLUME ) ) ; 
 - GameRegistry . addShapelessRecipe ( new ResourceLocation ( MODID , " diamond _ to _ fluid " ) , null , filledBucket , Ingredient . func _ 193368 _ a ( Items . DIAMOND ) ) ; 
 + GameRegistry . addShapelessRecipe ( new ResourceLocation ( MODID , " diamond _ to _ fluid " ) , null , filledBucket , Ingredient . fromItem ( Items . DIAMOND ) ) ; 
 } 
 
 @ SuppressWarnings ( " unused " ) 
 diff - - git a / src / test / java / net / minecraftforge / debug / NBTShareTagItemTest . java b / src / test / java / net / minecraftforge / debug / NBTShareTagItemTest . java 
 index fe02667 . . c0ed610 100644 
 - - - a / src / test / java / net / minecraftforge / debug / NBTShareTagItemTest . java 
 + + + b / src / test / java / net / minecraftforge / debug / NBTShareTagItemTest . java 
 @ @ - 38 , 7 + 38 , 7 @ @ public class NBTShareTagItemTest 
 nbt . setBoolean ( " crafted " , true ) ; 
 crafted . setTagCompound ( nbt ) ; 
 
 - GameRegistry . addShapelessRecipe ( new ResourceLocation ( MODID , " nbt _ share " ) , null , crafted , Ingredient . func _ 193367 _ a ( Items . STICK ) ) ; 
 + GameRegistry . addShapelessRecipe ( new ResourceLocation ( MODID , " nbt _ share " ) , null , crafted , Ingredient . fromItem ( Items . STICK ) ) ; 
 } 
 
 @ SubscribeEvent 
 diff - - git a / src / test / java / net / minecraftforge / debug / RecipeTestMod . java b / src / test / java / net / minecraftforge / debug / RecipeTestMod . java 
 index ee77914 . . 7e46090 100644 
 - - - a / src / test / java / net / minecraftforge / debug / RecipeTestMod . java 
 + + + b / src / test / java / net / minecraftforge / debug / RecipeTestMod . java 
 @ @ - 2 , 12 + 2 , 15 @ @ package net . minecraftforge . debug ; 
 
 import net . minecraft . init . Blocks ; 
 import net . minecraft . item . ItemStack ; 
 + import net . minecraft . item . crafting . IRecipe ; 
 import net . minecraft . item . crafting . ShapedRecipes ; 
 import net . minecraft . util . ResourceLocation ; 
 + import net . minecraftforge . common . MinecraftForge ; 
 import net . minecraftforge . common . crafting . CraftingHelper ; 
 + import net . minecraftforge . event . RegistryEvent ; 
 import net . minecraftforge . fml . common . Mod ; 
 import net . minecraftforge . fml . common . event . FMLPreInitializationEvent ; 
 - import net . minecraftforge . fml . common . registry . GameRegistry ; 
 + import net . minecraftforge . fml . common . eventhandler . SubscribeEvent ; 
 import net . minecraftforge . oredict . ShapedOreRecipe ; 
 
 @ Mod ( modid = " recipetest " , version = " 1 . 0 " , acceptableRemoteVersions = " * " ) 
 @ @ - 16 , 15 + 19 , 21 @ @ public class RecipeTestMod 
 @ Mod . EventHandler 
 public void preinit ( FMLPreInitializationEvent event ) 
 { 
 + MinecraftForge . EVENT _ BUS . register ( this ) ; 
 + } 
 + 
 + @ SubscribeEvent 
 + public void registerRecipes ( RegistryEvent . Register < IRecipe > event ) 
 + { 
 ResourceLocation location1 = new ResourceLocation ( " recipetest " , " dirt " ) ; 
 ShapedOreRecipe recipe1 = new ShapedOreRecipe ( location1 , new ItemStack ( Blocks . DIAMOND _ BLOCK ) , " DDD " , ' D ' , new ItemStack ( Blocks . DIRT ) ) ; 
 recipe1 . setRegistryName ( location1 ) ; 
 - GameRegistry . register ( recipe1 ) ; 
 + event . getRegistry ( ) . register ( recipe1 ) ; 
 
 ResourceLocation location2 = new ResourceLocation ( " recipetest " , " stone " ) ; 
 CraftingHelper . ShapedPrimer primer1 = CraftingHelper . parseShaped ( " SSS " , ' S ' , new ItemStack ( Blocks . IRON _ BLOCK ) ) ; 
 ShapedRecipes recipe2 = new ShapedRecipes ( location2 . getResourcePath ( ) , primer1 . width , primer1 . height , primer1 . input , new ItemStack ( Blocks . GOLD _ BLOCK ) ) ; 
 recipe2 . setRegistryName ( location2 ) ; 
 - GameRegistry . register ( recipe2 ) ; 
 + event . getRegistry ( ) . register ( recipe2 ) ; 
 } 
 } 
 diff - - git a / src / test / java / net / minecraftforge / fml / common / registry / SubstitutionInjectionTest . java b / src / test / java / net / minecraftforge / fml / common / registry / SubstitutionInjectionTest . java 
 index 793641c . . e1b9058 100644 
 - - - a / src / test / java / net / minecraftforge / fml / common / registry / SubstitutionInjectionTest . java 
 + + + b / src / test / java / net / minecraftforge / fml / common / registry / SubstitutionInjectionTest . java 
 @ @ - 58 , 6 + 58 , 10 @ @ public class SubstitutionInjectionTest 
 @ Test 
 public void testSubstitutionInjection ( ) throws Exception 
 { 
 + / / TODO : Decide exactly how I want to deal with subs , this test doesn ' t really do anything right now 
 + if ( true = = Boolean . valueOf ( " true " ) . booleanValue ( ) ) 
 + return ; 
 + 
 final ForgeRegistry < Block > blockRegistry = ( ForgeRegistry < Block > ) RegistryManager . ACTIVE . getRegistry ( Block . class ) ; 
 final ForgeRegistry < Item > itemRegistry = ( ForgeRegistry < Item > ) RegistryManager . ACTIVE . getRegistry ( Item . class ) ; 

