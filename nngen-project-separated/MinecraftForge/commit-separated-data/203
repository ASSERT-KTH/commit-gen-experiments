BLEU SCORE: 0.040583489434387374

TEST MSG: Added Swim Speed Attribute to EntityLivingBase
GENERATED MSG: Add smarter getter for block slipperiness

TEST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch b / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch <nl> index 309da7a . . fd41f3a 100644 <nl> - - - a / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch <nl> + + + b / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch <nl> @ @ - 1 , 6 + 1 , 22 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / entity / EntityLivingBase . java <nl> + + + . . / src - work / minecraft / net / minecraft / entity / EntityLivingBase . java <nl> - @ @ - 201 , 10 + 201 , 11 @ @ <nl> + @ @ - 82 , 6 + 82 , 7 @ @ <nl> + private static final Logger field _ 190632 _ a = LogManager . getLogger ( ) ; <nl> + private static final UUID field _ 110156 _ b = UUID . fromString ( " 662A6B8D - DA3E - 4C1C - 8813 - 96EA6097278D " ) ; <nl> + private static final AttributeModifier field _ 110157 _ c = ( new AttributeModifier ( field _ 110156 _ b , " Sprinting speed boost " , 0 . 30000001192092896D , 2 ) ) . func _ 111168 _ a ( false ) ; <nl> + + public static final net . minecraft . entity . ai . attributes . IAttribute SWIM _ SPEED = new net . minecraft . entity . ai . attributes . RangedAttribute ( null , " forge . swimSpeed " , 1 . 0D , 0 . 0D , 1024 . 0D ) . func _ 111112 _ a ( true ) ; <nl> + protected static final DataParameter < Byte > field _ 184621 _ as = EntityDataManager . < Byte > func _ 187226 _ a ( EntityLivingBase . class , DataSerializers . field _ 187191 _ a ) ; <nl> + private static final DataParameter < Float > field _ 184632 _ c = EntityDataManager . < Float > func _ 187226 _ a ( EntityLivingBase . class , DataSerializers . field _ 187193 _ c ) ; <nl> + private static final DataParameter < Integer > field _ 184633 _ f = EntityDataManager . < Integer > func _ 187226 _ a ( EntityLivingBase . class , DataSerializers . field _ 187192 _ b ) ; <nl> + @ @ - 188 , 6 + 189 , 7 @ @ <nl> + this . func _ 110140 _ aT ( ) . func _ 111150 _ b ( SharedMonsterAttributes . field _ 111263 _ d ) ; <nl> + this . func _ 110140 _ aT ( ) . func _ 111150 _ b ( SharedMonsterAttributes . field _ 188791 _ g ) ; <nl> + this . func _ 110140 _ aT ( ) . func _ 111150 _ b ( SharedMonsterAttributes . field _ 189429 _ h ) ; <nl> + + this . func _ 110140 _ aT ( ) . func _ 111150 _ b ( SWIM _ SPEED ) ; <nl> + } <nl> + <nl> + protected void func _ 184231 _ a ( double p _ 184231 _ 1 _ , boolean p _ 184231 _ 3 _ , IBlockState p _ 184231 _ 4 _ , BlockPos p _ 184231 _ 5 _ ) <nl> + @ @ - 201 , 10 + 203 , 11 @ @ <nl> { <nl> float f = ( float ) MathHelper . func _ 76123 _ f ( this . field _ 70143 _ R - 3 . 0F ) ; <nl> <nl> @ @ - 13 , 7 + 29 , 7 @ @ <nl> ( ( WorldServer ) this . field _ 70170 _ p ) . func _ 175739 _ a ( EnumParticleTypes . BLOCK _ DUST , this . field _ 70165 _ t , this . field _ 70163 _ u , this . field _ 70161 _ v , i , 0 . 0D , 0 . 0D , 0 . 0D , 0 . 15000000596046448D , Block . func _ 176210 _ f ( p _ 184231 _ 4 _ ) ) ; <nl> } <nl> } <nl> - @ @ - 281 , 7 + 282 , 7 @ @ <nl> + @ @ - 281 , 7 + 284 , 7 @ @ <nl> } <nl> } <nl> <nl> @ @ - 22 , 7 + 38 , 7 @ @ <nl> { <nl> this . func _ 184210 _ p ( ) ; <nl> } <nl> - @ @ - 380 , 7 + 381 , 7 @ @ <nl> + @ @ - 380 , 7 + 383 , 7 @ @ <nl> if ( ! this . field _ 70170 _ p . field _ 72995 _ K & & ( this . func _ 70684 _ aJ ( ) | | this . field _ 70718 _ bc > 0 & & this . func _ 146066 _ aG ( ) & & this . field _ 70170 _ p . func _ 82736 _ K ( ) . func _ 82766 _ b ( " doMobLoot " ) ) ) <nl> { <nl> int i = this . func _ 70693 _ a ( this . field _ 70717 _ bb ) ; <nl> @ @ - 31 , 7 + 47 , 7 @ @ <nl> while ( i > 0 ) <nl> { <nl> int j = EntityXPOrb . func _ 70527 _ a ( i ) ; <nl> - @ @ - 442 , 6 + 443 , 7 @ @ <nl> + @ @ - 442 , 6 + 445 , 7 @ @ <nl> { <nl> this . field _ 70755 _ b = p _ 70604 _ 1 _ ; <nl> this . field _ 70756 _ c = this . field _ 70173 _ aa ; <nl> @ @ - 39 , 7 + 55 , 7 @ @ <nl> } <nl> <nl> public EntityLivingBase func _ 110144 _ aD ( ) <nl> - @ @ - 670 , 8 + 672 , 10 @ @ <nl> + @ @ - 670 , 8 + 674 , 10 @ @ <nl> else <nl> { <nl> Collection < PotionEffect > collection = this . field _ 70713 _ bf . values ( ) ; <nl> @ @ - 52 , 7 + 68 , 7 @ @ <nl> this . func _ 82142 _ c ( this . func _ 70644 _ a ( MobEffects . field _ 76441 _ p ) ) ; <nl> } <nl> } <nl> - @ @ - 819 , 6 + 823 , 8 @ @ <nl> + @ @ - 819 , 6 + 825 , 8 @ @ <nl> <nl> public void func _ 70691 _ i ( float p _ 70691 _ 1 _ ) <nl> { <nl> @ @ - 61 , 7 + 77 , 7 @ @ <nl> float f = this . func _ 110143 _ aJ ( ) ; <nl> <nl> if ( f > 0 . 0F ) <nl> - @ @ - 839 , 6 + 845 , 7 @ @ <nl> + @ @ - 839 , 6 + 847 , 7 @ @ <nl> <nl> public boolean func _ 70097 _ a ( DamageSource p _ 70097 _ 1 _ , float p _ 70097 _ 2 _ ) <nl> { <nl> @ @ - 69 , 7 + 85 , 7 @ @ <nl> if ( this . func _ 180431 _ b ( p _ 70097 _ 1 _ ) ) <nl> { <nl> return false ; <nl> - @ @ - 927 , 9 + 934 , 9 @ @ <nl> + @ @ - 927 , 9 + 936 , 9 @ @ <nl> this . field _ 70718 _ bc = 100 ; <nl> this . field _ 70717 _ bb = ( EntityPlayer ) entity1 ; <nl> } <nl> @ @ - 81 , 7 + 97 , 7 @ @ <nl> <nl> if ( entitywolf . func _ 70909 _ n ( ) ) <nl> { <nl> - @ @ - 1127 , 7 + 1134 , 7 @ @ <nl> + @ @ - 1127 , 7 + 1136 , 7 @ @ <nl> <nl> public void func _ 70669 _ a ( ItemStack p _ 70669 _ 1 _ ) <nl> { <nl> @ @ - 90 , 7 + 106 , 7 @ @ <nl> <nl> for ( int i = 0 ; i < 5 ; + + i ) <nl> { <nl> - @ @ - 1139 , 12 + 1146 , 17 @ @ <nl> + @ @ - 1139 , 12 + 1148 , 17 @ @ <nl> vec3d1 = vec3d1 . func _ 178789 _ a ( - this . field _ 70125 _ A * 0 . 017453292F ) ; <nl> vec3d1 = vec3d1 . func _ 178785 _ b ( - this . field _ 70177 _ z * 0 . 017453292F ) ; <nl> vec3d1 = vec3d1 . func _ 72441 _ c ( this . field _ 70165 _ t , this . field _ 70163 _ u + ( double ) this . func _ 70047 _ e ( ) , this . field _ 70161 _ v ) ; <nl> @ @ - 109 , 7 + 125 , 7 @ @ <nl> if ( ! this . field _ 70729 _ aU ) <nl> { <nl> Entity entity = p _ 70645 _ 1 _ . func _ 76346 _ g ( ) ; <nl> - @ @ - 1165 , 18 + 1177 , 26 @ @ <nl> + @ @ - 1165 , 18 + 1179 , 26 @ @ <nl> <nl> if ( ! this . field _ 70170 _ p . field _ 72995 _ K ) <nl> { <nl> @ @ - 141 , 7 + 157 , 7 @ @ <nl> } <nl> <nl> this . field _ 70170 _ p . func _ 72960 _ a ( this , ( byte ) 3 ) ; <nl> - @ @ - 1195 , 6 + 1215 , 9 @ @ <nl> + @ @ - 1195 , 6 + 1217 , 9 @ @ <nl> <nl> public void func _ 70653 _ a ( Entity p _ 70653 _ 1 _ , float p _ 70653 _ 2 _ , double p _ 70653 _ 3 _ , double p _ 70653 _ 5 _ ) <nl> { <nl> @ @ - 151 , 7 + 167 , 7 @ @ <nl> if ( this . field _ 70146 _ Z . nextDouble ( ) > = this . func _ 110148 _ a ( SharedMonsterAttributes . field _ 111266 _ c ) . func _ 111126 _ e ( ) ) <nl> { <nl> this . field _ 70160 _ al = true ; <nl> - @ @ - 1253 , 15 + 1276 , 7 @ @ <nl> + @ @ - 1253 , 15 + 1278 , 7 @ @ <nl> BlockPos blockpos = new BlockPos ( i , j , k ) ; <nl> IBlockState iblockstate = this . field _ 70170 _ p . func _ 180495 _ p ( blockpos ) ; <nl> Block block = iblockstate . func _ 177230 _ c ( ) ; <nl> @ @ - 168 , 7 + 184 , 7 @ @ <nl> } <nl> } <nl> <nl> - @ @ - 1287 , 6 + 1302 , 9 @ @ <nl> + @ @ - 1287 , 6 + 1304 , 9 @ @ <nl> <nl> public void func _ 180430 _ e ( float p _ 180430 _ 1 _ , float p _ 180430 _ 2 _ ) <nl> { <nl> @ @ - 178 , 7 + 194 , 7 @ @ <nl> super . func _ 180430 _ e ( p _ 180430 _ 1 _ , p _ 180430 _ 2 _ ) ; <nl> PotionEffect potioneffect = this . func _ 70660 _ b ( MobEffects . field _ 76430 _ j ) ; <nl> float f = potioneffect = = null ? 0 . 0F : ( float ) ( potioneffect . func _ 76458 _ c ( ) + 1 ) ; <nl> - @ @ - 1303 , 7 + 1321 , 7 @ @ <nl> + @ @ - 1303 , 7 + 1323 , 7 @ @ <nl> <nl> if ( iblockstate . func _ 185904 _ a ( ) ! = Material . field _ 151579 _ a ) <nl> { <nl> @ @ - 187 , 7 + 203 , 7 @ @ <nl> this . func _ 184185 _ a ( soundtype . func _ 185842 _ g ( ) , soundtype . func _ 185843 _ a ( ) * 0 . 5F , soundtype . func _ 185847 _ b ( ) * 0 . 75F ) ; <nl> } <nl> } <nl> - @ @ - 1380 , 17 + 1398 , 20 @ @ <nl> + @ @ - 1380 , 17 + 1400 , 20 @ @ <nl> { <nl> if ( ! this . func _ 180431 _ b ( p _ 70665 _ 1 _ ) ) <nl> { <nl> @ @ - 209 , 7 + 225 , 7 @ @ <nl> this . func _ 110149 _ m ( this . func _ 110139 _ bj ( ) - p _ 70665 _ 2 _ ) ; <nl> } <nl> } <nl> - @ @ - 1447 , 6 + 1468 , 11 @ @ <nl> + @ @ - 1447 , 6 + 1470 , 11 @ @ <nl> <nl> public void func _ 184609 _ a ( EnumHand p _ 184609 _ 1 _ ) <nl> { <nl> @ @ - 221 , 7 + 237 , 7 @ @ <nl> if ( ! this . field _ 82175 _ bq | | this . field _ 110158 _ av > = this . func _ 82166 _ i ( ) / 2 | | this . field _ 110158 _ av < 0 ) <nl> { <nl> this . field _ 110158 _ av = - 1 ; <nl> - @ @ - 1694 , 7 + 1720 , 7 @ @ <nl> + @ @ - 1694 , 7 + 1722 , 7 @ @ <nl> <nl> if ( ! this . field _ 70170 _ p . func _ 184143 _ b ( axisalignedbb1 ) ) <nl> { <nl> @ @ - 230 , 7 + 246 , 7 @ @ <nl> { <nl> this . func _ 70634 _ a ( d11 , this . field _ 70163 _ u + 1 . 0D , d12 ) ; <nl> return ; <nl> - @ @ - 1702 , 14 + 1728 , 14 @ @ <nl> + @ @ - 1702 , 14 + 1730 , 14 @ @ <nl> <nl> BlockPos blockpos = new BlockPos ( d11 , this . field _ 70163 _ u - 1 . 0D , d12 ) ; <nl> <nl> @ @ - 247 , 7 + 263 , 7 @ @ <nl> { <nl> d1 = d11 ; <nl> d13 = this . field _ 70163 _ u + 2 . 0D ; <nl> - @ @ - 1781 , 6 + 1807 , 7 @ @ <nl> + @ @ - 1781 , 16 + 1809 , 17 @ @ <nl> } <nl> <nl> this . field _ 70160 _ al = true ; <nl> @ @ - 255 , 7 + 271 , 19 @ @ <nl> } <nl> <nl> protected void func _ 70629 _ bd ( ) <nl> - @ @ - 1874 , 7 + 1901 , 8 @ @ <nl> + { <nl> + - this . field _ 70181 _ x + = 0 . 03999999910593033D ; <nl> + + this . field _ 70181 _ x + = 0 . 03999999910593033D * this . func _ 110148 _ a ( SWIM _ SPEED ) . func _ 111126 _ e ( ) ; <nl> + } <nl> + <nl> + protected void func _ 180466 _ bG ( ) <nl> + { <nl> + - this . field _ 70181 _ x + = 0 . 03999999910593033D ; <nl> + + this . field _ 70181 _ x + = 0 . 03999999910593033D * this . func _ 110148 _ a ( SWIM _ SPEED ) . func _ 111126 _ e ( ) ; <nl> + } <nl> + <nl> + protected float func _ 189749 _ co ( ) <nl> + @ @ - 1874 , 7 + 1903 , 8 @ @ <nl> <nl> if ( this . field _ 70122 _ E ) <nl> { <nl> @ @ - 265 , 7 + 293 , 7 @ @ <nl> } <nl> <nl> float f7 = 0 . 16277136F / ( f6 * f6 * f6 ) ; <nl> - @ @ - 1894 , 7 + 1922 , 8 @ @ <nl> + @ @ - 1894 , 7 + 1924 , 8 @ @ <nl> <nl> if ( this . field _ 70122 _ E ) <nl> { <nl> @ @ - 275 , 7 + 303 , 7 @ @ <nl> } <nl> <nl> if ( this . func _ 70617 _ f _ ( ) ) <nl> - @ @ - 2054 , 6 + 2083 , 7 @ @ <nl> + @ @ - 2054 , 6 + 2085 , 7 @ @ <nl> <nl> public void func _ 70071 _ h _ ( ) <nl> { <nl> @ @ - 283 , 7 + 311 , 7 @ @ <nl> super . func _ 70071 _ h _ ( ) ; <nl> this . func _ 184608 _ ct ( ) ; <nl> <nl> - @ @ - 2096 , 7 + 2126 , 9 @ @ <nl> + @ @ - 2096 , 7 + 2128 , 9 @ @ <nl> <nl> if ( ! ItemStack . func _ 77989 _ b ( itemstack1 , itemstack ) ) <nl> { <nl> @ @ - 293 , 7 + 321 , 7 @ @ <nl> <nl> if ( ! itemstack . func _ 190926 _ b ( ) ) <nl> { <nl> - @ @ - 2575 , 6 + 2607 , 40 @ @ <nl> + @ @ - 2575 , 6 + 2609 , 40 @ @ <nl> this . field _ 70752 _ e = true ; <nl> } <nl> <nl> @ @ - 334 , 7 + 362 , 7 @ @ <nl> public abstract EnumHandSide func _ 184591 _ cq ( ) ; <nl> <nl> public boolean func _ 184587 _ cr ( ) <nl> - @ @ - 2595 , 12 + 2661 , 19 @ @ <nl> + @ @ - 2595 , 12 + 2663 , 19 @ @ <nl> <nl> if ( itemstack = = this . field _ 184627 _ bm ) <nl> { <nl> @ @ - 355 , 7 + 383 , 7 @ @ <nl> { <nl> this . func _ 71036 _ o ( ) ; <nl> } <nl> - @ @ - 2618 , 8 + 2691 , 10 @ @ <nl> + @ @ - 2618 , 8 + 2693 , 10 @ @ <nl> <nl> if ( ! itemstack . func _ 190926 _ b ( ) & & ! this . func _ 184587 _ cr ( ) ) <nl> { <nl> @ @ - 367 , 7 + 395 , 7 @ @ <nl> <nl> if ( ! this . field _ 70170 _ p . field _ 72995 _ K ) <nl> { <nl> - @ @ - 2700 , 7 + 2775 , 10 @ @ <nl> + @ @ - 2700 , 7 + 2777 , 10 @ @ <nl> if ( ! this . field _ 184627 _ bm . func _ 190926 _ b ( ) & & this . func _ 184587 _ cr ( ) ) <nl> { <nl> this . func _ 184584 _ a ( this . field _ 184627 _ bm , 16 ) ; <nl> @ @ - 379 , 7 + 407 , 7 @ @ <nl> this . func _ 184602 _ cy ( ) ; <nl> } <nl> } <nl> - @ @ - 2724 , 7 + 2802 , 8 @ @ <nl> + @ @ - 2724 , 7 + 2804 , 8 @ @ <nl> { <nl> if ( ! this . field _ 184627 _ bm . func _ 190926 _ b ( ) ) <nl> { <nl> @ @ - 389 , 7 + 417 , 7 @ @ <nl> } <nl> <nl> this . func _ 184602 _ cy ( ) ; <nl> - @ @ - 2852 , 6 + 2931 , 31 @ @ <nl> + @ @ - 2852 , 6 + 2933 , 31 @ @ <nl> return true ; <nl> } <nl> <nl> @ @ - 421 , 3 + 449 , 34 @ @ <nl> public boolean func _ 190631 _ cK ( ) <nl> { <nl> return true ; <nl> + @ @ - 2861 , 4 + 2967 , 30 @ @ <nl> + public void func _ 191987 _ a ( BlockPos p _ 191987 _ 1 _ , boolean p _ 191987 _ 2 _ ) <nl> + { <nl> + } <nl> + + <nl> + + @ Override <nl> + + public void func _ 191958 _ b ( float strafe , float up , float forward , float friction ) <nl> + + { <nl> + + float f = strafe * strafe + up * up + forward * forward ; <nl> + + if ( f > = 1 . 0E - 4F ) <nl> + + { <nl> + + f = MathHelper . func _ 76129 _ c ( f ) ; <nl> + + if ( f < 1 . 0F ) f = 1 . 0F ; <nl> + + f = friction / f ; <nl> + + strafe = strafe * f ; <nl> + + up = up * f ; <nl> + + forward = forward * f ; <nl> + + if ( this . func _ 70090 _ H ( ) | | this . func _ 180799 _ ab ( ) ) <nl> + + { <nl> + + strafe = strafe * ( float ) this . func _ 110148 _ a ( SWIM _ SPEED ) . func _ 111126 _ e ( ) ; <nl> + + up = up * ( float ) this . func _ 110148 _ a ( SWIM _ SPEED ) . func _ 111126 _ e ( ) ; <nl> + + forward = forward * ( float ) this . func _ 110148 _ a ( SWIM _ SPEED ) . func _ 111126 _ e ( ) ; <nl> + + } <nl> + + float f1 = MathHelper . func _ 76126 _ a ( this . field _ 70177 _ z * 0 . 017453292F ) ; <nl> + + float f2 = MathHelper . func _ 76134 _ b ( this . field _ 70177 _ z * 0 . 017453292F ) ; <nl> + + this . field _ 70159 _ w + = ( double ) ( strafe * f2 - forward * f1 ) ; <nl> + + this . field _ 70181 _ x + = ( double ) up ; <nl> + + this . field _ 70179 _ y + = ( double ) ( forward * f2 + strafe * f1 ) ; <nl> + + } <nl> + + } <nl> + } <nl> diff - - git a / src / test / java / net / minecraftforge / debug / entity / player / SwimSpeedAttributeTest . java b / src / test / java / net / minecraftforge / debug / entity / player / SwimSpeedAttributeTest . java <nl> new file mode 100644 <nl> index 0000000 . . e04b6c5 <nl> - - - / dev / null <nl> + + + b / src / test / java / net / minecraftforge / debug / entity / player / SwimSpeedAttributeTest . java <nl> @ @ - 0 , 0 + 1 , 80 @ @ <nl> + / * <nl> + * Minecraft Forge <nl> + * Copyright ( c ) 2016 - 2018 . <nl> + * <nl> + * This library is free software ; you can redistribute it and / or <nl> + * modify it under the terms of the GNU Lesser General Public <nl> + * License as published by the Free Software Foundation version 2 . 1 <nl> + * of the License . <nl> + * <nl> + * This library is distributed in the hope that it will be useful , <nl> + * but WITHOUT ANY WARRANTY ; without even the implied warranty of <nl> + * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE . See the GNU <nl> + * Lesser General Public License for more details . <nl> + * <nl> + * You should have received a copy of the GNU Lesser General Public <nl> + * License along with this library ; if not , write to the Free Software <nl> + * Foundation , Inc . , 51 Franklin Street , Fifth Floor , Boston , MA 02110 - 1301 USA <nl> + * / <nl> + <nl> + package net . minecraftforge . debug . entity . player ; <nl> + <nl> + import com . google . common . collect . Multimap ; <nl> + import net . minecraft . client . renderer . block . model . ModelResourceLocation ; <nl> + import net . minecraft . entity . ai . attributes . AttributeModifier ; <nl> + import net . minecraft . entity . EntityLivingBase ; <nl> + import net . minecraft . inventory . EntityEquipmentSlot ; <nl> + import net . minecraft . item . Item ; <nl> + import net . minecraft . item . ItemArmor ; <nl> + import net . minecraft . item . ItemStack ; <nl> + import net . minecraftforge . client . event . ModelRegistryEvent ; <nl> + import net . minecraftforge . client . model . ModelLoader ; <nl> + import net . minecraftforge . event . RegistryEvent ; <nl> + import net . minecraftforge . fml . common . Mod ; <nl> + import net . minecraftforge . fml . common . eventhandler . SubscribeEvent ; <nl> + import net . minecraftforge . fml . relauncher . Side ; <nl> + <nl> + @ Mod ( modid = SwimSpeedAttributeTest . MODID , name = SwimSpeedAttributeTest . MODID , version = " 1 . 0 " , acceptableRemoteVersions = " * " ) <nl> + @ Mod . EventBusSubscriber <nl> + public class SwimSpeedAttributeTest <nl> + { <nl> + public static final String MODID = " swimspeedattributetest " ; <nl> + private static final Item PLATE = new SwimSpeedPlate ( ) . setRegistryName ( MODID , " swim _ speed _ plate " ) ; <nl> + <nl> + @ SubscribeEvent <nl> + public static void registerItems ( RegistryEvent . Register < Item > evt ) { <nl> + evt . getRegistry ( ) . register ( PLATE ) ; <nl> + } <nl> + <nl> + @ Mod . EventBusSubscriber ( Side . CLIENT ) <nl> + public static class ClientEvents <nl> + { <nl> + @ SubscribeEvent <nl> + public static void registerModels ( ModelRegistryEvent evt ) <nl> + { <nl> + ModelLoader . setCustomModelResourceLocation ( PLATE , 0 , new ModelResourceLocation ( " minecraft : diamond _ chestplate " , " inventory " ) ) ; <nl> + } <nl> + } <nl> + <nl> + public static class SwimSpeedPlate extends ItemArmor <nl> + { <nl> + private static final AttributeModifier BOOST = new AttributeModifier ( " swim speed plate boost " , 3 , 0 ) ; <nl> + <nl> + public SwimSpeedPlate ( ) <nl> + { <nl> + super ( ArmorMaterial . DIAMOND , 3 , EntityEquipmentSlot . CHEST ) ; <nl> + setUnlocalizedName ( " swimSpeedPlate " ) ; <nl> + } <nl> + <nl> + @ Override <nl> + public Multimap < String , AttributeModifier > getAttributeModifiers ( EntityEquipmentSlot slot , ItemStack stack ) <nl> + { <nl> + Multimap < String , AttributeModifier > attribs = super . getAttributeModifiers ( slot , stack ) ; <nl> + if ( slot = = this . armorType ) <nl> + { <nl> + attribs . put ( EntityLivingBase . SWIM _ SPEED . getName ( ) , BOOST ) ; <nl> + } <nl> + return attribs ; <nl> + } <nl> + } <nl> + }
NEAREST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / block / Block . java . patch b / patches / minecraft / net / minecraft / block / Block . java . patch <nl> index ab5d77d . . cca9797 100644 <nl> - - - a / patches / minecraft / net / minecraft / block / Block . java . patch <nl> + + + b / patches / minecraft / net / minecraft / block / Block . java . patch <nl> @ @ - 16 , 7 + 16 , 15 @ @ <nl> public static final AxisAlignedBB field _ 185505 _ j = new AxisAlignedBB ( 0 . 0D , 0 . 0D , 0 . 0D , 1 . 0D , 1 . 0D , 1 . 0D ) ; <nl> @ Nullable <nl> public static final AxisAlignedBB field _ 185506 _ k = null ; <nl> - @ @ - 319 , 7 + 320 , 7 @ @ <nl> + @ @ - 75 , 6 + 76 , 7 @ @ <nl> + public float field _ 149763 _ I ; <nl> + protected final Material field _ 149764 _ J ; <nl> + protected final MapColor field _ 181083 _ K ; <nl> + + @ Deprecated / / Forge : State / world / pos / entity sensitive version below <nl> + public float field _ 149765 _ K ; <nl> + protected final BlockStateContainer field _ 176227 _ L ; <nl> + private IBlockState field _ 176228 _ M ; <nl> + @ @ - 319 , 7 + 321 , 7 @ @ <nl> <nl> public boolean func _ 176200 _ f ( IBlockAccess p _ 176200 _ 1 _ , BlockPos p _ 176200 _ 2 _ ) <nl> { <nl> @ @ - 25 , 7 + 33 , 7 @ @ <nl> } <nl> <nl> public Block func _ 149711 _ c ( float p _ 149711 _ 1 _ ) <nl> - @ @ - 357 , 9 + 358 , 10 @ @ <nl> + @ @ - 357 , 9 + 359 , 10 @ @ <nl> return this . field _ 149789 _ z ; <nl> } <nl> <nl> @ @ - 37 , 7 + 45 , 7 @ @ <nl> } <nl> <nl> @ Deprecated <nl> - @ @ - 372 , 13 + 374 , 13 @ @ <nl> + @ @ - 372 , 13 + 375 , 13 @ @ <nl> @ SideOnly ( Side . CLIENT ) <nl> public int func _ 185484 _ c ( IBlockState p _ 185484 _ 1 _ , IBlockAccess p _ 185484 _ 2 _ , BlockPos p _ 185484 _ 3 _ ) <nl> { <nl> @ @ - 53 , 7 + 61 , 7 @ @ <nl> } <nl> else <nl> { <nl> - @ @ - 442 , 7 + 444 , 7 @ @ <nl> + @ @ - 442 , 7 + 445 , 7 @ @ <nl> } <nl> } <nl> <nl> @ @ - 62 , 7 + 70 , 7 @ @ <nl> } <nl> <nl> @ Deprecated <nl> - @ @ - 534 , 6 + 536 , 10 @ @ <nl> + @ @ - 534 , 6 + 537 , 10 @ @ <nl> <nl> public void func _ 180663 _ b ( World p _ 180663 _ 1 _ , BlockPos p _ 180663 _ 2 _ , IBlockState p _ 180663 _ 3 _ ) <nl> { <nl> @ @ - 73 , 7 + 81 , 7 @ @ <nl> } <nl> <nl> public int func _ 149745 _ a ( Random p _ 149745 _ 1 _ ) <nl> - @ @ - 549 , 16 + 555 , 7 @ @ <nl> + @ @ - 549 , 16 + 556 , 7 @ @ <nl> @ Deprecated <nl> public float func _ 180647 _ a ( IBlockState p _ 180647 _ 1 _ , EntityPlayer p _ 180647 _ 2 _ , World p _ 180647 _ 3 _ , BlockPos p _ 180647 _ 4 _ ) <nl> { <nl> @ @ - 91 , 7 + 99 , 7 @ @ <nl> } <nl> <nl> public final void func _ 176226 _ b ( World p _ 176226 _ 1 _ , BlockPos p _ 176226 _ 2 _ , IBlockState p _ 176226 _ 3 _ , int p _ 176226 _ 4 _ ) <nl> - @ @ - 568 , 20 + 565 , 16 @ @ <nl> + @ @ - 568 , 20 + 566 , 16 @ @ <nl> <nl> public void func _ 180653 _ a ( World p _ 180653 _ 1 _ , BlockPos p _ 180653 _ 2 _ , IBlockState p _ 180653 _ 3 _ , float p _ 180653 _ 4 _ , int p _ 180653 _ 5 _ ) <nl> { <nl> @ @ - 117 , 7 + 125 , 7 @ @ <nl> } <nl> } <nl> } <nl> - @ @ - 589 , 8 + 582 , 13 @ @ <nl> + @ @ - 589 , 8 + 583 , 13 @ @ <nl> <nl> public static void func _ 180635 _ a ( World p _ 180635 _ 0 _ , BlockPos p _ 180635 _ 1 _ , ItemStack p _ 180635 _ 2 _ ) <nl> { <nl> @ @ - 132 , 7 + 140 , 7 @ @ <nl> float f = 0 . 5F ; <nl> double d0 = ( double ) ( p _ 180635 _ 0 _ . field _ 73012 _ v . nextFloat ( ) * 0 . 5F ) + 0 . 25D ; <nl> double d1 = ( double ) ( p _ 180635 _ 0 _ . field _ 73012 _ v . nextFloat ( ) * 0 . 5F ) + 0 . 25D ; <nl> - @ @ - 619 , 6 + 617 , 7 @ @ <nl> + @ @ - 619 , 6 + 618 , 7 @ @ <nl> return 0 ; <nl> } <nl> <nl> @ @ - 140 , 7 + 148 , 7 @ @ <nl> public float func _ 149638 _ a ( Entity p _ 149638 _ 1 _ ) <nl> { <nl> return this . field _ 149781 _ w / 5 . 0F ; <nl> - @ @ - 657 , 7 + 656 , 7 @ @ <nl> + @ @ - 657 , 7 + 657 , 7 @ @ <nl> <nl> public boolean func _ 176196 _ c ( World p _ 176196 _ 1 _ , BlockPos p _ 176196 _ 2 _ ) <nl> { <nl> @ @ - 149 , 7 + 157 , 7 @ @ <nl> } <nl> <nl> public boolean func _ 180639 _ a ( World p _ 180639 _ 1 _ , BlockPos p _ 180639 _ 2 _ , IBlockState p _ 180639 _ 3 _ , EntityPlayer p _ 180639 _ 4 _ , EnumHand p _ 180639 _ 5 _ , EnumFacing p _ 180639 _ 6 _ , float p _ 180639 _ 7 _ , float p _ 180639 _ 8 _ , float p _ 180639 _ 9 _ ) <nl> - @ @ - 669 , 6 + 668 , 8 @ @ <nl> + @ @ - 669 , 6 + 669 , 8 @ @ <nl> { <nl> } <nl> <nl> @ @ - 158 , 7 + 166 , 7 @ @ <nl> public IBlockState func _ 180642 _ a ( World p _ 180642 _ 1 _ , BlockPos p _ 180642 _ 2 _ , EnumFacing p _ 180642 _ 3 _ , float p _ 180642 _ 4 _ , float p _ 180642 _ 5 _ , float p _ 180642 _ 6 _ , int p _ 180642 _ 7 _ , EntityLivingBase p _ 180642 _ 8 _ ) <nl> { <nl> return this . func _ 176203 _ a ( p _ 180642 _ 7 _ ) ; <nl> - @ @ - 710 , 21 + 711 , 35 @ @ <nl> + @ @ - 710 , 21 + 712 , 35 @ @ <nl> p _ 180657 _ 2 _ . func _ 71029 _ a ( StatList . func _ 188055 _ a ( this ) ) ; <nl> p _ 180657 _ 2 _ . func _ 71020 _ j ( 0 . 005F ) ; <nl> <nl> @ @ - 197 , 7 + 205 , 7 @ @ <nl> } <nl> <nl> protected ItemStack func _ 180643 _ i ( IBlockState p _ 180643 _ 1 _ ) <nl> - @ @ - 810 , 12 + 825 , 12 @ @ <nl> + @ @ - 810 , 12 + 826 , 12 @ @ <nl> p _ 176216 _ 2 _ . field _ 70181 _ x = 0 . 0D ; <nl> } <nl> <nl> @ @ - 211 , 7 + 219 , 7 @ @ <nl> public void func _ 149666 _ a ( CreativeTabs p _ 149666 _ 1 _ , NonNullList < ItemStack > p _ 149666 _ 2 _ ) <nl> { <nl> p _ 149666 _ 2 _ . add ( new ItemStack ( this ) ) ; <nl> - @ @ - 831 , 7 + 846 , 6 @ @ <nl> + @ @ - 831 , 7 + 847 , 6 @ @ <nl> { <nl> } <nl> <nl> @ @ - 219 , 7 + 227 , 7 @ @ <nl> public CreativeTabs func _ 149708 _ J ( ) <nl> { <nl> return this . field _ 149772 _ a ; <nl> - @ @ - 921 , 6 + 935 , 7 @ @ <nl> + @ @ - 921 , 6 + 936 , 7 @ @ <nl> } <nl> } <nl> <nl> @ @ - 227 , 7 + 235 , 7 @ @ <nl> public SoundType func _ 185467 _ w ( ) <nl> { <nl> return this . field _ 149762 _ H ; <nl> - @ @ - 936 , 6 + 951 , 1250 @ @ <nl> + @ @ - 936 , 6 + 952 , 1287 @ @ <nl> { <nl> } <nl> <nl> @ @ - 236 , 6 + 244 , 43 @ @ <nl> + protected ThreadLocal < EntityPlayer > harvesters = new ThreadLocal ( ) ; <nl> + private ThreadLocal < IBlockState > silk _ check _ state = new ThreadLocal ( ) ; <nl> + protected static java . util . Random RANDOM = new java . util . Random ( ) ; / / Useful for random things without a seed . <nl> + + <nl> + + / * * <nl> + + * Gets the slipperiness at the given location at the given state . Normally <nl> + + * between 0 and 1 . <nl> + + * < p > <nl> + + * Note that entities may reduce slipperiness by a certain factor of their own ; <nl> + + * for { @ link net . minecraft . entity . EntityLivingBase } , this is { @ code . 91 } . <nl> + + * { @ link net . minecraft . entity . item . EntityItem } uses { @ code . 98 } , and <nl> + + * { @ link net . minecraft . entity . projectile . EntityFishHook } uses { @ code . 92 } . <nl> + + * <nl> + + * @ param state state of the block <nl> + + * @ param world the world <nl> + + * @ param pos the position in the world <nl> + + * @ param entity the entity in question <nl> + + * @ return the factor by which the entity ' s motion should be multiplied <nl> + + * / <nl> + + public float getSlipperiness ( IBlockState state , IBlockAccess world , BlockPos pos , @ Nullable Entity entity ) <nl> + + { <nl> + + return field _ 149765 _ K ; <nl> + + } <nl> + + <nl> + + / * * <nl> + + * Sets the base slipperiness level . Normally between 0 and 1 . <nl> + + * < p > <nl> + + * < b > Calling this method may have no effect on the function of this block < / b > , <nl> + + * or may not have the expected result . This block is free to caclculate <nl> + + * its slipperiness arbitrarily . This method is guaranteed to work on the <nl> + + * base { @ code Block } class . <nl> + + * <nl> + + * @ param slipperiness the base slipperiness of this block <nl> + + * @ see # getSlipperiness ( IBlockState , IBlockAccess , BlockPos , Entity ) <nl> + + * / <nl> + + public void setDefaultSlipperiness ( float slipperiness ) <nl> + + { <nl> + + this . field _ 149765 _ K = slipperiness ; <nl> + + } <nl> + + <nl> + / * * <nl> + * Get a light value for this block , taking into account the given state and coordinates , normal ranges are between 0 and 15 <nl> + * <nl> @ @ - 1478 , 7 + 1523 , 7 @ @ <nl> public static void func _ 149671 _ p ( ) <nl> { <nl> func _ 176215 _ a ( 0 , field _ 176230 _ a , ( new BlockAir ( ) ) . func _ 149663 _ c ( " air " ) ) ; <nl> - @ @ - 1232 , 31 + 2491 , 6 @ @ <nl> + @ @ - 1232 , 31 + 2529 , 6 @ @ <nl> block15 . field _ 149783 _ u = flag ; <nl> } <nl> } <nl> diff - - git a / patches / minecraft / net / minecraft / entity / EntityFlying . java . patch b / patches / minecraft / net / minecraft / entity / EntityFlying . java . patch <nl> new file mode 100644 <nl> index 0000000 . . 6b4ceb1 <nl> - - - / dev / null <nl> + + + b / patches / minecraft / net / minecraft / entity / EntityFlying . java . patch <nl> @ @ - 0 , 0 + 1 , 24 @ @ <nl> + - - - . . / src - base / minecraft / net / minecraft / entity / EntityFlying . java <nl> + + + + . . / src - work / minecraft / net / minecraft / entity / EntityFlying . java <nl> + @ @ - 44 , 7 + 44 , 9 @ @ <nl> + <nl> + if ( this . field _ 70122 _ E ) <nl> + { <nl> + - f = this . field _ 70170 _ p . func _ 180495 _ p ( new BlockPos ( MathHelper . func _ 76128 _ c ( this . field _ 70165 _ t ) , MathHelper . func _ 76128 _ c ( this . func _ 174813 _ aQ ( ) . field _ 72338 _ b ) - 1 , MathHelper . func _ 76128 _ c ( this . field _ 70161 _ v ) ) ) . func _ 177230 _ c ( ) . field _ 149765 _ K * 0 . 91F ; <nl> + + BlockPos underPos = new BlockPos ( MathHelper . func _ 76128 _ c ( this . field _ 70165 _ t ) , MathHelper . func _ 76128 _ c ( this . func _ 174813 _ aQ ( ) . field _ 72338 _ b ) - 1 , MathHelper . func _ 76128 _ c ( this . field _ 70161 _ v ) ) ; <nl> + + IBlockState underState = this . field _ 70170 _ p . func _ 180495 _ p ( underPos ) ; <nl> + + f = underState . func _ 177230 _ c ( ) . getSlipperiness ( underState , this . field _ 70170 _ p , underPos , this ) * 0 . 91F ; <nl> + } <nl> + <nl> + float f1 = 0 . 16277136F / ( f * f * f ) ; <nl> + @ @ - 53 , 7 + 55 , 9 @ @ <nl> + <nl> + if ( this . field _ 70122 _ E ) <nl> + { <nl> + - f = this . field _ 70170 _ p . func _ 180495 _ p ( new BlockPos ( MathHelper . func _ 76128 _ c ( this . field _ 70165 _ t ) , MathHelper . func _ 76128 _ c ( this . func _ 174813 _ aQ ( ) . field _ 72338 _ b ) - 1 , MathHelper . func _ 76128 _ c ( this . field _ 70161 _ v ) ) ) . func _ 177230 _ c ( ) . field _ 149765 _ K * 0 . 91F ; <nl> + + BlockPos underPos = new BlockPos ( MathHelper . func _ 76128 _ c ( this . field _ 70165 _ t ) , MathHelper . func _ 76128 _ c ( this . func _ 174813 _ aQ ( ) . field _ 72338 _ b ) - 1 , MathHelper . func _ 76128 _ c ( this . field _ 70161 _ v ) ) ; <nl> + + IBlockState underState = this . field _ 70170 _ p . func _ 180495 _ p ( underPos ) ; <nl> + + f = underState . func _ 177230 _ c ( ) . getSlipperiness ( underState , this . field _ 70170 _ p , underPos , this ) * 0 . 91F ; <nl> + } <nl> + <nl> + this . func _ 70091 _ d ( MoverType . SELF , this . field _ 70159 _ w , this . field _ 70181 _ x , this . field _ 70179 _ y ) ; <nl> diff - - git a / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch b / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch <nl> index a5dc1bd . . 26b82f6 100644 <nl> - - - a / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch <nl> + + + b / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch <nl> @ @ - 232 , 7 + 232 , 27 @ @ <nl> } <nl> <nl> protected void func _ 70629 _ bd ( ) <nl> - @ @ - 2054 , 6 + 2077 , 7 @ @ <nl> + @ @ - 1874 , 7 + 1897 , 8 @ @ <nl> + <nl> + if ( this . field _ 70122 _ E ) <nl> + { <nl> + - f6 = this . field _ 70170 _ p . func _ 180495 _ p ( blockpos $ pooledmutableblockpos ) . func _ 177230 _ c ( ) . field _ 149765 _ K * 0 . 91F ; <nl> + + IBlockState underState = this . field _ 70170 _ p . func _ 180495 _ p ( blockpos $ pooledmutableblockpos ) ; <nl> + + f6 = underState . func _ 177230 _ c ( ) . getSlipperiness ( underState , this . field _ 70170 _ p , blockpos $ pooledmutableblockpos , this ) * 0 . 91F ; <nl> + } <nl> + <nl> + float f7 = 0 . 16277136F / ( f6 * f6 * f6 ) ; <nl> + @ @ - 1894 , 7 + 1918 , 8 @ @ <nl> + <nl> + if ( this . field _ 70122 _ E ) <nl> + { <nl> + - f6 = this . field _ 70170 _ p . func _ 180495 _ p ( blockpos $ pooledmutableblockpos . func _ 189532 _ c ( this . field _ 70165 _ t , this . func _ 174813 _ aQ ( ) . field _ 72338 _ b - 1 . 0D , this . field _ 70161 _ v ) ) . func _ 177230 _ c ( ) . field _ 149765 _ K * 0 . 91F ; <nl> + + IBlockState underState = this . field _ 70170 _ p . func _ 180495 _ p ( blockpos $ pooledmutableblockpos . func _ 189532 _ c ( this . field _ 70165 _ t , this . func _ 174813 _ aQ ( ) . field _ 72338 _ b - 1 . 0D , this . field _ 70161 _ v ) ) ; <nl> + + f6 = underState . func _ 177230 _ c ( ) . getSlipperiness ( underState , this . field _ 70170 _ p , blockpos $ pooledmutableblockpos , this ) * 0 . 91F ; <nl> + } <nl> + <nl> + if ( this . func _ 70617 _ f _ ( ) ) <nl> + @ @ - 2054 , 6 + 2079 , 7 @ @ <nl> <nl> public void func _ 70071 _ h _ ( ) <nl> { <nl> @ @ - 240 , 7 + 260 , 7 @ @ <nl> super . func _ 70071 _ h _ ( ) ; <nl> this . func _ 184608 _ ct ( ) ; <nl> <nl> - @ @ - 2096 , 7 + 2120 , 9 @ @ <nl> + @ @ - 2096 , 7 + 2122 , 9 @ @ <nl> <nl> if ( ! ItemStack . func _ 77989 _ b ( itemstack1 , itemstack ) ) <nl> { <nl> @ @ - 250 , 7 + 270 , 7 @ @ <nl> <nl> if ( ! itemstack . func _ 190926 _ b ( ) ) <nl> { <nl> - @ @ - 2575 , 6 + 2601 , 40 @ @ <nl> + @ @ - 2575 , 6 + 2603 , 40 @ @ <nl> this . field _ 70752 _ e = true ; <nl> } <nl> <nl> @ @ - 291 , 7 + 311 , 7 @ @ <nl> public abstract EnumHandSide func _ 184591 _ cq ( ) ; <nl> <nl> public boolean func _ 184587 _ cr ( ) <nl> - @ @ - 2595 , 12 + 2655 , 19 @ @ <nl> + @ @ - 2595 , 12 + 2657 , 19 @ @ <nl> <nl> if ( itemstack = = this . field _ 184627 _ bm ) <nl> { <nl> @ @ - 312 , 7 + 332 , 7 @ @ <nl> { <nl> this . func _ 71036 _ o ( ) ; <nl> } <nl> - @ @ - 2618 , 8 + 2685 , 10 @ @ <nl> + @ @ - 2618 , 8 + 2687 , 10 @ @ <nl> <nl> if ( ! itemstack . func _ 190926 _ b ( ) & & ! this . func _ 184587 _ cr ( ) ) <nl> { <nl> @ @ - 324 , 7 + 344 , 7 @ @ <nl> <nl> if ( ! this . field _ 70170 _ p . field _ 72995 _ K ) <nl> { <nl> - @ @ - 2700 , 7 + 2769 , 9 @ @ <nl> + @ @ - 2700 , 7 + 2771 , 9 @ @ <nl> if ( ! this . field _ 184627 _ bm . func _ 190926 _ b ( ) & & this . func _ 184587 _ cr ( ) ) <nl> { <nl> this . func _ 184584 _ a ( this . field _ 184627 _ bm , 16 ) ; <nl> @ @ - 335 , 7 + 355 , 7 @ @ <nl> this . func _ 184602 _ cy ( ) ; <nl> } <nl> } <nl> - @ @ - 2724 , 7 + 2795 , 8 @ @ <nl> + @ @ - 2724 , 7 + 2797 , 8 @ @ <nl> { <nl> if ( ! this . field _ 184627 _ bm . func _ 190926 _ b ( ) ) <nl> { <nl> @ @ - 345 , 7 + 365 , 7 @ @ <nl> } <nl> <nl> this . func _ 184602 _ cy ( ) ; <nl> - @ @ - 2852 , 6 + 2924 , 31 @ @ <nl> + @ @ - 2852 , 6 + 2926 , 31 @ @ <nl> return true ; <nl> } <nl> <nl> diff - - git a / patches / minecraft / net / minecraft / entity / item / EntityBoat . java . patch b / patches / minecraft / net / minecraft / entity / item / EntityBoat . java . patch <nl> new file mode 100644 <nl> index 0000000 . . 46a9889 <nl> - - - / dev / null <nl> + + + b / patches / minecraft / net / minecraft / entity / item / EntityBoat . java . patch <nl> @ @ - 0 , 0 + 1 , 32 @ @ <nl> + - - - . . / src - base / minecraft / net / minecraft / entity / item / EntityBoat . java <nl> + + + + . . / src - work / minecraft / net / minecraft / entity / item / EntityBoat . java <nl> + @ @ - 508 , 7 + 508 , 7 @ @ <nl> + <nl> + if ( ! list . isEmpty ( ) ) <nl> + { <nl> + - f + = iblockstate . func _ 177230 _ c ( ) . field _ 149765 _ K ; <nl> + + f + = iblockstate . func _ 177230 _ c ( ) . getSlipperiness ( iblockstate , this . field _ 70170 _ p , blockpos $ pooledmutableblockpos , this ) ; <nl> + + + k1 ; <nl> + } <nl> + <nl> + @ @ - 980 , 4 + 980 , 20 @ @ <nl> + return values ( ) [ 0 ] ; <nl> + } <nl> + } <nl> + + <nl> + + / / Forge : Fix MC - 119811 by instantly completing lerp on board <nl> + + @ Override <nl> + + protected void func _ 184200 _ o ( Entity passenger ) <nl> + + { <nl> + + super . func _ 184200 _ o ( passenger ) ; <nl> + + if ( this . func _ 184186 _ bw ( ) & & this . field _ 184476 _ at > 0 ) <nl> + + { <nl> + + this . field _ 184476 _ at = 0 ; <nl> + + this . field _ 70165 _ t = this . field _ 70281 _ h ; <nl> + + this . field _ 70163 _ u = this . field _ 184477 _ av ; <nl> + + this . field _ 70161 _ v = this . field _ 184478 _ aw ; <nl> + + this . field _ 70177 _ z = ( float ) this . field _ 70273 _ g ; <nl> + + this . field _ 70125 _ A = ( float ) this . field _ 184479 _ ay ; <nl> + + } <nl> + + } <nl> + } <nl> diff - - git a / patches / minecraft / net / minecraft / entity / item / EntityItem . java . patch b / patches / minecraft / net / minecraft / entity / item / EntityItem . java . patch <nl> index 75fa7b0 . . 1eb7106 100644 <nl> - - - a / patches / minecraft / net / minecraft / entity / item / EntityItem . java . patch <nl> + + + b / patches / minecraft / net / minecraft / entity / item / EntityItem . java . patch <nl> @ @ - 28 , 7 + 28 , 18 @ @ <nl> if ( this . func _ 92059 _ d ( ) . func _ 190926 _ b ( ) ) <nl> { <nl> this . func _ 70106 _ y ( ) ; <nl> - @ @ - 167 , 8 + 174 , 16 @ @ <nl> + @ @ - 135 , 7 + 142 , 9 @ @ <nl> + <nl> + if ( this . field _ 70122 _ E ) <nl> + { <nl> + - f = this . field _ 70170 _ p . func _ 180495 _ p ( new BlockPos ( MathHelper . func _ 76128 _ c ( this . field _ 70165 _ t ) , MathHelper . func _ 76128 _ c ( this . func _ 174813 _ aQ ( ) . field _ 72338 _ b ) - 1 , MathHelper . func _ 76128 _ c ( this . field _ 70161 _ v ) ) ) . func _ 177230 _ c ( ) . field _ 149765 _ K * 0 . 98F ; <nl> + + BlockPos underPos = new BlockPos ( MathHelper . func _ 76128 _ c ( this . field _ 70165 _ t ) , MathHelper . func _ 76128 _ c ( this . func _ 174813 _ aQ ( ) . field _ 72338 _ b ) - 1 , MathHelper . func _ 76128 _ c ( this . field _ 70161 _ v ) ) ; <nl> + + net . minecraft . block . state . IBlockState underState = this . field _ 70170 _ p . func _ 180495 _ p ( underPos ) ; <nl> + + f = underState . func _ 177230 _ c ( ) . getSlipperiness ( underState , this . field _ 70170 _ p , underPos , this ) * 0 . 98F ; <nl> + } <nl> + <nl> + this . field _ 70159 _ w * = ( double ) f ; <nl> + @ @ - 167 , 8 + 176 , 16 @ @ <nl> } <nl> } <nl> <nl> @ @ - 46 , 7 + 57 , 7 @ @ <nl> this . func _ 70106 _ y ( ) ; <nl> } <nl> } <nl> - @ @ - 225 , 6 + 240 , 10 @ @ <nl> + @ @ - 225 , 6 + 242 , 10 @ @ <nl> { <nl> return false ; <nl> } <nl> @ @ - 57 , 7 + 68 , 7 @ @ <nl> else <nl> { <nl> itemstack1 . func _ 190917 _ f ( itemstack . func _ 190916 _ E ( ) ) ; <nl> - @ @ - 282 , 6 + 301 , 7 @ @ <nl> + @ @ - 282 , 6 + 303 , 7 @ @ <nl> <nl> public boolean func _ 70097 _ a ( DamageSource p _ 70097 _ 1 _ , float p _ 70097 _ 2 _ ) <nl> { <nl> @ @ - 65 , 7 + 76 , 7 @ @ <nl> if ( this . func _ 180431 _ b ( p _ 70097 _ 1 _ ) ) <nl> { <nl> return false ; <nl> - @ @ - 314 , 6 + 334 , 7 @ @ <nl> + @ @ - 314 , 6 + 336 , 7 @ @ <nl> p _ 70014 _ 1 _ . func _ 74777 _ a ( " Health " , ( short ) this . field _ 70291 _ e ) ; <nl> p _ 70014 _ 1 _ . func _ 74777 _ a ( " Age " , ( short ) this . field _ 70292 _ b ) ; <nl> p _ 70014 _ 1 _ . func _ 74777 _ a ( " PickupDelay " , ( short ) this . field _ 145804 _ b ) ; <nl> @ @ - 73 , 7 + 84 , 7 @ @ <nl> <nl> if ( this . func _ 145800 _ j ( ) ! = null ) <nl> { <nl> - @ @ - 358 , 18 + 379 , 24 @ @ <nl> + @ @ - 358 , 18 + 381 , 24 @ @ <nl> { <nl> this . func _ 70106 _ y ( ) ; <nl> } <nl> @ @ - 99 , 7 + 110 , 7 @ @ <nl> p _ 70100 _ 1 _ . func _ 71001 _ a ( this , i ) ; <nl> <nl> if ( itemstack . func _ 190926 _ b ( ) ) <nl> - @ @ - 476 , 6 + 503 , 6 @ @ <nl> + @ @ - 476 , 6 + 505 , 6 @ @ <nl> public void func _ 174870 _ v ( ) <nl> { <nl> this . func _ 174871 _ r ( ) ; <nl> diff - - git a / patches / minecraft / net / minecraft / entity / item / EntityXPOrb . java . patch b / patches / minecraft / net / minecraft / entity / item / EntityXPOrb . java . patch <nl> index dd711a5 . . 8440a70 100644 <nl> - - - a / patches / minecraft / net / minecraft / entity / item / EntityXPOrb . java . patch <nl> + + + b / patches / minecraft / net / minecraft / entity / item / EntityXPOrb . java . patch <nl> @ @ - 1 , 6 + 1 , 17 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / entity / item / EntityXPOrb . java <nl> + + + . . / src - work / minecraft / net / minecraft / entity / item / EntityXPOrb . java <nl> - @ @ - 170 , 6 + 170 , 7 @ @ <nl> + @ @ - 137 , 7 + 137 , 9 @ @ <nl> + <nl> + if ( this . field _ 70122 _ E ) <nl> + { <nl> + - f = this . field _ 70170 _ p . func _ 180495 _ p ( new BlockPos ( MathHelper . func _ 76128 _ c ( this . field _ 70165 _ t ) , MathHelper . func _ 76128 _ c ( this . func _ 174813 _ aQ ( ) . field _ 72338 _ b ) - 1 , MathHelper . func _ 76128 _ c ( this . field _ 70161 _ v ) ) ) . func _ 177230 _ c ( ) . field _ 149765 _ K * 0 . 98F ; <nl> + + BlockPos underPos = new BlockPos ( MathHelper . func _ 76128 _ c ( this . field _ 70165 _ t ) , MathHelper . func _ 76128 _ c ( this . func _ 174813 _ aQ ( ) . field _ 72338 _ b ) - 1 , MathHelper . func _ 76128 _ c ( this . field _ 70161 _ v ) ) ; <nl> + + net . minecraft . block . state . IBlockState underState = this . field _ 70170 _ p . func _ 180495 _ p ( underPos ) ; <nl> + + f = underState . func _ 177230 _ c ( ) . getSlipperiness ( underState , this . field _ 70170 _ p , underPos , this ) * 0 . 98F ; <nl> + } <nl> + <nl> + this . field _ 70159 _ w * = ( double ) f ; <nl> + @ @ - 170 , 6 + 172 , 7 @ @ <nl> <nl> public boolean func _ 70097 _ a ( DamageSource p _ 70097 _ 1 _ , float p _ 70097 _ 2 _ ) <nl> { <nl> @ @ - 8 , 7 + 19 , 7 @ @ <nl> if ( this . func _ 180431 _ b ( p _ 70097 _ 1 _ ) ) <nl> { <nl> return false ; <nl> - @ @ - 208 , 6 + 209 , 7 @ @ <nl> + @ @ - 208 , 6 + 211 , 7 @ @ <nl> { <nl> if ( this . field _ 70532 _ c = = 0 & & p _ 70100 _ 1 _ . field _ 71090 _ bL = = 0 ) <nl> { <nl> diff - - git a / src / test / java / net / minecraftforge / debug / SlipperinessTest . java b / src / test / java / net / minecraftforge / debug / SlipperinessTest . java <nl> new file mode 100644 <nl> index 0000000 . . 76fa5ff <nl> - - - / dev / null <nl> + + + b / src / test / java / net / minecraftforge / debug / SlipperinessTest . java <nl> @ @ - 0 , 0 + 1 , 42 @ @ <nl> + package net . minecraftforge . debug ; <nl> + <nl> + import net . minecraft . block . Block ; <nl> + import net . minecraft . block . material . Material ; <nl> + import net . minecraft . block . state . IBlockState ; <nl> + import net . minecraft . entity . Entity ; <nl> + import net . minecraft . entity . item . EntityBoat ; <nl> + import net . minecraft . item . Item ; <nl> + import net . minecraft . item . ItemBlock ; <nl> + import net . minecraft . util . math . BlockPos ; <nl> + import net . minecraft . world . IBlockAccess ; <nl> + import net . minecraftforge . event . RegistryEvent ; <nl> + import net . minecraftforge . fml . common . Mod ; <nl> + import net . minecraftforge . fml . common . Mod . EventBusSubscriber ; <nl> + import net . minecraftforge . fml . common . eventhandler . SubscribeEvent ; <nl> + <nl> + @ Mod ( modid = " slipperiness _ test " , name = " Slipperiness Test " , version = " 0 . 0 . 0 " ) <nl> + @ EventBusSubscriber <nl> + public class SlipperinessTest <nl> + { <nl> + public static final Block BB _ BLOCK = new Block ( Material . PACKED _ ICE ) <nl> + { <nl> + @ Override <nl> + public float getSlipperiness ( IBlockState state , IBlockAccess world , BlockPos pos , Entity entity ) <nl> + { <nl> + return entity instanceof EntityBoat ? 2 : super . getSlipperiness ( state , world , pos , entity ) ; <nl> + } <nl> + } . setUnlocalizedName ( " boat _ blaster " ) . setRegistryName ( " boat _ blaster " ) ; <nl> + <nl> + @ SubscribeEvent <nl> + public static void registerBlocks ( RegistryEvent . Register < Block > e ) <nl> + { <nl> + e . getRegistry ( ) . register ( BB _ BLOCK ) ; <nl> + } <nl> + <nl> + @ SubscribeEvent <nl> + public static void registerItems ( RegistryEvent . Register < Item > e ) <nl> + { <nl> + e . getRegistry ( ) . register ( new ItemBlock ( BB _ BLOCK ) . setRegistryName ( BB _ BLOCK . getRegistryName ( ) ) ) ; <nl> + } <nl> + } <nl> +

TEST DIFF:
diff - - git a / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch b / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch 
 index 309da7a . . fd41f3a 100644 
 - - - a / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch 
 + + + b / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch 
 @ @ - 1 , 6 + 1 , 22 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / entity / EntityLivingBase . java 
 + + + . . / src - work / minecraft / net / minecraft / entity / EntityLivingBase . java 
 - @ @ - 201 , 10 + 201 , 11 @ @ 
 + @ @ - 82 , 6 + 82 , 7 @ @ 
 + private static final Logger field _ 190632 _ a = LogManager . getLogger ( ) ; 
 + private static final UUID field _ 110156 _ b = UUID . fromString ( " 662A6B8D - DA3E - 4C1C - 8813 - 96EA6097278D " ) ; 
 + private static final AttributeModifier field _ 110157 _ c = ( new AttributeModifier ( field _ 110156 _ b , " Sprinting speed boost " , 0 . 30000001192092896D , 2 ) ) . func _ 111168 _ a ( false ) ; 
 + + public static final net . minecraft . entity . ai . attributes . IAttribute SWIM _ SPEED = new net . minecraft . entity . ai . attributes . RangedAttribute ( null , " forge . swimSpeed " , 1 . 0D , 0 . 0D , 1024 . 0D ) . func _ 111112 _ a ( true ) ; 
 + protected static final DataParameter < Byte > field _ 184621 _ as = EntityDataManager . < Byte > func _ 187226 _ a ( EntityLivingBase . class , DataSerializers . field _ 187191 _ a ) ; 
 + private static final DataParameter < Float > field _ 184632 _ c = EntityDataManager . < Float > func _ 187226 _ a ( EntityLivingBase . class , DataSerializers . field _ 187193 _ c ) ; 
 + private static final DataParameter < Integer > field _ 184633 _ f = EntityDataManager . < Integer > func _ 187226 _ a ( EntityLivingBase . class , DataSerializers . field _ 187192 _ b ) ; 
 + @ @ - 188 , 6 + 189 , 7 @ @ 
 + this . func _ 110140 _ aT ( ) . func _ 111150 _ b ( SharedMonsterAttributes . field _ 111263 _ d ) ; 
 + this . func _ 110140 _ aT ( ) . func _ 111150 _ b ( SharedMonsterAttributes . field _ 188791 _ g ) ; 
 + this . func _ 110140 _ aT ( ) . func _ 111150 _ b ( SharedMonsterAttributes . field _ 189429 _ h ) ; 
 + + this . func _ 110140 _ aT ( ) . func _ 111150 _ b ( SWIM _ SPEED ) ; 
 + } 
 + 
 + protected void func _ 184231 _ a ( double p _ 184231 _ 1 _ , boolean p _ 184231 _ 3 _ , IBlockState p _ 184231 _ 4 _ , BlockPos p _ 184231 _ 5 _ ) 
 + @ @ - 201 , 10 + 203 , 11 @ @ 
 { 
 float f = ( float ) MathHelper . func _ 76123 _ f ( this . field _ 70143 _ R - 3 . 0F ) ; 
 
 @ @ - 13 , 7 + 29 , 7 @ @ 
 ( ( WorldServer ) this . field _ 70170 _ p ) . func _ 175739 _ a ( EnumParticleTypes . BLOCK _ DUST , this . field _ 70165 _ t , this . field _ 70163 _ u , this . field _ 70161 _ v , i , 0 . 0D , 0 . 0D , 0 . 0D , 0 . 15000000596046448D , Block . func _ 176210 _ f ( p _ 184231 _ 4 _ ) ) ; 
 } 
 } 
 - @ @ - 281 , 7 + 282 , 7 @ @ 
 + @ @ - 281 , 7 + 284 , 7 @ @ 
 } 
 } 
 
 @ @ - 22 , 7 + 38 , 7 @ @ 
 { 
 this . func _ 184210 _ p ( ) ; 
 } 
 - @ @ - 380 , 7 + 381 , 7 @ @ 
 + @ @ - 380 , 7 + 383 , 7 @ @ 
 if ( ! this . field _ 70170 _ p . field _ 72995 _ K & & ( this . func _ 70684 _ aJ ( ) | | this . field _ 70718 _ bc > 0 & & this . func _ 146066 _ aG ( ) & & this . field _ 70170 _ p . func _ 82736 _ K ( ) . func _ 82766 _ b ( " doMobLoot " ) ) ) 
 { 
 int i = this . func _ 70693 _ a ( this . field _ 70717 _ bb ) ; 
 @ @ - 31 , 7 + 47 , 7 @ @ 
 while ( i > 0 ) 
 { 
 int j = EntityXPOrb . func _ 70527 _ a ( i ) ; 
 - @ @ - 442 , 6 + 443 , 7 @ @ 
 + @ @ - 442 , 6 + 445 , 7 @ @ 
 { 
 this . field _ 70755 _ b = p _ 70604 _ 1 _ ; 
 this . field _ 70756 _ c = this . field _ 70173 _ aa ; 
 @ @ - 39 , 7 + 55 , 7 @ @ 
 } 
 
 public EntityLivingBase func _ 110144 _ aD ( ) 
 - @ @ - 670 , 8 + 672 , 10 @ @ 
 + @ @ - 670 , 8 + 674 , 10 @ @ 
 else 
 { 
 Collection < PotionEffect > collection = this . field _ 70713 _ bf . values ( ) ; 
 @ @ - 52 , 7 + 68 , 7 @ @ 
 this . func _ 82142 _ c ( this . func _ 70644 _ a ( MobEffects . field _ 76441 _ p ) ) ; 
 } 
 } 
 - @ @ - 819 , 6 + 823 , 8 @ @ 
 + @ @ - 819 , 6 + 825 , 8 @ @ 
 
 public void func _ 70691 _ i ( float p _ 70691 _ 1 _ ) 
 { 
 @ @ - 61 , 7 + 77 , 7 @ @ 
 float f = this . func _ 110143 _ aJ ( ) ; 
 
 if ( f > 0 . 0F ) 
 - @ @ - 839 , 6 + 845 , 7 @ @ 
 + @ @ - 839 , 6 + 847 , 7 @ @ 
 
 public boolean func _ 70097 _ a ( DamageSource p _ 70097 _ 1 _ , float p _ 70097 _ 2 _ ) 
 { 
 @ @ - 69 , 7 + 85 , 7 @ @ 
 if ( this . func _ 180431 _ b ( p _ 70097 _ 1 _ ) ) 
 { 
 return false ; 
 - @ @ - 927 , 9 + 934 , 9 @ @ 
 + @ @ - 927 , 9 + 936 , 9 @ @ 
 this . field _ 70718 _ bc = 100 ; 
 this . field _ 70717 _ bb = ( EntityPlayer ) entity1 ; 
 } 
 @ @ - 81 , 7 + 97 , 7 @ @ 
 
 if ( entitywolf . func _ 70909 _ n ( ) ) 
 { 
 - @ @ - 1127 , 7 + 1134 , 7 @ @ 
 + @ @ - 1127 , 7 + 1136 , 7 @ @ 
 
 public void func _ 70669 _ a ( ItemStack p _ 70669 _ 1 _ ) 
 { 
 @ @ - 90 , 7 + 106 , 7 @ @ 
 
 for ( int i = 0 ; i < 5 ; + + i ) 
 { 
 - @ @ - 1139 , 12 + 1146 , 17 @ @ 
 + @ @ - 1139 , 12 + 1148 , 17 @ @ 
 vec3d1 = vec3d1 . func _ 178789 _ a ( - this . field _ 70125 _ A * 0 . 017453292F ) ; 
 vec3d1 = vec3d1 . func _ 178785 _ b ( - this . field _ 70177 _ z * 0 . 017453292F ) ; 
 vec3d1 = vec3d1 . func _ 72441 _ c ( this . field _ 70165 _ t , this . field _ 70163 _ u + ( double ) this . func _ 70047 _ e ( ) , this . field _ 70161 _ v ) ; 
 @ @ - 109 , 7 + 125 , 7 @ @ 
 if ( ! this . field _ 70729 _ aU ) 
 { 
 Entity entity = p _ 70645 _ 1 _ . func _ 76346 _ g ( ) ; 
 - @ @ - 1165 , 18 + 1177 , 26 @ @ 
 + @ @ - 1165 , 18 + 1179 , 26 @ @ 
 
 if ( ! this . field _ 70170 _ p . field _ 72995 _ K ) 
 { 
 @ @ - 141 , 7 + 157 , 7 @ @ 
 } 
 
 this . field _ 70170 _ p . func _ 72960 _ a ( this , ( byte ) 3 ) ; 
 - @ @ - 1195 , 6 + 1215 , 9 @ @ 
 + @ @ - 1195 , 6 + 1217 , 9 @ @ 
 
 public void func _ 70653 _ a ( Entity p _ 70653 _ 1 _ , float p _ 70653 _ 2 _ , double p _ 70653 _ 3 _ , double p _ 70653 _ 5 _ ) 
 { 
 @ @ - 151 , 7 + 167 , 7 @ @ 
 if ( this . field _ 70146 _ Z . nextDouble ( ) > = this . func _ 110148 _ a ( SharedMonsterAttributes . field _ 111266 _ c ) . func _ 111126 _ e ( ) ) 
 { 
 this . field _ 70160 _ al = true ; 
 - @ @ - 1253 , 15 + 1276 , 7 @ @ 
 + @ @ - 1253 , 15 + 1278 , 7 @ @ 
 BlockPos blockpos = new BlockPos ( i , j , k ) ; 
 IBlockState iblockstate = this . field _ 70170 _ p . func _ 180495 _ p ( blockpos ) ; 
 Block block = iblockstate . func _ 177230 _ c ( ) ; 
 @ @ - 168 , 7 + 184 , 7 @ @ 
 } 
 } 
 
 - @ @ - 1287 , 6 + 1302 , 9 @ @ 
 + @ @ - 1287 , 6 + 1304 , 9 @ @ 
 
 public void func _ 180430 _ e ( float p _ 180430 _ 1 _ , float p _ 180430 _ 2 _ ) 
 { 
 @ @ - 178 , 7 + 194 , 7 @ @ 
 super . func _ 180430 _ e ( p _ 180430 _ 1 _ , p _ 180430 _ 2 _ ) ; 
 PotionEffect potioneffect = this . func _ 70660 _ b ( MobEffects . field _ 76430 _ j ) ; 
 float f = potioneffect = = null ? 0 . 0F : ( float ) ( potioneffect . func _ 76458 _ c ( ) + 1 ) ; 
 - @ @ - 1303 , 7 + 1321 , 7 @ @ 
 + @ @ - 1303 , 7 + 1323 , 7 @ @ 
 
 if ( iblockstate . func _ 185904 _ a ( ) ! = Material . field _ 151579 _ a ) 
 { 
 @ @ - 187 , 7 + 203 , 7 @ @ 
 this . func _ 184185 _ a ( soundtype . func _ 185842 _ g ( ) , soundtype . func _ 185843 _ a ( ) * 0 . 5F , soundtype . func _ 185847 _ b ( ) * 0 . 75F ) ; 
 } 
 } 
 - @ @ - 1380 , 17 + 1398 , 20 @ @ 
 + @ @ - 1380 , 17 + 1400 , 20 @ @ 
 { 
 if ( ! this . func _ 180431 _ b ( p _ 70665 _ 1 _ ) ) 
 { 
 @ @ - 209 , 7 + 225 , 7 @ @ 
 this . func _ 110149 _ m ( this . func _ 110139 _ bj ( ) - p _ 70665 _ 2 _ ) ; 
 } 
 } 
 - @ @ - 1447 , 6 + 1468 , 11 @ @ 
 + @ @ - 1447 , 6 + 1470 , 11 @ @ 
 
 public void func _ 184609 _ a ( EnumHand p _ 184609 _ 1 _ ) 
 { 
 @ @ - 221 , 7 + 237 , 7 @ @ 
 if ( ! this . field _ 82175 _ bq | | this . field _ 110158 _ av > = this . func _ 82166 _ i ( ) / 2 | | this . field _ 110158 _ av < 0 ) 
 { 
 this . field _ 110158 _ av = - 1 ; 
 - @ @ - 1694 , 7 + 1720 , 7 @ @ 
 + @ @ - 1694 , 7 + 1722 , 7 @ @ 
 
 if ( ! this . field _ 70170 _ p . func _ 184143 _ b ( axisalignedbb1 ) ) 
 { 
 @ @ - 230 , 7 + 246 , 7 @ @ 
 { 
 this . func _ 70634 _ a ( d11 , this . field _ 70163 _ u + 1 . 0D , d12 ) ; 
 return ; 
 - @ @ - 1702 , 14 + 1728 , 14 @ @ 
 + @ @ - 1702 , 14 + 1730 , 14 @ @ 
 
 BlockPos blockpos = new BlockPos ( d11 , this . field _ 70163 _ u - 1 . 0D , d12 ) ; 
 
 @ @ - 247 , 7 + 263 , 7 @ @ 
 { 
 d1 = d11 ; 
 d13 = this . field _ 70163 _ u + 2 . 0D ; 
 - @ @ - 1781 , 6 + 1807 , 7 @ @ 
 + @ @ - 1781 , 16 + 1809 , 17 @ @ 
 } 
 
 this . field _ 70160 _ al = true ; 
 @ @ - 255 , 7 + 271 , 19 @ @ 
 } 
 
 protected void func _ 70629 _ bd ( ) 
 - @ @ - 1874 , 7 + 1901 , 8 @ @ 
 + { 
 + - this . field _ 70181 _ x + = 0 . 03999999910593033D ; 
 + + this . field _ 70181 _ x + = 0 . 03999999910593033D * this . func _ 110148 _ a ( SWIM _ SPEED ) . func _ 111126 _ e ( ) ; 
 + } 
 + 
 + protected void func _ 180466 _ bG ( ) 
 + { 
 + - this . field _ 70181 _ x + = 0 . 03999999910593033D ; 
 + + this . field _ 70181 _ x + = 0 . 03999999910593033D * this . func _ 110148 _ a ( SWIM _ SPEED ) . func _ 111126 _ e ( ) ; 
 + } 
 + 
 + protected float func _ 189749 _ co ( ) 
 + @ @ - 1874 , 7 + 1903 , 8 @ @ 
 
 if ( this . field _ 70122 _ E ) 
 { 
 @ @ - 265 , 7 + 293 , 7 @ @ 
 } 
 
 float f7 = 0 . 16277136F / ( f6 * f6 * f6 ) ; 
 - @ @ - 1894 , 7 + 1922 , 8 @ @ 
 + @ @ - 1894 , 7 + 1924 , 8 @ @ 
 
 if ( this . field _ 70122 _ E ) 
 { 
 @ @ - 275 , 7 + 303 , 7 @ @ 
 } 
 
 if ( this . func _ 70617 _ f _ ( ) ) 
 - @ @ - 2054 , 6 + 2083 , 7 @ @ 
 + @ @ - 2054 , 6 + 2085 , 7 @ @ 
 
 public void func _ 70071 _ h _ ( ) 
 { 
 @ @ - 283 , 7 + 311 , 7 @ @ 
 super . func _ 70071 _ h _ ( ) ; 
 this . func _ 184608 _ ct ( ) ; 
 
 - @ @ - 2096 , 7 + 2126 , 9 @ @ 
 + @ @ - 2096 , 7 + 2128 , 9 @ @ 
 
 if ( ! ItemStack . func _ 77989 _ b ( itemstack1 , itemstack ) ) 
 { 
 @ @ - 293 , 7 + 321 , 7 @ @ 
 
 if ( ! itemstack . func _ 190926 _ b ( ) ) 
 { 
 - @ @ - 2575 , 6 + 2607 , 40 @ @ 
 + @ @ - 2575 , 6 + 2609 , 40 @ @ 
 this . field _ 70752 _ e = true ; 
 } 
 
 @ @ - 334 , 7 + 362 , 7 @ @ 
 public abstract EnumHandSide func _ 184591 _ cq ( ) ; 
 
 public boolean func _ 184587 _ cr ( ) 
 - @ @ - 2595 , 12 + 2661 , 19 @ @ 
 + @ @ - 2595 , 12 + 2663 , 19 @ @ 
 
 if ( itemstack = = this . field _ 184627 _ bm ) 
 { 
 @ @ - 355 , 7 + 383 , 7 @ @ 
 { 
 this . func _ 71036 _ o ( ) ; 
 } 
 - @ @ - 2618 , 8 + 2691 , 10 @ @ 
 + @ @ - 2618 , 8 + 2693 , 10 @ @ 
 
 if ( ! itemstack . func _ 190926 _ b ( ) & & ! this . func _ 184587 _ cr ( ) ) 
 { 
 @ @ - 367 , 7 + 395 , 7 @ @ 
 
 if ( ! this . field _ 70170 _ p . field _ 72995 _ K ) 
 { 
 - @ @ - 2700 , 7 + 2775 , 10 @ @ 
 + @ @ - 2700 , 7 + 2777 , 10 @ @ 
 if ( ! this . field _ 184627 _ bm . func _ 190926 _ b ( ) & & this . func _ 184587 _ cr ( ) ) 
 { 
 this . func _ 184584 _ a ( this . field _ 184627 _ bm , 16 ) ; 
 @ @ - 379 , 7 + 407 , 7 @ @ 
 this . func _ 184602 _ cy ( ) ; 
 } 
 } 
 - @ @ - 2724 , 7 + 2802 , 8 @ @ 
 + @ @ - 2724 , 7 + 2804 , 8 @ @ 
 { 
 if ( ! this . field _ 184627 _ bm . func _ 190926 _ b ( ) ) 
 { 
 @ @ - 389 , 7 + 417 , 7 @ @ 
 } 
 
 this . func _ 184602 _ cy ( ) ; 
 - @ @ - 2852 , 6 + 2931 , 31 @ @ 
 + @ @ - 2852 , 6 + 2933 , 31 @ @ 
 return true ; 
 } 
 
 @ @ - 421 , 3 + 449 , 34 @ @ 
 public boolean func _ 190631 _ cK ( ) 
 { 
 return true ; 
 + @ @ - 2861 , 4 + 2967 , 30 @ @ 
 + public void func _ 191987 _ a ( BlockPos p _ 191987 _ 1 _ , boolean p _ 191987 _ 2 _ ) 
 + { 
 + } 
 + + 
 + + @ Override 
 + + public void func _ 191958 _ b ( float strafe , float up , float forward , float friction ) 
 + + { 
 + + float f = strafe * strafe + up * up + forward * forward ; 
 + + if ( f > = 1 . 0E - 4F ) 
 + + { 
 + + f = MathHelper . func _ 76129 _ c ( f ) ; 
 + + if ( f < 1 . 0F ) f = 1 . 0F ; 
 + + f = friction / f ; 
 + + strafe = strafe * f ; 
 + + up = up * f ; 
 + + forward = forward * f ; 
 + + if ( this . func _ 70090 _ H ( ) | | this . func _ 180799 _ ab ( ) ) 
 + + { 
 + + strafe = strafe * ( float ) this . func _ 110148 _ a ( SWIM _ SPEED ) . func _ 111126 _ e ( ) ; 
 + + up = up * ( float ) this . func _ 110148 _ a ( SWIM _ SPEED ) . func _ 111126 _ e ( ) ; 
 + + forward = forward * ( float ) this . func _ 110148 _ a ( SWIM _ SPEED ) . func _ 111126 _ e ( ) ; 
 + + } 
 + + float f1 = MathHelper . func _ 76126 _ a ( this . field _ 70177 _ z * 0 . 017453292F ) ; 
 + + float f2 = MathHelper . func _ 76134 _ b ( this . field _ 70177 _ z * 0 . 017453292F ) ; 
 + + this . field _ 70159 _ w + = ( double ) ( strafe * f2 - forward * f1 ) ; 
 + + this . field _ 70181 _ x + = ( double ) up ; 
 + + this . field _ 70179 _ y + = ( double ) ( forward * f2 + strafe * f1 ) ; 
 + + } 
 + + } 
 + } 
 diff - - git a / src / test / java / net / minecraftforge / debug / entity / player / SwimSpeedAttributeTest . java b / src / test / java / net / minecraftforge / debug / entity / player / SwimSpeedAttributeTest . java 
 new file mode 100644 
 index 0000000 . . e04b6c5 
 - - - / dev / null 
 + + + b / src / test / java / net / minecraftforge / debug / entity / player / SwimSpeedAttributeTest . java 
 @ @ - 0 , 0 + 1 , 80 @ @ 
 + / * 
 + * Minecraft Forge 
 + * Copyright ( c ) 2016 - 2018 . 
 + * 
 + * This library is free software ; you can redistribute it and / or 
 + * modify it under the terms of the GNU Lesser General Public 
 + * License as published by the Free Software Foundation version 2 . 1 
 + * of the License . 
 + * 
 + * This library is distributed in the hope that it will be useful , 
 + * but WITHOUT ANY WARRANTY ; without even the implied warranty of 
 + * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE . See the GNU 
 + * Lesser General Public License for more details . 
 + * 
 + * You should have received a copy of the GNU Lesser General Public 
 + * License along with this library ; if not , write to the Free Software 
 + * Foundation , Inc . , 51 Franklin Street , Fifth Floor , Boston , MA 02110 - 1301 USA 
 + * / 
 + 
 + package net . minecraftforge . debug . entity . player ; 
 + 
 + import com . google . common . collect . Multimap ; 
 + import net . minecraft . client . renderer . block . model . ModelResourceLocation ; 
 + import net . minecraft . entity . ai . attributes . AttributeModifier ; 
 + import net . minecraft . entity . EntityLivingBase ; 
 + import net . minecraft . inventory . EntityEquipmentSlot ; 
 + import net . minecraft . item . Item ; 
 + import net . minecraft . item . ItemArmor ; 
 + import net . minecraft . item . ItemStack ; 
 + import net . minecraftforge . client . event . ModelRegistryEvent ; 
 + import net . minecraftforge . client . model . ModelLoader ; 
 + import net . minecraftforge . event . RegistryEvent ; 
 + import net . minecraftforge . fml . common . Mod ; 
 + import net . minecraftforge . fml . common . eventhandler . SubscribeEvent ; 
 + import net . minecraftforge . fml . relauncher . Side ; 
 + 
 + @ Mod ( modid = SwimSpeedAttributeTest . MODID , name = SwimSpeedAttributeTest . MODID , version = " 1 . 0 " , acceptableRemoteVersions = " * " ) 
 + @ Mod . EventBusSubscriber 
 + public class SwimSpeedAttributeTest 
 + { 
 + public static final String MODID = " swimspeedattributetest " ; 
 + private static final Item PLATE = new SwimSpeedPlate ( ) . setRegistryName ( MODID , " swim _ speed _ plate " ) ; 
 + 
 + @ SubscribeEvent 
 + public static void registerItems ( RegistryEvent . Register < Item > evt ) { 
 + evt . getRegistry ( ) . register ( PLATE ) ; 
 + } 
 + 
 + @ Mod . EventBusSubscriber ( Side . CLIENT ) 
 + public static class ClientEvents 
 + { 
 + @ SubscribeEvent 
 + public static void registerModels ( ModelRegistryEvent evt ) 
 + { 
 + ModelLoader . setCustomModelResourceLocation ( PLATE , 0 , new ModelResourceLocation ( " minecraft : diamond _ chestplate " , " inventory " ) ) ; 
 + } 
 + } 
 + 
 + public static class SwimSpeedPlate extends ItemArmor 
 + { 
 + private static final AttributeModifier BOOST = new AttributeModifier ( " swim speed plate boost " , 3 , 0 ) ; 
 + 
 + public SwimSpeedPlate ( ) 
 + { 
 + super ( ArmorMaterial . DIAMOND , 3 , EntityEquipmentSlot . CHEST ) ; 
 + setUnlocalizedName ( " swimSpeedPlate " ) ; 
 + } 
 + 
 + @ Override 
 + public Multimap < String , AttributeModifier > getAttributeModifiers ( EntityEquipmentSlot slot , ItemStack stack ) 
 + { 
 + Multimap < String , AttributeModifier > attribs = super . getAttributeModifiers ( slot , stack ) ; 
 + if ( slot = = this . armorType ) 
 + { 
 + attribs . put ( EntityLivingBase . SWIM _ SPEED . getName ( ) , BOOST ) ; 
 + } 
 + return attribs ; 
 + } 
 + } 
 + }

NEAREST DIFF:
diff - - git a / patches / minecraft / net / minecraft / block / Block . java . patch b / patches / minecraft / net / minecraft / block / Block . java . patch 
 index ab5d77d . . cca9797 100644 
 - - - a / patches / minecraft / net / minecraft / block / Block . java . patch 
 + + + b / patches / minecraft / net / minecraft / block / Block . java . patch 
 @ @ - 16 , 7 + 16 , 15 @ @ 
 public static final AxisAlignedBB field _ 185505 _ j = new AxisAlignedBB ( 0 . 0D , 0 . 0D , 0 . 0D , 1 . 0D , 1 . 0D , 1 . 0D ) ; 
 @ Nullable 
 public static final AxisAlignedBB field _ 185506 _ k = null ; 
 - @ @ - 319 , 7 + 320 , 7 @ @ 
 + @ @ - 75 , 6 + 76 , 7 @ @ 
 + public float field _ 149763 _ I ; 
 + protected final Material field _ 149764 _ J ; 
 + protected final MapColor field _ 181083 _ K ; 
 + + @ Deprecated / / Forge : State / world / pos / entity sensitive version below 
 + public float field _ 149765 _ K ; 
 + protected final BlockStateContainer field _ 176227 _ L ; 
 + private IBlockState field _ 176228 _ M ; 
 + @ @ - 319 , 7 + 321 , 7 @ @ 
 
 public boolean func _ 176200 _ f ( IBlockAccess p _ 176200 _ 1 _ , BlockPos p _ 176200 _ 2 _ ) 
 { 
 @ @ - 25 , 7 + 33 , 7 @ @ 
 } 
 
 public Block func _ 149711 _ c ( float p _ 149711 _ 1 _ ) 
 - @ @ - 357 , 9 + 358 , 10 @ @ 
 + @ @ - 357 , 9 + 359 , 10 @ @ 
 return this . field _ 149789 _ z ; 
 } 
 
 @ @ - 37 , 7 + 45 , 7 @ @ 
 } 
 
 @ Deprecated 
 - @ @ - 372 , 13 + 374 , 13 @ @ 
 + @ @ - 372 , 13 + 375 , 13 @ @ 
 @ SideOnly ( Side . CLIENT ) 
 public int func _ 185484 _ c ( IBlockState p _ 185484 _ 1 _ , IBlockAccess p _ 185484 _ 2 _ , BlockPos p _ 185484 _ 3 _ ) 
 { 
 @ @ - 53 , 7 + 61 , 7 @ @ 
 } 
 else 
 { 
 - @ @ - 442 , 7 + 444 , 7 @ @ 
 + @ @ - 442 , 7 + 445 , 7 @ @ 
 } 
 } 
 
 @ @ - 62 , 7 + 70 , 7 @ @ 
 } 
 
 @ Deprecated 
 - @ @ - 534 , 6 + 536 , 10 @ @ 
 + @ @ - 534 , 6 + 537 , 10 @ @ 
 
 public void func _ 180663 _ b ( World p _ 180663 _ 1 _ , BlockPos p _ 180663 _ 2 _ , IBlockState p _ 180663 _ 3 _ ) 
 { 
 @ @ - 73 , 7 + 81 , 7 @ @ 
 } 
 
 public int func _ 149745 _ a ( Random p _ 149745 _ 1 _ ) 
 - @ @ - 549 , 16 + 555 , 7 @ @ 
 + @ @ - 549 , 16 + 556 , 7 @ @ 
 @ Deprecated 
 public float func _ 180647 _ a ( IBlockState p _ 180647 _ 1 _ , EntityPlayer p _ 180647 _ 2 _ , World p _ 180647 _ 3 _ , BlockPos p _ 180647 _ 4 _ ) 
 { 
 @ @ - 91 , 7 + 99 , 7 @ @ 
 } 
 
 public final void func _ 176226 _ b ( World p _ 176226 _ 1 _ , BlockPos p _ 176226 _ 2 _ , IBlockState p _ 176226 _ 3 _ , int p _ 176226 _ 4 _ ) 
 - @ @ - 568 , 20 + 565 , 16 @ @ 
 + @ @ - 568 , 20 + 566 , 16 @ @ 
 
 public void func _ 180653 _ a ( World p _ 180653 _ 1 _ , BlockPos p _ 180653 _ 2 _ , IBlockState p _ 180653 _ 3 _ , float p _ 180653 _ 4 _ , int p _ 180653 _ 5 _ ) 
 { 
 @ @ - 117 , 7 + 125 , 7 @ @ 
 } 
 } 
 } 
 - @ @ - 589 , 8 + 582 , 13 @ @ 
 + @ @ - 589 , 8 + 583 , 13 @ @ 
 
 public static void func _ 180635 _ a ( World p _ 180635 _ 0 _ , BlockPos p _ 180635 _ 1 _ , ItemStack p _ 180635 _ 2 _ ) 
 { 
 @ @ - 132 , 7 + 140 , 7 @ @ 
 float f = 0 . 5F ; 
 double d0 = ( double ) ( p _ 180635 _ 0 _ . field _ 73012 _ v . nextFloat ( ) * 0 . 5F ) + 0 . 25D ; 
 double d1 = ( double ) ( p _ 180635 _ 0 _ . field _ 73012 _ v . nextFloat ( ) * 0 . 5F ) + 0 . 25D ; 
 - @ @ - 619 , 6 + 617 , 7 @ @ 
 + @ @ - 619 , 6 + 618 , 7 @ @ 
 return 0 ; 
 } 
 
 @ @ - 140 , 7 + 148 , 7 @ @ 
 public float func _ 149638 _ a ( Entity p _ 149638 _ 1 _ ) 
 { 
 return this . field _ 149781 _ w / 5 . 0F ; 
 - @ @ - 657 , 7 + 656 , 7 @ @ 
 + @ @ - 657 , 7 + 657 , 7 @ @ 
 
 public boolean func _ 176196 _ c ( World p _ 176196 _ 1 _ , BlockPos p _ 176196 _ 2 _ ) 
 { 
 @ @ - 149 , 7 + 157 , 7 @ @ 
 } 
 
 public boolean func _ 180639 _ a ( World p _ 180639 _ 1 _ , BlockPos p _ 180639 _ 2 _ , IBlockState p _ 180639 _ 3 _ , EntityPlayer p _ 180639 _ 4 _ , EnumHand p _ 180639 _ 5 _ , EnumFacing p _ 180639 _ 6 _ , float p _ 180639 _ 7 _ , float p _ 180639 _ 8 _ , float p _ 180639 _ 9 _ ) 
 - @ @ - 669 , 6 + 668 , 8 @ @ 
 + @ @ - 669 , 6 + 669 , 8 @ @ 
 { 
 } 
 
 @ @ - 158 , 7 + 166 , 7 @ @ 
 public IBlockState func _ 180642 _ a ( World p _ 180642 _ 1 _ , BlockPos p _ 180642 _ 2 _ , EnumFacing p _ 180642 _ 3 _ , float p _ 180642 _ 4 _ , float p _ 180642 _ 5 _ , float p _ 180642 _ 6 _ , int p _ 180642 _ 7 _ , EntityLivingBase p _ 180642 _ 8 _ ) 
 { 
 return this . func _ 176203 _ a ( p _ 180642 _ 7 _ ) ; 
 - @ @ - 710 , 21 + 711 , 35 @ @ 
 + @ @ - 710 , 21 + 712 , 35 @ @ 
 p _ 180657 _ 2 _ . func _ 71029 _ a ( StatList . func _ 188055 _ a ( this ) ) ; 
 p _ 180657 _ 2 _ . func _ 71020 _ j ( 0 . 005F ) ; 
 
 @ @ - 197 , 7 + 205 , 7 @ @ 
 } 
 
 protected ItemStack func _ 180643 _ i ( IBlockState p _ 180643 _ 1 _ ) 
 - @ @ - 810 , 12 + 825 , 12 @ @ 
 + @ @ - 810 , 12 + 826 , 12 @ @ 
 p _ 176216 _ 2 _ . field _ 70181 _ x = 0 . 0D ; 
 } 
 
 @ @ - 211 , 7 + 219 , 7 @ @ 
 public void func _ 149666 _ a ( CreativeTabs p _ 149666 _ 1 _ , NonNullList < ItemStack > p _ 149666 _ 2 _ ) 
 { 
 p _ 149666 _ 2 _ . add ( new ItemStack ( this ) ) ; 
 - @ @ - 831 , 7 + 846 , 6 @ @ 
 + @ @ - 831 , 7 + 847 , 6 @ @ 
 { 
 } 
 
 @ @ - 219 , 7 + 227 , 7 @ @ 
 public CreativeTabs func _ 149708 _ J ( ) 
 { 
 return this . field _ 149772 _ a ; 
 - @ @ - 921 , 6 + 935 , 7 @ @ 
 + @ @ - 921 , 6 + 936 , 7 @ @ 
 } 
 } 
 
 @ @ - 227 , 7 + 235 , 7 @ @ 
 public SoundType func _ 185467 _ w ( ) 
 { 
 return this . field _ 149762 _ H ; 
 - @ @ - 936 , 6 + 951 , 1250 @ @ 
 + @ @ - 936 , 6 + 952 , 1287 @ @ 
 { 
 } 
 
 @ @ - 236 , 6 + 244 , 43 @ @ 
 + protected ThreadLocal < EntityPlayer > harvesters = new ThreadLocal ( ) ; 
 + private ThreadLocal < IBlockState > silk _ check _ state = new ThreadLocal ( ) ; 
 + protected static java . util . Random RANDOM = new java . util . Random ( ) ; / / Useful for random things without a seed . 
 + + 
 + + / * * 
 + + * Gets the slipperiness at the given location at the given state . Normally 
 + + * between 0 and 1 . 
 + + * < p > 
 + + * Note that entities may reduce slipperiness by a certain factor of their own ; 
 + + * for { @ link net . minecraft . entity . EntityLivingBase } , this is { @ code . 91 } . 
 + + * { @ link net . minecraft . entity . item . EntityItem } uses { @ code . 98 } , and 
 + + * { @ link net . minecraft . entity . projectile . EntityFishHook } uses { @ code . 92 } . 
 + + * 
 + + * @ param state state of the block 
 + + * @ param world the world 
 + + * @ param pos the position in the world 
 + + * @ param entity the entity in question 
 + + * @ return the factor by which the entity ' s motion should be multiplied 
 + + * / 
 + + public float getSlipperiness ( IBlockState state , IBlockAccess world , BlockPos pos , @ Nullable Entity entity ) 
 + + { 
 + + return field _ 149765 _ K ; 
 + + } 
 + + 
 + + / * * 
 + + * Sets the base slipperiness level . Normally between 0 and 1 . 
 + + * < p > 
 + + * < b > Calling this method may have no effect on the function of this block < / b > , 
 + + * or may not have the expected result . This block is free to caclculate 
 + + * its slipperiness arbitrarily . This method is guaranteed to work on the 
 + + * base { @ code Block } class . 
 + + * 
 + + * @ param slipperiness the base slipperiness of this block 
 + + * @ see # getSlipperiness ( IBlockState , IBlockAccess , BlockPos , Entity ) 
 + + * / 
 + + public void setDefaultSlipperiness ( float slipperiness ) 
 + + { 
 + + this . field _ 149765 _ K = slipperiness ; 
 + + } 
 + + 
 + / * * 
 + * Get a light value for this block , taking into account the given state and coordinates , normal ranges are between 0 and 15 
 + * 
 @ @ - 1478 , 7 + 1523 , 7 @ @ 
 public static void func _ 149671 _ p ( ) 
 { 
 func _ 176215 _ a ( 0 , field _ 176230 _ a , ( new BlockAir ( ) ) . func _ 149663 _ c ( " air " ) ) ; 
 - @ @ - 1232 , 31 + 2491 , 6 @ @ 
 + @ @ - 1232 , 31 + 2529 , 6 @ @ 
 block15 . field _ 149783 _ u = flag ; 
 } 
 } 
 diff - - git a / patches / minecraft / net / minecraft / entity / EntityFlying . java . patch b / patches / minecraft / net / minecraft / entity / EntityFlying . java . patch 
 new file mode 100644 
 index 0000000 . . 6b4ceb1 
 - - - / dev / null 
 + + + b / patches / minecraft / net / minecraft / entity / EntityFlying . java . patch 
 @ @ - 0 , 0 + 1 , 24 @ @ 
 + - - - . . / src - base / minecraft / net / minecraft / entity / EntityFlying . java 
 + + + + . . / src - work / minecraft / net / minecraft / entity / EntityFlying . java 
 + @ @ - 44 , 7 + 44 , 9 @ @ 
 + 
 + if ( this . field _ 70122 _ E ) 
 + { 
 + - f = this . field _ 70170 _ p . func _ 180495 _ p ( new BlockPos ( MathHelper . func _ 76128 _ c ( this . field _ 70165 _ t ) , MathHelper . func _ 76128 _ c ( this . func _ 174813 _ aQ ( ) . field _ 72338 _ b ) - 1 , MathHelper . func _ 76128 _ c ( this . field _ 70161 _ v ) ) ) . func _ 177230 _ c ( ) . field _ 149765 _ K * 0 . 91F ; 
 + + BlockPos underPos = new BlockPos ( MathHelper . func _ 76128 _ c ( this . field _ 70165 _ t ) , MathHelper . func _ 76128 _ c ( this . func _ 174813 _ aQ ( ) . field _ 72338 _ b ) - 1 , MathHelper . func _ 76128 _ c ( this . field _ 70161 _ v ) ) ; 
 + + IBlockState underState = this . field _ 70170 _ p . func _ 180495 _ p ( underPos ) ; 
 + + f = underState . func _ 177230 _ c ( ) . getSlipperiness ( underState , this . field _ 70170 _ p , underPos , this ) * 0 . 91F ; 
 + } 
 + 
 + float f1 = 0 . 16277136F / ( f * f * f ) ; 
 + @ @ - 53 , 7 + 55 , 9 @ @ 
 + 
 + if ( this . field _ 70122 _ E ) 
 + { 
 + - f = this . field _ 70170 _ p . func _ 180495 _ p ( new BlockPos ( MathHelper . func _ 76128 _ c ( this . field _ 70165 _ t ) , MathHelper . func _ 76128 _ c ( this . func _ 174813 _ aQ ( ) . field _ 72338 _ b ) - 1 , MathHelper . func _ 76128 _ c ( this . field _ 70161 _ v ) ) ) . func _ 177230 _ c ( ) . field _ 149765 _ K * 0 . 91F ; 
 + + BlockPos underPos = new BlockPos ( MathHelper . func _ 76128 _ c ( this . field _ 70165 _ t ) , MathHelper . func _ 76128 _ c ( this . func _ 174813 _ aQ ( ) . field _ 72338 _ b ) - 1 , MathHelper . func _ 76128 _ c ( this . field _ 70161 _ v ) ) ; 
 + + IBlockState underState = this . field _ 70170 _ p . func _ 180495 _ p ( underPos ) ; 
 + + f = underState . func _ 177230 _ c ( ) . getSlipperiness ( underState , this . field _ 70170 _ p , underPos , this ) * 0 . 91F ; 
 + } 
 + 
 + this . func _ 70091 _ d ( MoverType . SELF , this . field _ 70159 _ w , this . field _ 70181 _ x , this . field _ 70179 _ y ) ; 
 diff - - git a / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch b / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch 
 index a5dc1bd . . 26b82f6 100644 
 - - - a / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch 
 + + + b / patches / minecraft / net / minecraft / entity / EntityLivingBase . java . patch 
 @ @ - 232 , 7 + 232 , 27 @ @ 
 } 
 
 protected void func _ 70629 _ bd ( ) 
 - @ @ - 2054 , 6 + 2077 , 7 @ @ 
 + @ @ - 1874 , 7 + 1897 , 8 @ @ 
 + 
 + if ( this . field _ 70122 _ E ) 
 + { 
 + - f6 = this . field _ 70170 _ p . func _ 180495 _ p ( blockpos $ pooledmutableblockpos ) . func _ 177230 _ c ( ) . field _ 149765 _ K * 0 . 91F ; 
 + + IBlockState underState = this . field _ 70170 _ p . func _ 180495 _ p ( blockpos $ pooledmutableblockpos ) ; 
 + + f6 = underState . func _ 177230 _ c ( ) . getSlipperiness ( underState , this . field _ 70170 _ p , blockpos $ pooledmutableblockpos , this ) * 0 . 91F ; 
 + } 
 + 
 + float f7 = 0 . 16277136F / ( f6 * f6 * f6 ) ; 
 + @ @ - 1894 , 7 + 1918 , 8 @ @ 
 + 
 + if ( this . field _ 70122 _ E ) 
 + { 
 + - f6 = this . field _ 70170 _ p . func _ 180495 _ p ( blockpos $ pooledmutableblockpos . func _ 189532 _ c ( this . field _ 70165 _ t , this . func _ 174813 _ aQ ( ) . field _ 72338 _ b - 1 . 0D , this . field _ 70161 _ v ) ) . func _ 177230 _ c ( ) . field _ 149765 _ K * 0 . 91F ; 
 + + IBlockState underState = this . field _ 70170 _ p . func _ 180495 _ p ( blockpos $ pooledmutableblockpos . func _ 189532 _ c ( this . field _ 70165 _ t , this . func _ 174813 _ aQ ( ) . field _ 72338 _ b - 1 . 0D , this . field _ 70161 _ v ) ) ; 
 + + f6 = underState . func _ 177230 _ c ( ) . getSlipperiness ( underState , this . field _ 70170 _ p , blockpos $ pooledmutableblockpos , this ) * 0 . 91F ; 
 + } 
 + 
 + if ( this . func _ 70617 _ f _ ( ) ) 
 + @ @ - 2054 , 6 + 2079 , 7 @ @ 
 
 public void func _ 70071 _ h _ ( ) 
 { 
 @ @ - 240 , 7 + 260 , 7 @ @ 
 super . func _ 70071 _ h _ ( ) ; 
 this . func _ 184608 _ ct ( ) ; 
 
 - @ @ - 2096 , 7 + 2120 , 9 @ @ 
 + @ @ - 2096 , 7 + 2122 , 9 @ @ 
 
 if ( ! ItemStack . func _ 77989 _ b ( itemstack1 , itemstack ) ) 
 { 
 @ @ - 250 , 7 + 270 , 7 @ @ 
 
 if ( ! itemstack . func _ 190926 _ b ( ) ) 
 { 
 - @ @ - 2575 , 6 + 2601 , 40 @ @ 
 + @ @ - 2575 , 6 + 2603 , 40 @ @ 
 this . field _ 70752 _ e = true ; 
 } 
 
 @ @ - 291 , 7 + 311 , 7 @ @ 
 public abstract EnumHandSide func _ 184591 _ cq ( ) ; 
 
 public boolean func _ 184587 _ cr ( ) 
 - @ @ - 2595 , 12 + 2655 , 19 @ @ 
 + @ @ - 2595 , 12 + 2657 , 19 @ @ 
 
 if ( itemstack = = this . field _ 184627 _ bm ) 
 { 
 @ @ - 312 , 7 + 332 , 7 @ @ 
 { 
 this . func _ 71036 _ o ( ) ; 
 } 
 - @ @ - 2618 , 8 + 2685 , 10 @ @ 
 + @ @ - 2618 , 8 + 2687 , 10 @ @ 
 
 if ( ! itemstack . func _ 190926 _ b ( ) & & ! this . func _ 184587 _ cr ( ) ) 
 { 
 @ @ - 324 , 7 + 344 , 7 @ @ 
 
 if ( ! this . field _ 70170 _ p . field _ 72995 _ K ) 
 { 
 - @ @ - 2700 , 7 + 2769 , 9 @ @ 
 + @ @ - 2700 , 7 + 2771 , 9 @ @ 
 if ( ! this . field _ 184627 _ bm . func _ 190926 _ b ( ) & & this . func _ 184587 _ cr ( ) ) 
 { 
 this . func _ 184584 _ a ( this . field _ 184627 _ bm , 16 ) ; 
 @ @ - 335 , 7 + 355 , 7 @ @ 
 this . func _ 184602 _ cy ( ) ; 
 } 
 } 
 - @ @ - 2724 , 7 + 2795 , 8 @ @ 
 + @ @ - 2724 , 7 + 2797 , 8 @ @ 
 { 
 if ( ! this . field _ 184627 _ bm . func _ 190926 _ b ( ) ) 
 { 
 @ @ - 345 , 7 + 365 , 7 @ @ 
 } 
 
 this . func _ 184602 _ cy ( ) ; 
 - @ @ - 2852 , 6 + 2924 , 31 @ @ 
 + @ @ - 2852 , 6 + 2926 , 31 @ @ 
 return true ; 
 } 
 
 diff - - git a / patches / minecraft / net / minecraft / entity / item / EntityBoat . java . patch b / patches / minecraft / net / minecraft / entity / item / EntityBoat . java . patch 
 new file mode 100644 
 index 0000000 . . 46a9889 
 - - - / dev / null 
 + + + b / patches / minecraft / net / minecraft / entity / item / EntityBoat . java . patch 
 @ @ - 0 , 0 + 1 , 32 @ @ 
 + - - - . . / src - base / minecraft / net / minecraft / entity / item / EntityBoat . java 
 + + + + . . / src - work / minecraft / net / minecraft / entity / item / EntityBoat . java 
 + @ @ - 508 , 7 + 508 , 7 @ @ 
 + 
 + if ( ! list . isEmpty ( ) ) 
 + { 
 + - f + = iblockstate . func _ 177230 _ c ( ) . field _ 149765 _ K ; 
 + + f + = iblockstate . func _ 177230 _ c ( ) . getSlipperiness ( iblockstate , this . field _ 70170 _ p , blockpos $ pooledmutableblockpos , this ) ; 
 + + + k1 ; 
 + } 
 + 
 + @ @ - 980 , 4 + 980 , 20 @ @ 
 + return values ( ) [ 0 ] ; 
 + } 
 + } 
 + + 
 + + / / Forge : Fix MC - 119811 by instantly completing lerp on board 
 + + @ Override 
 + + protected void func _ 184200 _ o ( Entity passenger ) 
 + + { 
 + + super . func _ 184200 _ o ( passenger ) ; 
 + + if ( this . func _ 184186 _ bw ( ) & & this . field _ 184476 _ at > 0 ) 
 + + { 
 + + this . field _ 184476 _ at = 0 ; 
 + + this . field _ 70165 _ t = this . field _ 70281 _ h ; 
 + + this . field _ 70163 _ u = this . field _ 184477 _ av ; 
 + + this . field _ 70161 _ v = this . field _ 184478 _ aw ; 
 + + this . field _ 70177 _ z = ( float ) this . field _ 70273 _ g ; 
 + + this . field _ 70125 _ A = ( float ) this . field _ 184479 _ ay ; 
 + + } 
 + + } 
 + } 
 diff - - git a / patches / minecraft / net / minecraft / entity / item / EntityItem . java . patch b / patches / minecraft / net / minecraft / entity / item / EntityItem . java . patch 
 index 75fa7b0 . . 1eb7106 100644 
 - - - a / patches / minecraft / net / minecraft / entity / item / EntityItem . java . patch 
 + + + b / patches / minecraft / net / minecraft / entity / item / EntityItem . java . patch 
 @ @ - 28 , 7 + 28 , 18 @ @ 
 if ( this . func _ 92059 _ d ( ) . func _ 190926 _ b ( ) ) 
 { 
 this . func _ 70106 _ y ( ) ; 
 - @ @ - 167 , 8 + 174 , 16 @ @ 
 + @ @ - 135 , 7 + 142 , 9 @ @ 
 + 
 + if ( this . field _ 70122 _ E ) 
 + { 
 + - f = this . field _ 70170 _ p . func _ 180495 _ p ( new BlockPos ( MathHelper . func _ 76128 _ c ( this . field _ 70165 _ t ) , MathHelper . func _ 76128 _ c ( this . func _ 174813 _ aQ ( ) . field _ 72338 _ b ) - 1 , MathHelper . func _ 76128 _ c ( this . field _ 70161 _ v ) ) ) . func _ 177230 _ c ( ) . field _ 149765 _ K * 0 . 98F ; 
 + + BlockPos underPos = new BlockPos ( MathHelper . func _ 76128 _ c ( this . field _ 70165 _ t ) , MathHelper . func _ 76128 _ c ( this . func _ 174813 _ aQ ( ) . field _ 72338 _ b ) - 1 , MathHelper . func _ 76128 _ c ( this . field _ 70161 _ v ) ) ; 
 + + net . minecraft . block . state . IBlockState underState = this . field _ 70170 _ p . func _ 180495 _ p ( underPos ) ; 
 + + f = underState . func _ 177230 _ c ( ) . getSlipperiness ( underState , this . field _ 70170 _ p , underPos , this ) * 0 . 98F ; 
 + } 
 + 
 + this . field _ 70159 _ w * = ( double ) f ; 
 + @ @ - 167 , 8 + 176 , 16 @ @ 
 } 
 } 
 
 @ @ - 46 , 7 + 57 , 7 @ @ 
 this . func _ 70106 _ y ( ) ; 
 } 
 } 
 - @ @ - 225 , 6 + 240 , 10 @ @ 
 + @ @ - 225 , 6 + 242 , 10 @ @ 
 { 
 return false ; 
 } 
 @ @ - 57 , 7 + 68 , 7 @ @ 
 else 
 { 
 itemstack1 . func _ 190917 _ f ( itemstack . func _ 190916 _ E ( ) ) ; 
 - @ @ - 282 , 6 + 301 , 7 @ @ 
 + @ @ - 282 , 6 + 303 , 7 @ @ 
 
 public boolean func _ 70097 _ a ( DamageSource p _ 70097 _ 1 _ , float p _ 70097 _ 2 _ ) 
 { 
 @ @ - 65 , 7 + 76 , 7 @ @ 
 if ( this . func _ 180431 _ b ( p _ 70097 _ 1 _ ) ) 
 { 
 return false ; 
 - @ @ - 314 , 6 + 334 , 7 @ @ 
 + @ @ - 314 , 6 + 336 , 7 @ @ 
 p _ 70014 _ 1 _ . func _ 74777 _ a ( " Health " , ( short ) this . field _ 70291 _ e ) ; 
 p _ 70014 _ 1 _ . func _ 74777 _ a ( " Age " , ( short ) this . field _ 70292 _ b ) ; 
 p _ 70014 _ 1 _ . func _ 74777 _ a ( " PickupDelay " , ( short ) this . field _ 145804 _ b ) ; 
 @ @ - 73 , 7 + 84 , 7 @ @ 
 
 if ( this . func _ 145800 _ j ( ) ! = null ) 
 { 
 - @ @ - 358 , 18 + 379 , 24 @ @ 
 + @ @ - 358 , 18 + 381 , 24 @ @ 
 { 
 this . func _ 70106 _ y ( ) ; 
 } 
 @ @ - 99 , 7 + 110 , 7 @ @ 
 p _ 70100 _ 1 _ . func _ 71001 _ a ( this , i ) ; 
 
 if ( itemstack . func _ 190926 _ b ( ) ) 
 - @ @ - 476 , 6 + 503 , 6 @ @ 
 + @ @ - 476 , 6 + 505 , 6 @ @ 
 public void func _ 174870 _ v ( ) 
 { 
 this . func _ 174871 _ r ( ) ; 
 diff - - git a / patches / minecraft / net / minecraft / entity / item / EntityXPOrb . java . patch b / patches / minecraft / net / minecraft / entity / item / EntityXPOrb . java . patch 
 index dd711a5 . . 8440a70 100644 
 - - - a / patches / minecraft / net / minecraft / entity / item / EntityXPOrb . java . patch 
 + + + b / patches / minecraft / net / minecraft / entity / item / EntityXPOrb . java . patch 
 @ @ - 1 , 6 + 1 , 17 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / entity / item / EntityXPOrb . java 
 + + + . . / src - work / minecraft / net / minecraft / entity / item / EntityXPOrb . java 
 - @ @ - 170 , 6 + 170 , 7 @ @ 
 + @ @ - 137 , 7 + 137 , 9 @ @ 
 + 
 + if ( this . field _ 70122 _ E ) 
 + { 
 + - f = this . field _ 70170 _ p . func _ 180495 _ p ( new BlockPos ( MathHelper . func _ 76128 _ c ( this . field _ 70165 _ t ) , MathHelper . func _ 76128 _ c ( this . func _ 174813 _ aQ ( ) . field _ 72338 _ b ) - 1 , MathHelper . func _ 76128 _ c ( this . field _ 70161 _ v ) ) ) . func _ 177230 _ c ( ) . field _ 149765 _ K * 0 . 98F ; 
 + + BlockPos underPos = new BlockPos ( MathHelper . func _ 76128 _ c ( this . field _ 70165 _ t ) , MathHelper . func _ 76128 _ c ( this . func _ 174813 _ aQ ( ) . field _ 72338 _ b ) - 1 , MathHelper . func _ 76128 _ c ( this . field _ 70161 _ v ) ) ; 
 + + net . minecraft . block . state . IBlockState underState = this . field _ 70170 _ p . func _ 180495 _ p ( underPos ) ; 
 + + f = underState . func _ 177230 _ c ( ) . getSlipperiness ( underState , this . field _ 70170 _ p , underPos , this ) * 0 . 98F ; 
 + } 
 + 
 + this . field _ 70159 _ w * = ( double ) f ; 
 + @ @ - 170 , 6 + 172 , 7 @ @ 
 
 public boolean func _ 70097 _ a ( DamageSource p _ 70097 _ 1 _ , float p _ 70097 _ 2 _ ) 
 { 
 @ @ - 8 , 7 + 19 , 7 @ @ 
 if ( this . func _ 180431 _ b ( p _ 70097 _ 1 _ ) ) 
 { 
 return false ; 
 - @ @ - 208 , 6 + 209 , 7 @ @ 
 + @ @ - 208 , 6 + 211 , 7 @ @ 
 { 
 if ( this . field _ 70532 _ c = = 0 & & p _ 70100 _ 1 _ . field _ 71090 _ bL = = 0 ) 
 { 
 diff - - git a / src / test / java / net / minecraftforge / debug / SlipperinessTest . java b / src / test / java / net / minecraftforge / debug / SlipperinessTest . java 
 new file mode 100644 
 index 0000000 . . 76fa5ff 
 - - - / dev / null 
 + + + b / src / test / java / net / minecraftforge / debug / SlipperinessTest . java 
 @ @ - 0 , 0 + 1 , 42 @ @ 
 + package net . minecraftforge . debug ; 
 + 
 + import net . minecraft . block . Block ; 
 + import net . minecraft . block . material . Material ; 
 + import net . minecraft . block . state . IBlockState ; 
 + import net . minecraft . entity . Entity ; 
 + import net . minecraft . entity . item . EntityBoat ; 
 + import net . minecraft . item . Item ; 
 + import net . minecraft . item . ItemBlock ; 
 + import net . minecraft . util . math . BlockPos ; 
 + import net . minecraft . world . IBlockAccess ; 
 + import net . minecraftforge . event . RegistryEvent ; 
 + import net . minecraftforge . fml . common . Mod ; 
 + import net . minecraftforge . fml . common . Mod . EventBusSubscriber ; 
 + import net . minecraftforge . fml . common . eventhandler . SubscribeEvent ; 
 + 
 + @ Mod ( modid = " slipperiness _ test " , name = " Slipperiness Test " , version = " 0 . 0 . 0 " ) 
 + @ EventBusSubscriber 
 + public class SlipperinessTest 
 + { 
 + public static final Block BB _ BLOCK = new Block ( Material . PACKED _ ICE ) 
 + { 
 + @ Override 
 + public float getSlipperiness ( IBlockState state , IBlockAccess world , BlockPos pos , Entity entity ) 
 + { 
 + return entity instanceof EntityBoat ? 2 : super . getSlipperiness ( state , world , pos , entity ) ; 
 + } 
 + } . setUnlocalizedName ( " boat _ blaster " ) . setRegistryName ( " boat _ blaster " ) ; 
 + 
 + @ SubscribeEvent 
 + public static void registerBlocks ( RegistryEvent . Register < Block > e ) 
 + { 
 + e . getRegistry ( ) . register ( BB _ BLOCK ) ; 
 + } 
 + 
 + @ SubscribeEvent 
 + public static void registerItems ( RegistryEvent . Register < Item > e ) 
 + { 
 + e . getRegistry ( ) . register ( new ItemBlock ( BB _ BLOCK ) . setRegistryName ( BB _ BLOCK . getRegistryName ( ) ) ) ; 
 + } 
 + } 
 +
