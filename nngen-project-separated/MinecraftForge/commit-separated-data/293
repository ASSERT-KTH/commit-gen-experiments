BLEU SCORE: 0.01562359895249748

TEST MSG: Fix debug flags for ClassPatchManager not working . Closes # 3674
GENERATED MSG: Stop " Binary patch set is missing " error log in dev environment

TEST DIFF (one line): diff - - git a / src / main / java / net / minecraftforge / fml / common / patcher / ClassPatchManager . java b / src / main / java / net / minecraftforge / fml / common / patcher / ClassPatchManager . java <nl> index da4832f . . 7acb61f 100644 <nl> - - - a / src / main / java / net / minecraftforge / fml / common / patcher / ClassPatchManager . java <nl> + + + b / src / main / java / net / minecraftforge / fml / common / patcher / ClassPatchManager . java <nl> @ @ - 50 , 11 + 50 , 12 @ @ import com . google . common . io . ByteStreams ; <nl> import com . google . common . io . Files ; <nl> <nl> public class ClassPatchManager { <nl> - public static final ClassPatchManager INSTANCE = new ClassPatchManager ( ) ; <nl> - <nl> + / / Must be ABOVE INSTANCE so they get set in time for the constructor . <nl> public static final boolean dumpPatched = Boolean . parseBoolean ( System . getProperty ( " fml . dumpPatchedClasses " , " false " ) ) ; <nl> public static final boolean DEBUG = Boolean . parseBoolean ( System . getProperty ( " fml . debugClassPatchManager " , " false " ) ) ; <nl> <nl> + public static final ClassPatchManager INSTANCE = new ClassPatchManager ( ) ; <nl> + <nl> private GDiffPatcher patcher = new GDiffPatcher ( ) ; <nl> private ListMultimap < String , ClassPatch > patches ; <nl>
NEAREST DIFF (one line): diff - - git a / src / main / java / net / minecraftforge / fml / common / patcher / ClassPatchManager . java b / src / main / java / net / minecraftforge / fml / common / patcher / ClassPatchManager . java <nl> index 2b269f7 . . ede7b45 100644 <nl> - - - a / src / main / java / net / minecraftforge / fml / common / patcher / ClassPatchManager . java <nl> + + + b / src / main / java / net / minecraftforge / fml / common / patcher / ClassPatchManager . java <nl> @ @ - 33 , 6 + 33 , 7 @ @ import java . util . jar . JarOutputStream ; <nl> import java . util . jar . Pack200 ; <nl> import java . util . regex . Pattern ; <nl> <nl> + import net . minecraft . launchwrapper . Launch ; <nl> import net . minecraft . launchwrapper . LaunchClassLoader ; <nl> import net . minecraftforge . fml . common . FMLLog ; <nl> import net . minecraftforge . fml . relauncher . Side ; <nl> @ @ - 171 , 7 + 172 , 10 @ @ public class ClassPatchManager { <nl> InputStream binpatchesCompressed = getClass ( ) . getResourceAsStream ( " / binpatches . pack . lzma " ) ; <nl> if ( binpatchesCompressed = = null ) <nl> { <nl> - FMLLog . log . error ( " The binary patch set is missing . Either you are in a development environment , or things are not going to work ! " ) ; <nl> + if ( ! ( ( Boolean ) Launch . blackboard . get ( " fml . deobfuscatedEnvironment " ) ) ) <nl> + { <nl> + FMLLog . log . fatal ( " The binary patch set is missing , things are not going to work ! " ) ; <nl> + } <nl> return ; <nl> } <nl> LzmaInputStream binpatchesDecompressed = new LzmaInputStream ( binpatchesCompressed ) ;

TEST DIFF:
diff - - git a / src / main / java / net / minecraftforge / fml / common / patcher / ClassPatchManager . java b / src / main / java / net / minecraftforge / fml / common / patcher / ClassPatchManager . java 
 index da4832f . . 7acb61f 100644 
 - - - a / src / main / java / net / minecraftforge / fml / common / patcher / ClassPatchManager . java 
 + + + b / src / main / java / net / minecraftforge / fml / common / patcher / ClassPatchManager . java 
 @ @ - 50 , 11 + 50 , 12 @ @ import com . google . common . io . ByteStreams ; 
 import com . google . common . io . Files ; 
 
 public class ClassPatchManager { 
 - public static final ClassPatchManager INSTANCE = new ClassPatchManager ( ) ; 
 - 
 + / / Must be ABOVE INSTANCE so they get set in time for the constructor . 
 public static final boolean dumpPatched = Boolean . parseBoolean ( System . getProperty ( " fml . dumpPatchedClasses " , " false " ) ) ; 
 public static final boolean DEBUG = Boolean . parseBoolean ( System . getProperty ( " fml . debugClassPatchManager " , " false " ) ) ; 
 
 + public static final ClassPatchManager INSTANCE = new ClassPatchManager ( ) ; 
 + 
 private GDiffPatcher patcher = new GDiffPatcher ( ) ; 
 private ListMultimap < String , ClassPatch > patches ; 


NEAREST DIFF:
diff - - git a / src / main / java / net / minecraftforge / fml / common / patcher / ClassPatchManager . java b / src / main / java / net / minecraftforge / fml / common / patcher / ClassPatchManager . java 
 index 2b269f7 . . ede7b45 100644 
 - - - a / src / main / java / net / minecraftforge / fml / common / patcher / ClassPatchManager . java 
 + + + b / src / main / java / net / minecraftforge / fml / common / patcher / ClassPatchManager . java 
 @ @ - 33 , 6 + 33 , 7 @ @ import java . util . jar . JarOutputStream ; 
 import java . util . jar . Pack200 ; 
 import java . util . regex . Pattern ; 
 
 + import net . minecraft . launchwrapper . Launch ; 
 import net . minecraft . launchwrapper . LaunchClassLoader ; 
 import net . minecraftforge . fml . common . FMLLog ; 
 import net . minecraftforge . fml . relauncher . Side ; 
 @ @ - 171 , 7 + 172 , 10 @ @ public class ClassPatchManager { 
 InputStream binpatchesCompressed = getClass ( ) . getResourceAsStream ( " / binpatches . pack . lzma " ) ; 
 if ( binpatchesCompressed = = null ) 
 { 
 - FMLLog . log . error ( " The binary patch set is missing . Either you are in a development environment , or things are not going to work ! " ) ; 
 + if ( ! ( ( Boolean ) Launch . blackboard . get ( " fml . deobfuscatedEnvironment " ) ) ) 
 + { 
 + FMLLog . log . fatal ( " The binary patch set is missing , things are not going to work ! " ) ; 
 + } 
 return ; 
 } 
 LzmaInputStream binpatchesDecompressed = new LzmaInputStream ( binpatchesCompressed ) ;
