BLEU SCORE: 0.01222796968620182

TEST MSG: Handle bad formats with an exception . Translators MAKE SURE you watch for this error !
GENERATED MSG: Fix # 5365 : Some chat messages lose their formatting

TEST DIFF (one line): diff - - git a / src / main / java / net / minecraftforge / fml / ForgeI18n . java b / src / main / java / net / minecraftforge / fml / ForgeI18n . java <nl> index fa44543 . . 58de941 100644 <nl> - - - a / src / main / java / net / minecraftforge / fml / ForgeI18n . java <nl> + + + b / src / main / java / net / minecraftforge / fml / ForgeI18n . java <nl> @ @ - 88 , 7 + 88 , 12 @ @ public class ForgeI18n { <nl> <nl> public static String parseMessage ( final String i18nMessage , Object . . . args ) { <nl> final String pattern = getPattern ( i18nMessage ) ; <nl> - return parseFormat ( pattern , args ) ; <nl> + try { <nl> + return parseFormat ( pattern , args ) ; <nl> + } catch ( IllegalArgumentException e ) { <nl> + LOGGER . error ( " Illegal format found { } " , pattern , e ) ; <nl> + return pattern ; <nl> + } <nl> } <nl> <nl> public static String parseFormat ( final String format , final Object . . . args ) {
NEAREST DIFF (one line): diff - - git a / src / main / java / net / minecraftforge / fml / TextComponentMessageFormatHandler . java b / src / main / java / net / minecraftforge / fml / TextComponentMessageFormatHandler . java <nl> index 49b8a10 . . 9545221 100644 <nl> - - - a / src / main / java / net / minecraftforge / fml / TextComponentMessageFormatHandler . java <nl> + + + b / src / main / java / net / minecraftforge / fml / TextComponentMessageFormatHandler . java <nl> @ @ - 28 , 7 + 28 , 9 @ @ import java . util . List ; <nl> public class TextComponentMessageFormatHandler { <nl> public static int handle ( final TextComponentTranslation parent , final List < ITextComponent > children , final Object [ ] formatArgs , final String format ) { <nl> try { <nl> - children . add ( new TextComponentString ( ForgeI18n . parseFormat ( format , formatArgs ) ) ) ; <nl> + TextComponentString component = new TextComponentString ( ForgeI18n . parseFormat ( format , formatArgs ) ) ; <nl> + component . getStyle ( ) . setParentStyle ( parent . getStyle ( ) ) ; <nl> + children . add ( component ) ; <nl> return format . length ( ) ; <nl> } catch ( IllegalArgumentException ex ) { <nl> return 0 ;

TEST DIFF:
diff - - git a / src / main / java / net / minecraftforge / fml / ForgeI18n . java b / src / main / java / net / minecraftforge / fml / ForgeI18n . java 
 index fa44543 . . 58de941 100644 
 - - - a / src / main / java / net / minecraftforge / fml / ForgeI18n . java 
 + + + b / src / main / java / net / minecraftforge / fml / ForgeI18n . java 
 @ @ - 88 , 7 + 88 , 12 @ @ public class ForgeI18n { 
 
 public static String parseMessage ( final String i18nMessage , Object . . . args ) { 
 final String pattern = getPattern ( i18nMessage ) ; 
 - return parseFormat ( pattern , args ) ; 
 + try { 
 + return parseFormat ( pattern , args ) ; 
 + } catch ( IllegalArgumentException e ) { 
 + LOGGER . error ( " Illegal format found { } " , pattern , e ) ; 
 + return pattern ; 
 + } 
 } 
 
 public static String parseFormat ( final String format , final Object . . . args ) {

NEAREST DIFF:
diff - - git a / src / main / java / net / minecraftforge / fml / TextComponentMessageFormatHandler . java b / src / main / java / net / minecraftforge / fml / TextComponentMessageFormatHandler . java 
 index 49b8a10 . . 9545221 100644 
 - - - a / src / main / java / net / minecraftforge / fml / TextComponentMessageFormatHandler . java 
 + + + b / src / main / java / net / minecraftforge / fml / TextComponentMessageFormatHandler . java 
 @ @ - 28 , 7 + 28 , 9 @ @ import java . util . List ; 
 public class TextComponentMessageFormatHandler { 
 public static int handle ( final TextComponentTranslation parent , final List < ITextComponent > children , final Object [ ] formatArgs , final String format ) { 
 try { 
 - children . add ( new TextComponentString ( ForgeI18n . parseFormat ( format , formatArgs ) ) ) ; 
 + TextComponentString component = new TextComponentString ( ForgeI18n . parseFormat ( format , formatArgs ) ) ; 
 + component . getStyle ( ) . setParentStyle ( parent . getStyle ( ) ) ; 
 + children . add ( component ) ; 
 return format . length ( ) ; 
 } catch ( IllegalArgumentException ex ) { 
 return 0 ;
