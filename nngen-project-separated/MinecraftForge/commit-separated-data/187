BLEU SCORE: 1.2806835371715532E-8

TEST MSG: Tweak
GENERATED MSG: Only revert to frozen data on server shutdown on client . Should fix race condition exposed by # 4904

TEST DIFF (one line): diff - - git a / src / main / java / net / minecraftforge / fml / Logging . java b / src / main / java / net / minecraftforge / fml / Logging . java <nl> index c4614f6 . . c696fa1 100644 <nl> - - - a / src / main / java / net / minecraftforge / fml / Logging . java <nl> + + + b / src / main / java / net / minecraftforge / fml / Logging . java <nl> @ @ - 35 , 4 + 35 , 8 @ @ public class Logging <nl> public static final Marker SPLASH = MarkerManager . getMarker ( " SPLASH " ) ; <nl> public static final Marker CAPABILITIES = MarkerManager . getMarker ( " CAPABILITIES " ) ; <nl> public static final Marker MODELLOADING = MarkerManager . getMarker ( " MODELLOADING " ) ; <nl> + <nl> + / / - - log CORE : + DEBUG , SCAN : - OFF <nl> + / / forge log debug 5 <nl> + <nl> } <nl> diff - - git a / src / main / java / net / minecraftforge / fml / network / FMLNetworking . java b / src / main / java / net / minecraftforge / fml / network / FMLNetworking . java <nl> index dbfdfc4 . . 4c5a509 100644 <nl> - - - a / src / main / java / net / minecraftforge / fml / network / FMLNetworking . java <nl> + + + b / src / main / java / net / minecraftforge / fml / network / FMLNetworking . java <nl> @ @ - 138 , 7 + 138 , 6 @ @ public class FMLNetworking <nl> { <nl> private List < String > modList ; <nl> <nl> - private int index ; <nl> S2CModList ( ) { <nl> this . modList = ModList . get ( ) . getMods ( ) . stream ( ) . map ( ModInfo : : getModId ) . collect ( Collectors . toList ( ) ) ; <nl> }
NEAREST DIFF (one line): diff - - git a / src / main / java / net / minecraftforge / fml / client / FMLClientHandler . java b / src / main / java / net / minecraftforge / fml / client / FMLClientHandler . java <nl> index 32e3bb7 . . 6dbedb1 100644 <nl> - - - a / src / main / java / net / minecraftforge / fml / client / FMLClientHandler . java <nl> + + + b / src / main / java / net / minecraftforge / fml / client / FMLClientHandler . java <nl> @ @ - 705 , 6 + 705 , 8 @ @ public class FMLClientHandler implements IFMLSidedHandler <nl> { <nl> / / ObfuscationReflectionHelper . setPrivateValue ( MinecraftServer . class , server , true , " field _ 71296 " + " _ Q " , " serverIs " + " Running " ) ; <nl> } <nl> + <nl> + GameData . revertToFrozen ( ) ; <nl> } <nl> <nl> @ Override <nl> diff - - git a / src / main / java / net / minecraftforge / fml / common / Loader . java b / src / main / java / net / minecraftforge / fml / common / Loader . java <nl> index 4617283 . . 95c182a 100644 <nl> - - - a / src / main / java / net / minecraftforge / fml / common / Loader . java <nl> + + + b / src / main / java / net / minecraftforge / fml / common / Loader . java <nl> @ @ - 864 , 7 + 864 , 6 @ @ public class Loader <nl> <nl> public void serverStopped ( ) <nl> { <nl> - GameData . revertToFrozen ( ) ; <nl> modController . distributeStateMessage ( LoaderState . SERVER _ STOPPED ) ; <nl> modController . transition ( LoaderState . SERVER _ STOPPED , true ) ; <nl> modController . transition ( LoaderState . AVAILABLE , true ) ;

TEST DIFF:
diff - - git a / src / main / java / net / minecraftforge / fml / Logging . java b / src / main / java / net / minecraftforge / fml / Logging . java 
 index c4614f6 . . c696fa1 100644 
 - - - a / src / main / java / net / minecraftforge / fml / Logging . java 
 + + + b / src / main / java / net / minecraftforge / fml / Logging . java 
 @ @ - 35 , 4 + 35 , 8 @ @ public class Logging 
 public static final Marker SPLASH = MarkerManager . getMarker ( " SPLASH " ) ; 
 public static final Marker CAPABILITIES = MarkerManager . getMarker ( " CAPABILITIES " ) ; 
 public static final Marker MODELLOADING = MarkerManager . getMarker ( " MODELLOADING " ) ; 
 + 
 + / / - - log CORE : + DEBUG , SCAN : - OFF 
 + / / forge log debug 5 
 + 
 } 
 diff - - git a / src / main / java / net / minecraftforge / fml / network / FMLNetworking . java b / src / main / java / net / minecraftforge / fml / network / FMLNetworking . java 
 index dbfdfc4 . . 4c5a509 100644 
 - - - a / src / main / java / net / minecraftforge / fml / network / FMLNetworking . java 
 + + + b / src / main / java / net / minecraftforge / fml / network / FMLNetworking . java 
 @ @ - 138 , 7 + 138 , 6 @ @ public class FMLNetworking 
 { 
 private List < String > modList ; 
 
 - private int index ; 
 S2CModList ( ) { 
 this . modList = ModList . get ( ) . getMods ( ) . stream ( ) . map ( ModInfo : : getModId ) . collect ( Collectors . toList ( ) ) ; 
 }

NEAREST DIFF:
diff - - git a / src / main / java / net / minecraftforge / fml / client / FMLClientHandler . java b / src / main / java / net / minecraftforge / fml / client / FMLClientHandler . java 
 index 32e3bb7 . . 6dbedb1 100644 
 - - - a / src / main / java / net / minecraftforge / fml / client / FMLClientHandler . java 
 + + + b / src / main / java / net / minecraftforge / fml / client / FMLClientHandler . java 
 @ @ - 705 , 6 + 705 , 8 @ @ public class FMLClientHandler implements IFMLSidedHandler 
 { 
 / / ObfuscationReflectionHelper . setPrivateValue ( MinecraftServer . class , server , true , " field _ 71296 " + " _ Q " , " serverIs " + " Running " ) ; 
 } 
 + 
 + GameData . revertToFrozen ( ) ; 
 } 
 
 @ Override 
 diff - - git a / src / main / java / net / minecraftforge / fml / common / Loader . java b / src / main / java / net / minecraftforge / fml / common / Loader . java 
 index 4617283 . . 95c182a 100644 
 - - - a / src / main / java / net / minecraftforge / fml / common / Loader . java 
 + + + b / src / main / java / net / minecraftforge / fml / common / Loader . java 
 @ @ - 864 , 7 + 864 , 6 @ @ public class Loader 
 
 public void serverStopped ( ) 
 { 
 - GameData . revertToFrozen ( ) ; 
 modController . distributeStateMessage ( LoaderState . SERVER _ STOPPED ) ; 
 modController . transition ( LoaderState . SERVER _ STOPPED , true ) ; 
 modController . transition ( LoaderState . AVAILABLE , true ) ;
