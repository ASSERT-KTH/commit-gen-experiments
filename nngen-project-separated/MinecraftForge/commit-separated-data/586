BLEU SCORE: 0.02190407726635374

TEST MSG: Make item repair recipe respect itemstack ' s getMaxDamage
GENERATED MSG: Add Item . shouldCauseReequipAnimation to allow modders more control over the ' Reequip ' animation .

TEST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / item / Item . java . patch b / patches / minecraft / net / minecraft / item / Item . java . patch <nl> index 5496a45 . . 6df558b 100644 <nl> - - - a / patches / minecraft / net / minecraft / item / Item . java . patch <nl> + + + b / patches / minecraft / net / minecraft / item / Item . java . patch <nl> @ @ - 22 , 7 + 22 , 15 @ @ <nl> public int func _ 77639 _ j ( ) <nl> { <nl> return this . field _ 77777 _ bU ; <nl> - @ @ - 316 , 6 + 317 , 7 @ @ <nl> + @ @ - 217 , 6 + 218 , 7 @ @ <nl> + return this ; <nl> + } <nl> + <nl> + + @ Deprecated <nl> + public int func _ 77612 _ l ( ) <nl> + { <nl> + return this . field _ 77699 _ b ; <nl> + @ @ - 316 , 6 + 318 , 7 @ @ <nl> return this . field _ 77700 _ c ; <nl> } <nl> <nl> @ @ - 30 , 7 + 38 , 7 @ @ <nl> public boolean func _ 77634 _ r ( ) <nl> { <nl> return this . field _ 77700 _ c ! = null ; <nl> - @ @ - 371 , 7 + 373 , 7 @ @ <nl> + @ @ - 371 , 7 + 374 , 7 @ @ <nl> <nl> public boolean func _ 77616 _ k ( ItemStack p _ 77616 _ 1 _ ) <nl> { <nl> @ @ - 39 , 7 + 47 , 7 @ @ <nl> } <nl> <nl> protected RayTraceResult func _ 77621 _ a ( World p _ 77621 _ 1 _ , EntityPlayer p _ 77621 _ 2 _ , boolean p _ 77621 _ 3 _ ) <nl> - @ @ - 389 , 7 + 391 , 11 @ @ <nl> + @ @ - 389 , 7 + 392 , 11 @ @ <nl> float f6 = f3 * f4 ; <nl> float f7 = f2 * f4 ; <nl> double d3 = 5 . 0D ; <nl> @ @ - 52 , 7 + 60 , 7 @ @ <nl> return p _ 77621 _ 1 _ . func _ 147447 _ a ( vec3d , vec3d1 , p _ 77621 _ 3 _ , ! p _ 77621 _ 3 _ , false ) ; <nl> } <nl> <nl> - @ @ - 426 , 11 + 432 , 569 @ @ <nl> + @ @ - 426 , 11 + 433 , 580 @ @ <nl> return false ; <nl> } <nl> <nl> @ @ - 633 , 7 + 641 , 7 @ @ <nl> public static void func _ 150900 _ l ( ) <nl> { <nl> func _ 179214 _ a ( Blocks . field _ 150348 _ b , ( new ItemMultiTexture ( Blocks . field _ 150348 _ b , Blocks . field _ 150348 _ b , new Function < ItemStack , String > ( ) <nl> - @ @ - 962 , 6 + 1537 , 10 @ @ <nl> + @ @ - 962 , 6 + 1538 , 10 @ @ <nl> private final float field _ 78011 _ i ; <nl> private final int field _ 78008 _ j ; <nl> <nl> @ @ - 644 , 7 + 652 , 7 @ @ <nl> private ToolMaterial ( int p _ i1874 _ 3 _ , int p _ i1874 _ 4 _ , float p _ i1874 _ 5 _ , float p _ i1874 _ 6 _ , int p _ i1874 _ 7 _ ) <nl> { <nl> this . field _ 78001 _ f = p _ i1874 _ 3 _ ; <nl> - @ @ - 996 , 9 + 1575 , 36 @ @ <nl> + @ @ - 996 , 9 + 1576 , 36 @ @ <nl> return this . field _ 78008 _ j ; <nl> } <nl> <nl> diff - - git a / patches / minecraft / net / minecraft / item / crafting / RecipeRepairItem . java . patch b / patches / minecraft / net / minecraft / item / crafting / RecipeRepairItem . java . patch <nl> index 49a16cc . . c670ec8 100644 <nl> - - - a / patches / minecraft / net / minecraft / item / crafting / RecipeRepairItem . java . patch <nl> + + + b / patches / minecraft / net / minecraft / item / crafting / RecipeRepairItem . java . patch <nl> @ @ - 18 , 15 + 18 , 26 @ @ <nl> { <nl> return null ; <nl> } <nl> - @ @ - 67 , 7 + 67 , 7 @ @ <nl> + @ @ - 67 , 13 + 67 , 13 @ @ <nl> ItemStack itemstack2 = ( ItemStack ) list . get ( 0 ) ; <nl> ItemStack itemstack3 = ( ItemStack ) list . get ( 1 ) ; <nl> <nl> - if ( itemstack2 . func _ 77973 _ b ( ) = = itemstack3 . func _ 77973 _ b ( ) & & itemstack2 . field _ 77994 _ a = = 1 & & itemstack3 . field _ 77994 _ a = = 1 & & itemstack2 . func _ 77973 _ b ( ) . func _ 77645 _ m ( ) ) <nl> + if ( itemstack2 . func _ 77973 _ b ( ) = = itemstack3 . func _ 77973 _ b ( ) & & itemstack2 . field _ 77994 _ a = = 1 & & itemstack3 . field _ 77994 _ a = = 1 & & itemstack2 . func _ 77973 _ b ( ) . isRepairable ( ) ) <nl> { <nl> - Item item = itemstack2 . func _ 77973 _ b ( ) ; <nl> - int j = item . func _ 77612 _ l ( ) - itemstack2 . func _ 77952 _ i ( ) ; <nl> + - Item item = itemstack2 . func _ 77973 _ b ( ) ; <nl> + - int j = item . func _ 77612 _ l ( ) - itemstack2 . func _ 77952 _ i ( ) ; <nl> + - int k = item . func _ 77612 _ l ( ) - itemstack3 . func _ 77952 _ i ( ) ; <nl> + - int l = j + k + item . func _ 77612 _ l ( ) * 5 / 100 ; <nl> + - int i1 = item . func _ 77612 _ l ( ) - l ; <nl> + + / / FORGE : Make itemstack sensitive / / Item item = itemstack2 . getItem ( ) ; <nl> + + int j = itemstack2 . func _ 77958 _ k ( ) - itemstack2 . func _ 77952 _ i ( ) ; <nl> + + int k = itemstack2 . func _ 77958 _ k ( ) - itemstack3 . func _ 77952 _ i ( ) ; <nl> + + int l = j + k + itemstack2 . func _ 77958 _ k ( ) * 5 / 100 ; <nl> + + int i1 = itemstack2 . func _ 77958 _ k ( ) - l ; <nl> + <nl> + if ( i1 < 0 ) <nl> + { <nl> @ @ - 105 , 11 + 105 , 7 @ @ <nl> for ( int i = 0 ; i < aitemstack . length ; + + i ) <nl> {
NEAREST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / client / renderer / ItemRenderer . java . patch b / patches / minecraft / net / minecraft / client / renderer / ItemRenderer . java . patch <nl> index 638b932 . . c05fc98 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / renderer / ItemRenderer . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / renderer / ItemRenderer . java . patch <nl> @ @ - 9 , 3 + 9 , 13 @ @ <nl> { <nl> this . func _ 178097 _ a ( entityplayersp , f3 , f1 , f2 ) ; <nl> } <nl> + @ @ - 505 , 7 + 505 , 8 @ @ <nl> + <nl> + if ( this . field _ 78453 _ b ! = null & & itemstack ! = null ) <nl> + { <nl> + - if ( ! this . field _ 78453 _ b . func _ 179549 _ c ( itemstack ) ) <nl> + + if ( this . field _ 78453 _ b . func _ 77973 _ b ( ) ! = itemstack . func _ 77973 _ b ( ) | | <nl> + + this . field _ 78453 _ b . func _ 77973 _ b ( ) . shouldCauseReequipAnimation ( this . field _ 78453 _ b , itemstack , field _ 78450 _ g ! = entityplayersp . field _ 71071 _ by . field _ 70461 _ c ) ) <nl> + { <nl> + flag = true ; <nl> + } <nl> diff - - git a / patches / minecraft / net / minecraft / item / Item . java . patch b / patches / minecraft / net / minecraft / item / Item . java . patch <nl> index 3985160 . . bbc67e0 100644 <nl> - - - a / patches / minecraft / net / minecraft / item / Item . java . patch <nl> + + + b / patches / minecraft / net / minecraft / item / Item . java . patch <nl> @ @ - 36 , 7 + 36 , 7 @ @ <nl> Vec3 vec31 = vec3 . func _ 72441 _ c ( ( double ) f6 * d3 , ( double ) f5 * d3 , ( double ) f7 * d3 ) ; <nl> return p _ 77621 _ 1 _ . func _ 147447 _ a ( vec3 , vec31 , p _ 77621 _ 3 _ , ! p _ 77621 _ 3 _ , false ) ; <nl> } <nl> - @ @ - 366 , 11 + 372 , 564 @ @ <nl> + @ @ - 366 , 11 + 372 , 579 @ @ <nl> return false ; <nl> } <nl> <nl> @ @ - 595 , 13 + 595 , 28 @ @ <nl> + { <nl> + return this = = Items . field _ 151166 _ bC | | this = = Items . field _ 151045 _ i | | this = = Items . field _ 151043 _ k | | this = = Items . field _ 151042 _ j ; <nl> + } <nl> + + <nl> + + <nl> + + / * * <nl> + + * Determine if the player switching between these two item stacks <nl> + + * @ param oldStack The old stack that was equipped <nl> + + * @ param newStack The new stack <nl> + + * @ param slotChanged If the current equipped slot was changed , <nl> + + * Vanilla does not play the animation if you switch between two <nl> + + * slots that hold the exact same item . <nl> + + * @ return True to play the item change animation <nl> + + * / <nl> + + public boolean shouldCauseReequipAnimation ( ItemStack oldStack , ItemStack newStack , boolean slotChanged ) <nl> + + { <nl> + + return ! ItemStack . func _ 77989 _ b ( oldStack , newStack ) ; <nl> + + } <nl> + / * = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = FORGE END = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = * / <nl> + <nl> + <nl> public static void func _ 150900 _ l ( ) <nl> { <nl> func _ 179214 _ a ( Blocks . field _ 150348 _ b , ( new ItemMultiTexture ( Blocks . field _ 150348 _ b , Blocks . field _ 150348 _ b , new Function ( ) <nl> - @ @ - 936 , 6 + 1495 , 10 @ @ <nl> + @ @ - 936 , 6 + 1510 , 10 @ @ <nl> <nl> private static final String _ _ OBFID = " CL _ 00000042 " ; <nl> <nl> @ @ - 612 , 7 + 627 , 7 @ @ <nl> private ToolMaterial ( int p _ i1874 _ 3 _ , int p _ i1874 _ 4 _ , float p _ i1874 _ 5 _ , float p _ i1874 _ 6 _ , int p _ i1874 _ 7 _ ) <nl> { <nl> this . field _ 78001 _ f = p _ i1874 _ 3 _ ; <nl> - @ @ - 970 , 9 + 1533 , 36 @ @ <nl> + @ @ - 970 , 9 + 1548 , 36 @ @ <nl> return this . field _ 78008 _ j ; <nl> } <nl>

TEST DIFF:
diff - - git a / patches / minecraft / net / minecraft / item / Item . java . patch b / patches / minecraft / net / minecraft / item / Item . java . patch 
 index 5496a45 . . 6df558b 100644 
 - - - a / patches / minecraft / net / minecraft / item / Item . java . patch 
 + + + b / patches / minecraft / net / minecraft / item / Item . java . patch 
 @ @ - 22 , 7 + 22 , 15 @ @ 
 public int func _ 77639 _ j ( ) 
 { 
 return this . field _ 77777 _ bU ; 
 - @ @ - 316 , 6 + 317 , 7 @ @ 
 + @ @ - 217 , 6 + 218 , 7 @ @ 
 + return this ; 
 + } 
 + 
 + + @ Deprecated 
 + public int func _ 77612 _ l ( ) 
 + { 
 + return this . field _ 77699 _ b ; 
 + @ @ - 316 , 6 + 318 , 7 @ @ 
 return this . field _ 77700 _ c ; 
 } 
 
 @ @ - 30 , 7 + 38 , 7 @ @ 
 public boolean func _ 77634 _ r ( ) 
 { 
 return this . field _ 77700 _ c ! = null ; 
 - @ @ - 371 , 7 + 373 , 7 @ @ 
 + @ @ - 371 , 7 + 374 , 7 @ @ 
 
 public boolean func _ 77616 _ k ( ItemStack p _ 77616 _ 1 _ ) 
 { 
 @ @ - 39 , 7 + 47 , 7 @ @ 
 } 
 
 protected RayTraceResult func _ 77621 _ a ( World p _ 77621 _ 1 _ , EntityPlayer p _ 77621 _ 2 _ , boolean p _ 77621 _ 3 _ ) 
 - @ @ - 389 , 7 + 391 , 11 @ @ 
 + @ @ - 389 , 7 + 392 , 11 @ @ 
 float f6 = f3 * f4 ; 
 float f7 = f2 * f4 ; 
 double d3 = 5 . 0D ; 
 @ @ - 52 , 7 + 60 , 7 @ @ 
 return p _ 77621 _ 1 _ . func _ 147447 _ a ( vec3d , vec3d1 , p _ 77621 _ 3 _ , ! p _ 77621 _ 3 _ , false ) ; 
 } 
 
 - @ @ - 426 , 11 + 432 , 569 @ @ 
 + @ @ - 426 , 11 + 433 , 580 @ @ 
 return false ; 
 } 
 
 @ @ - 633 , 7 + 641 , 7 @ @ 
 public static void func _ 150900 _ l ( ) 
 { 
 func _ 179214 _ a ( Blocks . field _ 150348 _ b , ( new ItemMultiTexture ( Blocks . field _ 150348 _ b , Blocks . field _ 150348 _ b , new Function < ItemStack , String > ( ) 
 - @ @ - 962 , 6 + 1537 , 10 @ @ 
 + @ @ - 962 , 6 + 1538 , 10 @ @ 
 private final float field _ 78011 _ i ; 
 private final int field _ 78008 _ j ; 
 
 @ @ - 644 , 7 + 652 , 7 @ @ 
 private ToolMaterial ( int p _ i1874 _ 3 _ , int p _ i1874 _ 4 _ , float p _ i1874 _ 5 _ , float p _ i1874 _ 6 _ , int p _ i1874 _ 7 _ ) 
 { 
 this . field _ 78001 _ f = p _ i1874 _ 3 _ ; 
 - @ @ - 996 , 9 + 1575 , 36 @ @ 
 + @ @ - 996 , 9 + 1576 , 36 @ @ 
 return this . field _ 78008 _ j ; 
 } 
 
 diff - - git a / patches / minecraft / net / minecraft / item / crafting / RecipeRepairItem . java . patch b / patches / minecraft / net / minecraft / item / crafting / RecipeRepairItem . java . patch 
 index 49a16cc . . c670ec8 100644 
 - - - a / patches / minecraft / net / minecraft / item / crafting / RecipeRepairItem . java . patch 
 + + + b / patches / minecraft / net / minecraft / item / crafting / RecipeRepairItem . java . patch 
 @ @ - 18 , 15 + 18 , 26 @ @ 
 { 
 return null ; 
 } 
 - @ @ - 67 , 7 + 67 , 7 @ @ 
 + @ @ - 67 , 13 + 67 , 13 @ @ 
 ItemStack itemstack2 = ( ItemStack ) list . get ( 0 ) ; 
 ItemStack itemstack3 = ( ItemStack ) list . get ( 1 ) ; 
 
 - if ( itemstack2 . func _ 77973 _ b ( ) = = itemstack3 . func _ 77973 _ b ( ) & & itemstack2 . field _ 77994 _ a = = 1 & & itemstack3 . field _ 77994 _ a = = 1 & & itemstack2 . func _ 77973 _ b ( ) . func _ 77645 _ m ( ) ) 
 + if ( itemstack2 . func _ 77973 _ b ( ) = = itemstack3 . func _ 77973 _ b ( ) & & itemstack2 . field _ 77994 _ a = = 1 & & itemstack3 . field _ 77994 _ a = = 1 & & itemstack2 . func _ 77973 _ b ( ) . isRepairable ( ) ) 
 { 
 - Item item = itemstack2 . func _ 77973 _ b ( ) ; 
 - int j = item . func _ 77612 _ l ( ) - itemstack2 . func _ 77952 _ i ( ) ; 
 + - Item item = itemstack2 . func _ 77973 _ b ( ) ; 
 + - int j = item . func _ 77612 _ l ( ) - itemstack2 . func _ 77952 _ i ( ) ; 
 + - int k = item . func _ 77612 _ l ( ) - itemstack3 . func _ 77952 _ i ( ) ; 
 + - int l = j + k + item . func _ 77612 _ l ( ) * 5 / 100 ; 
 + - int i1 = item . func _ 77612 _ l ( ) - l ; 
 + + / / FORGE : Make itemstack sensitive / / Item item = itemstack2 . getItem ( ) ; 
 + + int j = itemstack2 . func _ 77958 _ k ( ) - itemstack2 . func _ 77952 _ i ( ) ; 
 + + int k = itemstack2 . func _ 77958 _ k ( ) - itemstack3 . func _ 77952 _ i ( ) ; 
 + + int l = j + k + itemstack2 . func _ 77958 _ k ( ) * 5 / 100 ; 
 + + int i1 = itemstack2 . func _ 77958 _ k ( ) - l ; 
 + 
 + if ( i1 < 0 ) 
 + { 
 @ @ - 105 , 11 + 105 , 7 @ @ 
 for ( int i = 0 ; i < aitemstack . length ; + + i ) 
 {

NEAREST DIFF:
diff - - git a / patches / minecraft / net / minecraft / client / renderer / ItemRenderer . java . patch b / patches / minecraft / net / minecraft / client / renderer / ItemRenderer . java . patch 
 index 638b932 . . c05fc98 100644 
 - - - a / patches / minecraft / net / minecraft / client / renderer / ItemRenderer . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / renderer / ItemRenderer . java . patch 
 @ @ - 9 , 3 + 9 , 13 @ @ 
 { 
 this . func _ 178097 _ a ( entityplayersp , f3 , f1 , f2 ) ; 
 } 
 + @ @ - 505 , 7 + 505 , 8 @ @ 
 + 
 + if ( this . field _ 78453 _ b ! = null & & itemstack ! = null ) 
 + { 
 + - if ( ! this . field _ 78453 _ b . func _ 179549 _ c ( itemstack ) ) 
 + + if ( this . field _ 78453 _ b . func _ 77973 _ b ( ) ! = itemstack . func _ 77973 _ b ( ) | | 
 + + this . field _ 78453 _ b . func _ 77973 _ b ( ) . shouldCauseReequipAnimation ( this . field _ 78453 _ b , itemstack , field _ 78450 _ g ! = entityplayersp . field _ 71071 _ by . field _ 70461 _ c ) ) 
 + { 
 + flag = true ; 
 + } 
 diff - - git a / patches / minecraft / net / minecraft / item / Item . java . patch b / patches / minecraft / net / minecraft / item / Item . java . patch 
 index 3985160 . . bbc67e0 100644 
 - - - a / patches / minecraft / net / minecraft / item / Item . java . patch 
 + + + b / patches / minecraft / net / minecraft / item / Item . java . patch 
 @ @ - 36 , 7 + 36 , 7 @ @ 
 Vec3 vec31 = vec3 . func _ 72441 _ c ( ( double ) f6 * d3 , ( double ) f5 * d3 , ( double ) f7 * d3 ) ; 
 return p _ 77621 _ 1 _ . func _ 147447 _ a ( vec3 , vec31 , p _ 77621 _ 3 _ , ! p _ 77621 _ 3 _ , false ) ; 
 } 
 - @ @ - 366 , 11 + 372 , 564 @ @ 
 + @ @ - 366 , 11 + 372 , 579 @ @ 
 return false ; 
 } 
 
 @ @ - 595 , 13 + 595 , 28 @ @ 
 + { 
 + return this = = Items . field _ 151166 _ bC | | this = = Items . field _ 151045 _ i | | this = = Items . field _ 151043 _ k | | this = = Items . field _ 151042 _ j ; 
 + } 
 + + 
 + + 
 + + / * * 
 + + * Determine if the player switching between these two item stacks 
 + + * @ param oldStack The old stack that was equipped 
 + + * @ param newStack The new stack 
 + + * @ param slotChanged If the current equipped slot was changed , 
 + + * Vanilla does not play the animation if you switch between two 
 + + * slots that hold the exact same item . 
 + + * @ return True to play the item change animation 
 + + * / 
 + + public boolean shouldCauseReequipAnimation ( ItemStack oldStack , ItemStack newStack , boolean slotChanged ) 
 + + { 
 + + return ! ItemStack . func _ 77989 _ b ( oldStack , newStack ) ; 
 + + } 
 + / * = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = FORGE END = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = * / 
 + 
 + 
 public static void func _ 150900 _ l ( ) 
 { 
 func _ 179214 _ a ( Blocks . field _ 150348 _ b , ( new ItemMultiTexture ( Blocks . field _ 150348 _ b , Blocks . field _ 150348 _ b , new Function ( ) 
 - @ @ - 936 , 6 + 1495 , 10 @ @ 
 + @ @ - 936 , 6 + 1510 , 10 @ @ 
 
 private static final String _ _ OBFID = " CL _ 00000042 " ; 
 
 @ @ - 612 , 7 + 627 , 7 @ @ 
 private ToolMaterial ( int p _ i1874 _ 3 _ , int p _ i1874 _ 4 _ , float p _ i1874 _ 5 _ , float p _ i1874 _ 6 _ , int p _ i1874 _ 7 _ ) 
 { 
 this . field _ 78001 _ f = p _ i1874 _ 3 _ ; 
 - @ @ - 970 , 9 + 1533 , 36 @ @ 
 + @ @ - 970 , 9 + 1548 , 36 @ @ 
 return this . field _ 78008 _ j ; 
 } 

