BLEU SCORE: 0.04799810699119213

TEST MSG: Fix getDefaultCreatorModId for enchanted books
GENERATED MSG: Fix double dropping of items . Closes # 2549

TEST DIFF (one line): diff - - git a / src / main / java / net / minecraftforge / common / ForgeHooks . java b / src / main / java / net / minecraftforge / common / ForgeHooks . java <nl> index 0555c2a . . e7621b0 100644 <nl> - - - a / src / main / java / net / minecraftforge / common / ForgeHooks . java <nl> + + + b / src / main / java / net / minecraftforge / common / ForgeHooks . java <nl> @ @ - 1009 , 14 + 1009 , 10 @ @ public class ForgeHooks <nl> if ( enchantmentsNbt . size ( ) = = 1 ) <nl> { <nl> NBTTagCompound nbttagcompound = enchantmentsNbt . getCompound ( 0 ) ; <nl> - Enchantment enchantment = Enchantment . getEnchantmentByID ( nbttagcompound . getShort ( " id " ) ) ; <nl> - if ( enchantment ! = null ) <nl> + ResourceLocation resourceLocation = ResourceLocation . makeResourceLocation ( nbttagcompound . getString ( " id " ) ) ; <nl> + if ( resourceLocation ! = null & & ForgeRegistries . ENCHANTMENTS . containsKey ( resourceLocation ) ) <nl> { <nl> - ResourceLocation resourceLocation = ForgeRegistries . ENCHANTMENTS . getKey ( enchantment ) ; <nl> - if ( resourceLocation ! = null ) <nl> - { <nl> - return resourceLocation . getNamespace ( ) ; <nl> - } <nl> + return resourceLocation . getNamespace ( ) ; <nl> } <nl> } <nl> }
NEAREST DIFF (one line): diff - - git a / src / main / java / net / minecraftforge / common / ForgeHooks . java b / src / main / java / net / minecraftforge / common / ForgeHooks . java <nl> index 9d95ad0 . . ef548d4 100644 <nl> - - - a / src / main / java / net / minecraftforge / common / ForgeHooks . java <nl> + + + b / src / main / java / net / minecraftforge / common / ForgeHooks . java <nl> @ @ - 556 , 7 + 556 , 10 @ @ public class ForgeHooks <nl> return null ; <nl> } <nl> <nl> - player . getEntityWorld ( ) . spawnEntityInWorld ( event . entityItem ) ; <nl> + if ( player . isServerWorld ( ) ) <nl> + { <nl> + player . getEntityWorld ( ) . spawnEntityInWorld ( event . entityItem ) ; <nl> + } <nl> return event . entityItem ; <nl> } <nl>

TEST DIFF:
diff - - git a / src / main / java / net / minecraftforge / common / ForgeHooks . java b / src / main / java / net / minecraftforge / common / ForgeHooks . java 
 index 0555c2a . . e7621b0 100644 
 - - - a / src / main / java / net / minecraftforge / common / ForgeHooks . java 
 + + + b / src / main / java / net / minecraftforge / common / ForgeHooks . java 
 @ @ - 1009 , 14 + 1009 , 10 @ @ public class ForgeHooks 
 if ( enchantmentsNbt . size ( ) = = 1 ) 
 { 
 NBTTagCompound nbttagcompound = enchantmentsNbt . getCompound ( 0 ) ; 
 - Enchantment enchantment = Enchantment . getEnchantmentByID ( nbttagcompound . getShort ( " id " ) ) ; 
 - if ( enchantment ! = null ) 
 + ResourceLocation resourceLocation = ResourceLocation . makeResourceLocation ( nbttagcompound . getString ( " id " ) ) ; 
 + if ( resourceLocation ! = null & & ForgeRegistries . ENCHANTMENTS . containsKey ( resourceLocation ) ) 
 { 
 - ResourceLocation resourceLocation = ForgeRegistries . ENCHANTMENTS . getKey ( enchantment ) ; 
 - if ( resourceLocation ! = null ) 
 - { 
 - return resourceLocation . getNamespace ( ) ; 
 - } 
 + return resourceLocation . getNamespace ( ) ; 
 } 
 } 
 }

NEAREST DIFF:
diff - - git a / src / main / java / net / minecraftforge / common / ForgeHooks . java b / src / main / java / net / minecraftforge / common / ForgeHooks . java 
 index 9d95ad0 . . ef548d4 100644 
 - - - a / src / main / java / net / minecraftforge / common / ForgeHooks . java 
 + + + b / src / main / java / net / minecraftforge / common / ForgeHooks . java 
 @ @ - 556 , 7 + 556 , 10 @ @ public class ForgeHooks 
 return null ; 
 } 
 
 - player . getEntityWorld ( ) . spawnEntityInWorld ( event . entityItem ) ; 
 + if ( player . isServerWorld ( ) ) 
 + { 
 + player . getEntityWorld ( ) . spawnEntityInWorld ( event . entityItem ) ; 
 + } 
 return event . entityItem ; 
 } 

