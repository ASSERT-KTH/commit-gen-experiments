BLEU SCORE: 0.033864985683445356

TEST MSG: ItemBlock , ItemBow , ItemMonsterPlacer , ItemReed , ItemSign rejects fixed .
GENERATED MSG: Added Item . onDroppedByPlayer hook

TEST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / item / ItemBlock . java . patch b / patches / minecraft / net / minecraft / item / ItemBlock . java . patch <nl> index 1da8fec . . f92205d 100644 <nl> - - - a / patches / minecraft / net / minecraft / item / ItemBlock . java . patch <nl> + + + b / patches / minecraft / net / minecraft / item / ItemBlock . java . patch <nl> @ @ - 1 , 6 + 1 , 24 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / item / ItemBlock . java <nl> + + + . . / src - work / minecraft / net / minecraft / item / ItemBlock . java <nl> - @ @ - 163 , 4 + 163 , 26 @ @ <nl> + @ @ - 55 , 16 + 55 , 8 @ @ <nl> + int i = this . getMetadata ( stack . getMetadata ( ) ) ; <nl> + IBlockState iblockstate1 = this . block . onBlockPlaced ( worldIn , pos , side , hitX , hitY , hitZ , i , playerIn ) ; <nl> + <nl> + - if ( worldIn . setBlockState ( pos , iblockstate1 , 3 ) ) <nl> + + if ( placeBlockAt ( stack , playerIn , worldIn , pos , side , hitX , hitY , hitZ , iblockstate1 ) ) <nl> + { <nl> + - iblockstate1 = worldIn . getBlockState ( pos ) ; <nl> + - <nl> + - if ( iblockstate1 . getBlock ( ) = = this . block ) <nl> + - { <nl> + - setTileEntityNBT ( worldIn , playerIn , pos , stack ) ; <nl> + - this . block . onBlockPlacedBy ( worldIn , pos , iblockstate1 , playerIn , stack ) ; <nl> + - } <nl> + - <nl> + worldIn . playSoundEffect ( ( double ) ( ( float ) pos . getX ( ) + 0 . 5F ) , ( double ) ( ( float ) pos . getY ( ) + 0 . 5F ) , ( double ) ( ( float ) pos . getZ ( ) + 0 . 5F ) , this . block . stepSound . getPlaceSound ( ) , ( this . block . stepSound . getVolume ( ) + 1 . 0F ) / 2 . 0F , this . block . stepSound . getFrequency ( ) * 0 . 8F ) ; <nl> + - - stack . stackSize ; <nl> + } <nl> + @ @ - 163 , 4 + 155 , 26 @ @ <nl> { <nl> return this . block ; <nl> } <nl> @ @ - 20 , 7 + 38 , 7 @ @ <nl> + IBlockState state = world . getBlockState ( pos ) ; <nl> + if ( state . getBlock ( ) = = this . block ) <nl> + { <nl> - + setTileEntityNBT ( world , pos , stack , player ) ; <nl> + + setTileEntityNBT ( world , player , pos , stack ) ; <nl> + this . block . onBlockPlacedBy ( world , pos , state , player , stack ) ; <nl> + } <nl> + <nl> diff - - git a / patches / minecraft / net / minecraft / item / ItemBow . java . patch b / patches / minecraft / net / minecraft / item / ItemBow . java . patch <nl> index 9c80583 . . 8d346a3 100644 <nl> - - - a / patches / minecraft / net / minecraft / item / ItemBow . java . patch <nl> + + + b / patches / minecraft / net / minecraft / item / ItemBow . java . patch <nl> @ @ - 1 , 6 + 1 , 16 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / item / ItemBow . java <nl> + + + . . / src - work / minecraft / net / minecraft / item / ItemBow . java <nl> - @ @ - 105 , 6 + 105 , 9 @ @ <nl> + @ @ - 28 , 6 + 28 , 9 @ @ <nl> + if ( flag | | playerIn . inventory . hasItem ( Items . arrow ) ) <nl> + { <nl> + int i = this . getMaxItemUseDuration ( stack ) - timeLeft ; <nl> + + net . minecraftforge . event . entity . player . ArrowLooseEvent event = new net . minecraftforge . event . entity . player . ArrowLooseEvent ( playerIn , stack , i ) ; <nl> + + if ( net . minecraftforge . common . MinecraftForge . EVENT _ BUS . post ( event ) ) return ; <nl> + + i = event . charge ; <nl> + float f = ( float ) i / 20 . 0F ; <nl> + f = ( f * f + f * 2 . 0F ) / 3 . 0F ; <nl> + <nl> + @ @ - 105 , 6 + 108 , 9 @ @ <nl> <nl> public ItemStack onItemRightClick ( ItemStack itemStackIn , World worldIn , EntityPlayer playerIn ) <nl> { <nl> diff - - git a / patches / minecraft / net / minecraft / item / ItemMonsterPlacer . java . patch b / patches / minecraft / net / minecraft / item / ItemMonsterPlacer . java . patch <nl> index 9d23fda . . 5372c4e 100644 <nl> - - - a / patches / minecraft / net / minecraft / item / ItemMonsterPlacer . java . patch <nl> + + + b / patches / minecraft / net / minecraft / item / ItemMonsterPlacer . java . patch <nl> @ @ - 9 , 6 + 9 , 15 @ @ <nl> <nl> if ( s1 ! = null ) <nl> { <nl> + @ @ - 51 , 7 + 51 , 7 @ @ <nl> + @ SideOnly ( Side . CLIENT ) <nl> + public int getColorFromItemStack ( ItemStack stack , int renderPass ) <nl> + { <nl> + - EntityList . EntityEggInfo entitylist $ entityegginfo = ( EntityList . EntityEggInfo ) EntityList . entityEggs . get ( Integer . valueOf ( stack . getMetadata ( ) ) ) ; <nl> + + EntityList . EntityEggInfo entitylist $ entityegginfo = ItemMonsterPlacer . getEggInfo ( stack ) ; <nl> + return entitylist $ entityegginfo ! = null ? ( renderPass = = 0 ? entitylist $ entityegginfo . primaryColor : entitylist $ entityegginfo . secondaryColor ) : 16777215 ; <nl> + } <nl> + <nl> @ @ - 76 , 7 + 76 , 7 @ @ <nl> if ( tileentity instanceof TileEntityMobSpawner ) <nl> { <nl> @ @ - 36 , 7 + 45 , 38 @ @ <nl> <nl> if ( entity ! = null ) <nl> { <nl> - @ @ - 209 , 5 + 209 , 28 @ @ <nl> + @ @ - 172 , 19 + 172 , 29 @ @ <nl> + } <nl> + } <nl> + <nl> + + @ Deprecated / / Use string version below . <nl> + public static Entity spawnCreature ( World worldIn , int entityID , double x , double y , double z ) <nl> + { <nl> + if ( ! EntityList . entityEggs . containsKey ( Integer . valueOf ( entityID ) ) ) <nl> + { <nl> + return null ; <nl> + } <nl> + + return spawnCreature ( worldIn , EntityList . getStringFromID ( entityID ) , x , y , z ) ; <nl> + + } <nl> + + <nl> + + public static Entity spawnCreature ( World worldIn , String name , double x , double y , double z ) <nl> + + { <nl> + + if ( ! EntityList . stringToClassMapping . containsKey ( name ) ) <nl> + + { <nl> + + return null ; <nl> + + } <nl> + else <nl> + { <nl> + Entity entity = null ; <nl> + <nl> + for ( int i = 0 ; i < 1 ; + + i ) <nl> + { <nl> + - entity = EntityList . createEntityByID ( entityID , worldIn ) ; <nl> + + entity = EntityList . createEntityByName ( name , worldIn ) ; <nl> + <nl> + if ( entity instanceof EntityLivingBase ) <nl> + { <nl> + @ @ - 209 , 5 + 219 , 28 @ @ <nl> { <nl> subItems . add ( new ItemStack ( itemIn , 1 , entitylist $ entityegginfo . spawnedID ) ) ; <nl> } <nl> diff - - git a / rejects / minecraft / net / minecraft / item / ItemBlock . java . patch . rej b / rejects / minecraft / net / minecraft / item / ItemBlock . java . patch . rej <nl> deleted file mode 100644 <nl> index a25b089 . . 0000000 <nl> - - - a / rejects / minecraft / net / minecraft / item / ItemBlock . java . patch . rej <nl> + + + / dev / null <nl> @ @ - 1 , 45 + 0 , 0 @ @ <nl> - + + + + REJECTED PATCH 1 <nl> - int i = this . getMetadata ( stack . getMetadata ( ) ) ; <nl> - IBlockState iblockstate1 = this . block . onBlockPlaced ( worldIn , pos , side , hitX , hitY , hitZ , i , playerIn ) ; <nl> - <nl> - - if ( worldIn . setBlockState ( pos , iblockstate1 , 3 ) ) <nl> - + if ( placeBlockAt ( stack , playerIn , worldIn , pos , side , hitX , hitY , hitZ , iblockstate1 ) ) <nl> - { <nl> - - iblockstate1 = worldIn . getBlockState ( pos ) ; <nl> - - <nl> - - if ( iblockstate1 . getBlock ( ) = = this . block ) <nl> - - { <nl> - - setTileEntityNBT ( worldIn , pos , stack ) ; <nl> - - this . block . onBlockPlacedBy ( worldIn , pos , iblockstate1 , playerIn , stack ) ; <nl> - - } <nl> - - <nl> - worldIn . playSoundEffect ( ( double ) ( ( float ) pos . getX ( ) + 0 . 5F ) , ( double ) ( ( float ) pos . getY ( ) + 0 . 5F ) , ( double ) ( ( float ) pos . getZ ( ) + 0 . 5F ) , this . block . stepSound . getPlaceSound ( ) , ( this . block . stepSound . getVolume ( ) + 1 . 0F ) / 2 . 0F , this . block . stepSound . getFrequency ( ) * 0 . 8F ) ; <nl> - - - stack . stackSize ; <nl> - } <nl> - + + + + END PATCH <nl> - + + + + REJECTED PATCH 2 <nl> - } <nl> - } <nl> - <nl> - + @ Deprecated / / Use player sensitive version <nl> - public static boolean setTileEntityNBT ( World worldIn , BlockPos pos , ItemStack stack ) <nl> - { <nl> - + return setTileEntityNBT ( worldIn , pos , stack , null ) ; <nl> - + } <nl> - + public static boolean setTileEntityNBT ( World worldIn , BlockPos pos , ItemStack stack , EntityPlayer player ) <nl> - + { <nl> - if ( stack . hasTagCompound ( ) & & stack . getTagCompound ( ) . hasKey ( " BlockEntityTag " , 10 ) ) <nl> - { <nl> - TileEntity tileentity = worldIn . getTileEntity ( pos ) ; <nl> - <nl> - if ( tileentity ! = null ) <nl> - { <nl> - + / / Forge : Fixes MC - 75630 - Exploit with signs and command blocks <nl> - + final net . minecraft . server . MinecraftServer server = net . minecraft . server . MinecraftServer . getServer ( ) ; <nl> - + if ( ! worldIn . isRemote & & tileentity . restrictNBTCopy ( ) & & <nl> - + ( server = = null | | ! server . getConfigurationManager ( ) . canSendCommands ( player . getGameProfile ( ) ) ) ) <nl> - + return false ; <nl> - NBTTagCompound nbttagcompound = new NBTTagCompound ( ) ; <nl> - NBTTagCompound nbttagcompound1 = ( NBTTagCompound ) nbttagcompound . copy ( ) ; <nl> - tileentity . writeToNBT ( nbttagcompound ) ; <nl> - + + + + END PATCH <nl> diff - - git a / rejects / minecraft / net / minecraft / item / ItemBow . java . patch . rej b / rejects / minecraft / net / minecraft / item / ItemBow . java . patch . rej <nl> deleted file mode 100644 <nl> index 4da43f9 . . 0000000 <nl> - - - a / rejects / minecraft / net / minecraft / item / ItemBow . java . patch . rej <nl> + + + / dev / null <nl> @ @ - 1 , 18 + 0 , 0 @ @ <nl> - + + + + REJECTED PATCH 1 <nl> - <nl> - public void onPlayerStoppedUsing ( ItemStack stack , World worldIn , EntityPlayer playerIn , int timeLeft ) <nl> - { <nl> - + int j = this . getMaxItemUseDuration ( stack ) - timeLeft ; <nl> - + net . minecraftforge . event . entity . player . ArrowLooseEvent event = new net . minecraftforge . event . entity . player . ArrowLooseEvent ( playerIn , stack , j ) ; <nl> - + if ( net . minecraftforge . common . MinecraftForge . EVENT _ BUS . post ( event ) ) return ; <nl> - + j = event . charge ; <nl> - + <nl> - boolean flag = playerIn . capabilities . isCreativeMode | | EnchantmentHelper . getEnchantmentLevel ( Enchantment . infinity . effectId , stack ) > 0 ; <nl> - <nl> - if ( flag | | playerIn . inventory . hasItem ( Items . arrow ) ) <nl> - { <nl> - - int j = this . getMaxItemUseDuration ( stack ) - timeLeft ; <nl> - float f = ( float ) j / 20 . 0F ; <nl> - f = ( f * f + f * 2 . 0F ) / 3 . 0F ; <nl> - <nl> - + + + + END PATCH <nl> diff - - git a / rejects / minecraft / net / minecraft / item / ItemMonsterPlacer . java . patch . rej b / rejects / minecraft / net / minecraft / item / ItemMonsterPlacer . java . patch . rej <nl> deleted file mode 100644 <nl> index b28b8be . . 0000000 <nl> - - - a / rejects / minecraft / net / minecraft / item / ItemMonsterPlacer . java . patch . rej <nl> + + + / dev / null <nl> @ @ - 1 , 42 + 0 , 0 @ @ <nl> - + + + + REJECTED PATCH 2 <nl> - @ SideOnly ( Side . CLIENT ) <nl> - public int getColorFromItemStack ( ItemStack stack , int renderPass ) <nl> - { <nl> - - EntityList . EntityEggInfo entityegginfo = ( EntityList . EntityEggInfo ) EntityList . entityEggs . get ( Integer . valueOf ( stack . getMetadata ( ) ) ) ; <nl> - + EntityList . EntityEggInfo entityegginfo = ItemMonsterPlacer . getEggInfo ( stack ) ; <nl> - return entityegginfo ! = null ? ( renderPass = = 0 ? entityegginfo . primaryColor : entityegginfo . secondaryColor ) : 16777215 ; <nl> - } <nl> - <nl> - + + + + END PATCH <nl> - + + + + REJECTED PATCH 6 <nl> - } <nl> - } <nl> - <nl> - + @ Deprecated / / Use string version below . <nl> - public static Entity spawnCreature ( World worldIn , int entityID , double x , double y , double z ) <nl> - { <nl> - if ( ! EntityList . entityEggs . containsKey ( Integer . valueOf ( entityID ) ) ) <nl> - { <nl> - return null ; <nl> - } <nl> - + return spawnCreature ( worldIn , EntityList . getStringFromID ( entityID ) , x , y , z ) ; <nl> - + } <nl> - + <nl> - + public static Entity spawnCreature ( World worldIn , String name , double x , double y , double z ) <nl> - + { <nl> - + if ( ! EntityList . stringToClassMapping . containsKey ( name ) ) <nl> - + { <nl> - + return null ; <nl> - + } <nl> - else <nl> - { <nl> - Entity entity = null ; <nl> - <nl> - for ( int j = 0 ; j < 1 ; + + j ) <nl> - { <nl> - - entity = EntityList . createEntityByID ( entityID , worldIn ) ; <nl> - + entity = EntityList . createEntityByName ( name , worldIn ) ; <nl> - <nl> - if ( entity instanceof EntityLivingBase ) <nl> - { <nl> - + + + + END PATCH <nl> diff - - git a / rejects / minecraft / net / minecraft / item / ItemReed . java . patch . rej b / rejects / minecraft / net / minecraft / item / ItemReed . java . patch . rej <nl> deleted file mode 100644 <nl> index 8281b98 . . 0000000 <nl> - - - a / rejects / minecraft / net / minecraft / item / ItemReed . java . patch . rej <nl> + + + / dev / null <nl> @ @ - 1 , 10 + 0 , 0 @ @ <nl> - + + + + REJECTED PATCH 1 <nl> - <nl> - if ( iblockstate1 . getBlock ( ) = = this . block ) <nl> - { <nl> - - ItemBlock . setTileEntityNBT ( worldIn , pos , stack ) ; <nl> - + ItemBlock . setTileEntityNBT ( worldIn , pos , stack , playerIn ) ; <nl> - iblockstate1 . getBlock ( ) . onBlockPlacedBy ( worldIn , pos , iblockstate1 , playerIn , stack ) ; <nl> - } <nl> - <nl> - + + + + END PATCH <nl> diff - - git a / rejects / minecraft / net / minecraft / item / ItemSign . java . patch . rej b / rejects / minecraft / net / minecraft / item / ItemSign . java . patch . rej <nl> deleted file mode 100644 <nl> index 790c344 . . 0000000 <nl> - - - a / rejects / minecraft / net / minecraft / item / ItemSign . java . patch . rej <nl> + + + / dev / null <nl> @ @ - 1 , 10 + 0 , 0 @ @ <nl> - + + + + REJECTED PATCH 1 <nl> - - - stack . stackSize ; <nl> - TileEntity tileentity = worldIn . getTileEntity ( pos ) ; <nl> - <nl> - - if ( tileentity instanceof TileEntitySign & & ! ItemBlock . setTileEntityNBT ( worldIn , pos , stack ) ) <nl> - + if ( tileentity instanceof TileEntitySign & & ! ItemBlock . setTileEntityNBT ( worldIn , pos , stack , playerIn ) ) <nl> - { <nl> - playerIn . openEditSign ( ( TileEntitySign ) tileentity ) ; <nl> - } <nl> - + + + + END PATCH
NEAREST DIFF (one line): diff - - git a / forge / patches / minecraft / net / minecraft / src / EntityPlayer . java . patch b / forge / patches / minecraft / net / minecraft / src / EntityPlayer . java . patch <nl> index 3e10b58 . . c79b15d 100644 <nl> - - - a / forge / patches / minecraft / net / minecraft / src / EntityPlayer . java . patch <nl> + + + b / forge / patches / minecraft / net / minecraft / src / EntityPlayer . java . patch <nl> @ @ - 11 , 7 + 11 , 25 @ @ <nl> import java . util . * ; <nl> <nl> / / Referenced classes of package net . minecraft . src : <nl> - @ @ - 548 , 6 + 552 , 8 @ @ <nl> + @ @ - 502 , 7 + 506 , 16 @ @ <nl> + <nl> + public void dropCurrentItem ( ) <nl> + { <nl> + - dropPlayerItemWithRandomChoice ( inventory . decrStackSize ( inventory . currentItem , 1 ) , false ) ; <nl> + + 	 ItemStack stack = inventory . getCurrentItem ( ) ; <nl> + + 	 if ( stack = = null ) <nl> + + 	 { <nl> + + 	 	 return ; <nl> + + 	 } 	 <nl> + + 	 <nl> + + 	 if ( stack . getItem ( ) . onDroppedByPlayer ( stack , this ) ) <nl> + + 	 { <nl> + + dropPlayerItemWithRandomChoice ( inventory . decrStackSize ( inventory . currentItem , 1 ) , false ) ; <nl> + + 	 } <nl> + } <nl> + <nl> + public void dropPlayerItem ( ItemStack itemstack ) <nl> + @ @ - 548 , 6 + 561 , 8 @ @ <nl> worldObj . entityJoinedWorld ( entityitem ) ; <nl> } <nl> <nl> @ @ - 20 , 7 + 38 , 7 @ @ <nl> public float getCurrentPlayerStrVsBlock ( Block block ) <nl> { <nl> float f = inventory . getStrVsBlock ( block ) ; <nl> - @ @ - 576 , 6 + 582 , 45 @ @ <nl> + @ @ - 576 , 6 + 591 , 45 @ @ <nl> return f1 ; <nl> } <nl> <nl> @ @ - 66 , 7 + 84 , 7 @ @ <nl> public boolean canHarvestBlock ( Block block ) <nl> { <nl> return inventory . canHarvestBlock ( block ) ; <nl> - @ @ - 774 , 6 + 819 , 25 @ @ <nl> + @ @ - 774 , 6 + 828 , 25 @ @ <nl> <nl> protected void damageEntity ( DamageSource damagesource , int i ) <nl> { <nl> @ @ - 92 , 7 + 110 , 7 @ @ <nl> if ( ! damagesource . unblockable ( ) & & func _ 35162 _ ad ( ) ) <nl> { <nl> i = 1 + i > > 1 ; <nl> - @ @ - 825 , 7 + 889 , 9 @ @ <nl> + @ @ - 825 , 7 + 898 , 9 @ @ <nl> <nl> public void destroyCurrentEquippedItem ( ) <nl> { <nl> @ @ - 102 , 7 + 120 , 7 @ @ <nl> } <nl> <nl> public double getYOffset ( ) <nl> - @ @ - 957 , 6 + 1023 , 10 @ @ <nl> + @ @ - 957 , 6 + 1032 , 10 @ @ <nl> <nl> public EnumStatus sleepInBedAt ( int i , int j , int k ) <nl> { <nl> diff - - git a / forge / patches / minecraft / net / minecraft / src / Item . java . patch b / forge / patches / minecraft / net / minecraft / src / Item . java . patch <nl> index fe29396 . . 2277b4b 100644 <nl> - - - a / forge / patches / minecraft / net / minecraft / src / Item . java . patch <nl> + + + b / forge / patches / minecraft / net / minecraft / src / Item . java . patch <nl> @ @ - 77 , 7 + 77 , 7 @ @ <nl> public boolean hitEntity ( ItemStack itemstack , EntityLiving entityliving , EntityLiving entityliving1 ) <nl> { <nl> return false ; <nl> - @ @ - 473 , 6 + 515 , 18 @ @ <nl> + @ @ - 473 , 6 + 515 , 32 @ @ <nl> { <nl> return 0 ; <nl> } <nl> @ @ - 93 , 6 + 93 , 20 @ @ <nl> + 	 	 	 itemList . add ( new ItemStack ( this , 1 ) ) ; <nl> + 	 } <nl> + } <nl> + + <nl> + + / * * <nl> + + * Called when a player drops the item into the world , <nl> + + * returning false from this will prevent the item from <nl> + + * being removed from the players inventory and spawning <nl> + + * in the world <nl> + + * <nl> + + * @ param player The player that dropped the item <nl> + + * @ param item The item stack , before the item is removed . <nl> + + * / <nl> + + public boolean onDroppedByPlayer ( ItemStack item , EntityPlayer player ) <nl> + + { <nl> + + 	 return true ; <nl> + + } <nl> <nl> static <nl> { <nl> diff - - git a / forge / patches / minecraft _ server / net / minecraft / src / EntityPlayer . java . patch b / forge / patches / minecraft _ server / net / minecraft / src / EntityPlayer . java . patch <nl> index 65619da . . 55399e4 100644 <nl> - - - a / forge / patches / minecraft _ server / net / minecraft / src / EntityPlayer . java . patch <nl> + + + b / forge / patches / minecraft _ server / net / minecraft / src / EntityPlayer . java . patch <nl> @ @ - 11 , 7 + 11 , 25 @ @ <nl> / / Referenced classes of package net . minecraft . src : <nl> / / EntityLiving , InventoryPlayer , FoodStats , PlayerCapabilities , <nl> / / ContainerPlayer , World , ChunkCoordinates , DataWatcher , <nl> - @ @ - 493 , 6 + 497 , 8 @ @ <nl> + @ @ - 447 , 7 + 451 , 16 @ @ <nl> + <nl> + public void dropCurrentItem ( ) <nl> + { <nl> + - dropPlayerItemWithRandomChoice ( inventory . decrStackSize ( inventory . currentItem , 1 ) , false ) ; <nl> + + 	 ItemStack stack = inventory . getCurrentItem ( ) ; <nl> + + 	 if ( stack = = null ) <nl> + + 	 { <nl> + + 	 	 return ; <nl> + + 	 } 	 <nl> + + 	 <nl> + + 	 if ( stack . getItem ( ) . onDroppedByPlayer ( stack , this ) ) <nl> + + 	 { <nl> + + dropPlayerItemWithRandomChoice ( inventory . decrStackSize ( inventory . currentItem , 1 ) , false ) ; <nl> + + 	 } <nl> + } <nl> + <nl> + public void dropPlayerItem ( ItemStack itemstack ) <nl> + @ @ - 493 , 6 + 506 , 8 @ @ <nl> worldObj . entityJoinedWorld ( entityitem ) ; <nl> } <nl> <nl> @ @ - 20 , 7 + 38 , 7 @ @ <nl> public float getCurrentPlayerStrVsBlock ( Block block ) <nl> { <nl> float f = inventory . getStrVsBlock ( block ) ; <nl> - @ @ - 521 , 6 + 527 , 45 @ @ <nl> + @ @ - 521 , 6 + 536 , 45 @ @ <nl> return f1 ; <nl> } <nl> <nl> @ @ - 66 , 7 + 84 , 7 @ @ <nl> public boolean canHarvestBlock ( Block block ) <nl> { <nl> return inventory . canHarvestBlock ( block ) ; <nl> - @ @ - 718 , 7 + 763 , 26 @ @ <nl> + @ @ - 718 , 7 + 772 , 26 @ @ <nl> } <nl> <nl> protected void damageEntity ( DamageSource damagesource , int i ) <nl> @ @ - 94 , 7 + 112 , 7 @ @ <nl> if ( ! damagesource . unblockable ( ) & & func _ 35180 _ G ( ) ) <nl> { <nl> i = 1 + i > > 1 ; <nl> - @ @ - 770 , 7 + 834 , 9 @ @ <nl> + @ @ - 770 , 7 + 843 , 9 @ @ <nl> <nl> public void destroyCurrentEquippedItem ( ) <nl> { <nl> @ @ - 104 , 7 + 122 , 7 @ @ <nl> } <nl> <nl> public double getYOffset ( ) <nl> - @ @ - 896 , 6 + 962 , 10 @ @ <nl> + @ @ - 896 , 6 + 971 , 10 @ @ <nl> <nl> public EnumStatus sleepInBedAt ( int i , int j , int k ) <nl> { <nl> diff - - git a / forge / patches / minecraft _ server / net / minecraft / src / Item . java . patch b / forge / patches / minecraft _ server / net / minecraft / src / Item . java . patch <nl> index 9d03b02 . . 937d440 100644 <nl> - - - a / forge / patches / minecraft _ server / net / minecraft / src / Item . java . patch <nl> + + + b / forge / patches / minecraft _ server / net / minecraft / src / Item . java . patch <nl> @ @ - 77 , 7 + 77 , 7 @ @ <nl> public boolean hitEntity ( ItemStack itemstack , EntityLiving entityliving , EntityLiving entityliving1 ) <nl> { <nl> return false ; <nl> - @ @ - 414 , 6 + 456 , 12 @ @ <nl> + @ @ - 414 , 6 + 456 , 26 @ @ <nl> return 0 ; <nl> } <nl> <nl> @ @ - 86 , 6 + 86 , 20 @ @ <nl> + public void addCreativeItems ( ArrayList itemList ) <nl> + { 	 <nl> + } <nl> + + <nl> + + / * * <nl> + + * Called when a player drops the item into the world , <nl> + + * returning false from this will prevent the item from <nl> + + * being removed from the players inventory and spawning <nl> + + * in the world <nl> + + * <nl> + + * @ param player The player that dropped the item <nl> + + * @ param item The item stack , before the item is removed . <nl> + + * / <nl> + + public boolean onDroppedByPlayer ( ItemStack item , EntityPlayer player ) <nl> + + { <nl> + + 	 return true ; <nl> + + } <nl> + <nl> static <nl> {

TEST DIFF:
diff - - git a / patches / minecraft / net / minecraft / item / ItemBlock . java . patch b / patches / minecraft / net / minecraft / item / ItemBlock . java . patch 
 index 1da8fec . . f92205d 100644 
 - - - a / patches / minecraft / net / minecraft / item / ItemBlock . java . patch 
 + + + b / patches / minecraft / net / minecraft / item / ItemBlock . java . patch 
 @ @ - 1 , 6 + 1 , 24 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / item / ItemBlock . java 
 + + + . . / src - work / minecraft / net / minecraft / item / ItemBlock . java 
 - @ @ - 163 , 4 + 163 , 26 @ @ 
 + @ @ - 55 , 16 + 55 , 8 @ @ 
 + int i = this . getMetadata ( stack . getMetadata ( ) ) ; 
 + IBlockState iblockstate1 = this . block . onBlockPlaced ( worldIn , pos , side , hitX , hitY , hitZ , i , playerIn ) ; 
 + 
 + - if ( worldIn . setBlockState ( pos , iblockstate1 , 3 ) ) 
 + + if ( placeBlockAt ( stack , playerIn , worldIn , pos , side , hitX , hitY , hitZ , iblockstate1 ) ) 
 + { 
 + - iblockstate1 = worldIn . getBlockState ( pos ) ; 
 + - 
 + - if ( iblockstate1 . getBlock ( ) = = this . block ) 
 + - { 
 + - setTileEntityNBT ( worldIn , playerIn , pos , stack ) ; 
 + - this . block . onBlockPlacedBy ( worldIn , pos , iblockstate1 , playerIn , stack ) ; 
 + - } 
 + - 
 + worldIn . playSoundEffect ( ( double ) ( ( float ) pos . getX ( ) + 0 . 5F ) , ( double ) ( ( float ) pos . getY ( ) + 0 . 5F ) , ( double ) ( ( float ) pos . getZ ( ) + 0 . 5F ) , this . block . stepSound . getPlaceSound ( ) , ( this . block . stepSound . getVolume ( ) + 1 . 0F ) / 2 . 0F , this . block . stepSound . getFrequency ( ) * 0 . 8F ) ; 
 + - - stack . stackSize ; 
 + } 
 + @ @ - 163 , 4 + 155 , 26 @ @ 
 { 
 return this . block ; 
 } 
 @ @ - 20 , 7 + 38 , 7 @ @ 
 + IBlockState state = world . getBlockState ( pos ) ; 
 + if ( state . getBlock ( ) = = this . block ) 
 + { 
 - + setTileEntityNBT ( world , pos , stack , player ) ; 
 + + setTileEntityNBT ( world , player , pos , stack ) ; 
 + this . block . onBlockPlacedBy ( world , pos , state , player , stack ) ; 
 + } 
 + 
 diff - - git a / patches / minecraft / net / minecraft / item / ItemBow . java . patch b / patches / minecraft / net / minecraft / item / ItemBow . java . patch 
 index 9c80583 . . 8d346a3 100644 
 - - - a / patches / minecraft / net / minecraft / item / ItemBow . java . patch 
 + + + b / patches / minecraft / net / minecraft / item / ItemBow . java . patch 
 @ @ - 1 , 6 + 1 , 16 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / item / ItemBow . java 
 + + + . . / src - work / minecraft / net / minecraft / item / ItemBow . java 
 - @ @ - 105 , 6 + 105 , 9 @ @ 
 + @ @ - 28 , 6 + 28 , 9 @ @ 
 + if ( flag | | playerIn . inventory . hasItem ( Items . arrow ) ) 
 + { 
 + int i = this . getMaxItemUseDuration ( stack ) - timeLeft ; 
 + + net . minecraftforge . event . entity . player . ArrowLooseEvent event = new net . minecraftforge . event . entity . player . ArrowLooseEvent ( playerIn , stack , i ) ; 
 + + if ( net . minecraftforge . common . MinecraftForge . EVENT _ BUS . post ( event ) ) return ; 
 + + i = event . charge ; 
 + float f = ( float ) i / 20 . 0F ; 
 + f = ( f * f + f * 2 . 0F ) / 3 . 0F ; 
 + 
 + @ @ - 105 , 6 + 108 , 9 @ @ 
 
 public ItemStack onItemRightClick ( ItemStack itemStackIn , World worldIn , EntityPlayer playerIn ) 
 { 
 diff - - git a / patches / minecraft / net / minecraft / item / ItemMonsterPlacer . java . patch b / patches / minecraft / net / minecraft / item / ItemMonsterPlacer . java . patch 
 index 9d23fda . . 5372c4e 100644 
 - - - a / patches / minecraft / net / minecraft / item / ItemMonsterPlacer . java . patch 
 + + + b / patches / minecraft / net / minecraft / item / ItemMonsterPlacer . java . patch 
 @ @ - 9 , 6 + 9 , 15 @ @ 
 
 if ( s1 ! = null ) 
 { 
 + @ @ - 51 , 7 + 51 , 7 @ @ 
 + @ SideOnly ( Side . CLIENT ) 
 + public int getColorFromItemStack ( ItemStack stack , int renderPass ) 
 + { 
 + - EntityList . EntityEggInfo entitylist $ entityegginfo = ( EntityList . EntityEggInfo ) EntityList . entityEggs . get ( Integer . valueOf ( stack . getMetadata ( ) ) ) ; 
 + + EntityList . EntityEggInfo entitylist $ entityegginfo = ItemMonsterPlacer . getEggInfo ( stack ) ; 
 + return entitylist $ entityegginfo ! = null ? ( renderPass = = 0 ? entitylist $ entityegginfo . primaryColor : entitylist $ entityegginfo . secondaryColor ) : 16777215 ; 
 + } 
 + 
 @ @ - 76 , 7 + 76 , 7 @ @ 
 if ( tileentity instanceof TileEntityMobSpawner ) 
 { 
 @ @ - 36 , 7 + 45 , 38 @ @ 
 
 if ( entity ! = null ) 
 { 
 - @ @ - 209 , 5 + 209 , 28 @ @ 
 + @ @ - 172 , 19 + 172 , 29 @ @ 
 + } 
 + } 
 + 
 + + @ Deprecated / / Use string version below . 
 + public static Entity spawnCreature ( World worldIn , int entityID , double x , double y , double z ) 
 + { 
 + if ( ! EntityList . entityEggs . containsKey ( Integer . valueOf ( entityID ) ) ) 
 + { 
 + return null ; 
 + } 
 + + return spawnCreature ( worldIn , EntityList . getStringFromID ( entityID ) , x , y , z ) ; 
 + + } 
 + + 
 + + public static Entity spawnCreature ( World worldIn , String name , double x , double y , double z ) 
 + + { 
 + + if ( ! EntityList . stringToClassMapping . containsKey ( name ) ) 
 + + { 
 + + return null ; 
 + + } 
 + else 
 + { 
 + Entity entity = null ; 
 + 
 + for ( int i = 0 ; i < 1 ; + + i ) 
 + { 
 + - entity = EntityList . createEntityByID ( entityID , worldIn ) ; 
 + + entity = EntityList . createEntityByName ( name , worldIn ) ; 
 + 
 + if ( entity instanceof EntityLivingBase ) 
 + { 
 + @ @ - 209 , 5 + 219 , 28 @ @ 
 { 
 subItems . add ( new ItemStack ( itemIn , 1 , entitylist $ entityegginfo . spawnedID ) ) ; 
 } 
 diff - - git a / rejects / minecraft / net / minecraft / item / ItemBlock . java . patch . rej b / rejects / minecraft / net / minecraft / item / ItemBlock . java . patch . rej 
 deleted file mode 100644 
 index a25b089 . . 0000000 
 - - - a / rejects / minecraft / net / minecraft / item / ItemBlock . java . patch . rej 
 + + + / dev / null 
 @ @ - 1 , 45 + 0 , 0 @ @ 
 - + + + + REJECTED PATCH 1 
 - int i = this . getMetadata ( stack . getMetadata ( ) ) ; 
 - IBlockState iblockstate1 = this . block . onBlockPlaced ( worldIn , pos , side , hitX , hitY , hitZ , i , playerIn ) ; 
 - 
 - - if ( worldIn . setBlockState ( pos , iblockstate1 , 3 ) ) 
 - + if ( placeBlockAt ( stack , playerIn , worldIn , pos , side , hitX , hitY , hitZ , iblockstate1 ) ) 
 - { 
 - - iblockstate1 = worldIn . getBlockState ( pos ) ; 
 - - 
 - - if ( iblockstate1 . getBlock ( ) = = this . block ) 
 - - { 
 - - setTileEntityNBT ( worldIn , pos , stack ) ; 
 - - this . block . onBlockPlacedBy ( worldIn , pos , iblockstate1 , playerIn , stack ) ; 
 - - } 
 - - 
 - worldIn . playSoundEffect ( ( double ) ( ( float ) pos . getX ( ) + 0 . 5F ) , ( double ) ( ( float ) pos . getY ( ) + 0 . 5F ) , ( double ) ( ( float ) pos . getZ ( ) + 0 . 5F ) , this . block . stepSound . getPlaceSound ( ) , ( this . block . stepSound . getVolume ( ) + 1 . 0F ) / 2 . 0F , this . block . stepSound . getFrequency ( ) * 0 . 8F ) ; 
 - - - stack . stackSize ; 
 - } 
 - + + + + END PATCH 
 - + + + + REJECTED PATCH 2 
 - } 
 - } 
 - 
 - + @ Deprecated / / Use player sensitive version 
 - public static boolean setTileEntityNBT ( World worldIn , BlockPos pos , ItemStack stack ) 
 - { 
 - + return setTileEntityNBT ( worldIn , pos , stack , null ) ; 
 - + } 
 - + public static boolean setTileEntityNBT ( World worldIn , BlockPos pos , ItemStack stack , EntityPlayer player ) 
 - + { 
 - if ( stack . hasTagCompound ( ) & & stack . getTagCompound ( ) . hasKey ( " BlockEntityTag " , 10 ) ) 
 - { 
 - TileEntity tileentity = worldIn . getTileEntity ( pos ) ; 
 - 
 - if ( tileentity ! = null ) 
 - { 
 - + / / Forge : Fixes MC - 75630 - Exploit with signs and command blocks 
 - + final net . minecraft . server . MinecraftServer server = net . minecraft . server . MinecraftServer . getServer ( ) ; 
 - + if ( ! worldIn . isRemote & & tileentity . restrictNBTCopy ( ) & & 
 - + ( server = = null | | ! server . getConfigurationManager ( ) . canSendCommands ( player . getGameProfile ( ) ) ) ) 
 - + return false ; 
 - NBTTagCompound nbttagcompound = new NBTTagCompound ( ) ; 
 - NBTTagCompound nbttagcompound1 = ( NBTTagCompound ) nbttagcompound . copy ( ) ; 
 - tileentity . writeToNBT ( nbttagcompound ) ; 
 - + + + + END PATCH 
 diff - - git a / rejects / minecraft / net / minecraft / item / ItemBow . java . patch . rej b / rejects / minecraft / net / minecraft / item / ItemBow . java . patch . rej 
 deleted file mode 100644 
 index 4da43f9 . . 0000000 
 - - - a / rejects / minecraft / net / minecraft / item / ItemBow . java . patch . rej 
 + + + / dev / null 
 @ @ - 1 , 18 + 0 , 0 @ @ 
 - + + + + REJECTED PATCH 1 
 - 
 - public void onPlayerStoppedUsing ( ItemStack stack , World worldIn , EntityPlayer playerIn , int timeLeft ) 
 - { 
 - + int j = this . getMaxItemUseDuration ( stack ) - timeLeft ; 
 - + net . minecraftforge . event . entity . player . ArrowLooseEvent event = new net . minecraftforge . event . entity . player . ArrowLooseEvent ( playerIn , stack , j ) ; 
 - + if ( net . minecraftforge . common . MinecraftForge . EVENT _ BUS . post ( event ) ) return ; 
 - + j = event . charge ; 
 - + 
 - boolean flag = playerIn . capabilities . isCreativeMode | | EnchantmentHelper . getEnchantmentLevel ( Enchantment . infinity . effectId , stack ) > 0 ; 
 - 
 - if ( flag | | playerIn . inventory . hasItem ( Items . arrow ) ) 
 - { 
 - - int j = this . getMaxItemUseDuration ( stack ) - timeLeft ; 
 - float f = ( float ) j / 20 . 0F ; 
 - f = ( f * f + f * 2 . 0F ) / 3 . 0F ; 
 - 
 - + + + + END PATCH 
 diff - - git a / rejects / minecraft / net / minecraft / item / ItemMonsterPlacer . java . patch . rej b / rejects / minecraft / net / minecraft / item / ItemMonsterPlacer . java . patch . rej 
 deleted file mode 100644 
 index b28b8be . . 0000000 
 - - - a / rejects / minecraft / net / minecraft / item / ItemMonsterPlacer . java . patch . rej 
 + + + / dev / null 
 @ @ - 1 , 42 + 0 , 0 @ @ 
 - + + + + REJECTED PATCH 2 
 - @ SideOnly ( Side . CLIENT ) 
 - public int getColorFromItemStack ( ItemStack stack , int renderPass ) 
 - { 
 - - EntityList . EntityEggInfo entityegginfo = ( EntityList . EntityEggInfo ) EntityList . entityEggs . get ( Integer . valueOf ( stack . getMetadata ( ) ) ) ; 
 - + EntityList . EntityEggInfo entityegginfo = ItemMonsterPlacer . getEggInfo ( stack ) ; 
 - return entityegginfo ! = null ? ( renderPass = = 0 ? entityegginfo . primaryColor : entityegginfo . secondaryColor ) : 16777215 ; 
 - } 
 - 
 - + + + + END PATCH 
 - + + + + REJECTED PATCH 6 
 - } 
 - } 
 - 
 - + @ Deprecated / / Use string version below . 
 - public static Entity spawnCreature ( World worldIn , int entityID , double x , double y , double z ) 
 - { 
 - if ( ! EntityList . entityEggs . containsKey ( Integer . valueOf ( entityID ) ) ) 
 - { 
 - return null ; 
 - } 
 - + return spawnCreature ( worldIn , EntityList . getStringFromID ( entityID ) , x , y , z ) ; 
 - + } 
 - + 
 - + public static Entity spawnCreature ( World worldIn , String name , double x , double y , double z ) 
 - + { 
 - + if ( ! EntityList . stringToClassMapping . containsKey ( name ) ) 
 - + { 
 - + return null ; 
 - + } 
 - else 
 - { 
 - Entity entity = null ; 
 - 
 - for ( int j = 0 ; j < 1 ; + + j ) 
 - { 
 - - entity = EntityList . createEntityByID ( entityID , worldIn ) ; 
 - + entity = EntityList . createEntityByName ( name , worldIn ) ; 
 - 
 - if ( entity instanceof EntityLivingBase ) 
 - { 
 - + + + + END PATCH 
 diff - - git a / rejects / minecraft / net / minecraft / item / ItemReed . java . patch . rej b / rejects / minecraft / net / minecraft / item / ItemReed . java . patch . rej 
 deleted file mode 100644 
 index 8281b98 . . 0000000 
 - - - a / rejects / minecraft / net / minecraft / item / ItemReed . java . patch . rej 
 + + + / dev / null 
 @ @ - 1 , 10 + 0 , 0 @ @ 
 - + + + + REJECTED PATCH 1 
 - 
 - if ( iblockstate1 . getBlock ( ) = = this . block ) 
 - { 
 - - ItemBlock . setTileEntityNBT ( worldIn , pos , stack ) ; 
 - + ItemBlock . setTileEntityNBT ( worldIn , pos , stack , playerIn ) ; 
 - iblockstate1 . getBlock ( ) . onBlockPlacedBy ( worldIn , pos , iblockstate1 , playerIn , stack ) ; 
 - } 
 - 
 - + + + + END PATCH 
 diff - - git a / rejects / minecraft / net / minecraft / item / ItemSign . java . patch . rej b / rejects / minecraft / net / minecraft / item / ItemSign . java . patch . rej 
 deleted file mode 100644 
 index 790c344 . . 0000000 
 - - - a / rejects / minecraft / net / minecraft / item / ItemSign . java . patch . rej 
 + + + / dev / null 
 @ @ - 1 , 10 + 0 , 0 @ @ 
 - + + + + REJECTED PATCH 1 
 - - - stack . stackSize ; 
 - TileEntity tileentity = worldIn . getTileEntity ( pos ) ; 
 - 
 - - if ( tileentity instanceof TileEntitySign & & ! ItemBlock . setTileEntityNBT ( worldIn , pos , stack ) ) 
 - + if ( tileentity instanceof TileEntitySign & & ! ItemBlock . setTileEntityNBT ( worldIn , pos , stack , playerIn ) ) 
 - { 
 - playerIn . openEditSign ( ( TileEntitySign ) tileentity ) ; 
 - } 
 - + + + + END PATCH

NEAREST DIFF:
diff - - git a / forge / patches / minecraft / net / minecraft / src / EntityPlayer . java . patch b / forge / patches / minecraft / net / minecraft / src / EntityPlayer . java . patch 
 index 3e10b58 . . c79b15d 100644 
 - - - a / forge / patches / minecraft / net / minecraft / src / EntityPlayer . java . patch 
 + + + b / forge / patches / minecraft / net / minecraft / src / EntityPlayer . java . patch 
 @ @ - 11 , 7 + 11 , 25 @ @ 
 import java . util . * ; 
 
 / / Referenced classes of package net . minecraft . src : 
 - @ @ - 548 , 6 + 552 , 8 @ @ 
 + @ @ - 502 , 7 + 506 , 16 @ @ 
 + 
 + public void dropCurrentItem ( ) 
 + { 
 + - dropPlayerItemWithRandomChoice ( inventory . decrStackSize ( inventory . currentItem , 1 ) , false ) ; 
 + + 	 ItemStack stack = inventory . getCurrentItem ( ) ; 
 + + 	 if ( stack = = null ) 
 + + 	 { 
 + + 	 	 return ; 
 + + 	 } 	 
 + + 	 
 + + 	 if ( stack . getItem ( ) . onDroppedByPlayer ( stack , this ) ) 
 + + 	 { 
 + + dropPlayerItemWithRandomChoice ( inventory . decrStackSize ( inventory . currentItem , 1 ) , false ) ; 
 + + 	 } 
 + } 
 + 
 + public void dropPlayerItem ( ItemStack itemstack ) 
 + @ @ - 548 , 6 + 561 , 8 @ @ 
 worldObj . entityJoinedWorld ( entityitem ) ; 
 } 
 
 @ @ - 20 , 7 + 38 , 7 @ @ 
 public float getCurrentPlayerStrVsBlock ( Block block ) 
 { 
 float f = inventory . getStrVsBlock ( block ) ; 
 - @ @ - 576 , 6 + 582 , 45 @ @ 
 + @ @ - 576 , 6 + 591 , 45 @ @ 
 return f1 ; 
 } 
 
 @ @ - 66 , 7 + 84 , 7 @ @ 
 public boolean canHarvestBlock ( Block block ) 
 { 
 return inventory . canHarvestBlock ( block ) ; 
 - @ @ - 774 , 6 + 819 , 25 @ @ 
 + @ @ - 774 , 6 + 828 , 25 @ @ 
 
 protected void damageEntity ( DamageSource damagesource , int i ) 
 { 
 @ @ - 92 , 7 + 110 , 7 @ @ 
 if ( ! damagesource . unblockable ( ) & & func _ 35162 _ ad ( ) ) 
 { 
 i = 1 + i > > 1 ; 
 - @ @ - 825 , 7 + 889 , 9 @ @ 
 + @ @ - 825 , 7 + 898 , 9 @ @ 
 
 public void destroyCurrentEquippedItem ( ) 
 { 
 @ @ - 102 , 7 + 120 , 7 @ @ 
 } 
 
 public double getYOffset ( ) 
 - @ @ - 957 , 6 + 1023 , 10 @ @ 
 + @ @ - 957 , 6 + 1032 , 10 @ @ 
 
 public EnumStatus sleepInBedAt ( int i , int j , int k ) 
 { 
 diff - - git a / forge / patches / minecraft / net / minecraft / src / Item . java . patch b / forge / patches / minecraft / net / minecraft / src / Item . java . patch 
 index fe29396 . . 2277b4b 100644 
 - - - a / forge / patches / minecraft / net / minecraft / src / Item . java . patch 
 + + + b / forge / patches / minecraft / net / minecraft / src / Item . java . patch 
 @ @ - 77 , 7 + 77 , 7 @ @ 
 public boolean hitEntity ( ItemStack itemstack , EntityLiving entityliving , EntityLiving entityliving1 ) 
 { 
 return false ; 
 - @ @ - 473 , 6 + 515 , 18 @ @ 
 + @ @ - 473 , 6 + 515 , 32 @ @ 
 { 
 return 0 ; 
 } 
 @ @ - 93 , 6 + 93 , 20 @ @ 
 + 	 	 	 itemList . add ( new ItemStack ( this , 1 ) ) ; 
 + 	 } 
 + } 
 + + 
 + + / * * 
 + + * Called when a player drops the item into the world , 
 + + * returning false from this will prevent the item from 
 + + * being removed from the players inventory and spawning 
 + + * in the world 
 + + * 
 + + * @ param player The player that dropped the item 
 + + * @ param item The item stack , before the item is removed . 
 + + * / 
 + + public boolean onDroppedByPlayer ( ItemStack item , EntityPlayer player ) 
 + + { 
 + + 	 return true ; 
 + + } 
 
 static 
 { 
 diff - - git a / forge / patches / minecraft _ server / net / minecraft / src / EntityPlayer . java . patch b / forge / patches / minecraft _ server / net / minecraft / src / EntityPlayer . java . patch 
 index 65619da . . 55399e4 100644 
 - - - a / forge / patches / minecraft _ server / net / minecraft / src / EntityPlayer . java . patch 
 + + + b / forge / patches / minecraft _ server / net / minecraft / src / EntityPlayer . java . patch 
 @ @ - 11 , 7 + 11 , 25 @ @ 
 / / Referenced classes of package net . minecraft . src : 
 / / EntityLiving , InventoryPlayer , FoodStats , PlayerCapabilities , 
 / / ContainerPlayer , World , ChunkCoordinates , DataWatcher , 
 - @ @ - 493 , 6 + 497 , 8 @ @ 
 + @ @ - 447 , 7 + 451 , 16 @ @ 
 + 
 + public void dropCurrentItem ( ) 
 + { 
 + - dropPlayerItemWithRandomChoice ( inventory . decrStackSize ( inventory . currentItem , 1 ) , false ) ; 
 + + 	 ItemStack stack = inventory . getCurrentItem ( ) ; 
 + + 	 if ( stack = = null ) 
 + + 	 { 
 + + 	 	 return ; 
 + + 	 } 	 
 + + 	 
 + + 	 if ( stack . getItem ( ) . onDroppedByPlayer ( stack , this ) ) 
 + + 	 { 
 + + dropPlayerItemWithRandomChoice ( inventory . decrStackSize ( inventory . currentItem , 1 ) , false ) ; 
 + + 	 } 
 + } 
 + 
 + public void dropPlayerItem ( ItemStack itemstack ) 
 + @ @ - 493 , 6 + 506 , 8 @ @ 
 worldObj . entityJoinedWorld ( entityitem ) ; 
 } 
 
 @ @ - 20 , 7 + 38 , 7 @ @ 
 public float getCurrentPlayerStrVsBlock ( Block block ) 
 { 
 float f = inventory . getStrVsBlock ( block ) ; 
 - @ @ - 521 , 6 + 527 , 45 @ @ 
 + @ @ - 521 , 6 + 536 , 45 @ @ 
 return f1 ; 
 } 
 
 @ @ - 66 , 7 + 84 , 7 @ @ 
 public boolean canHarvestBlock ( Block block ) 
 { 
 return inventory . canHarvestBlock ( block ) ; 
 - @ @ - 718 , 7 + 763 , 26 @ @ 
 + @ @ - 718 , 7 + 772 , 26 @ @ 
 } 
 
 protected void damageEntity ( DamageSource damagesource , int i ) 
 @ @ - 94 , 7 + 112 , 7 @ @ 
 if ( ! damagesource . unblockable ( ) & & func _ 35180 _ G ( ) ) 
 { 
 i = 1 + i > > 1 ; 
 - @ @ - 770 , 7 + 834 , 9 @ @ 
 + @ @ - 770 , 7 + 843 , 9 @ @ 
 
 public void destroyCurrentEquippedItem ( ) 
 { 
 @ @ - 104 , 7 + 122 , 7 @ @ 
 } 
 
 public double getYOffset ( ) 
 - @ @ - 896 , 6 + 962 , 10 @ @ 
 + @ @ - 896 , 6 + 971 , 10 @ @ 
 
 public EnumStatus sleepInBedAt ( int i , int j , int k ) 
 { 
 diff - - git a / forge / patches / minecraft _ server / net / minecraft / src / Item . java . patch b / forge / patches / minecraft _ server / net / minecraft / src / Item . java . patch 
 index 9d03b02 . . 937d440 100644 
 - - - a / forge / patches / minecraft _ server / net / minecraft / src / Item . java . patch 
 + + + b / forge / patches / minecraft _ server / net / minecraft / src / Item . java . patch 
 @ @ - 77 , 7 + 77 , 7 @ @ 
 public boolean hitEntity ( ItemStack itemstack , EntityLiving entityliving , EntityLiving entityliving1 ) 
 { 
 return false ; 
 - @ @ - 414 , 6 + 456 , 12 @ @ 
 + @ @ - 414 , 6 + 456 , 26 @ @ 
 return 0 ; 
 } 
 
 @ @ - 86 , 6 + 86 , 20 @ @ 
 + public void addCreativeItems ( ArrayList itemList ) 
 + { 	 
 + } 
 + + 
 + + / * * 
 + + * Called when a player drops the item into the world , 
 + + * returning false from this will prevent the item from 
 + + * being removed from the players inventory and spawning 
 + + * in the world 
 + + * 
 + + * @ param player The player that dropped the item 
 + + * @ param item The item stack , before the item is removed . 
 + + * / 
 + + public boolean onDroppedByPlayer ( ItemStack item , EntityPlayer player ) 
 + + { 
 + + 	 return true ; 
 + + } 
 + 
 static 
 {
