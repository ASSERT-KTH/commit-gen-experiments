BLEU SCORE: 0.01302622121748111

TEST MSG: Fix MC - 117075 lag spike when unloading many tile entities
GENERATED MSG: Test getLightOpacity ( world , pos ) in World as well as the chunk .

TEST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / world / World . java . patch b / patches / minecraft / net / minecraft / world / World . java . patch <nl> index 402f765 . . 1844468 100644 <nl> - - - a / patches / minecraft / net / minecraft / world / World . java . patch <nl> + + + b / patches / minecraft / net / minecraft / world / World . java . patch <nl> @ @ - 17 , 20 + 17 , 21 @ @ <nl> private int field _ 181546 _ a = 63 ; <nl> protected boolean field _ 72999 _ e ; <nl> public final List < Entity > field _ 72996 _ f = Lists . < Entity > newArrayList ( ) ; <nl> - @ @ - 108 , 6 + 115 , 12 @ @ <nl> + @ @ - 108 , 6 + 115 , 13 @ @ <nl> private final WorldBorder field _ 175728 _ M ; <nl> int [ ] field _ 72994 _ J ; <nl> <nl> + public boolean restoringBlockSnapshots = false ; <nl> + public boolean captureBlockSnapshots = false ; <nl> + public java . util . ArrayList < net . minecraftforge . common . util . BlockSnapshot > capturedBlockSnapshots = new java . util . ArrayList < net . minecraftforge . common . util . BlockSnapshot > ( ) ; <nl> + + private it . unimi . dsi . fastutil . longs . LongCollection tileEntitiesChunkToBeRemoved = new it . unimi . dsi . fastutil . longs . LongOpenHashSet ( ) ; <nl> + private net . minecraftforge . common . capabilities . CapabilityDispatcher capabilities ; <nl> + private net . minecraftforge . common . util . WorldCapabilityData capabilityData ; <nl> + <nl> protected World ( ISaveHandler p _ i45749 _ 1 _ , WorldInfo p _ i45749 _ 2 _ , WorldProvider p _ i45749 _ 3 _ , Profiler p _ i45749 _ 4 _ , boolean p _ i45749 _ 5 _ ) <nl> { <nl> this . field _ 73021 _ x = Lists . newArrayList ( this . field _ 184152 _ t ) ; <nl> - @ @ - 122 , 6 + 135 , 7 @ @ <nl> + @ @ - 122 , 6 + 136 , 7 @ @ <nl> this . field _ 73011 _ w = p _ i45749 _ 3 _ ; <nl> this . field _ 72995 _ K = p _ i45749 _ 5 _ ; <nl> this . field _ 175728 _ M = p _ i45749 _ 3 _ . func _ 177501 _ r ( ) ; <nl> @ @ - 38 , 7 + 39 , 7 @ @ <nl> } <nl> <nl> public World func _ 175643 _ b ( ) <nl> - @ @ - 131 , 6 + 145 , 11 @ @ <nl> + @ @ - 131 , 6 + 146 , 11 @ @ <nl> <nl> public Biome func _ 180494 _ b ( final BlockPos p _ 180494 _ 1 _ ) <nl> { <nl> @ @ - 50 , 7 + 51 , 7 @ @ <nl> if ( this . func _ 175667 _ e ( p _ 180494 _ 1 _ ) ) <nl> { <nl> Chunk chunk = this . func _ 175726 _ f ( p _ 180494 _ 1 _ ) ; <nl> - @ @ - 207 , 7 + 226 , 7 @ @ <nl> + @ @ - 207 , 7 + 227 , 7 @ @ <nl> <nl> public boolean func _ 175623 _ d ( BlockPos p _ 175623 _ 1 _ ) <nl> { <nl> @ @ - 59 , 7 + 60 , 7 @ @ <nl> } <nl> <nl> public boolean func _ 175667 _ e ( BlockPos p _ 175667 _ 1 _ ) <nl> - @ @ - 308 , 24 + 327 , 50 @ @ <nl> + @ @ - 308 , 24 + 328 , 50 @ @ <nl> else <nl> { <nl> Chunk chunk = this . func _ 175726 _ f ( p _ 180501 _ 1 _ ) ; <nl> @ @ - 113 , 7 + 114 , 7 @ @ <nl> this . func _ 184138 _ a ( p _ 180501 _ 1 _ , iblockstate , p _ 180501 _ 2 _ , p _ 180501 _ 3 _ ) ; <nl> } <nl> <nl> - @ @ - 342 , 8 + 387 , 6 @ @ <nl> + @ @ - 342 , 8 + 388 , 6 @ @ <nl> { <nl> this . func _ 190522 _ c ( p _ 180501 _ 1 _ , block ) ; <nl> } <nl> @ @ - 122 , 7 + 123 , 7 @ @ <nl> } <nl> } <nl> } <nl> - @ @ - 358 , 7 + 401 , 7 @ @ <nl> + @ @ - 358 , 7 + 402 , 7 @ @ <nl> IBlockState iblockstate = this . func _ 180495 _ p ( p _ 175655 _ 1 _ ) ; <nl> Block block = iblockstate . func _ 177230 _ c ( ) ; <nl> <nl> @ @ - 131 , 7 + 132 , 7 @ @ <nl> { <nl> return false ; <nl> } <nl> - @ @ - 441 , 6 + 484 , 9 @ @ <nl> + @ @ - 441 , 6 + 485 , 9 @ @ <nl> <nl> public void func _ 175685 _ c ( BlockPos p _ 175685 _ 1 _ , Block p _ 175685 _ 2 _ , boolean p _ 175685 _ 3 _ ) <nl> { <nl> @ @ - 141 , 7 + 142 , 7 @ @ <nl> this . func _ 190524 _ a ( p _ 175685 _ 1 _ . func _ 177976 _ e ( ) , p _ 175685 _ 2 _ , p _ 175685 _ 1 _ ) ; <nl> this . func _ 190524 _ a ( p _ 175685 _ 1 _ . func _ 177974 _ f ( ) , p _ 175685 _ 2 _ , p _ 175685 _ 1 _ ) ; <nl> this . func _ 190524 _ a ( p _ 175685 _ 1 _ . func _ 177977 _ b ( ) , p _ 175685 _ 2 _ , p _ 175685 _ 1 _ ) ; <nl> - @ @ - 456 , 6 + 502 , 11 @ @ <nl> + @ @ - 456 , 6 + 503 , 11 @ @ <nl> <nl> public void func _ 175695 _ a ( BlockPos p _ 175695 _ 1 _ , Block p _ 175695 _ 2 _ , EnumFacing p _ 175695 _ 3 _ ) <nl> { <nl> @ @ - 153 , 7 + 154 , 7 @ @ <nl> if ( p _ 175695 _ 3 _ ! = EnumFacing . WEST ) <nl> { <nl> this . func _ 190524 _ a ( p _ 175695 _ 1 _ . func _ 177976 _ e ( ) , p _ 175695 _ 2 _ , p _ 175695 _ 1 _ ) ; <nl> - @ @ - 527 , 11 + 578 , 11 @ @ <nl> + @ @ - 527 , 11 + 579 , 11 @ @ <nl> { <nl> IBlockState iblockstate = this . func _ 180495 _ p ( p _ 190529 _ 1 _ ) ; <nl> <nl> @ @ - 167 , 7 + 168 , 7 @ @ <nl> } <nl> catch ( Throwable throwable ) <nl> { <nl> - @ @ - 588 , 7 + 639 , 7 @ @ <nl> + @ @ - 588 , 7 + 640 , 7 @ @ <nl> { <nl> IBlockState iblockstate = this . func _ 180495 _ p ( blockpos1 ) ; <nl> <nl> @ @ - 176 , 7 + 177 , 7 @ @ <nl> { <nl> return false ; <nl> } <nl> - @ @ - 862 , 7 + 913 , 7 @ @ <nl> + @ @ - 862 , 7 + 914 , 7 @ @ <nl> <nl> public boolean func _ 72935 _ r ( ) <nl> { <nl> @ @ - 185 , 7 + 186 , 7 @ @ <nl> } <nl> <nl> @ Nullable <nl> - @ @ - 1065 , 6 + 1116 , 13 @ @ <nl> + @ @ - 1065 , 6 + 1117 , 13 @ @ <nl> <nl> public void func _ 184148 _ a ( @ Nullable EntityPlayer p _ 184148 _ 1 _ , double p _ 184148 _ 2 _ , double p _ 184148 _ 4 _ , double p _ 184148 _ 6 _ , SoundEvent p _ 184148 _ 8 _ , SoundCategory p _ 184148 _ 9 _ , float p _ 184148 _ 10 _ , float p _ 184148 _ 11 _ ) <nl> { <nl> @ @ - 199 , 7 + 200 , 7 @ @ <nl> for ( int i = 0 ; i < this . field _ 73021 _ x . size ( ) ; + + i ) <nl> { <nl> ( ( IWorldEventListener ) this . field _ 73021 _ x . get ( i ) ) . func _ 184375 _ a ( p _ 184148 _ 1 _ , p _ 184148 _ 8 _ , p _ 184148 _ 9 _ , p _ 184148 _ 2 _ , p _ 184148 _ 4 _ , p _ 184148 _ 6 _ , p _ 184148 _ 10 _ , p _ 184148 _ 11 _ ) ; <nl> - @ @ - 1118 , 6 + 1176 , 9 @ @ <nl> + @ @ - 1118 , 6 + 1177 , 9 @ @ <nl> <nl> public boolean func _ 72838 _ d ( Entity p _ 72838 _ 1 _ ) <nl> { <nl> @ @ - 209 , 7 + 210 , 7 @ @ <nl> int i = MathHelper . func _ 76128 _ c ( p _ 72838 _ 1 _ . field _ 70165 _ t / 16 . 0D ) ; <nl> int j = MathHelper . func _ 76128 _ c ( p _ 72838 _ 1 _ . field _ 70161 _ v / 16 . 0D ) ; <nl> boolean flag = p _ 72838 _ 1 _ . field _ 98038 _ p ; <nl> - @ @ - 1140 , 6 + 1201 , 8 @ @ <nl> + @ @ - 1140 , 6 + 1202 , 8 @ @ <nl> this . func _ 72854 _ c ( ) ; <nl> } <nl> <nl> @ @ - 218 , 7 + 219 , 7 @ @ <nl> this . func _ 72964 _ e ( i , j ) . func _ 76612 _ a ( p _ 72838 _ 1 _ ) ; <nl> this . field _ 72996 _ f . add ( p _ 72838 _ 1 _ ) ; <nl> this . func _ 72923 _ a ( p _ 72838 _ 1 _ ) ; <nl> - @ @ - 1268 , 6 + 1331 , 7 @ @ <nl> + @ @ - 1268 , 6 + 1332 , 7 @ @ <nl> } <nl> <nl> iblockstate1 . func _ 185908 _ a ( this , blockpos $ pooledmutableblockpos , p _ 191504 _ 2 _ , p _ 191504 _ 4 _ , p _ 191504 _ 1 _ , false ) ; <nl> @ @ - 226 , 7 + 227 , 7 @ @ <nl> <nl> if ( p _ 191504 _ 3 _ & & ! p _ 191504 _ 4 _ . isEmpty ( ) ) <nl> { <nl> - @ @ - 1319 , 11 + 1383 , 10 @ @ <nl> + @ @ - 1319 , 11 + 1384 , 10 @ @ <nl> } <nl> } <nl> } <nl> @ @ - 239 , 7 + 240 , 7 @ @ <nl> public void func _ 72848 _ b ( IWorldEventListener p _ 72848 _ 1 _ ) <nl> { <nl> this . field _ 73021 _ x . remove ( p _ 72848 _ 1 _ ) ; <nl> - @ @ - 1361 , 19 + 1424 , 38 @ @ <nl> + @ @ - 1361 , 19 + 1425 , 38 @ @ <nl> <nl> public int func _ 72967 _ a ( float p _ 72967 _ 1 _ ) <nl> { <nl> @ @ - 280 , 7 + 281 , 7 @ @ <nl> float f = this . func _ 72826 _ c ( p _ 72971 _ 1 _ ) ; <nl> float f1 = 1 . 0F - ( MathHelper . func _ 76134 _ b ( f * ( ( float ) Math . PI * 2F ) ) * 2 . 0F + 0 . 2F ) ; <nl> f1 = MathHelper . func _ 76131 _ a ( f1 , 0 . 0F , 1 . 0F ) ; <nl> - @ @ - 1386 , 6 + 1468 , 12 @ @ <nl> + @ @ - 1386 , 6 + 1469 , 12 @ @ <nl> @ SideOnly ( Side . CLIENT ) <nl> public Vec3d func _ 72833 _ a ( Entity p _ 72833 _ 1 _ , float p _ 72833 _ 2 _ ) <nl> { <nl> @ @ - 293 , 7 + 294 , 7 @ @ <nl> float f = this . func _ 72826 _ c ( p _ 72833 _ 2 _ ) ; <nl> float f1 = MathHelper . func _ 76134 _ b ( f * ( ( float ) Math . PI * 2F ) ) * 2 . 0F + 0 . 5F ; <nl> f1 = MathHelper . func _ 76131 _ a ( f1 , 0 . 0F , 1 . 0F ) ; <nl> - @ @ - 1393 , 9 + 1481 , 7 @ @ <nl> + @ @ - 1393 , 9 + 1482 , 7 @ @ <nl> int j = MathHelper . func _ 76128 _ c ( p _ 72833 _ 1 _ . field _ 70163 _ u ) ; <nl> int k = MathHelper . func _ 76128 _ c ( p _ 72833 _ 1 _ . field _ 70161 _ v ) ; <nl> BlockPos blockpos = new BlockPos ( i , j , k ) ; <nl> @ @ - 304 , 7 + 305 , 7 @ @ <nl> float f3 = ( float ) ( l > > 16 & 255 ) / 255 . 0F ; <nl> float f4 = ( float ) ( l > > 8 & 255 ) / 255 . 0F ; <nl> float f5 = ( float ) ( l & 255 ) / 255 . 0F ; <nl> - @ @ - 1444 , 20 + 1530 , 25 @ @ <nl> + @ @ - 1444 , 20 + 1531 , 25 @ @ <nl> <nl> public float func _ 72826 _ c ( float p _ 72826 _ 1 _ ) <nl> { <nl> @ @ - 333 , 7 + 334 , 7 @ @ <nl> public float func _ 72929 _ e ( float p _ 72929 _ 1 _ ) <nl> { <nl> float f = this . func _ 72826 _ c ( p _ 72929 _ 1 _ ) ; <nl> - @ @ - 1467 , 6 + 1558 , 12 @ @ <nl> + @ @ - 1467 , 6 + 1559 , 12 @ @ <nl> @ SideOnly ( Side . CLIENT ) <nl> public Vec3d func _ 72824 _ f ( float p _ 72824 _ 1 _ ) <nl> { <nl> @ @ - 346 , 7 + 347 , 7 @ @ <nl> float f = this . func _ 72826 _ c ( p _ 72824 _ 1 _ ) ; <nl> float f1 = MathHelper . func _ 76134 _ b ( f * ( ( float ) Math . PI * 2F ) ) * 2 . 0F + 0 . 5F ; <nl> f1 = MathHelper . func _ 76131 _ a ( f1 , 0 . 0F , 1 . 0F ) ; <nl> - @ @ - 1522 , 9 + 1619 , 9 @ @ <nl> + @ @ - 1522 , 9 + 1620 , 9 @ @ <nl> for ( blockpos = new BlockPos ( p _ 175672 _ 1 _ . func _ 177958 _ n ( ) , chunk . func _ 76625 _ h ( ) + 16 , p _ 175672 _ 1 _ . func _ 177952 _ p ( ) ) ; blockpos . func _ 177956 _ o ( ) > = 0 ; blockpos = blockpos1 ) <nl> { <nl> blockpos1 = blockpos . func _ 177977 _ b ( ) ; <nl> @ @ - 358 , 7 + 359 , 7 @ @ <nl> { <nl> break ; <nl> } <nl> - @ @ - 1536 , 6 + 1633 , 12 @ @ <nl> + @ @ - 1536 , 6 + 1634 , 12 @ @ <nl> @ SideOnly ( Side . CLIENT ) <nl> public float func _ 72880 _ h ( float p _ 72880 _ 1 _ ) <nl> { <nl> @ @ - 371 , 7 + 372 , 7 @ @ <nl> float f = this . func _ 72826 _ c ( p _ 72880 _ 1 _ ) ; <nl> float f1 = 1 . 0F - ( MathHelper . func _ 76134 _ b ( f * ( ( float ) Math . PI * 2F ) ) * 2 . 0F + 0 . 25F ) ; <nl> f1 = MathHelper . func _ 76131 _ a ( f1 , 0 . 0F , 1 . 0F ) ; <nl> - @ @ - 1570 , 6 + 1673 , 7 @ @ <nl> + @ @ - 1570 , 6 + 1674 , 7 @ @ <nl> <nl> try <nl> { <nl> @ @ - 379 , 7 + 380 , 7 @ @ <nl> + + entity . field _ 70173 _ aa ; <nl> entity . func _ 70071 _ h _ ( ) ; <nl> } <nl> - @ @ - 1587 , 6 + 1691 , 12 @ @ <nl> + @ @ - 1587 , 6 + 1692 , 12 @ @ <nl> entity . func _ 85029 _ a ( crashreportcategory ) ; <nl> } <nl> <nl> @ @ - 392 , 7 + 393 , 7 @ @ <nl> throw new ReportedException ( crashreport ) ; <nl> } <nl> <nl> - @ @ - 1648 , 6 + 1758 , 12 @ @ <nl> + @ @ - 1648 , 6 + 1759 , 12 @ @ <nl> CrashReport crashreport1 = CrashReport . func _ 85055 _ a ( throwable1 , " Ticking entity " ) ; <nl> CrashReportCategory crashreportcategory1 = crashreport1 . func _ 85058 _ a ( " Entity being ticked " ) ; <nl> entity2 . func _ 85029 _ a ( crashreportcategory1 ) ; <nl> @ @ - 405 , 7 + 406 , 7 @ @ <nl> throw new ReportedException ( crashreport1 ) ; <nl> } <nl> } <nl> - @ @ - 1684 , 7 + 1800 , 7 @ @ <nl> + @ @ - 1684 , 7 + 1801 , 7 @ @ <nl> { <nl> BlockPos blockpos = tileentity . func _ 174877 _ v ( ) ; <nl> <nl> @ @ - 414 , 7 + 415 , 7 @ @ <nl> { <nl> try <nl> { <nl> - @ @ - 1700 , 6 + 1816 , 13 @ @ <nl> + @ @ - 1700 , 6 + 1817 , 13 @ @ <nl> CrashReport crashreport2 = CrashReport . func _ 85055 _ a ( throwable , " Ticking block entity " ) ; <nl> CrashReportCategory crashreportcategory2 = crashreport2 . func _ 85058 _ a ( " Block entity being ticked " ) ; <nl> tileentity . func _ 145828 _ a ( crashreportcategory2 ) ; <nl> @ @ - 428 , 7 + 429 , 7 @ @ <nl> throw new ReportedException ( crashreport2 ) ; <nl> } <nl> } <nl> - @ @ - 1712 , 20 + 1835 , 28 @ @ <nl> + @ @ - 1712 , 20 + 1836 , 29 @ @ <nl> <nl> if ( this . func _ 175667 _ e ( tileentity . func _ 174877 _ v ( ) ) ) <nl> { <nl> @ @ - 455 , 12 + 456 , 13 @ @ <nl> this . field _ 147483 _ b . clear ( ) ; <nl> } <nl> <nl> + + this . removeTileEntitiesForRemovedChunks ( ) ; <nl> + this . field _ 147481 _ N = false ; / / FML Move below remove to prevent CMEs <nl> + <nl> this . field _ 72984 _ F . func _ 76318 _ c ( " pendingBlockEntities " ) ; <nl> <nl> if ( ! this . field _ 147484 _ a . isEmpty ( ) ) <nl> - @ @ - 1764 , 12 + 1895 , 18 @ @ <nl> + @ @ - 1764 , 12 + 1897 , 18 @ @ <nl> <nl> public boolean func _ 175700 _ a ( TileEntity p _ 175700 _ 1 _ ) <nl> { <nl> @ @ - 479 , 7 + 481 , 7 @ @ <nl> <nl> if ( this . field _ 72995 _ K ) <nl> { <nl> - @ @ - 1785 , 6 + 1922 , 11 @ @ <nl> + @ @ - 1785 , 6 + 1924 , 11 @ @ <nl> { <nl> if ( this . field _ 147481 _ N ) <nl> { <nl> @ @ - 491 , 7 + 493 , 7 @ @ <nl> this . field _ 147484 _ a . addAll ( p _ 147448 _ 1 _ ) ; <nl> } <nl> else <nl> - @ @ - 1807 , 9 + 1949 , 13 @ @ <nl> + @ @ - 1807 , 9 + 1951 , 13 @ @ <nl> { <nl> int j2 = MathHelper . func _ 76128 _ c ( p _ 72866 _ 1 _ . field _ 70165 _ t ) ; <nl> int k2 = MathHelper . func _ 76128 _ c ( p _ 72866 _ 1 _ . field _ 70161 _ v ) ; <nl> @ @ - 507 , 7 + 509 , 7 @ @ <nl> { <nl> return ; <nl> } <nl> - @ @ - 1831 , 6 + 1977 , 7 @ @ <nl> + @ @ - 1831 , 6 + 1979 , 7 @ @ <nl> } <nl> else <nl> { <nl> @ @ - 515 , 7 + 517 , 7 @ @ <nl> p _ 72866 _ 1 _ . func _ 70071 _ h _ ( ) ; <nl> } <nl> } <nl> - @ @ - 2011 , 6 + 2158 , 11 @ @ <nl> + @ @ - 2011 , 6 + 2160 , 11 @ @ <nl> blockpos $ pooledmutableblockpos . func _ 185344 _ t ( ) ; <nl> return true ; <nl> } <nl> @ @ - 527 , 7 + 529 , 7 @ @ <nl> } <nl> } <nl> } <nl> - @ @ - 2050 , 6 + 2202 , 16 @ @ <nl> + @ @ - 2050 , 6 + 2204 , 16 @ @ <nl> IBlockState iblockstate1 = this . func _ 180495 _ p ( blockpos $ pooledmutableblockpos ) ; <nl> Block block = iblockstate1 . func _ 177230 _ c ( ) ; <nl> <nl> @ @ - 544 , 7 + 546 , 7 @ @ <nl> if ( iblockstate1 . func _ 185904 _ a ( ) = = p _ 72918 _ 2 _ ) <nl> { <nl> double d0 = ( double ) ( ( float ) ( i4 + 1 ) - BlockLiquid . func _ 149801 _ b ( ( ( Integer ) iblockstate1 . func _ 177229 _ b ( BlockLiquid . field _ 176367 _ b ) ) . intValue ( ) ) ) ; <nl> - @ @ - 2116 , 6 + 2278 , 7 @ @ <nl> + @ @ - 2116 , 6 + 2280 , 7 @ @ <nl> public Explosion func _ 72885 _ a ( @ Nullable Entity p _ 72885 _ 1 _ , double p _ 72885 _ 2 _ , double p _ 72885 _ 4 _ , double p _ 72885 _ 6 _ , float p _ 72885 _ 8 _ , boolean p _ 72885 _ 9 _ , boolean p _ 72885 _ 10 _ ) <nl> { <nl> Explosion explosion = new Explosion ( this , p _ 72885 _ 1 _ , p _ 72885 _ 2 _ , p _ 72885 _ 4 _ , p _ 72885 _ 6 _ , p _ 72885 _ 8 _ , p _ 72885 _ 9 _ , p _ 72885 _ 10 _ ) ; <nl> @ @ - 552 , 7 + 554 , 7 @ @ <nl> explosion . func _ 77278 _ a ( ) ; <nl> explosion . func _ 77279 _ a ( true ) ; <nl> return explosion ; <nl> - @ @ - 2238 , 6 + 2401 , 7 @ @ <nl> + @ @ - 2238 , 6 + 2403 , 7 @ @ <nl> <nl> public void func _ 175690 _ a ( BlockPos p _ 175690 _ 1 _ , @ Nullable TileEntity p _ 175690 _ 2 _ ) <nl> { <nl> @ @ - 560 , 7 + 562 , 7 @ @ <nl> if ( ! this . func _ 189509 _ E ( p _ 175690 _ 1 _ ) ) <nl> { <nl> if ( p _ 175690 _ 2 _ ! = null & & ! p _ 175690 _ 2 _ . func _ 145837 _ r ( ) ) <nl> - @ @ - 2245 , 6 + 2409 , 8 @ @ <nl> + @ @ - 2245 , 6 + 2411 , 8 @ @ <nl> if ( this . field _ 147481 _ N ) <nl> { <nl> p _ 175690 _ 2 _ . func _ 174878 _ a ( p _ 175690 _ 1 _ ) ; <nl> @ @ - 569 , 7 + 571 , 7 @ @ <nl> Iterator < TileEntity > iterator1 = this . field _ 147484 _ a . iterator ( ) ; <nl> <nl> while ( iterator1 . hasNext ( ) ) <nl> - @ @ - 2262 , 7 + 2428 , 8 @ @ <nl> + @ @ - 2262 , 7 + 2430 , 8 @ @ <nl> } <nl> else <nl> { <nl> @ @ - 579 , 7 + 581 , 7 @ @ <nl> this . func _ 175700 _ a ( p _ 175690 _ 2 _ ) ; <nl> } <nl> } <nl> - @ @ - 2277 , 6 + 2444 , 8 @ @ <nl> + @ @ - 2277 , 6 + 2446 , 8 @ @ <nl> { <nl> tileentity2 . func _ 145843 _ s ( ) ; <nl> this . field _ 147484 _ a . remove ( tileentity2 ) ; <nl> @ @ - 588 , 7 + 590 , 7 @ @ <nl> } <nl> else <nl> { <nl> - @ @ - 2289 , 6 + 2458 , 7 @ @ <nl> + @ @ - 2289 , 6 + 2460 , 7 @ @ <nl> <nl> this . func _ 175726 _ f ( p _ 175713 _ 1 _ ) . func _ 177425 _ e ( p _ 175713 _ 1 _ ) ; <nl> } <nl> @ @ - 596 , 7 + 598 , 7 @ @ <nl> } <nl> <nl> public void func _ 147457 _ a ( TileEntity p _ 147457 _ 1 _ ) <nl> - @ @ - 2315 , 7 + 2485 , 7 @ @ <nl> + @ @ - 2315 , 7 + 2487 , 7 @ @ <nl> if ( chunk1 ! = null & & ! chunk1 . func _ 76621 _ g ( ) ) <nl> { <nl> IBlockState iblockstate1 = this . func _ 180495 _ p ( p _ 175677 _ 1 _ ) ; <nl> @ @ - 605 , 7 + 607 , 7 @ @ <nl> } <nl> else <nl> { <nl> - @ @ - 2338 , 6 + 2508 , 7 @ @ <nl> + @ @ - 2338 , 6 + 2510 , 7 @ @ <nl> { <nl> this . field _ 72985 _ G = p _ 72891 _ 1 _ ; <nl> this . field _ 72992 _ H = p _ 72891 _ 2 _ ; <nl> @ @ - 613 , 7 + 615 , 7 @ @ <nl> } <nl> <nl> public void func _ 72835 _ b ( ) <nl> - @ @ - 2347 , 6 + 2518 , 11 @ @ <nl> + @ @ - 2347 , 6 + 2520 , 11 @ @ <nl> <nl> protected void func _ 72947 _ a ( ) <nl> { <nl> @ @ - 625 , 7 + 627 , 7 @ @ <nl> if ( this . field _ 72986 _ A . func _ 76059 _ o ( ) ) <nl> { <nl> this . field _ 73004 _ o = 1 . 0F ; <nl> - @ @ - 2360 , 6 + 2536 , 11 @ @ <nl> + @ @ - 2360 , 6 + 2538 , 11 @ @ <nl> <nl> protected void func _ 72979 _ l ( ) <nl> { <nl> @ @ - 637 , 7 + 639 , 7 @ @ <nl> if ( this . field _ 73011 _ w . func _ 191066 _ m ( ) ) <nl> { <nl> if ( ! this . field _ 72995 _ K ) <nl> - @ @ - 2484 , 6 + 2665 , 11 @ @ <nl> + @ @ - 2484 , 6 + 2667 , 11 @ @ <nl> <nl> public boolean func _ 175670 _ e ( BlockPos p _ 175670 _ 1 _ , boolean p _ 175670 _ 2 _ ) <nl> { <nl> @ @ - 649 , 7 + 651 , 7 @ @ <nl> Biome biome = this . func _ 180494 _ b ( p _ 175670 _ 1 _ ) ; <nl> float f = biome . func _ 180626 _ a ( p _ 175670 _ 1 _ ) ; <nl> <nl> - @ @ - 2525 , 6 + 2711 , 11 @ @ <nl> + @ @ - 2525 , 6 + 2713 , 11 @ @ <nl> <nl> public boolean func _ 175708 _ f ( BlockPos p _ 175708 _ 1 _ , boolean p _ 175708 _ 2 _ ) <nl> { <nl> @ @ - 661 , 7 + 663 , 7 @ @ <nl> Biome biome = this . func _ 180494 _ b ( p _ 175708 _ 1 _ ) ; <nl> float f = biome . func _ 180626 _ a ( p _ 175708 _ 1 _ ) ; <nl> <nl> - @ @ - 2542 , 7 + 2733 , 7 @ @ <nl> + @ @ - 2542 , 7 + 2735 , 7 @ @ <nl> { <nl> IBlockState iblockstate1 = this . func _ 180495 _ p ( p _ 175708 _ 1 _ ) ; <nl> <nl> @ @ - 670 , 7 + 672 , 7 @ @ <nl> { <nl> return true ; <nl> } <nl> - @ @ - 2574 , 10 + 2765 , 11 @ @ <nl> + @ @ - 2574 , 10 + 2767 , 11 @ @ <nl> else <nl> { <nl> IBlockState iblockstate1 = this . func _ 180495 _ p ( p _ 175638 _ 1 _ ) ; <nl> @ @ - 685 , 7 + 687 , 7 @ @ <nl> { <nl> k2 = 1 ; <nl> } <nl> - @ @ - 2683 , 7 + 2875 , 8 @ @ <nl> + @ @ - 2683 , 7 + 2877 , 8 @ @ <nl> int k6 = k4 + enumfacing . func _ 96559 _ d ( ) ; <nl> int l6 = l4 + enumfacing . func _ 82599 _ e ( ) ; <nl> blockpos $ pooledmutableblockpos . func _ 181079 _ c ( j6 , k6 , l6 ) ; <nl> @ @ - 695 , 7 + 697 , 7 @ @ <nl> j5 = this . func _ 175642 _ b ( p _ 180500 _ 1 _ , blockpos $ pooledmutableblockpos ) ; <nl> <nl> if ( j5 = = i5 - i7 & & k2 < this . field _ 72994 _ J . length ) <nl> - @ @ - 2791 , 10 + 2984 , 10 @ @ <nl> + @ @ - 2791 , 10 + 2986 , 10 @ @ <nl> public List < Entity > func _ 175674 _ a ( @ Nullable Entity p _ 175674 _ 1 _ , AxisAlignedBB p _ 175674 _ 2 _ , @ Nullable Predicate < ? super Entity > p _ 175674 _ 3 _ ) <nl> { <nl> List < Entity > list = Lists . < Entity > newArrayList ( ) ; <nl> @ @ - 710 , 7 + 712 , 7 @ @ <nl> <nl> for ( int j3 = j2 ; j3 < = k2 ; + + j3 ) <nl> { <nl> - @ @ - 2847 , 10 + 3040 , 10 @ @ <nl> + @ @ - 2847 , 10 + 3042 , 10 @ @ <nl> <nl> public < T extends Entity > List < T > func _ 175647 _ a ( Class < ? extends T > p _ 175647 _ 1 _ , AxisAlignedBB p _ 175647 _ 2 _ , @ Nullable Predicate < ? super T > p _ 175647 _ 3 _ ) <nl> { <nl> @ @ - 725 , 7 + 727 , 7 @ @ <nl> List < T > list = Lists . < T > newArrayList ( ) ; <nl> <nl> for ( int j3 = j2 ; j3 < k2 ; + + j3 ) <nl> - @ @ - 2930 , 11 + 3123 , 13 @ @ <nl> + @ @ - 2930 , 11 + 3125 , 13 @ @ <nl> <nl> public void func _ 175650 _ b ( Collection < Entity > p _ 175650 _ 1 _ ) <nl> { <nl> @ @ - 742 , 7 + 744 , 7 @ @ <nl> } <nl> } <nl> <nl> - @ @ - 2958 , 7 + 3153 , 7 @ @ <nl> + @ @ - 2958 , 7 + 3155 , 7 @ @ <nl> } <nl> else <nl> { <nl> @ @ - 751 , 7 + 753 , 7 @ @ <nl> } <nl> } <nl> <nl> - @ @ - 3042 , 7 + 3237 , 7 @ @ <nl> + @ @ - 3042 , 7 + 3239 , 7 @ @ <nl> public int func _ 175651 _ c ( BlockPos p _ 175651 _ 1 _ , EnumFacing p _ 175651 _ 2 _ ) <nl> { <nl> IBlockState iblockstate1 = this . func _ 180495 _ p ( p _ 175651 _ 1 _ ) ; <nl> @ @ - 760 , 7 + 762 , 7 @ @ <nl> } <nl> <nl> public boolean func _ 175640 _ z ( BlockPos p _ 175640 _ 1 _ ) <nl> - @ @ - 3208 , 6 + 3403 , 8 @ @ <nl> + @ @ - 3208 , 6 + 3405 , 8 @ @ <nl> d2 * = ( ( Double ) MoreObjects . firstNonNull ( p _ 184150 _ 11 _ . apply ( entityplayer1 ) , Double . valueOf ( 1 . 0D ) ) ) . doubleValue ( ) ; <nl> } <nl> <nl> @ @ - 769 , 7 + 771 , 7 @ @ <nl> if ( ( p _ 184150 _ 9 _ < 0 . 0D | | Math . abs ( entityplayer1 . field _ 70163 _ u - p _ 184150 _ 3 _ ) < p _ 184150 _ 9 _ * p _ 184150 _ 9 _ ) & & ( p _ 184150 _ 7 _ < 0 . 0D | | d1 < d2 * d2 ) & & ( d0 = = - 1 . 0D | | d1 < d0 ) ) <nl> { <nl> d0 = d1 ; <nl> - @ @ - 3269 , 7 + 3466 , 7 @ @ <nl> + @ @ - 3269 , 7 + 3468 , 7 @ @ <nl> <nl> public long func _ 72905 _ C ( ) <nl> { <nl> @ @ - 778 , 7 + 780 , 7 @ @ <nl> } <nl> <nl> public long func _ 82737 _ E ( ) <nl> - @ @ - 3279 , 17 + 3476 , 17 @ @ <nl> + @ @ - 3279 , 17 + 3478 , 17 @ @ <nl> <nl> public long func _ 72820 _ D ( ) <nl> { <nl> @ @ - 799 , 7 + 801 , 7 @ @ <nl> <nl> if ( ! this . func _ 175723 _ af ( ) . func _ 177746 _ a ( blockpos1 ) ) <nl> { <nl> - @ @ - 3301 , 7 + 3498 , 7 @ @ <nl> + @ @ - 3301 , 7 + 3500 , 7 @ @ <nl> <nl> public void func _ 175652 _ B ( BlockPos p _ 175652 _ 1 _ ) <nl> { <nl> @ @ - 808 , 7 + 810 , 7 @ @ <nl> } <nl> <nl> @ SideOnly ( Side . CLIENT ) <nl> - @ @ - 3321 , 12 + 3518 , 18 @ @ <nl> + @ @ - 3321 , 12 + 3520 , 18 @ @ <nl> <nl> if ( ! this . field _ 72996 _ f . contains ( p _ 72897 _ 1 _ ) ) <nl> { <nl> @ @ - 827 , 7 + 829 , 7 @ @ <nl> return true ; <nl> } <nl> <nl> - @ @ - 3428 , 8 + 3631 , 7 @ @ <nl> + @ @ - 3428 , 8 + 3633 , 7 @ @ <nl> <nl> public boolean func _ 180502 _ D ( BlockPos p _ 180502 _ 1 _ ) <nl> { <nl> @ @ - 837 , 7 + 839 , 7 @ @ <nl> } <nl> <nl> @ Nullable <nl> - @ @ - 3490 , 12 + 3692 , 12 @ @ <nl> + @ @ - 3490 , 12 + 3694 , 12 @ @ <nl> <nl> public int func _ 72800 _ K ( ) <nl> { <nl> @ @ - 852 , 7 + 854 , 7 @ @ <nl> } <nl> <nl> public Random func _ 72843 _ D ( int p _ 72843 _ 1 _ , int p _ 72843 _ 2 _ , int p _ 72843 _ 3 _ ) <nl> - @ @ - 3539 , 7 + 3741 , 7 @ @ <nl> + @ @ - 3539 , 7 + 3743 , 7 @ @ <nl> @ SideOnly ( Side . CLIENT ) <nl> public double func _ 72919 _ O ( ) <nl> { <nl> @ @ - 861 , 7 + 863 , 7 @ @ <nl> } <nl> <nl> public void func _ 175715 _ c ( int p _ 175715 _ 1 _ , BlockPos p _ 175715 _ 2 _ , int p _ 175715 _ 3 _ ) <nl> - @ @ - 3573 , 7 + 3775 , 7 @ @ <nl> + @ @ - 3573 , 7 + 3777 , 7 @ @ <nl> <nl> public void func _ 175666 _ e ( BlockPos p _ 175666 _ 1 _ , Block p _ 175666 _ 2 _ ) <nl> { <nl> @ @ - 870 , 7 + 872 , 7 @ @ <nl> { <nl> BlockPos blockpos1 = p _ 175666 _ 1 _ . func _ 177972 _ a ( enumfacing ) ; <nl> <nl> - @ @ - 3581 , 18 + 3783 , 15 @ @ <nl> + @ @ - 3581 , 18 + 3785 , 15 @ @ <nl> { <nl> IBlockState iblockstate1 = this . func _ 180495 _ p ( blockpos1 ) ; <nl> <nl> @ @ - 893 , 7 + 895 , 7 @ @ <nl> } <nl> } <nl> } <nl> - @ @ - 3658 , 6 + 3857 , 115 @ @ <nl> + @ @ - 3658 , 6 + 3859 , 149 @ @ <nl> return j2 > = - 128 & & j2 < = 128 & & k2 > = - 128 & & k2 < = 128 ; <nl> } <nl> <nl> @ @ - 972 , 6 + 974 , 40 @ @ <nl> + return count ; <nl> + } <nl> + <nl> + + public void markTileEntitiesInChunkForRemoval ( Chunk chunk ) <nl> + + { <nl> + + if ( ! chunk . func _ 177434 _ r ( ) . isEmpty ( ) ) <nl> + + { <nl> + + long pos = net . minecraft . util . math . ChunkPos . func _ 77272 _ a ( chunk . field _ 76635 _ g , chunk . field _ 76647 _ h ) ; <nl> + + this . tileEntitiesChunkToBeRemoved . add ( pos ) ; <nl> + + } <nl> + + } <nl> + + <nl> + + private void removeTileEntitiesForRemovedChunks ( ) <nl> + + { <nl> + + if ( ! this . tileEntitiesChunkToBeRemoved . isEmpty ( ) ) <nl> + + { <nl> + + java . util . function . Predicate < TileEntity > isInChunk = ( tileEntity ) - > <nl> + + { <nl> + + BlockPos tilePos = tileEntity . func _ 174877 _ v ( ) ; <nl> + + long tileChunkPos = net . minecraft . util . math . ChunkPos . func _ 77272 _ a ( tilePos . func _ 177958 _ n ( ) > > 4 , tilePos . func _ 177952 _ p ( ) > > 4 ) ; <nl> + + return this . tileEntitiesChunkToBeRemoved . contains ( tileChunkPos ) ; <nl> + + } ; <nl> + + java . util . function . Predicate < TileEntity > isInChunkDoUnload = ( tileEntity ) - > <nl> + + { <nl> + + boolean inChunk = isInChunk . test ( tileEntity ) ; <nl> + + if ( inChunk ) <nl> + + { <nl> + + tileEntity . onChunkUnload ( ) ; <nl> + + } <nl> + + return inChunk ; <nl> + + } ; <nl> + + this . field _ 175730 _ i . removeIf ( isInChunk ) ; <nl> + + this . field _ 147482 _ g . removeIf ( isInChunkDoUnload ) ; <nl> + + this . tileEntitiesChunkToBeRemoved . clear ( ) ; <nl> + + } <nl> + + } <nl> + + <nl> + protected void initCapabilities ( ) <nl> + { <nl> + net . minecraftforge . common . capabilities . ICapabilityProvider parent = field _ 73011 _ w . initCapabilities ( ) ; <nl> diff - - git a / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch b / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch <nl> index 444dee2 . . 988af19 100644 <nl> - - - a / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch <nl> + + + b / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch <nl> @ @ - 157 , 7 + 157 , 7 @ @ <nl> { <nl> if ( this . field _ 150816 _ i . containsKey ( p _ 177426 _ 1 _ ) ) <nl> { <nl> - @ @ - 854 , 8 + 854 , 9 @ @ <nl> + @ @ - 854 , 14 + 854 , 17 @ @ <nl> <nl> for ( ClassInheritanceMultiMap < Entity > classinheritancemultimap : this . field _ 76645 _ j ) <nl> { <nl> @ @ - 168 , 7 + 168 , 15 @ @ <nl> } <nl> <nl> public void func _ 76623 _ d ( ) <nl> - @ @ - 871 , 6 + 872 , 7 @ @ <nl> + { <nl> + this . field _ 76636 _ d = false ; <nl> + <nl> + + this . field _ 76637 _ e . markTileEntitiesInChunkForRemoval ( this ) ; <nl> + + if ( false ) / / Forge : remove all TEs in a chunk at once instead of marking each one for removal <nl> + for ( TileEntity tileentity : this . field _ 150816 _ i . values ( ) ) <nl> + { <nl> + this . field _ 76637 _ e . func _ 147457 _ a ( tileentity ) ; <nl> + @ @ - 871 , 6 + 874 , 7 @ @ <nl> { <nl> this . field _ 76637 _ e . func _ 175681 _ c ( classinheritancemultimap ) ; <nl> } <nl> @ @ - 176 , 7 + 184 , 7 @ @ <nl> } <nl> <nl> public void func _ 76630 _ e ( ) <nl> - @ @ - 880 , 8 + 882 , 8 @ @ <nl> + @ @ - 880 , 8 + 884 , 8 @ @ <nl> <nl> public void func _ 177414 _ a ( @ Nullable Entity p _ 177414 _ 1 _ , AxisAlignedBB p _ 177414 _ 2 _ , List < Entity > p _ 177414 _ 3 _ , Predicate < ? super Entity > p _ 177414 _ 4 _ ) <nl> { <nl> @ @ - 187 , 7 + 195 , 7 @ @ <nl> i = MathHelper . func _ 76125 _ a ( i , 0 , this . field _ 76645 _ j . length - 1 ) ; <nl> j = MathHelper . func _ 76125 _ a ( j , 0 , this . field _ 76645 _ j . length - 1 ) ; <nl> <nl> - @ @ - 918 , 8 + 920 , 8 @ @ <nl> + @ @ - 918 , 8 + 922 , 8 @ @ <nl> <nl> public < T extends Entity > void func _ 177430 _ a ( Class < ? extends T > p _ 177430 _ 1 _ , AxisAlignedBB p _ 177430 _ 2 _ , List < T > p _ 177430 _ 3 _ , Predicate < ? super T > p _ 177430 _ 4 _ ) <nl> { <nl> @ @ - 198 , 7 + 206 , 7 @ @ <nl> i = MathHelper . func _ 76125 _ a ( i , 0 , this . field _ 76645 _ j . length - 1 ) ; <nl> j = MathHelper . func _ 76125 _ a ( j , 0 , this . field _ 76645 _ j . length - 1 ) ; <nl> <nl> - @ @ - 997 , 6 + 999 , 8 @ @ <nl> + @ @ - 997 , 6 + 1001 , 8 @ @ <nl> <nl> protected void func _ 186034 _ a ( IChunkGenerator p _ 186034 _ 1 _ ) <nl> { <nl> @ @ - 207 , 7 + 215 , 7 @ @ <nl> if ( this . func _ 177419 _ t ( ) ) <nl> { <nl> if ( p _ 186034 _ 1 _ . func _ 185933 _ a ( this , this . field _ 76635 _ g , this . field _ 76647 _ h ) ) <nl> - @ @ - 1008 , 8 + 1012 , 10 @ @ <nl> + @ @ - 1008 , 8 + 1014 , 10 @ @ <nl> { <nl> this . func _ 150809 _ p ( ) ; <nl> p _ 186034 _ 1 _ . func _ 185931 _ b ( this . field _ 76635 _ g , this . field _ 76647 _ h ) ; <nl> @ @ - 218 , 7 + 226 , 7 @ @ <nl> } <nl> <nl> public BlockPos func _ 177440 _ h ( BlockPos p _ 177440 _ 1 _ ) <nl> - @ @ - 1064 , 7 + 1070 , 7 @ @ <nl> + @ @ - 1064 , 7 + 1072 , 7 @ @ <nl> { <nl> BlockPos blockpos = this . field _ 177447 _ w . poll ( ) ; <nl> <nl> @ @ - 227 , 7 + 235 , 7 @ @ <nl> { <nl> TileEntity tileentity = this . func _ 177422 _ i ( blockpos ) ; <nl> this . field _ 76637 _ e . func _ 175690 _ a ( blockpos , tileentity ) ; <nl> - @ @ - 1128 , 6 + 1134 , 13 @ @ <nl> + @ @ - 1128 , 6 + 1136 , 13 @ @ <nl> @ SideOnly ( Side . CLIENT ) <nl> public void func _ 186033 _ a ( PacketBuffer p _ 186033 _ 1 _ , int p _ 186033 _ 2 _ , boolean p _ 186033 _ 3 _ ) <nl> { <nl> @ @ - 241 , 7 + 249 , 7 @ @ <nl> boolean flag = this . field _ 76637 _ e . field _ 73011 _ w . func _ 191066 _ m ( ) ; <nl> <nl> for ( int i = 0 ; i < this . field _ 76652 _ q . length ; + + i ) <nl> - @ @ - 1176 , 10 + 1189 , 16 @ @ <nl> + @ @ - 1176 , 10 + 1191 , 16 @ @ <nl> this . field _ 76646 _ k = true ; <nl> this . func _ 76590 _ a ( ) ; <nl> <nl> @ @ - 258 , 7 + 266 , 7 @ @ <nl> } <nl> <nl> public Biome func _ 177411 _ a ( BlockPos p _ 177411 _ 1 _ , BiomeProvider p _ 177411 _ 2 _ ) <nl> - @ @ - 1244 , 13 + 1263 , 13 @ @ <nl> + @ @ - 1244 , 13 + 1265 , 13 @ @ <nl> BlockPos blockpos1 = blockpos . func _ 177982 _ a ( k , ( j < < 4 ) + i1 , l ) ; <nl> boolean flag = i1 = = 0 | | i1 = = 15 | | k = = 0 | | k = = 15 | | l = = 0 | | l = = 15 ; <nl> <nl> @ @ - 274 , 7 + 282 , 7 @ @ <nl> { <nl> this . field _ 76637 _ e . func _ 175664 _ x ( blockpos2 ) ; <nl> } <nl> - @ @ - 1381 , 7 + 1400 , 7 @ @ <nl> + @ @ - 1381 , 7 + 1402 , 7 @ @ <nl> { <nl> blockpos $ mutableblockpos . func _ 181079 _ c ( blockpos $ mutableblockpos . func _ 177958 _ n ( ) , l , blockpos $ mutableblockpos . func _ 177952 _ p ( ) ) ; <nl> <nl> @ @ - 283 , 7 + 291 , 7 @ @ <nl> { <nl> this . field _ 76637 _ e . func _ 175664 _ x ( blockpos $ mutableblockpos ) ; <nl> } <nl> - @ @ - 1489 , 4 + 1508 , 34 @ @ <nl> + @ @ - 1489 , 4 + 1510 , 34 @ @ <nl> QUEUED , <nl> CHECK ; <nl> }
NEAREST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / world / World . java . patch b / patches / minecraft / net / minecraft / world / World . java . patch <nl> index 35372dc . . f27243c 100644 <nl> - - - a / patches / minecraft / net / minecraft / world / World . java . patch <nl> + + + b / patches / minecraft / net / minecraft / world / World . java . patch <nl> @ @ - 82 , 7 + 82 , 7 @ @ <nl> } <nl> <nl> public boolean func _ 175667 _ e ( BlockPos p _ 175667 _ 1 _ ) <nl> - @ @ - 284 , 39 + 301 , 61 @ @ <nl> + @ @ - 284 , 39 + 301 , 63 @ @ <nl> { <nl> Chunk chunk = this . func _ 175726 _ f ( p _ 180501 _ 1 _ ) ; <nl> Block block = p _ 180501 _ 2 _ . func _ 177230 _ c ( ) ; <nl> @ @ - 93 , 7 + 93 , 9 @ @ <nl> + blockSnapshot = net . minecraftforge . common . util . BlockSnapshot . getBlockSnapshot ( this , p _ 180501 _ 1 _ , p _ 180501 _ 3 _ ) ; <nl> + this . capturedBlockSnapshots . add ( blockSnapshot ) ; <nl> + } <nl> - + int oldLight = func _ 180495 _ p ( p _ 180501 _ 1 _ ) . func _ 177230 _ c ( ) . getLightValue ( this , p _ 180501 _ 1 _ ) ; <nl> + + Block oldBlock = func _ 180495 _ p ( p _ 180501 _ 1 _ ) . func _ 177230 _ c ( ) ; <nl> + + int oldLight = oldBlock . getLightValue ( this , p _ 180501 _ 1 _ ) ; <nl> + + int oldOpacity = oldBlock . getLightOpacity ( this , p _ 180501 _ 1 _ ) ; <nl> + <nl> IBlockState iblockstate = chunk . func _ 177436 _ a ( p _ 180501 _ 1 _ , p _ 180501 _ 2 _ ) ; <nl> <nl> @ @ - 107 , 7 + 109 , 7 @ @ <nl> Block block1 = iblockstate . func _ 177230 _ c ( ) ; <nl> <nl> - if ( block . func _ 149717 _ k ( ) ! = block1 . func _ 149717 _ k ( ) | | block . func _ 149750 _ m ( ) ! = block1 . func _ 149750 _ m ( ) ) <nl> - + if ( block . func _ 149717 _ k ( ) ! = block1 . func _ 149717 _ k ( ) | | block . getLightValue ( this , p _ 180501 _ 1 _ ) ! = oldLight ) <nl> + + if ( block . getLightOpacity ( this , p _ 180501 _ 1 _ ) ! = oldOpacity | | block . getLightValue ( this , p _ 180501 _ 1 _ ) ! = oldLight ) <nl> { <nl> this . field _ 72984 _ F . func _ 76320 _ a ( " checkLight " ) ; <nl> this . func _ 175664 _ x ( p _ 180501 _ 1 _ ) ; <nl> @ @ - 153 , 7 + 155 , 7 @ @ <nl> } <nl> } <nl> } <nl> - @ @ - 404 , 6 + 443 , 9 @ @ <nl> + @ @ - 404 , 6 + 445 , 9 @ @ <nl> <nl> public void func _ 175685 _ c ( BlockPos p _ 175685 _ 1 _ , Block p _ 175685 _ 2 _ ) <nl> { <nl> @ @ - 163 , 7 + 165 , 7 @ @ <nl> this . func _ 180496 _ d ( p _ 175685 _ 1 _ . func _ 177976 _ e ( ) , p _ 175685 _ 2 _ ) ; <nl> this . func _ 180496 _ d ( p _ 175685 _ 1 _ . func _ 177974 _ f ( ) , p _ 175685 _ 2 _ ) ; <nl> this . func _ 180496 _ d ( p _ 175685 _ 1 _ . func _ 177977 _ b ( ) , p _ 175685 _ 2 _ ) ; <nl> - @ @ - 414 , 6 + 456 , 11 @ @ <nl> + @ @ - 414 , 6 + 458 , 11 @ @ <nl> <nl> public void func _ 175695 _ a ( BlockPos p _ 175695 _ 1 _ , Block p _ 175695 _ 2 _ , EnumFacing p _ 175695 _ 3 _ ) <nl> { <nl> @ @ - 175 , 7 + 177 , 7 @ @ <nl> if ( p _ 175695 _ 3 _ ! = EnumFacing . WEST ) <nl> { <nl> this . func _ 180496 _ d ( p _ 175695 _ 1 _ . func _ 177976 _ e ( ) , p _ 175695 _ 2 _ ) ; <nl> - @ @ - 777 , 7 + 824 , 7 @ @ <nl> + @ @ - 777 , 7 + 826 , 7 @ @ <nl> <nl> public boolean func _ 72935 _ r ( ) <nl> { <nl> @ @ - 184 , 7 + 186 , 7 @ @ <nl> } <nl> <nl> public MovingObjectPosition func _ 72933 _ a ( Vec3 p _ 72933 _ 1 _ , Vec3 p _ 72933 _ 2 _ ) <nl> - @ @ - 972 , 6 + 1019 , 12 @ @ <nl> + @ @ - 972 , 6 + 1021 , 12 @ @ <nl> <nl> public void func _ 72956 _ a ( Entity p _ 72956 _ 1 _ , String p _ 72956 _ 2 _ , float p _ 72956 _ 3 _ , float p _ 72956 _ 4 _ ) <nl> { <nl> @ @ - 197 , 7 + 199 , 7 @ @ <nl> for ( int i = 0 ; i < this . field _ 73021 _ x . size ( ) ; + + i ) <nl> { <nl> ( ( IWorldAccess ) this . field _ 73021 _ x . get ( i ) ) . func _ 72704 _ a ( p _ 72956 _ 2 _ , p _ 72956 _ 1 _ . field _ 70165 _ t , p _ 72956 _ 1 _ . field _ 70163 _ u , p _ 72956 _ 1 _ . field _ 70161 _ v , p _ 72956 _ 3 _ , p _ 72956 _ 4 _ ) ; <nl> - @ @ - 980 , 6 + 1033 , 12 @ @ <nl> + @ @ - 980 , 6 + 1035 , 12 @ @ <nl> <nl> public void func _ 85173 _ a ( EntityPlayer p _ 85173 _ 1 _ , String p _ 85173 _ 2 _ , float p _ 85173 _ 3 _ , float p _ 85173 _ 4 _ ) <nl> { <nl> @ @ - 210 , 7 + 212 , 7 @ @ <nl> for ( int i = 0 ; i < this . field _ 73021 _ x . size ( ) ; + + i ) <nl> { <nl> ( ( IWorldAccess ) this . field _ 73021 _ x . get ( i ) ) . func _ 85102 _ a ( p _ 85173 _ 1 _ , p _ 85173 _ 2 _ , p _ 85173 _ 1 _ . field _ 70165 _ t , p _ 85173 _ 1 _ . field _ 70163 _ u , p _ 85173 _ 1 _ . field _ 70161 _ v , p _ 85173 _ 3 _ , p _ 85173 _ 4 _ ) ; <nl> - @ @ - 1033 , 6 + 1092 , 9 @ @ <nl> + @ @ - 1033 , 6 + 1094 , 9 @ @ <nl> <nl> public boolean func _ 72838 _ d ( Entity p _ 72838 _ 1 _ ) <nl> { <nl> @ @ - 220 , 7 + 222 , 7 @ @ <nl> int i = MathHelper . func _ 76128 _ c ( p _ 72838 _ 1 _ . field _ 70165 _ t / 16 . 0D ) ; <nl> int j = MathHelper . func _ 76128 _ c ( p _ 72838 _ 1 _ . field _ 70161 _ v / 16 . 0D ) ; <nl> boolean flag = p _ 72838 _ 1 _ . field _ 98038 _ p ; <nl> - @ @ - 1055 , 6 + 1117 , 8 @ @ <nl> + @ @ - 1055 , 6 + 1119 , 8 @ @ <nl> this . func _ 72854 _ c ( ) ; <nl> } <nl> <nl> @ @ - 229 , 7 + 231 , 7 @ @ <nl> this . func _ 72964 _ e ( i , j ) . func _ 76612 _ a ( p _ 72838 _ 1 _ ) ; <nl> this . field _ 72996 _ f . add ( p _ 72838 _ 1 _ ) ; <nl> this . func _ 72923 _ a ( p _ 72838 _ 1 _ ) ; <nl> - @ @ - 1267 , 17 + 1331 , 29 @ @ <nl> + @ @ - 1267 , 17 + 1333 , 29 @ @ <nl> <nl> public int func _ 72967 _ a ( float p _ 72967 _ 1 _ ) <nl> { <nl> @ @ - 262 , 7 + 264 , 7 @ @ <nl> public void func _ 72848 _ b ( IWorldAccess p _ 72848 _ 1 _ ) <nl> { <nl> this . field _ 73021 _ x . remove ( p _ 72848 _ 1 _ ) ; <nl> - @ @ - 1286 , 6 + 1362 , 12 @ @ <nl> + @ @ - 1286 , 6 + 1364 , 12 @ @ <nl> @ SideOnly ( Side . CLIENT ) <nl> public float func _ 72971 _ b ( float p _ 72971 _ 1 _ ) <nl> { <nl> @ @ - 275 , 7 + 277 , 7 @ @ <nl> float f = this . func _ 72826 _ c ( p _ 72971 _ 1 _ ) ; <nl> float f1 = 1 . 0F - ( MathHelper . func _ 76134 _ b ( f * ( float ) Math . PI * 2 . 0F ) * 2 . 0F + 0 . 2F ) ; <nl> f1 = MathHelper . func _ 76131 _ a ( f1 , 0 . 0F , 1 . 0F ) ; <nl> - @ @ - 1298 , 6 + 1380 , 12 @ @ <nl> + @ @ - 1298 , 6 + 1382 , 12 @ @ <nl> @ SideOnly ( Side . CLIENT ) <nl> public Vec3 func _ 72833 _ a ( Entity p _ 72833 _ 1 _ , float p _ 72833 _ 2 _ ) <nl> { <nl> @ @ - 288 , 7 + 290 , 7 @ @ <nl> float f = this . func _ 72826 _ c ( p _ 72833 _ 2 _ ) ; <nl> float f1 = MathHelper . func _ 76134 _ b ( f * ( float ) Math . PI * 2 . 0F ) * 2 . 0F + 0 . 5F ; <nl> f1 = MathHelper . func _ 76131 _ a ( f1 , 0 . 0F , 1 . 0F ) ; <nl> - @ @ - 1305 , 9 + 1393 , 7 @ @ <nl> + @ @ - 1305 , 9 + 1395 , 7 @ @ <nl> int j = MathHelper . func _ 76128 _ c ( p _ 72833 _ 1 _ . field _ 70163 _ u ) ; <nl> int k = MathHelper . func _ 76128 _ c ( p _ 72833 _ 1 _ . field _ 70161 _ v ) ; <nl> BlockPos blockpos = new BlockPos ( i , j , k ) ; <nl> @ @ - 299 , 7 + 301 , 7 @ @ <nl> float f3 = ( float ) ( l > > 16 & 255 ) / 255 . 0F ; <nl> float f4 = ( float ) ( l > > 8 & 255 ) / 255 . 0F ; <nl> float f5 = ( float ) ( l & 255 ) / 255 . 0F ; <nl> - @ @ - 1367 , 6 + 1453 , 11 @ @ <nl> + @ @ - 1367 , 6 + 1455 , 11 @ @ <nl> <nl> public float func _ 130001 _ d ( ) <nl> { <nl> @ @ - 311 , 7 + 313 , 7 @ @ <nl> return WorldProvider . field _ 111203 _ a [ this . field _ 73011 _ w . func _ 76559 _ b ( this . field _ 72986 _ A . func _ 76073 _ f ( ) ) ] ; <nl> } <nl> <nl> - @ @ - 1379 , 6 + 1470 , 12 @ @ <nl> + @ @ - 1379 , 6 + 1472 , 12 @ @ <nl> @ SideOnly ( Side . CLIENT ) <nl> public Vec3 func _ 72824 _ f ( float p _ 72824 _ 1 _ ) <nl> { <nl> @ @ - 324 , 7 + 326 , 7 @ @ <nl> float f = this . func _ 72826 _ c ( p _ 72824 _ 1 _ ) ; <nl> float f1 = MathHelper . func _ 76134 _ b ( f * ( float ) Math . PI * 2 . 0F ) * 2 . 0F + 0 . 5F ; <nl> f1 = MathHelper . func _ 76131 _ a ( f1 , 0 . 0F , 1 . 0F ) ; <nl> - @ @ - 1434 , 9 + 1531 , 9 @ @ <nl> + @ @ - 1434 , 9 + 1533 , 9 @ @ <nl> for ( blockpos = new BlockPos ( p _ 175672 _ 1 _ . func _ 177958 _ n ( ) , chunk . func _ 76625 _ h ( ) + 16 , p _ 175672 _ 1 _ . func _ 177952 _ p ( ) ) ; blockpos . func _ 177956 _ o ( ) > = 0 ; blockpos = blockpos1 ) <nl> { <nl> blockpos1 = blockpos . func _ 177977 _ b ( ) ; <nl> @ @ - 336 , 7 + 338 , 7 @ @ <nl> { <nl> break ; <nl> } <nl> - @ @ - 1448 , 6 + 1545 , 12 @ @ <nl> + @ @ - 1448 , 6 + 1547 , 12 @ @ <nl> @ SideOnly ( Side . CLIENT ) <nl> public float func _ 72880 _ h ( float p _ 72880 _ 1 _ ) <nl> { <nl> @ @ - 349 , 7 + 351 , 7 @ @ <nl> float f = this . func _ 72826 _ c ( p _ 72880 _ 1 _ ) ; <nl> float f1 = 1 . 0F - ( MathHelper . func _ 76134 _ b ( f * ( float ) Math . PI * 2 . 0F ) * 2 . 0F + 0 . 25F ) ; <nl> f1 = MathHelper . func _ 76131 _ a ( f1 , 0 . 0F , 1 . 0F ) ; <nl> - @ @ - 1494 , 7 + 1597 , 15 @ @ <nl> + @ @ - 1494 , 7 + 1599 , 15 @ @ <nl> entity . func _ 85029 _ a ( crashreportcategory ) ; <nl> } <nl> <nl> @ @ - 366 , 7 + 368 , 7 @ @ <nl> } <nl> <nl> if ( entity . field _ 70128 _ L ) <nl> - @ @ - 1554 , 7 + 1665 , 15 @ @ <nl> + @ @ - 1554 , 7 + 1667 , 15 @ @ <nl> CrashReport crashreport1 = CrashReport . func _ 85055 _ a ( throwable1 , " Ticking entity " ) ; <nl> CrashReportCategory crashreportcategory2 = crashreport1 . func _ 85058 _ a ( " Entity being ticked " ) ; <nl> entity2 . func _ 85029 _ a ( crashreportcategory2 ) ; <nl> @ @ - 383 , 7 + 385 , 7 @ @ <nl> } <nl> } <nl> <nl> - @ @ - 1601 , 7 + 1720 , 16 @ @ <nl> + @ @ - 1601 , 7 + 1722 , 16 @ @ <nl> CrashReport crashreport2 = CrashReport . func _ 85055 _ a ( throwable , " Ticking block entity " ) ; <nl> CrashReportCategory crashreportcategory1 = crashreport2 . func _ 85058 _ a ( " Block entity being ticked " ) ; <nl> tileentity . func _ 145828 _ a ( crashreportcategory1 ) ; <nl> @ @ - 401 , 7 + 403 , 7 @ @ <nl> } <nl> } <nl> } <nl> - @ @ - 1618 , 15 + 1746 , 20 @ @ <nl> + @ @ - 1618 , 15 + 1748 , 20 @ @ <nl> } <nl> } <nl> <nl> @ @ - 424 , 7 + 426 , 7 @ @ <nl> this . field _ 72984 _ F . func _ 76318 _ c ( " pendingBlockEntities " ) ; <nl> <nl> if ( ! this . field _ 147484 _ a . isEmpty ( ) ) <nl> - @ @ - 1660 , 7 + 1793 , 8 @ @ <nl> + @ @ - 1660 , 7 + 1795 , 8 @ @ <nl> <nl> public boolean func _ 175700 _ a ( TileEntity p _ 175700 _ 1 _ ) <nl> { <nl> @ @ - 434 , 7 + 436 , 7 @ @ <nl> <nl> if ( flag & & p _ 175700 _ 1 _ instanceof ITickable ) <nl> { <nl> - @ @ - 1699 , 9 + 1833 , 13 @ @ <nl> + @ @ - 1699 , 9 + 1835 , 13 @ @ <nl> { <nl> int i = MathHelper . func _ 76128 _ c ( p _ 72866 _ 1 _ . field _ 70165 _ t ) ; <nl> int j = MathHelper . func _ 76128 _ c ( p _ 72866 _ 1 _ . field _ 70161 _ v ) ; <nl> @ @ - 450 , 7 + 452 , 7 @ @ <nl> { <nl> p _ 72866 _ 1 _ . field _ 70142 _ S = p _ 72866 _ 1 _ . field _ 70165 _ t ; <nl> p _ 72866 _ 1 _ . field _ 70137 _ T = p _ 72866 _ 1 _ . field _ 70163 _ u ; <nl> - @ @ - 1829 , 7 + 1967 , 7 @ @ <nl> + @ @ - 1829 , 7 + 1969 , 7 @ @ <nl> { <nl> Block block = this . func _ 180495 _ p ( blockpos $ mutableblockpos . func _ 181079 _ c ( k1 , l1 , i2 ) ) . func _ 177230 _ c ( ) ; <nl> <nl> @ @ - 459 , 7 + 461 , 7 @ @ <nl> { <nl> return true ; <nl> } <nl> - @ @ - 1894 , 6 + 2032 , 10 @ @ <nl> + @ @ - 1894 , 6 + 2034 , 10 @ @ <nl> { <nl> return true ; <nl> } <nl> @ @ - 470 , 7 + 472 , 7 @ @ <nl> } <nl> } <nl> } <nl> - @ @ - 1930 , 6 + 2072 , 16 @ @ <nl> + @ @ - 1930 , 6 + 2074 , 16 @ @ <nl> blockpos $ mutableblockpos . func _ 181079 _ c ( k1 , l1 , i2 ) ; <nl> IBlockState iblockstate = this . func _ 180495 _ p ( blockpos $ mutableblockpos ) ; <nl> Block block = iblockstate . func _ 177230 _ c ( ) ; <nl> @ @ - 487 , 7 + 489 , 7 @ @ <nl> <nl> if ( block . func _ 149688 _ o ( ) = = p _ 72918 _ 2 _ ) <nl> { <nl> - @ @ - 2004 , 6 + 2156 , 9 @ @ <nl> + @ @ - 2004 , 6 + 2158 , 9 @ @ <nl> IBlockState iblockstate = this . func _ 180495 _ p ( blockpos $ mutableblockpos . func _ 181079 _ c ( k1 , l1 , i2 ) ) ; <nl> Block block = iblockstate . func _ 177230 _ c ( ) ; <nl> <nl> @ @ - 497 , 7 + 499 , 7 @ @ <nl> if ( block . func _ 149688 _ o ( ) = = p _ 72830 _ 2 _ ) <nl> { <nl> int j2 = ( ( Integer ) iblockstate . func _ 177229 _ b ( BlockLiquid . field _ 176367 _ b ) ) . intValue ( ) ; <nl> - @ @ - 2034 , 6 + 2189 , 7 @ @ <nl> + @ @ - 2034 , 6 + 2191 , 7 @ @ <nl> public Explosion func _ 72885 _ a ( Entity p _ 72885 _ 1 _ , double p _ 72885 _ 2 _ , double p _ 72885 _ 4 _ , double p _ 72885 _ 6 _ , float p _ 72885 _ 8 _ , boolean p _ 72885 _ 9 _ , boolean p _ 72885 _ 10 _ ) <nl> { <nl> Explosion explosion = new Explosion ( this , p _ 72885 _ 1 _ , p _ 72885 _ 2 _ , p _ 72885 _ 4 _ , p _ 72885 _ 6 _ , p _ 72885 _ 8 _ , p _ 72885 _ 9 _ , p _ 72885 _ 10 _ ) ; <nl> @ @ - 505 , 7 + 507 , 7 @ @ <nl> explosion . func _ 77278 _ a ( ) ; <nl> explosion . func _ 77279 _ a ( true ) ; <nl> return explosion ; <nl> - @ @ - 2180 , 19 + 2336 , 27 @ @ <nl> + @ @ - 2180 , 19 + 2338 , 27 @ @ <nl> else <nl> { <nl> this . func _ 175700 _ a ( p _ 175690 _ 2 _ ) ; <nl> @ @ - 534 , 7 + 536 , 7 @ @ <nl> } <nl> else <nl> { <nl> - @ @ - 2205 , 6 + 2369 , 7 @ @ <nl> + @ @ - 2205 , 6 + 2371 , 7 @ @ <nl> <nl> this . func _ 175726 _ f ( p _ 175713 _ 1 _ ) . func _ 177425 _ e ( p _ 175713 _ 1 _ ) ; <nl> } <nl> @ @ - 542 , 7 + 544 , 7 @ @ <nl> } <nl> <nl> public void func _ 147457 _ a ( TileEntity p _ 147457 _ 1 _ ) <nl> - @ @ - 2223 , 7 + 2388 , 7 @ @ <nl> + @ @ - 2223 , 7 + 2390 , 7 @ @ <nl> { <nl> IBlockState iblockstate = p _ 175683 _ 0 _ . func _ 180495 _ p ( p _ 175683 _ 1 _ ) ; <nl> Block block = iblockstate . func _ 177230 _ c ( ) ; <nl> @ @ - 551 , 7 + 553 , 7 @ @ <nl> } <nl> <nl> public boolean func _ 175677 _ d ( BlockPos p _ 175677 _ 1 _ , boolean p _ 175677 _ 2 _ ) <nl> - @ @ - 2243 , 7 + 2408 , 7 @ @ <nl> + @ @ - 2243 , 7 + 2410 , 7 @ @ <nl> else <nl> { <nl> Block block = this . func _ 180495 _ p ( p _ 175677 _ 1 _ ) . func _ 177230 _ c ( ) ; <nl> @ @ - 560 , 7 + 562 , 7 @ @ <nl> } <nl> } <nl> } <nl> - @ @ - 2262 , 6 + 2427 , 7 @ @ <nl> + @ @ - 2262 , 6 + 2429 , 7 @ @ <nl> { <nl> this . field _ 72985 _ G = p _ 72891 _ 1 _ ; <nl> this . field _ 72992 _ H = p _ 72891 _ 2 _ ; <nl> @ @ - 568 , 7 + 570 , 7 @ @ <nl> } <nl> <nl> public void func _ 72835 _ b ( ) <nl> - @ @ - 2271 , 6 + 2437 , 11 @ @ <nl> + @ @ - 2271 , 6 + 2439 , 11 @ @ <nl> <nl> protected void func _ 72947 _ a ( ) <nl> { <nl> @ @ - 580 , 7 + 582 , 7 @ @ <nl> if ( this . field _ 72986 _ A . func _ 76059 _ o ( ) ) <nl> { <nl> this . field _ 73004 _ o = 1 . 0F ; <nl> - @ @ - 2284 , 6 + 2455 , 11 @ @ <nl> + @ @ - 2284 , 6 + 2457 , 11 @ @ <nl> <nl> protected void func _ 72979 _ l ( ) <nl> { <nl> @ @ - 592 , 7 + 594 , 7 @ @ <nl> if ( ! this . field _ 73011 _ w . func _ 177495 _ o ( ) ) <nl> { <nl> if ( ! this . field _ 72995 _ K ) <nl> - @ @ - 2378 , 6 + 2554 , 7 @ @ <nl> + @ @ - 2378 , 6 + 2556 , 7 @ @ <nl> { <nl> this . field _ 72993 _ I . clear ( ) ; <nl> this . field _ 72984 _ F . func _ 76320 _ a ( " buildList " ) ; <nl> @ @ - 600 , 7 + 602 , 7 @ @ <nl> <nl> for ( int i = 0 ; i < this . field _ 73010 _ i . size ( ) ; + + i ) <nl> { <nl> - @ @ - 2434 , 8 + 2611 , 9 @ @ <nl> + @ @ - 2434 , 8 + 2613 , 9 @ @ <nl> Block block = p _ 147467 _ 3 _ . func _ 177428 _ a ( blockpos ) ; <nl> j = j + p _ 147467 _ 1 _ ; <nl> k = k + p _ 147467 _ 2 _ ; <nl> @ @ - 611 , 7 + 613 , 7 @ @ <nl> { <nl> EntityPlayer entityplayer = this . func _ 72977 _ a ( ( double ) j + 0 . 5D , ( double ) l + 0 . 5D , ( double ) k + 0 . 5D , 8 . 0D ) ; <nl> <nl> - @ @ - 2475 , 6 + 2653 , 11 @ @ <nl> + @ @ - 2475 , 6 + 2655 , 11 @ @ <nl> <nl> public boolean func _ 175670 _ e ( BlockPos p _ 175670 _ 1 _ , boolean p _ 175670 _ 2 _ ) <nl> { <nl> @ @ - 623 , 7 + 625 , 7 @ @ <nl> BiomeGenBase biomegenbase = this . func _ 180494 _ b ( p _ 175670 _ 1 _ ) ; <nl> float f = biomegenbase . func _ 180626 _ a ( p _ 175670 _ 1 _ ) ; <nl> <nl> - @ @ - 2516 , 6 + 2699 , 11 @ @ <nl> + @ @ - 2516 , 6 + 2701 , 11 @ @ <nl> <nl> public boolean func _ 175708 _ f ( BlockPos p _ 175708 _ 1 _ , boolean p _ 175708 _ 2 _ ) <nl> { <nl> @ @ - 635 , 7 + 637 , 7 @ @ <nl> BiomeGenBase biomegenbase = this . func _ 180494 _ b ( p _ 175708 _ 1 _ ) ; <nl> float f = biomegenbase . func _ 180626 _ a ( p _ 175708 _ 1 _ ) ; <nl> <nl> - @ @ - 2533 , 7 + 2721 , 7 @ @ <nl> + @ @ - 2533 , 7 + 2723 , 7 @ @ <nl> { <nl> Block block = this . func _ 180495 _ p ( p _ 175708 _ 1 _ ) . func _ 177230 _ c ( ) ; <nl> <nl> @ @ - 644 , 7 + 646 , 7 @ @ <nl> { <nl> return true ; <nl> } <nl> - @ @ - 2565 , 10 + 2753 , 11 @ @ <nl> + @ @ - 2565 , 10 + 2755 , 11 @ @ <nl> else <nl> { <nl> Block block = this . func _ 180495 _ p ( p _ 175638 _ 1 _ ) . func _ 177230 _ c ( ) ; <nl> @ @ - 659 , 7 + 661 , 7 @ @ <nl> { <nl> j = 1 ; <nl> } <nl> - @ @ - 2768 , 10 + 2957 , 10 @ @ <nl> + @ @ - 2768 , 10 + 2959 , 10 @ @ <nl> public List < Entity > func _ 175674 _ a ( Entity p _ 175674 _ 1 _ , AxisAlignedBB p _ 175674 _ 2 _ , Predicate < ? super Entity > p _ 175674 _ 3 _ ) <nl> { <nl> List < Entity > list = Lists . < Entity > newArrayList ( ) ; <nl> @ @ - 674 , 7 + 676 , 7 @ @ <nl> <nl> for ( int i1 = i ; i1 < = j ; + + i1 ) <nl> { <nl> - @ @ - 2824 , 10 + 3013 , 10 @ @ <nl> + @ @ - 2824 , 10 + 3015 , 10 @ @ <nl> <nl> public < T extends Entity > List < T > func _ 175647 _ a ( Class < ? extends T > p _ 175647 _ 1 _ , AxisAlignedBB p _ 175647 _ 2 _ , Predicate < ? super T > p _ 175647 _ 3 _ ) <nl> { <nl> @ @ - 689 , 7 + 691 , 7 @ @ <nl> List < T > list = Lists . < T > newArrayList ( ) ; <nl> <nl> for ( int i1 = i ; i1 < = j ; + + i1 ) <nl> - @ @ - 2905 , 11 + 3094 , 13 @ @ <nl> + @ @ - 2905 , 11 + 3096 , 13 @ @ <nl> <nl> public void func _ 175650 _ b ( Collection < Entity > p _ 175650 _ 1 _ ) <nl> { <nl> @ @ - 706 , 7 + 708 , 7 @ @ <nl> } <nl> } <nl> <nl> - @ @ - 2922 , 7 + 3113 , 9 @ @ <nl> + @ @ - 2922 , 7 + 3115 , 9 @ @ <nl> { <nl> Block block = this . func _ 180495 _ p ( p _ 175716 _ 2 _ ) . func _ 177230 _ c ( ) ; <nl> AxisAlignedBB axisalignedbb = p _ 175716 _ 3 _ ? null : p _ 175716 _ 1 _ . func _ 180640 _ a ( this , p _ 175716 _ 2 _ , p _ 175716 _ 1 _ . func _ 176223 _ P ( ) ) ; <nl> @ @ - 717 , 7 + 719 , 7 @ @ <nl> } <nl> <nl> public int func _ 181545 _ F ( ) <nl> - @ @ - 3007 , 7 + 3200 , 7 @ @ <nl> + @ @ - 3007 , 7 + 3202 , 7 @ @ <nl> { <nl> IBlockState iblockstate = this . func _ 180495 _ p ( p _ 175651 _ 1 _ ) ; <nl> Block block = iblockstate . func _ 177230 _ c ( ) ; <nl> @ @ - 726 , 7 + 728 , 7 @ @ <nl> } <nl> <nl> public boolean func _ 175640 _ z ( BlockPos p _ 175640 _ 1 _ ) <nl> - @ @ - 3134 , 7 + 3327 , 7 @ @ <nl> + @ @ - 3134 , 7 + 3329 , 7 @ @ <nl> <nl> public long func _ 72905 _ C ( ) <nl> { <nl> @ @ - 735 , 7 + 737 , 7 @ @ <nl> } <nl> <nl> public long func _ 82737 _ E ( ) <nl> - @ @ - 3144 , 17 + 3337 , 17 @ @ <nl> + @ @ - 3144 , 17 + 3339 , 17 @ @ <nl> <nl> public long func _ 72820 _ D ( ) <nl> { <nl> @ @ - 756 , 7 + 758 , 7 @ @ <nl> <nl> if ( ! this . func _ 175723 _ af ( ) . func _ 177746 _ a ( blockpos ) ) <nl> { <nl> - @ @ - 3166 , 7 + 3359 , 7 @ @ <nl> + @ @ - 3166 , 7 + 3361 , 7 @ @ <nl> <nl> public void func _ 175652 _ B ( BlockPos p _ 175652 _ 1 _ ) <nl> { <nl> @ @ - 765 , 7 + 767 , 7 @ @ <nl> } <nl> <nl> @ SideOnly ( Side . CLIENT ) <nl> - @ @ - 3186 , 12 + 3379 , 18 @ @ <nl> + @ @ - 3186 , 12 + 3381 , 18 @ @ <nl> <nl> if ( ! this . field _ 72996 _ f . contains ( p _ 72897 _ 1 _ ) ) <nl> { <nl> @ @ - 784 , 7 + 786 , 7 @ @ <nl> return true ; <nl> } <nl> <nl> - @ @ - 3285 , 8 + 3484 , 7 @ @ <nl> + @ @ - 3285 , 8 + 3486 , 7 @ @ <nl> <nl> public boolean func _ 180502 _ D ( BlockPos p _ 180502 _ 1 _ ) <nl> { <nl> @ @ - 794 , 7 + 796 , 7 @ @ <nl> } <nl> <nl> public MapStorage func _ 175693 _ T ( ) <nl> - @ @ - 3345 , 12 + 3543 , 12 @ @ <nl> + @ @ - 3345 , 12 + 3545 , 12 @ @ <nl> <nl> public int func _ 72800 _ K ( ) <nl> { <nl> @ @ - 809 , 7 + 811 , 7 @ @ <nl> } <nl> <nl> public Random func _ 72843 _ D ( int p _ 72843 _ 1 _ , int p _ 72843 _ 2 _ , int p _ 72843 _ 3 _ ) <nl> - @ @ - 3405 , 7 + 3603 , 7 @ @ <nl> + @ @ - 3405 , 7 + 3605 , 7 @ @ <nl> @ SideOnly ( Side . CLIENT ) <nl> public double func _ 72919 _ O ( ) <nl> { <nl> @ @ - 818 , 7 + 820 , 7 @ @ <nl> } <nl> <nl> public void func _ 175715 _ c ( int p _ 175715 _ 1 _ , BlockPos p _ 175715 _ 2 _ , int p _ 175715 _ 3 _ ) <nl> - @ @ - 3439 , 7 + 3637 , 7 @ @ <nl> + @ @ - 3439 , 7 + 3639 , 7 @ @ <nl> <nl> public void func _ 175666 _ e ( BlockPos p _ 175666 _ 1 _ , Block p _ 175666 _ 2 _ ) <nl> { <nl> @ @ - 827 , 7 + 829 , 7 @ @ <nl> { <nl> BlockPos blockpos = p _ 175666 _ 1 _ . func _ 177972 _ a ( enumfacing ) ; <nl> <nl> - @ @ - 3447 , 18 + 3645 , 14 @ @ <nl> + @ @ - 3447 , 18 + 3647 , 14 @ @ <nl> { <nl> IBlockState iblockstate = this . func _ 180495 _ p ( blockpos ) ; <nl> <nl> @ @ - 852 , 7 + 854 , 7 @ @ <nl> } <nl> } <nl> } <nl> - @ @ - 3528 , 4 + 3722 , 81 @ @ <nl> + @ @ - 3528 , 4 + 3724 , 81 @ @ <nl> int k = 128 ; <nl> return i > = - k & & i < = k & & j > = - k & & j < = k ; <nl> }

TEST DIFF:
diff - - git a / patches / minecraft / net / minecraft / world / World . java . patch b / patches / minecraft / net / minecraft / world / World . java . patch 
 index 402f765 . . 1844468 100644 
 - - - a / patches / minecraft / net / minecraft / world / World . java . patch 
 + + + b / patches / minecraft / net / minecraft / world / World . java . patch 
 @ @ - 17 , 20 + 17 , 21 @ @ 
 private int field _ 181546 _ a = 63 ; 
 protected boolean field _ 72999 _ e ; 
 public final List < Entity > field _ 72996 _ f = Lists . < Entity > newArrayList ( ) ; 
 - @ @ - 108 , 6 + 115 , 12 @ @ 
 + @ @ - 108 , 6 + 115 , 13 @ @ 
 private final WorldBorder field _ 175728 _ M ; 
 int [ ] field _ 72994 _ J ; 
 
 + public boolean restoringBlockSnapshots = false ; 
 + public boolean captureBlockSnapshots = false ; 
 + public java . util . ArrayList < net . minecraftforge . common . util . BlockSnapshot > capturedBlockSnapshots = new java . util . ArrayList < net . minecraftforge . common . util . BlockSnapshot > ( ) ; 
 + + private it . unimi . dsi . fastutil . longs . LongCollection tileEntitiesChunkToBeRemoved = new it . unimi . dsi . fastutil . longs . LongOpenHashSet ( ) ; 
 + private net . minecraftforge . common . capabilities . CapabilityDispatcher capabilities ; 
 + private net . minecraftforge . common . util . WorldCapabilityData capabilityData ; 
 + 
 protected World ( ISaveHandler p _ i45749 _ 1 _ , WorldInfo p _ i45749 _ 2 _ , WorldProvider p _ i45749 _ 3 _ , Profiler p _ i45749 _ 4 _ , boolean p _ i45749 _ 5 _ ) 
 { 
 this . field _ 73021 _ x = Lists . newArrayList ( this . field _ 184152 _ t ) ; 
 - @ @ - 122 , 6 + 135 , 7 @ @ 
 + @ @ - 122 , 6 + 136 , 7 @ @ 
 this . field _ 73011 _ w = p _ i45749 _ 3 _ ; 
 this . field _ 72995 _ K = p _ i45749 _ 5 _ ; 
 this . field _ 175728 _ M = p _ i45749 _ 3 _ . func _ 177501 _ r ( ) ; 
 @ @ - 38 , 7 + 39 , 7 @ @ 
 } 
 
 public World func _ 175643 _ b ( ) 
 - @ @ - 131 , 6 + 145 , 11 @ @ 
 + @ @ - 131 , 6 + 146 , 11 @ @ 
 
 public Biome func _ 180494 _ b ( final BlockPos p _ 180494 _ 1 _ ) 
 { 
 @ @ - 50 , 7 + 51 , 7 @ @ 
 if ( this . func _ 175667 _ e ( p _ 180494 _ 1 _ ) ) 
 { 
 Chunk chunk = this . func _ 175726 _ f ( p _ 180494 _ 1 _ ) ; 
 - @ @ - 207 , 7 + 226 , 7 @ @ 
 + @ @ - 207 , 7 + 227 , 7 @ @ 
 
 public boolean func _ 175623 _ d ( BlockPos p _ 175623 _ 1 _ ) 
 { 
 @ @ - 59 , 7 + 60 , 7 @ @ 
 } 
 
 public boolean func _ 175667 _ e ( BlockPos p _ 175667 _ 1 _ ) 
 - @ @ - 308 , 24 + 327 , 50 @ @ 
 + @ @ - 308 , 24 + 328 , 50 @ @ 
 else 
 { 
 Chunk chunk = this . func _ 175726 _ f ( p _ 180501 _ 1 _ ) ; 
 @ @ - 113 , 7 + 114 , 7 @ @ 
 this . func _ 184138 _ a ( p _ 180501 _ 1 _ , iblockstate , p _ 180501 _ 2 _ , p _ 180501 _ 3 _ ) ; 
 } 
 
 - @ @ - 342 , 8 + 387 , 6 @ @ 
 + @ @ - 342 , 8 + 388 , 6 @ @ 
 { 
 this . func _ 190522 _ c ( p _ 180501 _ 1 _ , block ) ; 
 } 
 @ @ - 122 , 7 + 123 , 7 @ @ 
 } 
 } 
 } 
 - @ @ - 358 , 7 + 401 , 7 @ @ 
 + @ @ - 358 , 7 + 402 , 7 @ @ 
 IBlockState iblockstate = this . func _ 180495 _ p ( p _ 175655 _ 1 _ ) ; 
 Block block = iblockstate . func _ 177230 _ c ( ) ; 
 
 @ @ - 131 , 7 + 132 , 7 @ @ 
 { 
 return false ; 
 } 
 - @ @ - 441 , 6 + 484 , 9 @ @ 
 + @ @ - 441 , 6 + 485 , 9 @ @ 
 
 public void func _ 175685 _ c ( BlockPos p _ 175685 _ 1 _ , Block p _ 175685 _ 2 _ , boolean p _ 175685 _ 3 _ ) 
 { 
 @ @ - 141 , 7 + 142 , 7 @ @ 
 this . func _ 190524 _ a ( p _ 175685 _ 1 _ . func _ 177976 _ e ( ) , p _ 175685 _ 2 _ , p _ 175685 _ 1 _ ) ; 
 this . func _ 190524 _ a ( p _ 175685 _ 1 _ . func _ 177974 _ f ( ) , p _ 175685 _ 2 _ , p _ 175685 _ 1 _ ) ; 
 this . func _ 190524 _ a ( p _ 175685 _ 1 _ . func _ 177977 _ b ( ) , p _ 175685 _ 2 _ , p _ 175685 _ 1 _ ) ; 
 - @ @ - 456 , 6 + 502 , 11 @ @ 
 + @ @ - 456 , 6 + 503 , 11 @ @ 
 
 public void func _ 175695 _ a ( BlockPos p _ 175695 _ 1 _ , Block p _ 175695 _ 2 _ , EnumFacing p _ 175695 _ 3 _ ) 
 { 
 @ @ - 153 , 7 + 154 , 7 @ @ 
 if ( p _ 175695 _ 3 _ ! = EnumFacing . WEST ) 
 { 
 this . func _ 190524 _ a ( p _ 175695 _ 1 _ . func _ 177976 _ e ( ) , p _ 175695 _ 2 _ , p _ 175695 _ 1 _ ) ; 
 - @ @ - 527 , 11 + 578 , 11 @ @ 
 + @ @ - 527 , 11 + 579 , 11 @ @ 
 { 
 IBlockState iblockstate = this . func _ 180495 _ p ( p _ 190529 _ 1 _ ) ; 
 
 @ @ - 167 , 7 + 168 , 7 @ @ 
 } 
 catch ( Throwable throwable ) 
 { 
 - @ @ - 588 , 7 + 639 , 7 @ @ 
 + @ @ - 588 , 7 + 640 , 7 @ @ 
 { 
 IBlockState iblockstate = this . func _ 180495 _ p ( blockpos1 ) ; 
 
 @ @ - 176 , 7 + 177 , 7 @ @ 
 { 
 return false ; 
 } 
 - @ @ - 862 , 7 + 913 , 7 @ @ 
 + @ @ - 862 , 7 + 914 , 7 @ @ 
 
 public boolean func _ 72935 _ r ( ) 
 { 
 @ @ - 185 , 7 + 186 , 7 @ @ 
 } 
 
 @ Nullable 
 - @ @ - 1065 , 6 + 1116 , 13 @ @ 
 + @ @ - 1065 , 6 + 1117 , 13 @ @ 
 
 public void func _ 184148 _ a ( @ Nullable EntityPlayer p _ 184148 _ 1 _ , double p _ 184148 _ 2 _ , double p _ 184148 _ 4 _ , double p _ 184148 _ 6 _ , SoundEvent p _ 184148 _ 8 _ , SoundCategory p _ 184148 _ 9 _ , float p _ 184148 _ 10 _ , float p _ 184148 _ 11 _ ) 
 { 
 @ @ - 199 , 7 + 200 , 7 @ @ 
 for ( int i = 0 ; i < this . field _ 73021 _ x . size ( ) ; + + i ) 
 { 
 ( ( IWorldEventListener ) this . field _ 73021 _ x . get ( i ) ) . func _ 184375 _ a ( p _ 184148 _ 1 _ , p _ 184148 _ 8 _ , p _ 184148 _ 9 _ , p _ 184148 _ 2 _ , p _ 184148 _ 4 _ , p _ 184148 _ 6 _ , p _ 184148 _ 10 _ , p _ 184148 _ 11 _ ) ; 
 - @ @ - 1118 , 6 + 1176 , 9 @ @ 
 + @ @ - 1118 , 6 + 1177 , 9 @ @ 
 
 public boolean func _ 72838 _ d ( Entity p _ 72838 _ 1 _ ) 
 { 
 @ @ - 209 , 7 + 210 , 7 @ @ 
 int i = MathHelper . func _ 76128 _ c ( p _ 72838 _ 1 _ . field _ 70165 _ t / 16 . 0D ) ; 
 int j = MathHelper . func _ 76128 _ c ( p _ 72838 _ 1 _ . field _ 70161 _ v / 16 . 0D ) ; 
 boolean flag = p _ 72838 _ 1 _ . field _ 98038 _ p ; 
 - @ @ - 1140 , 6 + 1201 , 8 @ @ 
 + @ @ - 1140 , 6 + 1202 , 8 @ @ 
 this . func _ 72854 _ c ( ) ; 
 } 
 
 @ @ - 218 , 7 + 219 , 7 @ @ 
 this . func _ 72964 _ e ( i , j ) . func _ 76612 _ a ( p _ 72838 _ 1 _ ) ; 
 this . field _ 72996 _ f . add ( p _ 72838 _ 1 _ ) ; 
 this . func _ 72923 _ a ( p _ 72838 _ 1 _ ) ; 
 - @ @ - 1268 , 6 + 1331 , 7 @ @ 
 + @ @ - 1268 , 6 + 1332 , 7 @ @ 
 } 
 
 iblockstate1 . func _ 185908 _ a ( this , blockpos $ pooledmutableblockpos , p _ 191504 _ 2 _ , p _ 191504 _ 4 _ , p _ 191504 _ 1 _ , false ) ; 
 @ @ - 226 , 7 + 227 , 7 @ @ 
 
 if ( p _ 191504 _ 3 _ & & ! p _ 191504 _ 4 _ . isEmpty ( ) ) 
 { 
 - @ @ - 1319 , 11 + 1383 , 10 @ @ 
 + @ @ - 1319 , 11 + 1384 , 10 @ @ 
 } 
 } 
 } 
 @ @ - 239 , 7 + 240 , 7 @ @ 
 public void func _ 72848 _ b ( IWorldEventListener p _ 72848 _ 1 _ ) 
 { 
 this . field _ 73021 _ x . remove ( p _ 72848 _ 1 _ ) ; 
 - @ @ - 1361 , 19 + 1424 , 38 @ @ 
 + @ @ - 1361 , 19 + 1425 , 38 @ @ 
 
 public int func _ 72967 _ a ( float p _ 72967 _ 1 _ ) 
 { 
 @ @ - 280 , 7 + 281 , 7 @ @ 
 float f = this . func _ 72826 _ c ( p _ 72971 _ 1 _ ) ; 
 float f1 = 1 . 0F - ( MathHelper . func _ 76134 _ b ( f * ( ( float ) Math . PI * 2F ) ) * 2 . 0F + 0 . 2F ) ; 
 f1 = MathHelper . func _ 76131 _ a ( f1 , 0 . 0F , 1 . 0F ) ; 
 - @ @ - 1386 , 6 + 1468 , 12 @ @ 
 + @ @ - 1386 , 6 + 1469 , 12 @ @ 
 @ SideOnly ( Side . CLIENT ) 
 public Vec3d func _ 72833 _ a ( Entity p _ 72833 _ 1 _ , float p _ 72833 _ 2 _ ) 
 { 
 @ @ - 293 , 7 + 294 , 7 @ @ 
 float f = this . func _ 72826 _ c ( p _ 72833 _ 2 _ ) ; 
 float f1 = MathHelper . func _ 76134 _ b ( f * ( ( float ) Math . PI * 2F ) ) * 2 . 0F + 0 . 5F ; 
 f1 = MathHelper . func _ 76131 _ a ( f1 , 0 . 0F , 1 . 0F ) ; 
 - @ @ - 1393 , 9 + 1481 , 7 @ @ 
 + @ @ - 1393 , 9 + 1482 , 7 @ @ 
 int j = MathHelper . func _ 76128 _ c ( p _ 72833 _ 1 _ . field _ 70163 _ u ) ; 
 int k = MathHelper . func _ 76128 _ c ( p _ 72833 _ 1 _ . field _ 70161 _ v ) ; 
 BlockPos blockpos = new BlockPos ( i , j , k ) ; 
 @ @ - 304 , 7 + 305 , 7 @ @ 
 float f3 = ( float ) ( l > > 16 & 255 ) / 255 . 0F ; 
 float f4 = ( float ) ( l > > 8 & 255 ) / 255 . 0F ; 
 float f5 = ( float ) ( l & 255 ) / 255 . 0F ; 
 - @ @ - 1444 , 20 + 1530 , 25 @ @ 
 + @ @ - 1444 , 20 + 1531 , 25 @ @ 
 
 public float func _ 72826 _ c ( float p _ 72826 _ 1 _ ) 
 { 
 @ @ - 333 , 7 + 334 , 7 @ @ 
 public float func _ 72929 _ e ( float p _ 72929 _ 1 _ ) 
 { 
 float f = this . func _ 72826 _ c ( p _ 72929 _ 1 _ ) ; 
 - @ @ - 1467 , 6 + 1558 , 12 @ @ 
 + @ @ - 1467 , 6 + 1559 , 12 @ @ 
 @ SideOnly ( Side . CLIENT ) 
 public Vec3d func _ 72824 _ f ( float p _ 72824 _ 1 _ ) 
 { 
 @ @ - 346 , 7 + 347 , 7 @ @ 
 float f = this . func _ 72826 _ c ( p _ 72824 _ 1 _ ) ; 
 float f1 = MathHelper . func _ 76134 _ b ( f * ( ( float ) Math . PI * 2F ) ) * 2 . 0F + 0 . 5F ; 
 f1 = MathHelper . func _ 76131 _ a ( f1 , 0 . 0F , 1 . 0F ) ; 
 - @ @ - 1522 , 9 + 1619 , 9 @ @ 
 + @ @ - 1522 , 9 + 1620 , 9 @ @ 
 for ( blockpos = new BlockPos ( p _ 175672 _ 1 _ . func _ 177958 _ n ( ) , chunk . func _ 76625 _ h ( ) + 16 , p _ 175672 _ 1 _ . func _ 177952 _ p ( ) ) ; blockpos . func _ 177956 _ o ( ) > = 0 ; blockpos = blockpos1 ) 
 { 
 blockpos1 = blockpos . func _ 177977 _ b ( ) ; 
 @ @ - 358 , 7 + 359 , 7 @ @ 
 { 
 break ; 
 } 
 - @ @ - 1536 , 6 + 1633 , 12 @ @ 
 + @ @ - 1536 , 6 + 1634 , 12 @ @ 
 @ SideOnly ( Side . CLIENT ) 
 public float func _ 72880 _ h ( float p _ 72880 _ 1 _ ) 
 { 
 @ @ - 371 , 7 + 372 , 7 @ @ 
 float f = this . func _ 72826 _ c ( p _ 72880 _ 1 _ ) ; 
 float f1 = 1 . 0F - ( MathHelper . func _ 76134 _ b ( f * ( ( float ) Math . PI * 2F ) ) * 2 . 0F + 0 . 25F ) ; 
 f1 = MathHelper . func _ 76131 _ a ( f1 , 0 . 0F , 1 . 0F ) ; 
 - @ @ - 1570 , 6 + 1673 , 7 @ @ 
 + @ @ - 1570 , 6 + 1674 , 7 @ @ 
 
 try 
 { 
 @ @ - 379 , 7 + 380 , 7 @ @ 
 + + entity . field _ 70173 _ aa ; 
 entity . func _ 70071 _ h _ ( ) ; 
 } 
 - @ @ - 1587 , 6 + 1691 , 12 @ @ 
 + @ @ - 1587 , 6 + 1692 , 12 @ @ 
 entity . func _ 85029 _ a ( crashreportcategory ) ; 
 } 
 
 @ @ - 392 , 7 + 393 , 7 @ @ 
 throw new ReportedException ( crashreport ) ; 
 } 
 
 - @ @ - 1648 , 6 + 1758 , 12 @ @ 
 + @ @ - 1648 , 6 + 1759 , 12 @ @ 
 CrashReport crashreport1 = CrashReport . func _ 85055 _ a ( throwable1 , " Ticking entity " ) ; 
 CrashReportCategory crashreportcategory1 = crashreport1 . func _ 85058 _ a ( " Entity being ticked " ) ; 
 entity2 . func _ 85029 _ a ( crashreportcategory1 ) ; 
 @ @ - 405 , 7 + 406 , 7 @ @ 
 throw new ReportedException ( crashreport1 ) ; 
 } 
 } 
 - @ @ - 1684 , 7 + 1800 , 7 @ @ 
 + @ @ - 1684 , 7 + 1801 , 7 @ @ 
 { 
 BlockPos blockpos = tileentity . func _ 174877 _ v ( ) ; 
 
 @ @ - 414 , 7 + 415 , 7 @ @ 
 { 
 try 
 { 
 - @ @ - 1700 , 6 + 1816 , 13 @ @ 
 + @ @ - 1700 , 6 + 1817 , 13 @ @ 
 CrashReport crashreport2 = CrashReport . func _ 85055 _ a ( throwable , " Ticking block entity " ) ; 
 CrashReportCategory crashreportcategory2 = crashreport2 . func _ 85058 _ a ( " Block entity being ticked " ) ; 
 tileentity . func _ 145828 _ a ( crashreportcategory2 ) ; 
 @ @ - 428 , 7 + 429 , 7 @ @ 
 throw new ReportedException ( crashreport2 ) ; 
 } 
 } 
 - @ @ - 1712 , 20 + 1835 , 28 @ @ 
 + @ @ - 1712 , 20 + 1836 , 29 @ @ 
 
 if ( this . func _ 175667 _ e ( tileentity . func _ 174877 _ v ( ) ) ) 
 { 
 @ @ - 455 , 12 + 456 , 13 @ @ 
 this . field _ 147483 _ b . clear ( ) ; 
 } 
 
 + + this . removeTileEntitiesForRemovedChunks ( ) ; 
 + this . field _ 147481 _ N = false ; / / FML Move below remove to prevent CMEs 
 + 
 this . field _ 72984 _ F . func _ 76318 _ c ( " pendingBlockEntities " ) ; 
 
 if ( ! this . field _ 147484 _ a . isEmpty ( ) ) 
 - @ @ - 1764 , 12 + 1895 , 18 @ @ 
 + @ @ - 1764 , 12 + 1897 , 18 @ @ 
 
 public boolean func _ 175700 _ a ( TileEntity p _ 175700 _ 1 _ ) 
 { 
 @ @ - 479 , 7 + 481 , 7 @ @ 
 
 if ( this . field _ 72995 _ K ) 
 { 
 - @ @ - 1785 , 6 + 1922 , 11 @ @ 
 + @ @ - 1785 , 6 + 1924 , 11 @ @ 
 { 
 if ( this . field _ 147481 _ N ) 
 { 
 @ @ - 491 , 7 + 493 , 7 @ @ 
 this . field _ 147484 _ a . addAll ( p _ 147448 _ 1 _ ) ; 
 } 
 else 
 - @ @ - 1807 , 9 + 1949 , 13 @ @ 
 + @ @ - 1807 , 9 + 1951 , 13 @ @ 
 { 
 int j2 = MathHelper . func _ 76128 _ c ( p _ 72866 _ 1 _ . field _ 70165 _ t ) ; 
 int k2 = MathHelper . func _ 76128 _ c ( p _ 72866 _ 1 _ . field _ 70161 _ v ) ; 
 @ @ - 507 , 7 + 509 , 7 @ @ 
 { 
 return ; 
 } 
 - @ @ - 1831 , 6 + 1977 , 7 @ @ 
 + @ @ - 1831 , 6 + 1979 , 7 @ @ 
 } 
 else 
 { 
 @ @ - 515 , 7 + 517 , 7 @ @ 
 p _ 72866 _ 1 _ . func _ 70071 _ h _ ( ) ; 
 } 
 } 
 - @ @ - 2011 , 6 + 2158 , 11 @ @ 
 + @ @ - 2011 , 6 + 2160 , 11 @ @ 
 blockpos $ pooledmutableblockpos . func _ 185344 _ t ( ) ; 
 return true ; 
 } 
 @ @ - 527 , 7 + 529 , 7 @ @ 
 } 
 } 
 } 
 - @ @ - 2050 , 6 + 2202 , 16 @ @ 
 + @ @ - 2050 , 6 + 2204 , 16 @ @ 
 IBlockState iblockstate1 = this . func _ 180495 _ p ( blockpos $ pooledmutableblockpos ) ; 
 Block block = iblockstate1 . func _ 177230 _ c ( ) ; 
 
 @ @ - 544 , 7 + 546 , 7 @ @ 
 if ( iblockstate1 . func _ 185904 _ a ( ) = = p _ 72918 _ 2 _ ) 
 { 
 double d0 = ( double ) ( ( float ) ( i4 + 1 ) - BlockLiquid . func _ 149801 _ b ( ( ( Integer ) iblockstate1 . func _ 177229 _ b ( BlockLiquid . field _ 176367 _ b ) ) . intValue ( ) ) ) ; 
 - @ @ - 2116 , 6 + 2278 , 7 @ @ 
 + @ @ - 2116 , 6 + 2280 , 7 @ @ 
 public Explosion func _ 72885 _ a ( @ Nullable Entity p _ 72885 _ 1 _ , double p _ 72885 _ 2 _ , double p _ 72885 _ 4 _ , double p _ 72885 _ 6 _ , float p _ 72885 _ 8 _ , boolean p _ 72885 _ 9 _ , boolean p _ 72885 _ 10 _ ) 
 { 
 Explosion explosion = new Explosion ( this , p _ 72885 _ 1 _ , p _ 72885 _ 2 _ , p _ 72885 _ 4 _ , p _ 72885 _ 6 _ , p _ 72885 _ 8 _ , p _ 72885 _ 9 _ , p _ 72885 _ 10 _ ) ; 
 @ @ - 552 , 7 + 554 , 7 @ @ 
 explosion . func _ 77278 _ a ( ) ; 
 explosion . func _ 77279 _ a ( true ) ; 
 return explosion ; 
 - @ @ - 2238 , 6 + 2401 , 7 @ @ 
 + @ @ - 2238 , 6 + 2403 , 7 @ @ 
 
 public void func _ 175690 _ a ( BlockPos p _ 175690 _ 1 _ , @ Nullable TileEntity p _ 175690 _ 2 _ ) 
 { 
 @ @ - 560 , 7 + 562 , 7 @ @ 
 if ( ! this . func _ 189509 _ E ( p _ 175690 _ 1 _ ) ) 
 { 
 if ( p _ 175690 _ 2 _ ! = null & & ! p _ 175690 _ 2 _ . func _ 145837 _ r ( ) ) 
 - @ @ - 2245 , 6 + 2409 , 8 @ @ 
 + @ @ - 2245 , 6 + 2411 , 8 @ @ 
 if ( this . field _ 147481 _ N ) 
 { 
 p _ 175690 _ 2 _ . func _ 174878 _ a ( p _ 175690 _ 1 _ ) ; 
 @ @ - 569 , 7 + 571 , 7 @ @ 
 Iterator < TileEntity > iterator1 = this . field _ 147484 _ a . iterator ( ) ; 
 
 while ( iterator1 . hasNext ( ) ) 
 - @ @ - 2262 , 7 + 2428 , 8 @ @ 
 + @ @ - 2262 , 7 + 2430 , 8 @ @ 
 } 
 else 
 { 
 @ @ - 579 , 7 + 581 , 7 @ @ 
 this . func _ 175700 _ a ( p _ 175690 _ 2 _ ) ; 
 } 
 } 
 - @ @ - 2277 , 6 + 2444 , 8 @ @ 
 + @ @ - 2277 , 6 + 2446 , 8 @ @ 
 { 
 tileentity2 . func _ 145843 _ s ( ) ; 
 this . field _ 147484 _ a . remove ( tileentity2 ) ; 
 @ @ - 588 , 7 + 590 , 7 @ @ 
 } 
 else 
 { 
 - @ @ - 2289 , 6 + 2458 , 7 @ @ 
 + @ @ - 2289 , 6 + 2460 , 7 @ @ 
 
 this . func _ 175726 _ f ( p _ 175713 _ 1 _ ) . func _ 177425 _ e ( p _ 175713 _ 1 _ ) ; 
 } 
 @ @ - 596 , 7 + 598 , 7 @ @ 
 } 
 
 public void func _ 147457 _ a ( TileEntity p _ 147457 _ 1 _ ) 
 - @ @ - 2315 , 7 + 2485 , 7 @ @ 
 + @ @ - 2315 , 7 + 2487 , 7 @ @ 
 if ( chunk1 ! = null & & ! chunk1 . func _ 76621 _ g ( ) ) 
 { 
 IBlockState iblockstate1 = this . func _ 180495 _ p ( p _ 175677 _ 1 _ ) ; 
 @ @ - 605 , 7 + 607 , 7 @ @ 
 } 
 else 
 { 
 - @ @ - 2338 , 6 + 2508 , 7 @ @ 
 + @ @ - 2338 , 6 + 2510 , 7 @ @ 
 { 
 this . field _ 72985 _ G = p _ 72891 _ 1 _ ; 
 this . field _ 72992 _ H = p _ 72891 _ 2 _ ; 
 @ @ - 613 , 7 + 615 , 7 @ @ 
 } 
 
 public void func _ 72835 _ b ( ) 
 - @ @ - 2347 , 6 + 2518 , 11 @ @ 
 + @ @ - 2347 , 6 + 2520 , 11 @ @ 
 
 protected void func _ 72947 _ a ( ) 
 { 
 @ @ - 625 , 7 + 627 , 7 @ @ 
 if ( this . field _ 72986 _ A . func _ 76059 _ o ( ) ) 
 { 
 this . field _ 73004 _ o = 1 . 0F ; 
 - @ @ - 2360 , 6 + 2536 , 11 @ @ 
 + @ @ - 2360 , 6 + 2538 , 11 @ @ 
 
 protected void func _ 72979 _ l ( ) 
 { 
 @ @ - 637 , 7 + 639 , 7 @ @ 
 if ( this . field _ 73011 _ w . func _ 191066 _ m ( ) ) 
 { 
 if ( ! this . field _ 72995 _ K ) 
 - @ @ - 2484 , 6 + 2665 , 11 @ @ 
 + @ @ - 2484 , 6 + 2667 , 11 @ @ 
 
 public boolean func _ 175670 _ e ( BlockPos p _ 175670 _ 1 _ , boolean p _ 175670 _ 2 _ ) 
 { 
 @ @ - 649 , 7 + 651 , 7 @ @ 
 Biome biome = this . func _ 180494 _ b ( p _ 175670 _ 1 _ ) ; 
 float f = biome . func _ 180626 _ a ( p _ 175670 _ 1 _ ) ; 
 
 - @ @ - 2525 , 6 + 2711 , 11 @ @ 
 + @ @ - 2525 , 6 + 2713 , 11 @ @ 
 
 public boolean func _ 175708 _ f ( BlockPos p _ 175708 _ 1 _ , boolean p _ 175708 _ 2 _ ) 
 { 
 @ @ - 661 , 7 + 663 , 7 @ @ 
 Biome biome = this . func _ 180494 _ b ( p _ 175708 _ 1 _ ) ; 
 float f = biome . func _ 180626 _ a ( p _ 175708 _ 1 _ ) ; 
 
 - @ @ - 2542 , 7 + 2733 , 7 @ @ 
 + @ @ - 2542 , 7 + 2735 , 7 @ @ 
 { 
 IBlockState iblockstate1 = this . func _ 180495 _ p ( p _ 175708 _ 1 _ ) ; 
 
 @ @ - 670 , 7 + 672 , 7 @ @ 
 { 
 return true ; 
 } 
 - @ @ - 2574 , 10 + 2765 , 11 @ @ 
 + @ @ - 2574 , 10 + 2767 , 11 @ @ 
 else 
 { 
 IBlockState iblockstate1 = this . func _ 180495 _ p ( p _ 175638 _ 1 _ ) ; 
 @ @ - 685 , 7 + 687 , 7 @ @ 
 { 
 k2 = 1 ; 
 } 
 - @ @ - 2683 , 7 + 2875 , 8 @ @ 
 + @ @ - 2683 , 7 + 2877 , 8 @ @ 
 int k6 = k4 + enumfacing . func _ 96559 _ d ( ) ; 
 int l6 = l4 + enumfacing . func _ 82599 _ e ( ) ; 
 blockpos $ pooledmutableblockpos . func _ 181079 _ c ( j6 , k6 , l6 ) ; 
 @ @ - 695 , 7 + 697 , 7 @ @ 
 j5 = this . func _ 175642 _ b ( p _ 180500 _ 1 _ , blockpos $ pooledmutableblockpos ) ; 
 
 if ( j5 = = i5 - i7 & & k2 < this . field _ 72994 _ J . length ) 
 - @ @ - 2791 , 10 + 2984 , 10 @ @ 
 + @ @ - 2791 , 10 + 2986 , 10 @ @ 
 public List < Entity > func _ 175674 _ a ( @ Nullable Entity p _ 175674 _ 1 _ , AxisAlignedBB p _ 175674 _ 2 _ , @ Nullable Predicate < ? super Entity > p _ 175674 _ 3 _ ) 
 { 
 List < Entity > list = Lists . < Entity > newArrayList ( ) ; 
 @ @ - 710 , 7 + 712 , 7 @ @ 
 
 for ( int j3 = j2 ; j3 < = k2 ; + + j3 ) 
 { 
 - @ @ - 2847 , 10 + 3040 , 10 @ @ 
 + @ @ - 2847 , 10 + 3042 , 10 @ @ 
 
 public < T extends Entity > List < T > func _ 175647 _ a ( Class < ? extends T > p _ 175647 _ 1 _ , AxisAlignedBB p _ 175647 _ 2 _ , @ Nullable Predicate < ? super T > p _ 175647 _ 3 _ ) 
 { 
 @ @ - 725 , 7 + 727 , 7 @ @ 
 List < T > list = Lists . < T > newArrayList ( ) ; 
 
 for ( int j3 = j2 ; j3 < k2 ; + + j3 ) 
 - @ @ - 2930 , 11 + 3123 , 13 @ @ 
 + @ @ - 2930 , 11 + 3125 , 13 @ @ 
 
 public void func _ 175650 _ b ( Collection < Entity > p _ 175650 _ 1 _ ) 
 { 
 @ @ - 742 , 7 + 744 , 7 @ @ 
 } 
 } 
 
 - @ @ - 2958 , 7 + 3153 , 7 @ @ 
 + @ @ - 2958 , 7 + 3155 , 7 @ @ 
 } 
 else 
 { 
 @ @ - 751 , 7 + 753 , 7 @ @ 
 } 
 } 
 
 - @ @ - 3042 , 7 + 3237 , 7 @ @ 
 + @ @ - 3042 , 7 + 3239 , 7 @ @ 
 public int func _ 175651 _ c ( BlockPos p _ 175651 _ 1 _ , EnumFacing p _ 175651 _ 2 _ ) 
 { 
 IBlockState iblockstate1 = this . func _ 180495 _ p ( p _ 175651 _ 1 _ ) ; 
 @ @ - 760 , 7 + 762 , 7 @ @ 
 } 
 
 public boolean func _ 175640 _ z ( BlockPos p _ 175640 _ 1 _ ) 
 - @ @ - 3208 , 6 + 3403 , 8 @ @ 
 + @ @ - 3208 , 6 + 3405 , 8 @ @ 
 d2 * = ( ( Double ) MoreObjects . firstNonNull ( p _ 184150 _ 11 _ . apply ( entityplayer1 ) , Double . valueOf ( 1 . 0D ) ) ) . doubleValue ( ) ; 
 } 
 
 @ @ - 769 , 7 + 771 , 7 @ @ 
 if ( ( p _ 184150 _ 9 _ < 0 . 0D | | Math . abs ( entityplayer1 . field _ 70163 _ u - p _ 184150 _ 3 _ ) < p _ 184150 _ 9 _ * p _ 184150 _ 9 _ ) & & ( p _ 184150 _ 7 _ < 0 . 0D | | d1 < d2 * d2 ) & & ( d0 = = - 1 . 0D | | d1 < d0 ) ) 
 { 
 d0 = d1 ; 
 - @ @ - 3269 , 7 + 3466 , 7 @ @ 
 + @ @ - 3269 , 7 + 3468 , 7 @ @ 
 
 public long func _ 72905 _ C ( ) 
 { 
 @ @ - 778 , 7 + 780 , 7 @ @ 
 } 
 
 public long func _ 82737 _ E ( ) 
 - @ @ - 3279 , 17 + 3476 , 17 @ @ 
 + @ @ - 3279 , 17 + 3478 , 17 @ @ 
 
 public long func _ 72820 _ D ( ) 
 { 
 @ @ - 799 , 7 + 801 , 7 @ @ 
 
 if ( ! this . func _ 175723 _ af ( ) . func _ 177746 _ a ( blockpos1 ) ) 
 { 
 - @ @ - 3301 , 7 + 3498 , 7 @ @ 
 + @ @ - 3301 , 7 + 3500 , 7 @ @ 
 
 public void func _ 175652 _ B ( BlockPos p _ 175652 _ 1 _ ) 
 { 
 @ @ - 808 , 7 + 810 , 7 @ @ 
 } 
 
 @ SideOnly ( Side . CLIENT ) 
 - @ @ - 3321 , 12 + 3518 , 18 @ @ 
 + @ @ - 3321 , 12 + 3520 , 18 @ @ 
 
 if ( ! this . field _ 72996 _ f . contains ( p _ 72897 _ 1 _ ) ) 
 { 
 @ @ - 827 , 7 + 829 , 7 @ @ 
 return true ; 
 } 
 
 - @ @ - 3428 , 8 + 3631 , 7 @ @ 
 + @ @ - 3428 , 8 + 3633 , 7 @ @ 
 
 public boolean func _ 180502 _ D ( BlockPos p _ 180502 _ 1 _ ) 
 { 
 @ @ - 837 , 7 + 839 , 7 @ @ 
 } 
 
 @ Nullable 
 - @ @ - 3490 , 12 + 3692 , 12 @ @ 
 + @ @ - 3490 , 12 + 3694 , 12 @ @ 
 
 public int func _ 72800 _ K ( ) 
 { 
 @ @ - 852 , 7 + 854 , 7 @ @ 
 } 
 
 public Random func _ 72843 _ D ( int p _ 72843 _ 1 _ , int p _ 72843 _ 2 _ , int p _ 72843 _ 3 _ ) 
 - @ @ - 3539 , 7 + 3741 , 7 @ @ 
 + @ @ - 3539 , 7 + 3743 , 7 @ @ 
 @ SideOnly ( Side . CLIENT ) 
 public double func _ 72919 _ O ( ) 
 { 
 @ @ - 861 , 7 + 863 , 7 @ @ 
 } 
 
 public void func _ 175715 _ c ( int p _ 175715 _ 1 _ , BlockPos p _ 175715 _ 2 _ , int p _ 175715 _ 3 _ ) 
 - @ @ - 3573 , 7 + 3775 , 7 @ @ 
 + @ @ - 3573 , 7 + 3777 , 7 @ @ 
 
 public void func _ 175666 _ e ( BlockPos p _ 175666 _ 1 _ , Block p _ 175666 _ 2 _ ) 
 { 
 @ @ - 870 , 7 + 872 , 7 @ @ 
 { 
 BlockPos blockpos1 = p _ 175666 _ 1 _ . func _ 177972 _ a ( enumfacing ) ; 
 
 - @ @ - 3581 , 18 + 3783 , 15 @ @ 
 + @ @ - 3581 , 18 + 3785 , 15 @ @ 
 { 
 IBlockState iblockstate1 = this . func _ 180495 _ p ( blockpos1 ) ; 
 
 @ @ - 893 , 7 + 895 , 7 @ @ 
 } 
 } 
 } 
 - @ @ - 3658 , 6 + 3857 , 115 @ @ 
 + @ @ - 3658 , 6 + 3859 , 149 @ @ 
 return j2 > = - 128 & & j2 < = 128 & & k2 > = - 128 & & k2 < = 128 ; 
 } 
 
 @ @ - 972 , 6 + 974 , 40 @ @ 
 + return count ; 
 + } 
 + 
 + + public void markTileEntitiesInChunkForRemoval ( Chunk chunk ) 
 + + { 
 + + if ( ! chunk . func _ 177434 _ r ( ) . isEmpty ( ) ) 
 + + { 
 + + long pos = net . minecraft . util . math . ChunkPos . func _ 77272 _ a ( chunk . field _ 76635 _ g , chunk . field _ 76647 _ h ) ; 
 + + this . tileEntitiesChunkToBeRemoved . add ( pos ) ; 
 + + } 
 + + } 
 + + 
 + + private void removeTileEntitiesForRemovedChunks ( ) 
 + + { 
 + + if ( ! this . tileEntitiesChunkToBeRemoved . isEmpty ( ) ) 
 + + { 
 + + java . util . function . Predicate < TileEntity > isInChunk = ( tileEntity ) - > 
 + + { 
 + + BlockPos tilePos = tileEntity . func _ 174877 _ v ( ) ; 
 + + long tileChunkPos = net . minecraft . util . math . ChunkPos . func _ 77272 _ a ( tilePos . func _ 177958 _ n ( ) > > 4 , tilePos . func _ 177952 _ p ( ) > > 4 ) ; 
 + + return this . tileEntitiesChunkToBeRemoved . contains ( tileChunkPos ) ; 
 + + } ; 
 + + java . util . function . Predicate < TileEntity > isInChunkDoUnload = ( tileEntity ) - > 
 + + { 
 + + boolean inChunk = isInChunk . test ( tileEntity ) ; 
 + + if ( inChunk ) 
 + + { 
 + + tileEntity . onChunkUnload ( ) ; 
 + + } 
 + + return inChunk ; 
 + + } ; 
 + + this . field _ 175730 _ i . removeIf ( isInChunk ) ; 
 + + this . field _ 147482 _ g . removeIf ( isInChunkDoUnload ) ; 
 + + this . tileEntitiesChunkToBeRemoved . clear ( ) ; 
 + + } 
 + + } 
 + + 
 + protected void initCapabilities ( ) 
 + { 
 + net . minecraftforge . common . capabilities . ICapabilityProvider parent = field _ 73011 _ w . initCapabilities ( ) ; 
 diff - - git a / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch b / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch 
 index 444dee2 . . 988af19 100644 
 - - - a / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch 
 + + + b / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch 
 @ @ - 157 , 7 + 157 , 7 @ @ 
 { 
 if ( this . field _ 150816 _ i . containsKey ( p _ 177426 _ 1 _ ) ) 
 { 
 - @ @ - 854 , 8 + 854 , 9 @ @ 
 + @ @ - 854 , 14 + 854 , 17 @ @ 
 
 for ( ClassInheritanceMultiMap < Entity > classinheritancemultimap : this . field _ 76645 _ j ) 
 { 
 @ @ - 168 , 7 + 168 , 15 @ @ 
 } 
 
 public void func _ 76623 _ d ( ) 
 - @ @ - 871 , 6 + 872 , 7 @ @ 
 + { 
 + this . field _ 76636 _ d = false ; 
 + 
 + + this . field _ 76637 _ e . markTileEntitiesInChunkForRemoval ( this ) ; 
 + + if ( false ) / / Forge : remove all TEs in a chunk at once instead of marking each one for removal 
 + for ( TileEntity tileentity : this . field _ 150816 _ i . values ( ) ) 
 + { 
 + this . field _ 76637 _ e . func _ 147457 _ a ( tileentity ) ; 
 + @ @ - 871 , 6 + 874 , 7 @ @ 
 { 
 this . field _ 76637 _ e . func _ 175681 _ c ( classinheritancemultimap ) ; 
 } 
 @ @ - 176 , 7 + 184 , 7 @ @ 
 } 
 
 public void func _ 76630 _ e ( ) 
 - @ @ - 880 , 8 + 882 , 8 @ @ 
 + @ @ - 880 , 8 + 884 , 8 @ @ 
 
 public void func _ 177414 _ a ( @ Nullable Entity p _ 177414 _ 1 _ , AxisAlignedBB p _ 177414 _ 2 _ , List < Entity > p _ 177414 _ 3 _ , Predicate < ? super Entity > p _ 177414 _ 4 _ ) 
 { 
 @ @ - 187 , 7 + 195 , 7 @ @ 
 i = MathHelper . func _ 76125 _ a ( i , 0 , this . field _ 76645 _ j . length - 1 ) ; 
 j = MathHelper . func _ 76125 _ a ( j , 0 , this . field _ 76645 _ j . length - 1 ) ; 
 
 - @ @ - 918 , 8 + 920 , 8 @ @ 
 + @ @ - 918 , 8 + 922 , 8 @ @ 
 
 public < T extends Entity > void func _ 177430 _ a ( Class < ? extends T > p _ 177430 _ 1 _ , AxisAlignedBB p _ 177430 _ 2 _ , List < T > p _ 177430 _ 3 _ , Predicate < ? super T > p _ 177430 _ 4 _ ) 
 { 
 @ @ - 198 , 7 + 206 , 7 @ @ 
 i = MathHelper . func _ 76125 _ a ( i , 0 , this . field _ 76645 _ j . length - 1 ) ; 
 j = MathHelper . func _ 76125 _ a ( j , 0 , this . field _ 76645 _ j . length - 1 ) ; 
 
 - @ @ - 997 , 6 + 999 , 8 @ @ 
 + @ @ - 997 , 6 + 1001 , 8 @ @ 
 
 protected void func _ 186034 _ a ( IChunkGenerator p _ 186034 _ 1 _ ) 
 { 
 @ @ - 207 , 7 + 215 , 7 @ @ 
 if ( this . func _ 177419 _ t ( ) ) 
 { 
 if ( p _ 186034 _ 1 _ . func _ 185933 _ a ( this , this . field _ 76635 _ g , this . field _ 76647 _ h ) ) 
 - @ @ - 1008 , 8 + 1012 , 10 @ @ 
 + @ @ - 1008 , 8 + 1014 , 10 @ @ 
 { 
 this . func _ 150809 _ p ( ) ; 
 p _ 186034 _ 1 _ . func _ 185931 _ b ( this . field _ 76635 _ g , this . field _ 76647 _ h ) ; 
 @ @ - 218 , 7 + 226 , 7 @ @ 
 } 
 
 public BlockPos func _ 177440 _ h ( BlockPos p _ 177440 _ 1 _ ) 
 - @ @ - 1064 , 7 + 1070 , 7 @ @ 
 + @ @ - 1064 , 7 + 1072 , 7 @ @ 
 { 
 BlockPos blockpos = this . field _ 177447 _ w . poll ( ) ; 
 
 @ @ - 227 , 7 + 235 , 7 @ @ 
 { 
 TileEntity tileentity = this . func _ 177422 _ i ( blockpos ) ; 
 this . field _ 76637 _ e . func _ 175690 _ a ( blockpos , tileentity ) ; 
 - @ @ - 1128 , 6 + 1134 , 13 @ @ 
 + @ @ - 1128 , 6 + 1136 , 13 @ @ 
 @ SideOnly ( Side . CLIENT ) 
 public void func _ 186033 _ a ( PacketBuffer p _ 186033 _ 1 _ , int p _ 186033 _ 2 _ , boolean p _ 186033 _ 3 _ ) 
 { 
 @ @ - 241 , 7 + 249 , 7 @ @ 
 boolean flag = this . field _ 76637 _ e . field _ 73011 _ w . func _ 191066 _ m ( ) ; 
 
 for ( int i = 0 ; i < this . field _ 76652 _ q . length ; + + i ) 
 - @ @ - 1176 , 10 + 1189 , 16 @ @ 
 + @ @ - 1176 , 10 + 1191 , 16 @ @ 
 this . field _ 76646 _ k = true ; 
 this . func _ 76590 _ a ( ) ; 
 
 @ @ - 258 , 7 + 266 , 7 @ @ 
 } 
 
 public Biome func _ 177411 _ a ( BlockPos p _ 177411 _ 1 _ , BiomeProvider p _ 177411 _ 2 _ ) 
 - @ @ - 1244 , 13 + 1263 , 13 @ @ 
 + @ @ - 1244 , 13 + 1265 , 13 @ @ 
 BlockPos blockpos1 = blockpos . func _ 177982 _ a ( k , ( j < < 4 ) + i1 , l ) ; 
 boolean flag = i1 = = 0 | | i1 = = 15 | | k = = 0 | | k = = 15 | | l = = 0 | | l = = 15 ; 
 
 @ @ - 274 , 7 + 282 , 7 @ @ 
 { 
 this . field _ 76637 _ e . func _ 175664 _ x ( blockpos2 ) ; 
 } 
 - @ @ - 1381 , 7 + 1400 , 7 @ @ 
 + @ @ - 1381 , 7 + 1402 , 7 @ @ 
 { 
 blockpos $ mutableblockpos . func _ 181079 _ c ( blockpos $ mutableblockpos . func _ 177958 _ n ( ) , l , blockpos $ mutableblockpos . func _ 177952 _ p ( ) ) ; 
 
 @ @ - 283 , 7 + 291 , 7 @ @ 
 { 
 this . field _ 76637 _ e . func _ 175664 _ x ( blockpos $ mutableblockpos ) ; 
 } 
 - @ @ - 1489 , 4 + 1508 , 34 @ @ 
 + @ @ - 1489 , 4 + 1510 , 34 @ @ 
 QUEUED , 
 CHECK ; 
 }

NEAREST DIFF:
diff - - git a / patches / minecraft / net / minecraft / world / World . java . patch b / patches / minecraft / net / minecraft / world / World . java . patch 
 index 35372dc . . f27243c 100644 
 - - - a / patches / minecraft / net / minecraft / world / World . java . patch 
 + + + b / patches / minecraft / net / minecraft / world / World . java . patch 
 @ @ - 82 , 7 + 82 , 7 @ @ 
 } 
 
 public boolean func _ 175667 _ e ( BlockPos p _ 175667 _ 1 _ ) 
 - @ @ - 284 , 39 + 301 , 61 @ @ 
 + @ @ - 284 , 39 + 301 , 63 @ @ 
 { 
 Chunk chunk = this . func _ 175726 _ f ( p _ 180501 _ 1 _ ) ; 
 Block block = p _ 180501 _ 2 _ . func _ 177230 _ c ( ) ; 
 @ @ - 93 , 7 + 93 , 9 @ @ 
 + blockSnapshot = net . minecraftforge . common . util . BlockSnapshot . getBlockSnapshot ( this , p _ 180501 _ 1 _ , p _ 180501 _ 3 _ ) ; 
 + this . capturedBlockSnapshots . add ( blockSnapshot ) ; 
 + } 
 - + int oldLight = func _ 180495 _ p ( p _ 180501 _ 1 _ ) . func _ 177230 _ c ( ) . getLightValue ( this , p _ 180501 _ 1 _ ) ; 
 + + Block oldBlock = func _ 180495 _ p ( p _ 180501 _ 1 _ ) . func _ 177230 _ c ( ) ; 
 + + int oldLight = oldBlock . getLightValue ( this , p _ 180501 _ 1 _ ) ; 
 + + int oldOpacity = oldBlock . getLightOpacity ( this , p _ 180501 _ 1 _ ) ; 
 + 
 IBlockState iblockstate = chunk . func _ 177436 _ a ( p _ 180501 _ 1 _ , p _ 180501 _ 2 _ ) ; 
 
 @ @ - 107 , 7 + 109 , 7 @ @ 
 Block block1 = iblockstate . func _ 177230 _ c ( ) ; 
 
 - if ( block . func _ 149717 _ k ( ) ! = block1 . func _ 149717 _ k ( ) | | block . func _ 149750 _ m ( ) ! = block1 . func _ 149750 _ m ( ) ) 
 - + if ( block . func _ 149717 _ k ( ) ! = block1 . func _ 149717 _ k ( ) | | block . getLightValue ( this , p _ 180501 _ 1 _ ) ! = oldLight ) 
 + + if ( block . getLightOpacity ( this , p _ 180501 _ 1 _ ) ! = oldOpacity | | block . getLightValue ( this , p _ 180501 _ 1 _ ) ! = oldLight ) 
 { 
 this . field _ 72984 _ F . func _ 76320 _ a ( " checkLight " ) ; 
 this . func _ 175664 _ x ( p _ 180501 _ 1 _ ) ; 
 @ @ - 153 , 7 + 155 , 7 @ @ 
 } 
 } 
 } 
 - @ @ - 404 , 6 + 443 , 9 @ @ 
 + @ @ - 404 , 6 + 445 , 9 @ @ 
 
 public void func _ 175685 _ c ( BlockPos p _ 175685 _ 1 _ , Block p _ 175685 _ 2 _ ) 
 { 
 @ @ - 163 , 7 + 165 , 7 @ @ 
 this . func _ 180496 _ d ( p _ 175685 _ 1 _ . func _ 177976 _ e ( ) , p _ 175685 _ 2 _ ) ; 
 this . func _ 180496 _ d ( p _ 175685 _ 1 _ . func _ 177974 _ f ( ) , p _ 175685 _ 2 _ ) ; 
 this . func _ 180496 _ d ( p _ 175685 _ 1 _ . func _ 177977 _ b ( ) , p _ 175685 _ 2 _ ) ; 
 - @ @ - 414 , 6 + 456 , 11 @ @ 
 + @ @ - 414 , 6 + 458 , 11 @ @ 
 
 public void func _ 175695 _ a ( BlockPos p _ 175695 _ 1 _ , Block p _ 175695 _ 2 _ , EnumFacing p _ 175695 _ 3 _ ) 
 { 
 @ @ - 175 , 7 + 177 , 7 @ @ 
 if ( p _ 175695 _ 3 _ ! = EnumFacing . WEST ) 
 { 
 this . func _ 180496 _ d ( p _ 175695 _ 1 _ . func _ 177976 _ e ( ) , p _ 175695 _ 2 _ ) ; 
 - @ @ - 777 , 7 + 824 , 7 @ @ 
 + @ @ - 777 , 7 + 826 , 7 @ @ 
 
 public boolean func _ 72935 _ r ( ) 
 { 
 @ @ - 184 , 7 + 186 , 7 @ @ 
 } 
 
 public MovingObjectPosition func _ 72933 _ a ( Vec3 p _ 72933 _ 1 _ , Vec3 p _ 72933 _ 2 _ ) 
 - @ @ - 972 , 6 + 1019 , 12 @ @ 
 + @ @ - 972 , 6 + 1021 , 12 @ @ 
 
 public void func _ 72956 _ a ( Entity p _ 72956 _ 1 _ , String p _ 72956 _ 2 _ , float p _ 72956 _ 3 _ , float p _ 72956 _ 4 _ ) 
 { 
 @ @ - 197 , 7 + 199 , 7 @ @ 
 for ( int i = 0 ; i < this . field _ 73021 _ x . size ( ) ; + + i ) 
 { 
 ( ( IWorldAccess ) this . field _ 73021 _ x . get ( i ) ) . func _ 72704 _ a ( p _ 72956 _ 2 _ , p _ 72956 _ 1 _ . field _ 70165 _ t , p _ 72956 _ 1 _ . field _ 70163 _ u , p _ 72956 _ 1 _ . field _ 70161 _ v , p _ 72956 _ 3 _ , p _ 72956 _ 4 _ ) ; 
 - @ @ - 980 , 6 + 1033 , 12 @ @ 
 + @ @ - 980 , 6 + 1035 , 12 @ @ 
 
 public void func _ 85173 _ a ( EntityPlayer p _ 85173 _ 1 _ , String p _ 85173 _ 2 _ , float p _ 85173 _ 3 _ , float p _ 85173 _ 4 _ ) 
 { 
 @ @ - 210 , 7 + 212 , 7 @ @ 
 for ( int i = 0 ; i < this . field _ 73021 _ x . size ( ) ; + + i ) 
 { 
 ( ( IWorldAccess ) this . field _ 73021 _ x . get ( i ) ) . func _ 85102 _ a ( p _ 85173 _ 1 _ , p _ 85173 _ 2 _ , p _ 85173 _ 1 _ . field _ 70165 _ t , p _ 85173 _ 1 _ . field _ 70163 _ u , p _ 85173 _ 1 _ . field _ 70161 _ v , p _ 85173 _ 3 _ , p _ 85173 _ 4 _ ) ; 
 - @ @ - 1033 , 6 + 1092 , 9 @ @ 
 + @ @ - 1033 , 6 + 1094 , 9 @ @ 
 
 public boolean func _ 72838 _ d ( Entity p _ 72838 _ 1 _ ) 
 { 
 @ @ - 220 , 7 + 222 , 7 @ @ 
 int i = MathHelper . func _ 76128 _ c ( p _ 72838 _ 1 _ . field _ 70165 _ t / 16 . 0D ) ; 
 int j = MathHelper . func _ 76128 _ c ( p _ 72838 _ 1 _ . field _ 70161 _ v / 16 . 0D ) ; 
 boolean flag = p _ 72838 _ 1 _ . field _ 98038 _ p ; 
 - @ @ - 1055 , 6 + 1117 , 8 @ @ 
 + @ @ - 1055 , 6 + 1119 , 8 @ @ 
 this . func _ 72854 _ c ( ) ; 
 } 
 
 @ @ - 229 , 7 + 231 , 7 @ @ 
 this . func _ 72964 _ e ( i , j ) . func _ 76612 _ a ( p _ 72838 _ 1 _ ) ; 
 this . field _ 72996 _ f . add ( p _ 72838 _ 1 _ ) ; 
 this . func _ 72923 _ a ( p _ 72838 _ 1 _ ) ; 
 - @ @ - 1267 , 17 + 1331 , 29 @ @ 
 + @ @ - 1267 , 17 + 1333 , 29 @ @ 
 
 public int func _ 72967 _ a ( float p _ 72967 _ 1 _ ) 
 { 
 @ @ - 262 , 7 + 264 , 7 @ @ 
 public void func _ 72848 _ b ( IWorldAccess p _ 72848 _ 1 _ ) 
 { 
 this . field _ 73021 _ x . remove ( p _ 72848 _ 1 _ ) ; 
 - @ @ - 1286 , 6 + 1362 , 12 @ @ 
 + @ @ - 1286 , 6 + 1364 , 12 @ @ 
 @ SideOnly ( Side . CLIENT ) 
 public float func _ 72971 _ b ( float p _ 72971 _ 1 _ ) 
 { 
 @ @ - 275 , 7 + 277 , 7 @ @ 
 float f = this . func _ 72826 _ c ( p _ 72971 _ 1 _ ) ; 
 float f1 = 1 . 0F - ( MathHelper . func _ 76134 _ b ( f * ( float ) Math . PI * 2 . 0F ) * 2 . 0F + 0 . 2F ) ; 
 f1 = MathHelper . func _ 76131 _ a ( f1 , 0 . 0F , 1 . 0F ) ; 
 - @ @ - 1298 , 6 + 1380 , 12 @ @ 
 + @ @ - 1298 , 6 + 1382 , 12 @ @ 
 @ SideOnly ( Side . CLIENT ) 
 public Vec3 func _ 72833 _ a ( Entity p _ 72833 _ 1 _ , float p _ 72833 _ 2 _ ) 
 { 
 @ @ - 288 , 7 + 290 , 7 @ @ 
 float f = this . func _ 72826 _ c ( p _ 72833 _ 2 _ ) ; 
 float f1 = MathHelper . func _ 76134 _ b ( f * ( float ) Math . PI * 2 . 0F ) * 2 . 0F + 0 . 5F ; 
 f1 = MathHelper . func _ 76131 _ a ( f1 , 0 . 0F , 1 . 0F ) ; 
 - @ @ - 1305 , 9 + 1393 , 7 @ @ 
 + @ @ - 1305 , 9 + 1395 , 7 @ @ 
 int j = MathHelper . func _ 76128 _ c ( p _ 72833 _ 1 _ . field _ 70163 _ u ) ; 
 int k = MathHelper . func _ 76128 _ c ( p _ 72833 _ 1 _ . field _ 70161 _ v ) ; 
 BlockPos blockpos = new BlockPos ( i , j , k ) ; 
 @ @ - 299 , 7 + 301 , 7 @ @ 
 float f3 = ( float ) ( l > > 16 & 255 ) / 255 . 0F ; 
 float f4 = ( float ) ( l > > 8 & 255 ) / 255 . 0F ; 
 float f5 = ( float ) ( l & 255 ) / 255 . 0F ; 
 - @ @ - 1367 , 6 + 1453 , 11 @ @ 
 + @ @ - 1367 , 6 + 1455 , 11 @ @ 
 
 public float func _ 130001 _ d ( ) 
 { 
 @ @ - 311 , 7 + 313 , 7 @ @ 
 return WorldProvider . field _ 111203 _ a [ this . field _ 73011 _ w . func _ 76559 _ b ( this . field _ 72986 _ A . func _ 76073 _ f ( ) ) ] ; 
 } 
 
 - @ @ - 1379 , 6 + 1470 , 12 @ @ 
 + @ @ - 1379 , 6 + 1472 , 12 @ @ 
 @ SideOnly ( Side . CLIENT ) 
 public Vec3 func _ 72824 _ f ( float p _ 72824 _ 1 _ ) 
 { 
 @ @ - 324 , 7 + 326 , 7 @ @ 
 float f = this . func _ 72826 _ c ( p _ 72824 _ 1 _ ) ; 
 float f1 = MathHelper . func _ 76134 _ b ( f * ( float ) Math . PI * 2 . 0F ) * 2 . 0F + 0 . 5F ; 
 f1 = MathHelper . func _ 76131 _ a ( f1 , 0 . 0F , 1 . 0F ) ; 
 - @ @ - 1434 , 9 + 1531 , 9 @ @ 
 + @ @ - 1434 , 9 + 1533 , 9 @ @ 
 for ( blockpos = new BlockPos ( p _ 175672 _ 1 _ . func _ 177958 _ n ( ) , chunk . func _ 76625 _ h ( ) + 16 , p _ 175672 _ 1 _ . func _ 177952 _ p ( ) ) ; blockpos . func _ 177956 _ o ( ) > = 0 ; blockpos = blockpos1 ) 
 { 
 blockpos1 = blockpos . func _ 177977 _ b ( ) ; 
 @ @ - 336 , 7 + 338 , 7 @ @ 
 { 
 break ; 
 } 
 - @ @ - 1448 , 6 + 1545 , 12 @ @ 
 + @ @ - 1448 , 6 + 1547 , 12 @ @ 
 @ SideOnly ( Side . CLIENT ) 
 public float func _ 72880 _ h ( float p _ 72880 _ 1 _ ) 
 { 
 @ @ - 349 , 7 + 351 , 7 @ @ 
 float f = this . func _ 72826 _ c ( p _ 72880 _ 1 _ ) ; 
 float f1 = 1 . 0F - ( MathHelper . func _ 76134 _ b ( f * ( float ) Math . PI * 2 . 0F ) * 2 . 0F + 0 . 25F ) ; 
 f1 = MathHelper . func _ 76131 _ a ( f1 , 0 . 0F , 1 . 0F ) ; 
 - @ @ - 1494 , 7 + 1597 , 15 @ @ 
 + @ @ - 1494 , 7 + 1599 , 15 @ @ 
 entity . func _ 85029 _ a ( crashreportcategory ) ; 
 } 
 
 @ @ - 366 , 7 + 368 , 7 @ @ 
 } 
 
 if ( entity . field _ 70128 _ L ) 
 - @ @ - 1554 , 7 + 1665 , 15 @ @ 
 + @ @ - 1554 , 7 + 1667 , 15 @ @ 
 CrashReport crashreport1 = CrashReport . func _ 85055 _ a ( throwable1 , " Ticking entity " ) ; 
 CrashReportCategory crashreportcategory2 = crashreport1 . func _ 85058 _ a ( " Entity being ticked " ) ; 
 entity2 . func _ 85029 _ a ( crashreportcategory2 ) ; 
 @ @ - 383 , 7 + 385 , 7 @ @ 
 } 
 } 
 
 - @ @ - 1601 , 7 + 1720 , 16 @ @ 
 + @ @ - 1601 , 7 + 1722 , 16 @ @ 
 CrashReport crashreport2 = CrashReport . func _ 85055 _ a ( throwable , " Ticking block entity " ) ; 
 CrashReportCategory crashreportcategory1 = crashreport2 . func _ 85058 _ a ( " Block entity being ticked " ) ; 
 tileentity . func _ 145828 _ a ( crashreportcategory1 ) ; 
 @ @ - 401 , 7 + 403 , 7 @ @ 
 } 
 } 
 } 
 - @ @ - 1618 , 15 + 1746 , 20 @ @ 
 + @ @ - 1618 , 15 + 1748 , 20 @ @ 
 } 
 } 
 
 @ @ - 424 , 7 + 426 , 7 @ @ 
 this . field _ 72984 _ F . func _ 76318 _ c ( " pendingBlockEntities " ) ; 
 
 if ( ! this . field _ 147484 _ a . isEmpty ( ) ) 
 - @ @ - 1660 , 7 + 1793 , 8 @ @ 
 + @ @ - 1660 , 7 + 1795 , 8 @ @ 
 
 public boolean func _ 175700 _ a ( TileEntity p _ 175700 _ 1 _ ) 
 { 
 @ @ - 434 , 7 + 436 , 7 @ @ 
 
 if ( flag & & p _ 175700 _ 1 _ instanceof ITickable ) 
 { 
 - @ @ - 1699 , 9 + 1833 , 13 @ @ 
 + @ @ - 1699 , 9 + 1835 , 13 @ @ 
 { 
 int i = MathHelper . func _ 76128 _ c ( p _ 72866 _ 1 _ . field _ 70165 _ t ) ; 
 int j = MathHelper . func _ 76128 _ c ( p _ 72866 _ 1 _ . field _ 70161 _ v ) ; 
 @ @ - 450 , 7 + 452 , 7 @ @ 
 { 
 p _ 72866 _ 1 _ . field _ 70142 _ S = p _ 72866 _ 1 _ . field _ 70165 _ t ; 
 p _ 72866 _ 1 _ . field _ 70137 _ T = p _ 72866 _ 1 _ . field _ 70163 _ u ; 
 - @ @ - 1829 , 7 + 1967 , 7 @ @ 
 + @ @ - 1829 , 7 + 1969 , 7 @ @ 
 { 
 Block block = this . func _ 180495 _ p ( blockpos $ mutableblockpos . func _ 181079 _ c ( k1 , l1 , i2 ) ) . func _ 177230 _ c ( ) ; 
 
 @ @ - 459 , 7 + 461 , 7 @ @ 
 { 
 return true ; 
 } 
 - @ @ - 1894 , 6 + 2032 , 10 @ @ 
 + @ @ - 1894 , 6 + 2034 , 10 @ @ 
 { 
 return true ; 
 } 
 @ @ - 470 , 7 + 472 , 7 @ @ 
 } 
 } 
 } 
 - @ @ - 1930 , 6 + 2072 , 16 @ @ 
 + @ @ - 1930 , 6 + 2074 , 16 @ @ 
 blockpos $ mutableblockpos . func _ 181079 _ c ( k1 , l1 , i2 ) ; 
 IBlockState iblockstate = this . func _ 180495 _ p ( blockpos $ mutableblockpos ) ; 
 Block block = iblockstate . func _ 177230 _ c ( ) ; 
 @ @ - 487 , 7 + 489 , 7 @ @ 
 
 if ( block . func _ 149688 _ o ( ) = = p _ 72918 _ 2 _ ) 
 { 
 - @ @ - 2004 , 6 + 2156 , 9 @ @ 
 + @ @ - 2004 , 6 + 2158 , 9 @ @ 
 IBlockState iblockstate = this . func _ 180495 _ p ( blockpos $ mutableblockpos . func _ 181079 _ c ( k1 , l1 , i2 ) ) ; 
 Block block = iblockstate . func _ 177230 _ c ( ) ; 
 
 @ @ - 497 , 7 + 499 , 7 @ @ 
 if ( block . func _ 149688 _ o ( ) = = p _ 72830 _ 2 _ ) 
 { 
 int j2 = ( ( Integer ) iblockstate . func _ 177229 _ b ( BlockLiquid . field _ 176367 _ b ) ) . intValue ( ) ; 
 - @ @ - 2034 , 6 + 2189 , 7 @ @ 
 + @ @ - 2034 , 6 + 2191 , 7 @ @ 
 public Explosion func _ 72885 _ a ( Entity p _ 72885 _ 1 _ , double p _ 72885 _ 2 _ , double p _ 72885 _ 4 _ , double p _ 72885 _ 6 _ , float p _ 72885 _ 8 _ , boolean p _ 72885 _ 9 _ , boolean p _ 72885 _ 10 _ ) 
 { 
 Explosion explosion = new Explosion ( this , p _ 72885 _ 1 _ , p _ 72885 _ 2 _ , p _ 72885 _ 4 _ , p _ 72885 _ 6 _ , p _ 72885 _ 8 _ , p _ 72885 _ 9 _ , p _ 72885 _ 10 _ ) ; 
 @ @ - 505 , 7 + 507 , 7 @ @ 
 explosion . func _ 77278 _ a ( ) ; 
 explosion . func _ 77279 _ a ( true ) ; 
 return explosion ; 
 - @ @ - 2180 , 19 + 2336 , 27 @ @ 
 + @ @ - 2180 , 19 + 2338 , 27 @ @ 
 else 
 { 
 this . func _ 175700 _ a ( p _ 175690 _ 2 _ ) ; 
 @ @ - 534 , 7 + 536 , 7 @ @ 
 } 
 else 
 { 
 - @ @ - 2205 , 6 + 2369 , 7 @ @ 
 + @ @ - 2205 , 6 + 2371 , 7 @ @ 
 
 this . func _ 175726 _ f ( p _ 175713 _ 1 _ ) . func _ 177425 _ e ( p _ 175713 _ 1 _ ) ; 
 } 
 @ @ - 542 , 7 + 544 , 7 @ @ 
 } 
 
 public void func _ 147457 _ a ( TileEntity p _ 147457 _ 1 _ ) 
 - @ @ - 2223 , 7 + 2388 , 7 @ @ 
 + @ @ - 2223 , 7 + 2390 , 7 @ @ 
 { 
 IBlockState iblockstate = p _ 175683 _ 0 _ . func _ 180495 _ p ( p _ 175683 _ 1 _ ) ; 
 Block block = iblockstate . func _ 177230 _ c ( ) ; 
 @ @ - 551 , 7 + 553 , 7 @ @ 
 } 
 
 public boolean func _ 175677 _ d ( BlockPos p _ 175677 _ 1 _ , boolean p _ 175677 _ 2 _ ) 
 - @ @ - 2243 , 7 + 2408 , 7 @ @ 
 + @ @ - 2243 , 7 + 2410 , 7 @ @ 
 else 
 { 
 Block block = this . func _ 180495 _ p ( p _ 175677 _ 1 _ ) . func _ 177230 _ c ( ) ; 
 @ @ - 560 , 7 + 562 , 7 @ @ 
 } 
 } 
 } 
 - @ @ - 2262 , 6 + 2427 , 7 @ @ 
 + @ @ - 2262 , 6 + 2429 , 7 @ @ 
 { 
 this . field _ 72985 _ G = p _ 72891 _ 1 _ ; 
 this . field _ 72992 _ H = p _ 72891 _ 2 _ ; 
 @ @ - 568 , 7 + 570 , 7 @ @ 
 } 
 
 public void func _ 72835 _ b ( ) 
 - @ @ - 2271 , 6 + 2437 , 11 @ @ 
 + @ @ - 2271 , 6 + 2439 , 11 @ @ 
 
 protected void func _ 72947 _ a ( ) 
 { 
 @ @ - 580 , 7 + 582 , 7 @ @ 
 if ( this . field _ 72986 _ A . func _ 76059 _ o ( ) ) 
 { 
 this . field _ 73004 _ o = 1 . 0F ; 
 - @ @ - 2284 , 6 + 2455 , 11 @ @ 
 + @ @ - 2284 , 6 + 2457 , 11 @ @ 
 
 protected void func _ 72979 _ l ( ) 
 { 
 @ @ - 592 , 7 + 594 , 7 @ @ 
 if ( ! this . field _ 73011 _ w . func _ 177495 _ o ( ) ) 
 { 
 if ( ! this . field _ 72995 _ K ) 
 - @ @ - 2378 , 6 + 2554 , 7 @ @ 
 + @ @ - 2378 , 6 + 2556 , 7 @ @ 
 { 
 this . field _ 72993 _ I . clear ( ) ; 
 this . field _ 72984 _ F . func _ 76320 _ a ( " buildList " ) ; 
 @ @ - 600 , 7 + 602 , 7 @ @ 
 
 for ( int i = 0 ; i < this . field _ 73010 _ i . size ( ) ; + + i ) 
 { 
 - @ @ - 2434 , 8 + 2611 , 9 @ @ 
 + @ @ - 2434 , 8 + 2613 , 9 @ @ 
 Block block = p _ 147467 _ 3 _ . func _ 177428 _ a ( blockpos ) ; 
 j = j + p _ 147467 _ 1 _ ; 
 k = k + p _ 147467 _ 2 _ ; 
 @ @ - 611 , 7 + 613 , 7 @ @ 
 { 
 EntityPlayer entityplayer = this . func _ 72977 _ a ( ( double ) j + 0 . 5D , ( double ) l + 0 . 5D , ( double ) k + 0 . 5D , 8 . 0D ) ; 
 
 - @ @ - 2475 , 6 + 2653 , 11 @ @ 
 + @ @ - 2475 , 6 + 2655 , 11 @ @ 
 
 public boolean func _ 175670 _ e ( BlockPos p _ 175670 _ 1 _ , boolean p _ 175670 _ 2 _ ) 
 { 
 @ @ - 623 , 7 + 625 , 7 @ @ 
 BiomeGenBase biomegenbase = this . func _ 180494 _ b ( p _ 175670 _ 1 _ ) ; 
 float f = biomegenbase . func _ 180626 _ a ( p _ 175670 _ 1 _ ) ; 
 
 - @ @ - 2516 , 6 + 2699 , 11 @ @ 
 + @ @ - 2516 , 6 + 2701 , 11 @ @ 
 
 public boolean func _ 175708 _ f ( BlockPos p _ 175708 _ 1 _ , boolean p _ 175708 _ 2 _ ) 
 { 
 @ @ - 635 , 7 + 637 , 7 @ @ 
 BiomeGenBase biomegenbase = this . func _ 180494 _ b ( p _ 175708 _ 1 _ ) ; 
 float f = biomegenbase . func _ 180626 _ a ( p _ 175708 _ 1 _ ) ; 
 
 - @ @ - 2533 , 7 + 2721 , 7 @ @ 
 + @ @ - 2533 , 7 + 2723 , 7 @ @ 
 { 
 Block block = this . func _ 180495 _ p ( p _ 175708 _ 1 _ ) . func _ 177230 _ c ( ) ; 
 
 @ @ - 644 , 7 + 646 , 7 @ @ 
 { 
 return true ; 
 } 
 - @ @ - 2565 , 10 + 2753 , 11 @ @ 
 + @ @ - 2565 , 10 + 2755 , 11 @ @ 
 else 
 { 
 Block block = this . func _ 180495 _ p ( p _ 175638 _ 1 _ ) . func _ 177230 _ c ( ) ; 
 @ @ - 659 , 7 + 661 , 7 @ @ 
 { 
 j = 1 ; 
 } 
 - @ @ - 2768 , 10 + 2957 , 10 @ @ 
 + @ @ - 2768 , 10 + 2959 , 10 @ @ 
 public List < Entity > func _ 175674 _ a ( Entity p _ 175674 _ 1 _ , AxisAlignedBB p _ 175674 _ 2 _ , Predicate < ? super Entity > p _ 175674 _ 3 _ ) 
 { 
 List < Entity > list = Lists . < Entity > newArrayList ( ) ; 
 @ @ - 674 , 7 + 676 , 7 @ @ 
 
 for ( int i1 = i ; i1 < = j ; + + i1 ) 
 { 
 - @ @ - 2824 , 10 + 3013 , 10 @ @ 
 + @ @ - 2824 , 10 + 3015 , 10 @ @ 
 
 public < T extends Entity > List < T > func _ 175647 _ a ( Class < ? extends T > p _ 175647 _ 1 _ , AxisAlignedBB p _ 175647 _ 2 _ , Predicate < ? super T > p _ 175647 _ 3 _ ) 
 { 
 @ @ - 689 , 7 + 691 , 7 @ @ 
 List < T > list = Lists . < T > newArrayList ( ) ; 
 
 for ( int i1 = i ; i1 < = j ; + + i1 ) 
 - @ @ - 2905 , 11 + 3094 , 13 @ @ 
 + @ @ - 2905 , 11 + 3096 , 13 @ @ 
 
 public void func _ 175650 _ b ( Collection < Entity > p _ 175650 _ 1 _ ) 
 { 
 @ @ - 706 , 7 + 708 , 7 @ @ 
 } 
 } 
 
 - @ @ - 2922 , 7 + 3113 , 9 @ @ 
 + @ @ - 2922 , 7 + 3115 , 9 @ @ 
 { 
 Block block = this . func _ 180495 _ p ( p _ 175716 _ 2 _ ) . func _ 177230 _ c ( ) ; 
 AxisAlignedBB axisalignedbb = p _ 175716 _ 3 _ ? null : p _ 175716 _ 1 _ . func _ 180640 _ a ( this , p _ 175716 _ 2 _ , p _ 175716 _ 1 _ . func _ 176223 _ P ( ) ) ; 
 @ @ - 717 , 7 + 719 , 7 @ @ 
 } 
 
 public int func _ 181545 _ F ( ) 
 - @ @ - 3007 , 7 + 3200 , 7 @ @ 
 + @ @ - 3007 , 7 + 3202 , 7 @ @ 
 { 
 IBlockState iblockstate = this . func _ 180495 _ p ( p _ 175651 _ 1 _ ) ; 
 Block block = iblockstate . func _ 177230 _ c ( ) ; 
 @ @ - 726 , 7 + 728 , 7 @ @ 
 } 
 
 public boolean func _ 175640 _ z ( BlockPos p _ 175640 _ 1 _ ) 
 - @ @ - 3134 , 7 + 3327 , 7 @ @ 
 + @ @ - 3134 , 7 + 3329 , 7 @ @ 
 
 public long func _ 72905 _ C ( ) 
 { 
 @ @ - 735 , 7 + 737 , 7 @ @ 
 } 
 
 public long func _ 82737 _ E ( ) 
 - @ @ - 3144 , 17 + 3337 , 17 @ @ 
 + @ @ - 3144 , 17 + 3339 , 17 @ @ 
 
 public long func _ 72820 _ D ( ) 
 { 
 @ @ - 756 , 7 + 758 , 7 @ @ 
 
 if ( ! this . func _ 175723 _ af ( ) . func _ 177746 _ a ( blockpos ) ) 
 { 
 - @ @ - 3166 , 7 + 3359 , 7 @ @ 
 + @ @ - 3166 , 7 + 3361 , 7 @ @ 
 
 public void func _ 175652 _ B ( BlockPos p _ 175652 _ 1 _ ) 
 { 
 @ @ - 765 , 7 + 767 , 7 @ @ 
 } 
 
 @ SideOnly ( Side . CLIENT ) 
 - @ @ - 3186 , 12 + 3379 , 18 @ @ 
 + @ @ - 3186 , 12 + 3381 , 18 @ @ 
 
 if ( ! this . field _ 72996 _ f . contains ( p _ 72897 _ 1 _ ) ) 
 { 
 @ @ - 784 , 7 + 786 , 7 @ @ 
 return true ; 
 } 
 
 - @ @ - 3285 , 8 + 3484 , 7 @ @ 
 + @ @ - 3285 , 8 + 3486 , 7 @ @ 
 
 public boolean func _ 180502 _ D ( BlockPos p _ 180502 _ 1 _ ) 
 { 
 @ @ - 794 , 7 + 796 , 7 @ @ 
 } 
 
 public MapStorage func _ 175693 _ T ( ) 
 - @ @ - 3345 , 12 + 3543 , 12 @ @ 
 + @ @ - 3345 , 12 + 3545 , 12 @ @ 
 
 public int func _ 72800 _ K ( ) 
 { 
 @ @ - 809 , 7 + 811 , 7 @ @ 
 } 
 
 public Random func _ 72843 _ D ( int p _ 72843 _ 1 _ , int p _ 72843 _ 2 _ , int p _ 72843 _ 3 _ ) 
 - @ @ - 3405 , 7 + 3603 , 7 @ @ 
 + @ @ - 3405 , 7 + 3605 , 7 @ @ 
 @ SideOnly ( Side . CLIENT ) 
 public double func _ 72919 _ O ( ) 
 { 
 @ @ - 818 , 7 + 820 , 7 @ @ 
 } 
 
 public void func _ 175715 _ c ( int p _ 175715 _ 1 _ , BlockPos p _ 175715 _ 2 _ , int p _ 175715 _ 3 _ ) 
 - @ @ - 3439 , 7 + 3637 , 7 @ @ 
 + @ @ - 3439 , 7 + 3639 , 7 @ @ 
 
 public void func _ 175666 _ e ( BlockPos p _ 175666 _ 1 _ , Block p _ 175666 _ 2 _ ) 
 { 
 @ @ - 827 , 7 + 829 , 7 @ @ 
 { 
 BlockPos blockpos = p _ 175666 _ 1 _ . func _ 177972 _ a ( enumfacing ) ; 
 
 - @ @ - 3447 , 18 + 3645 , 14 @ @ 
 + @ @ - 3447 , 18 + 3647 , 14 @ @ 
 { 
 IBlockState iblockstate = this . func _ 180495 _ p ( blockpos ) ; 
 
 @ @ - 852 , 7 + 854 , 7 @ @ 
 } 
 } 
 } 
 - @ @ - 3528 , 4 + 3722 , 81 @ @ 
 + @ @ - 3528 , 4 + 3724 , 81 @ @ 
 int k = 128 ; 
 return i > = - k & & i < = k & & j > = - k & & j < = k ; 
 }
