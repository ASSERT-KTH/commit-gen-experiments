BLEU SCORE: 0.017272237992167865

TEST MSG: Fixed potential issue with Chunk . getLightOpacity being called before the chunk is added to the world map . Closes # 2529
GENERATED MSG: Only run block physics for TileEntities while capturing block placement .

TEST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch b / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch <nl> index 1cf592b . . 525db0e 100644 <nl> - - - a / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch <nl> + + + b / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch <nl> @ @ - 9 , 7 + 9 , 7 @ @ <nl> { <nl> this . field _ 76634 _ f [ k < < 4 | j ] = l ; <nl> <nl> - @ @ - 451 , 12 + 451 , 12 @ @ <nl> + @ @ - 451 , 12 + 451 , 13 @ @ <nl> <nl> public int func _ 177437 _ b ( BlockPos p _ 177437 _ 1 _ ) <nl> { <nl> @ @ - 20 , 11 + 20 , 12 @ @ <nl> private int func _ 150808 _ b ( int p _ 150808 _ 1 _ , int p _ 150808 _ 2 _ , int p _ 150808 _ 3 _ ) <nl> { <nl> - return this . func _ 186032 _ a ( p _ 150808 _ 1 _ , p _ 150808 _ 2 _ , p _ 150808 _ 3 _ ) . func _ 185891 _ c ( ) ; <nl> - + return this . func _ 186032 _ a ( p _ 150808 _ 1 _ , p _ 150808 _ 2 _ , p _ 150808 _ 3 _ ) . getLightOpacity ( this . field _ 76637 _ e , new BlockPos ( p _ 150808 _ 1 _ , p _ 150808 _ 2 _ , p _ 150808 _ 3 _ ) ) ; <nl> + + IBlockState state = this . func _ 186032 _ a ( p _ 150808 _ 1 _ , p _ 150808 _ 2 _ , p _ 150808 _ 3 _ ) ; / / Forge : Can sometimes be called before we are added to the global world list . So use the less accurate one during that . It ' ll be recalculated later <nl> + + return this . field _ 189550 _ d ? state . func _ 185891 _ c ( ) : state . getLightOpacity ( this . field _ 76637 _ e , new BlockPos ( p _ 150808 _ 1 _ , p _ 150808 _ 2 _ , p _ 150808 _ 3 _ ) ) ; <nl> } <nl> <nl> public IBlockState func _ 177435 _ g ( BlockPos p _ 177435 _ 1 _ ) <nl> - @ @ - 538 , 6 + 538 , 7 @ @ <nl> + @ @ - 538 , 6 + 539 , 7 @ @ <nl> { <nl> Block block = p _ 177436 _ 2 _ . func _ 177230 _ c ( ) ; <nl> Block block1 = iblockstate . func _ 177230 _ c ( ) ; <nl> @ @ - 32 , 7 + 33 , 7 @ @ <nl> ExtendedBlockStorage extendedblockstorage = this . field _ 76652 _ q [ j > > 4 ] ; <nl> boolean flag = false ; <nl> <nl> - @ @ - 554 , 14 + 555 , 19 @ @ <nl> + @ @ - 554 , 14 + 556 , 19 @ @ <nl> <nl> extendedblockstorage . func _ 177484 _ a ( i , j & 15 , k , p _ 177436 _ 2 _ ) ; <nl> <nl> @ @ - 54 , 7 + 55 , 7 @ @ <nl> this . field _ 76637 _ e . func _ 175713 _ t ( p _ 177436 _ 1 _ ) ; <nl> } <nl> } <nl> - @ @ - 578 , 8 + 584 , 7 @ @ <nl> + @ @ - 578 , 8 + 585 , 7 @ @ <nl> } <nl> else <nl> { <nl> @ @ - 64 , 7 + 65 , 7 @ @ <nl> <nl> if ( j1 > 0 ) <nl> { <nl> - @ @ - 599 , 28 + 604 , 19 @ @ <nl> + @ @ - 599 , 28 + 605 , 19 @ @ <nl> } <nl> } <nl> <nl> @ @ - 97 , 7 + 98 , 7 @ @ <nl> this . field _ 76637 _ e . func _ 175690 _ a ( p _ 177436 _ 1 _ , tileentity1 ) ; <nl> } <nl> <nl> - @ @ - 723 , 6 + 719 , 7 @ @ <nl> + @ @ - 723 , 6 + 720 , 7 @ @ <nl> k = this . field _ 76645 _ j . length - 1 ; <nl> } <nl> <nl> @ @ - 105 , 7 + 106 , 7 @ @ <nl> p _ 76612 _ 1 _ . field _ 70175 _ ag = true ; <nl> p _ 76612 _ 1 _ . field _ 70176 _ ah = this . field _ 76635 _ g ; <nl> p _ 76612 _ 1 _ . field _ 70162 _ ai = k ; <nl> - @ @ - 763 , 7 + 760 , 7 @ @ <nl> + @ @ - 763 , 7 + 761 , 7 @ @ <nl> { <nl> IBlockState iblockstate = this . func _ 177435 _ g ( p _ 177422 _ 1 _ ) ; <nl> Block block = iblockstate . func _ 177230 _ c ( ) ; <nl> @ @ - 114 , 7 + 115 , 7 @ @ <nl> } <nl> <nl> @ Nullable <nl> - @ @ - 771 , 6 + 768 , 12 @ @ <nl> + @ @ - 771 , 6 + 769 , 12 @ @ <nl> { <nl> TileEntity tileentity = ( TileEntity ) this . field _ 150816 _ i . get ( p _ 177424 _ 1 _ ) ; <nl> <nl> @ @ - 127 , 7 + 128 , 7 @ @ <nl> if ( tileentity = = null ) <nl> { <nl> if ( p _ 177424 _ 2 _ = = Chunk . EnumCreateEntityType . IMMEDIATE ) <nl> - @ @ - 780 , 14 + 783 , 9 @ @ <nl> + @ @ - 780 , 14 + 784 , 9 @ @ <nl> } <nl> else if ( p _ 177424 _ 2 _ = = Chunk . EnumCreateEntityType . QUEUED ) <nl> { <nl> @ @ - 143 , 7 + 144 , 7 @ @ <nl> <nl> return tileentity ; <nl> } <nl> - @ @ - 807 , 7 + 805 , 7 @ @ <nl> + @ @ - 807 , 7 + 806 , 7 @ @ <nl> p _ 177426 _ 2 _ . func _ 145834 _ a ( this . field _ 76637 _ e ) ; <nl> p _ 177426 _ 2 _ . func _ 174878 _ a ( p _ 177426 _ 1 _ ) ; <nl> <nl> @ @ - 152 , 7 + 153 , 7 @ @ <nl> { <nl> if ( this . field _ 150816 _ i . containsKey ( p _ 177426 _ 1 _ ) ) <nl> { <nl> - @ @ - 816 , 6 + 814 , 7 @ @ <nl> + @ @ - 816 , 6 + 815 , 7 @ @ <nl> <nl> p _ 177426 _ 2 _ . func _ 145829 _ t ( ) ; <nl> this . field _ 150816 _ i . put ( p _ 177426 _ 1 _ , p _ 177426 _ 2 _ ) ; <nl> @ @ - 160 , 7 + 161 , 7 @ @ <nl> } <nl> } <nl> <nl> - @ @ - 844 , 8 + 843 , 9 @ @ <nl> + @ @ - 844 , 8 + 844 , 9 @ @ <nl> entity . func _ 110123 _ P ( ) ; <nl> } <nl> <nl> @ @ - 171 , 7 + 172 , 7 @ @ <nl> } <nl> <nl> public void func _ 76623 _ d ( ) <nl> - @ @ - 861 , 6 + 861 , 7 @ @ <nl> + @ @ - 861 , 6 + 862 , 7 @ @ <nl> { <nl> this . field _ 76637 _ e . func _ 175681 _ c ( this . field _ 76645 _ j [ i ] ) ; <nl> } <nl> @ @ - 179 , 7 + 180 , 7 @ @ <nl> } <nl> <nl> public void func _ 76630 _ e ( ) <nl> - @ @ - 870 , 8 + 871 , 8 @ @ <nl> + @ @ - 870 , 8 + 872 , 8 @ @ <nl> <nl> public void func _ 177414 _ a ( @ Nullable Entity p _ 177414 _ 1 _ , AxisAlignedBB p _ 177414 _ 2 _ , List < Entity > p _ 177414 _ 3 _ , Predicate < ? super Entity > p _ 177414 _ 4 _ ) <nl> { <nl> @ @ - 190 , 7 + 191 , 7 @ @ <nl> i = MathHelper . func _ 76125 _ a ( i , 0 , this . field _ 76645 _ j . length - 1 ) ; <nl> j = MathHelper . func _ 76125 _ a ( j , 0 , this . field _ 76645 _ j . length - 1 ) ; <nl> <nl> - @ @ - 910 , 8 + 911 , 8 @ @ <nl> + @ @ - 910 , 8 + 912 , 8 @ @ <nl> <nl> public < T extends Entity > void func _ 177430 _ a ( Class < ? extends T > p _ 177430 _ 1 _ , AxisAlignedBB p _ 177430 _ 2 _ , List < T > p _ 177430 _ 3 _ , Predicate < ? super T > p _ 177430 _ 4 _ ) <nl> { <nl> @ @ - 201 , 7 + 202 , 7 @ @ <nl> i = MathHelper . func _ 76125 _ a ( i , 0 , this . field _ 76645 _ j . length - 1 ) ; <nl> j = MathHelper . func _ 76125 _ a ( j , 0 , this . field _ 76645 _ j . length - 1 ) ; <nl> <nl> - @ @ - 1000 , 6 + 1001 , 7 @ @ <nl> + @ @ - 1000 , 6 + 1002 , 7 @ @ <nl> { <nl> this . func _ 150809 _ p ( ) ; <nl> p _ 186034 _ 1 _ . func _ 185931 _ b ( this . field _ 76635 _ g , this . field _ 76647 _ h ) ; <nl> @ @ - 209 , 7 + 210 , 7 @ @ <nl> this . func _ 76630 _ e ( ) ; <nl> } <nl> } <nl> - @ @ - 1056 , 7 + 1058 , 7 @ @ <nl> + @ @ - 1056 , 7 + 1059 , 7 @ @ <nl> { <nl> BlockPos blockpos = ( BlockPos ) this . field _ 177447 _ w . poll ( ) ; <nl> <nl> @ @ - 218 , 7 + 219 , 7 @ @ <nl> { <nl> TileEntity tileentity = this . func _ 177422 _ i ( blockpos ) ; <nl> this . field _ 76637 _ e . func _ 175690 _ a ( blockpos , tileentity ) ; <nl> - @ @ - 1120 , 6 + 1122 , 13 @ @ <nl> + @ @ - 1120 , 6 + 1123 , 13 @ @ <nl> @ SideOnly ( Side . CLIENT ) <nl> public void func _ 186033 _ a ( PacketBuffer p _ 186033 _ 1 _ , int p _ 186033 _ 2 _ , boolean p _ 186033 _ 3 _ ) <nl> { <nl> @ @ - 232 , 7 + 233 , 7 @ @ <nl> boolean flag = ! this . field _ 76637 _ e . field _ 73011 _ w . func _ 177495 _ o ( ) ; <nl> <nl> for ( int i = 0 ; i < this . field _ 76652 _ q . length ; + + i ) <nl> - @ @ - 1168 , 10 + 1177 , 16 @ @ <nl> + @ @ - 1168 , 10 + 1178 , 16 @ @ <nl> this . field _ 76646 _ k = true ; <nl> this . func _ 76590 _ a ( ) ; <nl> <nl> @ @ - 249 , 7 + 250 , 7 @ @ <nl> } <nl> <nl> public Biome func _ 177411 _ a ( BlockPos p _ 177411 _ 1 _ , BiomeProvider p _ 177411 _ 2 _ ) <nl> - @ @ - 1239 , 13 + 1254 , 13 @ @ <nl> + @ @ - 1239 , 13 + 1255 , 13 @ @ <nl> BlockPos blockpos1 = blockpos . func _ 177982 _ a ( k , ( j < < 4 ) + i1 , l ) ; <nl> boolean flag = i1 = = 0 | | i1 = = 15 | | k = = 0 | | k = = 15 | | l = = 0 | | l = = 15 ; <nl> <nl> @ @ - 265 , 7 + 266 , 7 @ @ <nl> { <nl> this . field _ 76637 _ e . func _ 175664 _ x ( blockpos2 ) ; <nl> } <nl> - @ @ - 1376 , 7 + 1391 , 7 @ @ <nl> + @ @ - 1376 , 7 + 1392 , 7 @ @ <nl> { <nl> blockpos $ mutableblockpos . func _ 181079 _ c ( blockpos $ mutableblockpos . func _ 177958 _ n ( ) , l , blockpos $ mutableblockpos . func _ 177952 _ p ( ) ) ; <nl> <nl> @ @ - 274 , 7 + 275 , 7 @ @ <nl> { <nl> this . field _ 76637 _ e . func _ 175664 _ x ( blockpos $ mutableblockpos ) ; <nl> } <nl> - @ @ - 1487 , 4 + 1502 , 20 @ @ <nl> + @ @ - 1487 , 4 + 1503 , 20 @ @ <nl> QUEUED , <nl> CHECK ; <nl> }
NEAREST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch b / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch <nl> index 71b1ade . . e12fe8f 100644 <nl> - - - a / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch <nl> + + + b / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch <nl> @ @ - 64 , 12 + 64 , 14 @ @ <nl> <nl> if ( j1 > 0 ) <nl> { <nl> - @ @ - 595 , 28 + 600 , 18 @ @ <nl> + @ @ - 595 , 28 + 600 , 19 @ @ <nl> } <nl> } <nl> <nl> - if ( block1 instanceof ITileEntityProvider ) <nl> - - { <nl> + + / / If capturing blocks , only run block physics for TE ' s . Non - TE ' s are handled in ForgeHooks . onPlaceItemIntoWorld <nl> + + if ( ! this . field _ 76637 _ e . field _ 72995 _ K & & block1 ! = block & & ( ! this . field _ 76637 _ e . captureBlockSnapshots | | block . hasTileEntity ( p _ 177436 _ 2 _ ) ) ) <nl> + { <nl> - TileEntity tileentity = this . func _ 177424 _ a ( p _ 177436 _ 1 _ , Chunk . EnumCreateEntityType . CHECK ) ; <nl> - <nl> - if ( tileentity ! = null ) <nl> @ @ - 78 , 8 + 80 , 8 @ @ <nl> - } <nl> - } <nl> - <nl> - if ( ! this . field _ 76637 _ e . field _ 72995 _ K & & block1 ! = block ) <nl> - { <nl> + - if ( ! this . field _ 76637 _ e . field _ 72995 _ K & & block1 ! = block ) <nl> + - { <nl> block . func _ 176213 _ c ( this . field _ 76637 _ e , p _ 177436 _ 1 _ , p _ 177436 _ 2 _ ) ; <nl> } <nl> <nl> @ @ - 95 , 7 + 97 , 7 @ @ <nl> this . field _ 76637 _ e . func _ 175690 _ a ( p _ 177436 _ 1 _ , tileentity1 ) ; <nl> } <nl> <nl> - @ @ - 719 , 6 + 714 , 7 @ @ <nl> + @ @ - 719 , 6 + 715 , 7 @ @ <nl> k = this . field _ 76645 _ j . length - 1 ; <nl> } <nl> <nl> @ @ - 103 , 7 + 105 , 7 @ @ <nl> p _ 76612 _ 1 _ . field _ 70175 _ ag = true ; <nl> p _ 76612 _ 1 _ . field _ 70176 _ ah = this . field _ 76635 _ g ; <nl> p _ 76612 _ 1 _ . field _ 70162 _ ai = k ; <nl> - @ @ - 758 , 13 + 754 , 19 @ @ <nl> + @ @ - 758 , 13 + 755 , 19 @ @ <nl> { <nl> IBlockState iblockstate = this . func _ 177435 _ g ( p _ 177422 _ 1 _ ) ; <nl> Block block = iblockstate . func _ 177230 _ c ( ) ; <nl> @ @ - 124 , 7 + 126 , 7 @ @ <nl> if ( tileentity = = null ) <nl> { <nl> if ( p _ 177424 _ 2 _ = = Chunk . EnumCreateEntityType . IMMEDIATE ) <nl> - @ @ - 774 , 14 + 776 , 9 @ @ <nl> + @ @ - 774 , 14 + 777 , 9 @ @ <nl> } <nl> else if ( p _ 177424 _ 2 _ = = Chunk . EnumCreateEntityType . QUEUED ) <nl> { <nl> @ @ - 140 , 7 + 142 , 7 @ @ <nl> <nl> return tileentity ; <nl> } <nl> - @ @ - 801 , 7 + 798 , 7 @ @ <nl> + @ @ - 801 , 7 + 799 , 7 @ @ <nl> p _ 177426 _ 2 _ . func _ 145834 _ a ( this . field _ 76637 _ e ) ; <nl> p _ 177426 _ 2 _ . func _ 174878 _ a ( p _ 177426 _ 1 _ ) ; <nl> <nl> @ @ - 149 , 7 + 151 , 7 @ @ <nl> { <nl> if ( this . field _ 150816 _ i . containsKey ( p _ 177426 _ 1 _ ) ) <nl> { <nl> - @ @ - 810 , 6 + 807 , 7 @ @ <nl> + @ @ - 810 , 6 + 808 , 7 @ @ <nl> <nl> p _ 177426 _ 2 _ . func _ 145829 _ t ( ) ; <nl> this . field _ 150816 _ i . put ( p _ 177426 _ 1 _ , p _ 177426 _ 2 _ ) ; <nl> @ @ - 157 , 7 + 159 , 7 @ @ <nl> } <nl> } <nl> <nl> - @ @ - 838 , 8 + 836 , 9 @ @ <nl> + @ @ - 838 , 8 + 837 , 9 @ @ <nl> entity . func _ 110123 _ P ( ) ; <nl> } <nl> <nl> @ @ - 168 , 7 + 170 , 7 @ @ <nl> } <nl> <nl> public void func _ 76623 _ d ( ) <nl> - @ @ - 855 , 6 + 854 , 7 @ @ <nl> + @ @ - 855 , 6 + 855 , 7 @ @ <nl> { <nl> this . field _ 76637 _ e . func _ 175681 _ c ( this . field _ 76645 _ j [ i ] ) ; <nl> } <nl> @ @ - 176 , 7 + 178 , 7 @ @ <nl> } <nl> <nl> public void func _ 76630 _ e ( ) <nl> - @ @ - 864 , 8 + 864 , 8 @ @ <nl> + @ @ - 864 , 8 + 865 , 8 @ @ <nl> <nl> public void func _ 177414 _ a ( Entity p _ 177414 _ 1 _ , AxisAlignedBB p _ 177414 _ 2 _ , List < Entity > p _ 177414 _ 3 _ , Predicate < ? super Entity > p _ 177414 _ 4 _ ) <nl> { <nl> @ @ - 187 , 7 + 189 , 7 @ @ <nl> i = MathHelper . func _ 76125 _ a ( i , 0 , this . field _ 76645 _ j . length - 1 ) ; <nl> j = MathHelper . func _ 76125 _ a ( j , 0 , this . field _ 76645 _ j . length - 1 ) ; <nl> <nl> - @ @ - 904 , 8 + 904 , 8 @ @ <nl> + @ @ - 904 , 8 + 905 , 8 @ @ <nl> <nl> public < T extends Entity > void func _ 177430 _ a ( Class < ? extends T > p _ 177430 _ 1 _ , AxisAlignedBB p _ 177430 _ 2 _ , List < T > p _ 177430 _ 3 _ , Predicate < ? super T > p _ 177430 _ 4 _ ) <nl> { <nl> @ @ - 198 , 7 + 200 , 7 @ @ <nl> i = MathHelper . func _ 76125 _ a ( i , 0 , this . field _ 76645 _ j . length - 1 ) ; <nl> j = MathHelper . func _ 76125 _ a ( j , 0 , this . field _ 76645 _ j . length - 1 ) ; <nl> <nl> - @ @ - 994 , 6 + 994 , 7 @ @ <nl> + @ @ - 994 , 6 + 995 , 7 @ @ <nl> { <nl> this . func _ 150809 _ p ( ) ; <nl> p _ 186034 _ 1 _ . func _ 185931 _ b ( this . field _ 76635 _ g , this . field _ 76647 _ h ) ; <nl> @ @ - 206 , 7 + 208 , 7 @ @ <nl> this . func _ 76630 _ e ( ) ; <nl> } <nl> } <nl> - @ @ - 1050 , 7 + 1051 , 7 @ @ <nl> + @ @ - 1050 , 7 + 1052 , 7 @ @ <nl> { <nl> BlockPos blockpos = ( BlockPos ) this . field _ 177447 _ w . poll ( ) ; <nl> <nl> @ @ - 215 , 7 + 217 , 7 @ @ <nl> { <nl> TileEntity tileentity = this . func _ 177422 _ i ( blockpos ) ; <nl> this . field _ 76637 _ e . func _ 175690 _ a ( blockpos , tileentity ) ; <nl> - @ @ - 1114 , 6 + 1115 , 13 @ @ <nl> + @ @ - 1114 , 6 + 1116 , 13 @ @ <nl> @ SideOnly ( Side . CLIENT ) <nl> public void func _ 186033 _ a ( PacketBuffer p _ 186033 _ 1 _ , int p _ 186033 _ 2 _ , boolean p _ 186033 _ 3 _ ) <nl> { <nl> @ @ - 229 , 7 + 231 , 7 @ @ <nl> boolean flag = ! this . field _ 76637 _ e . field _ 73011 _ w . func _ 177495 _ o ( ) ; <nl> <nl> for ( int i = 0 ; i < this . field _ 76652 _ q . length ; + + i ) <nl> - @ @ - 1162 , 10 + 1170 , 16 @ @ <nl> + @ @ - 1162 , 10 + 1171 , 16 @ @ <nl> this . field _ 76646 _ k = true ; <nl> this . func _ 76590 _ a ( ) ; <nl> <nl> @ @ - 246 , 7 + 248 , 7 @ @ <nl> } <nl> <nl> public BiomeGenBase func _ 177411 _ a ( BlockPos p _ 177411 _ 1 _ , BiomeProvider p _ 177411 _ 2 _ ) <nl> - @ @ - 1233 , 13 + 1247 , 13 @ @ <nl> + @ @ - 1233 , 13 + 1248 , 13 @ @ <nl> BlockPos blockpos1 = blockpos . func _ 177982 _ a ( k , ( j < < 4 ) + i1 , l ) ; <nl> boolean flag = i1 = = 0 | | i1 = = 15 | | k = = 0 | | k = = 15 | | l = = 0 | | l = = 15 ; <nl> <nl> @ @ - 262 , 7 + 264 , 7 @ @ <nl> { <nl> this . field _ 76637 _ e . func _ 175664 _ x ( blockpos2 ) ; <nl> } <nl> - @ @ - 1370 , 7 + 1384 , 7 @ @ <nl> + @ @ - 1370 , 7 + 1385 , 7 @ @ <nl> { <nl> blockpos $ mutableblockpos . func _ 181079 _ c ( blockpos $ mutableblockpos . func _ 177958 _ n ( ) , l , blockpos $ mutableblockpos . func _ 177952 _ p ( ) ) ; <nl> <nl> @ @ - 271 , 7 + 273 , 7 @ @ <nl> { <nl> this . field _ 76637 _ e . func _ 175664 _ x ( blockpos $ mutableblockpos ) ; <nl> } <nl> - @ @ - 1481 , 4 + 1495 , 20 @ @ <nl> + @ @ - 1481 , 4 + 1496 , 20 @ @ <nl> QUEUED , <nl> CHECK ; <nl> }

TEST DIFF:
diff - - git a / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch b / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch 
 index 1cf592b . . 525db0e 100644 
 - - - a / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch 
 + + + b / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch 
 @ @ - 9 , 7 + 9 , 7 @ @ 
 { 
 this . field _ 76634 _ f [ k < < 4 | j ] = l ; 
 
 - @ @ - 451 , 12 + 451 , 12 @ @ 
 + @ @ - 451 , 12 + 451 , 13 @ @ 
 
 public int func _ 177437 _ b ( BlockPos p _ 177437 _ 1 _ ) 
 { 
 @ @ - 20 , 11 + 20 , 12 @ @ 
 private int func _ 150808 _ b ( int p _ 150808 _ 1 _ , int p _ 150808 _ 2 _ , int p _ 150808 _ 3 _ ) 
 { 
 - return this . func _ 186032 _ a ( p _ 150808 _ 1 _ , p _ 150808 _ 2 _ , p _ 150808 _ 3 _ ) . func _ 185891 _ c ( ) ; 
 - + return this . func _ 186032 _ a ( p _ 150808 _ 1 _ , p _ 150808 _ 2 _ , p _ 150808 _ 3 _ ) . getLightOpacity ( this . field _ 76637 _ e , new BlockPos ( p _ 150808 _ 1 _ , p _ 150808 _ 2 _ , p _ 150808 _ 3 _ ) ) ; 
 + + IBlockState state = this . func _ 186032 _ a ( p _ 150808 _ 1 _ , p _ 150808 _ 2 _ , p _ 150808 _ 3 _ ) ; / / Forge : Can sometimes be called before we are added to the global world list . So use the less accurate one during that . It ' ll be recalculated later 
 + + return this . field _ 189550 _ d ? state . func _ 185891 _ c ( ) : state . getLightOpacity ( this . field _ 76637 _ e , new BlockPos ( p _ 150808 _ 1 _ , p _ 150808 _ 2 _ , p _ 150808 _ 3 _ ) ) ; 
 } 
 
 public IBlockState func _ 177435 _ g ( BlockPos p _ 177435 _ 1 _ ) 
 - @ @ - 538 , 6 + 538 , 7 @ @ 
 + @ @ - 538 , 6 + 539 , 7 @ @ 
 { 
 Block block = p _ 177436 _ 2 _ . func _ 177230 _ c ( ) ; 
 Block block1 = iblockstate . func _ 177230 _ c ( ) ; 
 @ @ - 32 , 7 + 33 , 7 @ @ 
 ExtendedBlockStorage extendedblockstorage = this . field _ 76652 _ q [ j > > 4 ] ; 
 boolean flag = false ; 
 
 - @ @ - 554 , 14 + 555 , 19 @ @ 
 + @ @ - 554 , 14 + 556 , 19 @ @ 
 
 extendedblockstorage . func _ 177484 _ a ( i , j & 15 , k , p _ 177436 _ 2 _ ) ; 
 
 @ @ - 54 , 7 + 55 , 7 @ @ 
 this . field _ 76637 _ e . func _ 175713 _ t ( p _ 177436 _ 1 _ ) ; 
 } 
 } 
 - @ @ - 578 , 8 + 584 , 7 @ @ 
 + @ @ - 578 , 8 + 585 , 7 @ @ 
 } 
 else 
 { 
 @ @ - 64 , 7 + 65 , 7 @ @ 
 
 if ( j1 > 0 ) 
 { 
 - @ @ - 599 , 28 + 604 , 19 @ @ 
 + @ @ - 599 , 28 + 605 , 19 @ @ 
 } 
 } 
 
 @ @ - 97 , 7 + 98 , 7 @ @ 
 this . field _ 76637 _ e . func _ 175690 _ a ( p _ 177436 _ 1 _ , tileentity1 ) ; 
 } 
 
 - @ @ - 723 , 6 + 719 , 7 @ @ 
 + @ @ - 723 , 6 + 720 , 7 @ @ 
 k = this . field _ 76645 _ j . length - 1 ; 
 } 
 
 @ @ - 105 , 7 + 106 , 7 @ @ 
 p _ 76612 _ 1 _ . field _ 70175 _ ag = true ; 
 p _ 76612 _ 1 _ . field _ 70176 _ ah = this . field _ 76635 _ g ; 
 p _ 76612 _ 1 _ . field _ 70162 _ ai = k ; 
 - @ @ - 763 , 7 + 760 , 7 @ @ 
 + @ @ - 763 , 7 + 761 , 7 @ @ 
 { 
 IBlockState iblockstate = this . func _ 177435 _ g ( p _ 177422 _ 1 _ ) ; 
 Block block = iblockstate . func _ 177230 _ c ( ) ; 
 @ @ - 114 , 7 + 115 , 7 @ @ 
 } 
 
 @ Nullable 
 - @ @ - 771 , 6 + 768 , 12 @ @ 
 + @ @ - 771 , 6 + 769 , 12 @ @ 
 { 
 TileEntity tileentity = ( TileEntity ) this . field _ 150816 _ i . get ( p _ 177424 _ 1 _ ) ; 
 
 @ @ - 127 , 7 + 128 , 7 @ @ 
 if ( tileentity = = null ) 
 { 
 if ( p _ 177424 _ 2 _ = = Chunk . EnumCreateEntityType . IMMEDIATE ) 
 - @ @ - 780 , 14 + 783 , 9 @ @ 
 + @ @ - 780 , 14 + 784 , 9 @ @ 
 } 
 else if ( p _ 177424 _ 2 _ = = Chunk . EnumCreateEntityType . QUEUED ) 
 { 
 @ @ - 143 , 7 + 144 , 7 @ @ 
 
 return tileentity ; 
 } 
 - @ @ - 807 , 7 + 805 , 7 @ @ 
 + @ @ - 807 , 7 + 806 , 7 @ @ 
 p _ 177426 _ 2 _ . func _ 145834 _ a ( this . field _ 76637 _ e ) ; 
 p _ 177426 _ 2 _ . func _ 174878 _ a ( p _ 177426 _ 1 _ ) ; 
 
 @ @ - 152 , 7 + 153 , 7 @ @ 
 { 
 if ( this . field _ 150816 _ i . containsKey ( p _ 177426 _ 1 _ ) ) 
 { 
 - @ @ - 816 , 6 + 814 , 7 @ @ 
 + @ @ - 816 , 6 + 815 , 7 @ @ 
 
 p _ 177426 _ 2 _ . func _ 145829 _ t ( ) ; 
 this . field _ 150816 _ i . put ( p _ 177426 _ 1 _ , p _ 177426 _ 2 _ ) ; 
 @ @ - 160 , 7 + 161 , 7 @ @ 
 } 
 } 
 
 - @ @ - 844 , 8 + 843 , 9 @ @ 
 + @ @ - 844 , 8 + 844 , 9 @ @ 
 entity . func _ 110123 _ P ( ) ; 
 } 
 
 @ @ - 171 , 7 + 172 , 7 @ @ 
 } 
 
 public void func _ 76623 _ d ( ) 
 - @ @ - 861 , 6 + 861 , 7 @ @ 
 + @ @ - 861 , 6 + 862 , 7 @ @ 
 { 
 this . field _ 76637 _ e . func _ 175681 _ c ( this . field _ 76645 _ j [ i ] ) ; 
 } 
 @ @ - 179 , 7 + 180 , 7 @ @ 
 } 
 
 public void func _ 76630 _ e ( ) 
 - @ @ - 870 , 8 + 871 , 8 @ @ 
 + @ @ - 870 , 8 + 872 , 8 @ @ 
 
 public void func _ 177414 _ a ( @ Nullable Entity p _ 177414 _ 1 _ , AxisAlignedBB p _ 177414 _ 2 _ , List < Entity > p _ 177414 _ 3 _ , Predicate < ? super Entity > p _ 177414 _ 4 _ ) 
 { 
 @ @ - 190 , 7 + 191 , 7 @ @ 
 i = MathHelper . func _ 76125 _ a ( i , 0 , this . field _ 76645 _ j . length - 1 ) ; 
 j = MathHelper . func _ 76125 _ a ( j , 0 , this . field _ 76645 _ j . length - 1 ) ; 
 
 - @ @ - 910 , 8 + 911 , 8 @ @ 
 + @ @ - 910 , 8 + 912 , 8 @ @ 
 
 public < T extends Entity > void func _ 177430 _ a ( Class < ? extends T > p _ 177430 _ 1 _ , AxisAlignedBB p _ 177430 _ 2 _ , List < T > p _ 177430 _ 3 _ , Predicate < ? super T > p _ 177430 _ 4 _ ) 
 { 
 @ @ - 201 , 7 + 202 , 7 @ @ 
 i = MathHelper . func _ 76125 _ a ( i , 0 , this . field _ 76645 _ j . length - 1 ) ; 
 j = MathHelper . func _ 76125 _ a ( j , 0 , this . field _ 76645 _ j . length - 1 ) ; 
 
 - @ @ - 1000 , 6 + 1001 , 7 @ @ 
 + @ @ - 1000 , 6 + 1002 , 7 @ @ 
 { 
 this . func _ 150809 _ p ( ) ; 
 p _ 186034 _ 1 _ . func _ 185931 _ b ( this . field _ 76635 _ g , this . field _ 76647 _ h ) ; 
 @ @ - 209 , 7 + 210 , 7 @ @ 
 this . func _ 76630 _ e ( ) ; 
 } 
 } 
 - @ @ - 1056 , 7 + 1058 , 7 @ @ 
 + @ @ - 1056 , 7 + 1059 , 7 @ @ 
 { 
 BlockPos blockpos = ( BlockPos ) this . field _ 177447 _ w . poll ( ) ; 
 
 @ @ - 218 , 7 + 219 , 7 @ @ 
 { 
 TileEntity tileentity = this . func _ 177422 _ i ( blockpos ) ; 
 this . field _ 76637 _ e . func _ 175690 _ a ( blockpos , tileentity ) ; 
 - @ @ - 1120 , 6 + 1122 , 13 @ @ 
 + @ @ - 1120 , 6 + 1123 , 13 @ @ 
 @ SideOnly ( Side . CLIENT ) 
 public void func _ 186033 _ a ( PacketBuffer p _ 186033 _ 1 _ , int p _ 186033 _ 2 _ , boolean p _ 186033 _ 3 _ ) 
 { 
 @ @ - 232 , 7 + 233 , 7 @ @ 
 boolean flag = ! this . field _ 76637 _ e . field _ 73011 _ w . func _ 177495 _ o ( ) ; 
 
 for ( int i = 0 ; i < this . field _ 76652 _ q . length ; + + i ) 
 - @ @ - 1168 , 10 + 1177 , 16 @ @ 
 + @ @ - 1168 , 10 + 1178 , 16 @ @ 
 this . field _ 76646 _ k = true ; 
 this . func _ 76590 _ a ( ) ; 
 
 @ @ - 249 , 7 + 250 , 7 @ @ 
 } 
 
 public Biome func _ 177411 _ a ( BlockPos p _ 177411 _ 1 _ , BiomeProvider p _ 177411 _ 2 _ ) 
 - @ @ - 1239 , 13 + 1254 , 13 @ @ 
 + @ @ - 1239 , 13 + 1255 , 13 @ @ 
 BlockPos blockpos1 = blockpos . func _ 177982 _ a ( k , ( j < < 4 ) + i1 , l ) ; 
 boolean flag = i1 = = 0 | | i1 = = 15 | | k = = 0 | | k = = 15 | | l = = 0 | | l = = 15 ; 
 
 @ @ - 265 , 7 + 266 , 7 @ @ 
 { 
 this . field _ 76637 _ e . func _ 175664 _ x ( blockpos2 ) ; 
 } 
 - @ @ - 1376 , 7 + 1391 , 7 @ @ 
 + @ @ - 1376 , 7 + 1392 , 7 @ @ 
 { 
 blockpos $ mutableblockpos . func _ 181079 _ c ( blockpos $ mutableblockpos . func _ 177958 _ n ( ) , l , blockpos $ mutableblockpos . func _ 177952 _ p ( ) ) ; 
 
 @ @ - 274 , 7 + 275 , 7 @ @ 
 { 
 this . field _ 76637 _ e . func _ 175664 _ x ( blockpos $ mutableblockpos ) ; 
 } 
 - @ @ - 1487 , 4 + 1502 , 20 @ @ 
 + @ @ - 1487 , 4 + 1503 , 20 @ @ 
 QUEUED , 
 CHECK ; 
 }

NEAREST DIFF:
diff - - git a / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch b / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch 
 index 71b1ade . . e12fe8f 100644 
 - - - a / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch 
 + + + b / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch 
 @ @ - 64 , 12 + 64 , 14 @ @ 
 
 if ( j1 > 0 ) 
 { 
 - @ @ - 595 , 28 + 600 , 18 @ @ 
 + @ @ - 595 , 28 + 600 , 19 @ @ 
 } 
 } 
 
 - if ( block1 instanceof ITileEntityProvider ) 
 - - { 
 + + / / If capturing blocks , only run block physics for TE ' s . Non - TE ' s are handled in ForgeHooks . onPlaceItemIntoWorld 
 + + if ( ! this . field _ 76637 _ e . field _ 72995 _ K & & block1 ! = block & & ( ! this . field _ 76637 _ e . captureBlockSnapshots | | block . hasTileEntity ( p _ 177436 _ 2 _ ) ) ) 
 + { 
 - TileEntity tileentity = this . func _ 177424 _ a ( p _ 177436 _ 1 _ , Chunk . EnumCreateEntityType . CHECK ) ; 
 - 
 - if ( tileentity ! = null ) 
 @ @ - 78 , 8 + 80 , 8 @ @ 
 - } 
 - } 
 - 
 - if ( ! this . field _ 76637 _ e . field _ 72995 _ K & & block1 ! = block ) 
 - { 
 + - if ( ! this . field _ 76637 _ e . field _ 72995 _ K & & block1 ! = block ) 
 + - { 
 block . func _ 176213 _ c ( this . field _ 76637 _ e , p _ 177436 _ 1 _ , p _ 177436 _ 2 _ ) ; 
 } 
 
 @ @ - 95 , 7 + 97 , 7 @ @ 
 this . field _ 76637 _ e . func _ 175690 _ a ( p _ 177436 _ 1 _ , tileentity1 ) ; 
 } 
 
 - @ @ - 719 , 6 + 714 , 7 @ @ 
 + @ @ - 719 , 6 + 715 , 7 @ @ 
 k = this . field _ 76645 _ j . length - 1 ; 
 } 
 
 @ @ - 103 , 7 + 105 , 7 @ @ 
 p _ 76612 _ 1 _ . field _ 70175 _ ag = true ; 
 p _ 76612 _ 1 _ . field _ 70176 _ ah = this . field _ 76635 _ g ; 
 p _ 76612 _ 1 _ . field _ 70162 _ ai = k ; 
 - @ @ - 758 , 13 + 754 , 19 @ @ 
 + @ @ - 758 , 13 + 755 , 19 @ @ 
 { 
 IBlockState iblockstate = this . func _ 177435 _ g ( p _ 177422 _ 1 _ ) ; 
 Block block = iblockstate . func _ 177230 _ c ( ) ; 
 @ @ - 124 , 7 + 126 , 7 @ @ 
 if ( tileentity = = null ) 
 { 
 if ( p _ 177424 _ 2 _ = = Chunk . EnumCreateEntityType . IMMEDIATE ) 
 - @ @ - 774 , 14 + 776 , 9 @ @ 
 + @ @ - 774 , 14 + 777 , 9 @ @ 
 } 
 else if ( p _ 177424 _ 2 _ = = Chunk . EnumCreateEntityType . QUEUED ) 
 { 
 @ @ - 140 , 7 + 142 , 7 @ @ 
 
 return tileentity ; 
 } 
 - @ @ - 801 , 7 + 798 , 7 @ @ 
 + @ @ - 801 , 7 + 799 , 7 @ @ 
 p _ 177426 _ 2 _ . func _ 145834 _ a ( this . field _ 76637 _ e ) ; 
 p _ 177426 _ 2 _ . func _ 174878 _ a ( p _ 177426 _ 1 _ ) ; 
 
 @ @ - 149 , 7 + 151 , 7 @ @ 
 { 
 if ( this . field _ 150816 _ i . containsKey ( p _ 177426 _ 1 _ ) ) 
 { 
 - @ @ - 810 , 6 + 807 , 7 @ @ 
 + @ @ - 810 , 6 + 808 , 7 @ @ 
 
 p _ 177426 _ 2 _ . func _ 145829 _ t ( ) ; 
 this . field _ 150816 _ i . put ( p _ 177426 _ 1 _ , p _ 177426 _ 2 _ ) ; 
 @ @ - 157 , 7 + 159 , 7 @ @ 
 } 
 } 
 
 - @ @ - 838 , 8 + 836 , 9 @ @ 
 + @ @ - 838 , 8 + 837 , 9 @ @ 
 entity . func _ 110123 _ P ( ) ; 
 } 
 
 @ @ - 168 , 7 + 170 , 7 @ @ 
 } 
 
 public void func _ 76623 _ d ( ) 
 - @ @ - 855 , 6 + 854 , 7 @ @ 
 + @ @ - 855 , 6 + 855 , 7 @ @ 
 { 
 this . field _ 76637 _ e . func _ 175681 _ c ( this . field _ 76645 _ j [ i ] ) ; 
 } 
 @ @ - 176 , 7 + 178 , 7 @ @ 
 } 
 
 public void func _ 76630 _ e ( ) 
 - @ @ - 864 , 8 + 864 , 8 @ @ 
 + @ @ - 864 , 8 + 865 , 8 @ @ 
 
 public void func _ 177414 _ a ( Entity p _ 177414 _ 1 _ , AxisAlignedBB p _ 177414 _ 2 _ , List < Entity > p _ 177414 _ 3 _ , Predicate < ? super Entity > p _ 177414 _ 4 _ ) 
 { 
 @ @ - 187 , 7 + 189 , 7 @ @ 
 i = MathHelper . func _ 76125 _ a ( i , 0 , this . field _ 76645 _ j . length - 1 ) ; 
 j = MathHelper . func _ 76125 _ a ( j , 0 , this . field _ 76645 _ j . length - 1 ) ; 
 
 - @ @ - 904 , 8 + 904 , 8 @ @ 
 + @ @ - 904 , 8 + 905 , 8 @ @ 
 
 public < T extends Entity > void func _ 177430 _ a ( Class < ? extends T > p _ 177430 _ 1 _ , AxisAlignedBB p _ 177430 _ 2 _ , List < T > p _ 177430 _ 3 _ , Predicate < ? super T > p _ 177430 _ 4 _ ) 
 { 
 @ @ - 198 , 7 + 200 , 7 @ @ 
 i = MathHelper . func _ 76125 _ a ( i , 0 , this . field _ 76645 _ j . length - 1 ) ; 
 j = MathHelper . func _ 76125 _ a ( j , 0 , this . field _ 76645 _ j . length - 1 ) ; 
 
 - @ @ - 994 , 6 + 994 , 7 @ @ 
 + @ @ - 994 , 6 + 995 , 7 @ @ 
 { 
 this . func _ 150809 _ p ( ) ; 
 p _ 186034 _ 1 _ . func _ 185931 _ b ( this . field _ 76635 _ g , this . field _ 76647 _ h ) ; 
 @ @ - 206 , 7 + 208 , 7 @ @ 
 this . func _ 76630 _ e ( ) ; 
 } 
 } 
 - @ @ - 1050 , 7 + 1051 , 7 @ @ 
 + @ @ - 1050 , 7 + 1052 , 7 @ @ 
 { 
 BlockPos blockpos = ( BlockPos ) this . field _ 177447 _ w . poll ( ) ; 
 
 @ @ - 215 , 7 + 217 , 7 @ @ 
 { 
 TileEntity tileentity = this . func _ 177422 _ i ( blockpos ) ; 
 this . field _ 76637 _ e . func _ 175690 _ a ( blockpos , tileentity ) ; 
 - @ @ - 1114 , 6 + 1115 , 13 @ @ 
 + @ @ - 1114 , 6 + 1116 , 13 @ @ 
 @ SideOnly ( Side . CLIENT ) 
 public void func _ 186033 _ a ( PacketBuffer p _ 186033 _ 1 _ , int p _ 186033 _ 2 _ , boolean p _ 186033 _ 3 _ ) 
 { 
 @ @ - 229 , 7 + 231 , 7 @ @ 
 boolean flag = ! this . field _ 76637 _ e . field _ 73011 _ w . func _ 177495 _ o ( ) ; 
 
 for ( int i = 0 ; i < this . field _ 76652 _ q . length ; + + i ) 
 - @ @ - 1162 , 10 + 1170 , 16 @ @ 
 + @ @ - 1162 , 10 + 1171 , 16 @ @ 
 this . field _ 76646 _ k = true ; 
 this . func _ 76590 _ a ( ) ; 
 
 @ @ - 246 , 7 + 248 , 7 @ @ 
 } 
 
 public BiomeGenBase func _ 177411 _ a ( BlockPos p _ 177411 _ 1 _ , BiomeProvider p _ 177411 _ 2 _ ) 
 - @ @ - 1233 , 13 + 1247 , 13 @ @ 
 + @ @ - 1233 , 13 + 1248 , 13 @ @ 
 BlockPos blockpos1 = blockpos . func _ 177982 _ a ( k , ( j < < 4 ) + i1 , l ) ; 
 boolean flag = i1 = = 0 | | i1 = = 15 | | k = = 0 | | k = = 15 | | l = = 0 | | l = = 15 ; 
 
 @ @ - 262 , 7 + 264 , 7 @ @ 
 { 
 this . field _ 76637 _ e . func _ 175664 _ x ( blockpos2 ) ; 
 } 
 - @ @ - 1370 , 7 + 1384 , 7 @ @ 
 + @ @ - 1370 , 7 + 1385 , 7 @ @ 
 { 
 blockpos $ mutableblockpos . func _ 181079 _ c ( blockpos $ mutableblockpos . func _ 177958 _ n ( ) , l , blockpos $ mutableblockpos . func _ 177952 _ p ( ) ) ; 
 
 @ @ - 271 , 7 + 273 , 7 @ @ 
 { 
 this . field _ 76637 _ e . func _ 175664 _ x ( blockpos $ mutableblockpos ) ; 
 } 
 - @ @ - 1481 , 4 + 1495 , 20 @ @ 
 + @ @ - 1481 , 4 + 1496 , 20 @ @ 
 QUEUED , 
 CHECK ; 
 }
