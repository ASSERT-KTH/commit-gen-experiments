BLEU SCORE: 0.013878957858167952

TEST MSG: Add Block # getStateForPlacement
GENERATED MSG: Fixes MC - 75630 - Exploit with signs and command blocks

TEST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / block / Block . java . patch b / patches / minecraft / net / minecraft / block / Block . java . patch <nl> index 9c34e2e . . 2d025e5 100644 <nl> - - - a / patches / minecraft / net / minecraft / block / Block . java . patch <nl> + + + b / patches / minecraft / net / minecraft / block / Block . java . patch <nl> @ @ - 143 , 7 + 143 , 16 @ @ <nl> } <nl> <nl> public boolean func _ 180639 _ a ( World p _ 180639 _ 1 _ , BlockPos p _ 180639 _ 2 _ , IBlockState p _ 180639 _ 3 _ , EntityPlayer p _ 180639 _ 4 _ , EnumHand p _ 180639 _ 5 _ , @ Nullable ItemStack p _ 180639 _ 6 _ , EnumFacing p _ 180639 _ 7 _ , float p _ 180639 _ 8 _ , float p _ 180639 _ 9 _ , float p _ 180639 _ 10 _ ) <nl> - @ @ - 680 , 25 + 687 , 35 @ @ <nl> + @ @ - 639 , 6 + 646 , 8 @ @ <nl> + { <nl> + } <nl> + <nl> + + / / Forge : use getStateForPlacement <nl> + + @ Deprecated <nl> + public IBlockState func _ 180642 _ a ( World p _ 180642 _ 1 _ , BlockPos p _ 180642 _ 2 _ , EnumFacing p _ 180642 _ 3 _ , float p _ 180642 _ 4 _ , float p _ 180642 _ 5 _ , float p _ 180642 _ 6 _ , int p _ 180642 _ 7 _ , EntityLivingBase p _ 180642 _ 8 _ ) <nl> + { <nl> + return this . func _ 176203 _ a ( p _ 180642 _ 7 _ ) ; <nl> + @ @ - 680 , 25 + 689 , 35 @ @ <nl> p _ 180657 _ 2 _ . func _ 71029 _ a ( StatList . func _ 188055 _ a ( this ) ) ; <nl> p _ 180657 _ 2 _ . func _ 71020 _ j ( 0 . 025F ) ; <nl> <nl> @ @ - 182 , 7 + 191 , 7 @ @ <nl> } <nl> <nl> @ Nullable <nl> - @ @ - 794 , 9 + 811 , 11 @ @ <nl> + @ @ - 794 , 9 + 813 , 11 @ @ <nl> } <nl> <nl> @ Nullable <nl> @ @ - 195 , 7 + 204 , 7 @ @ <nl> } <nl> <nl> @ SideOnly ( Side . CLIENT ) <nl> - @ @ - 883 , 6 + 902 , 7 @ @ <nl> + @ @ - 883 , 6 + 904 , 7 @ @ <nl> return Block . EnumOffsetType . NONE ; <nl> } <nl> <nl> @ @ - 203 , 7 + 212 , 7 @ @ <nl> public SoundType func _ 185467 _ w ( ) <nl> { <nl> return this . field _ 149762 _ H ; <nl> - @ @ - 893 , 6 + 913 , 1168 @ @ <nl> + @ @ - 893 , 6 + 915 , 1186 @ @ <nl> return " Block { " + field _ 149771 _ c . func _ 177774 _ c ( this ) + " } " ; <nl> } <nl> <nl> @ @ - 1367 , 12 + 1376 , 30 @ @ <nl> + return null ; <nl> + } <nl> + <nl> + + / * * <nl> + + * Gets the { @ link IBlockState } to place <nl> + + * @ param world The world the block is being placed in <nl> + + * @ param pos The position the block is being placed at <nl> + + * @ param facing The side the block is being placed on <nl> + + * @ param hitX The X coordinate of the hit vector <nl> + + * @ param hitY The Y coordinate of the hit vector <nl> + + * @ param hitZ The Z coordinate of the hit vector <nl> + + * @ param meta The metadata of { @ link ItemStack } as processed by { @ link Item # getMetadata ( int ) } <nl> + + * @ param placer The entity placing the block <nl> + + * @ param stack The stack being used to place this block <nl> + + * @ return The state to be placed in the world <nl> + + * / <nl> + + public IBlockState getStateForPlacement ( World world , BlockPos pos , EnumFacing facing , float hitX , float hitY , float hitZ , int meta , EntityLivingBase placer , ItemStack stack ) <nl> + + { <nl> + + return func _ 180642 _ a ( world , pos , facing , hitX , hitY , hitZ , meta , placer ) ; <nl> + + } <nl> + + <nl> + / * = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = FORGE END = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = * / <nl> + <nl> public static void func _ 149671 _ p ( ) <nl> { <nl> func _ 176215 _ a ( 0 , field _ 176230 _ a , ( new BlockAir ( ) ) . func _ 149663 _ c ( " air " ) ) ; <nl> - @ @ - 1169 , 11 + 2351 , 7 @ @ <nl> + @ @ - 1169 , 11 + 2371 , 7 @ @ <nl> } <nl> else <nl> { <nl> diff - - git a / patches / minecraft / net / minecraft / item / ItemBlock . java . patch b / patches / minecraft / net / minecraft / item / ItemBlock . java . patch <nl> index f79a1a1 . . da85a8e 100644 <nl> - - - a / patches / minecraft / net / minecraft / item / ItemBlock . java . patch <nl> + + + b / patches / minecraft / net / minecraft / item / ItemBlock . java . patch <nl> @ @ - 1 , 8 + 1 , 11 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / item / ItemBlock . java <nl> + + + . . / src - work / minecraft / net / minecraft / item / ItemBlock . java <nl> - @ @ - 51 , 17 + 51 , 9 @ @ <nl> + @ @ - 49 , 19 + 49 , 11 @ @ <nl> + if ( p _ 180614 _ 1 _ . field _ 77994 _ a ! = 0 & & p _ 180614 _ 2 _ . func _ 175151 _ a ( p _ 180614 _ 4 _ , p _ 180614 _ 6 _ , p _ 180614 _ 1 _ ) & & p _ 180614 _ 3 _ . func _ 175716 _ a ( this . field _ 150939 _ a , p _ 180614 _ 4 _ , false , p _ 180614 _ 6 _ , ( Entity ) null , p _ 180614 _ 1 _ ) ) <nl> + { <nl> int i = this . func _ 77647 _ b ( p _ 180614 _ 1 _ . func _ 77960 _ j ( ) ) ; <nl> - IBlockState iblockstate1 = this . field _ 150939 _ a . func _ 180642 _ a ( p _ 180614 _ 3 _ , p _ 180614 _ 4 _ , p _ 180614 _ 6 _ , p _ 180614 _ 7 _ , p _ 180614 _ 8 _ , p _ 180614 _ 9 _ , i , p _ 180614 _ 2 _ ) ; <nl> + - IBlockState iblockstate1 = this . field _ 150939 _ a . func _ 180642 _ a ( p _ 180614 _ 3 _ , p _ 180614 _ 4 _ , p _ 180614 _ 6 _ , p _ 180614 _ 7 _ , p _ 180614 _ 8 _ , p _ 180614 _ 9 _ , i , p _ 180614 _ 2 _ ) ; <nl> + + IBlockState iblockstate1 = this . field _ 150939 _ a . getStateForPlacement ( p _ 180614 _ 3 _ , p _ 180614 _ 4 _ , p _ 180614 _ 6 _ , p _ 180614 _ 7 _ , p _ 180614 _ 8 _ , p _ 180614 _ 9 _ , i , p _ 180614 _ 2 _ , p _ 180614 _ 1 _ ) ; <nl> <nl> - if ( p _ 180614 _ 3 _ . func _ 180501 _ a ( p _ 180614 _ 4 _ , iblockstate1 , 11 ) ) <nl> + if ( placeBlockAt ( p _ 180614 _ 1 _ , p _ 180614 _ 2 _ , p _ 180614 _ 3 _ , p _ 180614 _ 4 _ , p _ 180614 _ 6 _ , p _ 180614 _ 7 _ , p _ 180614 _ 8 _ , p _ 180614 _ 9 _ , iblockstate1 ) ) <nl> diff - - git a / patches / minecraft / net / minecraft / item / ItemBlockSpecial . java . patch b / patches / minecraft / net / minecraft / item / ItemBlockSpecial . java . patch <nl> index 0e0d43c . . d1528af 100644 <nl> - - - a / patches / minecraft / net / minecraft / item / ItemBlockSpecial . java . patch <nl> + + + b / patches / minecraft / net / minecraft / item / ItemBlockSpecial . java . patch <nl> @ @ - 1 , 5 + 1 , 14 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / item / ItemBlockSpecial . java <nl> + + + . . / src - work / minecraft / net / minecraft / item / ItemBlockSpecial . java <nl> + @ @ - 39 , 7 + 39 , 7 @ @ <nl> + <nl> + if ( p _ 180614 _ 2 _ . func _ 175151 _ a ( p _ 180614 _ 4 _ , p _ 180614 _ 6 _ , p _ 180614 _ 1 _ ) & & p _ 180614 _ 1 _ . field _ 77994 _ a ! = 0 & & p _ 180614 _ 3 _ . func _ 175716 _ a ( this . field _ 150935 _ a , p _ 180614 _ 4 _ , false , p _ 180614 _ 6 _ , ( Entity ) null , p _ 180614 _ 1 _ ) ) <nl> + { <nl> + - IBlockState iblockstate1 = this . field _ 150935 _ a . func _ 180642 _ a ( p _ 180614 _ 3 _ , p _ 180614 _ 4 _ , p _ 180614 _ 6 _ , p _ 180614 _ 7 _ , p _ 180614 _ 8 _ , p _ 180614 _ 9 _ , 0 , p _ 180614 _ 2 _ ) ; <nl> + + IBlockState iblockstate1 = this . field _ 150935 _ a . getStateForPlacement ( p _ 180614 _ 3 _ , p _ 180614 _ 4 _ , p _ 180614 _ 6 _ , p _ 180614 _ 7 _ , p _ 180614 _ 8 _ , p _ 180614 _ 9 _ , 0 , p _ 180614 _ 2 _ , p _ 180614 _ 1 _ ) ; <nl> + <nl> + if ( ! p _ 180614 _ 3 _ . func _ 180501 _ a ( p _ 180614 _ 4 _ , iblockstate1 , 11 ) ) <nl> + { <nl> @ @ - 55 , 7 + 55 , 7 @ @ <nl> iblockstate1 . func _ 177230 _ c ( ) . func _ 180633 _ a ( p _ 180614 _ 3 _ , p _ 180614 _ 4 _ , iblockstate1 , p _ 180614 _ 2 _ , p _ 180614 _ 1 _ ) ; <nl> } <nl> diff - - git a / patches / minecraft / net / minecraft / item / ItemDye . java . patch b / patches / minecraft / net / minecraft / item / ItemDye . java . patch <nl> index 29435d3 . . 07eb07c 100644 <nl> - - - a / patches / minecraft / net / minecraft / item / ItemDye . java . patch <nl> + + + b / patches / minecraft / net / minecraft / item / ItemDye . java . patch <nl> @ @ - 9 , 6 + 9 , 15 @ @ <nl> { <nl> if ( ! p _ 180614 _ 3 _ . field _ 72995 _ K ) <nl> { <nl> + @ @ - 73 , 7 + 73 , 7 @ @ <nl> + <nl> + if ( p _ 180614 _ 3 _ . func _ 175623 _ d ( p _ 180614 _ 4 _ ) ) <nl> + { <nl> + - IBlockState iblockstate1 = Blocks . field _ 150375 _ by . func _ 180642 _ a ( p _ 180614 _ 3 _ , p _ 180614 _ 4 _ , p _ 180614 _ 6 _ , p _ 180614 _ 7 _ , p _ 180614 _ 8 _ , p _ 180614 _ 9 _ , 0 , p _ 180614 _ 2 _ ) ; <nl> + + IBlockState iblockstate1 = Blocks . field _ 150375 _ by . getStateForPlacement ( p _ 180614 _ 3 _ , p _ 180614 _ 4 _ , p _ 180614 _ 6 _ , p _ 180614 _ 7 _ , p _ 180614 _ 8 _ , p _ 180614 _ 9 _ , 0 , p _ 180614 _ 2 _ , p _ 180614 _ 1 _ ) ; <nl> + p _ 180614 _ 3 _ . func _ 180501 _ a ( p _ 180614 _ 4 _ , iblockstate1 , 10 ) ; <nl> + <nl> + if ( ! p _ 180614 _ 2 _ . field _ 71075 _ bZ . field _ 75098 _ d ) <nl> @ @ - 97 , 8 + 97 , 18 @ @ <nl> <nl> public static boolean func _ 179234 _ a ( ItemStack p _ 179234 _ 0 _ , World p _ 179234 _ 1 _ , BlockPos p _ 179234 _ 2 _ )
NEAREST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / init / Bootstrap . java . patch b / patches / minecraft / net / minecraft / init / Bootstrap . java . patch <nl> new file mode 100644 <nl> index 0000000 . . 6af9211 <nl> - - - / dev / null <nl> + + + b / patches / minecraft / net / minecraft / init / Bootstrap . java . patch <nl> @ @ - 0 , 0 + 1 , 26 @ @ <nl> + - - - . . / src - base / minecraft / net / minecraft / init / Bootstrap . java <nl> + + + + . . / src - work / minecraft / net / minecraft / init / Bootstrap . java <nl> + @ @ - 67 , 6 + 67 , 7 @ @ <nl> + return field _ 151355 _ a ; <nl> + } <nl> + <nl> + + @ SuppressWarnings ( " unused " ) <nl> + static void func _ 151353 _ a ( ) <nl> + { <nl> + BlockDispenser . field _ 149943 _ a . func _ 82595 _ a ( Items . field _ 151032 _ g , new BehaviorProjectileDispense ( ) <nl> + @ @ - 509 , 6 + 510 , 7 @ @ <nl> + } <nl> + } <nl> + } ) ; <nl> + + if ( false ) { / / Forge : Removed , Fixes MC - 75630 - Exploit with signs and command blocks <nl> + BlockDispenser . field _ 149943 _ a . func _ 82595 _ a ( Item . func _ 150898 _ a ( Blocks . field _ 150483 _ bI ) , new BehaviorDefaultDispenseItem ( ) <nl> + { <nl> + private static final String _ _ OBFID = " CL _ 00002276 " ; <nl> + @ @ - 535 , 6 + 537 , 7 @ @ <nl> + protected void func _ 82485 _ a ( IBlockSource p _ 82485 _ 1 _ ) { } <nl> + protected void func _ 82489 _ a ( IBlockSource p _ 82489 _ 1 _ , EnumFacing p _ 82489 _ 2 _ ) { } <nl> + } ) ; <nl> + + } <nl> + } <nl> + <nl> + public static void func _ 151354 _ b ( ) <nl> diff - - git a / patches / minecraft / net / minecraft / item / ItemBlock . java . patch b / patches / minecraft / net / minecraft / item / ItemBlock . java . patch <nl> index 4d24c50 . . 728a85a 100644 <nl> - - - a / patches / minecraft / net / minecraft / item / ItemBlock . java . patch <nl> + + + b / patches / minecraft / net / minecraft / item / ItemBlock . java . patch <nl> @ @ - 18 , 7 + 18 , 32 @ @ <nl> p _ 180614 _ 3 _ . func _ 72908 _ a ( ( double ) ( ( float ) p _ 180614 _ 4 _ . func _ 177958 _ n ( ) + 0 . 5F ) , ( double ) ( ( float ) p _ 180614 _ 4 _ . func _ 177956 _ o ( ) + 0 . 5F ) , ( double ) ( ( float ) p _ 180614 _ 4 _ . func _ 177952 _ p ( ) + 0 . 5F ) , this . field _ 150939 _ a . field _ 149762 _ H . func _ 150496 _ b ( ) , ( this . field _ 150939 _ a . field _ 149762 _ H . func _ 150497 _ c ( ) + 1 . 0F ) / 2 . 0F , this . field _ 150939 _ a . field _ 149762 _ H . func _ 150494 _ d ( ) * 0 . 8F ) ; <nl> - - p _ 180614 _ 1 _ . field _ 77994 _ a ; <nl> } <nl> - @ @ - 157 , 4 + 149 , 26 @ @ <nl> + @ @ - 85 , 14 + 77 , 24 @ @ <nl> + } <nl> + } <nl> + <nl> + + @ Deprecated / / Use player sensitive version <nl> + public static boolean func _ 179224 _ a ( World p _ 179224 _ 0 _ , BlockPos p _ 179224 _ 1 _ , ItemStack p _ 179224 _ 2 _ ) <nl> + { <nl> + + return setTileEntityNBT ( p _ 179224 _ 0 _ , p _ 179224 _ 1 _ , p _ 179224 _ 2 _ , null ) ; <nl> + + } <nl> + + public static boolean setTileEntityNBT ( World p _ 179224 _ 0 _ , BlockPos p _ 179224 _ 1 _ , ItemStack p _ 179224 _ 2 _ , EntityPlayer player ) <nl> + + { <nl> + if ( p _ 179224 _ 2 _ . func _ 77942 _ o ( ) & & p _ 179224 _ 2 _ . func _ 77978 _ p ( ) . func _ 150297 _ b ( " BlockEntityTag " , 10 ) ) <nl> + { <nl> + TileEntity tileentity = p _ 179224 _ 0 _ . func _ 175625 _ s ( p _ 179224 _ 1 _ ) ; <nl> + <nl> + if ( tileentity ! = null ) <nl> + { <nl> + + / / Forge : Fixes MC - 75630 - Exploit with signs and command blocks <nl> + + final net . minecraft . server . MinecraftServer server = net . minecraft . server . MinecraftServer . func _ 71276 _ C ( ) ; <nl> + + if ( ! p _ 179224 _ 0 _ . field _ 72995 _ K & & tileentity . restrictNBTCopy ( ) & & <nl> + + ( server = = null | | server . func _ 71203 _ ab ( ) . func _ 152596 _ g ( player . func _ 146103 _ bH ( ) ) ) ) <nl> + + return false ; <nl> + NBTTagCompound nbttagcompound = new NBTTagCompound ( ) ; <nl> + NBTTagCompound nbttagcompound1 = ( NBTTagCompound ) nbttagcompound . func _ 74737 _ b ( ) ; <nl> + tileentity . func _ 145841 _ b ( nbttagcompound ) ; <nl> + @ @ - 157 , 4 + 159 , 26 @ @ <nl> { <nl> return this . field _ 150939 _ a ; <nl> } <nl> @ @ - 38 , 7 + 63 , 7 @ @ <nl> + IBlockState state = world . func _ 180495 _ p ( pos ) ; <nl> + if ( state . func _ 177230 _ c ( ) = = this . field _ 150939 _ a ) <nl> + { <nl> - + func _ 179224 _ a ( world , pos , stack ) ; <nl> + + setTileEntityNBT ( world , pos , stack , player ) ; <nl> + this . field _ 150939 _ a . func _ 180633 _ a ( world , pos , state , player , stack ) ; <nl> + } <nl> + <nl> diff - - git a / patches / minecraft / net / minecraft / item / ItemReed . java . patch b / patches / minecraft / net / minecraft / item / ItemReed . java . patch <nl> new file mode 100644 <nl> index 0000000 . . 9d6bcb6 <nl> - - - / dev / null <nl> + + + b / patches / minecraft / net / minecraft / item / ItemReed . java . patch <nl> @ @ - 0 , 0 + 1 , 11 @ @ <nl> + - - - . . / src - base / minecraft / net / minecraft / item / ItemReed . java <nl> + + + + . . / src - work / minecraft / net / minecraft / item / ItemReed . java <nl> + @ @ - 54 , 7 + 54 , 7 @ @ <nl> + <nl> + if ( iblockstate1 . func _ 177230 _ c ( ) = = this . field _ 150935 _ a ) <nl> + { <nl> + - ItemBlock . func _ 179224 _ a ( p _ 180614 _ 3 _ , p _ 180614 _ 4 _ , p _ 180614 _ 1 _ ) ; <nl> + + ItemBlock . setTileEntityNBT ( p _ 180614 _ 3 _ , p _ 180614 _ 4 _ , p _ 180614 _ 1 _ , p _ 180614 _ 2 _ ) ; <nl> + iblockstate1 . func _ 177230 _ c ( ) . func _ 180633 _ a ( p _ 180614 _ 3 _ , p _ 180614 _ 4 _ , iblockstate1 , p _ 180614 _ 2 _ , p _ 180614 _ 1 _ ) ; <nl> + } <nl> + <nl> diff - - git a / patches / minecraft / net / minecraft / item / ItemSign . java . patch b / patches / minecraft / net / minecraft / item / ItemSign . java . patch <nl> new file mode 100644 <nl> index 0000000 . . bede8d8 <nl> - - - / dev / null <nl> + + + b / patches / minecraft / net / minecraft / item / ItemSign . java . patch <nl> @ @ - 0 , 0 + 1 , 11 @ @ <nl> + - - - . . / src - base / minecraft / net / minecraft / item / ItemSign . java <nl> + + + + . . / src - work / minecraft / net / minecraft / item / ItemSign . java <nl> + @ @ - 63 , 7 + 63 , 7 @ @ <nl> + - - p _ 180614 _ 1 _ . field _ 77994 _ a ; <nl> + TileEntity tileentity = p _ 180614 _ 3 _ . func _ 175625 _ s ( p _ 180614 _ 4 _ ) ; <nl> + <nl> + - if ( tileentity instanceof TileEntitySign & & ! ItemBlock . func _ 179224 _ a ( p _ 180614 _ 3 _ , p _ 180614 _ 4 _ , p _ 180614 _ 1 _ ) ) <nl> + + if ( tileentity instanceof TileEntitySign & & ! ItemBlock . setTileEntityNBT ( p _ 180614 _ 3 _ , p _ 180614 _ 4 _ , p _ 180614 _ 1 _ , p _ 180614 _ 2 _ ) ) <nl> + { <nl> + p _ 180614 _ 2 _ . func _ 175141 _ a ( ( TileEntitySign ) tileentity ) ; <nl> + } <nl> diff - - git a / patches / minecraft / net / minecraft / tileentity / TileEntity . java . patch b / patches / minecraft / net / minecraft / tileentity / TileEntity . java . patch <nl> index ee6f662 . . b47adc0 100644 <nl> - - - a / patches / minecraft / net / minecraft / tileentity / TileEntity . java . patch <nl> + + + b / patches / minecraft / net / minecraft / tileentity / TileEntity . java . patch <nl> @ @ - 16 , 7 + 16 , 7 @ @ <nl> } <nl> } <nl> <nl> - @ @ - 294 , 4 + 296 , 123 @ @ <nl> + @ @ - 294 , 4 + 296 , 135 @ @ <nl> func _ 145826 _ a ( TileEntityFlowerPot . class , " FlowerPot " ) ; <nl> func _ 145826 _ a ( TileEntityBanner . class , " Banner " ) ; <nl> } <nl> @ @ - 139 , 4 + 139 , 16 @ @ <nl> + } <nl> + return this . customTileData ; <nl> + } <nl> + + <nl> + + / * * <nl> + + * Determines if the player can overwrite the NBT data of this tile entity while they place it using a ItemStack . <nl> + + * Added as a fix for MC - 75630 - Exploit with signs and command blocks <nl> + + * @ return True to prevent NBT copy , false to allow . <nl> + + * / <nl> + + public boolean restrictNBTCopy ( ) <nl> + + { <nl> + + return this instanceof TileEntityCommandBlock | | <nl> + + this instanceof TileEntityMobSpawner | | <nl> + + this instanceof TileEntitySign ; <nl> + + } <nl> } <nl> diff - - git a / patches / minecraft / net / minecraft / tileentity / TileEntitySign . java . patch b / patches / minecraft / net / minecraft / tileentity / TileEntitySign . java . patch <nl> new file mode 100644 <nl> index 0000000 . . d1cc9e8 <nl> - - - / dev / null <nl> + + + b / patches / minecraft / net / minecraft / tileentity / TileEntitySign . java . patch <nl> @ @ - 0 , 0 + 1 , 11 @ @ <nl> + - - - . . / src - base / minecraft / net / minecraft / tileentity / TileEntitySign . java <nl> + + + + . . / src - work / minecraft / net / minecraft / tileentity / TileEntitySign . java <nl> + @ @ - 161 , 7 + 161 , 7 @ @ <nl> + public void func _ 145747 _ a ( IChatComponent p _ 145747 _ 1 _ ) { } <nl> + public boolean func _ 70003 _ b ( int p _ 70003 _ 1 _ , String p _ 70003 _ 2 _ ) <nl> + { <nl> + - return true ; <nl> + + return p _ 70003 _ 1 _ < = 2 ; / / Forge : Fixes MC - 75630 - Exploit with signs and command blocks <nl> + } <nl> + public BlockPos func _ 180425 _ c ( ) <nl> + { <nl> diff - - git a / src / main / resources / forge . exc b / src / main / resources / forge . exc <nl> index 752a6af . . bc60d2d 100644 <nl> - - - a / src / main / resources / forge . exc <nl> + + + b / src / main / resources / forge . exc <nl> @ @ - 35 , 3 + 35 , 5 @ @ net / minecraft / client / renderer / block / model / FaceBakery . makeBakedQuad ( Ljavax / vecmat <nl> net / minecraft / client / renderer / block / model / FaceBakery . makeQuadVertexData ( Lnet / minecraft / client / renderer / block / model / BlockPartFace ; Lnet / minecraft / client / renderer / texture / TextureAtlasSprite ; Lnet / minecraft / util / EnumFacing ; [ FLnet / minecraftforge / client / model / ITransformation ; Lnet / minecraft / client / renderer / block / model / BlockPartRotation ; ZZ ) [ I = | p _ 178405 _ 1 _ , p _ 178405 _ 2 _ , p _ 178405 _ 3 _ , p _ 178405 _ 4 _ , p _ 178405 _ 5 _ , p _ 178405 _ 6 _ , p _ 178405 _ 7 _ , p _ 178405 _ 8 _ <nl> net / minecraft / client / renderer / block / model / FaceBakery . fillVertexData ( [ IILnet / minecraft / util / EnumFacing ; Lnet / minecraft / client / renderer / block / model / BlockPartFace ; [ FLnet / minecraft / client / renderer / texture / TextureAtlasSprite ; Lnet / minecraftforge / client / model / ITransformation ; Lnet / minecraft / client / renderer / block / model / BlockPartRotation ; ZZ ) V = | p _ 178402 _ 1 _ , p _ 178402 _ 2 _ , p _ 178402 _ 3 _ , p _ 178402 _ 4 _ , p _ 178402 _ 5 _ , p _ 178402 _ 6 _ , p _ 178402 _ 7 _ , p _ 178402 _ 8 _ , p _ 178402 _ 9 _ , p _ 178402 _ 10 _ <nl> net / minecraft / client / renderer / block / model / FaceBakery . rotateVertex ( Ljavax / vecmath / Vector3d ; Lnet / minecraft / util / EnumFacing ; ILnet / minecraftforge / client / model / ITransformation ; Z ) I = | p _ 178415 _ 1 _ , p _ 178415 _ 2 _ , p _ 178415 _ 3 _ , p _ 178415 _ 4 _ , p _ 178415 _ 5 _ <nl> + <nl> + net / minecraft / item / ItemBlock . setTileEntityNBT ( Lnet / minecraft / world / World ; Lnet / minecraft / util / BlockPos ; Lnet / minecraft / item / ItemStack ; Lnet / minecraft / entity / player / EntityPlayer ; ) Z = | p _ 179224 _ 0 _ , p _ 179224 _ 1 _ , p _ 179224 _ 2 _ , player <nl> \ No newline at end of file

TEST DIFF:
diff - - git a / patches / minecraft / net / minecraft / block / Block . java . patch b / patches / minecraft / net / minecraft / block / Block . java . patch 
 index 9c34e2e . . 2d025e5 100644 
 - - - a / patches / minecraft / net / minecraft / block / Block . java . patch 
 + + + b / patches / minecraft / net / minecraft / block / Block . java . patch 
 @ @ - 143 , 7 + 143 , 16 @ @ 
 } 
 
 public boolean func _ 180639 _ a ( World p _ 180639 _ 1 _ , BlockPos p _ 180639 _ 2 _ , IBlockState p _ 180639 _ 3 _ , EntityPlayer p _ 180639 _ 4 _ , EnumHand p _ 180639 _ 5 _ , @ Nullable ItemStack p _ 180639 _ 6 _ , EnumFacing p _ 180639 _ 7 _ , float p _ 180639 _ 8 _ , float p _ 180639 _ 9 _ , float p _ 180639 _ 10 _ ) 
 - @ @ - 680 , 25 + 687 , 35 @ @ 
 + @ @ - 639 , 6 + 646 , 8 @ @ 
 + { 
 + } 
 + 
 + + / / Forge : use getStateForPlacement 
 + + @ Deprecated 
 + public IBlockState func _ 180642 _ a ( World p _ 180642 _ 1 _ , BlockPos p _ 180642 _ 2 _ , EnumFacing p _ 180642 _ 3 _ , float p _ 180642 _ 4 _ , float p _ 180642 _ 5 _ , float p _ 180642 _ 6 _ , int p _ 180642 _ 7 _ , EntityLivingBase p _ 180642 _ 8 _ ) 
 + { 
 + return this . func _ 176203 _ a ( p _ 180642 _ 7 _ ) ; 
 + @ @ - 680 , 25 + 689 , 35 @ @ 
 p _ 180657 _ 2 _ . func _ 71029 _ a ( StatList . func _ 188055 _ a ( this ) ) ; 
 p _ 180657 _ 2 _ . func _ 71020 _ j ( 0 . 025F ) ; 
 
 @ @ - 182 , 7 + 191 , 7 @ @ 
 } 
 
 @ Nullable 
 - @ @ - 794 , 9 + 811 , 11 @ @ 
 + @ @ - 794 , 9 + 813 , 11 @ @ 
 } 
 
 @ Nullable 
 @ @ - 195 , 7 + 204 , 7 @ @ 
 } 
 
 @ SideOnly ( Side . CLIENT ) 
 - @ @ - 883 , 6 + 902 , 7 @ @ 
 + @ @ - 883 , 6 + 904 , 7 @ @ 
 return Block . EnumOffsetType . NONE ; 
 } 
 
 @ @ - 203 , 7 + 212 , 7 @ @ 
 public SoundType func _ 185467 _ w ( ) 
 { 
 return this . field _ 149762 _ H ; 
 - @ @ - 893 , 6 + 913 , 1168 @ @ 
 + @ @ - 893 , 6 + 915 , 1186 @ @ 
 return " Block { " + field _ 149771 _ c . func _ 177774 _ c ( this ) + " } " ; 
 } 
 
 @ @ - 1367 , 12 + 1376 , 30 @ @ 
 + return null ; 
 + } 
 + 
 + + / * * 
 + + * Gets the { @ link IBlockState } to place 
 + + * @ param world The world the block is being placed in 
 + + * @ param pos The position the block is being placed at 
 + + * @ param facing The side the block is being placed on 
 + + * @ param hitX The X coordinate of the hit vector 
 + + * @ param hitY The Y coordinate of the hit vector 
 + + * @ param hitZ The Z coordinate of the hit vector 
 + + * @ param meta The metadata of { @ link ItemStack } as processed by { @ link Item # getMetadata ( int ) } 
 + + * @ param placer The entity placing the block 
 + + * @ param stack The stack being used to place this block 
 + + * @ return The state to be placed in the world 
 + + * / 
 + + public IBlockState getStateForPlacement ( World world , BlockPos pos , EnumFacing facing , float hitX , float hitY , float hitZ , int meta , EntityLivingBase placer , ItemStack stack ) 
 + + { 
 + + return func _ 180642 _ a ( world , pos , facing , hitX , hitY , hitZ , meta , placer ) ; 
 + + } 
 + + 
 + / * = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = FORGE END = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = * / 
 + 
 public static void func _ 149671 _ p ( ) 
 { 
 func _ 176215 _ a ( 0 , field _ 176230 _ a , ( new BlockAir ( ) ) . func _ 149663 _ c ( " air " ) ) ; 
 - @ @ - 1169 , 11 + 2351 , 7 @ @ 
 + @ @ - 1169 , 11 + 2371 , 7 @ @ 
 } 
 else 
 { 
 diff - - git a / patches / minecraft / net / minecraft / item / ItemBlock . java . patch b / patches / minecraft / net / minecraft / item / ItemBlock . java . patch 
 index f79a1a1 . . da85a8e 100644 
 - - - a / patches / minecraft / net / minecraft / item / ItemBlock . java . patch 
 + + + b / patches / minecraft / net / minecraft / item / ItemBlock . java . patch 
 @ @ - 1 , 8 + 1 , 11 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / item / ItemBlock . java 
 + + + . . / src - work / minecraft / net / minecraft / item / ItemBlock . java 
 - @ @ - 51 , 17 + 51 , 9 @ @ 
 + @ @ - 49 , 19 + 49 , 11 @ @ 
 + if ( p _ 180614 _ 1 _ . field _ 77994 _ a ! = 0 & & p _ 180614 _ 2 _ . func _ 175151 _ a ( p _ 180614 _ 4 _ , p _ 180614 _ 6 _ , p _ 180614 _ 1 _ ) & & p _ 180614 _ 3 _ . func _ 175716 _ a ( this . field _ 150939 _ a , p _ 180614 _ 4 _ , false , p _ 180614 _ 6 _ , ( Entity ) null , p _ 180614 _ 1 _ ) ) 
 + { 
 int i = this . func _ 77647 _ b ( p _ 180614 _ 1 _ . func _ 77960 _ j ( ) ) ; 
 - IBlockState iblockstate1 = this . field _ 150939 _ a . func _ 180642 _ a ( p _ 180614 _ 3 _ , p _ 180614 _ 4 _ , p _ 180614 _ 6 _ , p _ 180614 _ 7 _ , p _ 180614 _ 8 _ , p _ 180614 _ 9 _ , i , p _ 180614 _ 2 _ ) ; 
 + - IBlockState iblockstate1 = this . field _ 150939 _ a . func _ 180642 _ a ( p _ 180614 _ 3 _ , p _ 180614 _ 4 _ , p _ 180614 _ 6 _ , p _ 180614 _ 7 _ , p _ 180614 _ 8 _ , p _ 180614 _ 9 _ , i , p _ 180614 _ 2 _ ) ; 
 + + IBlockState iblockstate1 = this . field _ 150939 _ a . getStateForPlacement ( p _ 180614 _ 3 _ , p _ 180614 _ 4 _ , p _ 180614 _ 6 _ , p _ 180614 _ 7 _ , p _ 180614 _ 8 _ , p _ 180614 _ 9 _ , i , p _ 180614 _ 2 _ , p _ 180614 _ 1 _ ) ; 
 
 - if ( p _ 180614 _ 3 _ . func _ 180501 _ a ( p _ 180614 _ 4 _ , iblockstate1 , 11 ) ) 
 + if ( placeBlockAt ( p _ 180614 _ 1 _ , p _ 180614 _ 2 _ , p _ 180614 _ 3 _ , p _ 180614 _ 4 _ , p _ 180614 _ 6 _ , p _ 180614 _ 7 _ , p _ 180614 _ 8 _ , p _ 180614 _ 9 _ , iblockstate1 ) ) 
 diff - - git a / patches / minecraft / net / minecraft / item / ItemBlockSpecial . java . patch b / patches / minecraft / net / minecraft / item / ItemBlockSpecial . java . patch 
 index 0e0d43c . . d1528af 100644 
 - - - a / patches / minecraft / net / minecraft / item / ItemBlockSpecial . java . patch 
 + + + b / patches / minecraft / net / minecraft / item / ItemBlockSpecial . java . patch 
 @ @ - 1 , 5 + 1 , 14 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / item / ItemBlockSpecial . java 
 + + + . . / src - work / minecraft / net / minecraft / item / ItemBlockSpecial . java 
 + @ @ - 39 , 7 + 39 , 7 @ @ 
 + 
 + if ( p _ 180614 _ 2 _ . func _ 175151 _ a ( p _ 180614 _ 4 _ , p _ 180614 _ 6 _ , p _ 180614 _ 1 _ ) & & p _ 180614 _ 1 _ . field _ 77994 _ a ! = 0 & & p _ 180614 _ 3 _ . func _ 175716 _ a ( this . field _ 150935 _ a , p _ 180614 _ 4 _ , false , p _ 180614 _ 6 _ , ( Entity ) null , p _ 180614 _ 1 _ ) ) 
 + { 
 + - IBlockState iblockstate1 = this . field _ 150935 _ a . func _ 180642 _ a ( p _ 180614 _ 3 _ , p _ 180614 _ 4 _ , p _ 180614 _ 6 _ , p _ 180614 _ 7 _ , p _ 180614 _ 8 _ , p _ 180614 _ 9 _ , 0 , p _ 180614 _ 2 _ ) ; 
 + + IBlockState iblockstate1 = this . field _ 150935 _ a . getStateForPlacement ( p _ 180614 _ 3 _ , p _ 180614 _ 4 _ , p _ 180614 _ 6 _ , p _ 180614 _ 7 _ , p _ 180614 _ 8 _ , p _ 180614 _ 9 _ , 0 , p _ 180614 _ 2 _ , p _ 180614 _ 1 _ ) ; 
 + 
 + if ( ! p _ 180614 _ 3 _ . func _ 180501 _ a ( p _ 180614 _ 4 _ , iblockstate1 , 11 ) ) 
 + { 
 @ @ - 55 , 7 + 55 , 7 @ @ 
 iblockstate1 . func _ 177230 _ c ( ) . func _ 180633 _ a ( p _ 180614 _ 3 _ , p _ 180614 _ 4 _ , iblockstate1 , p _ 180614 _ 2 _ , p _ 180614 _ 1 _ ) ; 
 } 
 diff - - git a / patches / minecraft / net / minecraft / item / ItemDye . java . patch b / patches / minecraft / net / minecraft / item / ItemDye . java . patch 
 index 29435d3 . . 07eb07c 100644 
 - - - a / patches / minecraft / net / minecraft / item / ItemDye . java . patch 
 + + + b / patches / minecraft / net / minecraft / item / ItemDye . java . patch 
 @ @ - 9 , 6 + 9 , 15 @ @ 
 { 
 if ( ! p _ 180614 _ 3 _ . field _ 72995 _ K ) 
 { 
 + @ @ - 73 , 7 + 73 , 7 @ @ 
 + 
 + if ( p _ 180614 _ 3 _ . func _ 175623 _ d ( p _ 180614 _ 4 _ ) ) 
 + { 
 + - IBlockState iblockstate1 = Blocks . field _ 150375 _ by . func _ 180642 _ a ( p _ 180614 _ 3 _ , p _ 180614 _ 4 _ , p _ 180614 _ 6 _ , p _ 180614 _ 7 _ , p _ 180614 _ 8 _ , p _ 180614 _ 9 _ , 0 , p _ 180614 _ 2 _ ) ; 
 + + IBlockState iblockstate1 = Blocks . field _ 150375 _ by . getStateForPlacement ( p _ 180614 _ 3 _ , p _ 180614 _ 4 _ , p _ 180614 _ 6 _ , p _ 180614 _ 7 _ , p _ 180614 _ 8 _ , p _ 180614 _ 9 _ , 0 , p _ 180614 _ 2 _ , p _ 180614 _ 1 _ ) ; 
 + p _ 180614 _ 3 _ . func _ 180501 _ a ( p _ 180614 _ 4 _ , iblockstate1 , 10 ) ; 
 + 
 + if ( ! p _ 180614 _ 2 _ . field _ 71075 _ bZ . field _ 75098 _ d ) 
 @ @ - 97 , 8 + 97 , 18 @ @ 
 
 public static boolean func _ 179234 _ a ( ItemStack p _ 179234 _ 0 _ , World p _ 179234 _ 1 _ , BlockPos p _ 179234 _ 2 _ )

NEAREST DIFF:
diff - - git a / patches / minecraft / net / minecraft / init / Bootstrap . java . patch b / patches / minecraft / net / minecraft / init / Bootstrap . java . patch 
 new file mode 100644 
 index 0000000 . . 6af9211 
 - - - / dev / null 
 + + + b / patches / minecraft / net / minecraft / init / Bootstrap . java . patch 
 @ @ - 0 , 0 + 1 , 26 @ @ 
 + - - - . . / src - base / minecraft / net / minecraft / init / Bootstrap . java 
 + + + + . . / src - work / minecraft / net / minecraft / init / Bootstrap . java 
 + @ @ - 67 , 6 + 67 , 7 @ @ 
 + return field _ 151355 _ a ; 
 + } 
 + 
 + + @ SuppressWarnings ( " unused " ) 
 + static void func _ 151353 _ a ( ) 
 + { 
 + BlockDispenser . field _ 149943 _ a . func _ 82595 _ a ( Items . field _ 151032 _ g , new BehaviorProjectileDispense ( ) 
 + @ @ - 509 , 6 + 510 , 7 @ @ 
 + } 
 + } 
 + } ) ; 
 + + if ( false ) { / / Forge : Removed , Fixes MC - 75630 - Exploit with signs and command blocks 
 + BlockDispenser . field _ 149943 _ a . func _ 82595 _ a ( Item . func _ 150898 _ a ( Blocks . field _ 150483 _ bI ) , new BehaviorDefaultDispenseItem ( ) 
 + { 
 + private static final String _ _ OBFID = " CL _ 00002276 " ; 
 + @ @ - 535 , 6 + 537 , 7 @ @ 
 + protected void func _ 82485 _ a ( IBlockSource p _ 82485 _ 1 _ ) { } 
 + protected void func _ 82489 _ a ( IBlockSource p _ 82489 _ 1 _ , EnumFacing p _ 82489 _ 2 _ ) { } 
 + } ) ; 
 + + } 
 + } 
 + 
 + public static void func _ 151354 _ b ( ) 
 diff - - git a / patches / minecraft / net / minecraft / item / ItemBlock . java . patch b / patches / minecraft / net / minecraft / item / ItemBlock . java . patch 
 index 4d24c50 . . 728a85a 100644 
 - - - a / patches / minecraft / net / minecraft / item / ItemBlock . java . patch 
 + + + b / patches / minecraft / net / minecraft / item / ItemBlock . java . patch 
 @ @ - 18 , 7 + 18 , 32 @ @ 
 p _ 180614 _ 3 _ . func _ 72908 _ a ( ( double ) ( ( float ) p _ 180614 _ 4 _ . func _ 177958 _ n ( ) + 0 . 5F ) , ( double ) ( ( float ) p _ 180614 _ 4 _ . func _ 177956 _ o ( ) + 0 . 5F ) , ( double ) ( ( float ) p _ 180614 _ 4 _ . func _ 177952 _ p ( ) + 0 . 5F ) , this . field _ 150939 _ a . field _ 149762 _ H . func _ 150496 _ b ( ) , ( this . field _ 150939 _ a . field _ 149762 _ H . func _ 150497 _ c ( ) + 1 . 0F ) / 2 . 0F , this . field _ 150939 _ a . field _ 149762 _ H . func _ 150494 _ d ( ) * 0 . 8F ) ; 
 - - p _ 180614 _ 1 _ . field _ 77994 _ a ; 
 } 
 - @ @ - 157 , 4 + 149 , 26 @ @ 
 + @ @ - 85 , 14 + 77 , 24 @ @ 
 + } 
 + } 
 + 
 + + @ Deprecated / / Use player sensitive version 
 + public static boolean func _ 179224 _ a ( World p _ 179224 _ 0 _ , BlockPos p _ 179224 _ 1 _ , ItemStack p _ 179224 _ 2 _ ) 
 + { 
 + + return setTileEntityNBT ( p _ 179224 _ 0 _ , p _ 179224 _ 1 _ , p _ 179224 _ 2 _ , null ) ; 
 + + } 
 + + public static boolean setTileEntityNBT ( World p _ 179224 _ 0 _ , BlockPos p _ 179224 _ 1 _ , ItemStack p _ 179224 _ 2 _ , EntityPlayer player ) 
 + + { 
 + if ( p _ 179224 _ 2 _ . func _ 77942 _ o ( ) & & p _ 179224 _ 2 _ . func _ 77978 _ p ( ) . func _ 150297 _ b ( " BlockEntityTag " , 10 ) ) 
 + { 
 + TileEntity tileentity = p _ 179224 _ 0 _ . func _ 175625 _ s ( p _ 179224 _ 1 _ ) ; 
 + 
 + if ( tileentity ! = null ) 
 + { 
 + + / / Forge : Fixes MC - 75630 - Exploit with signs and command blocks 
 + + final net . minecraft . server . MinecraftServer server = net . minecraft . server . MinecraftServer . func _ 71276 _ C ( ) ; 
 + + if ( ! p _ 179224 _ 0 _ . field _ 72995 _ K & & tileentity . restrictNBTCopy ( ) & & 
 + + ( server = = null | | server . func _ 71203 _ ab ( ) . func _ 152596 _ g ( player . func _ 146103 _ bH ( ) ) ) ) 
 + + return false ; 
 + NBTTagCompound nbttagcompound = new NBTTagCompound ( ) ; 
 + NBTTagCompound nbttagcompound1 = ( NBTTagCompound ) nbttagcompound . func _ 74737 _ b ( ) ; 
 + tileentity . func _ 145841 _ b ( nbttagcompound ) ; 
 + @ @ - 157 , 4 + 159 , 26 @ @ 
 { 
 return this . field _ 150939 _ a ; 
 } 
 @ @ - 38 , 7 + 63 , 7 @ @ 
 + IBlockState state = world . func _ 180495 _ p ( pos ) ; 
 + if ( state . func _ 177230 _ c ( ) = = this . field _ 150939 _ a ) 
 + { 
 - + func _ 179224 _ a ( world , pos , stack ) ; 
 + + setTileEntityNBT ( world , pos , stack , player ) ; 
 + this . field _ 150939 _ a . func _ 180633 _ a ( world , pos , state , player , stack ) ; 
 + } 
 + 
 diff - - git a / patches / minecraft / net / minecraft / item / ItemReed . java . patch b / patches / minecraft / net / minecraft / item / ItemReed . java . patch 
 new file mode 100644 
 index 0000000 . . 9d6bcb6 
 - - - / dev / null 
 + + + b / patches / minecraft / net / minecraft / item / ItemReed . java . patch 
 @ @ - 0 , 0 + 1 , 11 @ @ 
 + - - - . . / src - base / minecraft / net / minecraft / item / ItemReed . java 
 + + + + . . / src - work / minecraft / net / minecraft / item / ItemReed . java 
 + @ @ - 54 , 7 + 54 , 7 @ @ 
 + 
 + if ( iblockstate1 . func _ 177230 _ c ( ) = = this . field _ 150935 _ a ) 
 + { 
 + - ItemBlock . func _ 179224 _ a ( p _ 180614 _ 3 _ , p _ 180614 _ 4 _ , p _ 180614 _ 1 _ ) ; 
 + + ItemBlock . setTileEntityNBT ( p _ 180614 _ 3 _ , p _ 180614 _ 4 _ , p _ 180614 _ 1 _ , p _ 180614 _ 2 _ ) ; 
 + iblockstate1 . func _ 177230 _ c ( ) . func _ 180633 _ a ( p _ 180614 _ 3 _ , p _ 180614 _ 4 _ , iblockstate1 , p _ 180614 _ 2 _ , p _ 180614 _ 1 _ ) ; 
 + } 
 + 
 diff - - git a / patches / minecraft / net / minecraft / item / ItemSign . java . patch b / patches / minecraft / net / minecraft / item / ItemSign . java . patch 
 new file mode 100644 
 index 0000000 . . bede8d8 
 - - - / dev / null 
 + + + b / patches / minecraft / net / minecraft / item / ItemSign . java . patch 
 @ @ - 0 , 0 + 1 , 11 @ @ 
 + - - - . . / src - base / minecraft / net / minecraft / item / ItemSign . java 
 + + + + . . / src - work / minecraft / net / minecraft / item / ItemSign . java 
 + @ @ - 63 , 7 + 63 , 7 @ @ 
 + - - p _ 180614 _ 1 _ . field _ 77994 _ a ; 
 + TileEntity tileentity = p _ 180614 _ 3 _ . func _ 175625 _ s ( p _ 180614 _ 4 _ ) ; 
 + 
 + - if ( tileentity instanceof TileEntitySign & & ! ItemBlock . func _ 179224 _ a ( p _ 180614 _ 3 _ , p _ 180614 _ 4 _ , p _ 180614 _ 1 _ ) ) 
 + + if ( tileentity instanceof TileEntitySign & & ! ItemBlock . setTileEntityNBT ( p _ 180614 _ 3 _ , p _ 180614 _ 4 _ , p _ 180614 _ 1 _ , p _ 180614 _ 2 _ ) ) 
 + { 
 + p _ 180614 _ 2 _ . func _ 175141 _ a ( ( TileEntitySign ) tileentity ) ; 
 + } 
 diff - - git a / patches / minecraft / net / minecraft / tileentity / TileEntity . java . patch b / patches / minecraft / net / minecraft / tileentity / TileEntity . java . patch 
 index ee6f662 . . b47adc0 100644 
 - - - a / patches / minecraft / net / minecraft / tileentity / TileEntity . java . patch 
 + + + b / patches / minecraft / net / minecraft / tileentity / TileEntity . java . patch 
 @ @ - 16 , 7 + 16 , 7 @ @ 
 } 
 } 
 
 - @ @ - 294 , 4 + 296 , 123 @ @ 
 + @ @ - 294 , 4 + 296 , 135 @ @ 
 func _ 145826 _ a ( TileEntityFlowerPot . class , " FlowerPot " ) ; 
 func _ 145826 _ a ( TileEntityBanner . class , " Banner " ) ; 
 } 
 @ @ - 139 , 4 + 139 , 16 @ @ 
 + } 
 + return this . customTileData ; 
 + } 
 + + 
 + + / * * 
 + + * Determines if the player can overwrite the NBT data of this tile entity while they place it using a ItemStack . 
 + + * Added as a fix for MC - 75630 - Exploit with signs and command blocks 
 + + * @ return True to prevent NBT copy , false to allow . 
 + + * / 
 + + public boolean restrictNBTCopy ( ) 
 + + { 
 + + return this instanceof TileEntityCommandBlock | | 
 + + this instanceof TileEntityMobSpawner | | 
 + + this instanceof TileEntitySign ; 
 + + } 
 } 
 diff - - git a / patches / minecraft / net / minecraft / tileentity / TileEntitySign . java . patch b / patches / minecraft / net / minecraft / tileentity / TileEntitySign . java . patch 
 new file mode 100644 
 index 0000000 . . d1cc9e8 
 - - - / dev / null 
 + + + b / patches / minecraft / net / minecraft / tileentity / TileEntitySign . java . patch 
 @ @ - 0 , 0 + 1 , 11 @ @ 
 + - - - . . / src - base / minecraft / net / minecraft / tileentity / TileEntitySign . java 
 + + + + . . / src - work / minecraft / net / minecraft / tileentity / TileEntitySign . java 
 + @ @ - 161 , 7 + 161 , 7 @ @ 
 + public void func _ 145747 _ a ( IChatComponent p _ 145747 _ 1 _ ) { } 
 + public boolean func _ 70003 _ b ( int p _ 70003 _ 1 _ , String p _ 70003 _ 2 _ ) 
 + { 
 + - return true ; 
 + + return p _ 70003 _ 1 _ < = 2 ; / / Forge : Fixes MC - 75630 - Exploit with signs and command blocks 
 + } 
 + public BlockPos func _ 180425 _ c ( ) 
 + { 
 diff - - git a / src / main / resources / forge . exc b / src / main / resources / forge . exc 
 index 752a6af . . bc60d2d 100644 
 - - - a / src / main / resources / forge . exc 
 + + + b / src / main / resources / forge . exc 
 @ @ - 35 , 3 + 35 , 5 @ @ net / minecraft / client / renderer / block / model / FaceBakery . makeBakedQuad ( Ljavax / vecmat 
 net / minecraft / client / renderer / block / model / FaceBakery . makeQuadVertexData ( Lnet / minecraft / client / renderer / block / model / BlockPartFace ; Lnet / minecraft / client / renderer / texture / TextureAtlasSprite ; Lnet / minecraft / util / EnumFacing ; [ FLnet / minecraftforge / client / model / ITransformation ; Lnet / minecraft / client / renderer / block / model / BlockPartRotation ; ZZ ) [ I = | p _ 178405 _ 1 _ , p _ 178405 _ 2 _ , p _ 178405 _ 3 _ , p _ 178405 _ 4 _ , p _ 178405 _ 5 _ , p _ 178405 _ 6 _ , p _ 178405 _ 7 _ , p _ 178405 _ 8 _ 
 net / minecraft / client / renderer / block / model / FaceBakery . fillVertexData ( [ IILnet / minecraft / util / EnumFacing ; Lnet / minecraft / client / renderer / block / model / BlockPartFace ; [ FLnet / minecraft / client / renderer / texture / TextureAtlasSprite ; Lnet / minecraftforge / client / model / ITransformation ; Lnet / minecraft / client / renderer / block / model / BlockPartRotation ; ZZ ) V = | p _ 178402 _ 1 _ , p _ 178402 _ 2 _ , p _ 178402 _ 3 _ , p _ 178402 _ 4 _ , p _ 178402 _ 5 _ , p _ 178402 _ 6 _ , p _ 178402 _ 7 _ , p _ 178402 _ 8 _ , p _ 178402 _ 9 _ , p _ 178402 _ 10 _ 
 net / minecraft / client / renderer / block / model / FaceBakery . rotateVertex ( Ljavax / vecmath / Vector3d ; Lnet / minecraft / util / EnumFacing ; ILnet / minecraftforge / client / model / ITransformation ; Z ) I = | p _ 178415 _ 1 _ , p _ 178415 _ 2 _ , p _ 178415 _ 3 _ , p _ 178415 _ 4 _ , p _ 178415 _ 5 _ 
 + 
 + net / minecraft / item / ItemBlock . setTileEntityNBT ( Lnet / minecraft / world / World ; Lnet / minecraft / util / BlockPos ; Lnet / minecraft / item / ItemStack ; Lnet / minecraft / entity / player / EntityPlayer ; ) Z = | p _ 179224 _ 0 _ , p _ 179224 _ 1 _ , p _ 179224 _ 2 _ , player 
 \ No newline at end of file
