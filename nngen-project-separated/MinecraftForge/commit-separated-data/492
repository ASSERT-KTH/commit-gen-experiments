BLEU SCORE: 8.009268911008345E-4

TEST MSG: Fix entity write catch block
GENERATED MSG: Most requested feature of all time ? TileEntity init method called after it ' s ready to roll . remove all the if ( firstTicks )

TEST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / world / chunk / storage / AnvilChunkLoader . java . patch b / patches / minecraft / net / minecraft / world / chunk / storage / AnvilChunkLoader . java . patch <nl> index aca67fc . . 94a4c14 100644 <nl> - - - a / patches / minecraft / net / minecraft / world / chunk / storage / AnvilChunkLoader . java . patch <nl> + + + b / patches / minecraft / net / minecraft / world / chunk / storage / AnvilChunkLoader . java . patch <nl> @ @ - 107 , 24 + 107 , 27 @ @ <nl> this . func _ 75824 _ a ( p _ 75816 _ 2 _ . func _ 76632 _ l ( ) , nbttagcompound ) ; <nl> } <nl> catch ( Exception exception ) <nl> - @ @ - 307 , 8 + 368 , 17 @ @ <nl> + @ @ - 305 , 11 + 366 , 20 @ @ <nl> + { <nl> + NBTTagCompound nbttagcompound2 = new NBTTagCompound ( ) ; <nl> <nl> + + try <nl> + + { <nl> if ( entity . func _ 70039 _ c ( nbttagcompound2 ) ) <nl> { <nl> - + try <nl> - + { <nl> p _ 75820 _ 1 _ . func _ 177409 _ g ( true ) ; <nl> nbttaglist1 . func _ 74742 _ a ( nbttagcompound2 ) ; <nl> - + } <nl> - + catch ( Exception e ) <nl> - + { <nl> - + net . minecraftforge . fml . common . FMLLog . log ( org . apache . logging . log4j . Level . ERROR , e , <nl> - + " An Entity type % s has thrown an exception trying to write state . It will not persist . Report this to the mod author " , <nl> - + entity . getClass ( ) . getName ( ) ) ; <nl> - + } <nl> } <nl> + + } <nl> + + catch ( Exception e ) <nl> + + { <nl> + + net . minecraftforge . fml . common . FMLLog . log ( org . apache . logging . log4j . Level . ERROR , e , <nl> + + " An Entity type % s has thrown an exception trying to write state . It will not persist . Report this to the mod author " , <nl> + + entity . getClass ( ) . getName ( ) ) ; <nl> + + } <nl> } <nl> } <nl> + <nl> @ @ - 318 , 8 + 388 , 17 @ @ <nl> <nl> for ( TileEntity tileentity : p _ 75820 _ 1 _ . func _ 177434 _ r ( ) . values ( ) )
NEAREST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / tileentity / TileEntity . java . patch b / patches / minecraft / net / minecraft / tileentity / TileEntity . java . patch <nl> index 5e2a3c3 . . ac86c28 100644 <nl> - - - a / patches / minecraft / net / minecraft / tileentity / TileEntity . java . patch <nl> + + + b / patches / minecraft / net / minecraft / tileentity / TileEntity . java . patch <nl> @ @ - 54 , 7 + 54 , 7 @ @ <nl> public double func _ 145835 _ a ( double p _ 145835 _ 1 _ , double p _ 145835 _ 3 _ , double p _ 145835 _ 5 _ ) <nl> { <nl> double d0 = ( double ) this . field _ 174879 _ c . func _ 177958 _ n ( ) + 0 . 5D - p _ 145835 _ 1 _ ; <nl> - @ @ - 279 , 4 + 291 , 135 @ @ <nl> + @ @ - 279 , 4 + 291 , 146 @ @ <nl> func _ 145826 _ a ( TileEntityFlowerPot . class , " FlowerPot " ) ; <nl> func _ 145826 _ a ( TileEntityBanner . class , " Banner " ) ; <nl> } <nl> @ @ - 189 , 4 + 189 , 15 @ @ <nl> + this instanceof TileEntityMobSpawner | | <nl> + this instanceof TileEntitySign ; <nl> + } <nl> + + <nl> + + <nl> + + / * * <nl> + + * Called from the Chunk when this is first added to the world . Override instead of adding <nl> + + * if ( firstTick ) stuff in update . Happens after validate and after it has been placed into the Chunk tileEntity <nl> + + * map . <nl> + + * / <nl> + + public void onLoad ( ) <nl> + + { <nl> + + / / NOOP <nl> + + } <nl> } <nl> diff - - git a / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch b / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch <nl> index 2c8ef52 . . 1903a69 100644 <nl> - - - a / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch <nl> + + + b / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch <nl> @ @ - 1 , 6 + 1 , 14 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / world / chunk / Chunk . java <nl> + + + . . / src - work / minecraft / net / minecraft / world / chunk / Chunk . java <nl> - @ @ - 167 , 7 + 167 , 7 @ @ <nl> + @ @ - 10 , 7 + 10 , 6 @ @ <nl> + import java . util . concurrent . Callable ; <nl> + import java . util . concurrent . ConcurrentLinkedQueue ; <nl> + import net . minecraft . block . Block ; <nl> + - import net . minecraft . block . ITileEntityProvider ; <nl> + import net . minecraft . block . material . Material ; <nl> + import net . minecraft . block . state . IBlockState ; <nl> + import net . minecraft . crash . CrashReport ; <nl> + @ @ - 167 , 7 + 166 , 7 @ @ <nl> { <nl> Block block = this . func _ 150810 _ a ( j , l - 1 , k ) ; <nl> <nl> @ @ - 9 , 7 + 17 , 7 @ @ <nl> { <nl> this . field _ 76634 _ f [ k < < 4 | j ] = l ; <nl> <nl> - @ @ - 440 , 12 + 440 , 12 @ @ <nl> + @ @ - 440 , 12 + 439 , 12 @ @ <nl> <nl> public int func _ 177437 _ b ( BlockPos p _ 177437 _ 1 _ ) <nl> { <nl> @ @ - 24 , 7 + 32 , 7 @ @ <nl> } <nl> <nl> private Block func _ 150810 _ a ( int p _ 150810 _ 1 _ , int p _ 150810 _ 2 _ , int p _ 150810 _ 3 _ ) <nl> - @ @ - 623 , 14 + 623 , 19 @ @ <nl> + @ @ - 623 , 14 + 622 , 19 @ @ <nl> <nl> extendedblockstorage . func _ 177484 _ a ( i , j & 15 , k , p _ 177436 _ 2 _ ) ; <nl> <nl> @ @ - 46 , 7 + 54 , 7 @ @ <nl> this . field _ 76637 _ e . func _ 175713 _ t ( p _ 177436 _ 1 _ ) ; <nl> } <nl> } <nl> - @ @ - 647 , 8 + 652 , 8 @ @ <nl> + @ @ - 647 , 8 + 651 , 8 @ @ <nl> } <nl> else <nl> { <nl> @ @ - 57 , 7 + 65 , 7 @ @ <nl> <nl> if ( j1 > 0 ) <nl> { <nl> - @ @ - 668 , 28 + 673 , 18 @ @ <nl> + @ @ - 668 , 28 + 672 , 18 @ @ <nl> } <nl> } <nl> <nl> @ @ - 88 , 7 + 96 , 7 @ @ <nl> this . field _ 76637 _ e . func _ 175690 _ a ( p _ 177436 _ 1 _ , tileentity1 ) ; <nl> } <nl> <nl> - @ @ - 792 , 6 + 787 , 7 @ @ <nl> + @ @ - 792 , 6 + 786 , 7 @ @ <nl> k = this . field _ 76645 _ j . length - 1 ; <nl> } <nl> <nl> @ @ - 96 , 7 + 104 , 7 @ @ <nl> p _ 76612 _ 1 _ . field _ 70175 _ ag = true ; <nl> p _ 76612 _ 1 _ . field _ 70176 _ ah = this . field _ 76635 _ g ; <nl> p _ 76612 _ 1 _ . field _ 70162 _ ai = k ; <nl> - @ @ - 830 , 13 + 826 , 20 @ @ <nl> + @ @ - 830 , 13 + 825 , 20 @ @ <nl> private TileEntity func _ 177422 _ i ( BlockPos p _ 177422 _ 1 _ ) <nl> { <nl> Block block = this . func _ 177428 _ a ( p _ 177422 _ 1 _ ) ; <nl> @ @ - 118 , 7 + 126 , 7 @ @ <nl> if ( tileentity = = null ) <nl> { <nl> if ( p _ 177424 _ 2 _ = = Chunk . EnumCreateEntityType . IMMEDIATE ) <nl> - @ @ - 849 , 11 + 852 , 6 @ @ <nl> + @ @ - 849 , 11 + 851 , 6 @ @ <nl> this . field _ 177447 _ w . add ( p _ 177424 _ 1 _ ) ; <nl> } <nl> } <nl> @ @ - 130 , 7 + 138 , 7 @ @ <nl> <nl> return tileentity ; <nl> } <nl> - @ @ - 873 , 7 + 871 , 7 @ @ <nl> + @ @ - 873 , 7 + 870 , 7 @ @ <nl> p _ 177426 _ 2 _ . func _ 145834 _ a ( this . field _ 76637 _ e ) ; <nl> p _ 177426 _ 2 _ . func _ 174878 _ a ( p _ 177426 _ 1 _ ) ; <nl> <nl> @ @ - 139 , 6 + 147 , 14 @ @ <nl> { <nl> if ( this . field _ 150816 _ i . containsKey ( p _ 177426 _ 1 _ ) ) <nl> { <nl> + @ @ - 882 , 6 + 879 , 7 @ @ <nl> + <nl> + p _ 177426 _ 2 _ . func _ 145829 _ t ( ) ; <nl> + this . field _ 150816 _ i . put ( p _ 177426 _ 1 _ , p _ 177426 _ 2 _ ) ; <nl> + + p _ 177426 _ 2 _ . onLoad ( ) ; <nl> + } <nl> + } <nl> + <nl> @ @ - 910 , 8 + 908 , 9 @ @ <nl> entity . func _ 110123 _ P ( ) ; <nl> }

TEST DIFF:
diff - - git a / patches / minecraft / net / minecraft / world / chunk / storage / AnvilChunkLoader . java . patch b / patches / minecraft / net / minecraft / world / chunk / storage / AnvilChunkLoader . java . patch 
 index aca67fc . . 94a4c14 100644 
 - - - a / patches / minecraft / net / minecraft / world / chunk / storage / AnvilChunkLoader . java . patch 
 + + + b / patches / minecraft / net / minecraft / world / chunk / storage / AnvilChunkLoader . java . patch 
 @ @ - 107 , 24 + 107 , 27 @ @ 
 this . func _ 75824 _ a ( p _ 75816 _ 2 _ . func _ 76632 _ l ( ) , nbttagcompound ) ; 
 } 
 catch ( Exception exception ) 
 - @ @ - 307 , 8 + 368 , 17 @ @ 
 + @ @ - 305 , 11 + 366 , 20 @ @ 
 + { 
 + NBTTagCompound nbttagcompound2 = new NBTTagCompound ( ) ; 
 
 + + try 
 + + { 
 if ( entity . func _ 70039 _ c ( nbttagcompound2 ) ) 
 { 
 - + try 
 - + { 
 p _ 75820 _ 1 _ . func _ 177409 _ g ( true ) ; 
 nbttaglist1 . func _ 74742 _ a ( nbttagcompound2 ) ; 
 - + } 
 - + catch ( Exception e ) 
 - + { 
 - + net . minecraftforge . fml . common . FMLLog . log ( org . apache . logging . log4j . Level . ERROR , e , 
 - + " An Entity type % s has thrown an exception trying to write state . It will not persist . Report this to the mod author " , 
 - + entity . getClass ( ) . getName ( ) ) ; 
 - + } 
 } 
 + + } 
 + + catch ( Exception e ) 
 + + { 
 + + net . minecraftforge . fml . common . FMLLog . log ( org . apache . logging . log4j . Level . ERROR , e , 
 + + " An Entity type % s has thrown an exception trying to write state . It will not persist . Report this to the mod author " , 
 + + entity . getClass ( ) . getName ( ) ) ; 
 + + } 
 } 
 } 
 + 
 @ @ - 318 , 8 + 388 , 17 @ @ 
 
 for ( TileEntity tileentity : p _ 75820 _ 1 _ . func _ 177434 _ r ( ) . values ( ) )

NEAREST DIFF:
diff - - git a / patches / minecraft / net / minecraft / tileentity / TileEntity . java . patch b / patches / minecraft / net / minecraft / tileentity / TileEntity . java . patch 
 index 5e2a3c3 . . ac86c28 100644 
 - - - a / patches / minecraft / net / minecraft / tileentity / TileEntity . java . patch 
 + + + b / patches / minecraft / net / minecraft / tileentity / TileEntity . java . patch 
 @ @ - 54 , 7 + 54 , 7 @ @ 
 public double func _ 145835 _ a ( double p _ 145835 _ 1 _ , double p _ 145835 _ 3 _ , double p _ 145835 _ 5 _ ) 
 { 
 double d0 = ( double ) this . field _ 174879 _ c . func _ 177958 _ n ( ) + 0 . 5D - p _ 145835 _ 1 _ ; 
 - @ @ - 279 , 4 + 291 , 135 @ @ 
 + @ @ - 279 , 4 + 291 , 146 @ @ 
 func _ 145826 _ a ( TileEntityFlowerPot . class , " FlowerPot " ) ; 
 func _ 145826 _ a ( TileEntityBanner . class , " Banner " ) ; 
 } 
 @ @ - 189 , 4 + 189 , 15 @ @ 
 + this instanceof TileEntityMobSpawner | | 
 + this instanceof TileEntitySign ; 
 + } 
 + + 
 + + 
 + + / * * 
 + + * Called from the Chunk when this is first added to the world . Override instead of adding 
 + + * if ( firstTick ) stuff in update . Happens after validate and after it has been placed into the Chunk tileEntity 
 + + * map . 
 + + * / 
 + + public void onLoad ( ) 
 + + { 
 + + / / NOOP 
 + + } 
 } 
 diff - - git a / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch b / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch 
 index 2c8ef52 . . 1903a69 100644 
 - - - a / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch 
 + + + b / patches / minecraft / net / minecraft / world / chunk / Chunk . java . patch 
 @ @ - 1 , 6 + 1 , 14 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / world / chunk / Chunk . java 
 + + + . . / src - work / minecraft / net / minecraft / world / chunk / Chunk . java 
 - @ @ - 167 , 7 + 167 , 7 @ @ 
 + @ @ - 10 , 7 + 10 , 6 @ @ 
 + import java . util . concurrent . Callable ; 
 + import java . util . concurrent . ConcurrentLinkedQueue ; 
 + import net . minecraft . block . Block ; 
 + - import net . minecraft . block . ITileEntityProvider ; 
 + import net . minecraft . block . material . Material ; 
 + import net . minecraft . block . state . IBlockState ; 
 + import net . minecraft . crash . CrashReport ; 
 + @ @ - 167 , 7 + 166 , 7 @ @ 
 { 
 Block block = this . func _ 150810 _ a ( j , l - 1 , k ) ; 
 
 @ @ - 9 , 7 + 17 , 7 @ @ 
 { 
 this . field _ 76634 _ f [ k < < 4 | j ] = l ; 
 
 - @ @ - 440 , 12 + 440 , 12 @ @ 
 + @ @ - 440 , 12 + 439 , 12 @ @ 
 
 public int func _ 177437 _ b ( BlockPos p _ 177437 _ 1 _ ) 
 { 
 @ @ - 24 , 7 + 32 , 7 @ @ 
 } 
 
 private Block func _ 150810 _ a ( int p _ 150810 _ 1 _ , int p _ 150810 _ 2 _ , int p _ 150810 _ 3 _ ) 
 - @ @ - 623 , 14 + 623 , 19 @ @ 
 + @ @ - 623 , 14 + 622 , 19 @ @ 
 
 extendedblockstorage . func _ 177484 _ a ( i , j & 15 , k , p _ 177436 _ 2 _ ) ; 
 
 @ @ - 46 , 7 + 54 , 7 @ @ 
 this . field _ 76637 _ e . func _ 175713 _ t ( p _ 177436 _ 1 _ ) ; 
 } 
 } 
 - @ @ - 647 , 8 + 652 , 8 @ @ 
 + @ @ - 647 , 8 + 651 , 8 @ @ 
 } 
 else 
 { 
 @ @ - 57 , 7 + 65 , 7 @ @ 
 
 if ( j1 > 0 ) 
 { 
 - @ @ - 668 , 28 + 673 , 18 @ @ 
 + @ @ - 668 , 28 + 672 , 18 @ @ 
 } 
 } 
 
 @ @ - 88 , 7 + 96 , 7 @ @ 
 this . field _ 76637 _ e . func _ 175690 _ a ( p _ 177436 _ 1 _ , tileentity1 ) ; 
 } 
 
 - @ @ - 792 , 6 + 787 , 7 @ @ 
 + @ @ - 792 , 6 + 786 , 7 @ @ 
 k = this . field _ 76645 _ j . length - 1 ; 
 } 
 
 @ @ - 96 , 7 + 104 , 7 @ @ 
 p _ 76612 _ 1 _ . field _ 70175 _ ag = true ; 
 p _ 76612 _ 1 _ . field _ 70176 _ ah = this . field _ 76635 _ g ; 
 p _ 76612 _ 1 _ . field _ 70162 _ ai = k ; 
 - @ @ - 830 , 13 + 826 , 20 @ @ 
 + @ @ - 830 , 13 + 825 , 20 @ @ 
 private TileEntity func _ 177422 _ i ( BlockPos p _ 177422 _ 1 _ ) 
 { 
 Block block = this . func _ 177428 _ a ( p _ 177422 _ 1 _ ) ; 
 @ @ - 118 , 7 + 126 , 7 @ @ 
 if ( tileentity = = null ) 
 { 
 if ( p _ 177424 _ 2 _ = = Chunk . EnumCreateEntityType . IMMEDIATE ) 
 - @ @ - 849 , 11 + 852 , 6 @ @ 
 + @ @ - 849 , 11 + 851 , 6 @ @ 
 this . field _ 177447 _ w . add ( p _ 177424 _ 1 _ ) ; 
 } 
 } 
 @ @ - 130 , 7 + 138 , 7 @ @ 
 
 return tileentity ; 
 } 
 - @ @ - 873 , 7 + 871 , 7 @ @ 
 + @ @ - 873 , 7 + 870 , 7 @ @ 
 p _ 177426 _ 2 _ . func _ 145834 _ a ( this . field _ 76637 _ e ) ; 
 p _ 177426 _ 2 _ . func _ 174878 _ a ( p _ 177426 _ 1 _ ) ; 
 
 @ @ - 139 , 6 + 147 , 14 @ @ 
 { 
 if ( this . field _ 150816 _ i . containsKey ( p _ 177426 _ 1 _ ) ) 
 { 
 + @ @ - 882 , 6 + 879 , 7 @ @ 
 + 
 + p _ 177426 _ 2 _ . func _ 145829 _ t ( ) ; 
 + this . field _ 150816 _ i . put ( p _ 177426 _ 1 _ , p _ 177426 _ 2 _ ) ; 
 + + p _ 177426 _ 2 _ . onLoad ( ) ; 
 + } 
 + } 
 + 
 @ @ - 910 , 8 + 908 , 9 @ @ 
 entity . func _ 110123 _ P ( ) ; 
 }
