BLEU SCORE: 0.02610266255542666

TEST MSG: Removed generics from IModel subinterfaces , add ed ModelProcessingHelper instead .
GENERATED MSG: Model stuff : updated to generics , fixed various warnings , added handling of new perspective types .

TEST DIFF (one line): diff - - git a / src / main / java / net / minecraftforge / client / model / BlockStateLoader . java b / src / main / java / net / minecraftforge / client / model / BlockStateLoader . java <nl> index 8a0081f . . 65f40be 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / BlockStateLoader . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / BlockStateLoader . java <nl> @ @ - 148 , 21 + 148 , 10 @ @ public class BlockStateLoader <nl> <nl> private IModel runModelHooks ( IModel base , boolean smooth , boolean gui3d , ImmutableMap < String , String > textureMap , ImmutableMap < String , String > customData ) <nl> { <nl> - if ( ! customData . isEmpty ( ) & & base instanceof IModelCustomData ) <nl> - { <nl> - base = ( ( IModelCustomData < ? > ) base ) . process ( customData ) ; <nl> - } <nl> - <nl> - if ( ! textureMap . isEmpty ( ) & & base instanceof IRetexturableModel ) <nl> - { <nl> - base = ( ( IRetexturableModel < ? > ) base ) . retexture ( textureMap ) ; <nl> - } <nl> - <nl> - if ( base instanceof IModelSimpleProperties < ? > ) <nl> - { <nl> - base = ( ( IModelSimpleProperties < ? > ) base ) . smoothLighting ( smooth ) . gui3d ( gui3d ) ; <nl> - } <nl> - <nl> + base = ModelProcessingHelper . customData ( base , customData ) ; <nl> + base = ModelProcessingHelper . retexture ( base , textureMap ) ; <nl> + base = ModelProcessingHelper . smoothLighting ( base , smooth ) ; <nl> + base = ModelProcessingHelper . gui3d ( base , gui3d ) ; <nl> return base ; <nl> } <nl> <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / IModelCustomData . java b / src / main / java / net / minecraftforge / client / model / IModelCustomData . java <nl> index ec54716 . . 76d8e10 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / IModelCustomData . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / IModelCustomData . java <nl> @ @ - 2 , 12 + 2 , 12 @ @ package net . minecraftforge . client . model ; <nl> <nl> import com . google . common . collect . ImmutableMap ; <nl> <nl> - public interface IModelCustomData < M extends IModelCustomData < M > > extends IModel <nl> + public interface IModelCustomData extends IModel <nl> { <nl> / * * <nl> * Allows the model to process custom data from the variant definition . <nl> * If unknown data is encountered it should be skipped . <nl> * @ return a new model , with data applied . <nl> * / <nl> - M process ( ImmutableMap < String , String > customData ) ; <nl> + IModel process ( ImmutableMap < String , String > customData ) ; <nl> } <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / IModelSimpleProperties . java b / src / main / java / net / minecraftforge / client / model / IModelSimpleProperties . java <nl> index 0e963ef . . 0c9b785 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / IModelSimpleProperties . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / IModelSimpleProperties . java <nl> @ @ - 3 , 8 + 3 , 8 @ @ package net . minecraftforge . client . model ; <nl> / * * <nl> * Implement this if the model can process " smooth _ lighting " or " gui3d " attributes from the json . <nl> * / <nl> - public interface IModelSimpleProperties < M extends IModelSimpleProperties < M > > extends IModel <nl> + public interface IModelSimpleProperties extends IModel <nl> { <nl> - M smoothLighting ( boolean value ) ; <nl> - M gui3d ( boolean value ) ; <nl> + IModel smoothLighting ( boolean value ) ; <nl> + IModel gui3d ( boolean value ) ; <nl> } <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / IRetexturableModel . java b / src / main / java / net / minecraftforge / client / model / IRetexturableModel . java <nl> index 98016dc . . eb62487 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / IRetexturableModel . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / IRetexturableModel . java <nl> @ @ - 2 , 7 + 2 , 7 @ @ package net . minecraftforge . client . model ; <nl> <nl> import com . google . common . collect . ImmutableMap ; <nl> <nl> - public interface IRetexturableModel < M extends IRetexturableModel < M > > extends IModel <nl> + public interface IRetexturableModel extends IModel <nl> { <nl> / * * <nl> * Applies new textures to the model . <nl> @ @ - 21 , 5 + 21 , 5 @ @ public interface IRetexturableModel < M extends IRetexturableModel < M > > extends IMo <nl> * @ param textures New <nl> * @ return Model with textures applied . <nl> * / <nl> - M retexture ( ImmutableMap < String , String > textures ) ; <nl> + IModel retexture ( ImmutableMap < String , String > textures ) ; <nl> } <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / ItemLayerModel . java b / src / main / java / net / minecraftforge / client / model / ItemLayerModel . java <nl> index f129e83 . . 4bc494b 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / ItemLayerModel . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / ItemLayerModel . java <nl> @ @ - 29 , 7 + 29 , 7 @ @ import com . google . common . base . Optional ; <nl> import com . google . common . collect . ImmutableList ; <nl> import com . google . common . collect . ImmutableMap ; <nl> <nl> - public class ItemLayerModel implements IRetexturableModel < ItemLayerModel > <nl> + public class ItemLayerModel implements IRetexturableModel <nl> { <nl> public static final ItemLayerModel instance = new ItemLayerModel ( ImmutableList . < ResourceLocation > of ( ) ) ; <nl> <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / ModelDynBucket . java b / src / main / java / net / minecraftforge / client / model / ModelDynBucket . java <nl> index 932ebfc . . 6dd0d0e 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / ModelDynBucket . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / ModelDynBucket . java <nl> @ @ - 39 , 7 + 39 , 7 @ @ import com . google . common . collect . ImmutableMap ; <nl> import com . google . common . collect . ImmutableSet ; <nl> import com . google . common . collect . Maps ; <nl> <nl> - public class ModelDynBucket implements IModel , IModelCustomData < ModelDynBucket > , IRetexturableModel < ModelDynBucket > <nl> + public class ModelDynBucket implements IModel , IModelCustomData , IRetexturableModel <nl> { <nl> public static final ModelResourceLocation LOCATION = new ModelResourceLocation ( new ResourceLocation ( " forge " , " dynbucket " ) , " inventory " ) ; <nl> <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / ModelFluid . java b / src / main / java / net / minecraftforge / client / model / ModelFluid . java <nl> index d08f4af . . 67a73e8 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / ModelFluid . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / ModelFluid . java <nl> @ @ - 43 , 7 + 43 , 7 @ @ import com . google . common . collect . Maps ; <nl> import com . google . gson . JsonElement ; <nl> import com . google . gson . JsonParser ; <nl> <nl> - public class ModelFluid implements IModelCustomData < ModelFluid > <nl> + public class ModelFluid implements IModelCustomData <nl> { <nl> public static final ModelFluid waterModel = new ModelFluid ( FluidRegistry . WATER ) ; <nl> public static final ModelFluid lavaModel = new ModelFluid ( FluidRegistry . LAVA ) ; <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / ModelLoader . java b / src / main / java / net / minecraftforge / client / model / ModelLoader . java <nl> index eb77317 . . cac257b 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / ModelLoader . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / ModelLoader . java <nl> @ @ - 409 , 7 + 409 , 7 @ @ public class ModelLoader extends ModelBakery <nl> textures . addAll ( model . getTextures ( ) ) ; <nl> } <nl> <nl> - private class VanillaModelWrapper implements IRetexturableModel < VanillaModelWrapper > , IModelSimpleProperties < VanillaModelWrapper > , IAnimatedModel <nl> + private class VanillaModelWrapper implements IRetexturableModel , IModelSimpleProperties , IAnimatedModel <nl> { <nl> private final ResourceLocation location ; <nl> private final ModelBlock model ; <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / ModelProcessingHelper . java b / src / main / java / net / minecraftforge / client / model / ModelProcessingHelper . java <nl> new file mode 100644 <nl> index 0000000 . . a9b9e26 <nl> - - - / dev / null <nl> + + + b / src / main / java / net / minecraftforge / client / model / ModelProcessingHelper . java <nl> @ @ - 0 , 0 + 1 , 42 @ @ <nl> + package net . minecraftforge . client . model ; <nl> + <nl> + import com . google . common . collect . ImmutableMap ; <nl> + <nl> + public class ModelProcessingHelper <nl> + { <nl> + public static IModel retexture ( IModel model , ImmutableMap < String , String > textures ) <nl> + { <nl> + if ( model instanceof IRetexturableModel ) <nl> + { <nl> + model = ( ( IRetexturableModel ) model ) . retexture ( textures ) ; <nl> + } <nl> + return model ; <nl> + } <nl> + <nl> + public static IModel customData ( IModel model , ImmutableMap < String , String > customData ) <nl> + { <nl> + if ( model instanceof IModelCustomData ) <nl> + { <nl> + model = ( ( IModelCustomData ) model ) . process ( customData ) ; <nl> + } <nl> + return model ; <nl> + } <nl> + <nl> + public static IModel smoothLighting ( IModel model , boolean smooth ) <nl> + { <nl> + if ( model instanceof IModelSimpleProperties ) <nl> + { <nl> + model = ( ( IModelSimpleProperties ) model ) . smoothLighting ( smooth ) ; <nl> + } <nl> + return model ; <nl> + } <nl> + <nl> + public static IModel gui3d ( IModel model , boolean gui3d ) <nl> + { <nl> + if ( model instanceof IModelSimpleProperties ) <nl> + { <nl> + model = ( ( IModelSimpleProperties ) model ) . gui3d ( gui3d ) ; <nl> + } <nl> + return model ; <nl> + } <nl> + } <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / MultiLayerModel . java b / src / main / java / net / minecraftforge / client / model / MultiLayerModel . java <nl> index 27423c7 . . c63e5c3 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / MultiLayerModel . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / MultiLayerModel . java <nl> @ @ - 32 , 7 + 32 , 7 @ @ import com . google . common . collect . ImmutableMap ; <nl> import com . google . gson . JsonElement ; <nl> import com . google . gson . JsonParser ; <nl> <nl> - public class MultiLayerModel implements IModelCustomData < MultiLayerModel > <nl> + public class MultiLayerModel implements IModelCustomData <nl> { <nl> public static final MultiLayerModel instance = new MultiLayerModel ( ImmutableMap . < Optional < BlockRenderLayer > , ModelResourceLocation > of ( ) ) ; <nl> <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / b3d / B3DLoader . java b / src / main / java / net / minecraftforge / client / model / b3d / B3DLoader . java <nl> index 271ee94 . . 5b8ee36 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / b3d / B3DLoader . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / b3d / B3DLoader . java <nl> @ @ - 400 , 7 + 400 , 7 @ @ public class B3DLoader implements ICustomModelLoader <nl> } <nl> } <nl> <nl> - public static class ModelWrapper implements IRetexturableModel < ModelWrapper > , IModelCustomData < ModelWrapper > , IModelSimpleProperties < ModelWrapper > , IAnimatedModel <nl> + public static class ModelWrapper implements IRetexturableModel , IModelCustomData , IModelSimpleProperties , IAnimatedModel <nl> { <nl> private final ResourceLocation modelLocation ; <nl> private final B3DModel model ; <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / obj / OBJModel . java b / src / main / java / net / minecraftforge / client / model / obj / OBJModel . java <nl> index 07ab890 . . f1c76c8 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / obj / OBJModel . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / obj / OBJModel . java <nl> @ @ - 53 , 7 + 53 , 7 @ @ import com . google . common . collect . ImmutableMap ; <nl> import com . google . common . collect . Lists ; <nl> import com . google . common . collect . Maps ; <nl> <nl> - public class OBJModel implements IRetexturableModel < OBJModel > , IModelCustomData < OBJModel > <nl> + public class OBJModel implements IRetexturableModel , IModelCustomData <nl> { <nl> / / private Gson GSON = new GsonBuilder ( ) . create ( ) ; <nl> private MaterialLibrary matLib ; <nl> diff - - git a / src / test / java / net / minecraftforge / debug / ModelAnimationDebug . java b / src / test / java / net / minecraftforge / debug / ModelAnimationDebug . java <nl> index dd7cf87 . . 8eab7e6 100644 <nl> - - - a / src / test / java / net / minecraftforge / debug / ModelAnimationDebug . java <nl> + + + b / src / test / java / net / minecraftforge / debug / ModelAnimationDebug . java <nl> @ @ - 33 , 6 + 33 , 7 @ @ import net . minecraftforge . client . model . IModelState ; <nl> import net . minecraftforge . client . model . IRetexturableModel ; <nl> import net . minecraftforge . client . model . ModelLoader ; <nl> import net . minecraftforge . client . model . ModelLoaderRegistry ; <nl> + import net . minecraftforge . client . model . ModelProcessingHelper ; <nl> import net . minecraftforge . client . model . MultiModel ; <nl> import net . minecraftforge . client . model . TRSRTransformation ; <nl> import net . minecraftforge . client . model . animation . Animation ; <nl> @ @ - 212 , 14 + 213 , 8 @ @ public class ModelAnimationDebug <nl> " chamber " , " blocks / redstone _ block " , <nl> " trunk " , " blocks / end _ stone " <nl> ) ; <nl> - if ( base instanceof IRetexturableModel < ? > ) <nl> - { <nl> - base = ( ( IRetexturableModel < ? > ) base ) . retexture ( textures ) ; <nl> - } <nl> - if ( ring instanceof IRetexturableModel < ? > ) <nl> - { <nl> - ring = ( ( IRetexturableModel < ? > ) ring ) . retexture ( textures ) ; <nl> - } <nl> + base = ModelProcessingHelper . retexture ( base , textures ) ; <nl> + ring = ModelProcessingHelper . retexture ( base , textures ) ; <nl> IModel model = new MultiModel ( <nl> new ResourceLocation ( ModelAnimationDebug . MODID , " builtin / engine " ) , <nl> ring ,
NEAREST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / client / resources / model / IBakedModel . java . patch b / patches / minecraft / net / minecraft / client / resources / model / IBakedModel . java . patch <nl> index 94444e8 . . d032f72 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / resources / model / IBakedModel . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / resources / model / IBakedModel . java . patch <nl> @ @ - 1 , 18 + 1 , 6 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / client / resources / model / IBakedModel . java <nl> + + + . . / src - work / minecraft / net / minecraft / client / resources / model / IBakedModel . java <nl> - @ @ - 8 , 7 + 8 , 11 @ @ <nl> - import net . minecraftforge . fml . relauncher . Side ; <nl> - import net . minecraftforge . fml . relauncher . SideOnly ; <nl> - <nl> - + / * <nl> - + * @ deprecated use { @ link net . minecraftforge . client . model . IFlexibleBakedModel } , { @ link net . minecraftforge . client . model . IPerspectiveAwareModel } <nl> - + * / <nl> - @ SideOnly ( Side . CLIENT ) <nl> - + @ Deprecated <nl> - public interface IBakedModel <nl> - { <nl> - List < BakedQuad > getFaceQuads ( EnumFacing p _ 177551 _ 1 _ ) ; <nl> - @ @ - 23 , 5 + 27 , 6 @ @ <nl> + @ @ - 23 , 5 + 23 , 6 @ @ <nl> <nl> TextureAtlasSprite getTexture ( ) ; <nl> <nl> diff - - git a / src / main / java / net / minecraftforge / client / ForgeHooksClient . java b / src / main / java / net / minecraftforge / client / ForgeHooksClient . java <nl> index 2fc9623 . . 2b58dee 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / ForgeHooksClient . java <nl> + + + b / src / main / java / net / minecraftforge / client / ForgeHooksClient . java <nl> @ @ - 42 , 6 + 42 , 7 @ @ import net . minecraft . client . resources . I18n ; <nl> import net . minecraft . client . resources . model . IBakedModel ; <nl> import net . minecraft . client . resources . model . ModelBakery ; <nl> import net . minecraft . client . resources . model . ModelManager ; <nl> + import net . minecraft . client . resources . model . ModelResourceLocation ; <nl> import net . minecraft . client . resources . model . ModelRotation ; <nl> import net . minecraft . client . settings . GameSettings ; <nl> import net . minecraft . entity . Entity ; <nl> @ @ - 90 , 6 + 91 , 7 @ @ import org . lwjgl . opengl . GL11 ; <nl> <nl> <nl> <nl> + <nl> import com . google . common . collect . Maps ; <nl> <nl> public class ForgeHooksClient <nl> @ @ - 510 , 7 + 512 , 7 @ @ public class ForgeHooksClient <nl> } <nl> * / <nl> <nl> - public static void onModelBake ( ModelManager modelManager , IRegistry modelRegistry , ModelBakery modelBakery ) <nl> + public static void onModelBake ( ModelManager modelManager , IRegistry < ModelResourceLocation , IBakedModel > modelRegistry , ModelBakery modelBakery ) <nl> { <nl> ModelLoader loader = ( ModelLoader ) modelBakery ; <nl> MinecraftForge . EVENT _ BUS . post ( new ModelBakeEvent ( modelManager , modelRegistry , loader ) ) ; <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / BlockStateLoader . java b / src / main / java / net / minecraftforge / client / model / BlockStateLoader . java <nl> index cd3e1d2 . . 007fefc 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / BlockStateLoader . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / BlockStateLoader . java <nl> @ @ - 43 , 7 + 43 , 6 @ @ public class BlockStateLoader <nl> * <nl> * @ return Model definition including variants for all known combinations . <nl> * / <nl> - @ SuppressWarnings ( " rawtypes " ) <nl> public static ModelBlockDefinition load ( Reader reader , final Gson vanillaGSON ) <nl> { <nl> try <nl> @ @ - 75 , 7 + 74 , 7 @ @ public class BlockStateLoader <nl> variants . add ( new ModelBlockDefinition . Variants ( entry . getKey ( ) , mcVars ) ) ; <nl> } <nl> <nl> - return new ModelBlockDefinition ( ( Collection ) variants ) ; / / Damn lists being collections ! <nl> + return new ModelBlockDefinition ( variants ) ; <nl> <nl> default : / / Unknown version . . try loading it as normal . <nl> return vanillaGSON . fromJson ( reader , ModelBlockDefinition . class ) ; <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / ForgeBlockStateV1 . java b / src / main / java / net / minecraftforge / client / model / ForgeBlockStateV1 . java <nl> index 59598c2 . . b5ced65 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / ForgeBlockStateV1 . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / ForgeBlockStateV1 . java <nl> @ @ - 534 , 17 + 534 , 29 @ @ public class ForgeBlockStateV1 extends Marker <nl> transform . remove ( " firstperson " ) ; <nl> transforms . put ( TransformType . FIRST _ PERSON , TRSRTransformation . blockCenterToCorner ( t ) ) ; <nl> } <nl> + if ( transform . has ( " head " ) ) <nl> + { <nl> + TRSRTransformation t = context . deserialize ( transform . get ( " head " ) , TRSRTransformation . class ) ; <nl> + transform . remove ( " head " ) ; <nl> + transforms . put ( TransformType . HEAD , TRSRTransformation . blockCenterToCorner ( t ) ) ; <nl> + } <nl> if ( transform . has ( " gui " ) ) <nl> { <nl> TRSRTransformation t = context . deserialize ( transform . get ( " gui " ) , TRSRTransformation . class ) ; <nl> transform . remove ( " gui " ) ; <nl> transforms . put ( TransformType . GUI , TRSRTransformation . blockCenterToCorner ( t ) ) ; <nl> } <nl> - if ( transform . has ( " head " ) ) <nl> + if ( transform . has ( " ground " ) ) <nl> { <nl> - TRSRTransformation t = context . deserialize ( transform . get ( " head " ) , TRSRTransformation . class ) ; <nl> - transform . remove ( " head " ) ; <nl> - transforms . put ( TransformType . HEAD , TRSRTransformation . blockCenterToCorner ( t ) ) ; <nl> + TRSRTransformation t = context . deserialize ( transform . get ( " ground " ) , TRSRTransformation . class ) ; <nl> + transform . remove ( " ground " ) ; <nl> + transforms . put ( TransformType . GROUND , TRSRTransformation . blockCenterToCorner ( t ) ) ; <nl> + } <nl> + if ( transform . has ( " fixed " ) ) <nl> + { <nl> + TRSRTransformation t = context . deserialize ( transform . get ( " fixed " ) , TRSRTransformation . class ) ; <nl> + transform . remove ( " fixed " ) ; <nl> + transforms . put ( TransformType . FIXED , TRSRTransformation . blockCenterToCorner ( t ) ) ; <nl> } <nl> int k = transform . entrySet ( ) . size ( ) ; <nl> if ( transform . has ( " matrix " ) ) k - - ; <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / IFlexibleBakedModel . java b / src / main / java / net / minecraftforge / client / model / IFlexibleBakedModel . java <nl> index e01989a . . 4d921fa 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / IFlexibleBakedModel . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / IFlexibleBakedModel . java <nl> @ @ - 14 , 9 + 14 , 6 @ @ import net . minecraft . util . EnumFacing ; <nl> * / <nl> public interface IFlexibleBakedModel extends IBakedModel <nl> { <nl> - / / non - erased versions of the IBakedModel methods <nl> - List < BakedQuad > getFaceQuads ( EnumFacing side ) ; <nl> - List < BakedQuad > getGeneralQuads ( ) ; <nl> / * <nl> * Specifies the format which BakedQuads ' getVertexData will have . <nl> * / <nl> @ @ - 36 , 13 + 33 , 11 @ @ public interface IFlexibleBakedModel extends IBakedModel <nl> this . format = format ; <nl> } <nl> <nl> - @ SuppressWarnings ( " unchecked " ) <nl> public List < BakedQuad > getFaceQuads ( EnumFacing side ) <nl> { <nl> return parent . getFaceQuads ( side ) ; <nl> } <nl> <nl> - @ SuppressWarnings ( " unchecked " ) <nl> public List < BakedQuad > getGeneralQuads ( ) <nl> { <nl> return parent . getGeneralQuads ( ) ; <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / IPerspectiveAwareModel . java b / src / main / java / net / minecraftforge / client / model / IPerspectiveAwareModel . java <nl> index be4a2ad . . d783267 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / IPerspectiveAwareModel . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / IPerspectiveAwareModel . java <nl> @ @ - 14 , 7 + 14 , 6 @ @ import net . minecraft . util . EnumFacing ; <nl> <nl> import org . apache . commons . lang3 . tuple . Pair ; <nl> <nl> - import com . google . common . collect . ImmutableList ; <nl> import com . google . common . collect . ImmutableMap ; <nl> <nl> / * <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / IPerspectiveState . java b / src / main / java / net / minecraftforge / client / model / IPerspectiveState . java <nl> index 1dbeb77 . . 838090f 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / IPerspectiveState . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / IPerspectiveState . java <nl> @ @ - 38 , 11 + 38 , 10 @ @ public interface IPerspectiveState extends IModelState <nl> private static ImmutableMap < TransformType , IModelState > getMap ( ItemCameraTransforms transforms ) <nl> { <nl> Map < TransformType , IModelState > map = Maps . newHashMap ( ) ; <nl> - map . put ( TransformType . NONE , TRSRTransformation . identity ( ) ) ; <nl> - map . put ( TransformType . THIRD _ PERSON , transforms . thirdPerson ) ; <nl> - map . put ( TransformType . FIRST _ PERSON , transforms . firstPerson ) ; <nl> - map . put ( TransformType . GUI , transforms . gui ) ; <nl> - map . put ( TransformType . HEAD , transforms . head ) ; <nl> + for ( TransformType type : TransformType . values ( ) ) <nl> + { <nl> + map . put ( type , transforms . func _ 181688 _ b ( type ) ) ; <nl> + } <nl> return Maps . immutableEnumMap ( map ) ; <nl> } <nl> <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / ItemLayerModel . java b / src / main / java / net / minecraftforge / client / model / ItemLayerModel . java <nl> index 8930101 . . 396c4e6 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / ItemLayerModel . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / ItemLayerModel . java <nl> @ @ - 3 , 7 + 3 , 6 @ @ package net . minecraftforge . client . model ; <nl> import java . util . Arrays ; <nl> import java . util . Collection ; <nl> import java . util . List ; <nl> - import java . util . Map ; <nl> <nl> import javax . vecmath . Matrix4f ; <nl> import javax . vecmath . Vector4f ; <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / ModelLoader . java b / src / main / java / net / minecraftforge / client / model / ModelLoader . java <nl> index fda3968 . . 4e0fdef 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / ModelLoader . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / ModelLoader . java <nl> @ @ - 38 , 6 + 38 , 7 @ @ import net . minecraft . client . renderer . vertex . DefaultVertexFormats ; <nl> import net . minecraft . client . renderer . vertex . VertexFormat ; <nl> import net . minecraft . client . resources . IResourceManager ; <nl> import net . minecraft . client . resources . model . BuiltInModel ; <nl> + import net . minecraft . client . resources . model . IBakedModel ; <nl> import net . minecraft . client . resources . model . ModelBakery ; <nl> import net . minecraft . client . resources . model . ModelResourceLocation ; <nl> import net . minecraft . client . resources . model . ModelRotation ; <nl> @ @ - 85 , 7 + 86 , 7 @ @ public class ModelLoader extends ModelBakery <nl> } <nl> <nl> @ Override <nl> - public IRegistry setupModelRegistry ( ) <nl> + public IRegistry < ModelResourceLocation , IBakedModel > setupModelRegistry ( ) <nl> { <nl> isLoading = true ; <nl> loadBlocks ( ) ; <nl> @ @ - 717 , 12 + 718 , 12 @ @ public class ModelLoader extends ModelBakery <nl> } <nl> } <nl> <nl> - public void onPostBakeEvent ( IRegistry modelRegistry ) <nl> + public void onPostBakeEvent ( IRegistry < ModelResourceLocation , IBakedModel > modelRegistry ) <nl> { <nl> - Object missingModel = modelRegistry . getObject ( MODEL _ MISSING ) ; <nl> + IBakedModel missingModel = modelRegistry . getObject ( MODEL _ MISSING ) ; <nl> for ( ModelResourceLocation missing : missingVariants ) <nl> { <nl> - Object model = modelRegistry . getObject ( missing ) ; <nl> + IBakedModel model = modelRegistry . getObject ( missing ) ; <nl> if ( model = = null | | model = = missingModel ) <nl> { <nl> FMLLog . severe ( " Model definition for location % s not found " , missing ) ; <nl> diff - - git a / src / main / java / net / minecraftforge / client / model / b3d / B3DModel . java b / src / main / java / net / minecraftforge / client / model / b3d / B3DModel . java <nl> index c9b889a . . 60af648 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / model / b3d / B3DModel . java <nl> + + + b / src / main / java / net / minecraftforge / client / model / b3d / B3DModel . java <nl> @ @ - 185 , 12 + 185 , 12 @ @ public class B3DModel <nl> { <nl> chunk ( " BB3D " ) ; <nl> int version = buf . getInt ( ) ; <nl> - if ( version / 100 > this . version / 100 ) <nl> + if ( version / 100 > Parser . version / 100 ) <nl> throw new IOException ( " Unsupported major model version : " + ( ( float ) version / 100 ) ) ; <nl> - if ( version % 100 > this . version % 100 ) <nl> + if ( version % 100 > Parser . version % 100 ) <nl> logger . warn ( String . format ( " Minor version differnce in model : " , ( ( float ) version / 100 ) ) ) ; <nl> - List < Texture > textures = Collections . EMPTY _ LIST ; <nl> - List < Brush > brushes = Collections . EMPTY _ LIST ; <nl> + List < Texture > textures = Collections . emptyList ( ) ; <nl> + List < Brush > brushes = Collections . emptyList ( ) ; <nl> Node < ? > root = null ; <nl> while ( buf . hasRemaining ( ) ) <nl> { <nl> @ @ - 400 , 7 + 400 , 6 @ @ public class B3DModel <nl> chunk ( " NODE " ) ; <nl> animations . push ( HashBasedTable . < Integer , Optional < Node < ? > > , Key > create ( ) ) ; <nl> Triple < Integer , Integer , Float > animData = null ; <nl> - Animation animation = null ; <nl> Pair < Brush , List < Face > > mesh = null ; <nl> List < Pair < Vertex , Float > > bone = null ; <nl> Map < Integer , Key > keys = new HashMap < Integer , Key > ( ) ;

TEST DIFF:
diff - - git a / src / main / java / net / minecraftforge / client / model / BlockStateLoader . java b / src / main / java / net / minecraftforge / client / model / BlockStateLoader . java 
 index 8a0081f . . 65f40be 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / BlockStateLoader . java 
 + + + b / src / main / java / net / minecraftforge / client / model / BlockStateLoader . java 
 @ @ - 148 , 21 + 148 , 10 @ @ public class BlockStateLoader 
 
 private IModel runModelHooks ( IModel base , boolean smooth , boolean gui3d , ImmutableMap < String , String > textureMap , ImmutableMap < String , String > customData ) 
 { 
 - if ( ! customData . isEmpty ( ) & & base instanceof IModelCustomData ) 
 - { 
 - base = ( ( IModelCustomData < ? > ) base ) . process ( customData ) ; 
 - } 
 - 
 - if ( ! textureMap . isEmpty ( ) & & base instanceof IRetexturableModel ) 
 - { 
 - base = ( ( IRetexturableModel < ? > ) base ) . retexture ( textureMap ) ; 
 - } 
 - 
 - if ( base instanceof IModelSimpleProperties < ? > ) 
 - { 
 - base = ( ( IModelSimpleProperties < ? > ) base ) . smoothLighting ( smooth ) . gui3d ( gui3d ) ; 
 - } 
 - 
 + base = ModelProcessingHelper . customData ( base , customData ) ; 
 + base = ModelProcessingHelper . retexture ( base , textureMap ) ; 
 + base = ModelProcessingHelper . smoothLighting ( base , smooth ) ; 
 + base = ModelProcessingHelper . gui3d ( base , gui3d ) ; 
 return base ; 
 } 
 
 diff - - git a / src / main / java / net / minecraftforge / client / model / IModelCustomData . java b / src / main / java / net / minecraftforge / client / model / IModelCustomData . java 
 index ec54716 . . 76d8e10 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / IModelCustomData . java 
 + + + b / src / main / java / net / minecraftforge / client / model / IModelCustomData . java 
 @ @ - 2 , 12 + 2 , 12 @ @ package net . minecraftforge . client . model ; 
 
 import com . google . common . collect . ImmutableMap ; 
 
 - public interface IModelCustomData < M extends IModelCustomData < M > > extends IModel 
 + public interface IModelCustomData extends IModel 
 { 
 / * * 
 * Allows the model to process custom data from the variant definition . 
 * If unknown data is encountered it should be skipped . 
 * @ return a new model , with data applied . 
 * / 
 - M process ( ImmutableMap < String , String > customData ) ; 
 + IModel process ( ImmutableMap < String , String > customData ) ; 
 } 
 diff - - git a / src / main / java / net / minecraftforge / client / model / IModelSimpleProperties . java b / src / main / java / net / minecraftforge / client / model / IModelSimpleProperties . java 
 index 0e963ef . . 0c9b785 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / IModelSimpleProperties . java 
 + + + b / src / main / java / net / minecraftforge / client / model / IModelSimpleProperties . java 
 @ @ - 3 , 8 + 3 , 8 @ @ package net . minecraftforge . client . model ; 
 / * * 
 * Implement this if the model can process " smooth _ lighting " or " gui3d " attributes from the json . 
 * / 
 - public interface IModelSimpleProperties < M extends IModelSimpleProperties < M > > extends IModel 
 + public interface IModelSimpleProperties extends IModel 
 { 
 - M smoothLighting ( boolean value ) ; 
 - M gui3d ( boolean value ) ; 
 + IModel smoothLighting ( boolean value ) ; 
 + IModel gui3d ( boolean value ) ; 
 } 
 diff - - git a / src / main / java / net / minecraftforge / client / model / IRetexturableModel . java b / src / main / java / net / minecraftforge / client / model / IRetexturableModel . java 
 index 98016dc . . eb62487 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / IRetexturableModel . java 
 + + + b / src / main / java / net / minecraftforge / client / model / IRetexturableModel . java 
 @ @ - 2 , 7 + 2 , 7 @ @ package net . minecraftforge . client . model ; 
 
 import com . google . common . collect . ImmutableMap ; 
 
 - public interface IRetexturableModel < M extends IRetexturableModel < M > > extends IModel 
 + public interface IRetexturableModel extends IModel 
 { 
 / * * 
 * Applies new textures to the model . 
 @ @ - 21 , 5 + 21 , 5 @ @ public interface IRetexturableModel < M extends IRetexturableModel < M > > extends IMo 
 * @ param textures New 
 * @ return Model with textures applied . 
 * / 
 - M retexture ( ImmutableMap < String , String > textures ) ; 
 + IModel retexture ( ImmutableMap < String , String > textures ) ; 
 } 
 diff - - git a / src / main / java / net / minecraftforge / client / model / ItemLayerModel . java b / src / main / java / net / minecraftforge / client / model / ItemLayerModel . java 
 index f129e83 . . 4bc494b 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / ItemLayerModel . java 
 + + + b / src / main / java / net / minecraftforge / client / model / ItemLayerModel . java 
 @ @ - 29 , 7 + 29 , 7 @ @ import com . google . common . base . Optional ; 
 import com . google . common . collect . ImmutableList ; 
 import com . google . common . collect . ImmutableMap ; 
 
 - public class ItemLayerModel implements IRetexturableModel < ItemLayerModel > 
 + public class ItemLayerModel implements IRetexturableModel 
 { 
 public static final ItemLayerModel instance = new ItemLayerModel ( ImmutableList . < ResourceLocation > of ( ) ) ; 
 
 diff - - git a / src / main / java / net / minecraftforge / client / model / ModelDynBucket . java b / src / main / java / net / minecraftforge / client / model / ModelDynBucket . java 
 index 932ebfc . . 6dd0d0e 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / ModelDynBucket . java 
 + + + b / src / main / java / net / minecraftforge / client / model / ModelDynBucket . java 
 @ @ - 39 , 7 + 39 , 7 @ @ import com . google . common . collect . ImmutableMap ; 
 import com . google . common . collect . ImmutableSet ; 
 import com . google . common . collect . Maps ; 
 
 - public class ModelDynBucket implements IModel , IModelCustomData < ModelDynBucket > , IRetexturableModel < ModelDynBucket > 
 + public class ModelDynBucket implements IModel , IModelCustomData , IRetexturableModel 
 { 
 public static final ModelResourceLocation LOCATION = new ModelResourceLocation ( new ResourceLocation ( " forge " , " dynbucket " ) , " inventory " ) ; 
 
 diff - - git a / src / main / java / net / minecraftforge / client / model / ModelFluid . java b / src / main / java / net / minecraftforge / client / model / ModelFluid . java 
 index d08f4af . . 67a73e8 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / ModelFluid . java 
 + + + b / src / main / java / net / minecraftforge / client / model / ModelFluid . java 
 @ @ - 43 , 7 + 43 , 7 @ @ import com . google . common . collect . Maps ; 
 import com . google . gson . JsonElement ; 
 import com . google . gson . JsonParser ; 
 
 - public class ModelFluid implements IModelCustomData < ModelFluid > 
 + public class ModelFluid implements IModelCustomData 
 { 
 public static final ModelFluid waterModel = new ModelFluid ( FluidRegistry . WATER ) ; 
 public static final ModelFluid lavaModel = new ModelFluid ( FluidRegistry . LAVA ) ; 
 diff - - git a / src / main / java / net / minecraftforge / client / model / ModelLoader . java b / src / main / java / net / minecraftforge / client / model / ModelLoader . java 
 index eb77317 . . cac257b 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / ModelLoader . java 
 + + + b / src / main / java / net / minecraftforge / client / model / ModelLoader . java 
 @ @ - 409 , 7 + 409 , 7 @ @ public class ModelLoader extends ModelBakery 
 textures . addAll ( model . getTextures ( ) ) ; 
 } 
 
 - private class VanillaModelWrapper implements IRetexturableModel < VanillaModelWrapper > , IModelSimpleProperties < VanillaModelWrapper > , IAnimatedModel 
 + private class VanillaModelWrapper implements IRetexturableModel , IModelSimpleProperties , IAnimatedModel 
 { 
 private final ResourceLocation location ; 
 private final ModelBlock model ; 
 diff - - git a / src / main / java / net / minecraftforge / client / model / ModelProcessingHelper . java b / src / main / java / net / minecraftforge / client / model / ModelProcessingHelper . java 
 new file mode 100644 
 index 0000000 . . a9b9e26 
 - - - / dev / null 
 + + + b / src / main / java / net / minecraftforge / client / model / ModelProcessingHelper . java 
 @ @ - 0 , 0 + 1 , 42 @ @ 
 + package net . minecraftforge . client . model ; 
 + 
 + import com . google . common . collect . ImmutableMap ; 
 + 
 + public class ModelProcessingHelper 
 + { 
 + public static IModel retexture ( IModel model , ImmutableMap < String , String > textures ) 
 + { 
 + if ( model instanceof IRetexturableModel ) 
 + { 
 + model = ( ( IRetexturableModel ) model ) . retexture ( textures ) ; 
 + } 
 + return model ; 
 + } 
 + 
 + public static IModel customData ( IModel model , ImmutableMap < String , String > customData ) 
 + { 
 + if ( model instanceof IModelCustomData ) 
 + { 
 + model = ( ( IModelCustomData ) model ) . process ( customData ) ; 
 + } 
 + return model ; 
 + } 
 + 
 + public static IModel smoothLighting ( IModel model , boolean smooth ) 
 + { 
 + if ( model instanceof IModelSimpleProperties ) 
 + { 
 + model = ( ( IModelSimpleProperties ) model ) . smoothLighting ( smooth ) ; 
 + } 
 + return model ; 
 + } 
 + 
 + public static IModel gui3d ( IModel model , boolean gui3d ) 
 + { 
 + if ( model instanceof IModelSimpleProperties ) 
 + { 
 + model = ( ( IModelSimpleProperties ) model ) . gui3d ( gui3d ) ; 
 + } 
 + return model ; 
 + } 
 + } 
 diff - - git a / src / main / java / net / minecraftforge / client / model / MultiLayerModel . java b / src / main / java / net / minecraftforge / client / model / MultiLayerModel . java 
 index 27423c7 . . c63e5c3 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / MultiLayerModel . java 
 + + + b / src / main / java / net / minecraftforge / client / model / MultiLayerModel . java 
 @ @ - 32 , 7 + 32 , 7 @ @ import com . google . common . collect . ImmutableMap ; 
 import com . google . gson . JsonElement ; 
 import com . google . gson . JsonParser ; 
 
 - public class MultiLayerModel implements IModelCustomData < MultiLayerModel > 
 + public class MultiLayerModel implements IModelCustomData 
 { 
 public static final MultiLayerModel instance = new MultiLayerModel ( ImmutableMap . < Optional < BlockRenderLayer > , ModelResourceLocation > of ( ) ) ; 
 
 diff - - git a / src / main / java / net / minecraftforge / client / model / b3d / B3DLoader . java b / src / main / java / net / minecraftforge / client / model / b3d / B3DLoader . java 
 index 271ee94 . . 5b8ee36 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / b3d / B3DLoader . java 
 + + + b / src / main / java / net / minecraftforge / client / model / b3d / B3DLoader . java 
 @ @ - 400 , 7 + 400 , 7 @ @ public class B3DLoader implements ICustomModelLoader 
 } 
 } 
 
 - public static class ModelWrapper implements IRetexturableModel < ModelWrapper > , IModelCustomData < ModelWrapper > , IModelSimpleProperties < ModelWrapper > , IAnimatedModel 
 + public static class ModelWrapper implements IRetexturableModel , IModelCustomData , IModelSimpleProperties , IAnimatedModel 
 { 
 private final ResourceLocation modelLocation ; 
 private final B3DModel model ; 
 diff - - git a / src / main / java / net / minecraftforge / client / model / obj / OBJModel . java b / src / main / java / net / minecraftforge / client / model / obj / OBJModel . java 
 index 07ab890 . . f1c76c8 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / obj / OBJModel . java 
 + + + b / src / main / java / net / minecraftforge / client / model / obj / OBJModel . java 
 @ @ - 53 , 7 + 53 , 7 @ @ import com . google . common . collect . ImmutableMap ; 
 import com . google . common . collect . Lists ; 
 import com . google . common . collect . Maps ; 
 
 - public class OBJModel implements IRetexturableModel < OBJModel > , IModelCustomData < OBJModel > 
 + public class OBJModel implements IRetexturableModel , IModelCustomData 
 { 
 / / private Gson GSON = new GsonBuilder ( ) . create ( ) ; 
 private MaterialLibrary matLib ; 
 diff - - git a / src / test / java / net / minecraftforge / debug / ModelAnimationDebug . java b / src / test / java / net / minecraftforge / debug / ModelAnimationDebug . java 
 index dd7cf87 . . 8eab7e6 100644 
 - - - a / src / test / java / net / minecraftforge / debug / ModelAnimationDebug . java 
 + + + b / src / test / java / net / minecraftforge / debug / ModelAnimationDebug . java 
 @ @ - 33 , 6 + 33 , 7 @ @ import net . minecraftforge . client . model . IModelState ; 
 import net . minecraftforge . client . model . IRetexturableModel ; 
 import net . minecraftforge . client . model . ModelLoader ; 
 import net . minecraftforge . client . model . ModelLoaderRegistry ; 
 + import net . minecraftforge . client . model . ModelProcessingHelper ; 
 import net . minecraftforge . client . model . MultiModel ; 
 import net . minecraftforge . client . model . TRSRTransformation ; 
 import net . minecraftforge . client . model . animation . Animation ; 
 @ @ - 212 , 14 + 213 , 8 @ @ public class ModelAnimationDebug 
 " chamber " , " blocks / redstone _ block " , 
 " trunk " , " blocks / end _ stone " 
 ) ; 
 - if ( base instanceof IRetexturableModel < ? > ) 
 - { 
 - base = ( ( IRetexturableModel < ? > ) base ) . retexture ( textures ) ; 
 - } 
 - if ( ring instanceof IRetexturableModel < ? > ) 
 - { 
 - ring = ( ( IRetexturableModel < ? > ) ring ) . retexture ( textures ) ; 
 - } 
 + base = ModelProcessingHelper . retexture ( base , textures ) ; 
 + ring = ModelProcessingHelper . retexture ( base , textures ) ; 
 IModel model = new MultiModel ( 
 new ResourceLocation ( ModelAnimationDebug . MODID , " builtin / engine " ) , 
 ring ,

NEAREST DIFF:
diff - - git a / patches / minecraft / net / minecraft / client / resources / model / IBakedModel . java . patch b / patches / minecraft / net / minecraft / client / resources / model / IBakedModel . java . patch 
 index 94444e8 . . d032f72 100644 
 - - - a / patches / minecraft / net / minecraft / client / resources / model / IBakedModel . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / resources / model / IBakedModel . java . patch 
 @ @ - 1 , 18 + 1 , 6 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / client / resources / model / IBakedModel . java 
 + + + . . / src - work / minecraft / net / minecraft / client / resources / model / IBakedModel . java 
 - @ @ - 8 , 7 + 8 , 11 @ @ 
 - import net . minecraftforge . fml . relauncher . Side ; 
 - import net . minecraftforge . fml . relauncher . SideOnly ; 
 - 
 - + / * 
 - + * @ deprecated use { @ link net . minecraftforge . client . model . IFlexibleBakedModel } , { @ link net . minecraftforge . client . model . IPerspectiveAwareModel } 
 - + * / 
 - @ SideOnly ( Side . CLIENT ) 
 - + @ Deprecated 
 - public interface IBakedModel 
 - { 
 - List < BakedQuad > getFaceQuads ( EnumFacing p _ 177551 _ 1 _ ) ; 
 - @ @ - 23 , 5 + 27 , 6 @ @ 
 + @ @ - 23 , 5 + 23 , 6 @ @ 
 
 TextureAtlasSprite getTexture ( ) ; 
 
 diff - - git a / src / main / java / net / minecraftforge / client / ForgeHooksClient . java b / src / main / java / net / minecraftforge / client / ForgeHooksClient . java 
 index 2fc9623 . . 2b58dee 100644 
 - - - a / src / main / java / net / minecraftforge / client / ForgeHooksClient . java 
 + + + b / src / main / java / net / minecraftforge / client / ForgeHooksClient . java 
 @ @ - 42 , 6 + 42 , 7 @ @ import net . minecraft . client . resources . I18n ; 
 import net . minecraft . client . resources . model . IBakedModel ; 
 import net . minecraft . client . resources . model . ModelBakery ; 
 import net . minecraft . client . resources . model . ModelManager ; 
 + import net . minecraft . client . resources . model . ModelResourceLocation ; 
 import net . minecraft . client . resources . model . ModelRotation ; 
 import net . minecraft . client . settings . GameSettings ; 
 import net . minecraft . entity . Entity ; 
 @ @ - 90 , 6 + 91 , 7 @ @ import org . lwjgl . opengl . GL11 ; 
 
 
 
 + 
 import com . google . common . collect . Maps ; 
 
 public class ForgeHooksClient 
 @ @ - 510 , 7 + 512 , 7 @ @ public class ForgeHooksClient 
 } 
 * / 
 
 - public static void onModelBake ( ModelManager modelManager , IRegistry modelRegistry , ModelBakery modelBakery ) 
 + public static void onModelBake ( ModelManager modelManager , IRegistry < ModelResourceLocation , IBakedModel > modelRegistry , ModelBakery modelBakery ) 
 { 
 ModelLoader loader = ( ModelLoader ) modelBakery ; 
 MinecraftForge . EVENT _ BUS . post ( new ModelBakeEvent ( modelManager , modelRegistry , loader ) ) ; 
 diff - - git a / src / main / java / net / minecraftforge / client / model / BlockStateLoader . java b / src / main / java / net / minecraftforge / client / model / BlockStateLoader . java 
 index cd3e1d2 . . 007fefc 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / BlockStateLoader . java 
 + + + b / src / main / java / net / minecraftforge / client / model / BlockStateLoader . java 
 @ @ - 43 , 7 + 43 , 6 @ @ public class BlockStateLoader 
 * 
 * @ return Model definition including variants for all known combinations . 
 * / 
 - @ SuppressWarnings ( " rawtypes " ) 
 public static ModelBlockDefinition load ( Reader reader , final Gson vanillaGSON ) 
 { 
 try 
 @ @ - 75 , 7 + 74 , 7 @ @ public class BlockStateLoader 
 variants . add ( new ModelBlockDefinition . Variants ( entry . getKey ( ) , mcVars ) ) ; 
 } 
 
 - return new ModelBlockDefinition ( ( Collection ) variants ) ; / / Damn lists being collections ! 
 + return new ModelBlockDefinition ( variants ) ; 
 
 default : / / Unknown version . . try loading it as normal . 
 return vanillaGSON . fromJson ( reader , ModelBlockDefinition . class ) ; 
 diff - - git a / src / main / java / net / minecraftforge / client / model / ForgeBlockStateV1 . java b / src / main / java / net / minecraftforge / client / model / ForgeBlockStateV1 . java 
 index 59598c2 . . b5ced65 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / ForgeBlockStateV1 . java 
 + + + b / src / main / java / net / minecraftforge / client / model / ForgeBlockStateV1 . java 
 @ @ - 534 , 17 + 534 , 29 @ @ public class ForgeBlockStateV1 extends Marker 
 transform . remove ( " firstperson " ) ; 
 transforms . put ( TransformType . FIRST _ PERSON , TRSRTransformation . blockCenterToCorner ( t ) ) ; 
 } 
 + if ( transform . has ( " head " ) ) 
 + { 
 + TRSRTransformation t = context . deserialize ( transform . get ( " head " ) , TRSRTransformation . class ) ; 
 + transform . remove ( " head " ) ; 
 + transforms . put ( TransformType . HEAD , TRSRTransformation . blockCenterToCorner ( t ) ) ; 
 + } 
 if ( transform . has ( " gui " ) ) 
 { 
 TRSRTransformation t = context . deserialize ( transform . get ( " gui " ) , TRSRTransformation . class ) ; 
 transform . remove ( " gui " ) ; 
 transforms . put ( TransformType . GUI , TRSRTransformation . blockCenterToCorner ( t ) ) ; 
 } 
 - if ( transform . has ( " head " ) ) 
 + if ( transform . has ( " ground " ) ) 
 { 
 - TRSRTransformation t = context . deserialize ( transform . get ( " head " ) , TRSRTransformation . class ) ; 
 - transform . remove ( " head " ) ; 
 - transforms . put ( TransformType . HEAD , TRSRTransformation . blockCenterToCorner ( t ) ) ; 
 + TRSRTransformation t = context . deserialize ( transform . get ( " ground " ) , TRSRTransformation . class ) ; 
 + transform . remove ( " ground " ) ; 
 + transforms . put ( TransformType . GROUND , TRSRTransformation . blockCenterToCorner ( t ) ) ; 
 + } 
 + if ( transform . has ( " fixed " ) ) 
 + { 
 + TRSRTransformation t = context . deserialize ( transform . get ( " fixed " ) , TRSRTransformation . class ) ; 
 + transform . remove ( " fixed " ) ; 
 + transforms . put ( TransformType . FIXED , TRSRTransformation . blockCenterToCorner ( t ) ) ; 
 } 
 int k = transform . entrySet ( ) . size ( ) ; 
 if ( transform . has ( " matrix " ) ) k - - ; 
 diff - - git a / src / main / java / net / minecraftforge / client / model / IFlexibleBakedModel . java b / src / main / java / net / minecraftforge / client / model / IFlexibleBakedModel . java 
 index e01989a . . 4d921fa 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / IFlexibleBakedModel . java 
 + + + b / src / main / java / net / minecraftforge / client / model / IFlexibleBakedModel . java 
 @ @ - 14 , 9 + 14 , 6 @ @ import net . minecraft . util . EnumFacing ; 
 * / 
 public interface IFlexibleBakedModel extends IBakedModel 
 { 
 - / / non - erased versions of the IBakedModel methods 
 - List < BakedQuad > getFaceQuads ( EnumFacing side ) ; 
 - List < BakedQuad > getGeneralQuads ( ) ; 
 / * 
 * Specifies the format which BakedQuads ' getVertexData will have . 
 * / 
 @ @ - 36 , 13 + 33 , 11 @ @ public interface IFlexibleBakedModel extends IBakedModel 
 this . format = format ; 
 } 
 
 - @ SuppressWarnings ( " unchecked " ) 
 public List < BakedQuad > getFaceQuads ( EnumFacing side ) 
 { 
 return parent . getFaceQuads ( side ) ; 
 } 
 
 - @ SuppressWarnings ( " unchecked " ) 
 public List < BakedQuad > getGeneralQuads ( ) 
 { 
 return parent . getGeneralQuads ( ) ; 
 diff - - git a / src / main / java / net / minecraftforge / client / model / IPerspectiveAwareModel . java b / src / main / java / net / minecraftforge / client / model / IPerspectiveAwareModel . java 
 index be4a2ad . . d783267 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / IPerspectiveAwareModel . java 
 + + + b / src / main / java / net / minecraftforge / client / model / IPerspectiveAwareModel . java 
 @ @ - 14 , 7 + 14 , 6 @ @ import net . minecraft . util . EnumFacing ; 
 
 import org . apache . commons . lang3 . tuple . Pair ; 
 
 - import com . google . common . collect . ImmutableList ; 
 import com . google . common . collect . ImmutableMap ; 
 
 / * 
 diff - - git a / src / main / java / net / minecraftforge / client / model / IPerspectiveState . java b / src / main / java / net / minecraftforge / client / model / IPerspectiveState . java 
 index 1dbeb77 . . 838090f 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / IPerspectiveState . java 
 + + + b / src / main / java / net / minecraftforge / client / model / IPerspectiveState . java 
 @ @ - 38 , 11 + 38 , 10 @ @ public interface IPerspectiveState extends IModelState 
 private static ImmutableMap < TransformType , IModelState > getMap ( ItemCameraTransforms transforms ) 
 { 
 Map < TransformType , IModelState > map = Maps . newHashMap ( ) ; 
 - map . put ( TransformType . NONE , TRSRTransformation . identity ( ) ) ; 
 - map . put ( TransformType . THIRD _ PERSON , transforms . thirdPerson ) ; 
 - map . put ( TransformType . FIRST _ PERSON , transforms . firstPerson ) ; 
 - map . put ( TransformType . GUI , transforms . gui ) ; 
 - map . put ( TransformType . HEAD , transforms . head ) ; 
 + for ( TransformType type : TransformType . values ( ) ) 
 + { 
 + map . put ( type , transforms . func _ 181688 _ b ( type ) ) ; 
 + } 
 return Maps . immutableEnumMap ( map ) ; 
 } 
 
 diff - - git a / src / main / java / net / minecraftforge / client / model / ItemLayerModel . java b / src / main / java / net / minecraftforge / client / model / ItemLayerModel . java 
 index 8930101 . . 396c4e6 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / ItemLayerModel . java 
 + + + b / src / main / java / net / minecraftforge / client / model / ItemLayerModel . java 
 @ @ - 3 , 7 + 3 , 6 @ @ package net . minecraftforge . client . model ; 
 import java . util . Arrays ; 
 import java . util . Collection ; 
 import java . util . List ; 
 - import java . util . Map ; 
 
 import javax . vecmath . Matrix4f ; 
 import javax . vecmath . Vector4f ; 
 diff - - git a / src / main / java / net / minecraftforge / client / model / ModelLoader . java b / src / main / java / net / minecraftforge / client / model / ModelLoader . java 
 index fda3968 . . 4e0fdef 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / ModelLoader . java 
 + + + b / src / main / java / net / minecraftforge / client / model / ModelLoader . java 
 @ @ - 38 , 6 + 38 , 7 @ @ import net . minecraft . client . renderer . vertex . DefaultVertexFormats ; 
 import net . minecraft . client . renderer . vertex . VertexFormat ; 
 import net . minecraft . client . resources . IResourceManager ; 
 import net . minecraft . client . resources . model . BuiltInModel ; 
 + import net . minecraft . client . resources . model . IBakedModel ; 
 import net . minecraft . client . resources . model . ModelBakery ; 
 import net . minecraft . client . resources . model . ModelResourceLocation ; 
 import net . minecraft . client . resources . model . ModelRotation ; 
 @ @ - 85 , 7 + 86 , 7 @ @ public class ModelLoader extends ModelBakery 
 } 
 
 @ Override 
 - public IRegistry setupModelRegistry ( ) 
 + public IRegistry < ModelResourceLocation , IBakedModel > setupModelRegistry ( ) 
 { 
 isLoading = true ; 
 loadBlocks ( ) ; 
 @ @ - 717 , 12 + 718 , 12 @ @ public class ModelLoader extends ModelBakery 
 } 
 } 
 
 - public void onPostBakeEvent ( IRegistry modelRegistry ) 
 + public void onPostBakeEvent ( IRegistry < ModelResourceLocation , IBakedModel > modelRegistry ) 
 { 
 - Object missingModel = modelRegistry . getObject ( MODEL _ MISSING ) ; 
 + IBakedModel missingModel = modelRegistry . getObject ( MODEL _ MISSING ) ; 
 for ( ModelResourceLocation missing : missingVariants ) 
 { 
 - Object model = modelRegistry . getObject ( missing ) ; 
 + IBakedModel model = modelRegistry . getObject ( missing ) ; 
 if ( model = = null | | model = = missingModel ) 
 { 
 FMLLog . severe ( " Model definition for location % s not found " , missing ) ; 
 diff - - git a / src / main / java / net / minecraftforge / client / model / b3d / B3DModel . java b / src / main / java / net / minecraftforge / client / model / b3d / B3DModel . java 
 index c9b889a . . 60af648 100644 
 - - - a / src / main / java / net / minecraftforge / client / model / b3d / B3DModel . java 
 + + + b / src / main / java / net / minecraftforge / client / model / b3d / B3DModel . java 
 @ @ - 185 , 12 + 185 , 12 @ @ public class B3DModel 
 { 
 chunk ( " BB3D " ) ; 
 int version = buf . getInt ( ) ; 
 - if ( version / 100 > this . version / 100 ) 
 + if ( version / 100 > Parser . version / 100 ) 
 throw new IOException ( " Unsupported major model version : " + ( ( float ) version / 100 ) ) ; 
 - if ( version % 100 > this . version % 100 ) 
 + if ( version % 100 > Parser . version % 100 ) 
 logger . warn ( String . format ( " Minor version differnce in model : " , ( ( float ) version / 100 ) ) ) ; 
 - List < Texture > textures = Collections . EMPTY _ LIST ; 
 - List < Brush > brushes = Collections . EMPTY _ LIST ; 
 + List < Texture > textures = Collections . emptyList ( ) ; 
 + List < Brush > brushes = Collections . emptyList ( ) ; 
 Node < ? > root = null ; 
 while ( buf . hasRemaining ( ) ) 
 { 
 @ @ - 400 , 7 + 400 , 6 @ @ public class B3DModel 
 chunk ( " NODE " ) ; 
 animations . push ( HashBasedTable . < Integer , Optional < Node < ? > > , Key > create ( ) ) ; 
 Triple < Integer , Integer , Float > animData = null ; 
 - Animation animation = null ; 
 Pair < Brush , List < Face > > mesh = null ; 
 List < Pair < Vertex , Float > > bone = null ; 
 Map < Integer , Key > keys = new HashMap < Integer , Key > ( ) ;
