BLEU SCORE: 0.01811080099375393

TEST MSG: Patch PotionHelper to use registry delegates
GENERATED MSG: Add Item . canDestroyBlocksInCreative ( ) allowing more items to not break blocks in creative

TEST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / potion / PotionBrewing . java . patch b / patches / minecraft / net / minecraft / potion / PotionBrewing . java . patch <nl> new file mode 100644 <nl> index 0000000 . . d6a273a <nl> - - - / dev / null <nl> + + + b / patches / minecraft / net / minecraft / potion / PotionBrewing . java . patch <nl> @ @ - 0 , 0 + 1 , 65 @ @ <nl> + - - - a / net / minecraft / potion / PotionBrewing . java <nl> + + + + b / net / minecraft / potion / PotionBrewing . java <nl> + @ @ - 67 , 7 + 67 , 7 @ @ <nl> + <nl> + for ( int j = field _ 185214 _ b . size ( ) ; i < j ; + + i ) { <nl> + PotionBrewing . MixPredicate < Item > mixpredicate = field _ 185214 _ b . get ( i ) ; <nl> + - if ( mixpredicate . field _ 185198 _ a = = item & & mixpredicate . field _ 185199 _ b . test ( p _ 185206 _ 1 _ ) ) { <nl> + + if ( mixpredicate . field _ 185198 _ a . get ( ) = = item & & mixpredicate . field _ 185199 _ b . test ( p _ 185206 _ 1 _ ) ) { <nl> + return true ; <nl> + } <nl> + } <nl> + @ @ - 81 , 7 + 81 , 7 @ @ <nl> + <nl> + for ( int j = field _ 185213 _ a . size ( ) ; i < j ; + + i ) { <nl> + PotionBrewing . MixPredicate < PotionType > mixpredicate = field _ 185213 _ a . get ( i ) ; <nl> + - if ( mixpredicate . field _ 185198 _ a = = potiontype & & mixpredicate . field _ 185199 _ b . test ( p _ 185209 _ 1 _ ) ) { <nl> + + if ( mixpredicate . field _ 185198 _ a . get ( ) = = potiontype & & mixpredicate . field _ 185199 _ b . test ( p _ 185209 _ 1 _ ) ) { <nl> + return true ; <nl> + } <nl> + } <nl> + @ @ - 97 , 8 + 97 , 8 @ @ <nl> + <nl> + for ( int j = field _ 185214 _ b . size ( ) ; i < j ; + + i ) { <nl> + PotionBrewing . MixPredicate < Item > mixpredicate = field _ 185214 _ b . get ( i ) ; <nl> + - if ( mixpredicate . field _ 185198 _ a = = item & & mixpredicate . field _ 185199 _ b . test ( p _ 185212 _ 0 _ ) ) { <nl> + - return PotionUtils . func _ 185188 _ a ( new ItemStack ( ( IItemProvider ) mixpredicate . field _ 185200 _ c ) , potiontype ) ; <nl> + + if ( mixpredicate . field _ 185198 _ a . get ( ) = = item & & mixpredicate . field _ 185199 _ b . test ( p _ 185212 _ 0 _ ) ) { <nl> + + return PotionUtils . func _ 185188 _ a ( new ItemStack ( ( IItemProvider ) mixpredicate . field _ 185200 _ c . get ( ) ) , potiontype ) ; <nl> + } <nl> + } <nl> + <nl> + @ @ - 106 , 8 + 106 , 8 @ @ <nl> + <nl> + for ( int k = field _ 185213 _ a . size ( ) ; i < k ; + + i ) { <nl> + PotionBrewing . MixPredicate < PotionType > mixpredicate1 = field _ 185213 _ a . get ( i ) ; <nl> + - if ( mixpredicate1 . field _ 185198 _ a = = potiontype & & mixpredicate1 . field _ 185199 _ b . test ( p _ 185212 _ 0 _ ) ) { <nl> + - return PotionUtils . func _ 185188 _ a ( new ItemStack ( item ) , ( PotionType ) mixpredicate1 . field _ 185200 _ c ) ; <nl> + + if ( mixpredicate1 . field _ 185198 _ a . get ( ) = = potiontype & & mixpredicate1 . field _ 185199 _ b . test ( p _ 185212 _ 0 _ ) ) { <nl> + + return PotionUtils . func _ 185188 _ a ( new ItemStack ( item ) , ( PotionType ) mixpredicate1 . field _ 185200 _ c . get ( ) ) ; <nl> + } <nl> + } <nl> + } <nl> + @ @ - 200 , 15 + 200 , 15 @ @ <nl> + field _ 185213 _ a . add ( new PotionBrewing . MixPredicate < PotionType > ( p _ 193357 _ 0 _ , Ingredient . func _ 199804 _ a ( p _ 193357 _ 1 _ ) , p _ 193357 _ 2 _ ) ) ; <nl> + } <nl> + <nl> + - static class MixPredicate < T > { <nl> + - private final T field _ 185198 _ a ; <nl> + + static class MixPredicate < T extends net . minecraftforge . registries . ForgeRegistryEntry < T > > { <nl> + + private final net . minecraftforge . registries . IRegistryDelegate < T > field _ 185198 _ a ; <nl> + private final Ingredient field _ 185199 _ b ; <nl> + - private final T field _ 185200 _ c ; <nl> + + private final net . minecraftforge . registries . IRegistryDelegate < T > field _ 185200 _ c ; <nl> + <nl> + - public MixPredicate ( T p _ i47570 _ 1 _ , Ingredient p _ i47570 _ 2 _ , T p _ i47570 _ 3 _ ) { <nl> + - this . field _ 185198 _ a = p _ i47570 _ 1 _ ; <nl> + - this . field _ 185199 _ b = p _ i47570 _ 2 _ ; <nl> + - this . field _ 185200 _ c = p _ i47570 _ 3 _ ; <nl> + + public MixPredicate ( T inputIn , Ingredient reagentIn , T outputIn ) { <nl> + + this . field _ 185198 _ a = inputIn . delegate ; <nl> + + this . field _ 185199 _ b = reagentIn ; <nl> + + this . field _ 185200 _ c = outputIn . delegate ; <nl> + } <nl> + } <nl> + } <nl> diff - - git a / src / main / resources / META - INF / accesstransformer . cfg b / src / main / resources / META - INF / accesstransformer . cfg <nl> index 1ff956e . . 1c2a85b 100644 <nl> - - - a / src / main / resources / META - INF / accesstransformer . cfg <nl> + + + b / src / main / resources / META - INF / accesstransformer . cfg <nl> @ @ - 316 , 7 + 316 , 6 @ @ protected net . minecraft . client . gui . GuiOverlayDebug field _ 211537 _ g # rayTraceBloc <nl> protected net . minecraft . client . gui . GuiOverlayDebug field _ 211538 _ h # rayTraceFluid <nl> <nl> # Expose vanilla brewing recipe system <nl> - public net . minecraft . potion . PotionHelper $ MixPredicate <nl> public net . minecraft . potion . PotionHelper func _ 193355 _ a ( Lnet / minecraft / item / ItemPotion ; Lnet / minecraft / item / Item ; Lnet / minecraft / item / ItemPotion ; ) V # registerPotionItemConversion <nl> public net . minecraft . potion . PotionHelper func _ 193354 _ a ( Lnet / minecraft / item / ItemPotion ; ) V # registerPotionItem <nl> public net . minecraft . potion . PotionHelper func _ 193357 _ a ( Lnet / minecraft / potion / PotionType ; Lnet / minecraft / item / Item ; Lnet / minecraft / potion / PotionType ; ) V # registerPotionTypeConversion <nl> diff - - git a / src / test / java / net / minecraftforge / debug / mod / RegistryOverrideTest . java b / src / test / java / net / minecraftforge / debug / mod / RegistryOverrideTest . java <nl> index 3cb4256 . . 3a4d793 100644 <nl> - - - a / src / test / java / net / minecraftforge / debug / mod / RegistryOverrideTest . java <nl> + + + b / src / test / java / net / minecraftforge / debug / mod / RegistryOverrideTest . java <nl> @ @ - 66 , 6 + 66 , 15 @ @ public class RegistryOverrideTest <nl> ) ; <nl> } <nl> <nl> + 	 	 @ SubscribeEvent <nl> + public static void registerPotionTypes ( RegistryEvent . Register < PotionType > event ) <nl> + { <nl> + if ( ENABLED ) <nl> + { <nl> + event . getRegistry ( ) . register ( new PotionType ( ) . setRegistryName ( " minecraft : awkward " ) ) ; <nl> + } <nl> + } <nl> + <nl> private static class BlockReplacement extends Block <nl> { <nl> AxisAlignedBB BB = FULL _ BLOCK _ AABB . contract ( 0 . 1 , 0 , 0 . 1 ) ;
NEAREST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch b / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch <nl> index fdaf7f6 . . b3c2fcc 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch <nl> @ @ - 1 , 18 + 1 , 23 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java <nl> + + + . . / src - work / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java <nl> - @ @ - 122 , 6 + 122 , 12 @ @ <nl> + @ @ - 122 , 10 + 122 , 16 @ @ <nl> } <nl> } <nl> <nl> + - if ( this . field _ 78779 _ k . func _ 77145 _ d ( ) & & ! this . field _ 78776 _ a . field _ 71439 _ g . func _ 184614 _ ca ( ) . func _ 190926 _ b ( ) & & this . field _ 78776 _ a . field _ 71439 _ g . func _ 184614 _ ca ( ) . func _ 77973 _ b ( ) instanceof ItemSword ) <nl> + ItemStack stack = field _ 78776 _ a . field _ 71439 _ g . func _ 184614 _ ca ( ) ; <nl> + if ( ! stack . func _ 190926 _ b ( ) & & stack . func _ 77973 _ b ( ) . onBlockStartBreak ( stack , p _ 187103 _ 1 _ , field _ 78776 _ a . field _ 71439 _ g ) ) <nl> + { <nl> + return false ; <nl> + } <nl> + + <nl> + + if ( this . field _ 78779 _ k . func _ 77145 _ d ( ) & & ! stack . func _ 190926 _ b ( ) & & ! stack . func _ 77973 _ b ( ) . canDestroyBlockInCreative ( field _ 78776 _ a . field _ 71441 _ e , p _ 187103 _ 1 _ , stack , field _ 78776 _ a . field _ 71439 _ g ) ) <nl> + { <nl> + return false ; <nl> + } <nl> - + <nl> - if ( this . field _ 78779 _ k . func _ 77145 _ d ( ) & & ! this . field _ 78776 _ a . field _ 71439 _ g . func _ 184614 _ ca ( ) . func _ 190926 _ b ( ) & & this . field _ 78776 _ a . field _ 71439 _ g . func _ 184614 _ ca ( ) . func _ 77973 _ b ( ) instanceof ItemSword ) <nl> + else <nl> { <nl> - return false ; <nl> + World world = this . field _ 78776 _ a . field _ 71441 _ e ; <nl> @ @ - 143 , 19 + 149 , 13 @ @ <nl> else <nl> { <nl> diff - - git a / patches / minecraft / net / minecraft / item / Item . java . patch b / patches / minecraft / net / minecraft / item / Item . java . patch <nl> index 8825417 . . b664132 100644 <nl> - - - a / patches / minecraft / net / minecraft / item / Item . java . patch <nl> + + + b / patches / minecraft / net / minecraft / item / Item . java . patch <nl> @ @ - 60 , 7 + 60 , 7 @ @ <nl> return p _ 77621 _ 1 _ . func _ 147447 _ a ( vec3d , vec3d1 , p _ 77621 _ 3 _ , ! p _ 77621 _ 3 _ , false ) ; <nl> } <nl> <nl> - @ @ - 433 , 11 + 440 , 613 @ @ <nl> + @ @ - 433 , 11 + 440 , 625 @ @ <nl> return false ; <nl> } <nl> <nl> @ @ - 510 , 6 + 510 , 18 @ @ <nl> + } <nl> + <nl> + / * * <nl> + + * Checked from { @ link net . minecraft . client . multiplayer . PlayerControllerMP # onPlayerDestroyBlock ( BlockPos pos ) PlayerControllerMP . onPlayerDestroyBlock ( ) } <nl> + + * when a creative player left - clicks a block with this item . <nl> + + * Also checked from { @ link net . minecraftforge . common . ForgeHooks # onBlockBreakEvent ( World , GameType , EntityPlayerMP , BlockPos ) ForgeHooks . onBlockBreakEvent ( ) } <nl> + + * to prevent sending an event . <nl> + + * @ return true if the given player can destroy specified block in creative mode with this item <nl> + + * / <nl> + + public boolean canDestroyBlockInCreative ( World world , BlockPos pos , ItemStack stack , EntityPlayer player ) <nl> + + { <nl> + + return ! ( this instanceof ItemSword ) ; <nl> + + } <nl> + + <nl> + + / * * <nl> + * ItemStack sensitive version of { @ link # canHarvestBlock ( IBlockState ) } <nl> + * @ param state The block trying to harvest <nl> + * @ param stack The itemstack used to harvest the block <nl> @ @ - 674 , 7 + 686 , 7 @ @ <nl> public static void func _ 150900 _ l ( ) <nl> { <nl> func _ 179214 _ a ( Blocks . field _ 150350 _ a , new ItemAir ( Blocks . field _ 150350 _ a ) ) ; <nl> - @ @ - 972 , 6 + 1581 , 8 @ @ <nl> + @ @ - 972 , 6 + 1593 , 8 @ @ <nl> private final float field _ 78010 _ h ; <nl> private final float field _ 78011 _ i ; <nl> private final int field _ 78008 _ j ; <nl> @ @ - 683 , 7 + 695 , 7 @ @ <nl> <nl> private ToolMaterial ( int p _ i1874 _ 3 _ , int p _ i1874 _ 4 _ , float p _ i1874 _ 5 _ , float p _ i1874 _ 6 _ , int p _ i1874 _ 7 _ ) <nl> { <nl> - @ @ - 1007 , 9 + 1618 , 26 @ @ <nl> + @ @ - 1007 , 9 + 1630 , 26 @ @ <nl> return this . field _ 78008 _ j ; <nl> } <nl> <nl> diff - - git a / src / main / java / net / minecraftforge / common / ForgeHooks . java b / src / main / java / net / minecraftforge / common / ForgeHooks . java <nl> index 809aa56 . . 6cf756a 100644 <nl> - - - a / src / main / java / net / minecraftforge / common / ForgeHooks . java <nl> + + + b / src / main / java / net / minecraftforge / common / ForgeHooks . java <nl> @ @ - 63 , 7 + 63 , 6 @ @ import net . minecraft . item . ItemBucket ; <nl> import net . minecraft . item . ItemPickaxe ; <nl> import net . minecraft . item . ItemSpade ; <nl> import net . minecraft . item . ItemStack ; <nl> - import net . minecraft . item . ItemSword ; <nl> import net . minecraft . nbt . NBTTagCompound ; <nl> import net . minecraft . network . NetHandlerPlayServer ; <nl> import net . minecraft . network . Packet ; <nl> @ @ - 754 , 7 + 753 , 9 @ @ public class ForgeHooks <nl> { <nl> / / Logic from tryHarvestBlock for pre - canceling the event <nl> boolean preCancelEvent = false ; <nl> - if ( gameType . isCreative ( ) & & ! entityPlayer . getHeldItemMainhand ( ) . isEmpty ( ) & & entityPlayer . getHeldItemMainhand ( ) . getItem ( ) instanceof ItemSword ) <nl> + ItemStack itemstack = entityPlayer . getHeldItemMainhand ( ) ; <nl> + if ( gameType . isCreative ( ) & & ! itemstack . isEmpty ( ) <nl> + & & ! itemstack . getItem ( ) . canDestroyBlockInCreative ( world , pos , itemstack , entityPlayer ) ) <nl> preCancelEvent = true ; <nl> <nl> if ( gameType . isAdventure ( ) ) <nl> @ @ - 764 , 7 + 765 , 6 @ @ public class ForgeHooks <nl> <nl> if ( ! entityPlayer . isAllowEdit ( ) ) <nl> { <nl> - ItemStack itemstack = entityPlayer . getHeldItemMainhand ( ) ; <nl> if ( itemstack . isEmpty ( ) | | ! itemstack . canDestroy ( world . getBlockState ( pos ) . getBlock ( ) ) ) <nl> preCancelEvent = true ; <nl> } <nl> diff - - git a / src / test / java / net / minecraftforge / test / ItemCanDestroyBlocksInCreativeTest . java b / src / test / java / net / minecraftforge / test / ItemCanDestroyBlocksInCreativeTest . java <nl> new file mode 100644 <nl> index 0000000 . . 31ea992 <nl> - - - / dev / null <nl> + + + b / src / test / java / net / minecraftforge / test / ItemCanDestroyBlocksInCreativeTest . java <nl> @ @ - 0 , 0 + 1 , 36 @ @ <nl> + package net . minecraftforge . test ; <nl> + <nl> + import net . minecraft . creativetab . CreativeTabs ; <nl> + import net . minecraft . entity . player . EntityPlayer ; <nl> + import net . minecraft . item . Item ; <nl> + import net . minecraft . item . ItemStack ; <nl> + import net . minecraft . util . math . BlockPos ; <nl> + import net . minecraft . world . World ; <nl> + import net . minecraftforge . fml . common . Mod ; <nl> + import net . minecraftforge . fml . common . event . FMLInitializationEvent ; <nl> + import net . minecraftforge . fml . common . registry . GameRegistry ; <nl> + <nl> + @ Mod ( modid = ItemCanDestroyBlocksInCreativeTest . MODID , name = " Item . canDestroyBlockInCreative ( ) Test " , version = " 1 . 0 " , acceptableRemoteVersions = " * " ) <nl> + public class ItemCanDestroyBlocksInCreativeTest <nl> + { <nl> + public static final boolean ENABLE = true ; <nl> + public static final String MODID = " item _ can _ destroy _ blocks _ in _ creative _ test " ; <nl> + <nl> + public static Item testItem = new Item ( ) <nl> + { <nl> + @ Override <nl> + public boolean canDestroyBlockInCreative ( World world , BlockPos pos , ItemStack stack , EntityPlayer player ) <nl> + { <nl> + return false ; <nl> + } <nl> + } . setRegistryName ( MODID , " item _ test " ) <nl> + . setUnlocalizedName ( MODID + " . item _ test " ) <nl> + . setCreativeTab ( CreativeTabs . TOOLS ) ; <nl> + <nl> + @ Mod . EventHandler <nl> + public static void init ( FMLInitializationEvent event ) <nl> + { <nl> + if ( ENABLE ) <nl> + GameRegistry . register ( testItem ) ; <nl> + } <nl> + } <nl> \ No newline at end of file

TEST DIFF:
diff - - git a / patches / minecraft / net / minecraft / potion / PotionBrewing . java . patch b / patches / minecraft / net / minecraft / potion / PotionBrewing . java . patch 
 new file mode 100644 
 index 0000000 . . d6a273a 
 - - - / dev / null 
 + + + b / patches / minecraft / net / minecraft / potion / PotionBrewing . java . patch 
 @ @ - 0 , 0 + 1 , 65 @ @ 
 + - - - a / net / minecraft / potion / PotionBrewing . java 
 + + + + b / net / minecraft / potion / PotionBrewing . java 
 + @ @ - 67 , 7 + 67 , 7 @ @ 
 + 
 + for ( int j = field _ 185214 _ b . size ( ) ; i < j ; + + i ) { 
 + PotionBrewing . MixPredicate < Item > mixpredicate = field _ 185214 _ b . get ( i ) ; 
 + - if ( mixpredicate . field _ 185198 _ a = = item & & mixpredicate . field _ 185199 _ b . test ( p _ 185206 _ 1 _ ) ) { 
 + + if ( mixpredicate . field _ 185198 _ a . get ( ) = = item & & mixpredicate . field _ 185199 _ b . test ( p _ 185206 _ 1 _ ) ) { 
 + return true ; 
 + } 
 + } 
 + @ @ - 81 , 7 + 81 , 7 @ @ 
 + 
 + for ( int j = field _ 185213 _ a . size ( ) ; i < j ; + + i ) { 
 + PotionBrewing . MixPredicate < PotionType > mixpredicate = field _ 185213 _ a . get ( i ) ; 
 + - if ( mixpredicate . field _ 185198 _ a = = potiontype & & mixpredicate . field _ 185199 _ b . test ( p _ 185209 _ 1 _ ) ) { 
 + + if ( mixpredicate . field _ 185198 _ a . get ( ) = = potiontype & & mixpredicate . field _ 185199 _ b . test ( p _ 185209 _ 1 _ ) ) { 
 + return true ; 
 + } 
 + } 
 + @ @ - 97 , 8 + 97 , 8 @ @ 
 + 
 + for ( int j = field _ 185214 _ b . size ( ) ; i < j ; + + i ) { 
 + PotionBrewing . MixPredicate < Item > mixpredicate = field _ 185214 _ b . get ( i ) ; 
 + - if ( mixpredicate . field _ 185198 _ a = = item & & mixpredicate . field _ 185199 _ b . test ( p _ 185212 _ 0 _ ) ) { 
 + - return PotionUtils . func _ 185188 _ a ( new ItemStack ( ( IItemProvider ) mixpredicate . field _ 185200 _ c ) , potiontype ) ; 
 + + if ( mixpredicate . field _ 185198 _ a . get ( ) = = item & & mixpredicate . field _ 185199 _ b . test ( p _ 185212 _ 0 _ ) ) { 
 + + return PotionUtils . func _ 185188 _ a ( new ItemStack ( ( IItemProvider ) mixpredicate . field _ 185200 _ c . get ( ) ) , potiontype ) ; 
 + } 
 + } 
 + 
 + @ @ - 106 , 8 + 106 , 8 @ @ 
 + 
 + for ( int k = field _ 185213 _ a . size ( ) ; i < k ; + + i ) { 
 + PotionBrewing . MixPredicate < PotionType > mixpredicate1 = field _ 185213 _ a . get ( i ) ; 
 + - if ( mixpredicate1 . field _ 185198 _ a = = potiontype & & mixpredicate1 . field _ 185199 _ b . test ( p _ 185212 _ 0 _ ) ) { 
 + - return PotionUtils . func _ 185188 _ a ( new ItemStack ( item ) , ( PotionType ) mixpredicate1 . field _ 185200 _ c ) ; 
 + + if ( mixpredicate1 . field _ 185198 _ a . get ( ) = = potiontype & & mixpredicate1 . field _ 185199 _ b . test ( p _ 185212 _ 0 _ ) ) { 
 + + return PotionUtils . func _ 185188 _ a ( new ItemStack ( item ) , ( PotionType ) mixpredicate1 . field _ 185200 _ c . get ( ) ) ; 
 + } 
 + } 
 + } 
 + @ @ - 200 , 15 + 200 , 15 @ @ 
 + field _ 185213 _ a . add ( new PotionBrewing . MixPredicate < PotionType > ( p _ 193357 _ 0 _ , Ingredient . func _ 199804 _ a ( p _ 193357 _ 1 _ ) , p _ 193357 _ 2 _ ) ) ; 
 + } 
 + 
 + - static class MixPredicate < T > { 
 + - private final T field _ 185198 _ a ; 
 + + static class MixPredicate < T extends net . minecraftforge . registries . ForgeRegistryEntry < T > > { 
 + + private final net . minecraftforge . registries . IRegistryDelegate < T > field _ 185198 _ a ; 
 + private final Ingredient field _ 185199 _ b ; 
 + - private final T field _ 185200 _ c ; 
 + + private final net . minecraftforge . registries . IRegistryDelegate < T > field _ 185200 _ c ; 
 + 
 + - public MixPredicate ( T p _ i47570 _ 1 _ , Ingredient p _ i47570 _ 2 _ , T p _ i47570 _ 3 _ ) { 
 + - this . field _ 185198 _ a = p _ i47570 _ 1 _ ; 
 + - this . field _ 185199 _ b = p _ i47570 _ 2 _ ; 
 + - this . field _ 185200 _ c = p _ i47570 _ 3 _ ; 
 + + public MixPredicate ( T inputIn , Ingredient reagentIn , T outputIn ) { 
 + + this . field _ 185198 _ a = inputIn . delegate ; 
 + + this . field _ 185199 _ b = reagentIn ; 
 + + this . field _ 185200 _ c = outputIn . delegate ; 
 + } 
 + } 
 + } 
 diff - - git a / src / main / resources / META - INF / accesstransformer . cfg b / src / main / resources / META - INF / accesstransformer . cfg 
 index 1ff956e . . 1c2a85b 100644 
 - - - a / src / main / resources / META - INF / accesstransformer . cfg 
 + + + b / src / main / resources / META - INF / accesstransformer . cfg 
 @ @ - 316 , 7 + 316 , 6 @ @ protected net . minecraft . client . gui . GuiOverlayDebug field _ 211537 _ g # rayTraceBloc 
 protected net . minecraft . client . gui . GuiOverlayDebug field _ 211538 _ h # rayTraceFluid 
 
 # Expose vanilla brewing recipe system 
 - public net . minecraft . potion . PotionHelper $ MixPredicate 
 public net . minecraft . potion . PotionHelper func _ 193355 _ a ( Lnet / minecraft / item / ItemPotion ; Lnet / minecraft / item / Item ; Lnet / minecraft / item / ItemPotion ; ) V # registerPotionItemConversion 
 public net . minecraft . potion . PotionHelper func _ 193354 _ a ( Lnet / minecraft / item / ItemPotion ; ) V # registerPotionItem 
 public net . minecraft . potion . PotionHelper func _ 193357 _ a ( Lnet / minecraft / potion / PotionType ; Lnet / minecraft / item / Item ; Lnet / minecraft / potion / PotionType ; ) V # registerPotionTypeConversion 
 diff - - git a / src / test / java / net / minecraftforge / debug / mod / RegistryOverrideTest . java b / src / test / java / net / minecraftforge / debug / mod / RegistryOverrideTest . java 
 index 3cb4256 . . 3a4d793 100644 
 - - - a / src / test / java / net / minecraftforge / debug / mod / RegistryOverrideTest . java 
 + + + b / src / test / java / net / minecraftforge / debug / mod / RegistryOverrideTest . java 
 @ @ - 66 , 6 + 66 , 15 @ @ public class RegistryOverrideTest 
 ) ; 
 } 
 
 + 	 	 @ SubscribeEvent 
 + public static void registerPotionTypes ( RegistryEvent . Register < PotionType > event ) 
 + { 
 + if ( ENABLED ) 
 + { 
 + event . getRegistry ( ) . register ( new PotionType ( ) . setRegistryName ( " minecraft : awkward " ) ) ; 
 + } 
 + } 
 + 
 private static class BlockReplacement extends Block 
 { 
 AxisAlignedBB BB = FULL _ BLOCK _ AABB . contract ( 0 . 1 , 0 , 0 . 1 ) ;

NEAREST DIFF:
diff - - git a / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch b / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch 
 index fdaf7f6 . . b3c2fcc 100644 
 - - - a / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java . patch 
 @ @ - 1 , 18 + 1 , 23 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java 
 + + + . . / src - work / minecraft / net / minecraft / client / multiplayer / PlayerControllerMP . java 
 - @ @ - 122 , 6 + 122 , 12 @ @ 
 + @ @ - 122 , 10 + 122 , 16 @ @ 
 } 
 } 
 
 + - if ( this . field _ 78779 _ k . func _ 77145 _ d ( ) & & ! this . field _ 78776 _ a . field _ 71439 _ g . func _ 184614 _ ca ( ) . func _ 190926 _ b ( ) & & this . field _ 78776 _ a . field _ 71439 _ g . func _ 184614 _ ca ( ) . func _ 77973 _ b ( ) instanceof ItemSword ) 
 + ItemStack stack = field _ 78776 _ a . field _ 71439 _ g . func _ 184614 _ ca ( ) ; 
 + if ( ! stack . func _ 190926 _ b ( ) & & stack . func _ 77973 _ b ( ) . onBlockStartBreak ( stack , p _ 187103 _ 1 _ , field _ 78776 _ a . field _ 71439 _ g ) ) 
 + { 
 + return false ; 
 + } 
 + + 
 + + if ( this . field _ 78779 _ k . func _ 77145 _ d ( ) & & ! stack . func _ 190926 _ b ( ) & & ! stack . func _ 77973 _ b ( ) . canDestroyBlockInCreative ( field _ 78776 _ a . field _ 71441 _ e , p _ 187103 _ 1 _ , stack , field _ 78776 _ a . field _ 71439 _ g ) ) 
 + { 
 + return false ; 
 + } 
 - + 
 - if ( this . field _ 78779 _ k . func _ 77145 _ d ( ) & & ! this . field _ 78776 _ a . field _ 71439 _ g . func _ 184614 _ ca ( ) . func _ 190926 _ b ( ) & & this . field _ 78776 _ a . field _ 71439 _ g . func _ 184614 _ ca ( ) . func _ 77973 _ b ( ) instanceof ItemSword ) 
 + else 
 { 
 - return false ; 
 + World world = this . field _ 78776 _ a . field _ 71441 _ e ; 
 @ @ - 143 , 19 + 149 , 13 @ @ 
 else 
 { 
 diff - - git a / patches / minecraft / net / minecraft / item / Item . java . patch b / patches / minecraft / net / minecraft / item / Item . java . patch 
 index 8825417 . . b664132 100644 
 - - - a / patches / minecraft / net / minecraft / item / Item . java . patch 
 + + + b / patches / minecraft / net / minecraft / item / Item . java . patch 
 @ @ - 60 , 7 + 60 , 7 @ @ 
 return p _ 77621 _ 1 _ . func _ 147447 _ a ( vec3d , vec3d1 , p _ 77621 _ 3 _ , ! p _ 77621 _ 3 _ , false ) ; 
 } 
 
 - @ @ - 433 , 11 + 440 , 613 @ @ 
 + @ @ - 433 , 11 + 440 , 625 @ @ 
 return false ; 
 } 
 
 @ @ - 510 , 6 + 510 , 18 @ @ 
 + } 
 + 
 + / * * 
 + + * Checked from { @ link net . minecraft . client . multiplayer . PlayerControllerMP # onPlayerDestroyBlock ( BlockPos pos ) PlayerControllerMP . onPlayerDestroyBlock ( ) } 
 + + * when a creative player left - clicks a block with this item . 
 + + * Also checked from { @ link net . minecraftforge . common . ForgeHooks # onBlockBreakEvent ( World , GameType , EntityPlayerMP , BlockPos ) ForgeHooks . onBlockBreakEvent ( ) } 
 + + * to prevent sending an event . 
 + + * @ return true if the given player can destroy specified block in creative mode with this item 
 + + * / 
 + + public boolean canDestroyBlockInCreative ( World world , BlockPos pos , ItemStack stack , EntityPlayer player ) 
 + + { 
 + + return ! ( this instanceof ItemSword ) ; 
 + + } 
 + + 
 + + / * * 
 + * ItemStack sensitive version of { @ link # canHarvestBlock ( IBlockState ) } 
 + * @ param state The block trying to harvest 
 + * @ param stack The itemstack used to harvest the block 
 @ @ - 674 , 7 + 686 , 7 @ @ 
 public static void func _ 150900 _ l ( ) 
 { 
 func _ 179214 _ a ( Blocks . field _ 150350 _ a , new ItemAir ( Blocks . field _ 150350 _ a ) ) ; 
 - @ @ - 972 , 6 + 1581 , 8 @ @ 
 + @ @ - 972 , 6 + 1593 , 8 @ @ 
 private final float field _ 78010 _ h ; 
 private final float field _ 78011 _ i ; 
 private final int field _ 78008 _ j ; 
 @ @ - 683 , 7 + 695 , 7 @ @ 
 
 private ToolMaterial ( int p _ i1874 _ 3 _ , int p _ i1874 _ 4 _ , float p _ i1874 _ 5 _ , float p _ i1874 _ 6 _ , int p _ i1874 _ 7 _ ) 
 { 
 - @ @ - 1007 , 9 + 1618 , 26 @ @ 
 + @ @ - 1007 , 9 + 1630 , 26 @ @ 
 return this . field _ 78008 _ j ; 
 } 
 
 diff - - git a / src / main / java / net / minecraftforge / common / ForgeHooks . java b / src / main / java / net / minecraftforge / common / ForgeHooks . java 
 index 809aa56 . . 6cf756a 100644 
 - - - a / src / main / java / net / minecraftforge / common / ForgeHooks . java 
 + + + b / src / main / java / net / minecraftforge / common / ForgeHooks . java 
 @ @ - 63 , 7 + 63 , 6 @ @ import net . minecraft . item . ItemBucket ; 
 import net . minecraft . item . ItemPickaxe ; 
 import net . minecraft . item . ItemSpade ; 
 import net . minecraft . item . ItemStack ; 
 - import net . minecraft . item . ItemSword ; 
 import net . minecraft . nbt . NBTTagCompound ; 
 import net . minecraft . network . NetHandlerPlayServer ; 
 import net . minecraft . network . Packet ; 
 @ @ - 754 , 7 + 753 , 9 @ @ public class ForgeHooks 
 { 
 / / Logic from tryHarvestBlock for pre - canceling the event 
 boolean preCancelEvent = false ; 
 - if ( gameType . isCreative ( ) & & ! entityPlayer . getHeldItemMainhand ( ) . isEmpty ( ) & & entityPlayer . getHeldItemMainhand ( ) . getItem ( ) instanceof ItemSword ) 
 + ItemStack itemstack = entityPlayer . getHeldItemMainhand ( ) ; 
 + if ( gameType . isCreative ( ) & & ! itemstack . isEmpty ( ) 
 + & & ! itemstack . getItem ( ) . canDestroyBlockInCreative ( world , pos , itemstack , entityPlayer ) ) 
 preCancelEvent = true ; 
 
 if ( gameType . isAdventure ( ) ) 
 @ @ - 764 , 7 + 765 , 6 @ @ public class ForgeHooks 
 
 if ( ! entityPlayer . isAllowEdit ( ) ) 
 { 
 - ItemStack itemstack = entityPlayer . getHeldItemMainhand ( ) ; 
 if ( itemstack . isEmpty ( ) | | ! itemstack . canDestroy ( world . getBlockState ( pos ) . getBlock ( ) ) ) 
 preCancelEvent = true ; 
 } 
 diff - - git a / src / test / java / net / minecraftforge / test / ItemCanDestroyBlocksInCreativeTest . java b / src / test / java / net / minecraftforge / test / ItemCanDestroyBlocksInCreativeTest . java 
 new file mode 100644 
 index 0000000 . . 31ea992 
 - - - / dev / null 
 + + + b / src / test / java / net / minecraftforge / test / ItemCanDestroyBlocksInCreativeTest . java 
 @ @ - 0 , 0 + 1 , 36 @ @ 
 + package net . minecraftforge . test ; 
 + 
 + import net . minecraft . creativetab . CreativeTabs ; 
 + import net . minecraft . entity . player . EntityPlayer ; 
 + import net . minecraft . item . Item ; 
 + import net . minecraft . item . ItemStack ; 
 + import net . minecraft . util . math . BlockPos ; 
 + import net . minecraft . world . World ; 
 + import net . minecraftforge . fml . common . Mod ; 
 + import net . minecraftforge . fml . common . event . FMLInitializationEvent ; 
 + import net . minecraftforge . fml . common . registry . GameRegistry ; 
 + 
 + @ Mod ( modid = ItemCanDestroyBlocksInCreativeTest . MODID , name = " Item . canDestroyBlockInCreative ( ) Test " , version = " 1 . 0 " , acceptableRemoteVersions = " * " ) 
 + public class ItemCanDestroyBlocksInCreativeTest 
 + { 
 + public static final boolean ENABLE = true ; 
 + public static final String MODID = " item _ can _ destroy _ blocks _ in _ creative _ test " ; 
 + 
 + public static Item testItem = new Item ( ) 
 + { 
 + @ Override 
 + public boolean canDestroyBlockInCreative ( World world , BlockPos pos , ItemStack stack , EntityPlayer player ) 
 + { 
 + return false ; 
 + } 
 + } . setRegistryName ( MODID , " item _ test " ) 
 + . setUnlocalizedName ( MODID + " . item _ test " ) 
 + . setCreativeTab ( CreativeTabs . TOOLS ) ; 
 + 
 + @ Mod . EventHandler 
 + public static void init ( FMLInitializationEvent event ) 
 + { 
 + if ( ENABLE ) 
 + GameRegistry . register ( testItem ) ; 
 + } 
 + } 
 \ No newline at end of file
