BLEU SCORE: 0.014199193612838947

TEST MSG: Make tooltips layout in the right direction , wrap if there is no room
GENERATED MSG: Move stuff around a bit - also tie range and enabled to options .

TEST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / client / gui / GuiScreen . java . patch b / patches / minecraft / net / minecraft / client / gui / GuiScreen . java . patch <nl> index 1a343c6 . . 1bc220d 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / gui / GuiScreen . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / gui / GuiScreen . java . patch <nl> @ @ - 10 , 37 + 10 , 22 @ @ <nl> } <nl> <nl> protected void func _ 146279 _ a ( String p _ 146279 _ 1 _ , int p _ 146279 _ 2 _ , int p _ 146279 _ 3 _ ) <nl> - @ @ - 153 , 6 + 154 , 11 @ @ <nl> + @ @ - 153 , 7 + 154 , 13 @ @ <nl> <nl> protected void func _ 146283 _ a ( List < String > p _ 146283 _ 1 _ , int p _ 146283 _ 2 _ , int p _ 146283 _ 3 _ ) <nl> { <nl> + - if ( ! p _ 146283 _ 1 _ . isEmpty ( ) ) <nl> + drawHoveringText ( p _ 146283 _ 1 _ , p _ 146283 _ 2 _ , p _ 146283 _ 3 _ , field _ 146289 _ q ) ; <nl> + } <nl> + <nl> + protected void drawHoveringText ( List < String > p _ 146283 _ 1 _ , int p _ 146283 _ 2 _ , int p _ 146283 _ 3 _ , FontRenderer font ) <nl> + { <nl> - if ( ! p _ 146283 _ 1 _ . isEmpty ( ) ) <nl> + + net . minecraftforge . fml . client . config . GuiUtils . drawHoveringText ( p _ 146283 _ 1 _ , p _ 146283 _ 2 _ , p _ 146283 _ 3 _ , field _ 146294 _ l , field _ 146295 _ m , - 1 , font ) ; <nl> + + if ( false & & ! p _ 146283 _ 1 _ . isEmpty ( ) ) <nl> { <nl> GlStateManager . func _ 179101 _ C ( ) ; <nl> - @ @ - 163 , 7 + 169 , 7 @ @ <nl> - <nl> - for ( String s : p _ 146283 _ 1 _ ) <nl> - { <nl> - - int j = this . field _ 146289 _ q . func _ 78256 _ a ( s ) ; <nl> - + int j = font . func _ 78256 _ a ( s ) ; <nl> - <nl> - if ( j > i ) <nl> - { <nl> - @ @ - 208 , 7 + 214 , 7 @ @ <nl> - for ( int k1 = 0 ; k1 < p _ 146283 _ 1 _ . size ( ) ; + + k1 ) <nl> - { <nl> - String s1 = ( String ) p _ 146283 _ 1 _ . get ( k1 ) ; <nl> - - this . field _ 146289 _ q . func _ 175063 _ a ( s1 , ( float ) l1 , ( float ) i2 , - 1 ) ; <nl> - + font . func _ 175063 _ a ( s1 , ( float ) l1 , ( float ) i2 , - 1 ) ; <nl> - <nl> - if ( k1 = = 0 ) <nl> - { <nl> - @ @ - 436 , 6 + 442 , 7 @ @ <nl> + RenderHelper . func _ 74518 _ a ( ) ; <nl> + @ @ - 436 , 6 + 443 , 7 @ @ <nl> { <nl> this . field _ 146297 _ k . field _ 71456 _ v . func _ 146158 _ b ( ) . func _ 146239 _ a ( p _ 175281 _ 1 _ ) ; <nl> } <nl> @ @ - 48 , 7 + 33 , 7 @ @ <nl> <nl> this . field _ 146297 _ k . field _ 71439 _ g . func _ 71165 _ d ( p _ 175281 _ 1 _ ) ; <nl> } <nl> - @ @ - 450 , 9 + 457 , 15 @ @ <nl> + @ @ - 450 , 9 + 458 , 15 @ @ <nl> <nl> if ( guibutton . func _ 146116 _ c ( this . field _ 146297 _ k , p _ 73864 _ 1 _ , p _ 73864 _ 2 _ ) ) <nl> { <nl> @ @ - 64 , 7 + 49 , 7 @ @ <nl> } <nl> } <nl> } <nl> - @ @ - 482 , 8 + 495 , 12 @ @ <nl> + @ @ - 482 , 8 + 496 , 12 @ @ <nl> this . field _ 146289 _ q = p _ 146280 _ 1 _ . field _ 71466 _ p ; <nl> this . field _ 146294 _ l = p _ 146280 _ 2 _ ; <nl> this . field _ 146295 _ m = p _ 146280 _ 3 _ ; <nl> @ @ - 77 , 7 + 62 , 7 @ @ <nl> } <nl> <nl> public void func _ 183500 _ a ( int p _ 183500 _ 1 _ , int p _ 183500 _ 2 _ ) <nl> - @ @ - 502 , 7 + 519 , 9 @ @ <nl> + @ @ - 502 , 7 + 520 , 9 @ @ <nl> { <nl> while ( Mouse . next ( ) ) <nl> { <nl> @ @ - 87 , 7 + 72 , 7 @ @ <nl> } <nl> } <nl> <nl> - @ @ - 510 , 7 + 529 , 9 @ @ <nl> + @ @ - 510 , 7 + 530 , 9 @ @ <nl> { <nl> while ( Keyboard . next ( ) ) <nl> { <nl> @ @ - 97 , 7 + 82 , 7 @ @ <nl> } <nl> } <nl> } <nl> - @ @ - 570 , 6 + 591 , 7 @ @ <nl> + @ @ - 570 , 6 + 592 , 7 @ @ <nl> public void func _ 146276 _ q _ ( ) <nl> { <nl> this . func _ 146270 _ b ( 0 ) ; <nl> diff - - git a / src / main / java / net / minecraftforge / fml / client / config / GuiConfig . java b / src / main / java / net / minecraftforge / fml / client / config / GuiConfig . java <nl> index 7b10713 . . 9490847 100644 <nl> - - - a / src / main / java / net / minecraftforge / fml / client / config / GuiConfig . java <nl> + + + b / src / main / java / net / minecraftforge / fml / client / config / GuiConfig . java <nl> @ @ - 17 , 6 + 17 , 7 @ @ import static net . minecraftforge . fml . client . config . GuiUtils . UNDO _ CHAR ; <nl> <nl> import java . io . IOException ; <nl> import java . util . ArrayList ; <nl> + import java . util . Arrays ; <nl> import java . util . List ; <nl> <nl> import net . minecraft . client . Minecraft ; <nl> @ @ - 336 , 15 + 337 , 15 @ @ public class GuiConfig extends GuiScreen <nl> super . drawScreen ( mouseX , mouseY , partialTicks ) ; <nl> this . entryList . drawScreenPost ( mouseX , mouseY , partialTicks ) ; <nl> if ( this . undoHoverChecker . checkHover ( mouseX , mouseY ) ) <nl> - this . drawToolTip ( this . mc . fontRendererObj . listFormattedStringToWidth ( I18n . format ( " fml . configgui . tooltip . undoAll " ) , 300 ) , mouseX , mouseY ) ; <nl> + this . drawToolTip ( Arrays . asList ( I18n . format ( " fml . configgui . tooltip . undoAll " ) . split ( " \ n " ) ) , mouseX , mouseY ) ; <nl> if ( this . resetHoverChecker . checkHover ( mouseX , mouseY ) ) <nl> - this . drawToolTip ( this . mc . fontRendererObj . listFormattedStringToWidth ( I18n . format ( " fml . configgui . tooltip . resetAll " ) , 300 ) , mouseX , mouseY ) ; <nl> + this . drawToolTip ( Arrays . asList ( I18n . format ( " fml . configgui . tooltip . resetAll " ) . split ( " \ n " ) ) , mouseX , mouseY ) ; <nl> if ( this . checkBoxHoverChecker . checkHover ( mouseX , mouseY ) ) <nl> - this . drawToolTip ( this . mc . fontRendererObj . listFormattedStringToWidth ( I18n . format ( " fml . configgui . tooltip . applyGlobally " ) , 300 ) , mouseX , mouseY ) ; <nl> + this . drawToolTip ( Arrays . asList ( I18n . format ( " fml . configgui . tooltip . applyGlobally " ) . split ( " \ n " ) ) , mouseX , mouseY ) ; <nl> } <nl> <nl> public void drawToolTip ( List < String > stringList , int x , int y ) <nl> { <nl> - this . drawHoveringText ( stringList , x , y ) ; <nl> + GuiUtils . drawHoveringText ( stringList , x , y , width , height , 300 , fontRendererObj ) ; <nl> } <nl> } <nl> diff - - git a / src / main / java / net / minecraftforge / fml / client / config / GuiConfigEntries . java b / src / main / java / net / minecraftforge / fml / client / config / GuiConfigEntries . java <nl> index b7b5b22 . . a82923d 100644 <nl> - - - a / src / main / java / net / minecraftforge / fml / client / config / GuiConfigEntries . java <nl> + + + b / src / main / java / net / minecraftforge / fml / client / config / GuiConfigEntries . java <nl> @ @ - 16 , 6 + 16 , 7 @ @ import static net . minecraftforge . fml . client . config . GuiUtils . UNDO _ CHAR ; <nl> <nl> import java . util . ArrayList ; <nl> import java . util . Arrays ; <nl> + import java . util . Collections ; <nl> import java . util . List ; <nl> import java . util . Map ; <nl> import java . util . TreeMap ; <nl> @ @ - 1490 , 6 + 1491 , 7 @ @ public class GuiConfigEntries extends GuiListExtended <nl> this . defaultHoverChecker = new HoverChecker ( this . btnDefault , 800 ) ; <nl> this . undoToolTip = Arrays . asList ( new String [ ] { I18n . format ( " fml . configgui . tooltip . undoChanges " ) } ) ; <nl> this . defaultToolTip = Arrays . asList ( new String [ ] { I18n . format ( " fml . configgui . tooltip . resetToDefault " ) } ) ; <nl> + this . toolTip = new ArrayList < String > ( ) ; <nl> <nl> this . drawLabel = true ; <nl> <nl> @ @ - 1498 , 23 + 1500 , 19 @ @ public class GuiConfigEntries extends GuiListExtended <nl> comment = I18n . format ( configElement . getLanguageKey ( ) + " . tooltip " ) . replace ( " \ \ n " , " \ n " ) ; <nl> <nl> if ( ! comment . equals ( configElement . getLanguageKey ( ) + " . tooltip " ) ) <nl> - toolTip = new ArrayList < String > ( this . mc . fontRendererObj . listFormattedStringToWidth ( <nl> - EnumChatFormatting . GREEN + name + " \ n " + EnumChatFormatting . YELLOW + comment , 300 ) ) ; <nl> + Collections . addAll ( toolTip , ( EnumChatFormatting . GREEN + name + " \ n " + EnumChatFormatting . YELLOW + comment ) . split ( " \ n " ) ) ; <nl> else if ( configElement . getComment ( ) ! = null & & ! configElement . getComment ( ) . trim ( ) . isEmpty ( ) ) <nl> - toolTip = new ArrayList < String > ( this . mc . fontRendererObj . listFormattedStringToWidth ( <nl> - EnumChatFormatting . GREEN + name + " \ n " + EnumChatFormatting . YELLOW + configElement . getComment ( ) , 300 ) ) ; <nl> + Collections . addAll ( toolTip , ( EnumChatFormatting . GREEN + name + " \ n " + EnumChatFormatting . YELLOW + configElement . getComment ( ) ) . split ( " \ n " ) ) ; <nl> else <nl> - toolTip = new ArrayList < String > ( this . mc . fontRendererObj . listFormattedStringToWidth ( <nl> - EnumChatFormatting . GREEN + name + " \ n " + EnumChatFormatting . RED + " No tooltip defined . " , 300 ) ) ; <nl> + Collections . addAll ( toolTip , ( EnumChatFormatting . GREEN + name + " \ n " + EnumChatFormatting . RED + " No tooltip defined . " ) . split ( " \ n " ) ) ; <nl> <nl> if ( ( configElement . getType ( ) = = ConfigGuiType . INTEGER <nl> & & ( Integer . valueOf ( configElement . getMinValue ( ) . toString ( ) ) ! = Integer . MIN _ VALUE | | Integer . valueOf ( configElement . getMaxValue ( ) . toString ( ) ) ! = Integer . MAX _ VALUE ) ) <nl> | | ( configElement . getType ( ) = = ConfigGuiType . DOUBLE <nl> & & ( Double . valueOf ( configElement . getMinValue ( ) . toString ( ) ) ! = - Double . MAX _ VALUE | | Double . valueOf ( configElement . getMaxValue ( ) . toString ( ) ) ! = Double . MAX _ VALUE ) ) ) <nl> - toolTip . addAll ( this . mc . fontRendererObj . listFormattedStringToWidth ( <nl> - EnumChatFormatting . AQUA + I18n . format ( " fml . configgui . tooltip . defaultNumeric " , configElement . getMinValue ( ) , configElement . getMaxValue ( ) , configElement . getDefault ( ) ) , 300 ) ) ; <nl> + Collections . addAll ( toolTip , ( EnumChatFormatting . AQUA + I18n . format ( " fml . configgui . tooltip . defaultNumeric " , configElement . getMinValue ( ) , configElement . getMaxValue ( ) , configElement . getDefault ( ) ) ) . split ( " \ n " ) ) ; <nl> else if ( configElement . getType ( ) ! = ConfigGuiType . CONFIG _ CATEGORY ) <nl> - toolTip . addAll ( this . mc . fontRendererObj . listFormattedStringToWidth ( EnumChatFormatting . AQUA + I18n . format ( " fml . configgui . tooltip . default " , configElement . getDefault ( ) ) , 300 ) ) ; <nl> + Collections . addAll ( toolTip , ( EnumChatFormatting . AQUA + I18n . format ( " fml . configgui . tooltip . default " , configElement . getDefault ( ) ) ) . split ( " \ n " ) ) ; <nl> <nl> if ( configElement . requiresMcRestart ( ) | | owningScreen . allRequireMcRestart ) <nl> toolTip . add ( EnumChatFormatting . RED + " [ " + I18n . format ( " fml . configgui . gameRestartTitle " ) + " ] " ) ; <nl> diff - - git a / src / main / java / net / minecraftforge / fml / client / config / GuiEditArray . java b / src / main / java / net / minecraftforge / fml / client / config / GuiEditArray . java <nl> index 1202b7e . . faccb07 100644 <nl> - - - a / src / main / java / net / minecraftforge / fml / client / config / GuiEditArray . java <nl> + + + b / src / main / java / net / minecraftforge / fml / client / config / GuiEditArray . java <nl> @ @ - 15 , 6 + 15 , 7 @ @ package net . minecraftforge . fml . client . config ; <nl> import java . io . IOException ; <nl> import java . util . ArrayList ; <nl> import java . util . Arrays ; <nl> + import java . util . Collections ; <nl> import java . util . List ; <nl> <nl> import net . minecraft . client . Minecraft ; <nl> @ @ - 66 , 14 + 67 , 11 @ @ public class GuiEditArray extends GuiScreen <nl> " \ n " + EnumChatFormatting . AQUA , configElement . getDefault ( ) , configElement . getMinValue ( ) , configElement . getMaxValue ( ) ) ; <nl> <nl> if ( ! comment . equals ( configElement . getLanguageKey ( ) + " . tooltip " ) ) <nl> - toolTip = mc . fontRendererObj . listFormattedStringToWidth ( <nl> - EnumChatFormatting . GREEN + propName + " \ n " + EnumChatFormatting . YELLOW + comment , 300 ) ; <nl> + Collections . addAll ( toolTip , ( EnumChatFormatting . GREEN + propName + " \ n " + EnumChatFormatting . YELLOW + comment ) . split ( " \ n " ) ) ; <nl> else if ( configElement . getComment ( ) ! = null & & ! configElement . getComment ( ) . trim ( ) . isEmpty ( ) ) <nl> - toolTip = mc . fontRendererObj . listFormattedStringToWidth ( <nl> - EnumChatFormatting . GREEN + propName + " \ n " + EnumChatFormatting . YELLOW + configElement . getComment ( ) , 300 ) ; <nl> + Collections . addAll ( toolTip , ( EnumChatFormatting . GREEN + propName + " \ n " + EnumChatFormatting . YELLOW + configElement . getComment ( ) ) . split ( " \ n " ) ) ; <nl> else <nl> - toolTip = mc . fontRendererObj . listFormattedStringToWidth ( <nl> - EnumChatFormatting . GREEN + propName + " \ n " + EnumChatFormatting . RED + " No tooltip defined . " , 300 ) ; <nl> + Collections . addAll ( toolTip , ( EnumChatFormatting . GREEN + propName + " \ n " + EnumChatFormatting . RED + " No tooltip defined . " ) . split ( " \ n " ) ) ; <nl> <nl> if ( parentScreen instanceof GuiConfig ) <nl> { <nl> @ @ - 205 , 6 + 203 , 6 @ @ public class GuiEditArray extends GuiScreen <nl> <nl> public void drawToolTip ( List < String > stringList , int x , int y ) <nl> { <nl> - this . drawHoveringText ( stringList , x , y ) ; <nl> + GuiUtils . drawHoveringText ( stringList , x , y , width , height , 300 , fontRendererObj ) ; <nl> } <nl> } <nl> diff - - git a / src / main / java / net / minecraftforge / fml / client / config / GuiSelectString . java b / src / main / java / net / minecraftforge / fml / client / config / GuiSelectString . java <nl> index e4975fc . . 1c6ef0a 100644 <nl> - - - a / src / main / java / net / minecraftforge / fml / client / config / GuiSelectString . java <nl> + + + b / src / main / java / net / minecraftforge / fml / client / config / GuiSelectString . java <nl> @ @ - 14 , 6 + 14 , 7 @ @ package net . minecraftforge . fml . client . config ; <nl> <nl> import java . io . IOException ; <nl> import java . util . ArrayList ; <nl> + import java . util . Collections ; <nl> import java . util . List ; <nl> import java . util . Map ; <nl> <nl> @ @ - 65 , 14 + 66 , 11 @ @ public class GuiSelectString extends GuiScreen <nl> " \ n " + EnumChatFormatting . AQUA , configElement . getDefault ( ) , configElement . getMinValue ( ) , configElement . getMaxValue ( ) ) ; <nl> <nl> if ( ! comment . equals ( configElement . getLanguageKey ( ) + " . tooltip " ) ) <nl> - toolTip = mc . fontRendererObj . listFormattedStringToWidth ( <nl> - EnumChatFormatting . GREEN + propName + " \ n " + EnumChatFormatting . YELLOW + comment , 300 ) ; <nl> + Collections . addAll ( toolTip , ( EnumChatFormatting . GREEN + propName + " \ n " + EnumChatFormatting . YELLOW + comment ) . split ( " \ n " ) ) ; <nl> else if ( configElement . getComment ( ) ! = null & & ! configElement . getComment ( ) . trim ( ) . isEmpty ( ) ) <nl> - toolTip = mc . fontRendererObj . listFormattedStringToWidth ( <nl> - EnumChatFormatting . GREEN + propName + " \ n " + EnumChatFormatting . YELLOW + configElement . getComment ( ) , 300 ) ; <nl> + Collections . addAll ( toolTip , ( EnumChatFormatting . GREEN + propName + " \ n " + EnumChatFormatting . YELLOW + configElement . getComment ( ) ) . split ( " \ n " ) ) ; <nl> else <nl> - toolTip = mc . fontRendererObj . listFormattedStringToWidth ( <nl> - EnumChatFormatting . GREEN + propName + " \ n " + EnumChatFormatting . RED + " No tooltip defined . " , 300 ) ; <nl> + Collections . addAll ( toolTip , ( EnumChatFormatting . GREEN + propName + " \ n " + EnumChatFormatting . RED + " No tooltip defined . " ) . split ( " \ n " ) ) ; <nl> <nl> if ( parentScreen instanceof GuiConfig ) <nl> { <nl> @ @ - 177 , 6 + 175 , 6 @ @ public class GuiSelectString extends GuiScreen <nl> <nl> public void drawToolTip ( List < String > stringList , int x , int y ) <nl> { <nl> - this . drawHoveringText ( stringList , x , y ) ; <nl> + GuiUtils . drawHoveringText ( stringList , x , y , width , height , 300 , fontRendererObj ) ; <nl> } <nl> } <nl> diff - - git a / src / main / java / net / minecraftforge / fml / client / config / GuiUtils . java b / src / main / java / net / minecraftforge / fml / client / config / GuiUtils . java <nl> index ecf5f36 . . 636e663 100644 <nl> - - - a / src / main / java / net / minecraftforge / fml / client / config / GuiUtils . java <nl> + + + b / src / main / java / net / minecraftforge / fml / client / config / GuiUtils . java <nl> @ @ - 13 , 7 + 13 , 9 @ @ <nl> package net . minecraftforge . fml . client . config ; <nl> <nl> import net . minecraft . client . Minecraft ; <nl> + import net . minecraft . client . gui . FontRenderer ; <nl> import net . minecraft . client . renderer . GlStateManager ; <nl> + import net . minecraft . client . renderer . RenderHelper ; <nl> import net . minecraft . client . renderer . Tessellator ; <nl> import net . minecraft . client . renderer . WorldRenderer ; <nl> import net . minecraft . client . renderer . vertex . DefaultVertexFormats ; <nl> @ @ - 21 , 6 + 23 , 9 @ @ import net . minecraft . util . ResourceLocation ; <nl> <nl> import org . lwjgl . opengl . GL11 ; <nl> <nl> + import java . util . ArrayList ; <nl> + import java . util . List ; <nl> + <nl> / * * <nl> * This class provides several methods and constants used by the Config GUI classes . <nl> * <nl> @ @ - 193 , 4 + 198 , 183 @ @ public class GuiUtils <nl> tessellator . draw ( ) ; <nl> } <nl> <nl> + / * * <nl> + * Draws a tooltip box on the screen with text in it . <nl> + * Automatically positions the box relative to the mouse to match Mojang ' s implementation . <nl> + * Automatically wraps text when there is not enough space on the screen to display the text without wrapping . <nl> + * Can have a maximum width set to avoid creating very wide tooltips . <nl> + * <nl> + * @ param textLines the lines of text to be drawn in a hovering tooltip box . <nl> + * @ param mouseX the mouse X position <nl> + * @ param mouseY the mouse Y position <nl> + * @ param screenWidth the available screen width for the tooltip to drawn in <nl> + * @ param screenHeight the available screen height for the tooltip to drawn in <nl> + * @ param maxTextWidth the maximum width of the text in the tooltip box . <nl> + * Set to a negative number to have no max width . <nl> + * @ param font the font for drawing the text in the tooltip box <nl> + * / <nl> + public static void drawHoveringText ( List < String > textLines , final int mouseX , final int mouseY , final int screenWidth , final int screenHeight , final int maxTextWidth , FontRenderer font ) <nl> + { <nl> + if ( ! textLines . isEmpty ( ) ) <nl> + { <nl> + GlStateManager . disableRescaleNormal ( ) ; <nl> + RenderHelper . disableStandardItemLighting ( ) ; <nl> + GlStateManager . disableLighting ( ) ; <nl> + GlStateManager . disableDepth ( ) ; <nl> + int tooltipTextWidth = 0 ; <nl> + <nl> + for ( String textLine : textLines ) <nl> + { <nl> + int textLineWidth = font . getStringWidth ( textLine ) ; <nl> + <nl> + if ( textLineWidth > tooltipTextWidth ) <nl> + { <nl> + tooltipTextWidth = textLineWidth ; <nl> + } <nl> + } <nl> + <nl> + boolean needsWrap = false ; <nl> + <nl> + int titleLinesCount = 1 ; <nl> + int tooltipX = mouseX + 12 ; <nl> + if ( tooltipX + tooltipTextWidth + 4 > screenWidth ) <nl> + { <nl> + tooltipX = mouseX - 16 - tooltipTextWidth ; <nl> + if ( tooltipX < 4 ) / / if the tooltip doesn ' t fit on the screen <nl> + { <nl> + if ( mouseX > screenWidth / 2 ) <nl> + { <nl> + tooltipTextWidth = mouseX - 12 - 8 ; <nl> + } <nl> + else <nl> + { <nl> + tooltipTextWidth = screenWidth - 16 - mouseX ; <nl> + } <nl> + needsWrap = true ; <nl> + } <nl> + } <nl> + <nl> + if ( maxTextWidth > 0 & & tooltipTextWidth > maxTextWidth ) <nl> + { <nl> + tooltipTextWidth = maxTextWidth ; <nl> + needsWrap = true ; <nl> + } <nl> + <nl> + if ( needsWrap ) <nl> + { <nl> + int wrappedTooltipWidth = 0 ; <nl> + List < String > wrappedTextLines = new ArrayList < String > ( ) ; <nl> + for ( int i = 0 ; i < textLines . size ( ) ; i + + ) <nl> + { <nl> + String textLine = textLines . get ( i ) ; <nl> + List < String > wrappedLine = font . listFormattedStringToWidth ( textLine , tooltipTextWidth ) ; <nl> + if ( i = = 0 ) <nl> + { <nl> + titleLinesCount = wrappedLine . size ( ) ; <nl> + } <nl> + <nl> + for ( String line : wrappedLine ) <nl> + { <nl> + int lineWidth = font . getStringWidth ( line ) ; <nl> + if ( lineWidth > wrappedTooltipWidth ) <nl> + { <nl> + wrappedTooltipWidth = lineWidth ; <nl> + } <nl> + wrappedTextLines . add ( line ) ; <nl> + } <nl> + } <nl> + tooltipTextWidth = wrappedTooltipWidth ; <nl> + textLines = wrappedTextLines ; <nl> + <nl> + if ( mouseX > screenWidth / 2 ) <nl> + { <nl> + tooltipX = mouseX - 16 - tooltipTextWidth ; <nl> + } <nl> + else <nl> + { <nl> + tooltipX = mouseX + 12 ; <nl> + } <nl> + } <nl> + <nl> + int tooltipY = mouseY - 12 ; <nl> + int tooltipHeight = 8 ; <nl> + <nl> + if ( textLines . size ( ) > 1 ) <nl> + { <nl> + tooltipHeight + = ( textLines . size ( ) - 1 ) * 10 ; <nl> + if ( textLines . size ( ) > titleLinesCount ) { <nl> + tooltipHeight + = 2 ; / / gap between title lines and next lines <nl> + } <nl> + } <nl> + <nl> + if ( tooltipY + tooltipHeight + 6 > screenHeight ) <nl> + { <nl> + tooltipY = screenHeight - tooltipHeight - 6 ; <nl> + } <nl> + <nl> + final int zLevel = 300 ; <nl> + final int backgroundColor = 0xF0100010 ; <nl> + drawGradientRect ( zLevel , tooltipX - 3 , tooltipY - 4 , tooltipX + tooltipTextWidth + 3 , tooltipY - 3 , backgroundColor , backgroundColor ) ; <nl> + drawGradientRect ( zLevel , tooltipX - 3 , tooltipY + tooltipHeight + 3 , tooltipX + tooltipTextWidth + 3 , tooltipY + tooltipHeight + 4 , backgroundColor , backgroundColor ) ; <nl> + drawGradientRect ( zLevel , tooltipX - 3 , tooltipY - 3 , tooltipX + tooltipTextWidth + 3 , tooltipY + tooltipHeight + 3 , backgroundColor , backgroundColor ) ; <nl> + drawGradientRect ( zLevel , tooltipX - 4 , tooltipY - 3 , tooltipX - 3 , tooltipY + tooltipHeight + 3 , backgroundColor , backgroundColor ) ; <nl> + drawGradientRect ( zLevel , tooltipX + tooltipTextWidth + 3 , tooltipY - 3 , tooltipX + tooltipTextWidth + 4 , tooltipY + tooltipHeight + 3 , backgroundColor , backgroundColor ) ; <nl> + final int borderColorStart = 0x505000FF ; <nl> + final int borderColorEnd = ( borderColorStart & 0xFEFEFE ) > > 1 | borderColorStart & 0xFF000000 ; <nl> + drawGradientRect ( zLevel , tooltipX - 3 , tooltipY - 3 + 1 , tooltipX - 3 + 1 , tooltipY + tooltipHeight + 3 - 1 , borderColorStart , borderColorEnd ) ; <nl> + drawGradientRect ( zLevel , tooltipX + tooltipTextWidth + 2 , tooltipY - 3 + 1 , tooltipX + tooltipTextWidth + 3 , tooltipY + tooltipHeight + 3 - 1 , borderColorStart , borderColorEnd ) ; <nl> + drawGradientRect ( zLevel , tooltipX - 3 , tooltipY - 3 , tooltipX + tooltipTextWidth + 3 , tooltipY - 3 + 1 , borderColorStart , borderColorStart ) ; <nl> + drawGradientRect ( zLevel , tooltipX - 3 , tooltipY + tooltipHeight + 2 , tooltipX + tooltipTextWidth + 3 , tooltipY + tooltipHeight + 3 , borderColorEnd , borderColorEnd ) ; <nl> + <nl> + for ( int lineNumber = 0 ; lineNumber < textLines . size ( ) ; + + lineNumber ) <nl> + { <nl> + String line = textLines . get ( lineNumber ) ; <nl> + font . drawStringWithShadow ( line , ( float ) tooltipX , ( float ) tooltipY , - 1 ) ; <nl> + <nl> + if ( lineNumber + 1 = = titleLinesCount ) <nl> + { <nl> + tooltipY + = 2 ; <nl> + } <nl> + <nl> + tooltipY + = 10 ; <nl> + } <nl> + <nl> + GlStateManager . enableLighting ( ) ; <nl> + GlStateManager . enableDepth ( ) ; <nl> + RenderHelper . enableStandardItemLighting ( ) ; <nl> + GlStateManager . enableRescaleNormal ( ) ; <nl> + } <nl> + } <nl> + <nl> + public static void drawGradientRect ( int zLevel , int left , int top , int right , int bottom , int startColor , int endColor ) <nl> + { <nl> + float startAlpha = ( float ) ( startColor > > 24 & 255 ) / 255 . 0F ; <nl> + float startRed = ( float ) ( startColor > > 16 & 255 ) / 255 . 0F ; <nl> + float startGreen = ( float ) ( startColor > > 8 & 255 ) / 255 . 0F ; <nl> + float startBlue = ( float ) ( startColor & 255 ) / 255 . 0F ; <nl> + float endAlpha = ( float ) ( endColor > > 24 & 255 ) / 255 . 0F ; <nl> + float endRed = ( float ) ( endColor > > 16 & 255 ) / 255 . 0F ; <nl> + float endGreen = ( float ) ( endColor > > 8 & 255 ) / 255 . 0F ; <nl> + float endBlue = ( float ) ( endColor & 255 ) / 255 . 0F ; <nl> + <nl> + GlStateManager . disableTexture2D ( ) ; <nl> + GlStateManager . enableBlend ( ) ; <nl> + GlStateManager . disableAlpha ( ) ; <nl> + GlStateManager . tryBlendFuncSeparate ( 770 , 771 , 1 , 0 ) ; <nl> + GlStateManager . shadeModel ( 7425 ) ; <nl> + <nl> + Tessellator tessellator = Tessellator . getInstance ( ) ; <nl> + WorldRenderer worldrenderer = tessellator . getWorldRenderer ( ) ; <nl> + worldrenderer . begin ( 7 , DefaultVertexFormats . POSITION _ COLOR ) ; <nl> + worldrenderer . pos ( right , top , zLevel ) . color ( startRed , startGreen , startBlue , startAlpha ) . endVertex ( ) ; <nl> + worldrenderer . pos ( left , top , zLevel ) . color ( startRed , startGreen , startBlue , startAlpha ) . endVertex ( ) ; <nl> + worldrenderer . pos ( left , bottom , zLevel ) . color ( endRed , endGreen , endBlue , endAlpha ) . endVertex ( ) ; <nl> + worldrenderer . pos ( right , bottom , zLevel ) . color ( endRed , endGreen , endBlue , endAlpha ) . endVertex ( ) ; <nl> + tessellator . draw ( ) ; <nl> + <nl> + GlStateManager . shadeModel ( 7424 ) ; <nl> + GlStateManager . disableBlend ( ) ; <nl> + GlStateManager . enableAlpha ( ) ; <nl> + GlStateManager . enableTexture2D ( ) ; <nl> + } <nl> }
NEAREST DIFF (one line): diff - - git a / client / net / minecraftforge / client / ForgeHooksClient . java b / client / net / minecraftforge / client / ForgeHooksClient . java <nl> index 7c2ad32 . . dcba24b 100644 <nl> - - - a / client / net / minecraftforge / client / ForgeHooksClient . java <nl> + + + b / client / net / minecraftforge / client / ForgeHooksClient . java <nl> @ @ - 30 , 6 + 30 , 8 @ @ import net . minecraft . item . ItemStack ; <nl> import net . minecraft . util . MathHelper ; <nl> import net . minecraft . util . MovingObjectPosition ; <nl> import net . minecraft . util . ResourceLocation ; <nl> + import net . minecraft . world . World ; <nl> + import net . minecraft . world . biome . BiomeGenBase ; <nl> import net . minecraft . client . model . ModelBiped ; <nl> import net . minecraft . client . renderer . RenderBlocks ; <nl> import net . minecraft . client . renderer . RenderGlobal ; <nl> @ @ - 41 , 6 + 43 , 7 @ @ import net . minecraftforge . client . IItemRenderer . ItemRenderType ; <nl> import net . minecraftforge . client . event . DrawBlockHighlightEvent ; <nl> import net . minecraftforge . client . event . RenderWorldLastEvent ; <nl> import net . minecraftforge . client . event . TextureStitchEvent ; <nl> + import net . minecraftforge . common . ForgeDummyContainer ; <nl> import net . minecraftforge . common . MinecraftForge ; <nl> import net . minecraftforge . fluids . FluidRegistry ; <nl> import net . minecraftforge . fluids . RenderBlockFluid ; <nl> @ @ - 50 , 6 + 53 , 7 @ @ import static net . minecraftforge . client . IItemRenderer . ItemRendererHelper . * ; <nl> public class ForgeHooksClient <nl> { <nl> private static final ResourceLocation ITEM _ GLINT = new ResourceLocation ( " textures / misc / enchanted _ item _ glint . png " ) ; <nl> + <nl> static TextureManager engine ( ) <nl> { <nl> return FMLClientHandler . instance ( ) . getClient ( ) . renderEngine ; <nl> @ @ - 338 , 6 + 342 , 44 @ @ public class ForgeHooksClient <nl> return fovUpdateEvent . newfov ; <nl> } <nl> <nl> + private static int skyX , skyZ ; <nl> + <nl> + private static boolean skyInit ; <nl> + private static int skyRGBMultiplier ; <nl> + <nl> + public static int getSkyBlendColour ( World world , int playerX , int playerZ ) <nl> + { <nl> + if ( playerX = = skyX & & playerZ = = skyZ & & skyInit ) <nl> + { <nl> + return skyRGBMultiplier ; <nl> + } <nl> + skyInit = true ; <nl> + <nl> + int distance = Minecraft . getMinecraft ( ) . gameSettings . fancyGraphics ? ForgeDummyContainer . blendRanges [ Minecraft . getMinecraft ( ) . gameSettings . renderDistance ] : 0 ; <nl> + <nl> + int r = 0 ; <nl> + int g = 0 ; <nl> + int b = 0 ; <nl> + <nl> + for ( int x = - distance ; x < = distance ; + + x ) <nl> + { <nl> + for ( int z = - distance ; z < = distance ; + + z ) <nl> + { <nl> + BiomeGenBase biome = world . getBiomeGenForCoords ( playerX + x , playerZ + z ) ; <nl> + int colour = biome . getSkyColorByTemp ( biome . getFloatTemperature ( ) ) ; <nl> + r + = ( colour & 0xFF0000 ) > > 16 ; <nl> + g + = ( colour & 0x00FF00 ) > > 8 ; <nl> + b + = colour & 0x0000FF ; <nl> + } <nl> + } <nl> + <nl> + int multiplier = ( r / 1681 & 255 ) < < 16 | ( g / 1681 & 255 ) < < 8 | b / 1681 & 255 ; <nl> + <nl> + skyX = playerX ; <nl> + skyZ = playerZ ; <nl> + skyRGBMultiplier = multiplier ; <nl> + return skyRGBMultiplier ; <nl> + } <nl> / * * <nl> * Initialization of Forge Renderers . <nl> * / <nl> diff - - git a / common / net / minecraftforge / common / ForgeDummyContainer . java b / common / net / minecraftforge / common / ForgeDummyContainer . java <nl> index a8c2b27 . . 881f533 100644 <nl> - - - a / common / net / minecraftforge / common / ForgeDummyContainer . java <nl> + + + b / common / net / minecraftforge / common / ForgeDummyContainer . java <nl> @ @ - 51 , 6 + 51 , 8 @ @ public class ForgeDummyContainer extends DummyModContainer implements WorldAcces <nl> public static boolean disableStitchedFileSaving = false ; <nl> public static boolean forceDuplicateFluidBlockCrash = true ; <nl> public static boolean fullBoundingBoxLadders = false ; <nl> + <nl> + public static int [ ] blendRanges = { 20 , 15 , 10 , 5 } ; <nl> <nl> public ForgeDummyContainer ( ) <nl> { <nl> @ @ - 139 , 6 + 141 , 10 @ @ public class ForgeDummyContainer extends DummyModContainer implements WorldAcces <nl> FMLLog . warning ( " Disabling forced crashes on duplicate Fluid Blocks - USE AT YOUR OWN RISK " ) ; <nl> } <nl> <nl> + prop = config . get ( Configuration . CATEGORY _ GENERAL , " biomeSkyBlendRange " , new int [ ] { 20 , 15 , 10 , 5 } ) ; <nl> + prop . comment = " Control the range of sky blending for colored skies in biomes . " ; <nl> + blendRanges = prop . getIntList ( ) ; <nl> + <nl> if ( config . hasChanged ( ) ) <nl> { <nl> config . save ( ) ; <nl> diff - - git a / patches / minecraft / net / minecraft / world / World . java . patch b / patches / minecraft / net / minecraft / world / World . java . patch <nl> index 3b22a59 . . 88d9ad7 100644 <nl> - - - a / patches / minecraft / net / minecraft / world / World . java . patch <nl> + + + b / patches / minecraft / net / minecraft / world / World . java . patch <nl> @ @ - 7 , 12 + 7 , 13 @ @ <nl> import cpw . mods . fml . relauncher . Side ; <nl> import cpw . mods . fml . relauncher . SideOnly ; <nl> import java . util . ArrayList ; <nl> - @ @ - 53 , 8 + 54 , 32 @ @ <nl> + @ @ - 53 , 8 + 54 , 33 @ @ <nl> import net . minecraft . world . storage . MapStorage ; <nl> import net . minecraft . world . storage . WorldInfo ; <nl> <nl> + import com . google . common . collect . ImmutableSetMultimap ; <nl> + <nl> + + import net . minecraftforge . client . ForgeHooksClient ; <nl> + import net . minecraftforge . common . ForgeChunkManager ; <nl> + import net . minecraftforge . common . ForgeChunkManager . Ticket ; <nl> + import net . minecraftforge . common . ForgeDummyContainer ; <nl> @ @ - 40 , 7 + 41 , 7 @ @ <nl> / * * <nl> * boolean ; if true updates scheduled by scheduleBlockUpdate happen immediately <nl> * / <nl> - @ @ - 167 , 6 + 192 , 11 @ @ <nl> + @ @ - 167 , 6 + 193 , 11 @ @ <nl> * / <nl> public BiomeGenBase getBiomeGenForCoords ( int par1 , int par2 ) <nl> { <nl> @ @ - 52 , 7 + 53 , 7 @ @ <nl> if ( this . blockExists ( par1 , 0 , par2 ) ) <nl> { <nl> Chunk chunk = this . getChunkFromBlockCoords ( par1 , par2 ) ; <nl> - @ @ - 194 , 8 + 224 , 15 @ @ <nl> + @ @ - 194 , 8 + 225 , 15 @ @ <nl> this . theProfiler = par5Profiler ; <nl> this . worldInfo = new WorldInfo ( par4WorldSettings , par2Str ) ; <nl> this . provider = par3WorldProvider ; <nl> @ @ - 69 , 7 + 70 , 7 @ @ <nl> VillageCollection villagecollection = ( VillageCollection ) this . mapStorage . loadData ( VillageCollection . class , " villages " ) ; <nl> <nl> if ( villagecollection = = null ) <nl> - @ @ - 208 , 8 + 245 , 10 @ @ <nl> + @ @ - 208 , 8 + 246 , 10 @ @ <nl> this . villageCollectionObj = villagecollection ; <nl> this . villageCollectionObj . func _ 82566 _ a ( this ) ; <nl> } <nl> @ @ - 82 , 7 + 83 , 7 @ @ <nl> this . chunkProvider = this . createChunkProvider ( ) ; <nl> this . calculateInitialSkylight ( ) ; <nl> this . calculateInitialWeather ( ) ; <nl> - @ @ - 221 , 7 + 260 , 7 @ @ <nl> + @ @ - 221 , 7 + 261 , 7 @ @ <nl> this . lightUpdateBlockList = new int [ 32768 ] ; <nl> this . saveHandler = par1ISaveHandler ; <nl> this . theProfiler = par5Profiler ; <nl> @ @ - 91 , 7 + 92 , 7 @ @ <nl> this . worldLogAgent = par6ILogAgent ; <nl> this . worldInfo = par1ISaveHandler . loadWorldInfo ( ) ; <nl> <nl> - @ @ - 275 , 12 + 314 , 20 @ @ <nl> + @ @ - 275 , 12 + 315 , 20 @ @ <nl> this . worldInfo . setServerInitialized ( true ) ; <nl> } <nl> <nl> @ @ - 114 , 7 + 115 , 7 @ @ <nl> } <nl> else <nl> { <nl> - @ @ - 290 , 6 + 337 , 20 @ @ <nl> + @ @ - 290 , 6 + 338 , 20 @ @ <nl> <nl> this . calculateInitialSkylight ( ) ; <nl> this . calculateInitialWeather ( ) ; <nl> @ @ - 135 , 7 + 136 , 7 @ @ <nl> } <nl> <nl> / * * <nl> - @ @ - 373 , 7 + 434 , 8 @ @ <nl> + @ @ - 373 , 7 + 435 , 8 @ @ <nl> * / <nl> public boolean isAirBlock ( int par1 , int par2 , int par3 ) <nl> { <nl> @ @ - 145 , 7 + 146 , 7 @ @ <nl> } <nl> <nl> / * * <nl> - @ @ - 382 , 7 + 444 , 8 @ @ <nl> + @ @ - 382 , 7 + 445 , 8 @ @ <nl> public boolean blockHasTileEntity ( int par1 , int par2 , int par3 ) <nl> { <nl> int l = this . getBlockId ( par1 , par2 , par3 ) ; <nl> @ @ - 155 , 7 + 156 , 7 @ @ <nl> } <nl> <nl> / * * <nl> - @ @ - 1157 , 7 + 1220 , 7 @ @ <nl> + @ @ - 1157 , 7 + 1221 , 7 @ @ <nl> * / <nl> public boolean isDaytime ( ) <nl> { <nl> @ @ - 164 , 7 + 165 , 7 @ @ <nl> } <nl> <nl> / * * <nl> - @ @ - 1192 , 7 + 1255 , 7 @ @ <nl> + @ @ - 1192 , 7 + 1256 , 7 @ @ <nl> int l1 = this . getBlockMetadata ( l , i1 , j1 ) ; <nl> Block block = Block . blocksList [ k1 ] ; <nl> <nl> @ @ - 173 , 7 + 174 , 7 @ @ <nl> { <nl> MovingObjectPosition movingobjectposition = block . collisionRayTrace ( this , l , i1 , j1 , par1Vec3 , par2Vec3 ) ; <nl> <nl> - @ @ - 1392 , 6 + 1455 , 12 @ @ <nl> + @ @ - 1392 , 6 + 1456 , 12 @ @ <nl> * / <nl> public void playSoundAtEntity ( Entity par1Entity , String par2Str , float par3 , float par4 ) <nl> { <nl> @ @ - 186 , 7 + 187 , 7 @ @ <nl> if ( par1Entity ! = null & & par2Str ! = null ) <nl> { <nl> for ( int i = 0 ; i < this . worldAccesses . size ( ) ; + + i ) <nl> - @ @ - 1406 , 6 + 1475 , 12 @ @ <nl> + @ @ - 1406 , 6 + 1476 , 12 @ @ <nl> * / <nl> public void playSoundToNearExcept ( EntityPlayer par1EntityPlayer , String par2Str , float par3 , float par4 ) <nl> { <nl> @ @ - 199 , 7 + 200 , 7 @ @ <nl> if ( par1EntityPlayer ! = null & & par2Str ! = null ) <nl> { <nl> for ( int i = 0 ; i < this . worldAccesses . size ( ) ; + + i ) <nl> - @ @ - 1492 , 6 + 1567 , 11 @ @ <nl> + @ @ - 1492 , 6 + 1568 , 11 @ @ <nl> EntityPlayer entityplayer = ( EntityPlayer ) par1Entity ; <nl> this . playerEntities . add ( entityplayer ) ; <nl> this . updateAllPlayersSleepingFlag ( ) ; <nl> @ @ - 211 , 20 + 212 , 20 @ @ <nl> } <nl> <nl> this . getChunkFromChunkCoords ( i , j ) . addEntity ( par1Entity ) ; <nl> - @ @ - 1732 , 6 + 1812 , 12 @ @ <nl> - * Calculates the color for the skybox <nl> + @ @ - 1733 , 6 + 1814 , 12 @ @ <nl> * / <nl> public Vec3 getSkyColor ( Entity par1Entity , float par2 ) <nl> - + { <nl> + { <nl> + return provider . getSkyColor ( par1Entity , par2 ) ; <nl> + } <nl> + <nl> + @ SideOnly ( Side . CLIENT ) <nl> + public Vec3 getSkyColorBody ( Entity par1Entity , float par2 ) <nl> - { <nl> + + { <nl> float f1 = this . getCelestialAngle ( par2 ) ; <nl> float f2 = MathHelper . cos ( f1 * ( float ) Math . PI * 2 . 0F ) * 2 . 0F + 0 . 5F ; <nl> - @ @ - 1831 , 15 + 1831 , 31 @ @ <nl> + <nl> + @ @ - 1745 , 15 + 1832 , 15 @ @ <nl> { <nl> f2 = 1 . 0F ; <nl> } <nl> @ @ - 239 , 23 + 240 , 7 @ @ <nl> - float f5 = ( float ) ( k > > 8 & 255 ) / 255 . 0F ; <nl> - float f6 = ( float ) ( k & 255 ) / 255 . 0F ; <nl> + <nl> - + int r = 0 ; <nl> - + int g = 0 ; <nl> - + int b = 0 ; <nl> - + <nl> - + for ( int x = - 20 ; x < = 20 ; + + x ) <nl> - + { <nl> - + for ( int z = - 20 ; z < = 20 ; + + z ) <nl> - + { <nl> - + BiomeGenBase biome = this . getBiomeGenForCoords ( i + x , j + z ) ; <nl> - + int colour = biome . getSkyColorByTemp ( biome . getFloatTemperature ( ) ) ; <nl> - + r + = ( colour & 16711680 ) > > 16 ; <nl> - + g + = ( colour & 65280 ) > > 8 ; <nl> - + b + = colour & 255 ; <nl> - + } <nl> - + } <nl> - + <nl> - + int multiplier = ( r / 1681 & 255 ) < < 16 | ( g / 1681 & 255 ) < < 8 | b / 1681 & 255 ; <nl> + + int multiplier = ForgeHooksClient . getSkyBlendColour ( this , i , j ) ; <nl> + <nl> + float f4 = ( float ) ( multiplier > > 16 & 255 ) / 255 . 0F ; <nl> + float f5 = ( float ) ( multiplier > > 8 & 255 ) / 255 . 0F ; <nl> @ @ - 263 , 7 + 248 , 7 @ @ <nl> f4 * = f2 ; <nl> f5 * = f2 ; <nl> f6 * = f2 ; <nl> - @ @ - 1833 , 6 + 1919 , 12 @ @ <nl> + @ @ - 1833 , 6 + 1920 , 12 @ @ <nl> @ SideOnly ( Side . CLIENT ) <nl> public Vec3 getCloudColour ( float par1 ) <nl> { <nl> @ @ - 276 , 7 + 261 , 7 @ @ <nl> float f1 = this . getCelestialAngle ( par1 ) ; <nl> float f2 = MathHelper . cos ( f1 * ( float ) Math . PI * 2 . 0F ) * 2 . 0F + 0 . 5F ; <nl> <nl> - @ @ - 1904 , 6 + 1996 , 8 @ @ <nl> + @ @ - 1904 , 6 + 1997 , 8 @ @ <nl> public int getTopSolidOrLiquidBlock ( int par1 , int par2 ) <nl> { <nl> Chunk chunk = this . getChunkFromBlockCoords ( par1 , par2 ) ; <nl> @ @ - 285 , 7 + 270 , 7 @ @ <nl> int k = chunk . getTopFilledSegment ( ) + 15 ; <nl> par1 & = 15 ; <nl> <nl> - @ @ - 1911 , 7 + 2005 , 7 @ @ <nl> + @ @ - 1911 , 7 + 2006 , 7 @ @ <nl> { <nl> int l = chunk . getBlockID ( par1 , k , par2 ) ; <nl> <nl> @ @ - 294 , 7 + 279 , 7 @ @ <nl> { <nl> return k + 1 ; <nl> } <nl> - @ @ - 1926 , 6 + 2020 , 12 @ @ <nl> + @ @ - 1926 , 6 + 2021 , 12 @ @ <nl> * How bright are stars in the sky <nl> * / <nl> public float getStarBrightness ( float par1 ) <nl> @ @ - 307 , 7 + 292 , 7 @ @ <nl> { <nl> float f1 = this . getCelestialAngle ( par1 ) ; <nl> float f2 = 1 . 0F - ( MathHelper . cos ( f1 * ( float ) Math . PI * 2 . 0F ) * 2 . 0F + 0 . 25F ) ; <nl> - @ @ - 1990 , 7 + 2090 , 15 @ @ <nl> + @ @ - 1990 , 7 + 2091 , 15 @ @ <nl> entity . addEntityCrashInfo ( crashreportcategory ) ; <nl> } <nl> <nl> @ @ - 324 , 7 + 309 , 7 @ @ <nl> } <nl> <nl> if ( entity . isDead ) <nl> - @ @ - 2052 , 7 + 2160 , 16 @ @ <nl> + @ @ - 2052 , 7 + 2161 , 16 @ @ <nl> crashreport = CrashReport . makeCrashReport ( throwable1 , " Ticking entity " ) ; <nl> crashreportcategory = crashreport . makeCategory ( " Entity being ticked " ) ; <nl> entity . addEntityCrashInfo ( crashreportcategory ) ; <nl> @ @ - 342 , 7 + 327 , 7 @ @ <nl> } <nl> } <nl> <nl> - @ @ - 2095 , 7 + 2212 , 16 @ @ <nl> + @ @ - 2095 , 7 + 2213 , 16 @ @ <nl> crashreport = CrashReport . makeCrashReport ( throwable2 , " Ticking tile entity " ) ; <nl> crashreportcategory = crashreport . makeCategory ( " Tile entity being ticked " ) ; <nl> tileentity . func _ 85027 _ a ( crashreportcategory ) ; <nl> @ @ - 360 , 7 + 345 , 7 @ @ <nl> } <nl> } <nl> <nl> - @ @ - 2109 , 7 + 2235 , 7 @ @ <nl> + @ @ - 2109 , 7 + 2236 , 7 @ @ <nl> <nl> if ( chunk ! = null ) <nl> { <nl> @ @ - 369 , 7 + 354 , 7 @ @ <nl> } <nl> } <nl> } <nl> - @ @ - 2118 , 6 + 2244 , 10 @ @ <nl> + @ @ - 2118 , 6 + 2245 , 10 @ @ <nl> <nl> if ( ! this . entityRemoval . isEmpty ( ) ) <nl> { <nl> @ @ - 380 , 7 + 365 , 7 @ @ <nl> this . loadedTileEntityList . removeAll ( this . entityRemoval ) ; <nl> this . entityRemoval . clear ( ) ; <nl> } <nl> - @ @ - 2138 , 18 + 2268 , 18 @ @ <nl> + @ @ - 2138 , 18 + 2269 , 18 @ @ <nl> { <nl> this . loadedTileEntityList . add ( tileentity1 ) ; <nl> } <nl> @ @ - 403 , 7 + 388 , 7 @ @ <nl> } <nl> } <nl> <nl> - @ @ - 2162 , 13 + 2292 , 13 @ @ <nl> + @ @ - 2162 , 13 + 2293 , 13 @ @ <nl> <nl> public void addTileEntity ( Collection par1Collection ) <nl> { <nl> @ @ - 424 , 7 + 409 , 7 @ @ <nl> } <nl> } <nl> <nl> - @ @ - 2188 , 9 + 2318 , 17 @ @ <nl> + @ @ - 2188 , 9 + 2319 , 17 @ @ <nl> { <nl> int i = MathHelper . floor _ double ( par1Entity . posX ) ; <nl> int j = MathHelper . floor _ double ( par1Entity . posZ ) ; <nl> @ @ - 445 , 7 + 430 , 7 @ @ <nl> { <nl> par1Entity . lastTickPosX = par1Entity . posX ; <nl> par1Entity . lastTickPosY = par1Entity . posY ; <nl> - @ @ - 2424 , 6 + 2562 , 14 @ @ <nl> + @ @ - 2424 , 6 + 2563 , 14 @ @ <nl> { <nl> return true ; <nl> } <nl> @ @ - 460 , 7 + 445 , 7 @ @ <nl> } <nl> } <nl> } <nl> - @ @ - 2746 , 15 + 2892 , 16 @ @ <nl> + @ @ - 2746 , 15 + 2893 , 16 @ @ <nl> * / <nl> public void setBlockTileEntity ( int par1 , int par2 , int par3 , TileEntity par4TileEntity ) <nl> { <nl> @ @ - 486 , 7 + 471 , 7 @ @ <nl> while ( iterator . hasNext ( ) ) <nl> { <nl> TileEntity tileentity1 = ( TileEntity ) iterator . next ( ) ; <nl> - @ @ - 2765 , 20 + 2912 , 21 @ @ <nl> + @ @ - 2765 , 20 + 2913 , 21 @ @ <nl> iterator . remove ( ) ; <nl> } <nl> } <nl> @ @ - 519 , 7 + 504 , 7 @ @ <nl> } <nl> <nl> / * * <nl> - @ @ - 2786 , 28 + 2934 , 13 @ @ <nl> + @ @ - 2786 , 28 + 2935 , 13 @ @ <nl> * / <nl> public void removeBlockTileEntity ( int par1 , int par2 , int par3 ) <nl> { <nl> @ @ - 555 , 7 + 540 , 7 @ @ <nl> } <nl> <nl> / * * <nl> - @ @ - 2832 , 7 + 2965 , 8 @ @ <nl> + @ @ - 2832 , 7 + 2966 , 8 @ @ <nl> * / <nl> public boolean isBlockNormalCube ( int par1 , int par2 , int par3 ) <nl> { <nl> @ @ - 565 , 7 + 550 , 7 @ @ <nl> } <nl> <nl> public boolean isBlockFullCube ( int par1 , int par2 , int par3 ) <nl> - @ @ - 2855 , 16 + 2989 , 17 @ @ <nl> + @ @ - 2855 , 16 + 2990 , 17 @ @ <nl> * / <nl> public boolean doesBlockHaveSolidTopSurface ( int par1 , int par2 , int par3 ) <nl> { <nl> @ @ - 585 , 7 + 570 , 7 @ @ <nl> return par1Block = = null ? false : ( par1Block . blockMaterial . isOpaque ( ) & & par1Block . renderAsNormalBlock ( ) ? true : ( par1Block instanceof BlockStairs ? ( par2 & 4 ) = = 4 : ( par1Block instanceof BlockHalfSlab ? ( par2 & 8 ) = = 8 : ( par1Block instanceof BlockHopper ? true : ( par1Block instanceof BlockSnow ? ( par2 & 7 ) = = 7 : false ) ) ) ) ) ; <nl> } <nl> <nl> - @ @ - 2881 , 7 + 3016 , 7 @ @ <nl> + @ @ - 2881 , 7 + 3017 , 7 @ @ <nl> if ( chunk ! = null & & ! chunk . isEmpty ( ) ) <nl> { <nl> Block block = Block . blocksList [ this . getBlockId ( par1 , par2 , par3 ) ] ; <nl> @ @ - 594 , 7 + 579 , 7 @ @ <nl> } <nl> else <nl> { <nl> - @ @ - 2912 , 8 + 3047 , 7 @ @ <nl> + @ @ - 2912 , 8 + 3048 , 7 @ @ <nl> * / <nl> public void setAllowedSpawnTypes ( boolean par1 , boolean par2 ) <nl> { <nl> @ @ - 604 , 7 + 589 , 7 @ @ <nl> } <nl> <nl> / * * <nl> - @ @ - 2929 , 6 + 3063 , 11 @ @ <nl> + @ @ - 2929 , 6 + 3064 , 11 @ @ <nl> * / <nl> private void calculateInitialWeather ( ) <nl> { <nl> @ @ - 616 , 7 + 601 , 7 @ @ <nl> if ( this . worldInfo . isRaining ( ) ) <nl> { <nl> this . rainingStrength = 1 . 0F ; <nl> - @ @ - 2944 , 6 + 3083 , 11 @ @ <nl> + @ @ - 2944 , 6 + 3084 , 11 @ @ <nl> * Updates all weather states . <nl> * / <nl> protected void updateWeather ( ) <nl> @ @ - 628 , 7 + 613 , 7 @ @ <nl> { <nl> if ( ! this . provider . hasNoSky ) <nl> { <nl> - @ @ - 3041 , 12 + 3185 , 14 @ @ <nl> + @ @ - 3041 , 12 + 3186 , 14 @ @ <nl> <nl> public void toggleRain ( ) <nl> { <nl> @ @ - 644 , 7 + 629 , 7 @ @ <nl> this . theProfiler . startSection ( " buildList " ) ; <nl> int i ; <nl> EntityPlayer entityplayer ; <nl> - @ @ - 3153 , 6 + 3299 , 11 @ @ <nl> + @ @ - 3153 , 6 + 3300 , 11 @ @ <nl> * / <nl> public boolean canBlockFreeze ( int par1 , int par2 , int par3 , boolean par4 ) <nl> { <nl> @ @ - 656 , 7 + 641 , 7 @ @ <nl> BiomeGenBase biomegenbase = this . getBiomeGenForCoords ( par1 , par3 ) ; <nl> float f = biomegenbase . getFloatTemperature ( ) ; <nl> <nl> - @ @ - 3211 , 6 + 3362 , 11 @ @ <nl> + @ @ - 3211 , 6 + 3363 , 11 @ @ <nl> * / <nl> public boolean canSnowAt ( int par1 , int par2 , int par3 ) <nl> { <nl> @ @ - 668 , 7 + 653 , 7 @ @ <nl> BiomeGenBase biomegenbase = this . getBiomeGenForCoords ( par1 , par3 ) ; <nl> float f = biomegenbase . getFloatTemperature ( ) ; <nl> <nl> - @ @ - 3254 , 10 + 3410 , 12 @ @ <nl> + @ @ - 3254 , 10 + 3411 , 12 @ @ <nl> else <nl> { <nl> int l = this . getBlockId ( par1 , par2 , par3 ) ; <nl> @ @ - 685 , 7 + 670 , 7 @ @ <nl> { <nl> j1 = 1 ; <nl> } <nl> - @ @ - 3353 , 7 + 3511 , 9 @ @ <nl> + @ @ - 3353 , 7 + 3512 , 9 @ @ <nl> int j4 = i2 + Facing . offsetsXForSide [ i4 ] ; <nl> int k4 = j2 + Facing . offsetsYForSide [ i4 ] ; <nl> int l4 = k2 + Facing . offsetsZForSide [ i4 ] ; <nl> @ @ - 696 , 7 + 681 , 7 @ @ <nl> i3 = this . getSavedLightValue ( par1EnumSkyBlock , j4 , k4 , l4 ) ; <nl> <nl> if ( i3 = = l2 - i5 & & i1 < this . lightUpdateBlockList . length ) <nl> - @ @ - 3456 , 10 + 3616 , 10 @ @ <nl> + @ @ - 3456 , 10 + 3617 , 10 @ @ <nl> public List getEntitiesWithinAABBExcludingEntity ( Entity par1Entity , AxisAlignedBB par2AxisAlignedBB , IEntitySelector par3IEntitySelector ) <nl> { <nl> ArrayList arraylist = new ArrayList ( ) ; <nl> @ @ - 711 , 7 + 696 , 7 @ @ <nl> <nl> for ( int i1 = i ; i1 < = j ; + + i1 ) <nl> { <nl> - @ @ - 3485 , 10 + 3645 , 10 @ @ <nl> + @ @ - 3485 , 10 + 3646 , 10 @ @ <nl> <nl> public List selectEntitiesWithinAABB ( Class par1Class , AxisAlignedBB par2AxisAlignedBB , IEntitySelector par3IEntitySelector ) <nl> { <nl> @ @ - 726 , 7 + 711 , 7 @ @ <nl> ArrayList arraylist = new ArrayList ( ) ; <nl> <nl> for ( int i1 = i ; i1 < = j ; + + i1 ) <nl> - @ @ - 3582 , 11 + 3742 , 14 @ @ <nl> + @ @ - 3582 , 11 + 3743 , 14 @ @ <nl> * / <nl> public void addLoadedEntities ( List par1List ) <nl> { <nl> @ @ - 744 , 7 + 729 , 7 @ @ <nl> } <nl> } <nl> <nl> - @ @ - 3620 , 6 + 3783 , 11 @ @ <nl> + @ @ - 3620 , 6 + 3784 , 11 @ @ <nl> else <nl> { <nl> if ( block ! = null & & ( block = = Block . waterMoving | | block = = Block . waterStill | | block = = Block . lavaMoving | | block = = Block . lavaStill | | block = = Block . fire | | block . blockMaterial . isReplaceable ( ) ) ) <nl> @ @ - 756 , 7 + 741 , 7 @ @ <nl> { <nl> block = null ; <nl> } <nl> - @ @ - 3914 , 7 + 4082 , 7 @ @ <nl> + @ @ - 3914 , 7 + 4083 , 7 @ @ <nl> * / <nl> public long getSeed ( ) <nl> { <nl> @ @ - 765 , 7 + 750 , 7 @ @ <nl> } <nl> <nl> public long getTotalWorldTime ( ) <nl> - @ @ - 3924 , 7 + 4092 , 7 @ @ <nl> + @ @ - 3924 , 7 + 4093 , 7 @ @ <nl> <nl> public long getWorldTime ( ) <nl> { <nl> @ @ - 774 , 7 + 759 , 7 @ @ <nl> } <nl> <nl> / * * <nl> - @ @ - 3932 , 7 + 4100 , 7 @ @ <nl> + @ @ - 3932 , 7 + 4101 , 7 @ @ <nl> * / <nl> public void setWorldTime ( long par1 ) <nl> { <nl> @ @ - 783 , 7 + 768 , 7 @ @ <nl> } <nl> <nl> / * * <nl> - @ @ - 3940 , 13 + 4108 , 13 @ @ <nl> + @ @ - 3940 , 13 + 4109 , 13 @ @ <nl> * / <nl> public ChunkCoordinates getSpawnPoint ( ) <nl> { <nl> @ @ - 799 , 7 + 784 , 7 @ @ <nl> } <nl> <nl> @ SideOnly ( Side . CLIENT ) <nl> - @ @ - 3970 , 7 + 4138 , 10 @ @ <nl> + @ @ - 3970 , 7 + 4139 , 10 @ @ <nl> <nl> if ( ! this . loadedEntityList . contains ( par1Entity ) ) <nl> { <nl> @ @ - 811 , 7 + 796 , 7 @ @ <nl> } <nl> } <nl> <nl> - @ @ - 3978 , 6 + 4149 , 11 @ @ <nl> + @ @ - 3978 , 6 + 4150 , 11 @ @ <nl> * Called when checking if a certain block can be mined or not . The ' spawn safe zone ' check is located here . <nl> * / <nl> public boolean canMineBlock ( EntityPlayer par1EntityPlayer , int par2 , int par3 , int par4 ) <nl> @ @ - 823 , 7 + 808 , 7 @ @ <nl> { <nl> return true ; <nl> } <nl> - @ @ - 4098 , 8 + 4274 , 7 @ @ <nl> + @ @ - 4098 , 8 + 4275 , 7 @ @ <nl> * / <nl> public boolean isBlockHighHumidity ( int par1 , int par2 , int par3 ) <nl> { <nl> @ @ - 833 , 7 + 818 , 7 @ @ <nl> } <nl> <nl> / * * <nl> - @ @ - 4174 , 7 + 4349 , 7 @ @ <nl> + @ @ - 4174 , 7 + 4350 , 7 @ @ <nl> * / <nl> public int getHeight ( ) <nl> { <nl> @ @ - 842 , 7 + 827 , 7 @ @ <nl> } <nl> <nl> / * * <nl> - @ @ - 4182 , 7 + 4357 , 7 @ @ <nl> + @ @ - 4182 , 7 + 4358 , 7 @ @ <nl> * / <nl> public int getActualHeight ( ) <nl> { <nl> @ @ - 851 , 7 + 836 , 7 @ @ <nl> } <nl> <nl> public IUpdatePlayerListBox getMinecartSoundUpdater ( EntityMinecart par1EntityMinecart ) <nl> - @ @ - 4225 , 7 + 4400 , 7 @ @ <nl> + @ @ - 4225 , 7 + 4401 , 7 @ @ <nl> * / <nl> public double getHorizon ( ) <nl> { <nl> @ @ - 860 , 7 + 845 , 7 @ @ <nl> } <nl> <nl> / * * <nl> - @ @ - 4294 , 30 + 4469 , 28 @ @ <nl> + @ @ - 4294 , 30 + 4470 , 28 @ @ <nl> <nl> public void func _ 96440 _ m ( int par1 , int par2 , int par3 , int par4 ) <nl> { <nl> @ @ - 912 , 7 + 897 , 7 @ @ <nl> } <nl> } <nl> } <nl> - @ @ - 4363 , 4 + 4536 , 115 @ @ <nl> + @ @ - 4363 , 4 + 4537 , 115 @ @ <nl> <nl> return MathHelper . clamp _ float ( f , 0 . 0F , flag ? 1 . 5F : 1 . 0F ) ; <nl> }

TEST DIFF:
diff - - git a / patches / minecraft / net / minecraft / client / gui / GuiScreen . java . patch b / patches / minecraft / net / minecraft / client / gui / GuiScreen . java . patch 
 index 1a343c6 . . 1bc220d 100644 
 - - - a / patches / minecraft / net / minecraft / client / gui / GuiScreen . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / gui / GuiScreen . java . patch 
 @ @ - 10 , 37 + 10 , 22 @ @ 
 } 
 
 protected void func _ 146279 _ a ( String p _ 146279 _ 1 _ , int p _ 146279 _ 2 _ , int p _ 146279 _ 3 _ ) 
 - @ @ - 153 , 6 + 154 , 11 @ @ 
 + @ @ - 153 , 7 + 154 , 13 @ @ 
 
 protected void func _ 146283 _ a ( List < String > p _ 146283 _ 1 _ , int p _ 146283 _ 2 _ , int p _ 146283 _ 3 _ ) 
 { 
 + - if ( ! p _ 146283 _ 1 _ . isEmpty ( ) ) 
 + drawHoveringText ( p _ 146283 _ 1 _ , p _ 146283 _ 2 _ , p _ 146283 _ 3 _ , field _ 146289 _ q ) ; 
 + } 
 + 
 + protected void drawHoveringText ( List < String > p _ 146283 _ 1 _ , int p _ 146283 _ 2 _ , int p _ 146283 _ 3 _ , FontRenderer font ) 
 + { 
 - if ( ! p _ 146283 _ 1 _ . isEmpty ( ) ) 
 + + net . minecraftforge . fml . client . config . GuiUtils . drawHoveringText ( p _ 146283 _ 1 _ , p _ 146283 _ 2 _ , p _ 146283 _ 3 _ , field _ 146294 _ l , field _ 146295 _ m , - 1 , font ) ; 
 + + if ( false & & ! p _ 146283 _ 1 _ . isEmpty ( ) ) 
 { 
 GlStateManager . func _ 179101 _ C ( ) ; 
 - @ @ - 163 , 7 + 169 , 7 @ @ 
 - 
 - for ( String s : p _ 146283 _ 1 _ ) 
 - { 
 - - int j = this . field _ 146289 _ q . func _ 78256 _ a ( s ) ; 
 - + int j = font . func _ 78256 _ a ( s ) ; 
 - 
 - if ( j > i ) 
 - { 
 - @ @ - 208 , 7 + 214 , 7 @ @ 
 - for ( int k1 = 0 ; k1 < p _ 146283 _ 1 _ . size ( ) ; + + k1 ) 
 - { 
 - String s1 = ( String ) p _ 146283 _ 1 _ . get ( k1 ) ; 
 - - this . field _ 146289 _ q . func _ 175063 _ a ( s1 , ( float ) l1 , ( float ) i2 , - 1 ) ; 
 - + font . func _ 175063 _ a ( s1 , ( float ) l1 , ( float ) i2 , - 1 ) ; 
 - 
 - if ( k1 = = 0 ) 
 - { 
 - @ @ - 436 , 6 + 442 , 7 @ @ 
 + RenderHelper . func _ 74518 _ a ( ) ; 
 + @ @ - 436 , 6 + 443 , 7 @ @ 
 { 
 this . field _ 146297 _ k . field _ 71456 _ v . func _ 146158 _ b ( ) . func _ 146239 _ a ( p _ 175281 _ 1 _ ) ; 
 } 
 @ @ - 48 , 7 + 33 , 7 @ @ 
 
 this . field _ 146297 _ k . field _ 71439 _ g . func _ 71165 _ d ( p _ 175281 _ 1 _ ) ; 
 } 
 - @ @ - 450 , 9 + 457 , 15 @ @ 
 + @ @ - 450 , 9 + 458 , 15 @ @ 
 
 if ( guibutton . func _ 146116 _ c ( this . field _ 146297 _ k , p _ 73864 _ 1 _ , p _ 73864 _ 2 _ ) ) 
 { 
 @ @ - 64 , 7 + 49 , 7 @ @ 
 } 
 } 
 } 
 - @ @ - 482 , 8 + 495 , 12 @ @ 
 + @ @ - 482 , 8 + 496 , 12 @ @ 
 this . field _ 146289 _ q = p _ 146280 _ 1 _ . field _ 71466 _ p ; 
 this . field _ 146294 _ l = p _ 146280 _ 2 _ ; 
 this . field _ 146295 _ m = p _ 146280 _ 3 _ ; 
 @ @ - 77 , 7 + 62 , 7 @ @ 
 } 
 
 public void func _ 183500 _ a ( int p _ 183500 _ 1 _ , int p _ 183500 _ 2 _ ) 
 - @ @ - 502 , 7 + 519 , 9 @ @ 
 + @ @ - 502 , 7 + 520 , 9 @ @ 
 { 
 while ( Mouse . next ( ) ) 
 { 
 @ @ - 87 , 7 + 72 , 7 @ @ 
 } 
 } 
 
 - @ @ - 510 , 7 + 529 , 9 @ @ 
 + @ @ - 510 , 7 + 530 , 9 @ @ 
 { 
 while ( Keyboard . next ( ) ) 
 { 
 @ @ - 97 , 7 + 82 , 7 @ @ 
 } 
 } 
 } 
 - @ @ - 570 , 6 + 591 , 7 @ @ 
 + @ @ - 570 , 6 + 592 , 7 @ @ 
 public void func _ 146276 _ q _ ( ) 
 { 
 this . func _ 146270 _ b ( 0 ) ; 
 diff - - git a / src / main / java / net / minecraftforge / fml / client / config / GuiConfig . java b / src / main / java / net / minecraftforge / fml / client / config / GuiConfig . java 
 index 7b10713 . . 9490847 100644 
 - - - a / src / main / java / net / minecraftforge / fml / client / config / GuiConfig . java 
 + + + b / src / main / java / net / minecraftforge / fml / client / config / GuiConfig . java 
 @ @ - 17 , 6 + 17 , 7 @ @ import static net . minecraftforge . fml . client . config . GuiUtils . UNDO _ CHAR ; 
 
 import java . io . IOException ; 
 import java . util . ArrayList ; 
 + import java . util . Arrays ; 
 import java . util . List ; 
 
 import net . minecraft . client . Minecraft ; 
 @ @ - 336 , 15 + 337 , 15 @ @ public class GuiConfig extends GuiScreen 
 super . drawScreen ( mouseX , mouseY , partialTicks ) ; 
 this . entryList . drawScreenPost ( mouseX , mouseY , partialTicks ) ; 
 if ( this . undoHoverChecker . checkHover ( mouseX , mouseY ) ) 
 - this . drawToolTip ( this . mc . fontRendererObj . listFormattedStringToWidth ( I18n . format ( " fml . configgui . tooltip . undoAll " ) , 300 ) , mouseX , mouseY ) ; 
 + this . drawToolTip ( Arrays . asList ( I18n . format ( " fml . configgui . tooltip . undoAll " ) . split ( " \ n " ) ) , mouseX , mouseY ) ; 
 if ( this . resetHoverChecker . checkHover ( mouseX , mouseY ) ) 
 - this . drawToolTip ( this . mc . fontRendererObj . listFormattedStringToWidth ( I18n . format ( " fml . configgui . tooltip . resetAll " ) , 300 ) , mouseX , mouseY ) ; 
 + this . drawToolTip ( Arrays . asList ( I18n . format ( " fml . configgui . tooltip . resetAll " ) . split ( " \ n " ) ) , mouseX , mouseY ) ; 
 if ( this . checkBoxHoverChecker . checkHover ( mouseX , mouseY ) ) 
 - this . drawToolTip ( this . mc . fontRendererObj . listFormattedStringToWidth ( I18n . format ( " fml . configgui . tooltip . applyGlobally " ) , 300 ) , mouseX , mouseY ) ; 
 + this . drawToolTip ( Arrays . asList ( I18n . format ( " fml . configgui . tooltip . applyGlobally " ) . split ( " \ n " ) ) , mouseX , mouseY ) ; 
 } 
 
 public void drawToolTip ( List < String > stringList , int x , int y ) 
 { 
 - this . drawHoveringText ( stringList , x , y ) ; 
 + GuiUtils . drawHoveringText ( stringList , x , y , width , height , 300 , fontRendererObj ) ; 
 } 
 } 
 diff - - git a / src / main / java / net / minecraftforge / fml / client / config / GuiConfigEntries . java b / src / main / java / net / minecraftforge / fml / client / config / GuiConfigEntries . java 
 index b7b5b22 . . a82923d 100644 
 - - - a / src / main / java / net / minecraftforge / fml / client / config / GuiConfigEntries . java 
 + + + b / src / main / java / net / minecraftforge / fml / client / config / GuiConfigEntries . java 
 @ @ - 16 , 6 + 16 , 7 @ @ import static net . minecraftforge . fml . client . config . GuiUtils . UNDO _ CHAR ; 
 
 import java . util . ArrayList ; 
 import java . util . Arrays ; 
 + import java . util . Collections ; 
 import java . util . List ; 
 import java . util . Map ; 
 import java . util . TreeMap ; 
 @ @ - 1490 , 6 + 1491 , 7 @ @ public class GuiConfigEntries extends GuiListExtended 
 this . defaultHoverChecker = new HoverChecker ( this . btnDefault , 800 ) ; 
 this . undoToolTip = Arrays . asList ( new String [ ] { I18n . format ( " fml . configgui . tooltip . undoChanges " ) } ) ; 
 this . defaultToolTip = Arrays . asList ( new String [ ] { I18n . format ( " fml . configgui . tooltip . resetToDefault " ) } ) ; 
 + this . toolTip = new ArrayList < String > ( ) ; 
 
 this . drawLabel = true ; 
 
 @ @ - 1498 , 23 + 1500 , 19 @ @ public class GuiConfigEntries extends GuiListExtended 
 comment = I18n . format ( configElement . getLanguageKey ( ) + " . tooltip " ) . replace ( " \ \ n " , " \ n " ) ; 
 
 if ( ! comment . equals ( configElement . getLanguageKey ( ) + " . tooltip " ) ) 
 - toolTip = new ArrayList < String > ( this . mc . fontRendererObj . listFormattedStringToWidth ( 
 - EnumChatFormatting . GREEN + name + " \ n " + EnumChatFormatting . YELLOW + comment , 300 ) ) ; 
 + Collections . addAll ( toolTip , ( EnumChatFormatting . GREEN + name + " \ n " + EnumChatFormatting . YELLOW + comment ) . split ( " \ n " ) ) ; 
 else if ( configElement . getComment ( ) ! = null & & ! configElement . getComment ( ) . trim ( ) . isEmpty ( ) ) 
 - toolTip = new ArrayList < String > ( this . mc . fontRendererObj . listFormattedStringToWidth ( 
 - EnumChatFormatting . GREEN + name + " \ n " + EnumChatFormatting . YELLOW + configElement . getComment ( ) , 300 ) ) ; 
 + Collections . addAll ( toolTip , ( EnumChatFormatting . GREEN + name + " \ n " + EnumChatFormatting . YELLOW + configElement . getComment ( ) ) . split ( " \ n " ) ) ; 
 else 
 - toolTip = new ArrayList < String > ( this . mc . fontRendererObj . listFormattedStringToWidth ( 
 - EnumChatFormatting . GREEN + name + " \ n " + EnumChatFormatting . RED + " No tooltip defined . " , 300 ) ) ; 
 + Collections . addAll ( toolTip , ( EnumChatFormatting . GREEN + name + " \ n " + EnumChatFormatting . RED + " No tooltip defined . " ) . split ( " \ n " ) ) ; 
 
 if ( ( configElement . getType ( ) = = ConfigGuiType . INTEGER 
 & & ( Integer . valueOf ( configElement . getMinValue ( ) . toString ( ) ) ! = Integer . MIN _ VALUE | | Integer . valueOf ( configElement . getMaxValue ( ) . toString ( ) ) ! = Integer . MAX _ VALUE ) ) 
 | | ( configElement . getType ( ) = = ConfigGuiType . DOUBLE 
 & & ( Double . valueOf ( configElement . getMinValue ( ) . toString ( ) ) ! = - Double . MAX _ VALUE | | Double . valueOf ( configElement . getMaxValue ( ) . toString ( ) ) ! = Double . MAX _ VALUE ) ) ) 
 - toolTip . addAll ( this . mc . fontRendererObj . listFormattedStringToWidth ( 
 - EnumChatFormatting . AQUA + I18n . format ( " fml . configgui . tooltip . defaultNumeric " , configElement . getMinValue ( ) , configElement . getMaxValue ( ) , configElement . getDefault ( ) ) , 300 ) ) ; 
 + Collections . addAll ( toolTip , ( EnumChatFormatting . AQUA + I18n . format ( " fml . configgui . tooltip . defaultNumeric " , configElement . getMinValue ( ) , configElement . getMaxValue ( ) , configElement . getDefault ( ) ) ) . split ( " \ n " ) ) ; 
 else if ( configElement . getType ( ) ! = ConfigGuiType . CONFIG _ CATEGORY ) 
 - toolTip . addAll ( this . mc . fontRendererObj . listFormattedStringToWidth ( EnumChatFormatting . AQUA + I18n . format ( " fml . configgui . tooltip . default " , configElement . getDefault ( ) ) , 300 ) ) ; 
 + Collections . addAll ( toolTip , ( EnumChatFormatting . AQUA + I18n . format ( " fml . configgui . tooltip . default " , configElement . getDefault ( ) ) ) . split ( " \ n " ) ) ; 
 
 if ( configElement . requiresMcRestart ( ) | | owningScreen . allRequireMcRestart ) 
 toolTip . add ( EnumChatFormatting . RED + " [ " + I18n . format ( " fml . configgui . gameRestartTitle " ) + " ] " ) ; 
 diff - - git a / src / main / java / net / minecraftforge / fml / client / config / GuiEditArray . java b / src / main / java / net / minecraftforge / fml / client / config / GuiEditArray . java 
 index 1202b7e . . faccb07 100644 
 - - - a / src / main / java / net / minecraftforge / fml / client / config / GuiEditArray . java 
 + + + b / src / main / java / net / minecraftforge / fml / client / config / GuiEditArray . java 
 @ @ - 15 , 6 + 15 , 7 @ @ package net . minecraftforge . fml . client . config ; 
 import java . io . IOException ; 
 import java . util . ArrayList ; 
 import java . util . Arrays ; 
 + import java . util . Collections ; 
 import java . util . List ; 
 
 import net . minecraft . client . Minecraft ; 
 @ @ - 66 , 14 + 67 , 11 @ @ public class GuiEditArray extends GuiScreen 
 " \ n " + EnumChatFormatting . AQUA , configElement . getDefault ( ) , configElement . getMinValue ( ) , configElement . getMaxValue ( ) ) ; 
 
 if ( ! comment . equals ( configElement . getLanguageKey ( ) + " . tooltip " ) ) 
 - toolTip = mc . fontRendererObj . listFormattedStringToWidth ( 
 - EnumChatFormatting . GREEN + propName + " \ n " + EnumChatFormatting . YELLOW + comment , 300 ) ; 
 + Collections . addAll ( toolTip , ( EnumChatFormatting . GREEN + propName + " \ n " + EnumChatFormatting . YELLOW + comment ) . split ( " \ n " ) ) ; 
 else if ( configElement . getComment ( ) ! = null & & ! configElement . getComment ( ) . trim ( ) . isEmpty ( ) ) 
 - toolTip = mc . fontRendererObj . listFormattedStringToWidth ( 
 - EnumChatFormatting . GREEN + propName + " \ n " + EnumChatFormatting . YELLOW + configElement . getComment ( ) , 300 ) ; 
 + Collections . addAll ( toolTip , ( EnumChatFormatting . GREEN + propName + " \ n " + EnumChatFormatting . YELLOW + configElement . getComment ( ) ) . split ( " \ n " ) ) ; 
 else 
 - toolTip = mc . fontRendererObj . listFormattedStringToWidth ( 
 - EnumChatFormatting . GREEN + propName + " \ n " + EnumChatFormatting . RED + " No tooltip defined . " , 300 ) ; 
 + Collections . addAll ( toolTip , ( EnumChatFormatting . GREEN + propName + " \ n " + EnumChatFormatting . RED + " No tooltip defined . " ) . split ( " \ n " ) ) ; 
 
 if ( parentScreen instanceof GuiConfig ) 
 { 
 @ @ - 205 , 6 + 203 , 6 @ @ public class GuiEditArray extends GuiScreen 
 
 public void drawToolTip ( List < String > stringList , int x , int y ) 
 { 
 - this . drawHoveringText ( stringList , x , y ) ; 
 + GuiUtils . drawHoveringText ( stringList , x , y , width , height , 300 , fontRendererObj ) ; 
 } 
 } 
 diff - - git a / src / main / java / net / minecraftforge / fml / client / config / GuiSelectString . java b / src / main / java / net / minecraftforge / fml / client / config / GuiSelectString . java 
 index e4975fc . . 1c6ef0a 100644 
 - - - a / src / main / java / net / minecraftforge / fml / client / config / GuiSelectString . java 
 + + + b / src / main / java / net / minecraftforge / fml / client / config / GuiSelectString . java 
 @ @ - 14 , 6 + 14 , 7 @ @ package net . minecraftforge . fml . client . config ; 
 
 import java . io . IOException ; 
 import java . util . ArrayList ; 
 + import java . util . Collections ; 
 import java . util . List ; 
 import java . util . Map ; 
 
 @ @ - 65 , 14 + 66 , 11 @ @ public class GuiSelectString extends GuiScreen 
 " \ n " + EnumChatFormatting . AQUA , configElement . getDefault ( ) , configElement . getMinValue ( ) , configElement . getMaxValue ( ) ) ; 
 
 if ( ! comment . equals ( configElement . getLanguageKey ( ) + " . tooltip " ) ) 
 - toolTip = mc . fontRendererObj . listFormattedStringToWidth ( 
 - EnumChatFormatting . GREEN + propName + " \ n " + EnumChatFormatting . YELLOW + comment , 300 ) ; 
 + Collections . addAll ( toolTip , ( EnumChatFormatting . GREEN + propName + " \ n " + EnumChatFormatting . YELLOW + comment ) . split ( " \ n " ) ) ; 
 else if ( configElement . getComment ( ) ! = null & & ! configElement . getComment ( ) . trim ( ) . isEmpty ( ) ) 
 - toolTip = mc . fontRendererObj . listFormattedStringToWidth ( 
 - EnumChatFormatting . GREEN + propName + " \ n " + EnumChatFormatting . YELLOW + configElement . getComment ( ) , 300 ) ; 
 + Collections . addAll ( toolTip , ( EnumChatFormatting . GREEN + propName + " \ n " + EnumChatFormatting . YELLOW + configElement . getComment ( ) ) . split ( " \ n " ) ) ; 
 else 
 - toolTip = mc . fontRendererObj . listFormattedStringToWidth ( 
 - EnumChatFormatting . GREEN + propName + " \ n " + EnumChatFormatting . RED + " No tooltip defined . " , 300 ) ; 
 + Collections . addAll ( toolTip , ( EnumChatFormatting . GREEN + propName + " \ n " + EnumChatFormatting . RED + " No tooltip defined . " ) . split ( " \ n " ) ) ; 
 
 if ( parentScreen instanceof GuiConfig ) 
 { 
 @ @ - 177 , 6 + 175 , 6 @ @ public class GuiSelectString extends GuiScreen 
 
 public void drawToolTip ( List < String > stringList , int x , int y ) 
 { 
 - this . drawHoveringText ( stringList , x , y ) ; 
 + GuiUtils . drawHoveringText ( stringList , x , y , width , height , 300 , fontRendererObj ) ; 
 } 
 } 
 diff - - git a / src / main / java / net / minecraftforge / fml / client / config / GuiUtils . java b / src / main / java / net / minecraftforge / fml / client / config / GuiUtils . java 
 index ecf5f36 . . 636e663 100644 
 - - - a / src / main / java / net / minecraftforge / fml / client / config / GuiUtils . java 
 + + + b / src / main / java / net / minecraftforge / fml / client / config / GuiUtils . java 
 @ @ - 13 , 7 + 13 , 9 @ @ 
 package net . minecraftforge . fml . client . config ; 
 
 import net . minecraft . client . Minecraft ; 
 + import net . minecraft . client . gui . FontRenderer ; 
 import net . minecraft . client . renderer . GlStateManager ; 
 + import net . minecraft . client . renderer . RenderHelper ; 
 import net . minecraft . client . renderer . Tessellator ; 
 import net . minecraft . client . renderer . WorldRenderer ; 
 import net . minecraft . client . renderer . vertex . DefaultVertexFormats ; 
 @ @ - 21 , 6 + 23 , 9 @ @ import net . minecraft . util . ResourceLocation ; 
 
 import org . lwjgl . opengl . GL11 ; 
 
 + import java . util . ArrayList ; 
 + import java . util . List ; 
 + 
 / * * 
 * This class provides several methods and constants used by the Config GUI classes . 
 * 
 @ @ - 193 , 4 + 198 , 183 @ @ public class GuiUtils 
 tessellator . draw ( ) ; 
 } 
 
 + / * * 
 + * Draws a tooltip box on the screen with text in it . 
 + * Automatically positions the box relative to the mouse to match Mojang ' s implementation . 
 + * Automatically wraps text when there is not enough space on the screen to display the text without wrapping . 
 + * Can have a maximum width set to avoid creating very wide tooltips . 
 + * 
 + * @ param textLines the lines of text to be drawn in a hovering tooltip box . 
 + * @ param mouseX the mouse X position 
 + * @ param mouseY the mouse Y position 
 + * @ param screenWidth the available screen width for the tooltip to drawn in 
 + * @ param screenHeight the available screen height for the tooltip to drawn in 
 + * @ param maxTextWidth the maximum width of the text in the tooltip box . 
 + * Set to a negative number to have no max width . 
 + * @ param font the font for drawing the text in the tooltip box 
 + * / 
 + public static void drawHoveringText ( List < String > textLines , final int mouseX , final int mouseY , final int screenWidth , final int screenHeight , final int maxTextWidth , FontRenderer font ) 
 + { 
 + if ( ! textLines . isEmpty ( ) ) 
 + { 
 + GlStateManager . disableRescaleNormal ( ) ; 
 + RenderHelper . disableStandardItemLighting ( ) ; 
 + GlStateManager . disableLighting ( ) ; 
 + GlStateManager . disableDepth ( ) ; 
 + int tooltipTextWidth = 0 ; 
 + 
 + for ( String textLine : textLines ) 
 + { 
 + int textLineWidth = font . getStringWidth ( textLine ) ; 
 + 
 + if ( textLineWidth > tooltipTextWidth ) 
 + { 
 + tooltipTextWidth = textLineWidth ; 
 + } 
 + } 
 + 
 + boolean needsWrap = false ; 
 + 
 + int titleLinesCount = 1 ; 
 + int tooltipX = mouseX + 12 ; 
 + if ( tooltipX + tooltipTextWidth + 4 > screenWidth ) 
 + { 
 + tooltipX = mouseX - 16 - tooltipTextWidth ; 
 + if ( tooltipX < 4 ) / / if the tooltip doesn ' t fit on the screen 
 + { 
 + if ( mouseX > screenWidth / 2 ) 
 + { 
 + tooltipTextWidth = mouseX - 12 - 8 ; 
 + } 
 + else 
 + { 
 + tooltipTextWidth = screenWidth - 16 - mouseX ; 
 + } 
 + needsWrap = true ; 
 + } 
 + } 
 + 
 + if ( maxTextWidth > 0 & & tooltipTextWidth > maxTextWidth ) 
 + { 
 + tooltipTextWidth = maxTextWidth ; 
 + needsWrap = true ; 
 + } 
 + 
 + if ( needsWrap ) 
 + { 
 + int wrappedTooltipWidth = 0 ; 
 + List < String > wrappedTextLines = new ArrayList < String > ( ) ; 
 + for ( int i = 0 ; i < textLines . size ( ) ; i + + ) 
 + { 
 + String textLine = textLines . get ( i ) ; 
 + List < String > wrappedLine = font . listFormattedStringToWidth ( textLine , tooltipTextWidth ) ; 
 + if ( i = = 0 ) 
 + { 
 + titleLinesCount = wrappedLine . size ( ) ; 
 + } 
 + 
 + for ( String line : wrappedLine ) 
 + { 
 + int lineWidth = font . getStringWidth ( line ) ; 
 + if ( lineWidth > wrappedTooltipWidth ) 
 + { 
 + wrappedTooltipWidth = lineWidth ; 
 + } 
 + wrappedTextLines . add ( line ) ; 
 + } 
 + } 
 + tooltipTextWidth = wrappedTooltipWidth ; 
 + textLines = wrappedTextLines ; 
 + 
 + if ( mouseX > screenWidth / 2 ) 
 + { 
 + tooltipX = mouseX - 16 - tooltipTextWidth ; 
 + } 
 + else 
 + { 
 + tooltipX = mouseX + 12 ; 
 + } 
 + } 
 + 
 + int tooltipY = mouseY - 12 ; 
 + int tooltipHeight = 8 ; 
 + 
 + if ( textLines . size ( ) > 1 ) 
 + { 
 + tooltipHeight + = ( textLines . size ( ) - 1 ) * 10 ; 
 + if ( textLines . size ( ) > titleLinesCount ) { 
 + tooltipHeight + = 2 ; / / gap between title lines and next lines 
 + } 
 + } 
 + 
 + if ( tooltipY + tooltipHeight + 6 > screenHeight ) 
 + { 
 + tooltipY = screenHeight - tooltipHeight - 6 ; 
 + } 
 + 
 + final int zLevel = 300 ; 
 + final int backgroundColor = 0xF0100010 ; 
 + drawGradientRect ( zLevel , tooltipX - 3 , tooltipY - 4 , tooltipX + tooltipTextWidth + 3 , tooltipY - 3 , backgroundColor , backgroundColor ) ; 
 + drawGradientRect ( zLevel , tooltipX - 3 , tooltipY + tooltipHeight + 3 , tooltipX + tooltipTextWidth + 3 , tooltipY + tooltipHeight + 4 , backgroundColor , backgroundColor ) ; 
 + drawGradientRect ( zLevel , tooltipX - 3 , tooltipY - 3 , tooltipX + tooltipTextWidth + 3 , tooltipY + tooltipHeight + 3 , backgroundColor , backgroundColor ) ; 
 + drawGradientRect ( zLevel , tooltipX - 4 , tooltipY - 3 , tooltipX - 3 , tooltipY + tooltipHeight + 3 , backgroundColor , backgroundColor ) ; 
 + drawGradientRect ( zLevel , tooltipX + tooltipTextWidth + 3 , tooltipY - 3 , tooltipX + tooltipTextWidth + 4 , tooltipY + tooltipHeight + 3 , backgroundColor , backgroundColor ) ; 
 + final int borderColorStart = 0x505000FF ; 
 + final int borderColorEnd = ( borderColorStart & 0xFEFEFE ) > > 1 | borderColorStart & 0xFF000000 ; 
 + drawGradientRect ( zLevel , tooltipX - 3 , tooltipY - 3 + 1 , tooltipX - 3 + 1 , tooltipY + tooltipHeight + 3 - 1 , borderColorStart , borderColorEnd ) ; 
 + drawGradientRect ( zLevel , tooltipX + tooltipTextWidth + 2 , tooltipY - 3 + 1 , tooltipX + tooltipTextWidth + 3 , tooltipY + tooltipHeight + 3 - 1 , borderColorStart , borderColorEnd ) ; 
 + drawGradientRect ( zLevel , tooltipX - 3 , tooltipY - 3 , tooltipX + tooltipTextWidth + 3 , tooltipY - 3 + 1 , borderColorStart , borderColorStart ) ; 
 + drawGradientRect ( zLevel , tooltipX - 3 , tooltipY + tooltipHeight + 2 , tooltipX + tooltipTextWidth + 3 , tooltipY + tooltipHeight + 3 , borderColorEnd , borderColorEnd ) ; 
 + 
 + for ( int lineNumber = 0 ; lineNumber < textLines . size ( ) ; + + lineNumber ) 
 + { 
 + String line = textLines . get ( lineNumber ) ; 
 + font . drawStringWithShadow ( line , ( float ) tooltipX , ( float ) tooltipY , - 1 ) ; 
 + 
 + if ( lineNumber + 1 = = titleLinesCount ) 
 + { 
 + tooltipY + = 2 ; 
 + } 
 + 
 + tooltipY + = 10 ; 
 + } 
 + 
 + GlStateManager . enableLighting ( ) ; 
 + GlStateManager . enableDepth ( ) ; 
 + RenderHelper . enableStandardItemLighting ( ) ; 
 + GlStateManager . enableRescaleNormal ( ) ; 
 + } 
 + } 
 + 
 + public static void drawGradientRect ( int zLevel , int left , int top , int right , int bottom , int startColor , int endColor ) 
 + { 
 + float startAlpha = ( float ) ( startColor > > 24 & 255 ) / 255 . 0F ; 
 + float startRed = ( float ) ( startColor > > 16 & 255 ) / 255 . 0F ; 
 + float startGreen = ( float ) ( startColor > > 8 & 255 ) / 255 . 0F ; 
 + float startBlue = ( float ) ( startColor & 255 ) / 255 . 0F ; 
 + float endAlpha = ( float ) ( endColor > > 24 & 255 ) / 255 . 0F ; 
 + float endRed = ( float ) ( endColor > > 16 & 255 ) / 255 . 0F ; 
 + float endGreen = ( float ) ( endColor > > 8 & 255 ) / 255 . 0F ; 
 + float endBlue = ( float ) ( endColor & 255 ) / 255 . 0F ; 
 + 
 + GlStateManager . disableTexture2D ( ) ; 
 + GlStateManager . enableBlend ( ) ; 
 + GlStateManager . disableAlpha ( ) ; 
 + GlStateManager . tryBlendFuncSeparate ( 770 , 771 , 1 , 0 ) ; 
 + GlStateManager . shadeModel ( 7425 ) ; 
 + 
 + Tessellator tessellator = Tessellator . getInstance ( ) ; 
 + WorldRenderer worldrenderer = tessellator . getWorldRenderer ( ) ; 
 + worldrenderer . begin ( 7 , DefaultVertexFormats . POSITION _ COLOR ) ; 
 + worldrenderer . pos ( right , top , zLevel ) . color ( startRed , startGreen , startBlue , startAlpha ) . endVertex ( ) ; 
 + worldrenderer . pos ( left , top , zLevel ) . color ( startRed , startGreen , startBlue , startAlpha ) . endVertex ( ) ; 
 + worldrenderer . pos ( left , bottom , zLevel ) . color ( endRed , endGreen , endBlue , endAlpha ) . endVertex ( ) ; 
 + worldrenderer . pos ( right , bottom , zLevel ) . color ( endRed , endGreen , endBlue , endAlpha ) . endVertex ( ) ; 
 + tessellator . draw ( ) ; 
 + 
 + GlStateManager . shadeModel ( 7424 ) ; 
 + GlStateManager . disableBlend ( ) ; 
 + GlStateManager . enableAlpha ( ) ; 
 + GlStateManager . enableTexture2D ( ) ; 
 + } 
 }

NEAREST DIFF:
diff - - git a / client / net / minecraftforge / client / ForgeHooksClient . java b / client / net / minecraftforge / client / ForgeHooksClient . java 
 index 7c2ad32 . . dcba24b 100644 
 - - - a / client / net / minecraftforge / client / ForgeHooksClient . java 
 + + + b / client / net / minecraftforge / client / ForgeHooksClient . java 
 @ @ - 30 , 6 + 30 , 8 @ @ import net . minecraft . item . ItemStack ; 
 import net . minecraft . util . MathHelper ; 
 import net . minecraft . util . MovingObjectPosition ; 
 import net . minecraft . util . ResourceLocation ; 
 + import net . minecraft . world . World ; 
 + import net . minecraft . world . biome . BiomeGenBase ; 
 import net . minecraft . client . model . ModelBiped ; 
 import net . minecraft . client . renderer . RenderBlocks ; 
 import net . minecraft . client . renderer . RenderGlobal ; 
 @ @ - 41 , 6 + 43 , 7 @ @ import net . minecraftforge . client . IItemRenderer . ItemRenderType ; 
 import net . minecraftforge . client . event . DrawBlockHighlightEvent ; 
 import net . minecraftforge . client . event . RenderWorldLastEvent ; 
 import net . minecraftforge . client . event . TextureStitchEvent ; 
 + import net . minecraftforge . common . ForgeDummyContainer ; 
 import net . minecraftforge . common . MinecraftForge ; 
 import net . minecraftforge . fluids . FluidRegistry ; 
 import net . minecraftforge . fluids . RenderBlockFluid ; 
 @ @ - 50 , 6 + 53 , 7 @ @ import static net . minecraftforge . client . IItemRenderer . ItemRendererHelper . * ; 
 public class ForgeHooksClient 
 { 
 private static final ResourceLocation ITEM _ GLINT = new ResourceLocation ( " textures / misc / enchanted _ item _ glint . png " ) ; 
 + 
 static TextureManager engine ( ) 
 { 
 return FMLClientHandler . instance ( ) . getClient ( ) . renderEngine ; 
 @ @ - 338 , 6 + 342 , 44 @ @ public class ForgeHooksClient 
 return fovUpdateEvent . newfov ; 
 } 
 
 + private static int skyX , skyZ ; 
 + 
 + private static boolean skyInit ; 
 + private static int skyRGBMultiplier ; 
 + 
 + public static int getSkyBlendColour ( World world , int playerX , int playerZ ) 
 + { 
 + if ( playerX = = skyX & & playerZ = = skyZ & & skyInit ) 
 + { 
 + return skyRGBMultiplier ; 
 + } 
 + skyInit = true ; 
 + 
 + int distance = Minecraft . getMinecraft ( ) . gameSettings . fancyGraphics ? ForgeDummyContainer . blendRanges [ Minecraft . getMinecraft ( ) . gameSettings . renderDistance ] : 0 ; 
 + 
 + int r = 0 ; 
 + int g = 0 ; 
 + int b = 0 ; 
 + 
 + for ( int x = - distance ; x < = distance ; + + x ) 
 + { 
 + for ( int z = - distance ; z < = distance ; + + z ) 
 + { 
 + BiomeGenBase biome = world . getBiomeGenForCoords ( playerX + x , playerZ + z ) ; 
 + int colour = biome . getSkyColorByTemp ( biome . getFloatTemperature ( ) ) ; 
 + r + = ( colour & 0xFF0000 ) > > 16 ; 
 + g + = ( colour & 0x00FF00 ) > > 8 ; 
 + b + = colour & 0x0000FF ; 
 + } 
 + } 
 + 
 + int multiplier = ( r / 1681 & 255 ) < < 16 | ( g / 1681 & 255 ) < < 8 | b / 1681 & 255 ; 
 + 
 + skyX = playerX ; 
 + skyZ = playerZ ; 
 + skyRGBMultiplier = multiplier ; 
 + return skyRGBMultiplier ; 
 + } 
 / * * 
 * Initialization of Forge Renderers . 
 * / 
 diff - - git a / common / net / minecraftforge / common / ForgeDummyContainer . java b / common / net / minecraftforge / common / ForgeDummyContainer . java 
 index a8c2b27 . . 881f533 100644 
 - - - a / common / net / minecraftforge / common / ForgeDummyContainer . java 
 + + + b / common / net / minecraftforge / common / ForgeDummyContainer . java 
 @ @ - 51 , 6 + 51 , 8 @ @ public class ForgeDummyContainer extends DummyModContainer implements WorldAcces 
 public static boolean disableStitchedFileSaving = false ; 
 public static boolean forceDuplicateFluidBlockCrash = true ; 
 public static boolean fullBoundingBoxLadders = false ; 
 + 
 + public static int [ ] blendRanges = { 20 , 15 , 10 , 5 } ; 
 
 public ForgeDummyContainer ( ) 
 { 
 @ @ - 139 , 6 + 141 , 10 @ @ public class ForgeDummyContainer extends DummyModContainer implements WorldAcces 
 FMLLog . warning ( " Disabling forced crashes on duplicate Fluid Blocks - USE AT YOUR OWN RISK " ) ; 
 } 
 
 + prop = config . get ( Configuration . CATEGORY _ GENERAL , " biomeSkyBlendRange " , new int [ ] { 20 , 15 , 10 , 5 } ) ; 
 + prop . comment = " Control the range of sky blending for colored skies in biomes . " ; 
 + blendRanges = prop . getIntList ( ) ; 
 + 
 if ( config . hasChanged ( ) ) 
 { 
 config . save ( ) ; 
 diff - - git a / patches / minecraft / net / minecraft / world / World . java . patch b / patches / minecraft / net / minecraft / world / World . java . patch 
 index 3b22a59 . . 88d9ad7 100644 
 - - - a / patches / minecraft / net / minecraft / world / World . java . patch 
 + + + b / patches / minecraft / net / minecraft / world / World . java . patch 
 @ @ - 7 , 12 + 7 , 13 @ @ 
 import cpw . mods . fml . relauncher . Side ; 
 import cpw . mods . fml . relauncher . SideOnly ; 
 import java . util . ArrayList ; 
 - @ @ - 53 , 8 + 54 , 32 @ @ 
 + @ @ - 53 , 8 + 54 , 33 @ @ 
 import net . minecraft . world . storage . MapStorage ; 
 import net . minecraft . world . storage . WorldInfo ; 
 
 + import com . google . common . collect . ImmutableSetMultimap ; 
 + 
 + + import net . minecraftforge . client . ForgeHooksClient ; 
 + import net . minecraftforge . common . ForgeChunkManager ; 
 + import net . minecraftforge . common . ForgeChunkManager . Ticket ; 
 + import net . minecraftforge . common . ForgeDummyContainer ; 
 @ @ - 40 , 7 + 41 , 7 @ @ 
 / * * 
 * boolean ; if true updates scheduled by scheduleBlockUpdate happen immediately 
 * / 
 - @ @ - 167 , 6 + 192 , 11 @ @ 
 + @ @ - 167 , 6 + 193 , 11 @ @ 
 * / 
 public BiomeGenBase getBiomeGenForCoords ( int par1 , int par2 ) 
 { 
 @ @ - 52 , 7 + 53 , 7 @ @ 
 if ( this . blockExists ( par1 , 0 , par2 ) ) 
 { 
 Chunk chunk = this . getChunkFromBlockCoords ( par1 , par2 ) ; 
 - @ @ - 194 , 8 + 224 , 15 @ @ 
 + @ @ - 194 , 8 + 225 , 15 @ @ 
 this . theProfiler = par5Profiler ; 
 this . worldInfo = new WorldInfo ( par4WorldSettings , par2Str ) ; 
 this . provider = par3WorldProvider ; 
 @ @ - 69 , 7 + 70 , 7 @ @ 
 VillageCollection villagecollection = ( VillageCollection ) this . mapStorage . loadData ( VillageCollection . class , " villages " ) ; 
 
 if ( villagecollection = = null ) 
 - @ @ - 208 , 8 + 245 , 10 @ @ 
 + @ @ - 208 , 8 + 246 , 10 @ @ 
 this . villageCollectionObj = villagecollection ; 
 this . villageCollectionObj . func _ 82566 _ a ( this ) ; 
 } 
 @ @ - 82 , 7 + 83 , 7 @ @ 
 this . chunkProvider = this . createChunkProvider ( ) ; 
 this . calculateInitialSkylight ( ) ; 
 this . calculateInitialWeather ( ) ; 
 - @ @ - 221 , 7 + 260 , 7 @ @ 
 + @ @ - 221 , 7 + 261 , 7 @ @ 
 this . lightUpdateBlockList = new int [ 32768 ] ; 
 this . saveHandler = par1ISaveHandler ; 
 this . theProfiler = par5Profiler ; 
 @ @ - 91 , 7 + 92 , 7 @ @ 
 this . worldLogAgent = par6ILogAgent ; 
 this . worldInfo = par1ISaveHandler . loadWorldInfo ( ) ; 
 
 - @ @ - 275 , 12 + 314 , 20 @ @ 
 + @ @ - 275 , 12 + 315 , 20 @ @ 
 this . worldInfo . setServerInitialized ( true ) ; 
 } 
 
 @ @ - 114 , 7 + 115 , 7 @ @ 
 } 
 else 
 { 
 - @ @ - 290 , 6 + 337 , 20 @ @ 
 + @ @ - 290 , 6 + 338 , 20 @ @ 
 
 this . calculateInitialSkylight ( ) ; 
 this . calculateInitialWeather ( ) ; 
 @ @ - 135 , 7 + 136 , 7 @ @ 
 } 
 
 / * * 
 - @ @ - 373 , 7 + 434 , 8 @ @ 
 + @ @ - 373 , 7 + 435 , 8 @ @ 
 * / 
 public boolean isAirBlock ( int par1 , int par2 , int par3 ) 
 { 
 @ @ - 145 , 7 + 146 , 7 @ @ 
 } 
 
 / * * 
 - @ @ - 382 , 7 + 444 , 8 @ @ 
 + @ @ - 382 , 7 + 445 , 8 @ @ 
 public boolean blockHasTileEntity ( int par1 , int par2 , int par3 ) 
 { 
 int l = this . getBlockId ( par1 , par2 , par3 ) ; 
 @ @ - 155 , 7 + 156 , 7 @ @ 
 } 
 
 / * * 
 - @ @ - 1157 , 7 + 1220 , 7 @ @ 
 + @ @ - 1157 , 7 + 1221 , 7 @ @ 
 * / 
 public boolean isDaytime ( ) 
 { 
 @ @ - 164 , 7 + 165 , 7 @ @ 
 } 
 
 / * * 
 - @ @ - 1192 , 7 + 1255 , 7 @ @ 
 + @ @ - 1192 , 7 + 1256 , 7 @ @ 
 int l1 = this . getBlockMetadata ( l , i1 , j1 ) ; 
 Block block = Block . blocksList [ k1 ] ; 
 
 @ @ - 173 , 7 + 174 , 7 @ @ 
 { 
 MovingObjectPosition movingobjectposition = block . collisionRayTrace ( this , l , i1 , j1 , par1Vec3 , par2Vec3 ) ; 
 
 - @ @ - 1392 , 6 + 1455 , 12 @ @ 
 + @ @ - 1392 , 6 + 1456 , 12 @ @ 
 * / 
 public void playSoundAtEntity ( Entity par1Entity , String par2Str , float par3 , float par4 ) 
 { 
 @ @ - 186 , 7 + 187 , 7 @ @ 
 if ( par1Entity ! = null & & par2Str ! = null ) 
 { 
 for ( int i = 0 ; i < this . worldAccesses . size ( ) ; + + i ) 
 - @ @ - 1406 , 6 + 1475 , 12 @ @ 
 + @ @ - 1406 , 6 + 1476 , 12 @ @ 
 * / 
 public void playSoundToNearExcept ( EntityPlayer par1EntityPlayer , String par2Str , float par3 , float par4 ) 
 { 
 @ @ - 199 , 7 + 200 , 7 @ @ 
 if ( par1EntityPlayer ! = null & & par2Str ! = null ) 
 { 
 for ( int i = 0 ; i < this . worldAccesses . size ( ) ; + + i ) 
 - @ @ - 1492 , 6 + 1567 , 11 @ @ 
 + @ @ - 1492 , 6 + 1568 , 11 @ @ 
 EntityPlayer entityplayer = ( EntityPlayer ) par1Entity ; 
 this . playerEntities . add ( entityplayer ) ; 
 this . updateAllPlayersSleepingFlag ( ) ; 
 @ @ - 211 , 20 + 212 , 20 @ @ 
 } 
 
 this . getChunkFromChunkCoords ( i , j ) . addEntity ( par1Entity ) ; 
 - @ @ - 1732 , 6 + 1812 , 12 @ @ 
 - * Calculates the color for the skybox 
 + @ @ - 1733 , 6 + 1814 , 12 @ @ 
 * / 
 public Vec3 getSkyColor ( Entity par1Entity , float par2 ) 
 - + { 
 + { 
 + return provider . getSkyColor ( par1Entity , par2 ) ; 
 + } 
 + 
 + @ SideOnly ( Side . CLIENT ) 
 + public Vec3 getSkyColorBody ( Entity par1Entity , float par2 ) 
 - { 
 + + { 
 float f1 = this . getCelestialAngle ( par2 ) ; 
 float f2 = MathHelper . cos ( f1 * ( float ) Math . PI * 2 . 0F ) * 2 . 0F + 0 . 5F ; 
 - @ @ - 1831 , 15 + 1831 , 31 @ @ 
 + 
 + @ @ - 1745 , 15 + 1832 , 15 @ @ 
 { 
 f2 = 1 . 0F ; 
 } 
 @ @ - 239 , 23 + 240 , 7 @ @ 
 - float f5 = ( float ) ( k > > 8 & 255 ) / 255 . 0F ; 
 - float f6 = ( float ) ( k & 255 ) / 255 . 0F ; 
 + 
 - + int r = 0 ; 
 - + int g = 0 ; 
 - + int b = 0 ; 
 - + 
 - + for ( int x = - 20 ; x < = 20 ; + + x ) 
 - + { 
 - + for ( int z = - 20 ; z < = 20 ; + + z ) 
 - + { 
 - + BiomeGenBase biome = this . getBiomeGenForCoords ( i + x , j + z ) ; 
 - + int colour = biome . getSkyColorByTemp ( biome . getFloatTemperature ( ) ) ; 
 - + r + = ( colour & 16711680 ) > > 16 ; 
 - + g + = ( colour & 65280 ) > > 8 ; 
 - + b + = colour & 255 ; 
 - + } 
 - + } 
 - + 
 - + int multiplier = ( r / 1681 & 255 ) < < 16 | ( g / 1681 & 255 ) < < 8 | b / 1681 & 255 ; 
 + + int multiplier = ForgeHooksClient . getSkyBlendColour ( this , i , j ) ; 
 + 
 + float f4 = ( float ) ( multiplier > > 16 & 255 ) / 255 . 0F ; 
 + float f5 = ( float ) ( multiplier > > 8 & 255 ) / 255 . 0F ; 
 @ @ - 263 , 7 + 248 , 7 @ @ 
 f4 * = f2 ; 
 f5 * = f2 ; 
 f6 * = f2 ; 
 - @ @ - 1833 , 6 + 1919 , 12 @ @ 
 + @ @ - 1833 , 6 + 1920 , 12 @ @ 
 @ SideOnly ( Side . CLIENT ) 
 public Vec3 getCloudColour ( float par1 ) 
 { 
 @ @ - 276 , 7 + 261 , 7 @ @ 
 float f1 = this . getCelestialAngle ( par1 ) ; 
 float f2 = MathHelper . cos ( f1 * ( float ) Math . PI * 2 . 0F ) * 2 . 0F + 0 . 5F ; 
 
 - @ @ - 1904 , 6 + 1996 , 8 @ @ 
 + @ @ - 1904 , 6 + 1997 , 8 @ @ 
 public int getTopSolidOrLiquidBlock ( int par1 , int par2 ) 
 { 
 Chunk chunk = this . getChunkFromBlockCoords ( par1 , par2 ) ; 
 @ @ - 285 , 7 + 270 , 7 @ @ 
 int k = chunk . getTopFilledSegment ( ) + 15 ; 
 par1 & = 15 ; 
 
 - @ @ - 1911 , 7 + 2005 , 7 @ @ 
 + @ @ - 1911 , 7 + 2006 , 7 @ @ 
 { 
 int l = chunk . getBlockID ( par1 , k , par2 ) ; 
 
 @ @ - 294 , 7 + 279 , 7 @ @ 
 { 
 return k + 1 ; 
 } 
 - @ @ - 1926 , 6 + 2020 , 12 @ @ 
 + @ @ - 1926 , 6 + 2021 , 12 @ @ 
 * How bright are stars in the sky 
 * / 
 public float getStarBrightness ( float par1 ) 
 @ @ - 307 , 7 + 292 , 7 @ @ 
 { 
 float f1 = this . getCelestialAngle ( par1 ) ; 
 float f2 = 1 . 0F - ( MathHelper . cos ( f1 * ( float ) Math . PI * 2 . 0F ) * 2 . 0F + 0 . 25F ) ; 
 - @ @ - 1990 , 7 + 2090 , 15 @ @ 
 + @ @ - 1990 , 7 + 2091 , 15 @ @ 
 entity . addEntityCrashInfo ( crashreportcategory ) ; 
 } 
 
 @ @ - 324 , 7 + 309 , 7 @ @ 
 } 
 
 if ( entity . isDead ) 
 - @ @ - 2052 , 7 + 2160 , 16 @ @ 
 + @ @ - 2052 , 7 + 2161 , 16 @ @ 
 crashreport = CrashReport . makeCrashReport ( throwable1 , " Ticking entity " ) ; 
 crashreportcategory = crashreport . makeCategory ( " Entity being ticked " ) ; 
 entity . addEntityCrashInfo ( crashreportcategory ) ; 
 @ @ - 342 , 7 + 327 , 7 @ @ 
 } 
 } 
 
 - @ @ - 2095 , 7 + 2212 , 16 @ @ 
 + @ @ - 2095 , 7 + 2213 , 16 @ @ 
 crashreport = CrashReport . makeCrashReport ( throwable2 , " Ticking tile entity " ) ; 
 crashreportcategory = crashreport . makeCategory ( " Tile entity being ticked " ) ; 
 tileentity . func _ 85027 _ a ( crashreportcategory ) ; 
 @ @ - 360 , 7 + 345 , 7 @ @ 
 } 
 } 
 
 - @ @ - 2109 , 7 + 2235 , 7 @ @ 
 + @ @ - 2109 , 7 + 2236 , 7 @ @ 
 
 if ( chunk ! = null ) 
 { 
 @ @ - 369 , 7 + 354 , 7 @ @ 
 } 
 } 
 } 
 - @ @ - 2118 , 6 + 2244 , 10 @ @ 
 + @ @ - 2118 , 6 + 2245 , 10 @ @ 
 
 if ( ! this . entityRemoval . isEmpty ( ) ) 
 { 
 @ @ - 380 , 7 + 365 , 7 @ @ 
 this . loadedTileEntityList . removeAll ( this . entityRemoval ) ; 
 this . entityRemoval . clear ( ) ; 
 } 
 - @ @ - 2138 , 18 + 2268 , 18 @ @ 
 + @ @ - 2138 , 18 + 2269 , 18 @ @ 
 { 
 this . loadedTileEntityList . add ( tileentity1 ) ; 
 } 
 @ @ - 403 , 7 + 388 , 7 @ @ 
 } 
 } 
 
 - @ @ - 2162 , 13 + 2292 , 13 @ @ 
 + @ @ - 2162 , 13 + 2293 , 13 @ @ 
 
 public void addTileEntity ( Collection par1Collection ) 
 { 
 @ @ - 424 , 7 + 409 , 7 @ @ 
 } 
 } 
 
 - @ @ - 2188 , 9 + 2318 , 17 @ @ 
 + @ @ - 2188 , 9 + 2319 , 17 @ @ 
 { 
 int i = MathHelper . floor _ double ( par1Entity . posX ) ; 
 int j = MathHelper . floor _ double ( par1Entity . posZ ) ; 
 @ @ - 445 , 7 + 430 , 7 @ @ 
 { 
 par1Entity . lastTickPosX = par1Entity . posX ; 
 par1Entity . lastTickPosY = par1Entity . posY ; 
 - @ @ - 2424 , 6 + 2562 , 14 @ @ 
 + @ @ - 2424 , 6 + 2563 , 14 @ @ 
 { 
 return true ; 
 } 
 @ @ - 460 , 7 + 445 , 7 @ @ 
 } 
 } 
 } 
 - @ @ - 2746 , 15 + 2892 , 16 @ @ 
 + @ @ - 2746 , 15 + 2893 , 16 @ @ 
 * / 
 public void setBlockTileEntity ( int par1 , int par2 , int par3 , TileEntity par4TileEntity ) 
 { 
 @ @ - 486 , 7 + 471 , 7 @ @ 
 while ( iterator . hasNext ( ) ) 
 { 
 TileEntity tileentity1 = ( TileEntity ) iterator . next ( ) ; 
 - @ @ - 2765 , 20 + 2912 , 21 @ @ 
 + @ @ - 2765 , 20 + 2913 , 21 @ @ 
 iterator . remove ( ) ; 
 } 
 } 
 @ @ - 519 , 7 + 504 , 7 @ @ 
 } 
 
 / * * 
 - @ @ - 2786 , 28 + 2934 , 13 @ @ 
 + @ @ - 2786 , 28 + 2935 , 13 @ @ 
 * / 
 public void removeBlockTileEntity ( int par1 , int par2 , int par3 ) 
 { 
 @ @ - 555 , 7 + 540 , 7 @ @ 
 } 
 
 / * * 
 - @ @ - 2832 , 7 + 2965 , 8 @ @ 
 + @ @ - 2832 , 7 + 2966 , 8 @ @ 
 * / 
 public boolean isBlockNormalCube ( int par1 , int par2 , int par3 ) 
 { 
 @ @ - 565 , 7 + 550 , 7 @ @ 
 } 
 
 public boolean isBlockFullCube ( int par1 , int par2 , int par3 ) 
 - @ @ - 2855 , 16 + 2989 , 17 @ @ 
 + @ @ - 2855 , 16 + 2990 , 17 @ @ 
 * / 
 public boolean doesBlockHaveSolidTopSurface ( int par1 , int par2 , int par3 ) 
 { 
 @ @ - 585 , 7 + 570 , 7 @ @ 
 return par1Block = = null ? false : ( par1Block . blockMaterial . isOpaque ( ) & & par1Block . renderAsNormalBlock ( ) ? true : ( par1Block instanceof BlockStairs ? ( par2 & 4 ) = = 4 : ( par1Block instanceof BlockHalfSlab ? ( par2 & 8 ) = = 8 : ( par1Block instanceof BlockHopper ? true : ( par1Block instanceof BlockSnow ? ( par2 & 7 ) = = 7 : false ) ) ) ) ) ; 
 } 
 
 - @ @ - 2881 , 7 + 3016 , 7 @ @ 
 + @ @ - 2881 , 7 + 3017 , 7 @ @ 
 if ( chunk ! = null & & ! chunk . isEmpty ( ) ) 
 { 
 Block block = Block . blocksList [ this . getBlockId ( par1 , par2 , par3 ) ] ; 
 @ @ - 594 , 7 + 579 , 7 @ @ 
 } 
 else 
 { 
 - @ @ - 2912 , 8 + 3047 , 7 @ @ 
 + @ @ - 2912 , 8 + 3048 , 7 @ @ 
 * / 
 public void setAllowedSpawnTypes ( boolean par1 , boolean par2 ) 
 { 
 @ @ - 604 , 7 + 589 , 7 @ @ 
 } 
 
 / * * 
 - @ @ - 2929 , 6 + 3063 , 11 @ @ 
 + @ @ - 2929 , 6 + 3064 , 11 @ @ 
 * / 
 private void calculateInitialWeather ( ) 
 { 
 @ @ - 616 , 7 + 601 , 7 @ @ 
 if ( this . worldInfo . isRaining ( ) ) 
 { 
 this . rainingStrength = 1 . 0F ; 
 - @ @ - 2944 , 6 + 3083 , 11 @ @ 
 + @ @ - 2944 , 6 + 3084 , 11 @ @ 
 * Updates all weather states . 
 * / 
 protected void updateWeather ( ) 
 @ @ - 628 , 7 + 613 , 7 @ @ 
 { 
 if ( ! this . provider . hasNoSky ) 
 { 
 - @ @ - 3041 , 12 + 3185 , 14 @ @ 
 + @ @ - 3041 , 12 + 3186 , 14 @ @ 
 
 public void toggleRain ( ) 
 { 
 @ @ - 644 , 7 + 629 , 7 @ @ 
 this . theProfiler . startSection ( " buildList " ) ; 
 int i ; 
 EntityPlayer entityplayer ; 
 - @ @ - 3153 , 6 + 3299 , 11 @ @ 
 + @ @ - 3153 , 6 + 3300 , 11 @ @ 
 * / 
 public boolean canBlockFreeze ( int par1 , int par2 , int par3 , boolean par4 ) 
 { 
 @ @ - 656 , 7 + 641 , 7 @ @ 
 BiomeGenBase biomegenbase = this . getBiomeGenForCoords ( par1 , par3 ) ; 
 float f = biomegenbase . getFloatTemperature ( ) ; 
 
 - @ @ - 3211 , 6 + 3362 , 11 @ @ 
 + @ @ - 3211 , 6 + 3363 , 11 @ @ 
 * / 
 public boolean canSnowAt ( int par1 , int par2 , int par3 ) 
 { 
 @ @ - 668 , 7 + 653 , 7 @ @ 
 BiomeGenBase biomegenbase = this . getBiomeGenForCoords ( par1 , par3 ) ; 
 float f = biomegenbase . getFloatTemperature ( ) ; 
 
 - @ @ - 3254 , 10 + 3410 , 12 @ @ 
 + @ @ - 3254 , 10 + 3411 , 12 @ @ 
 else 
 { 
 int l = this . getBlockId ( par1 , par2 , par3 ) ; 
 @ @ - 685 , 7 + 670 , 7 @ @ 
 { 
 j1 = 1 ; 
 } 
 - @ @ - 3353 , 7 + 3511 , 9 @ @ 
 + @ @ - 3353 , 7 + 3512 , 9 @ @ 
 int j4 = i2 + Facing . offsetsXForSide [ i4 ] ; 
 int k4 = j2 + Facing . offsetsYForSide [ i4 ] ; 
 int l4 = k2 + Facing . offsetsZForSide [ i4 ] ; 
 @ @ - 696 , 7 + 681 , 7 @ @ 
 i3 = this . getSavedLightValue ( par1EnumSkyBlock , j4 , k4 , l4 ) ; 
 
 if ( i3 = = l2 - i5 & & i1 < this . lightUpdateBlockList . length ) 
 - @ @ - 3456 , 10 + 3616 , 10 @ @ 
 + @ @ - 3456 , 10 + 3617 , 10 @ @ 
 public List getEntitiesWithinAABBExcludingEntity ( Entity par1Entity , AxisAlignedBB par2AxisAlignedBB , IEntitySelector par3IEntitySelector ) 
 { 
 ArrayList arraylist = new ArrayList ( ) ; 
 @ @ - 711 , 7 + 696 , 7 @ @ 
 
 for ( int i1 = i ; i1 < = j ; + + i1 ) 
 { 
 - @ @ - 3485 , 10 + 3645 , 10 @ @ 
 + @ @ - 3485 , 10 + 3646 , 10 @ @ 
 
 public List selectEntitiesWithinAABB ( Class par1Class , AxisAlignedBB par2AxisAlignedBB , IEntitySelector par3IEntitySelector ) 
 { 
 @ @ - 726 , 7 + 711 , 7 @ @ 
 ArrayList arraylist = new ArrayList ( ) ; 
 
 for ( int i1 = i ; i1 < = j ; + + i1 ) 
 - @ @ - 3582 , 11 + 3742 , 14 @ @ 
 + @ @ - 3582 , 11 + 3743 , 14 @ @ 
 * / 
 public void addLoadedEntities ( List par1List ) 
 { 
 @ @ - 744 , 7 + 729 , 7 @ @ 
 } 
 } 
 
 - @ @ - 3620 , 6 + 3783 , 11 @ @ 
 + @ @ - 3620 , 6 + 3784 , 11 @ @ 
 else 
 { 
 if ( block ! = null & & ( block = = Block . waterMoving | | block = = Block . waterStill | | block = = Block . lavaMoving | | block = = Block . lavaStill | | block = = Block . fire | | block . blockMaterial . isReplaceable ( ) ) ) 
 @ @ - 756 , 7 + 741 , 7 @ @ 
 { 
 block = null ; 
 } 
 - @ @ - 3914 , 7 + 4082 , 7 @ @ 
 + @ @ - 3914 , 7 + 4083 , 7 @ @ 
 * / 
 public long getSeed ( ) 
 { 
 @ @ - 765 , 7 + 750 , 7 @ @ 
 } 
 
 public long getTotalWorldTime ( ) 
 - @ @ - 3924 , 7 + 4092 , 7 @ @ 
 + @ @ - 3924 , 7 + 4093 , 7 @ @ 
 
 public long getWorldTime ( ) 
 { 
 @ @ - 774 , 7 + 759 , 7 @ @ 
 } 
 
 / * * 
 - @ @ - 3932 , 7 + 4100 , 7 @ @ 
 + @ @ - 3932 , 7 + 4101 , 7 @ @ 
 * / 
 public void setWorldTime ( long par1 ) 
 { 
 @ @ - 783 , 7 + 768 , 7 @ @ 
 } 
 
 / * * 
 - @ @ - 3940 , 13 + 4108 , 13 @ @ 
 + @ @ - 3940 , 13 + 4109 , 13 @ @ 
 * / 
 public ChunkCoordinates getSpawnPoint ( ) 
 { 
 @ @ - 799 , 7 + 784 , 7 @ @ 
 } 
 
 @ SideOnly ( Side . CLIENT ) 
 - @ @ - 3970 , 7 + 4138 , 10 @ @ 
 + @ @ - 3970 , 7 + 4139 , 10 @ @ 
 
 if ( ! this . loadedEntityList . contains ( par1Entity ) ) 
 { 
 @ @ - 811 , 7 + 796 , 7 @ @ 
 } 
 } 
 
 - @ @ - 3978 , 6 + 4149 , 11 @ @ 
 + @ @ - 3978 , 6 + 4150 , 11 @ @ 
 * Called when checking if a certain block can be mined or not . The ' spawn safe zone ' check is located here . 
 * / 
 public boolean canMineBlock ( EntityPlayer par1EntityPlayer , int par2 , int par3 , int par4 ) 
 @ @ - 823 , 7 + 808 , 7 @ @ 
 { 
 return true ; 
 } 
 - @ @ - 4098 , 8 + 4274 , 7 @ @ 
 + @ @ - 4098 , 8 + 4275 , 7 @ @ 
 * / 
 public boolean isBlockHighHumidity ( int par1 , int par2 , int par3 ) 
 { 
 @ @ - 833 , 7 + 818 , 7 @ @ 
 } 
 
 / * * 
 - @ @ - 4174 , 7 + 4349 , 7 @ @ 
 + @ @ - 4174 , 7 + 4350 , 7 @ @ 
 * / 
 public int getHeight ( ) 
 { 
 @ @ - 842 , 7 + 827 , 7 @ @ 
 } 
 
 / * * 
 - @ @ - 4182 , 7 + 4357 , 7 @ @ 
 + @ @ - 4182 , 7 + 4358 , 7 @ @ 
 * / 
 public int getActualHeight ( ) 
 { 
 @ @ - 851 , 7 + 836 , 7 @ @ 
 } 
 
 public IUpdatePlayerListBox getMinecartSoundUpdater ( EntityMinecart par1EntityMinecart ) 
 - @ @ - 4225 , 7 + 4400 , 7 @ @ 
 + @ @ - 4225 , 7 + 4401 , 7 @ @ 
 * / 
 public double getHorizon ( ) 
 { 
 @ @ - 860 , 7 + 845 , 7 @ @ 
 } 
 
 / * * 
 - @ @ - 4294 , 30 + 4469 , 28 @ @ 
 + @ @ - 4294 , 30 + 4470 , 28 @ @ 
 
 public void func _ 96440 _ m ( int par1 , int par2 , int par3 , int par4 ) 
 { 
 @ @ - 912 , 7 + 897 , 7 @ @ 
 } 
 } 
 } 
 - @ @ - 4363 , 4 + 4536 , 115 @ @ 
 + @ @ - 4363 , 4 + 4537 , 115 @ @ 
 
 return MathHelper . clamp _ float ( f , 0 . 0F , flag ? 1 . 5F : 1 . 0F ) ; 
 }
