BLEU SCORE: 0.04767707020457096

TEST MSG: Fix WordServer . canCreatureTypeSpawnHere not using Forge Events .
GENERATED MSG: Added CreateSpawnPosition event .

TEST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / world / WorldServer . java . patch b / patches / minecraft / net / minecraft / world / WorldServer . java . patch <nl> index 4208fb5 . . 08b38c2 100644 <nl> - - - a / patches / minecraft / net / minecraft / world / WorldServer . java . patch <nl> + + + b / patches / minecraft / net / minecraft / world / WorldServer . java . patch <nl> @ @ - 60 , 7 + 60 , 7 @ @ <nl> this . field _ 72984 _ F . func _ 76319 _ b ( ) ; <nl> this . func _ 147488 _ Z ( ) ; <nl> } <nl> - @ @ - 217 , 6 + 237 , 7 @ @ <nl> + @ @ - 217 , 12 + 237 , 14 @ @ <nl> public BiomeGenBase . SpawnListEntry func _ 175734 _ a ( EnumCreatureType p _ 175734 _ 1 _ , BlockPos p _ 175734 _ 2 _ ) <nl> { <nl> List < BiomeGenBase . SpawnListEntry > list = this . func _ 72863 _ F ( ) . func _ 177458 _ a ( p _ 175734 _ 1 _ , p _ 175734 _ 2 _ ) ; <nl> @ @ - 68 , 7 + 68 , 14 @ @ <nl> return list ! = null & & ! list . isEmpty ( ) ? ( BiomeGenBase . SpawnListEntry ) WeightedRandom . func _ 76271 _ a ( this . field _ 73012 _ v , list ) : null ; <nl> } <nl> <nl> - @ @ - 268 , 10 + 289 , 7 @ @ <nl> + public boolean func _ 175732 _ a ( EnumCreatureType p _ 175732 _ 1 _ , BiomeGenBase . SpawnListEntry p _ 175732 _ 2 _ , BlockPos p _ 175732 _ 3 _ ) <nl> + { <nl> + List < BiomeGenBase . SpawnListEntry > list = this . func _ 72863 _ F ( ) . func _ 177458 _ a ( p _ 175732 _ 1 _ , p _ 175732 _ 3 _ ) ; <nl> + + list = net . minecraftforge . event . ForgeEventFactory . getPotentialSpawns ( this , p _ 175732 _ 1 _ , p _ 175732 _ 3 _ , list ) ; <nl> + return list ! = null & & ! list . isEmpty ( ) ? list . contains ( p _ 175732 _ 2 _ ) : false ; <nl> + } <nl> + <nl> + @ @ - 268 , 10 + 290 , 7 @ @ <nl> <nl> private void func _ 73051 _ P ( ) <nl> { <nl> diff - - git a / src / main / java / net / minecraftforge / event / world / WorldEvent . java b / src / main / java / net / minecraftforge / event / world / WorldEvent . java <nl> index 5b8e184 . . 9e8bc16 100644 <nl> - - - a / src / main / java / net / minecraftforge / event / world / WorldEvent . java <nl> + + + b / src / main / java / net / minecraftforge / event / world / WorldEvent . java <nl> @ @ - 87 , 6 + 87 , 10 @ @ public class WorldEvent extends Event <nl> <nl> / * * <nl> * Called by WorldServer to gather a list of all possible entities that can spawn at the specified location . <nl> + * If an entry is added to the list , it needs to be a globally unique instance . <nl> + * The event is called in WorldServer # getSpawnListEntryForTypeAt ( EnumCreatureType , BlockPos ) as well as <nl> + * WorldServer # canCreatureTypeSpawnHere ( EnumCreatureType creatureType , BiomeGenBase . SpawnListEntry spawnListEntry , BlockPos pos ) <nl> + * where the latter checks for identity , meaning both events must add the same instance . <nl> * Canceling the event will result in a empty list , meaning no entity will be spawned . <nl> * / <nl> @ Cancelable
NEAREST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / world / WorldServer . java . patch b / patches / minecraft / net / minecraft / world / WorldServer . java . patch <nl> index 7973f3c . . 8215883 100644 <nl> - - - a / patches / minecraft / net / minecraft / world / WorldServer . java . patch <nl> + + + b / patches / minecraft / net / minecraft / world / WorldServer . java . patch <nl> @ @ - 174 , 7 + 174 , 15 @ @ <nl> return ! this . field _ 73061 _ a . func _ 175579 _ a ( this , p _ 175660 _ 2 _ , p _ 175660 _ 1 _ ) & & this . func _ 175723 _ af ( ) . func _ 177746 _ a ( p _ 175660 _ 2 _ ) ; <nl> } <nl> <nl> - @ @ - 855 , 7 + 898 , 7 @ @ <nl> + @ @ - 810 , 6 + 853 , 7 @ @ <nl> + } <nl> + else <nl> + { <nl> + + if ( net . minecraftforge . event . ForgeEventFactory . onCreateWorldSpawn ( this , p _ 73052 _ 1 _ ) ) return ; <nl> + this . field _ 72987 _ B = true ; <nl> + WorldChunkManager worldchunkmanager = this . field _ 73011 _ w . func _ 177499 _ m ( ) ; <nl> + List list = worldchunkmanager . func _ 76932 _ a ( ) ; <nl> + @ @ - 855 , 7 + 899 , 7 @ @ <nl> <nl> protected void func _ 73047 _ i ( ) <nl> { <nl> @ @ - 183 , 7 + 191 , 7 @ @ <nl> <nl> for ( int i = 0 ; i < 10 ; + + i ) <nl> { <nl> - @ @ - 892 , 6 + 935 , 7 @ @ <nl> + @ @ - 892 , 6 + 936 , 7 @ @ <nl> } <nl> <nl> this . field _ 73020 _ y . func _ 73151 _ a ( p _ 73044 _ 1 _ , p _ 73044 _ 2 _ ) ; <nl> @ @ - 191 , 7 + 199 , 7 @ @ <nl> List list = this . field _ 73059 _ b . func _ 152380 _ a ( ) ; <nl> Iterator iterator = list . iterator ( ) ; <nl> <nl> - @ @ - 929 , 6 + 973 , 7 @ @ <nl> + @ @ - 929 , 6 + 974 , 7 @ @ <nl> this . field _ 72986 _ A . func _ 176135 _ e ( this . func _ 175723 _ af ( ) . func _ 177732 _ i ( ) ) ; <nl> this . field _ 73019 _ z . func _ 75755 _ a ( this . field _ 72986 _ A , this . field _ 73061 _ a . func _ 71203 _ ab ( ) . func _ 72378 _ q ( ) ) ; <nl> this . field _ 72988 _ C . func _ 75744 _ a ( ) ; <nl> @ @ - 199 , 7 + 207 , 7 @ @ <nl> } <nl> <nl> public void func _ 72923 _ a ( Entity p _ 72923 _ 1 _ ) <nl> - @ @ - 984 , 6 + 1029 , 7 @ @ <nl> + @ @ - 984 , 6 + 1030 , 7 @ @ <nl> public Explosion func _ 72885 _ a ( Entity p _ 72885 _ 1 _ , double p _ 72885 _ 2 _ , double p _ 72885 _ 4 _ , double p _ 72885 _ 6 _ , float p _ 72885 _ 8 _ , boolean p _ 72885 _ 9 _ , boolean p _ 72885 _ 10 _ ) <nl> { <nl> Explosion explosion = new Explosion ( this , p _ 72885 _ 1 _ , p _ 72885 _ 2 _ , p _ 72885 _ 4 _ , p _ 72885 _ 6 _ , p _ 72885 _ 8 _ , p _ 72885 _ 9 _ , p _ 72885 _ 10 _ ) ; <nl> @ @ - 207 , 7 + 215 , 7 @ @ <nl> explosion . func _ 77278 _ a ( ) ; <nl> explosion . func _ 77279 _ a ( false ) ; <nl> <nl> - @ @ - 1074 , 19 + 1120 , 23 @ @ <nl> + @ @ - 1074 , 19 + 1121 , 23 @ @ <nl> this . field _ 73061 _ a . func _ 71203 _ ab ( ) . func _ 148537 _ a ( new S2BPacketChangeGameState ( 8 , this . field _ 73017 _ q ) , this . field _ 73011 _ w . func _ 177502 _ q ( ) ) ; <nl> } <nl> <nl> @ @ - 235 , 7 + 243 , 7 @ @ <nl> } <nl> } <nl> <nl> - @ @ - 1152 , 6 + 1202 , 11 @ @ <nl> + @ @ - 1152 , 6 + 1203 , 11 @ @ <nl> return this . field _ 73061 _ a . func _ 152345 _ ab ( ) ; <nl> } <nl> <nl> diff - - git a / src / main / java / net / minecraftforge / event / ForgeEventFactory . java b / src / main / java / net / minecraftforge / event / ForgeEventFactory . java <nl> index 9bcd37d . . 784854f 100644 <nl> - - - a / src / main / java / net / minecraftforge / event / ForgeEventFactory . java <nl> + + + b / src / main / java / net / minecraftforge / event / ForgeEventFactory . java <nl> @ @ - 27 , 6 + 27 , 7 @ @ import net . minecraft . util . Vec3 ; <nl> import net . minecraft . world . Explosion ; <nl> import net . minecraft . world . World ; <nl> import net . minecraft . world . WorldServer ; <nl> + import net . minecraft . world . WorldSettings ; <nl> import net . minecraft . world . biome . BiomeGenBase ; <nl> import net . minecraft . world . storage . IPlayerFileData ; <nl> import net . minecraft . world . storage . SaveHandler ; <nl> @ @ - 372 , 4 + 373 , 9 @ @ public class ForgeEventFactory <nl> * / <nl> MinecraftForge . EVENT _ BUS . post ( new ExplosionEvent . Detonate ( world , explosion , list ) ) ; <nl> } <nl> + <nl> + public static boolean onCreateWorldSpawn ( World world , WorldSettings settings ) <nl> + { <nl> + return MinecraftForge . EVENT _ BUS . post ( new WorldEvent . CreateSpawnPosition ( world , settings ) ) ; <nl> + } <nl> } <nl> diff - - git a / src / main / java / net / minecraftforge / event / world / WorldEvent . java b / src / main / java / net / minecraftforge / event / world / WorldEvent . java <nl> index eaffe5a . . e5b9beb 100644 <nl> - - - a / src / main / java / net / minecraftforge / event / world / WorldEvent . java <nl> + + + b / src / main / java / net / minecraftforge / event / world / WorldEvent . java <nl> @ @ - 2 , 9 + 2 , 11 @ @ package net . minecraftforge . event . world ; <nl> <nl> import java . util . ArrayList ; <nl> import java . util . List ; <nl> + <nl> import net . minecraft . entity . EnumCreatureType ; <nl> import net . minecraft . util . BlockPos ; <nl> import net . minecraft . world . World ; <nl> + import net . minecraft . world . WorldSettings ; <nl> import net . minecraft . world . biome . BiomeGenBase . SpawnListEntry ; <nl> import net . minecraftforge . fml . common . eventhandler . Cancelable ; <nl> import net . minecraftforge . fml . common . eventhandler . Event ; <nl> @ @ - 109 , 4 + 111 , 19 @ @ public class WorldEvent extends Event <nl> } <nl> } <nl> } <nl> + <nl> + / * * <nl> + * Called by WorldServer when it attempts to create a spawnpoint for a dimension . <nl> + * Canceling the event will prevent the vanilla code from running . <nl> + * / <nl> + @ Cancelable <nl> + public static class CreateSpawnPosition extends WorldEvent <nl> + { <nl> + public final WorldSettings settings ; <nl> + public CreateSpawnPosition ( World world , WorldSettings settings ) <nl> + { <nl> + super ( world ) ; <nl> + this . settings = settings ; <nl> + } <nl> + } <nl> }

TEST DIFF:
diff - - git a / patches / minecraft / net / minecraft / world / WorldServer . java . patch b / patches / minecraft / net / minecraft / world / WorldServer . java . patch 
 index 4208fb5 . . 08b38c2 100644 
 - - - a / patches / minecraft / net / minecraft / world / WorldServer . java . patch 
 + + + b / patches / minecraft / net / minecraft / world / WorldServer . java . patch 
 @ @ - 60 , 7 + 60 , 7 @ @ 
 this . field _ 72984 _ F . func _ 76319 _ b ( ) ; 
 this . func _ 147488 _ Z ( ) ; 
 } 
 - @ @ - 217 , 6 + 237 , 7 @ @ 
 + @ @ - 217 , 12 + 237 , 14 @ @ 
 public BiomeGenBase . SpawnListEntry func _ 175734 _ a ( EnumCreatureType p _ 175734 _ 1 _ , BlockPos p _ 175734 _ 2 _ ) 
 { 
 List < BiomeGenBase . SpawnListEntry > list = this . func _ 72863 _ F ( ) . func _ 177458 _ a ( p _ 175734 _ 1 _ , p _ 175734 _ 2 _ ) ; 
 @ @ - 68 , 7 + 68 , 14 @ @ 
 return list ! = null & & ! list . isEmpty ( ) ? ( BiomeGenBase . SpawnListEntry ) WeightedRandom . func _ 76271 _ a ( this . field _ 73012 _ v , list ) : null ; 
 } 
 
 - @ @ - 268 , 10 + 289 , 7 @ @ 
 + public boolean func _ 175732 _ a ( EnumCreatureType p _ 175732 _ 1 _ , BiomeGenBase . SpawnListEntry p _ 175732 _ 2 _ , BlockPos p _ 175732 _ 3 _ ) 
 + { 
 + List < BiomeGenBase . SpawnListEntry > list = this . func _ 72863 _ F ( ) . func _ 177458 _ a ( p _ 175732 _ 1 _ , p _ 175732 _ 3 _ ) ; 
 + + list = net . minecraftforge . event . ForgeEventFactory . getPotentialSpawns ( this , p _ 175732 _ 1 _ , p _ 175732 _ 3 _ , list ) ; 
 + return list ! = null & & ! list . isEmpty ( ) ? list . contains ( p _ 175732 _ 2 _ ) : false ; 
 + } 
 + 
 + @ @ - 268 , 10 + 290 , 7 @ @ 
 
 private void func _ 73051 _ P ( ) 
 { 
 diff - - git a / src / main / java / net / minecraftforge / event / world / WorldEvent . java b / src / main / java / net / minecraftforge / event / world / WorldEvent . java 
 index 5b8e184 . . 9e8bc16 100644 
 - - - a / src / main / java / net / minecraftforge / event / world / WorldEvent . java 
 + + + b / src / main / java / net / minecraftforge / event / world / WorldEvent . java 
 @ @ - 87 , 6 + 87 , 10 @ @ public class WorldEvent extends Event 
 
 / * * 
 * Called by WorldServer to gather a list of all possible entities that can spawn at the specified location . 
 + * If an entry is added to the list , it needs to be a globally unique instance . 
 + * The event is called in WorldServer # getSpawnListEntryForTypeAt ( EnumCreatureType , BlockPos ) as well as 
 + * WorldServer # canCreatureTypeSpawnHere ( EnumCreatureType creatureType , BiomeGenBase . SpawnListEntry spawnListEntry , BlockPos pos ) 
 + * where the latter checks for identity , meaning both events must add the same instance . 
 * Canceling the event will result in a empty list , meaning no entity will be spawned . 
 * / 
 @ Cancelable

NEAREST DIFF:
diff - - git a / patches / minecraft / net / minecraft / world / WorldServer . java . patch b / patches / minecraft / net / minecraft / world / WorldServer . java . patch 
 index 7973f3c . . 8215883 100644 
 - - - a / patches / minecraft / net / minecraft / world / WorldServer . java . patch 
 + + + b / patches / minecraft / net / minecraft / world / WorldServer . java . patch 
 @ @ - 174 , 7 + 174 , 15 @ @ 
 return ! this . field _ 73061 _ a . func _ 175579 _ a ( this , p _ 175660 _ 2 _ , p _ 175660 _ 1 _ ) & & this . func _ 175723 _ af ( ) . func _ 177746 _ a ( p _ 175660 _ 2 _ ) ; 
 } 
 
 - @ @ - 855 , 7 + 898 , 7 @ @ 
 + @ @ - 810 , 6 + 853 , 7 @ @ 
 + } 
 + else 
 + { 
 + + if ( net . minecraftforge . event . ForgeEventFactory . onCreateWorldSpawn ( this , p _ 73052 _ 1 _ ) ) return ; 
 + this . field _ 72987 _ B = true ; 
 + WorldChunkManager worldchunkmanager = this . field _ 73011 _ w . func _ 177499 _ m ( ) ; 
 + List list = worldchunkmanager . func _ 76932 _ a ( ) ; 
 + @ @ - 855 , 7 + 899 , 7 @ @ 
 
 protected void func _ 73047 _ i ( ) 
 { 
 @ @ - 183 , 7 + 191 , 7 @ @ 
 
 for ( int i = 0 ; i < 10 ; + + i ) 
 { 
 - @ @ - 892 , 6 + 935 , 7 @ @ 
 + @ @ - 892 , 6 + 936 , 7 @ @ 
 } 
 
 this . field _ 73020 _ y . func _ 73151 _ a ( p _ 73044 _ 1 _ , p _ 73044 _ 2 _ ) ; 
 @ @ - 191 , 7 + 199 , 7 @ @ 
 List list = this . field _ 73059 _ b . func _ 152380 _ a ( ) ; 
 Iterator iterator = list . iterator ( ) ; 
 
 - @ @ - 929 , 6 + 973 , 7 @ @ 
 + @ @ - 929 , 6 + 974 , 7 @ @ 
 this . field _ 72986 _ A . func _ 176135 _ e ( this . func _ 175723 _ af ( ) . func _ 177732 _ i ( ) ) ; 
 this . field _ 73019 _ z . func _ 75755 _ a ( this . field _ 72986 _ A , this . field _ 73061 _ a . func _ 71203 _ ab ( ) . func _ 72378 _ q ( ) ) ; 
 this . field _ 72988 _ C . func _ 75744 _ a ( ) ; 
 @ @ - 199 , 7 + 207 , 7 @ @ 
 } 
 
 public void func _ 72923 _ a ( Entity p _ 72923 _ 1 _ ) 
 - @ @ - 984 , 6 + 1029 , 7 @ @ 
 + @ @ - 984 , 6 + 1030 , 7 @ @ 
 public Explosion func _ 72885 _ a ( Entity p _ 72885 _ 1 _ , double p _ 72885 _ 2 _ , double p _ 72885 _ 4 _ , double p _ 72885 _ 6 _ , float p _ 72885 _ 8 _ , boolean p _ 72885 _ 9 _ , boolean p _ 72885 _ 10 _ ) 
 { 
 Explosion explosion = new Explosion ( this , p _ 72885 _ 1 _ , p _ 72885 _ 2 _ , p _ 72885 _ 4 _ , p _ 72885 _ 6 _ , p _ 72885 _ 8 _ , p _ 72885 _ 9 _ , p _ 72885 _ 10 _ ) ; 
 @ @ - 207 , 7 + 215 , 7 @ @ 
 explosion . func _ 77278 _ a ( ) ; 
 explosion . func _ 77279 _ a ( false ) ; 
 
 - @ @ - 1074 , 19 + 1120 , 23 @ @ 
 + @ @ - 1074 , 19 + 1121 , 23 @ @ 
 this . field _ 73061 _ a . func _ 71203 _ ab ( ) . func _ 148537 _ a ( new S2BPacketChangeGameState ( 8 , this . field _ 73017 _ q ) , this . field _ 73011 _ w . func _ 177502 _ q ( ) ) ; 
 } 
 
 @ @ - 235 , 7 + 243 , 7 @ @ 
 } 
 } 
 
 - @ @ - 1152 , 6 + 1202 , 11 @ @ 
 + @ @ - 1152 , 6 + 1203 , 11 @ @ 
 return this . field _ 73061 _ a . func _ 152345 _ ab ( ) ; 
 } 
 
 diff - - git a / src / main / java / net / minecraftforge / event / ForgeEventFactory . java b / src / main / java / net / minecraftforge / event / ForgeEventFactory . java 
 index 9bcd37d . . 784854f 100644 
 - - - a / src / main / java / net / minecraftforge / event / ForgeEventFactory . java 
 + + + b / src / main / java / net / minecraftforge / event / ForgeEventFactory . java 
 @ @ - 27 , 6 + 27 , 7 @ @ import net . minecraft . util . Vec3 ; 
 import net . minecraft . world . Explosion ; 
 import net . minecraft . world . World ; 
 import net . minecraft . world . WorldServer ; 
 + import net . minecraft . world . WorldSettings ; 
 import net . minecraft . world . biome . BiomeGenBase ; 
 import net . minecraft . world . storage . IPlayerFileData ; 
 import net . minecraft . world . storage . SaveHandler ; 
 @ @ - 372 , 4 + 373 , 9 @ @ public class ForgeEventFactory 
 * / 
 MinecraftForge . EVENT _ BUS . post ( new ExplosionEvent . Detonate ( world , explosion , list ) ) ; 
 } 
 + 
 + public static boolean onCreateWorldSpawn ( World world , WorldSettings settings ) 
 + { 
 + return MinecraftForge . EVENT _ BUS . post ( new WorldEvent . CreateSpawnPosition ( world , settings ) ) ; 
 + } 
 } 
 diff - - git a / src / main / java / net / minecraftforge / event / world / WorldEvent . java b / src / main / java / net / minecraftforge / event / world / WorldEvent . java 
 index eaffe5a . . e5b9beb 100644 
 - - - a / src / main / java / net / minecraftforge / event / world / WorldEvent . java 
 + + + b / src / main / java / net / minecraftforge / event / world / WorldEvent . java 
 @ @ - 2 , 9 + 2 , 11 @ @ package net . minecraftforge . event . world ; 
 
 import java . util . ArrayList ; 
 import java . util . List ; 
 + 
 import net . minecraft . entity . EnumCreatureType ; 
 import net . minecraft . util . BlockPos ; 
 import net . minecraft . world . World ; 
 + import net . minecraft . world . WorldSettings ; 
 import net . minecraft . world . biome . BiomeGenBase . SpawnListEntry ; 
 import net . minecraftforge . fml . common . eventhandler . Cancelable ; 
 import net . minecraftforge . fml . common . eventhandler . Event ; 
 @ @ - 109 , 4 + 111 , 19 @ @ public class WorldEvent extends Event 
 } 
 } 
 } 
 + 
 + / * * 
 + * Called by WorldServer when it attempts to create a spawnpoint for a dimension . 
 + * Canceling the event will prevent the vanilla code from running . 
 + * / 
 + @ Cancelable 
 + public static class CreateSpawnPosition extends WorldEvent 
 + { 
 + public final WorldSettings settings ; 
 + public CreateSpawnPosition ( World world , WorldSettings settings ) 
 + { 
 + super ( world ) ; 
 + this . settings = settings ; 
 + } 
 + } 
 }
