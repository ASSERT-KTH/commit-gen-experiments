BLEU SCORE: 0.07160476144948855

TEST MSG: Add state param to canRenderInLayer
GENERATED MSG: Allow blocks to render in multiple layers

TEST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / block / Block . java . patch b / patches / minecraft / net / minecraft / block / Block . java . patch <nl> index 6e5978d . . 7b60558 100644 <nl> - - - a / patches / minecraft / net / minecraft / block / Block . java . patch <nl> + + + b / patches / minecraft / net / minecraft / block / Block . java . patch <nl> @ @ - 201 , 7 + 201 , 7 @ @ <nl> } <nl> <nl> @ SideOnly ( Side . CLIENT ) <nl> - @ @ - 844 , 6 + 866 , 1179 @ @ <nl> + @ @ - 844 , 6 + 866 , 1191 @ @ <nl> return " Block { " + field _ 149771 _ c . func _ 177774 _ c ( this ) + " } " ; <nl> } <nl> <nl> @ @ - 1286 , 12 + 1286 , 24 @ @ <nl> + <nl> + / * * <nl> + * Queries if this block should render in a given layer . <nl> - + * ISmartBlockModel can use MinecraftForgeClient . getRenderLayer to alter their model based on layer <nl> + + * ISmartBlockModel can use { @ link MinecraftForgeClient # getRenderLayer ( ) } to alter their model based on layer . <nl> + + * <nl> + + * @ deprecated New method with state sensitivity : { @ link # canRenderInLayer ( IBlockState , BlockRenderLayer ) } <nl> + * / <nl> + + @ Deprecated <nl> + public boolean canRenderInLayer ( BlockRenderLayer layer ) <nl> + { <nl> + return func _ 180664 _ k ( ) = = layer ; <nl> + } <nl> + + <nl> + + / * * <nl> + + * Queries if this block should render in a given layer . <nl> + + * ISmartBlockModel can use { @ link MinecraftForgeClient # getRenderLayer ( ) } to alter their model based on layer . <nl> + + * / <nl> + + public boolean canRenderInLayer ( IBlockState state , BlockRenderLayer layer ) <nl> + + { <nl> + + return canRenderInLayer ( layer ) ; <nl> + + } <nl> + <nl> + / / For Internal use only to capture droped items inside getDrops <nl> + protected static ThreadLocal < Boolean > captureDrops = new ThreadLocal < Boolean > ( ) <nl> diff - - git a / patches / minecraft / net / minecraft / client / renderer / chunk / RenderChunk . java . patch b / patches / minecraft / net / minecraft / client / renderer / chunk / RenderChunk . java . patch <nl> index 00f4a4f . . bb29f62 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / renderer / chunk / RenderChunk . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / renderer / chunk / RenderChunk . java . patch <nl> @ @ - 26 , 7 + 26 , 7 @ @ <nl> <nl> - BlockRenderLayer blockrenderlayer1 = block . func _ 180664 _ k ( ) ; <nl> + for ( BlockRenderLayer blockrenderlayer1 : BlockRenderLayer . values ( ) ) { <nl> - + if ( ! block . canRenderInLayer ( blockrenderlayer1 ) ) continue ; <nl> + + if ( ! block . canRenderInLayer ( iblockstate , blockrenderlayer1 ) ) continue ; <nl> + net . minecraftforge . client . ForgeHooksClient . setRenderLayer ( blockrenderlayer1 ) ; <nl> int j = blockrenderlayer1 . ordinal ( ) ; <nl>
NEAREST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / block / Block . java . patch b / patches / minecraft / net / minecraft / block / Block . java . patch <nl> index a946cbd . . 7a24cd0 100644 <nl> - - - a / patches / minecraft / net / minecraft / block / Block . java . patch <nl> + + + b / patches / minecraft / net / minecraft / block / Block . java . patch <nl> @ @ - 161 , 7 + 161 , 7 @ @ <nl> } <nl> <nl> protected ItemStack func _ 180643 _ i ( IBlockState p _ 180643 _ 1 _ ) <nl> - @ @ - 971 , 6 + 989 , 1019 @ @ <nl> + @ @ - 971 , 6 + 989 , 1028 @ @ <nl> return Block . EnumOffsetType . NONE ; <nl> } <nl> <nl> @ @ - 1153 , 6 + 1153 , 15 @ @ <nl> + return func _ 176221 _ a ( state , world , pos ) ; <nl> + } <nl> + <nl> + + / * * <nl> + + * Queries if this block should render in a given layer . <nl> + + * ISmartBlockModel can use MinecraftForgeClient . getRenderLayer to alter their model based on layer <nl> + + * / <nl> + + public boolean canRenderInLayer ( EnumWorldBlockLayer layer ) <nl> + + { <nl> + + return func _ 180664 _ k ( ) = = layer ; <nl> + + } <nl> + + <nl> + / / For Internal use only to capture droped items inside getDrops <nl> + protected static ThreadLocal < Boolean > captureDrops = new ThreadLocal < Boolean > ( ) <nl> + { <nl> diff - - git a / patches / minecraft / net / minecraft / client / renderer / chunk / RenderChunk . java . patch b / patches / minecraft / net / minecraft / client / renderer / chunk / RenderChunk . java . patch <nl> index d223b06 . . 6b33267 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / renderer / chunk / RenderChunk . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / renderer / chunk / RenderChunk . java . patch <nl> @ @ - 9 , 3 + 9 , 22 @ @ <nl> { <nl> TileEntity tileentity = regionrendercache . func _ 175625 _ s ( new BlockPos ( mutableblockpos ) ) ; <nl> <nl> + @ @ - 160 , 7 + 160 , 9 @ @ <nl> + } <nl> + } <nl> + <nl> + - EnumWorldBlockLayer enumworldblocklayer1 = block . func _ 180664 _ k ( ) ; <nl> + + for ( EnumWorldBlockLayer enumworldblocklayer1 : EnumWorldBlockLayer . values ( ) ) { <nl> + + if ( ! block . canRenderInLayer ( enumworldblocklayer1 ) ) continue ; <nl> + + net . minecraftforge . client . ForgeHooksClient . setRenderLayer ( enumworldblocklayer1 ) ; <nl> + int i = enumworldblocklayer1 . ordinal ( ) ; <nl> + <nl> + if ( block . func _ 149645 _ b ( ) ! = - 1 ) <nl> + @ @ - 178 , 6 + 180 , 7 @ @ <nl> + compiledchunk . func _ 178486 _ a ( enumworldblocklayer1 ) ; <nl> + } <nl> + } <nl> + + } <nl> + } <nl> + <nl> + EnumWorldBlockLayer [ ] aenumworldblocklayer = EnumWorldBlockLayer . values ( ) ; <nl> diff - - git a / src / main / java / net / minecraftforge / client / ForgeHooksClient . java b / src / main / java / net / minecraftforge / client / ForgeHooksClient . java <nl> index d0126b6 . . 521ef8a 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / ForgeHooksClient . java <nl> + + + b / src / main / java / net / minecraftforge / client / ForgeHooksClient . java <nl> @ @ - 26 , 6 + 26 , 7 @ @ import net . minecraft . entity . player . EntityPlayer ; <nl> import net . minecraft . item . ItemStack ; <nl> import net . minecraft . util . BlockPos ; <nl> import net . minecraft . util . EnumChatFormatting ; <nl> + import net . minecraft . util . EnumWorldBlockLayer ; <nl> import net . minecraft . util . IRegistry ; <nl> import net . minecraft . util . MovingObjectPosition ; <nl> import net . minecraft . world . IBlockAccess ; <nl> @ @ - 272 , 6 + 273 , 12 @ @ public class ForgeHooksClient <nl> renderPass = pass ; <nl> } <nl> <nl> + static EnumWorldBlockLayer renderLayer = EnumWorldBlockLayer . SOLID ; <nl> + public static void setRenderLayer ( EnumWorldBlockLayer layer ) <nl> + { <nl> + renderLayer = layer ; <nl> + } <nl> + <nl> public static ModelBase getArmorModel ( EntityLivingBase entityLiving , ItemStack itemStack , int slotID , ModelBase _ default ) <nl> { <nl> ModelBase modelbase = itemStack . getItem ( ) . getArmorModel ( entityLiving , itemStack , slotID ) ; <nl> diff - - git a / src / main / java / net / minecraftforge / client / MinecraftForgeClient . java b / src / main / java / net / minecraftforge / client / MinecraftForgeClient . java <nl> index 2c31fef . . 39afb26 100644 <nl> - - - a / src / main / java / net / minecraftforge / client / MinecraftForgeClient . java <nl> + + + b / src / main / java / net / minecraftforge / client / MinecraftForgeClient . java <nl> @ @ - 12 , 6 + 12 , 7 @ @ import com . google . common . collect . Maps ; <nl> <nl> import net . minecraft . item . Item ; <nl> import net . minecraft . item . ItemStack ; <nl> + import net . minecraft . util . EnumWorldBlockLayer ; <nl> import net . minecraftforge . client . IItemRenderer . ItemRenderType ; <nl> <nl> public class MinecraftForgeClient <nl> @ @ - 46 , 6 + 47 , 11 @ @ public class MinecraftForgeClient <nl> return ForgeHooksClient . renderPass ; <nl> } <nl> <nl> + public static EnumWorldBlockLayer getRenderLayer ( ) <nl> + { <nl> + return ForgeHooksClient . renderLayer ; <nl> + } <nl> + <nl> private static BitSet stencilBits = new BitSet ( 8 ) ; <nl> static <nl> {

TEST DIFF:
diff - - git a / patches / minecraft / net / minecraft / block / Block . java . patch b / patches / minecraft / net / minecraft / block / Block . java . patch 
 index 6e5978d . . 7b60558 100644 
 - - - a / patches / minecraft / net / minecraft / block / Block . java . patch 
 + + + b / patches / minecraft / net / minecraft / block / Block . java . patch 
 @ @ - 201 , 7 + 201 , 7 @ @ 
 } 
 
 @ SideOnly ( Side . CLIENT ) 
 - @ @ - 844 , 6 + 866 , 1179 @ @ 
 + @ @ - 844 , 6 + 866 , 1191 @ @ 
 return " Block { " + field _ 149771 _ c . func _ 177774 _ c ( this ) + " } " ; 
 } 
 
 @ @ - 1286 , 12 + 1286 , 24 @ @ 
 + 
 + / * * 
 + * Queries if this block should render in a given layer . 
 - + * ISmartBlockModel can use MinecraftForgeClient . getRenderLayer to alter their model based on layer 
 + + * ISmartBlockModel can use { @ link MinecraftForgeClient # getRenderLayer ( ) } to alter their model based on layer . 
 + + * 
 + + * @ deprecated New method with state sensitivity : { @ link # canRenderInLayer ( IBlockState , BlockRenderLayer ) } 
 + * / 
 + + @ Deprecated 
 + public boolean canRenderInLayer ( BlockRenderLayer layer ) 
 + { 
 + return func _ 180664 _ k ( ) = = layer ; 
 + } 
 + + 
 + + / * * 
 + + * Queries if this block should render in a given layer . 
 + + * ISmartBlockModel can use { @ link MinecraftForgeClient # getRenderLayer ( ) } to alter their model based on layer . 
 + + * / 
 + + public boolean canRenderInLayer ( IBlockState state , BlockRenderLayer layer ) 
 + + { 
 + + return canRenderInLayer ( layer ) ; 
 + + } 
 + 
 + / / For Internal use only to capture droped items inside getDrops 
 + protected static ThreadLocal < Boolean > captureDrops = new ThreadLocal < Boolean > ( ) 
 diff - - git a / patches / minecraft / net / minecraft / client / renderer / chunk / RenderChunk . java . patch b / patches / minecraft / net / minecraft / client / renderer / chunk / RenderChunk . java . patch 
 index 00f4a4f . . bb29f62 100644 
 - - - a / patches / minecraft / net / minecraft / client / renderer / chunk / RenderChunk . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / renderer / chunk / RenderChunk . java . patch 
 @ @ - 26 , 7 + 26 , 7 @ @ 
 
 - BlockRenderLayer blockrenderlayer1 = block . func _ 180664 _ k ( ) ; 
 + for ( BlockRenderLayer blockrenderlayer1 : BlockRenderLayer . values ( ) ) { 
 - + if ( ! block . canRenderInLayer ( blockrenderlayer1 ) ) continue ; 
 + + if ( ! block . canRenderInLayer ( iblockstate , blockrenderlayer1 ) ) continue ; 
 + net . minecraftforge . client . ForgeHooksClient . setRenderLayer ( blockrenderlayer1 ) ; 
 int j = blockrenderlayer1 . ordinal ( ) ; 


NEAREST DIFF:
diff - - git a / patches / minecraft / net / minecraft / block / Block . java . patch b / patches / minecraft / net / minecraft / block / Block . java . patch 
 index a946cbd . . 7a24cd0 100644 
 - - - a / patches / minecraft / net / minecraft / block / Block . java . patch 
 + + + b / patches / minecraft / net / minecraft / block / Block . java . patch 
 @ @ - 161 , 7 + 161 , 7 @ @ 
 } 
 
 protected ItemStack func _ 180643 _ i ( IBlockState p _ 180643 _ 1 _ ) 
 - @ @ - 971 , 6 + 989 , 1019 @ @ 
 + @ @ - 971 , 6 + 989 , 1028 @ @ 
 return Block . EnumOffsetType . NONE ; 
 } 
 
 @ @ - 1153 , 6 + 1153 , 15 @ @ 
 + return func _ 176221 _ a ( state , world , pos ) ; 
 + } 
 + 
 + + / * * 
 + + * Queries if this block should render in a given layer . 
 + + * ISmartBlockModel can use MinecraftForgeClient . getRenderLayer to alter their model based on layer 
 + + * / 
 + + public boolean canRenderInLayer ( EnumWorldBlockLayer layer ) 
 + + { 
 + + return func _ 180664 _ k ( ) = = layer ; 
 + + } 
 + + 
 + / / For Internal use only to capture droped items inside getDrops 
 + protected static ThreadLocal < Boolean > captureDrops = new ThreadLocal < Boolean > ( ) 
 + { 
 diff - - git a / patches / minecraft / net / minecraft / client / renderer / chunk / RenderChunk . java . patch b / patches / minecraft / net / minecraft / client / renderer / chunk / RenderChunk . java . patch 
 index d223b06 . . 6b33267 100644 
 - - - a / patches / minecraft / net / minecraft / client / renderer / chunk / RenderChunk . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / renderer / chunk / RenderChunk . java . patch 
 @ @ - 9 , 3 + 9 , 22 @ @ 
 { 
 TileEntity tileentity = regionrendercache . func _ 175625 _ s ( new BlockPos ( mutableblockpos ) ) ; 
 
 + @ @ - 160 , 7 + 160 , 9 @ @ 
 + } 
 + } 
 + 
 + - EnumWorldBlockLayer enumworldblocklayer1 = block . func _ 180664 _ k ( ) ; 
 + + for ( EnumWorldBlockLayer enumworldblocklayer1 : EnumWorldBlockLayer . values ( ) ) { 
 + + if ( ! block . canRenderInLayer ( enumworldblocklayer1 ) ) continue ; 
 + + net . minecraftforge . client . ForgeHooksClient . setRenderLayer ( enumworldblocklayer1 ) ; 
 + int i = enumworldblocklayer1 . ordinal ( ) ; 
 + 
 + if ( block . func _ 149645 _ b ( ) ! = - 1 ) 
 + @ @ - 178 , 6 + 180 , 7 @ @ 
 + compiledchunk . func _ 178486 _ a ( enumworldblocklayer1 ) ; 
 + } 
 + } 
 + + } 
 + } 
 + 
 + EnumWorldBlockLayer [ ] aenumworldblocklayer = EnumWorldBlockLayer . values ( ) ; 
 diff - - git a / src / main / java / net / minecraftforge / client / ForgeHooksClient . java b / src / main / java / net / minecraftforge / client / ForgeHooksClient . java 
 index d0126b6 . . 521ef8a 100644 
 - - - a / src / main / java / net / minecraftforge / client / ForgeHooksClient . java 
 + + + b / src / main / java / net / minecraftforge / client / ForgeHooksClient . java 
 @ @ - 26 , 6 + 26 , 7 @ @ import net . minecraft . entity . player . EntityPlayer ; 
 import net . minecraft . item . ItemStack ; 
 import net . minecraft . util . BlockPos ; 
 import net . minecraft . util . EnumChatFormatting ; 
 + import net . minecraft . util . EnumWorldBlockLayer ; 
 import net . minecraft . util . IRegistry ; 
 import net . minecraft . util . MovingObjectPosition ; 
 import net . minecraft . world . IBlockAccess ; 
 @ @ - 272 , 6 + 273 , 12 @ @ public class ForgeHooksClient 
 renderPass = pass ; 
 } 
 
 + static EnumWorldBlockLayer renderLayer = EnumWorldBlockLayer . SOLID ; 
 + public static void setRenderLayer ( EnumWorldBlockLayer layer ) 
 + { 
 + renderLayer = layer ; 
 + } 
 + 
 public static ModelBase getArmorModel ( EntityLivingBase entityLiving , ItemStack itemStack , int slotID , ModelBase _ default ) 
 { 
 ModelBase modelbase = itemStack . getItem ( ) . getArmorModel ( entityLiving , itemStack , slotID ) ; 
 diff - - git a / src / main / java / net / minecraftforge / client / MinecraftForgeClient . java b / src / main / java / net / minecraftforge / client / MinecraftForgeClient . java 
 index 2c31fef . . 39afb26 100644 
 - - - a / src / main / java / net / minecraftforge / client / MinecraftForgeClient . java 
 + + + b / src / main / java / net / minecraftforge / client / MinecraftForgeClient . java 
 @ @ - 12 , 6 + 12 , 7 @ @ import com . google . common . collect . Maps ; 
 
 import net . minecraft . item . Item ; 
 import net . minecraft . item . ItemStack ; 
 + import net . minecraft . util . EnumWorldBlockLayer ; 
 import net . minecraftforge . client . IItemRenderer . ItemRenderType ; 
 
 public class MinecraftForgeClient 
 @ @ - 46 , 6 + 47 , 11 @ @ public class MinecraftForgeClient 
 return ForgeHooksClient . renderPass ; 
 } 
 
 + public static EnumWorldBlockLayer getRenderLayer ( ) 
 + { 
 + return ForgeHooksClient . renderLayer ; 
 + } 
 + 
 private static BitSet stencilBits = new BitSet ( 8 ) ; 
 static 
 {
