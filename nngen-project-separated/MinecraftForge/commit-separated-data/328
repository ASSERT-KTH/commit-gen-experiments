BLEU SCORE: 0.01080894324815623

TEST MSG: Fix FastTESR quad sort
GENERATED MSG: Adds a WeatherRender in the style of SkyRender , Closes # 844

TEST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / client / renderer / ActiveRenderInfo . java . patch b / patches / minecraft / net / minecraft / client / renderer / ActiveRenderInfo . java . patch <nl> new file mode 100644 <nl> index 0000000 . . 9701990 <nl> - - - / dev / null <nl> + + + b / patches / minecraft / net / minecraft / client / renderer / ActiveRenderInfo . java . patch <nl> @ @ - 0 , 0 + 1 , 17 @ @ <nl> + - - - . . / src - base / minecraft / net / minecraft / client / renderer / ActiveRenderInfo . java <nl> + + + + . . / src - work / minecraft / net / minecraft / client / renderer / ActiveRenderInfo . java <nl> + @ @ - 108 , 4 + 108 , 14 @ @ <nl> + { <nl> + return field _ 74596 _ h ; <nl> + } <nl> + + <nl> + + / * = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = FORGE START = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = * / <nl> + + <nl> + + / * * <nl> + + * Vector from render view entity position ( corrected for partialTickTime ) to the middle of screen <nl> + + * / <nl> + + public static Vec3d getCameraPosition ( ) <nl> + + { <nl> + + return field _ 178811 _ e ; <nl> + + } <nl> + } <nl> diff - - git a / patches / minecraft / net / minecraft / client / renderer / tileentity / TileEntityRendererDispatcher . java . patch b / patches / minecraft / net / minecraft / client / renderer / tileentity / TileEntityRendererDispatcher . java . patch <nl> index a50d2ea . . 633652e 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / renderer / tileentity / TileEntityRendererDispatcher . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / renderer / tileentity / TileEntityRendererDispatcher . java . patch <nl> @ @ - 26 , 7 + 26 , 7 @ @ <nl> tileentityspecialrenderer . func _ 192841 _ a ( p _ 192854 _ 1 _ , p _ 192854 _ 2 _ , p _ 192854 _ 4 _ , p _ 192854 _ 6 _ , p _ 192854 _ 8 _ , p _ 192854 _ 9 _ , p _ 192854 _ 10 _ ) ; <nl> } <nl> catch ( Throwable throwable ) <nl> - @ @ - 172 , 4 + 178 , 52 @ @ <nl> + @ @ - 172 , 4 + 178 , 53 @ @ <nl> { <nl> return this . field _ 147557 _ n ; <nl> } <nl> @ @ - 71 , 7 + 71 , 8 @ @ <nl> + <nl> + if ( pass > 0 ) <nl> + { <nl> - + batchBuffer . func _ 178180 _ c ( ) . func _ 181674 _ a ( 0 , 0 , 0 ) ; <nl> + + net . minecraft . util . math . Vec3d cameraPos = net . minecraft . client . renderer . ActiveRenderInfo . getCameraPosition ( ) ; <nl> + + batchBuffer . func _ 178180 _ c ( ) . func _ 181674 _ a ( ( float ) cameraPos . field _ 72450 _ a , ( float ) cameraPos . field _ 72448 _ b , ( float ) cameraPos . field _ 72449 _ c ) ; <nl> + } <nl> + batchBuffer . func _ 78381 _ a ( ) ; <nl> +
NEAREST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch b / patches / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch <nl> index 34ec09e . . d37299f 100644 <nl> - - - a / patches / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch <nl> + + + b / patches / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch <nl> @ @ - 1 , 17 + 1 , 17 @ @ <nl> - - - . . / src - base / minecraft / net / minecraft / client / renderer / EntityRenderer . java <nl> + + + . . / src - work / minecraft / net / minecraft / client / renderer / EntityRenderer . java <nl> - @ @ - 52 , 6 + 52 , 11 @ @ <nl> + @ @ - 51 , 6 + 51 , 11 @ @ <nl> + import org . lwjgl . opengl . GL11 ; <nl> import org . lwjgl . opengl . GLContext ; <nl> import org . lwjgl . util . glu . Project ; <nl> - <nl> + import net . minecraftforge . client . ForgeHooksClient ; <nl> + + import net . minecraftforge . client . IRenderHandler ; <nl> + import net . minecraftforge . client . event . DrawBlockHighlightEvent ; <nl> + import net . minecraftforge . client . event . RenderWorldLastEvent ; <nl> + import net . minecraftforge . common . MinecraftForge ; <nl> - + <nl> + <nl> @ SideOnly ( Side . CLIENT ) <nl> public class EntityRenderer implements IResourceManagerReloadListener <nl> - { <nl> @ @ - 397 , 7 + 402 , 7 @ @ <nl> <nl> if ( d3 < d2 | | d2 = = 0 . 0D ) <nl> @ @ - 135 , 3 + 135 , 17 @ @ <nl> this . mc . mcProfiler . endStartSection ( " hand " ) ; <nl> <nl> if ( this . cameraZoom = = 1 . 0D ) <nl> + @ @ - 1477 , 6 + 1503 , 13 @ @ <nl> + / / JAVADOC METHOD $ $ func _ 78474 _ d <nl> + protected void renderRainSnow ( float par1 ) <nl> + { <nl> + + IRenderHandler renderer = null ; <nl> + + if ( ( renderer = this . mc . theWorld . provider . getWeatherRenderer ( ) ) ! = null ) <nl> + + { <nl> + + renderer . render ( par1 , this . mc . theWorld , mc ) ; <nl> + + return ; <nl> + + } <nl> + + <nl> + float f1 = this . mc . theWorld . getRainStrength ( par1 ) ; <nl> + <nl> + if ( f1 > 0 . 0F ) <nl> diff - - git a / patches / minecraft / net / minecraft / world / WorldProvider . java . patch b / patches / minecraft / net / minecraft / world / WorldProvider . java . patch <nl> index 754fea5 . . 522b2d3 100644 <nl> - - - a / patches / minecraft / net / minecraft / world / WorldProvider . java . patch <nl> + + + b / patches / minecraft / net / minecraft / world / WorldProvider . java . patch <nl> @ @ - 43 , 7 + 43 , 7 @ @ <nl> } <nl> <nl> @ SideOnly ( Side . CLIENT ) <nl> - @ @ - 216 , 4 + 224 , 272 @ @ <nl> + @ @ - 216 , 4 + 224 , 285 @ @ <nl> <nl> / / JAVADOC METHOD $ $ func _ 80007 _ l <nl> public abstract String getDimensionName ( ) ; <nl> @ @ - 51 , 6 + 51 , 7 @ @ <nl> + / * = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = Forge Start = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = * / <nl> + private IRenderHandler skyRenderer = null ; <nl> + private IRenderHandler cloudRenderer = null ; <nl> + + private IRenderHandler weatherRenderer = null ; <nl> + <nl> + / * * <nl> + * Sets the providers current dimension ID , used in default getSaveFolder ( ) <nl> @ @ - 148 , 6 + 149 , 18 @ @ <nl> + cloudRenderer = renderer ; <nl> + } <nl> + <nl> + + @ SideOnly ( Side . CLIENT ) <nl> + + public IRenderHandler getWeatherRenderer ( ) <nl> + + { <nl> + + return weatherRenderer ; <nl> + + } <nl> + + <nl> + + @ SideOnly ( Side . CLIENT ) <nl> + + public void setWeatherRenderer ( IRenderHandler renderer ) <nl> + + { <nl> + + weatherRenderer = renderer ; <nl> + + } <nl> + + <nl> + public ChunkCoordinates getRandomizedSpawnPoint ( ) <nl> + { <nl> + ChunkCoordinates chunkcoordinates = new ChunkCoordinates ( this . worldObj . getSpawnPoint ( ) ) ;

TEST DIFF:
diff - - git a / patches / minecraft / net / minecraft / client / renderer / ActiveRenderInfo . java . patch b / patches / minecraft / net / minecraft / client / renderer / ActiveRenderInfo . java . patch 
 new file mode 100644 
 index 0000000 . . 9701990 
 - - - / dev / null 
 + + + b / patches / minecraft / net / minecraft / client / renderer / ActiveRenderInfo . java . patch 
 @ @ - 0 , 0 + 1 , 17 @ @ 
 + - - - . . / src - base / minecraft / net / minecraft / client / renderer / ActiveRenderInfo . java 
 + + + + . . / src - work / minecraft / net / minecraft / client / renderer / ActiveRenderInfo . java 
 + @ @ - 108 , 4 + 108 , 14 @ @ 
 + { 
 + return field _ 74596 _ h ; 
 + } 
 + + 
 + + / * = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = FORGE START = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = * / 
 + + 
 + + / * * 
 + + * Vector from render view entity position ( corrected for partialTickTime ) to the middle of screen 
 + + * / 
 + + public static Vec3d getCameraPosition ( ) 
 + + { 
 + + return field _ 178811 _ e ; 
 + + } 
 + } 
 diff - - git a / patches / minecraft / net / minecraft / client / renderer / tileentity / TileEntityRendererDispatcher . java . patch b / patches / minecraft / net / minecraft / client / renderer / tileentity / TileEntityRendererDispatcher . java . patch 
 index a50d2ea . . 633652e 100644 
 - - - a / patches / minecraft / net / minecraft / client / renderer / tileentity / TileEntityRendererDispatcher . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / renderer / tileentity / TileEntityRendererDispatcher . java . patch 
 @ @ - 26 , 7 + 26 , 7 @ @ 
 tileentityspecialrenderer . func _ 192841 _ a ( p _ 192854 _ 1 _ , p _ 192854 _ 2 _ , p _ 192854 _ 4 _ , p _ 192854 _ 6 _ , p _ 192854 _ 8 _ , p _ 192854 _ 9 _ , p _ 192854 _ 10 _ ) ; 
 } 
 catch ( Throwable throwable ) 
 - @ @ - 172 , 4 + 178 , 52 @ @ 
 + @ @ - 172 , 4 + 178 , 53 @ @ 
 { 
 return this . field _ 147557 _ n ; 
 } 
 @ @ - 71 , 7 + 71 , 8 @ @ 
 + 
 + if ( pass > 0 ) 
 + { 
 - + batchBuffer . func _ 178180 _ c ( ) . func _ 181674 _ a ( 0 , 0 , 0 ) ; 
 + + net . minecraft . util . math . Vec3d cameraPos = net . minecraft . client . renderer . ActiveRenderInfo . getCameraPosition ( ) ; 
 + + batchBuffer . func _ 178180 _ c ( ) . func _ 181674 _ a ( ( float ) cameraPos . field _ 72450 _ a , ( float ) cameraPos . field _ 72448 _ b , ( float ) cameraPos . field _ 72449 _ c ) ; 
 + } 
 + batchBuffer . func _ 78381 _ a ( ) ; 
 +

NEAREST DIFF:
diff - - git a / patches / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch b / patches / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch 
 index 34ec09e . . d37299f 100644 
 - - - a / patches / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch 
 + + + b / patches / minecraft / net / minecraft / client / renderer / EntityRenderer . java . patch 
 @ @ - 1 , 17 + 1 , 17 @ @ 
 - - - . . / src - base / minecraft / net / minecraft / client / renderer / EntityRenderer . java 
 + + + . . / src - work / minecraft / net / minecraft / client / renderer / EntityRenderer . java 
 - @ @ - 52 , 6 + 52 , 11 @ @ 
 + @ @ - 51 , 6 + 51 , 11 @ @ 
 + import org . lwjgl . opengl . GL11 ; 
 import org . lwjgl . opengl . GLContext ; 
 import org . lwjgl . util . glu . Project ; 
 - 
 + import net . minecraftforge . client . ForgeHooksClient ; 
 + + import net . minecraftforge . client . IRenderHandler ; 
 + import net . minecraftforge . client . event . DrawBlockHighlightEvent ; 
 + import net . minecraftforge . client . event . RenderWorldLastEvent ; 
 + import net . minecraftforge . common . MinecraftForge ; 
 - + 
 + 
 @ SideOnly ( Side . CLIENT ) 
 public class EntityRenderer implements IResourceManagerReloadListener 
 - { 
 @ @ - 397 , 7 + 402 , 7 @ @ 
 
 if ( d3 < d2 | | d2 = = 0 . 0D ) 
 @ @ - 135 , 3 + 135 , 17 @ @ 
 this . mc . mcProfiler . endStartSection ( " hand " ) ; 
 
 if ( this . cameraZoom = = 1 . 0D ) 
 + @ @ - 1477 , 6 + 1503 , 13 @ @ 
 + / / JAVADOC METHOD $ $ func _ 78474 _ d 
 + protected void renderRainSnow ( float par1 ) 
 + { 
 + + IRenderHandler renderer = null ; 
 + + if ( ( renderer = this . mc . theWorld . provider . getWeatherRenderer ( ) ) ! = null ) 
 + + { 
 + + renderer . render ( par1 , this . mc . theWorld , mc ) ; 
 + + return ; 
 + + } 
 + + 
 + float f1 = this . mc . theWorld . getRainStrength ( par1 ) ; 
 + 
 + if ( f1 > 0 . 0F ) 
 diff - - git a / patches / minecraft / net / minecraft / world / WorldProvider . java . patch b / patches / minecraft / net / minecraft / world / WorldProvider . java . patch 
 index 754fea5 . . 522b2d3 100644 
 - - - a / patches / minecraft / net / minecraft / world / WorldProvider . java . patch 
 + + + b / patches / minecraft / net / minecraft / world / WorldProvider . java . patch 
 @ @ - 43 , 7 + 43 , 7 @ @ 
 } 
 
 @ SideOnly ( Side . CLIENT ) 
 - @ @ - 216 , 4 + 224 , 272 @ @ 
 + @ @ - 216 , 4 + 224 , 285 @ @ 
 
 / / JAVADOC METHOD $ $ func _ 80007 _ l 
 public abstract String getDimensionName ( ) ; 
 @ @ - 51 , 6 + 51 , 7 @ @ 
 + / * = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = Forge Start = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = * / 
 + private IRenderHandler skyRenderer = null ; 
 + private IRenderHandler cloudRenderer = null ; 
 + + private IRenderHandler weatherRenderer = null ; 
 + 
 + / * * 
 + * Sets the providers current dimension ID , used in default getSaveFolder ( ) 
 @ @ - 148 , 6 + 149 , 18 @ @ 
 + cloudRenderer = renderer ; 
 + } 
 + 
 + + @ SideOnly ( Side . CLIENT ) 
 + + public IRenderHandler getWeatherRenderer ( ) 
 + + { 
 + + return weatherRenderer ; 
 + + } 
 + + 
 + + @ SideOnly ( Side . CLIENT ) 
 + + public void setWeatherRenderer ( IRenderHandler renderer ) 
 + + { 
 + + weatherRenderer = renderer ; 
 + + } 
 + + 
 + public ChunkCoordinates getRandomizedSpawnPoint ( ) 
 + { 
 + ChunkCoordinates chunkcoordinates = new ChunkCoordinates ( this . worldObj . getSpawnPoint ( ) ) ;
