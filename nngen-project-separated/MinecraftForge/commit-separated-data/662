BLEU SCORE: 0.6389431042462724

TEST MSG: Revert " Added PlayerOpenContainerEvent and added ForgeHooks . canInteractWith "
GENERATED MSG: Added PlayerOpenContainerEvent and added ForgeHooks . canInteractWith

TEST DIFF (one line): diff - - git a / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch b / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch <nl> index 84d1061 . . 9e85c62 100644 <nl> - - - a / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch <nl> + + + b / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch <nl> @ @ - 20 , 15 + 20 , 6 @ @ <nl> this . field _ 70145 _ X = this . func _ 175149 _ v ( ) ; <nl> <nl> if ( this . func _ 175149 _ v ( ) ) <nl> - @ @ - 220 , 7 + 226 , 7 @ @ <nl> - <nl> - super . func _ 70071 _ h _ ( ) ; <nl> - <nl> - - if ( ! this . field _ 70170 _ p . field _ 72995 _ K & & this . field _ 71070 _ bA ! = null & & ! this . field _ 71070 _ bA . func _ 75145 _ c ( this ) ) <nl> - + if ( ! this . field _ 70170 _ p . field _ 72995 _ K & & this . field _ 71070 _ bA ! = null & & ! net . minecraftforge . common . ForgeHooks . canInteractWith ( this , this . field _ 71070 _ bA ) ) <nl> - { <nl> - this . func _ 71053 _ j ( ) ; <nl> - this . field _ 71070 _ bA = this . field _ 71069 _ bz ; <nl> @ @ - 361 , 6 + 367 , 7 @ @ <nl> this . func _ 70105 _ a ( f , f1 ) ; <nl> } <nl> diff - - git a / patches / minecraft / net / minecraft / entity / player / EntityPlayerMP . java . patch b / patches / minecraft / net / minecraft / entity / player / EntityPlayerMP . java . patch <nl> index 15b75ad . . 6b16c9a 100644 <nl> - - - a / patches / minecraft / net / minecraft / entity / player / EntityPlayerMP . java . patch <nl> + + + b / patches / minecraft / net / minecraft / entity / player / EntityPlayerMP . java . patch <nl> @ @ - 18 , 15 + 18 , 6 @ @ <nl> { <nl> int i = Math . max ( 0 , p _ i45285 _ 1 _ . func _ 184108 _ a ( p _ i45285 _ 2 _ ) ) ; <nl> int j = MathHelper . func _ 76128 _ c ( p _ i45285 _ 2 _ . func _ 175723 _ af ( ) . func _ 177729 _ b ( ( double ) blockpos . func _ 177958 _ n ( ) , ( double ) blockpos . func _ 177952 _ p ( ) ) ) ; <nl> - @ @ - 252 , 7 + 253 , 7 @ @ <nl> - <nl> - this . field _ 71070 _ bA . func _ 75142 _ b ( ) ; <nl> - <nl> - - if ( ! this . field _ 70170 _ p . field _ 72995 _ K & & ! this . field _ 71070 _ bA . func _ 75145 _ c ( this ) ) <nl> - + if ( ! this . field _ 70170 _ p . field _ 72995 _ K & & ! net . minecraftforge . common . ForgeHooks . canInteractWith ( this , this . field _ 71070 _ bA ) ) <nl> - { <nl> - this . func _ 71053 _ j ( ) ; <nl> - this . field _ 71070 _ bA = this . field _ 71069 _ bz ; <nl> @ @ - 435 , 6 + 436 , 7 @ @ <nl> <nl> public void func _ 70645 _ a ( DamageSource p _ 70645 _ 1 _ ) <nl> diff - - git a / src / main / java / net / minecraftforge / common / ForgeHooks . java b / src / main / java / net / minecraftforge / common / ForgeHooks . java <nl> index 751ce32 . . 4f8e84f 100644 <nl> - - - a / src / main / java / net / minecraftforge / common / ForgeHooks . java <nl> + + + b / src / main / java / net / minecraftforge / common / ForgeHooks . java <nl> @ @ - 93 , 7 + 93 , 6 @ @ import net . minecraftforge . event . entity . living . LivingSetAttackTargetEvent ; <nl> import net . minecraftforge . event . entity . player . AnvilRepairEvent ; <nl> import net . minecraftforge . event . entity . player . AttackEntityEvent ; <nl> import net . minecraftforge . event . entity . player . PlayerInteractEvent ; <nl> - import net . minecraftforge . event . entity . player . PlayerOpenContainerEvent ; <nl> import net . minecraftforge . event . world . BlockEvent ; <nl> import net . minecraftforge . event . world . NoteBlockEvent ; <nl> import net . minecraftforge . fluids . IFluidBlock ; <nl> @ @ - 655 , 13 + 654 , 6 @ @ public class ForgeHooks <nl> return ichat ; <nl> } <nl> <nl> - public static boolean canInteractWith ( EntityPlayer player , Container openContainer ) <nl> - { <nl> - PlayerOpenContainerEvent event = new PlayerOpenContainerEvent ( player , openContainer ) ; <nl> - MinecraftForge . EVENT _ BUS . post ( event ) ; <nl> - return event . getResult ( ) = = Event . Result . DEFAULT ? event . isCanInteractWith ( ) : event . getResult ( ) = = Event . Result . ALLOW ? true : false ; <nl> - } <nl> - <nl> public static int onBlockBreakEvent ( World world , GameType gameType , EntityPlayerMP entityPlayer , BlockPos pos ) <nl> { <nl> / / Logic from tryHarvestBlock for pre - canceling the event <nl> diff - - git a / src / main / java / net / minecraftforge / event / entity / player / PlayerOpenContainerEvent . java b / src / main / java / net / minecraftforge / event / entity / player / PlayerOpenContainerEvent . java <nl> deleted file mode 100644 <nl> index 0f39360 . . 0000000 <nl> - - - a / src / main / java / net / minecraftforge / event / entity / player / PlayerOpenContainerEvent . java <nl> + + + / dev / null <nl> @ @ - 1 , 33 + 0 , 0 @ @ <nl> - package net . minecraftforge . event . entity . player ; <nl> - <nl> - import net . minecraftforge . fml . common . eventhandler . Event . HasResult ; <nl> - import net . minecraft . entity . player . EntityPlayer ; <nl> - import net . minecraft . inventory . Container ; <nl> - <nl> - / * * <nl> - * This event is fired when a player attempts to view a container during <nl> - * player tick . <nl> - * <nl> - * setResult ALLOW to allow the container to stay open <nl> - * setResult DENY to force close the container ( denying access ) <nl> - * <nl> - * DEFAULT is vanilla behavior <nl> - * <nl> - * / <nl> - @ HasResult <nl> - public class PlayerOpenContainerEvent extends PlayerEvent <nl> - { <nl> - <nl> - private final boolean canInteractWith ; <nl> - <nl> - public PlayerOpenContainerEvent ( EntityPlayer player , Container openContainer ) <nl> - { <nl> - super ( player ) ; <nl> - this . canInteractWith = openContainer . canInteractWith ( player ) ; <nl> - } <nl> - <nl> - public boolean isCanInteractWith ( ) <nl> - { <nl> - return canInteractWith ; <nl> - } <nl> - }
NEAREST DIFF (one line): diff - - git a / common / net / minecraftforge / common / ForgeHooks . java b / common / net / minecraftforge / common / ForgeHooks . java <nl> index 7916f10 . . a8c6555 100644 <nl> - - - a / common / net / minecraftforge / common / ForgeHooks . java <nl> + + + b / common / net / minecraftforge / common / ForgeHooks . java <nl> @ @ - 11 , 6 + 11 , 7 @ @ import net . minecraft . entity . EntityLiving ; <nl> import net . minecraft . entity . EntityLivingBase ; <nl> import net . minecraft . entity . item . EntityItem ; <nl> import net . minecraft . entity . player . EntityPlayer ; <nl> + import net . minecraft . inventory . Container ; <nl> import net . minecraft . item . Item ; <nl> import net . minecraft . item . ItemArmor ; <nl> import net . minecraft . item . ItemAxe ; <nl> @ @ - 27 , 6 + 28 , 7 @ @ import net . minecraft . util . MovingObjectPosition ; <nl> import net . minecraft . util . WeightedRandom ; <nl> import net . minecraft . util . WeightedRandomItem ; <nl> import net . minecraft . world . World ; <nl> + import net . minecraftforge . event . Event ; <nl> import net . minecraftforge . event . ForgeEventFactory ; <nl> import net . minecraftforge . event . ServerChatEvent ; <nl> import net . minecraftforge . event . entity . item . ItemTossEvent ; <nl> @ @ - 38 , 6 + 40 , 7 @ @ import net . minecraftforge . event . entity . living . LivingEvent . LivingUpdateEvent ; <nl> import net . minecraftforge . event . entity . living . LivingFallEvent ; <nl> import net . minecraftforge . event . entity . living . LivingHurtEvent ; <nl> import net . minecraftforge . event . entity . living . LivingSetAttackTargetEvent ; <nl> + import net . minecraftforge . event . entity . player . PlayerOpenContainerEvent ; <nl> <nl> public class ForgeHooks <nl> { <nl> @ @ - 430 , 4 + 433 , 11 @ @ public class ForgeHooks <nl> } <nl> return event . component ; <nl> } <nl> + <nl> + public static boolean canInteractWith ( EntityPlayer player , Container openContainer ) <nl> + { <nl> + PlayerOpenContainerEvent event = new PlayerOpenContainerEvent ( player , openContainer ) ; <nl> + MinecraftForge . EVENT _ BUS . post ( event ) ; <nl> + return event . getResult ( ) = = Event . Result . DEFAULT ? event . canInteractWith : event . getResult ( ) = = Event . Result . ALLOW ? true : false ; <nl> + } <nl> } <nl> diff - - git a / common / net / minecraftforge / event / entity / player / PlayerOpenContainerEvent . java b / common / net / minecraftforge / event / entity / player / PlayerOpenContainerEvent . java <nl> new file mode 100644 <nl> index 0000000 . . 6ea781c <nl> - - - / dev / null <nl> + + + b / common / net / minecraftforge / event / entity / player / PlayerOpenContainerEvent . java <nl> @ @ - 0 , 0 + 1 , 29 @ @ <nl> + package net . minecraftforge . event . entity . player ; <nl> + <nl> + import net . minecraft . entity . player . EntityPlayer ; <nl> + import net . minecraft . inventory . Container ; <nl> + import net . minecraftforge . event . Event . HasResult ; <nl> + <nl> + @ HasResult <nl> + public class PlayerOpenContainerEvent extends PlayerEvent <nl> + { <nl> + <nl> + public final boolean canInteractWith ; <nl> + <nl> + / * * <nl> + * This event is fired when a player attempts to view a container during <nl> + * player tick . <nl> + * <nl> + * setResult ALLOW to allow the container to stay open <nl> + * setResult DENY to force close the container ( denying access ) <nl> + * <nl> + * DEFAULT is vanilla behaviour <nl> + * <nl> + * / <nl> + <nl> + public PlayerOpenContainerEvent ( EntityPlayer player , Container openContainer ) <nl> + { <nl> + super ( player ) ; <nl> + this . canInteractWith = openContainer . canInteractWith ( player ) ; <nl> + } <nl> + } <nl> diff - - git a / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch b / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch <nl> index 3ef5937 . . f1b2fcc 100644 <nl> - - - a / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch <nl> + + + b / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch <nl> @ @ - 64 , 6 + 64 , 15 @ @ <nl> if ( this . itemInUseCount < = 25 & & this . itemInUseCount % 4 = = 0 ) <nl> { <nl> this . updateItemUse ( itemstack , 5 ) ; <nl> + @ @ - 321 , 7 + 341 , 7 @ @ <nl> + <nl> + super . onUpdate ( ) ; <nl> + <nl> + - if ( ! this . worldObj . isRemote & & this . openContainer ! = null & & ! this . openContainer . canInteractWith ( this ) ) <nl> + + if ( ! this . worldObj . isRemote & & this . openContainer ! = null & & ! ForgeHooks . canInteractWith ( this , this . openContainer ) ) <nl> + { <nl> + this . closeScreen ( ) ; <nl> + this . openContainer = this . inventoryContainer ; <nl> @ @ - 429 , 7 + 449 , 7 @ @ <nl> vec31 . rotateAroundX ( - this . rotationPitch * ( float ) Math . PI / 180 . 0F ) ; <nl> vec31 . rotateAroundY ( - this . rotationYaw * ( float ) Math . PI / 180 . 0F ) ; <nl> diff - - git a / patches / minecraft / net / minecraft / entity / player / EntityPlayerMP . java . patch b / patches / minecraft / net / minecraft / entity / player / EntityPlayerMP . java . patch <nl> index d81404f . . 6d2c8e1 100644 <nl> - - - a / patches / minecraft / net / minecraft / entity / player / EntityPlayerMP . java . patch <nl> + + + b / patches / minecraft / net / minecraft / entity / player / EntityPlayerMP . java . patch <nl> @ @ - 45 , 6 + 45 , 15 @ @ <nl> / * * <nl> * Called to update the entity ' s position / logic . <nl> * / <nl> + @ @ - 254 , 7 + 247 , 7 @ @ <nl> + - - this . initialInvulnerability ; <nl> + this . openContainer . detectAndSendChanges ( ) ; <nl> + <nl> + - if ( ! this . worldObj . isRemote & & ! this . openContainer . canInteractWith ( this ) ) <nl> + + if ( ! this . worldObj . isRemote & & ! ForgeHooks . canInteractWith ( this , this . openContainer ) ) <nl> + { <nl> + this . closeScreen ( ) ; <nl> + this . openContainer = this . inventoryContainer ; <nl> @ @ - 290 , 7 + 283 , 10 @ @ <nl> if ( chunkcoordintpair ! = null & & this . worldObj . blockExists ( chunkcoordintpair . chunkXPos < < 4 , 0 , chunkcoordintpair . chunkZPos < < 4 ) ) <nl> {

TEST DIFF:
diff - - git a / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch b / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch 
 index 84d1061 . . 9e85c62 100644 
 - - - a / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch 
 + + + b / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch 
 @ @ - 20 , 15 + 20 , 6 @ @ 
 this . field _ 70145 _ X = this . func _ 175149 _ v ( ) ; 
 
 if ( this . func _ 175149 _ v ( ) ) 
 - @ @ - 220 , 7 + 226 , 7 @ @ 
 - 
 - super . func _ 70071 _ h _ ( ) ; 
 - 
 - - if ( ! this . field _ 70170 _ p . field _ 72995 _ K & & this . field _ 71070 _ bA ! = null & & ! this . field _ 71070 _ bA . func _ 75145 _ c ( this ) ) 
 - + if ( ! this . field _ 70170 _ p . field _ 72995 _ K & & this . field _ 71070 _ bA ! = null & & ! net . minecraftforge . common . ForgeHooks . canInteractWith ( this , this . field _ 71070 _ bA ) ) 
 - { 
 - this . func _ 71053 _ j ( ) ; 
 - this . field _ 71070 _ bA = this . field _ 71069 _ bz ; 
 @ @ - 361 , 6 + 367 , 7 @ @ 
 this . func _ 70105 _ a ( f , f1 ) ; 
 } 
 diff - - git a / patches / minecraft / net / minecraft / entity / player / EntityPlayerMP . java . patch b / patches / minecraft / net / minecraft / entity / player / EntityPlayerMP . java . patch 
 index 15b75ad . . 6b16c9a 100644 
 - - - a / patches / minecraft / net / minecraft / entity / player / EntityPlayerMP . java . patch 
 + + + b / patches / minecraft / net / minecraft / entity / player / EntityPlayerMP . java . patch 
 @ @ - 18 , 15 + 18 , 6 @ @ 
 { 
 int i = Math . max ( 0 , p _ i45285 _ 1 _ . func _ 184108 _ a ( p _ i45285 _ 2 _ ) ) ; 
 int j = MathHelper . func _ 76128 _ c ( p _ i45285 _ 2 _ . func _ 175723 _ af ( ) . func _ 177729 _ b ( ( double ) blockpos . func _ 177958 _ n ( ) , ( double ) blockpos . func _ 177952 _ p ( ) ) ) ; 
 - @ @ - 252 , 7 + 253 , 7 @ @ 
 - 
 - this . field _ 71070 _ bA . func _ 75142 _ b ( ) ; 
 - 
 - - if ( ! this . field _ 70170 _ p . field _ 72995 _ K & & ! this . field _ 71070 _ bA . func _ 75145 _ c ( this ) ) 
 - + if ( ! this . field _ 70170 _ p . field _ 72995 _ K & & ! net . minecraftforge . common . ForgeHooks . canInteractWith ( this , this . field _ 71070 _ bA ) ) 
 - { 
 - this . func _ 71053 _ j ( ) ; 
 - this . field _ 71070 _ bA = this . field _ 71069 _ bz ; 
 @ @ - 435 , 6 + 436 , 7 @ @ 
 
 public void func _ 70645 _ a ( DamageSource p _ 70645 _ 1 _ ) 
 diff - - git a / src / main / java / net / minecraftforge / common / ForgeHooks . java b / src / main / java / net / minecraftforge / common / ForgeHooks . java 
 index 751ce32 . . 4f8e84f 100644 
 - - - a / src / main / java / net / minecraftforge / common / ForgeHooks . java 
 + + + b / src / main / java / net / minecraftforge / common / ForgeHooks . java 
 @ @ - 93 , 7 + 93 , 6 @ @ import net . minecraftforge . event . entity . living . LivingSetAttackTargetEvent ; 
 import net . minecraftforge . event . entity . player . AnvilRepairEvent ; 
 import net . minecraftforge . event . entity . player . AttackEntityEvent ; 
 import net . minecraftforge . event . entity . player . PlayerInteractEvent ; 
 - import net . minecraftforge . event . entity . player . PlayerOpenContainerEvent ; 
 import net . minecraftforge . event . world . BlockEvent ; 
 import net . minecraftforge . event . world . NoteBlockEvent ; 
 import net . minecraftforge . fluids . IFluidBlock ; 
 @ @ - 655 , 13 + 654 , 6 @ @ public class ForgeHooks 
 return ichat ; 
 } 
 
 - public static boolean canInteractWith ( EntityPlayer player , Container openContainer ) 
 - { 
 - PlayerOpenContainerEvent event = new PlayerOpenContainerEvent ( player , openContainer ) ; 
 - MinecraftForge . EVENT _ BUS . post ( event ) ; 
 - return event . getResult ( ) = = Event . Result . DEFAULT ? event . isCanInteractWith ( ) : event . getResult ( ) = = Event . Result . ALLOW ? true : false ; 
 - } 
 - 
 public static int onBlockBreakEvent ( World world , GameType gameType , EntityPlayerMP entityPlayer , BlockPos pos ) 
 { 
 / / Logic from tryHarvestBlock for pre - canceling the event 
 diff - - git a / src / main / java / net / minecraftforge / event / entity / player / PlayerOpenContainerEvent . java b / src / main / java / net / minecraftforge / event / entity / player / PlayerOpenContainerEvent . java 
 deleted file mode 100644 
 index 0f39360 . . 0000000 
 - - - a / src / main / java / net / minecraftforge / event / entity / player / PlayerOpenContainerEvent . java 
 + + + / dev / null 
 @ @ - 1 , 33 + 0 , 0 @ @ 
 - package net . minecraftforge . event . entity . player ; 
 - 
 - import net . minecraftforge . fml . common . eventhandler . Event . HasResult ; 
 - import net . minecraft . entity . player . EntityPlayer ; 
 - import net . minecraft . inventory . Container ; 
 - 
 - / * * 
 - * This event is fired when a player attempts to view a container during 
 - * player tick . 
 - * 
 - * setResult ALLOW to allow the container to stay open 
 - * setResult DENY to force close the container ( denying access ) 
 - * 
 - * DEFAULT is vanilla behavior 
 - * 
 - * / 
 - @ HasResult 
 - public class PlayerOpenContainerEvent extends PlayerEvent 
 - { 
 - 
 - private final boolean canInteractWith ; 
 - 
 - public PlayerOpenContainerEvent ( EntityPlayer player , Container openContainer ) 
 - { 
 - super ( player ) ; 
 - this . canInteractWith = openContainer . canInteractWith ( player ) ; 
 - } 
 - 
 - public boolean isCanInteractWith ( ) 
 - { 
 - return canInteractWith ; 
 - } 
 - }

NEAREST DIFF:
diff - - git a / common / net / minecraftforge / common / ForgeHooks . java b / common / net / minecraftforge / common / ForgeHooks . java 
 index 7916f10 . . a8c6555 100644 
 - - - a / common / net / minecraftforge / common / ForgeHooks . java 
 + + + b / common / net / minecraftforge / common / ForgeHooks . java 
 @ @ - 11 , 6 + 11 , 7 @ @ import net . minecraft . entity . EntityLiving ; 
 import net . minecraft . entity . EntityLivingBase ; 
 import net . minecraft . entity . item . EntityItem ; 
 import net . minecraft . entity . player . EntityPlayer ; 
 + import net . minecraft . inventory . Container ; 
 import net . minecraft . item . Item ; 
 import net . minecraft . item . ItemArmor ; 
 import net . minecraft . item . ItemAxe ; 
 @ @ - 27 , 6 + 28 , 7 @ @ import net . minecraft . util . MovingObjectPosition ; 
 import net . minecraft . util . WeightedRandom ; 
 import net . minecraft . util . WeightedRandomItem ; 
 import net . minecraft . world . World ; 
 + import net . minecraftforge . event . Event ; 
 import net . minecraftforge . event . ForgeEventFactory ; 
 import net . minecraftforge . event . ServerChatEvent ; 
 import net . minecraftforge . event . entity . item . ItemTossEvent ; 
 @ @ - 38 , 6 + 40 , 7 @ @ import net . minecraftforge . event . entity . living . LivingEvent . LivingUpdateEvent ; 
 import net . minecraftforge . event . entity . living . LivingFallEvent ; 
 import net . minecraftforge . event . entity . living . LivingHurtEvent ; 
 import net . minecraftforge . event . entity . living . LivingSetAttackTargetEvent ; 
 + import net . minecraftforge . event . entity . player . PlayerOpenContainerEvent ; 
 
 public class ForgeHooks 
 { 
 @ @ - 430 , 4 + 433 , 11 @ @ public class ForgeHooks 
 } 
 return event . component ; 
 } 
 + 
 + public static boolean canInteractWith ( EntityPlayer player , Container openContainer ) 
 + { 
 + PlayerOpenContainerEvent event = new PlayerOpenContainerEvent ( player , openContainer ) ; 
 + MinecraftForge . EVENT _ BUS . post ( event ) ; 
 + return event . getResult ( ) = = Event . Result . DEFAULT ? event . canInteractWith : event . getResult ( ) = = Event . Result . ALLOW ? true : false ; 
 + } 
 } 
 diff - - git a / common / net / minecraftforge / event / entity / player / PlayerOpenContainerEvent . java b / common / net / minecraftforge / event / entity / player / PlayerOpenContainerEvent . java 
 new file mode 100644 
 index 0000000 . . 6ea781c 
 - - - / dev / null 
 + + + b / common / net / minecraftforge / event / entity / player / PlayerOpenContainerEvent . java 
 @ @ - 0 , 0 + 1 , 29 @ @ 
 + package net . minecraftforge . event . entity . player ; 
 + 
 + import net . minecraft . entity . player . EntityPlayer ; 
 + import net . minecraft . inventory . Container ; 
 + import net . minecraftforge . event . Event . HasResult ; 
 + 
 + @ HasResult 
 + public class PlayerOpenContainerEvent extends PlayerEvent 
 + { 
 + 
 + public final boolean canInteractWith ; 
 + 
 + / * * 
 + * This event is fired when a player attempts to view a container during 
 + * player tick . 
 + * 
 + * setResult ALLOW to allow the container to stay open 
 + * setResult DENY to force close the container ( denying access ) 
 + * 
 + * DEFAULT is vanilla behaviour 
 + * 
 + * / 
 + 
 + public PlayerOpenContainerEvent ( EntityPlayer player , Container openContainer ) 
 + { 
 + super ( player ) ; 
 + this . canInteractWith = openContainer . canInteractWith ( player ) ; 
 + } 
 + } 
 diff - - git a / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch b / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch 
 index 3ef5937 . . f1b2fcc 100644 
 - - - a / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch 
 + + + b / patches / minecraft / net / minecraft / entity / player / EntityPlayer . java . patch 
 @ @ - 64 , 6 + 64 , 15 @ @ 
 if ( this . itemInUseCount < = 25 & & this . itemInUseCount % 4 = = 0 ) 
 { 
 this . updateItemUse ( itemstack , 5 ) ; 
 + @ @ - 321 , 7 + 341 , 7 @ @ 
 + 
 + super . onUpdate ( ) ; 
 + 
 + - if ( ! this . worldObj . isRemote & & this . openContainer ! = null & & ! this . openContainer . canInteractWith ( this ) ) 
 + + if ( ! this . worldObj . isRemote & & this . openContainer ! = null & & ! ForgeHooks . canInteractWith ( this , this . openContainer ) ) 
 + { 
 + this . closeScreen ( ) ; 
 + this . openContainer = this . inventoryContainer ; 
 @ @ - 429 , 7 + 449 , 7 @ @ 
 vec31 . rotateAroundX ( - this . rotationPitch * ( float ) Math . PI / 180 . 0F ) ; 
 vec31 . rotateAroundY ( - this . rotationYaw * ( float ) Math . PI / 180 . 0F ) ; 
 diff - - git a / patches / minecraft / net / minecraft / entity / player / EntityPlayerMP . java . patch b / patches / minecraft / net / minecraft / entity / player / EntityPlayerMP . java . patch 
 index d81404f . . 6d2c8e1 100644 
 - - - a / patches / minecraft / net / minecraft / entity / player / EntityPlayerMP . java . patch 
 + + + b / patches / minecraft / net / minecraft / entity / player / EntityPlayerMP . java . patch 
 @ @ - 45 , 6 + 45 , 15 @ @ 
 / * * 
 * Called to update the entity ' s position / logic . 
 * / 
 + @ @ - 254 , 7 + 247 , 7 @ @ 
 + - - this . initialInvulnerability ; 
 + this . openContainer . detectAndSendChanges ( ) ; 
 + 
 + - if ( ! this . worldObj . isRemote & & ! this . openContainer . canInteractWith ( this ) ) 
 + + if ( ! this . worldObj . isRemote & & ! ForgeHooks . canInteractWith ( this , this . openContainer ) ) 
 + { 
 + this . closeScreen ( ) ; 
 + this . openContainer = this . inventoryContainer ; 
 @ @ - 290 , 7 + 283 , 10 @ @ 
 if ( chunkcoordintpair ! = null & & this . worldObj . blockExists ( chunkcoordintpair . chunkXPos < < 4 , 0 , chunkcoordintpair . chunkZPos < < 4 ) ) 
 {
