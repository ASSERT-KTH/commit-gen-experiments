BLEU SCORE: 0.018738883683389617

TEST MSG: Make the tests loop through type infos looking for a match
GENERATED MSG: move IUnknownTest to its rightful place ( w / rename )

TEST DIFF (one line): diff - - git a / contrib / platform / test / com / sun / jna / platform / win32 / COM / ITypeInfoTest . java b / contrib / platform / test / com / sun / jna / platform / win32 / COM / ITypeInfoTest . java <nl> index e5f7732 . . a50d19a 100644 <nl> - - - a / contrib / platform / test / com / sun / jna / platform / win32 / COM / ITypeInfoTest . java <nl> + + + b / contrib / platform / test / com / sun / jna / platform / win32 / COM / ITypeInfoTest . java <nl> @ @ - 49 , 12 + 49 , 25 @ @ public class ITypeInfoTest extends TestCase { <nl> protected void tearDown ( ) throws Exception { <nl> } <nl> <nl> - public int getTypeInfoCount ( ) { <nl> - return 0 ; <nl> - } <nl> - <nl> public ITypeInfo getTypeInfo ( ) { <nl> - return null ; <nl> + TypeLibUtil shellTypeLib = new TypeLibUtil ( " { 50A7E9B0 - 70EF - 11D1 - B75A - 00A0C90564FE } " , 1 , 0 ) ; <nl> + int typeInfoCount = shellTypeLib . getTypeInfoCount ( ) ; <nl> + if ( typeInfoCount = = 0 ) <nl> + throw new RuntimeException ( " Shell lib contains zero type infos " ) ; <nl> + ITypeInfo typeInfo = shellTypeLib . getTypeInfo ( 18 ) ; <nl> + return typeInfo ; <nl> + } <nl> + <nl> + public ITypeInfo [ ] getTypeInfos ( ) { <nl> + TypeLibUtil shellTypeLib = new TypeLibUtil ( " { 50A7E9B0 - 70EF - 11D1 - B75A - 00A0C90564FE } " , 1 , 0 ) ; <nl> + int typeInfoCount = shellTypeLib . getTypeInfoCount ( ) ; <nl> + if ( typeInfoCount = = 0 ) <nl> + throw new RuntimeException ( " Shell lib contains zero type infos " ) ; <nl> + ITypeInfo [ ] typeInfos = new ITypeInfo [ typeInfoCount ] ; <nl> + for ( int i = 0 ; i < typeInfoCount ; i + + ) { <nl> + typeInfos [ i ] = shellTypeLib . getTypeInfo ( i ) ; <nl> + } <nl> + return typeInfos ; <nl> } <nl> <nl> public void testGetTypeAttr ( ) { <nl> @ @ - 70 , 17 + 83 , 20 @ @ public class ITypeInfoTest extends TestCase { <nl> } <nl> <nl> public void testGetNames ( ) { <nl> - ITypeInfo typeInfo = getTypeInfo ( ) ; <nl> + ITypeInfo [ ] typeInfos = getTypeInfos ( ) ; <nl> MEMBERID memid = new MEMBERID ( 1 ) ; <nl> BSTR [ ] rgBstrNames = new BSTR [ 1 ] ; <nl> UINT cMaxNames = new UINT ( 1 ) ; <nl> UINTByReference pcNames = new UINTByReference ( ) ; <nl> - HRESULT hr = typeInfo . GetNames ( memid , rgBstrNames , cMaxNames , pcNames ) ; <nl> - <nl> - COMUtils . checkRC ( hr ) ; <nl> - assertEquals ( 0 , hr . intValue ( ) ) ; <nl> - / / System . out . println ( " rgBstrNames : " + rgBstrNames [ 0 ] . getValue ( ) ) ; <nl> - / / System . out . println ( " pcNames : " + pcNames . getValue ( ) . intValue ( ) ) ; <nl> + for ( ITypeInfo typeInfo : typeInfos ) { <nl> + HRESULT hr = typeInfo . GetNames ( memid , rgBstrNames , cMaxNames , pcNames ) ; <nl> + if ( COMUtils . SUCCEEDED ( hr ) ) { <nl> + / / System . out . println ( " rgBstrNames : " + rgBstrNames [ 0 ] . getValue ( ) ) ; <nl> + / / System . out . println ( " pcNames : " + pcNames . getValue ( ) . intValue ( ) ) ; <nl> + return ; <nl> + } <nl> + } <nl> + throw new RuntimeException ( " Didn ' t find name for member in any of the type infos " ) ; <nl> } <nl> <nl> public void testGetRefTypeOfImplType ( ) { <nl> @ @ - 104 , 15 + 120 , 18 @ @ public class ITypeInfoTest extends TestCase { <nl> } <nl> <nl> public void testGetIDsOfNames ( ) { <nl> - ITypeInfo typeInfo = getTypeInfo ( ) ; <nl> - LPOLESTR [ ] rgszNames = { new LPOLESTR ( " Help " ) } ; <nl> + ITypeInfo [ ] typeInfos = getTypeInfos ( ) ; <nl> + LPOLESTR [ ] rgszNames = { new LPOLESTR ( " Help " ) } ; <nl> UINT cNames = new UINT ( 1 ) ; <nl> MEMBERID [ ] pMemId = new MEMBERID [ 1 ] ; <nl> - HRESULT hr = typeInfo . GetIDsOfNames ( rgszNames , cNames , pMemId ) ; <nl> - <nl> - COMUtils . checkRC ( hr ) ; <nl> - assertEquals ( 0 , hr . intValue ( ) ) ; <nl> - / / System . out . println ( " pMemId : " + pMemId . toString ( ) ) ; <nl> + for ( ITypeInfo typeInfo : typeInfos ) { <nl> + HRESULT hr = typeInfo . GetIDsOfNames ( rgszNames , cNames , pMemId ) ; <nl> + if ( COMUtils . SUCCEEDED ( hr ) ) { <nl> + / / System . out . println ( " pMemId : " + pMemId . toString ( ) ) ; <nl> + return ; <nl> + } <nl> + } <nl> + throw new RuntimeException ( " Didn ' t find Help in any of the type infos " ) ; <nl> } <nl> <nl> public void testInvoke ( ) { <nl> @ @ - 120 , 54 + 139 , 63 @ @ public class ITypeInfoTest extends TestCase { <nl> } <nl> <nl> public void testGetDocumentation ( ) { <nl> - ITypeInfo typeInfo = getTypeInfo ( ) ; <nl> + ITypeInfo [ ] typeInfos = getTypeInfos ( ) ; <nl> MEMBERID memid = new MEMBERID ( 0 ) ; <nl> BSTRByReference pBstrName = new BSTRByReference ( ) ; <nl> BSTRByReference pBstrDocString = new BSTRByReference ( ) ; <nl> DWORDByReference pdwHelpContext = new DWORDByReference ( ) ; <nl> BSTRByReference pBstrHelpFile = new BSTRByReference ( ) ; <nl> + for ( ITypeInfo typeInfo : typeInfos ) { <nl> HRESULT hr = typeInfo . GetDocumentation ( memid , pBstrName , <nl> pBstrDocString , pdwHelpContext , pBstrHelpFile ) ; <nl> - <nl> - COMUtils . checkRC ( hr ) ; <nl> - assertEquals ( 0 , hr . intValue ( ) ) ; <nl> - / / System . out . println ( " memid : " + memid . intValue ( ) ) ; <nl> - / / System . out . println ( " pBstrName : " + pBstrName . getValue ( ) ) ; <nl> - / / System . out . println ( " pBstrDocString : " + pBstrDocString . getValue ( ) ) ; <nl> - / / System . out . println ( " pdwHelpContext : " + pdwHelpContext . getValue ( ) ) ; <nl> - / / System . out . println ( " pBstrHelpFile : " + pBstrHelpFile . getValue ( ) ) ; <nl> + if ( COMUtils . SUCCEEDED ( hr ) ) { <nl> + / / System . out . println ( " memid : " + memid . intValue ( ) ) ; <nl> + / / System . out . println ( " pBstrName : " + pBstrName . getValue ( ) ) ; <nl> + / / System . out . println ( " pBstrDocString : " + pBstrDocString . getValue ( ) ) ; <nl> + / / System . out . println ( " pdwHelpContext : " + pdwHelpContext . getValue ( ) ) ; <nl> + / / System . out . println ( " pBstrHelpFile : " + pBstrHelpFile . getValue ( ) ) ; <nl> + return ; <nl> + } <nl> + } <nl> + throw new RuntimeException ( " Didn ' t find documentation in any of the type infos " ) ; <nl> } <nl> <nl> public void testGetDllEntry ( ) { <nl> - ITypeInfo typeInfo = getTypeInfo ( ) ; <nl> + ITypeInfo [ ] typeInfos = getTypeInfos ( ) ; <nl> MEMBERID memid = new MEMBERID ( 0 ) ; <nl> BSTRByReference pBstrDllName = new BSTRByReference ( ) ; <nl> BSTRByReference pBstrName = new BSTRByReference ( ) ; <nl> WORDByReference pwOrdinal = new WORDByReference ( ) ; <nl> - HRESULT hr = typeInfo . GetDllEntry ( memid , INVOKEKIND . INVOKE _ FUNC , <nl> - pBstrDllName , pBstrName , pwOrdinal ) ; <nl> - <nl> - COMUtils . checkRC ( hr ) ; <nl> - assertEquals ( 0 , hr . intValue ( ) ) ; <nl> - / / System . out . println ( " memid : " + memid . intValue ( ) ) ; <nl> - / / System . out . println ( " pBstrDllName : " + pBstrDllName . getValue ( ) ) ; <nl> - / / System . out . println ( " pBstrName : " + pBstrName . getValue ( ) ) ; <nl> - / / System . out . println ( " pwOrdinal : " + pwOrdinal . getValue ( ) ) ; <nl> + for ( ITypeInfo typeInfo : typeInfos ) { <nl> + HRESULT hr = typeInfo . GetDllEntry ( memid , INVOKEKIND . INVOKE _ FUNC , <nl> + pBstrDllName , pBstrName , pwOrdinal ) ; <nl> + if ( COMUtils . SUCCEEDED ( hr ) ) { <nl> + / / System . out . println ( " memid : " + memid . intValue ( ) ) ; <nl> + / / System . out . println ( " pBstrDllName : " + pBstrDllName . getValue ( ) ) ; <nl> + / / System . out . println ( " pBstrName : " + pBstrName . getValue ( ) ) ; <nl> + / / System . out . println ( " pwOrdinal : " + pwOrdinal . getValue ( ) ) ; <nl> + return ; <nl> + } <nl> + } <nl> + throw new RuntimeException ( " Didn ' t find Dll entry for member in any of the type infos " ) ; <nl> } <nl> <nl> public void testGetRefTypeInfo ( ) { <nl> } <nl> <nl> public void testAddressOfMember ( ) { <nl> - ITypeInfo typeInfo = getTypeInfo ( ) ; <nl> + ITypeInfo [ ] typeInfos = getTypeInfos ( ) ; <nl> MEMBERID memid = new MEMBERID ( ) ; <nl> PointerByReference ppv = new PointerByReference ( ) ; <nl> - HRESULT hr = typeInfo . AddressOfMember ( memid , INVOKEKIND . INVOKE _ FUNC , <nl> - ppv ) ; <nl> - <nl> - COMUtils . checkRC ( hr ) ; <nl> - assertEquals ( 0 , hr . intValue ( ) ) ; <nl> - / / System . out . println ( " AddressOfMember : " + ppv . toString ( ) ) ; <nl> + for ( ITypeInfo typeInfo : typeInfos ) { <nl> + HRESULT hr = typeInfo . AddressOfMember ( memid , INVOKEKIND . INVOKE _ FUNC , <nl> + ppv ) ; <nl> + if ( COMUtils . SUCCEEDED ( hr ) ) { <nl> + / / System . out . println ( " AddressOfMember : " + ppv . toString ( ) ) ; <nl> + return ; <nl> + } <nl> + } <nl> + throw new RuntimeException ( " Didn ' t find address for function in any of the type infos " ) ; <nl> } <nl> <nl> public void testCreateInstance ( ) {
NEAREST DIFF (one line): diff - - git a / ChangeLog b / ChangeLog <nl> index bf2c179 . . 1b09d91 100644 <nl> - - - a / ChangeLog <nl> + + + b / ChangeLog <nl> @ @ - 1 , 5 + 1 , 10 @ @ <nl> 2013 - 02 - 07 Anthony Green < green @ moxielogic . com > <nl> <nl> + 	 * src / sparc / v8 . S ( ffi _ call _ v8 ) : Fix typo from last patch <nl> + 	 ( effectively hiding ffi _ call _ v8 ) . <nl> + <nl> + 2013 - 02 - 07 Anthony Green < green @ moxielogic . com > <nl> + <nl> 	 * configure . ac : Update bug reporting address . <nl> 	 * configure . in : Rebuild . <nl> <nl> diff - - git a / configure b / configure <nl> index a94399a . . 2908c45 100755 <nl> - - - a / configure <nl> + + + b / configure <nl> @ @ - 1 , 6 + 1 , 6 @ @ <nl> # ! / bin / sh <nl> # Guess values for system - dependent variables and create Makefiles . <nl> - # Generated by GNU Autoconf 2 . 69 for libffi 3 . 0 . 12 - rc2 . <nl> + # Generated by GNU Autoconf 2 . 69 for libffi 3 . 0 . 12 - rc3 . <nl> # <nl> # Report bugs to < http : / / github . com / atgreen / libffi / issues > . <nl> # <nl> @ @ - 590 , 8 + 590 , 8 @ @ MAKEFLAGS = <nl> # Identity of this package . <nl> PACKAGE _ NAME = ' libffi ' <nl> PACKAGE _ TARNAME = ' libffi ' <nl> - PACKAGE _ VERSION = ' 3 . 0 . 12 - rc2 ' <nl> - PACKAGE _ STRING = ' libffi 3 . 0 . 12 - rc2 ' <nl> + PACKAGE _ VERSION = ' 3 . 0 . 12 - rc3 ' <nl> + PACKAGE _ STRING = ' libffi 3 . 0 . 12 - rc3 ' <nl> PACKAGE _ BUGREPORT = ' http : / / github . com / atgreen / libffi / issues ' <nl> PACKAGE _ URL = ' ' <nl> <nl> @ @ - 1405 , 7 + 1405 , 7 @ @ if test " $ ac _ init _ help " = " long " ; then <nl> # Omit some internal or obsolete options to make the list less imposing . <nl> # This message is too long to be a string in the A / UX 3 . 1 sh . <nl> cat < < _ ACEOF <nl> - \ ` configure ' configures libffi 3 . 0 . 12 - rc2 to adapt to many kinds of systems . <nl> + \ ` configure ' configures libffi 3 . 0 . 12 - rc3 to adapt to many kinds of systems . <nl> <nl> Usage : $ 0 [ OPTION ] . . . [ VAR = VALUE ] . . . <nl> <nl> @ @ - 1476 , 7 + 1476 , 7 @ @ fi <nl> <nl> if test - n " $ ac _ init _ help " ; then <nl> case $ ac _ init _ help in <nl> - short | recursive ) echo " Configuration of libffi 3 . 0 . 12 - rc2 : " ; ; <nl> + short | recursive ) echo " Configuration of libffi 3 . 0 . 12 - rc3 : " ; ; <nl> esac <nl> cat < < \ _ ACEOF <nl> <nl> @ @ - 1596 , 7 + 1596 , 7 @ @ fi <nl> test - n " $ ac _ init _ help " & & exit $ ac _ status <nl> if $ ac _ init _ version ; then <nl> cat < < \ _ ACEOF <nl> - libffi configure 3 . 0 . 12 - rc2 <nl> + libffi configure 3 . 0 . 12 - rc3 <nl> generated by GNU Autoconf 2 . 69 <nl> <nl> Copyright ( C ) 2012 Free Software Foundation , Inc . <nl> @ @ - 2202 , 7 + 2202 , 7 @ @ cat > config . log < < _ ACEOF <nl> This file contains any messages produced by compilers while <nl> running configure , to aid debugging if configure makes a mistake . <nl> <nl> - It was created by libffi $ as _ me 3 . 0 . 12 - rc2 , which was <nl> + It was created by libffi $ as _ me 3 . 0 . 12 - rc3 , which was <nl> generated by GNU Autoconf 2 . 69 . Invocation command line was <nl> <nl> $ $ 0 $ @ <nl> @ @ - 3245 , 7 + 3245 , 7 @ @ fi <nl> <nl> # Define the identity of the package . <nl> PACKAGE = ' libffi ' <nl> - VERSION = ' 3 . 0 . 12 - rc2 ' <nl> + VERSION = ' 3 . 0 . 12 - rc3 ' <nl> <nl> <nl> cat > > confdefs . h < < _ ACEOF <nl> @ @ - 15527 , 7 + 15527 , 7 @ @ cat > > $ CONFIG _ STATUS < < \ _ ACEOF | | ac _ write _ fail = 1 <nl> # report actual input values of CONFIG _ FILES etc . instead of their <nl> # values after options handling . <nl> ac _ log = " <nl> - This file was extended by libffi $ as _ me 3 . 0 . 12 - rc2 , which was <nl> + This file was extended by libffi $ as _ me 3 . 0 . 12 - rc3 , which was <nl> generated by GNU Autoconf 2 . 69 . Invocation command line was <nl> <nl> CONFIG _ FILES = $ CONFIG _ FILES <nl> @ @ - 15597 , 7 + 15597 , 7 @ @ _ ACEOF <nl> cat > > $ CONFIG _ STATUS < < _ ACEOF | | ac _ write _ fail = 1 <nl> ac _ cs _ config = " ` $ as _ echo " $ ac _ configure _ args " | sed ' s / ^ / / ; s / [ \ \ " " \ ` \ $ ] / \ \ \ \ & / g ' ` " <nl> ac _ cs _ version = " \ \ <nl> - libffi config . status 3 . 0 . 12 - rc2 <nl> + libffi config . status 3 . 0 . 12 - rc3 <nl> configured by $ 0 , generated by GNU Autoconf 2 . 69 , <nl> with options \ \ " \ $ ac _ cs _ config \ \ " <nl> <nl> diff - - git a / configure . ac b / configure . ac <nl> index acf13b2 . . 1d1eed2 100644 <nl> - - - a / configure . ac <nl> + + + b / configure . ac <nl> @ @ - 2 , 7 + 2 , 7 @ @ dnl Process this with autoconf to create configure <nl> <nl> AC _ PREREQ ( 2 . 68 ) <nl> <nl> - AC _ INIT ( [ libffi ] , [ 3 . 0 . 12 - rc2 ] , [ http : / / github . com / atgreen / libffi / issues ] ) <nl> + AC _ INIT ( [ libffi ] , [ 3 . 0 . 12 - rc3 ] , [ http : / / github . com / atgreen / libffi / issues ] ) <nl> AC _ CONFIG _ HEADERS ( [ fficonfig . h ] ) <nl> <nl> AC _ CANONICAL _ SYSTEM <nl> diff - - git a / doc / stamp - vti b / doc / stamp - vti <nl> index a187361 . . 38f07d7 100644 <nl> - - - a / doc / stamp - vti <nl> + + + b / doc / stamp - vti <nl> @ @ - 1 , 4 + 1 , 4 @ @ <nl> @ set UPDATED 6 February 2013 <nl> @ set UPDATED - MONTH February 2013 <nl> - @ set EDITION 3 . 0 . 12 - rc1 <nl> - @ set VERSION 3 . 0 . 12 - rc1 <nl> + @ set EDITION 3 . 0 . 12 - rc2 <nl> + @ set VERSION 3 . 0 . 12 - rc2 <nl> diff - - git a / doc / version . texi b / doc / version . texi <nl> index a187361 . . 38f07d7 100644 <nl> - - - a / doc / version . texi <nl> + + + b / doc / version . texi <nl> @ @ - 1 , 4 + 1 , 4 @ @ <nl> @ set UPDATED 6 February 2013 <nl> @ set UPDATED - MONTH February 2013 <nl> - @ set EDITION 3 . 0 . 12 - rc1 <nl> - @ set VERSION 3 . 0 . 12 - rc1 <nl> + @ set EDITION 3 . 0 . 12 - rc2 <nl> + @ set VERSION 3 . 0 . 12 - rc2 <nl> diff - - git a / src / sparc / v8 . S b / src / sparc / v8 . S <nl> index 027c363 . . 4faf3bd 100644 <nl> - - - a / src / sparc / v8 . S <nl> + + + b / src / sparc / v8 . S <nl> @ @ - 33 , 7 + 33 , 7 @ @ <nl> # define ARGS ( 64 + 4 ) 	 	 / * Offset of register area in frame * / <nl> <nl> # ifndef _ _ GNUC _ _ 	 <nl> - . text <nl> + 	 . text <nl> . align 8 <nl> . globl ffi _ flush _ icache <nl> . globl _ ffi _ flush _ icache <nl> @ @ - 54 , 12 + 54 , 12 @ @ _ ffi _ flush _ icache : <nl> 	 nop <nl> . ffi _ flush _ icache _ end : <nl> 	 . size 	 ffi _ flush _ icache , . ffi _ flush _ icache _ end - ffi _ flush _ icache <nl> + # endif <nl> <nl> 	 . text <nl> . align 8 <nl> . globl ffi _ call _ v8 <nl> . globl _ ffi _ call _ v8 <nl> - # endif <nl> 	 <nl> ffi _ call _ v8 : <nl> _ ffi _ call _ v8 :

TEST DIFF:
diff - - git a / contrib / platform / test / com / sun / jna / platform / win32 / COM / ITypeInfoTest . java b / contrib / platform / test / com / sun / jna / platform / win32 / COM / ITypeInfoTest . java 
 index e5f7732 . . a50d19a 100644 
 - - - a / contrib / platform / test / com / sun / jna / platform / win32 / COM / ITypeInfoTest . java 
 + + + b / contrib / platform / test / com / sun / jna / platform / win32 / COM / ITypeInfoTest . java 
 @ @ - 49 , 12 + 49 , 25 @ @ public class ITypeInfoTest extends TestCase { 
 protected void tearDown ( ) throws Exception { 
 } 
 
 - public int getTypeInfoCount ( ) { 
 - return 0 ; 
 - } 
 - 
 public ITypeInfo getTypeInfo ( ) { 
 - return null ; 
 + TypeLibUtil shellTypeLib = new TypeLibUtil ( " { 50A7E9B0 - 70EF - 11D1 - B75A - 00A0C90564FE } " , 1 , 0 ) ; 
 + int typeInfoCount = shellTypeLib . getTypeInfoCount ( ) ; 
 + if ( typeInfoCount = = 0 ) 
 + throw new RuntimeException ( " Shell lib contains zero type infos " ) ; 
 + ITypeInfo typeInfo = shellTypeLib . getTypeInfo ( 18 ) ; 
 + return typeInfo ; 
 + } 
 + 
 + public ITypeInfo [ ] getTypeInfos ( ) { 
 + TypeLibUtil shellTypeLib = new TypeLibUtil ( " { 50A7E9B0 - 70EF - 11D1 - B75A - 00A0C90564FE } " , 1 , 0 ) ; 
 + int typeInfoCount = shellTypeLib . getTypeInfoCount ( ) ; 
 + if ( typeInfoCount = = 0 ) 
 + throw new RuntimeException ( " Shell lib contains zero type infos " ) ; 
 + ITypeInfo [ ] typeInfos = new ITypeInfo [ typeInfoCount ] ; 
 + for ( int i = 0 ; i < typeInfoCount ; i + + ) { 
 + typeInfos [ i ] = shellTypeLib . getTypeInfo ( i ) ; 
 + } 
 + return typeInfos ; 
 } 
 
 public void testGetTypeAttr ( ) { 
 @ @ - 70 , 17 + 83 , 20 @ @ public class ITypeInfoTest extends TestCase { 
 } 
 
 public void testGetNames ( ) { 
 - ITypeInfo typeInfo = getTypeInfo ( ) ; 
 + ITypeInfo [ ] typeInfos = getTypeInfos ( ) ; 
 MEMBERID memid = new MEMBERID ( 1 ) ; 
 BSTR [ ] rgBstrNames = new BSTR [ 1 ] ; 
 UINT cMaxNames = new UINT ( 1 ) ; 
 UINTByReference pcNames = new UINTByReference ( ) ; 
 - HRESULT hr = typeInfo . GetNames ( memid , rgBstrNames , cMaxNames , pcNames ) ; 
 - 
 - COMUtils . checkRC ( hr ) ; 
 - assertEquals ( 0 , hr . intValue ( ) ) ; 
 - / / System . out . println ( " rgBstrNames : " + rgBstrNames [ 0 ] . getValue ( ) ) ; 
 - / / System . out . println ( " pcNames : " + pcNames . getValue ( ) . intValue ( ) ) ; 
 + for ( ITypeInfo typeInfo : typeInfos ) { 
 + HRESULT hr = typeInfo . GetNames ( memid , rgBstrNames , cMaxNames , pcNames ) ; 
 + if ( COMUtils . SUCCEEDED ( hr ) ) { 
 + / / System . out . println ( " rgBstrNames : " + rgBstrNames [ 0 ] . getValue ( ) ) ; 
 + / / System . out . println ( " pcNames : " + pcNames . getValue ( ) . intValue ( ) ) ; 
 + return ; 
 + } 
 + } 
 + throw new RuntimeException ( " Didn ' t find name for member in any of the type infos " ) ; 
 } 
 
 public void testGetRefTypeOfImplType ( ) { 
 @ @ - 104 , 15 + 120 , 18 @ @ public class ITypeInfoTest extends TestCase { 
 } 
 
 public void testGetIDsOfNames ( ) { 
 - ITypeInfo typeInfo = getTypeInfo ( ) ; 
 - LPOLESTR [ ] rgszNames = { new LPOLESTR ( " Help " ) } ; 
 + ITypeInfo [ ] typeInfos = getTypeInfos ( ) ; 
 + LPOLESTR [ ] rgszNames = { new LPOLESTR ( " Help " ) } ; 
 UINT cNames = new UINT ( 1 ) ; 
 MEMBERID [ ] pMemId = new MEMBERID [ 1 ] ; 
 - HRESULT hr = typeInfo . GetIDsOfNames ( rgszNames , cNames , pMemId ) ; 
 - 
 - COMUtils . checkRC ( hr ) ; 
 - assertEquals ( 0 , hr . intValue ( ) ) ; 
 - / / System . out . println ( " pMemId : " + pMemId . toString ( ) ) ; 
 + for ( ITypeInfo typeInfo : typeInfos ) { 
 + HRESULT hr = typeInfo . GetIDsOfNames ( rgszNames , cNames , pMemId ) ; 
 + if ( COMUtils . SUCCEEDED ( hr ) ) { 
 + / / System . out . println ( " pMemId : " + pMemId . toString ( ) ) ; 
 + return ; 
 + } 
 + } 
 + throw new RuntimeException ( " Didn ' t find Help in any of the type infos " ) ; 
 } 
 
 public void testInvoke ( ) { 
 @ @ - 120 , 54 + 139 , 63 @ @ public class ITypeInfoTest extends TestCase { 
 } 
 
 public void testGetDocumentation ( ) { 
 - ITypeInfo typeInfo = getTypeInfo ( ) ; 
 + ITypeInfo [ ] typeInfos = getTypeInfos ( ) ; 
 MEMBERID memid = new MEMBERID ( 0 ) ; 
 BSTRByReference pBstrName = new BSTRByReference ( ) ; 
 BSTRByReference pBstrDocString = new BSTRByReference ( ) ; 
 DWORDByReference pdwHelpContext = new DWORDByReference ( ) ; 
 BSTRByReference pBstrHelpFile = new BSTRByReference ( ) ; 
 + for ( ITypeInfo typeInfo : typeInfos ) { 
 HRESULT hr = typeInfo . GetDocumentation ( memid , pBstrName , 
 pBstrDocString , pdwHelpContext , pBstrHelpFile ) ; 
 - 
 - COMUtils . checkRC ( hr ) ; 
 - assertEquals ( 0 , hr . intValue ( ) ) ; 
 - / / System . out . println ( " memid : " + memid . intValue ( ) ) ; 
 - / / System . out . println ( " pBstrName : " + pBstrName . getValue ( ) ) ; 
 - / / System . out . println ( " pBstrDocString : " + pBstrDocString . getValue ( ) ) ; 
 - / / System . out . println ( " pdwHelpContext : " + pdwHelpContext . getValue ( ) ) ; 
 - / / System . out . println ( " pBstrHelpFile : " + pBstrHelpFile . getValue ( ) ) ; 
 + if ( COMUtils . SUCCEEDED ( hr ) ) { 
 + / / System . out . println ( " memid : " + memid . intValue ( ) ) ; 
 + / / System . out . println ( " pBstrName : " + pBstrName . getValue ( ) ) ; 
 + / / System . out . println ( " pBstrDocString : " + pBstrDocString . getValue ( ) ) ; 
 + / / System . out . println ( " pdwHelpContext : " + pdwHelpContext . getValue ( ) ) ; 
 + / / System . out . println ( " pBstrHelpFile : " + pBstrHelpFile . getValue ( ) ) ; 
 + return ; 
 + } 
 + } 
 + throw new RuntimeException ( " Didn ' t find documentation in any of the type infos " ) ; 
 } 
 
 public void testGetDllEntry ( ) { 
 - ITypeInfo typeInfo = getTypeInfo ( ) ; 
 + ITypeInfo [ ] typeInfos = getTypeInfos ( ) ; 
 MEMBERID memid = new MEMBERID ( 0 ) ; 
 BSTRByReference pBstrDllName = new BSTRByReference ( ) ; 
 BSTRByReference pBstrName = new BSTRByReference ( ) ; 
 WORDByReference pwOrdinal = new WORDByReference ( ) ; 
 - HRESULT hr = typeInfo . GetDllEntry ( memid , INVOKEKIND . INVOKE _ FUNC , 
 - pBstrDllName , pBstrName , pwOrdinal ) ; 
 - 
 - COMUtils . checkRC ( hr ) ; 
 - assertEquals ( 0 , hr . intValue ( ) ) ; 
 - / / System . out . println ( " memid : " + memid . intValue ( ) ) ; 
 - / / System . out . println ( " pBstrDllName : " + pBstrDllName . getValue ( ) ) ; 
 - / / System . out . println ( " pBstrName : " + pBstrName . getValue ( ) ) ; 
 - / / System . out . println ( " pwOrdinal : " + pwOrdinal . getValue ( ) ) ; 
 + for ( ITypeInfo typeInfo : typeInfos ) { 
 + HRESULT hr = typeInfo . GetDllEntry ( memid , INVOKEKIND . INVOKE _ FUNC , 
 + pBstrDllName , pBstrName , pwOrdinal ) ; 
 + if ( COMUtils . SUCCEEDED ( hr ) ) { 
 + / / System . out . println ( " memid : " + memid . intValue ( ) ) ; 
 + / / System . out . println ( " pBstrDllName : " + pBstrDllName . getValue ( ) ) ; 
 + / / System . out . println ( " pBstrName : " + pBstrName . getValue ( ) ) ; 
 + / / System . out . println ( " pwOrdinal : " + pwOrdinal . getValue ( ) ) ; 
 + return ; 
 + } 
 + } 
 + throw new RuntimeException ( " Didn ' t find Dll entry for member in any of the type infos " ) ; 
 } 
 
 public void testGetRefTypeInfo ( ) { 
 } 
 
 public void testAddressOfMember ( ) { 
 - ITypeInfo typeInfo = getTypeInfo ( ) ; 
 + ITypeInfo [ ] typeInfos = getTypeInfos ( ) ; 
 MEMBERID memid = new MEMBERID ( ) ; 
 PointerByReference ppv = new PointerByReference ( ) ; 
 - HRESULT hr = typeInfo . AddressOfMember ( memid , INVOKEKIND . INVOKE _ FUNC , 
 - ppv ) ; 
 - 
 - COMUtils . checkRC ( hr ) ; 
 - assertEquals ( 0 , hr . intValue ( ) ) ; 
 - / / System . out . println ( " AddressOfMember : " + ppv . toString ( ) ) ; 
 + for ( ITypeInfo typeInfo : typeInfos ) { 
 + HRESULT hr = typeInfo . AddressOfMember ( memid , INVOKEKIND . INVOKE _ FUNC , 
 + ppv ) ; 
 + if ( COMUtils . SUCCEEDED ( hr ) ) { 
 + / / System . out . println ( " AddressOfMember : " + ppv . toString ( ) ) ; 
 + return ; 
 + } 
 + } 
 + throw new RuntimeException ( " Didn ' t find address for function in any of the type infos " ) ; 
 } 
 
 public void testCreateInstance ( ) {

NEAREST DIFF:
diff - - git a / ChangeLog b / ChangeLog 
 index bf2c179 . . 1b09d91 100644 
 - - - a / ChangeLog 
 + + + b / ChangeLog 
 @ @ - 1 , 5 + 1 , 10 @ @ 
 2013 - 02 - 07 Anthony Green < green @ moxielogic . com > 
 
 + 	 * src / sparc / v8 . S ( ffi _ call _ v8 ) : Fix typo from last patch 
 + 	 ( effectively hiding ffi _ call _ v8 ) . 
 + 
 + 2013 - 02 - 07 Anthony Green < green @ moxielogic . com > 
 + 
 	 * configure . ac : Update bug reporting address . 
 	 * configure . in : Rebuild . 
 
 diff - - git a / configure b / configure 
 index a94399a . . 2908c45 100755 
 - - - a / configure 
 + + + b / configure 
 @ @ - 1 , 6 + 1 , 6 @ @ 
 # ! / bin / sh 
 # Guess values for system - dependent variables and create Makefiles . 
 - # Generated by GNU Autoconf 2 . 69 for libffi 3 . 0 . 12 - rc2 . 
 + # Generated by GNU Autoconf 2 . 69 for libffi 3 . 0 . 12 - rc3 . 
 # 
 # Report bugs to < http : / / github . com / atgreen / libffi / issues > . 
 # 
 @ @ - 590 , 8 + 590 , 8 @ @ MAKEFLAGS = 
 # Identity of this package . 
 PACKAGE _ NAME = ' libffi ' 
 PACKAGE _ TARNAME = ' libffi ' 
 - PACKAGE _ VERSION = ' 3 . 0 . 12 - rc2 ' 
 - PACKAGE _ STRING = ' libffi 3 . 0 . 12 - rc2 ' 
 + PACKAGE _ VERSION = ' 3 . 0 . 12 - rc3 ' 
 + PACKAGE _ STRING = ' libffi 3 . 0 . 12 - rc3 ' 
 PACKAGE _ BUGREPORT = ' http : / / github . com / atgreen / libffi / issues ' 
 PACKAGE _ URL = ' ' 
 
 @ @ - 1405 , 7 + 1405 , 7 @ @ if test " $ ac _ init _ help " = " long " ; then 
 # Omit some internal or obsolete options to make the list less imposing . 
 # This message is too long to be a string in the A / UX 3 . 1 sh . 
 cat < < _ ACEOF 
 - \ ` configure ' configures libffi 3 . 0 . 12 - rc2 to adapt to many kinds of systems . 
 + \ ` configure ' configures libffi 3 . 0 . 12 - rc3 to adapt to many kinds of systems . 
 
 Usage : $ 0 [ OPTION ] . . . [ VAR = VALUE ] . . . 
 
 @ @ - 1476 , 7 + 1476 , 7 @ @ fi 
 
 if test - n " $ ac _ init _ help " ; then 
 case $ ac _ init _ help in 
 - short | recursive ) echo " Configuration of libffi 3 . 0 . 12 - rc2 : " ; ; 
 + short | recursive ) echo " Configuration of libffi 3 . 0 . 12 - rc3 : " ; ; 
 esac 
 cat < < \ _ ACEOF 
 
 @ @ - 1596 , 7 + 1596 , 7 @ @ fi 
 test - n " $ ac _ init _ help " & & exit $ ac _ status 
 if $ ac _ init _ version ; then 
 cat < < \ _ ACEOF 
 - libffi configure 3 . 0 . 12 - rc2 
 + libffi configure 3 . 0 . 12 - rc3 
 generated by GNU Autoconf 2 . 69 
 
 Copyright ( C ) 2012 Free Software Foundation , Inc . 
 @ @ - 2202 , 7 + 2202 , 7 @ @ cat > config . log < < _ ACEOF 
 This file contains any messages produced by compilers while 
 running configure , to aid debugging if configure makes a mistake . 
 
 - It was created by libffi $ as _ me 3 . 0 . 12 - rc2 , which was 
 + It was created by libffi $ as _ me 3 . 0 . 12 - rc3 , which was 
 generated by GNU Autoconf 2 . 69 . Invocation command line was 
 
 $ $ 0 $ @ 
 @ @ - 3245 , 7 + 3245 , 7 @ @ fi 
 
 # Define the identity of the package . 
 PACKAGE = ' libffi ' 
 - VERSION = ' 3 . 0 . 12 - rc2 ' 
 + VERSION = ' 3 . 0 . 12 - rc3 ' 
 
 
 cat > > confdefs . h < < _ ACEOF 
 @ @ - 15527 , 7 + 15527 , 7 @ @ cat > > $ CONFIG _ STATUS < < \ _ ACEOF | | ac _ write _ fail = 1 
 # report actual input values of CONFIG _ FILES etc . instead of their 
 # values after options handling . 
 ac _ log = " 
 - This file was extended by libffi $ as _ me 3 . 0 . 12 - rc2 , which was 
 + This file was extended by libffi $ as _ me 3 . 0 . 12 - rc3 , which was 
 generated by GNU Autoconf 2 . 69 . Invocation command line was 
 
 CONFIG _ FILES = $ CONFIG _ FILES 
 @ @ - 15597 , 7 + 15597 , 7 @ @ _ ACEOF 
 cat > > $ CONFIG _ STATUS < < _ ACEOF | | ac _ write _ fail = 1 
 ac _ cs _ config = " ` $ as _ echo " $ ac _ configure _ args " | sed ' s / ^ / / ; s / [ \ \ " " \ ` \ $ ] / \ \ \ \ & / g ' ` " 
 ac _ cs _ version = " \ \ 
 - libffi config . status 3 . 0 . 12 - rc2 
 + libffi config . status 3 . 0 . 12 - rc3 
 configured by $ 0 , generated by GNU Autoconf 2 . 69 , 
 with options \ \ " \ $ ac _ cs _ config \ \ " 
 
 diff - - git a / configure . ac b / configure . ac 
 index acf13b2 . . 1d1eed2 100644 
 - - - a / configure . ac 
 + + + b / configure . ac 
 @ @ - 2 , 7 + 2 , 7 @ @ dnl Process this with autoconf to create configure 
 
 AC _ PREREQ ( 2 . 68 ) 
 
 - AC _ INIT ( [ libffi ] , [ 3 . 0 . 12 - rc2 ] , [ http : / / github . com / atgreen / libffi / issues ] ) 
 + AC _ INIT ( [ libffi ] , [ 3 . 0 . 12 - rc3 ] , [ http : / / github . com / atgreen / libffi / issues ] ) 
 AC _ CONFIG _ HEADERS ( [ fficonfig . h ] ) 
 
 AC _ CANONICAL _ SYSTEM 
 diff - - git a / doc / stamp - vti b / doc / stamp - vti 
 index a187361 . . 38f07d7 100644 
 - - - a / doc / stamp - vti 
 + + + b / doc / stamp - vti 
 @ @ - 1 , 4 + 1 , 4 @ @ 
 @ set UPDATED 6 February 2013 
 @ set UPDATED - MONTH February 2013 
 - @ set EDITION 3 . 0 . 12 - rc1 
 - @ set VERSION 3 . 0 . 12 - rc1 
 + @ set EDITION 3 . 0 . 12 - rc2 
 + @ set VERSION 3 . 0 . 12 - rc2 
 diff - - git a / doc / version . texi b / doc / version . texi 
 index a187361 . . 38f07d7 100644 
 - - - a / doc / version . texi 
 + + + b / doc / version . texi 
 @ @ - 1 , 4 + 1 , 4 @ @ 
 @ set UPDATED 6 February 2013 
 @ set UPDATED - MONTH February 2013 
 - @ set EDITION 3 . 0 . 12 - rc1 
 - @ set VERSION 3 . 0 . 12 - rc1 
 + @ set EDITION 3 . 0 . 12 - rc2 
 + @ set VERSION 3 . 0 . 12 - rc2 
 diff - - git a / src / sparc / v8 . S b / src / sparc / v8 . S 
 index 027c363 . . 4faf3bd 100644 
 - - - a / src / sparc / v8 . S 
 + + + b / src / sparc / v8 . S 
 @ @ - 33 , 7 + 33 , 7 @ @ 
 # define ARGS ( 64 + 4 ) 	 	 / * Offset of register area in frame * / 
 
 # ifndef _ _ GNUC _ _ 	 
 - . text 
 + 	 . text 
 . align 8 
 . globl ffi _ flush _ icache 
 . globl _ ffi _ flush _ icache 
 @ @ - 54 , 12 + 54 , 12 @ @ _ ffi _ flush _ icache : 
 	 nop 
 . ffi _ flush _ icache _ end : 
 	 . size 	 ffi _ flush _ icache , . ffi _ flush _ icache _ end - ffi _ flush _ icache 
 + # endif 
 
 	 . text 
 . align 8 
 . globl ffi _ call _ v8 
 . globl _ ffi _ call _ v8 
 - # endif 
 	 
 ffi _ call _ v8 : 
 _ ffi _ call _ v8 :
