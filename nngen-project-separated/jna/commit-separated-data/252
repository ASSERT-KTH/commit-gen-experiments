BLEU SCORE: 0.020980574531482755

TEST MSG: Ensure local libffi is used instead of global / dynamic
GENERATED MSG: add platform notes

TEST DIFF (one line): diff - - git a / native / Makefile b / native / Makefile <nl> index 6307996 . . 5215f0a 100644 <nl> - - - a / native / Makefile <nl> + + + b / native / Makefile <nl> @ @ - 20 , 7 + 20 , 7 @ @ <nl> # <nl> # Built , but with outstanding bugs ( not necessarily within JNA ) : <nl> # <nl> - # Linux ( ppc64 / ia64 ) <nl> + # Linux ( ppc64 / ppc64le / ia64 ) <nl> # <nl> # The w32ce build requires cegcc and phoneME for cross - compilation ; if these <nl> # tools are available on the path then " ant - Dos . prefix = w32ce - arm " should <nl> @ @ - 228 , 7 + 228 , 12 @ @ ifeq ( $ ( OS ) , linux ) <nl> ARCH = $ ( shell uname - m | sed ' s / i . 86 / i386 / g ' ) <nl> PCFLAGS + = - fPIC <nl> CDEFINES + = - DHAVE _ PROTECTION <nl> + ifeq ( $ ( DYNAMIC _ LIBFFI ) , true ) <nl> LDFLAGS + = - Wl , - soname , $ @ <nl> + else <nl> + # Ensure we bind to local libffi symbols <nl> + LDFLAGS + = - Wl , - soname , $ @ , - Bsymbolic <nl> + endif <nl> endif <nl> <nl> ifneq ( , $ ( findstring bsd , $ ( OS ) ) )
NEAREST DIFF (one line): diff - - git a / jnalib / src / com / sun / jna / examples / WindowUtils . java b / jnalib / src / com / sun / jna / examples / WindowUtils . java <nl> index 9731b1a . . 07a4add 100644 <nl> - - - a / jnalib / src / com / sun / jna / examples / WindowUtils . java <nl> + + + b / jnalib / src / com / sun / jna / examples / WindowUtils . java <nl> @ @ - 103 , 7 + 103 , 7 @ @ import com . sun . jna . ptr . PointerByReference ; <nl> * before the corresponding native Drawable may be obtained ; in later <nl> * Java versions , the window need only be displayable . <nl> * < p > <nl> - * NOTE : If you use { @ link # setWindowMask ( Shape ) } and override { @ link <nl> + * NOTE : If you use { @ link # setWindowMask ( Window , Shape ) } and override { @ link <nl> * Window # paint ( Graphics ) } on OS X , you ' ll need to explicitly set the clip <nl> * mask on the < code > Graphics < / code > object with the window mask ; only the <nl> * content pane of the window and below have the window mask automatically

TEST DIFF:
diff - - git a / native / Makefile b / native / Makefile 
 index 6307996 . . 5215f0a 100644 
 - - - a / native / Makefile 
 + + + b / native / Makefile 
 @ @ - 20 , 7 + 20 , 7 @ @ 
 # 
 # Built , but with outstanding bugs ( not necessarily within JNA ) : 
 # 
 - # Linux ( ppc64 / ia64 ) 
 + # Linux ( ppc64 / ppc64le / ia64 ) 
 # 
 # The w32ce build requires cegcc and phoneME for cross - compilation ; if these 
 # tools are available on the path then " ant - Dos . prefix = w32ce - arm " should 
 @ @ - 228 , 7 + 228 , 12 @ @ ifeq ( $ ( OS ) , linux ) 
 ARCH = $ ( shell uname - m | sed ' s / i . 86 / i386 / g ' ) 
 PCFLAGS + = - fPIC 
 CDEFINES + = - DHAVE _ PROTECTION 
 + ifeq ( $ ( DYNAMIC _ LIBFFI ) , true ) 
 LDFLAGS + = - Wl , - soname , $ @ 
 + else 
 + # Ensure we bind to local libffi symbols 
 + LDFLAGS + = - Wl , - soname , $ @ , - Bsymbolic 
 + endif 
 endif 
 
 ifneq ( , $ ( findstring bsd , $ ( OS ) ) )

NEAREST DIFF:
diff - - git a / jnalib / src / com / sun / jna / examples / WindowUtils . java b / jnalib / src / com / sun / jna / examples / WindowUtils . java 
 index 9731b1a . . 07a4add 100644 
 - - - a / jnalib / src / com / sun / jna / examples / WindowUtils . java 
 + + + b / jnalib / src / com / sun / jna / examples / WindowUtils . java 
 @ @ - 103 , 7 + 103 , 7 @ @ import com . sun . jna . ptr . PointerByReference ; 
 * before the corresponding native Drawable may be obtained ; in later 
 * Java versions , the window need only be displayable . 
 * < p > 
 - * NOTE : If you use { @ link # setWindowMask ( Shape ) } and override { @ link 
 + * NOTE : If you use { @ link # setWindowMask ( Window , Shape ) } and override { @ link 
 * Window # paint ( Graphics ) } on OS X , you ' ll need to explicitly set the clip 
 * mask on the < code > Graphics < / code > object with the window mask ; only the 
 * content pane of the window and below have the window mask automatically
