BLEU SCORE: 0.041961149062965476

TEST MSG: Fix wince - arm detection ( affects only unittests )
GENERATED MSG: correct arch detection comment

TEST DIFF (one line): diff - - git a / src / com / sun / jna / Platform . java b / src / com / sun / jna / Platform . java <nl> index 483ecc6 . . 7a5a29c 100644 <nl> - - - a / src / com / sun / jna / Platform . java <nl> + + + b / src / com / sun / jna / Platform . java <nl> @ @ - 130 , 7 + 130 , 7 @ @ public final class Platform { <nl> C _ LIBRARY _ NAME = osType = = WINDOWS ? " msvcrt " : osType = = WINDOWSCE ? " coredll " : " c " ; <nl> MATH _ LIBRARY _ NAME = osType = = WINDOWS ? " msvcrt " : osType = = WINDOWSCE ? " coredll " : " m " ; <nl> HAS _ DLL _ CALLBACKS = osType = = WINDOWS ; <nl> - 	 ARCH = getCanonicalArchitecture ( System . getProperty ( " os . arch " ) ) ; <nl> + 	 ARCH = getCanonicalArchitecture ( System . getProperty ( " os . arch " ) , osType ) ; <nl> RESOURCE _ PREFIX = getNativeLibraryResourcePrefix ( ) ; <nl> } <nl> private Platform ( ) { } <nl> @ @ - 236 , 7 + 236 , 7 @ @ public final class Platform { <nl> return false ; <nl> } <nl> <nl> - static String getCanonicalArchitecture ( String arch ) { <nl> + static String getCanonicalArchitecture ( String arch , int platform ) { <nl> 	 arch = arch . toLowerCase ( ) . trim ( ) ; <nl> if ( " powerpc " . equals ( arch ) ) { <nl> arch = " ppc " ; <nl> @ @ - 256 , 7 + 256 , 7 @ @ public final class Platform { <nl> 	 arch = " ppc64le " ; <nl> 	 } <nl> / / Map arm to armel if the binary is running as softfloat build <nl> - if ( " arm " . equals ( arch ) & & isSoftFloat ( ) ) { <nl> + if ( " arm " . equals ( arch ) & & platform = = Platform . LINUX & & isSoftFloat ( ) ) { <nl> arch = " armel " ; <nl> } <nl> <nl> @ @ - 300 , 7 + 300 , 7 @ @ public final class Platform { <nl> * / <nl> static String getNativeLibraryResourcePrefix ( int osType , String arch , String name ) { <nl> String osPrefix ; <nl> - arch = getCanonicalArchitecture ( arch ) ; <nl> + arch = getCanonicalArchitecture ( arch , osType ) ; <nl> switch ( osType ) { <nl> case Platform . ANDROID : <nl> if ( arch . startsWith ( " arm " ) ) {
NEAREST DIFF (one line): ELIMINATEDSENTENCE

TEST DIFF:
diff - - git a / src / com / sun / jna / Platform . java b / src / com / sun / jna / Platform . java 
 index 483ecc6 . . 7a5a29c 100644 
 - - - a / src / com / sun / jna / Platform . java 
 + + + b / src / com / sun / jna / Platform . java 
 @ @ - 130 , 7 + 130 , 7 @ @ public final class Platform { 
 C _ LIBRARY _ NAME = osType = = WINDOWS ? " msvcrt " : osType = = WINDOWSCE ? " coredll " : " c " ; 
 MATH _ LIBRARY _ NAME = osType = = WINDOWS ? " msvcrt " : osType = = WINDOWSCE ? " coredll " : " m " ; 
 HAS _ DLL _ CALLBACKS = osType = = WINDOWS ; 
 - 	 ARCH = getCanonicalArchitecture ( System . getProperty ( " os . arch " ) ) ; 
 + 	 ARCH = getCanonicalArchitecture ( System . getProperty ( " os . arch " ) , osType ) ; 
 RESOURCE _ PREFIX = getNativeLibraryResourcePrefix ( ) ; 
 } 
 private Platform ( ) { } 
 @ @ - 236 , 7 + 236 , 7 @ @ public final class Platform { 
 return false ; 
 } 
 
 - static String getCanonicalArchitecture ( String arch ) { 
 + static String getCanonicalArchitecture ( String arch , int platform ) { 
 	 arch = arch . toLowerCase ( ) . trim ( ) ; 
 if ( " powerpc " . equals ( arch ) ) { 
 arch = " ppc " ; 
 @ @ - 256 , 7 + 256 , 7 @ @ public final class Platform { 
 	 arch = " ppc64le " ; 
 	 } 
 / / Map arm to armel if the binary is running as softfloat build 
 - if ( " arm " . equals ( arch ) & & isSoftFloat ( ) ) { 
 + if ( " arm " . equals ( arch ) & & platform = = Platform . LINUX & & isSoftFloat ( ) ) { 
 arch = " armel " ; 
 } 
 
 @ @ - 300 , 7 + 300 , 7 @ @ public final class Platform { 
 * / 
 static String getNativeLibraryResourcePrefix ( int osType , String arch , String name ) { 
 String osPrefix ; 
 - arch = getCanonicalArchitecture ( arch ) ; 
 + arch = getCanonicalArchitecture ( arch , osType ) ; 
 switch ( osType ) { 
 case Platform . ANDROID : 
 if ( arch . startsWith ( " arm " ) ) {

NEAREST DIFF:
ELIMINATEDSENTENCE
