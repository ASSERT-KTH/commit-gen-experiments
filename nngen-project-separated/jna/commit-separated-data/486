BLEU SCORE: 0.07175721159246834

TEST MSG: avoid spurious rebuilds
GENERATED MSG: avoid negative interactions with system install of JNA

TEST DIFF (one line): diff - - git a / build . xml b / build . xml <nl> index 9c5c6b9 . . c6edaea 100644 <nl> - - - a / build . xml <nl> + + + b / build . xml <nl> @ @ - 137 , 10 + 137 , 10 @ @ <nl> <nl> < replaceregexp match = ' VERSION = " . * " ; ' <nl> replace = ' VERSION = " $ { jna . version } " ; ' <nl> - file = " src / com / sun / jna / Native . java " / > <nl> + file = " src / com / sun / jna / Version . java " / > <nl> < replaceregexp match = ' VERSION _ NATIVE = " . * " ; ' <nl> replace = ' VERSION _ NATIVE = " $ { jni . version } " ; ' <nl> - file = " src / com / sun / jna / Native . java " / > <nl> + file = " src / com / sun / jna / Version . java " / > <nl> <nl> < condition property = " jar . omitted " value = " * * / * jnidispatch * " else = " jnilib - included " > <nl> < isset property = " omit - jnilib " / > <nl> @ @ - 556 , 18 + 556 , 23 @ @ osname = macosx ; processor = x86 ; processor = x86 - 64 ; processor = ppc <nl> < copy todir = " $ { build . native } " file = " $ { native } / jnidispatch . rc " / > <nl> < replaceregexp match = " FILEVERSION . * " <nl> replace = " FILEVERSION $ { jni . major } , $ { jni . minor } , $ { jni . revision } , $ { jni . build } " <nl> + preserveLastModified = " true " <nl> file = " $ { rsrc } " byline = " true " / > <nl> < replaceregexp match = " PRODUCTVERSION . * " <nl> replace = " PRODUCTVERSION $ { jna . major } , $ { jna . minor } , $ { jna . revision } , $ { jna . build } " <nl> + preserveLastModified = " true " <nl> file = " $ { rsrc } " byline = " true " / > <nl> < replaceregexp match = " FileVersion . * " <nl> replace = " FileVersion & quot ; , & quot ; $ { jni . version } & quot ; " <nl> + preserveLastModified = " true " <nl> file = " $ { rsrc } " byline = " true " / > <nl> < replaceregexp match = " Full Version . * " <nl> replace = " Full Version & quot ; , & quot ; $ { jni . version } b $ { jni . build } & quot ; " <nl> + preserveLastModified = " true " <nl> file = " $ { rsrc } " byline = " true " / > <nl> < replaceregexp match = " ProductVersion . * " <nl> replace = " ProductVersion & quot ; , & quot ; $ { spec . version } & quot ; " <nl> + preserveLastModified = " true " <nl> file = " $ { rsrc } " byline = " true " / > <nl> < / target > <nl> <nl> @ @ - 978 , 6 + 983 , 13 @ @ osname = macosx ; processor = x86 ; processor = x86 - 64 ; processor = ppc <nl> < / target > <nl> <nl> < target name = " clean " depends = " - dynamic - properties " > <nl> + < exec executable = " git " failonerror = " false " > <nl> + < arg value = " checkout " / > <nl> + < arg value = " - - " / > <nl> + < arg value = " src / com / sun / jna / Version . java " / > <nl> + < arg value = " $ { pom } " / > <nl> + < arg value = " $ { pom - platform } " / > <nl> + < / exec > <nl> < delete failOnError = " false " includeEmptyDirs = " true " > <nl> < fileset dir = " $ { build } " / > <nl> < / delete > <nl> diff - - git a / native / Makefile b / native / Makefile <nl> index 7921808 . . 56ddc66 100644 <nl> - - - a / native / Makefile <nl> + + + b / native / Makefile <nl> @ @ - 347 , 9 + 347 , 10 @ @ install : <nl> $ ( DLLCB ) : dll - callback . c <nl> 	 $ ( MINGW ) - DDEFINE _ CALLBACKS - c $ < $ ( COUT ) <nl> <nl> - $ ( RSRC ) : $ ( BUILD ) / jnidispatch . rc <nl> + $ ( RSRC ) : $ ( BUILD ) / jnidispatch . rc $ ( BUILD ) / $ ( JNA _ JNI _ VERSION ) . stamp <nl> 	 $ ( WINDRES ) - i $ < - o $ @ \ <nl> | | ( echo > $ @ . c & & $ ( CC ) $ ( CFLAGS ) - c $ @ . c $ ( COUT ) ) <nl> + 	 @ touch $ ( BUILD ) / $ ( JNA _ JNI _ VERSION ) . stamp <nl> <nl> $ ( LIBRARY ) : $ ( JNIDISPATCH _ OBJS ) $ ( FFI _ LIB ) <nl> 	 $ ( LD ) $ ( LDFLAGS ) $ ( JNIDISPATCH _ OBJS ) $ ( FFI _ LIB ) $ ( LIBS ) <nl> diff - - git a / src / com / sun / jna / Native . java b / src / com / sun / jna / Native . java <nl> index c4ab875 . . d1ec48a 100644 <nl> - - - a / src / com / sun / jna / Native . java <nl> + + + b / src / com / sun / jna / Native . java <nl> @ @ - 85 , 10 + 85 , 7 @ @ import com . sun . jna . Structure . FFIType ; <nl> * @ author Todd Fast , todd . fast @ sun . com <nl> * @ author twall @ users . sf . net <nl> * / <nl> - public final class Native { <nl> - <nl> - private static final String VERSION = " 3 . 6 . 0 - SNAPSHOT " ; <nl> - private static final String VERSION _ NATIVE = " 3 . 6 . 0 " ; <nl> + public final class Native implements Version { <nl> <nl> / / Used by tests , do not remove <nl> private static String nativeLibraryPath = null ; <nl> diff - - git a / src / com / sun / jna / Version . java b / src / com / sun / jna / Version . java <nl> new file mode 100644 <nl> index 0000000 . . ee5fb27 <nl> - - - / dev / null <nl> + + + b / src / com / sun / jna / Version . java <nl> @ @ - 0 , 0 + 1 , 17 @ @ <nl> + / * Copyright ( c ) 2007 - 2012 Timothy Wall , All Rights Reserved <nl> + * <nl> + * This library is free software ; you can redistribute it and / or <nl> + * modify it under the terms of the GNU Lesser General Public <nl> + * License as published by the Free Software Foundation ; either <nl> + * version 2 . 1 of the License , or ( at your option ) any later version . <nl> + * < p / > <nl> + * This library is distributed in the hope that it will be useful , <nl> + * but WITHOUT ANY WARRANTY ; without even the implied warranty of <nl> + * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE . See the GNU <nl> + * Lesser General Public License for more details . <nl> + * / <nl> + package com . sun . jna ; <nl> + interface Version { <nl> + String VERSION = " 3 . 6 . 1 - SNAPSHOT " ; <nl> + String VERSION _ NATIVE = " 3 . 6 . 0 " ; <nl> + }
NEAREST DIFF (one line): diff - - git a / src / com / sun / jna / NativeLibrary . java b / src / com / sun / jna / NativeLibrary . java <nl> index 7a69d36 . . c697280 100644 <nl> - - - a / src / com / sun / jna / NativeLibrary . java <nl> + + + b / src / com / sun / jna / NativeLibrary . java <nl> @ @ - 120 , 7 + 120 , 6 @ @ public class NativeLibrary { <nl> / / name if it cannot find the library . <nl> / / <nl> try { <nl> - System . out . println ( " Attempt " + libraryPath ) ; <nl> handle = Native . open ( libraryPath ) ; <nl> } <nl> catch ( UnsatisfiedLinkError e ) { <nl> @ @ - 130 , 7 + 129 , 6 @ @ public class NativeLibrary { <nl> try { <nl> if ( handle = = 0 ) { <nl> libraryPath = findLibraryPath ( libraryName , searchPath ) ; <nl> - System . out . println ( " Attempt " + libraryPath ) ; <nl> handle = Native . open ( libraryPath ) ; <nl> if ( handle = = 0 ) { <nl> throw new UnsatisfiedLinkError ( " Failed to load library ' " + libraryName + " ' " ) ;

TEST DIFF:
diff - - git a / build . xml b / build . xml 
 index 9c5c6b9 . . c6edaea 100644 
 - - - a / build . xml 
 + + + b / build . xml 
 @ @ - 137 , 10 + 137 , 10 @ @ 
 
 < replaceregexp match = ' VERSION = " . * " ; ' 
 replace = ' VERSION = " $ { jna . version } " ; ' 
 - file = " src / com / sun / jna / Native . java " / > 
 + file = " src / com / sun / jna / Version . java " / > 
 < replaceregexp match = ' VERSION _ NATIVE = " . * " ; ' 
 replace = ' VERSION _ NATIVE = " $ { jni . version } " ; ' 
 - file = " src / com / sun / jna / Native . java " / > 
 + file = " src / com / sun / jna / Version . java " / > 
 
 < condition property = " jar . omitted " value = " * * / * jnidispatch * " else = " jnilib - included " > 
 < isset property = " omit - jnilib " / > 
 @ @ - 556 , 18 + 556 , 23 @ @ osname = macosx ; processor = x86 ; processor = x86 - 64 ; processor = ppc 
 < copy todir = " $ { build . native } " file = " $ { native } / jnidispatch . rc " / > 
 < replaceregexp match = " FILEVERSION . * " 
 replace = " FILEVERSION $ { jni . major } , $ { jni . minor } , $ { jni . revision } , $ { jni . build } " 
 + preserveLastModified = " true " 
 file = " $ { rsrc } " byline = " true " / > 
 < replaceregexp match = " PRODUCTVERSION . * " 
 replace = " PRODUCTVERSION $ { jna . major } , $ { jna . minor } , $ { jna . revision } , $ { jna . build } " 
 + preserveLastModified = " true " 
 file = " $ { rsrc } " byline = " true " / > 
 < replaceregexp match = " FileVersion . * " 
 replace = " FileVersion & quot ; , & quot ; $ { jni . version } & quot ; " 
 + preserveLastModified = " true " 
 file = " $ { rsrc } " byline = " true " / > 
 < replaceregexp match = " Full Version . * " 
 replace = " Full Version & quot ; , & quot ; $ { jni . version } b $ { jni . build } & quot ; " 
 + preserveLastModified = " true " 
 file = " $ { rsrc } " byline = " true " / > 
 < replaceregexp match = " ProductVersion . * " 
 replace = " ProductVersion & quot ; , & quot ; $ { spec . version } & quot ; " 
 + preserveLastModified = " true " 
 file = " $ { rsrc } " byline = " true " / > 
 < / target > 
 
 @ @ - 978 , 6 + 983 , 13 @ @ osname = macosx ; processor = x86 ; processor = x86 - 64 ; processor = ppc 
 < / target > 
 
 < target name = " clean " depends = " - dynamic - properties " > 
 + < exec executable = " git " failonerror = " false " > 
 + < arg value = " checkout " / > 
 + < arg value = " - - " / > 
 + < arg value = " src / com / sun / jna / Version . java " / > 
 + < arg value = " $ { pom } " / > 
 + < arg value = " $ { pom - platform } " / > 
 + < / exec > 
 < delete failOnError = " false " includeEmptyDirs = " true " > 
 < fileset dir = " $ { build } " / > 
 < / delete > 
 diff - - git a / native / Makefile b / native / Makefile 
 index 7921808 . . 56ddc66 100644 
 - - - a / native / Makefile 
 + + + b / native / Makefile 
 @ @ - 347 , 9 + 347 , 10 @ @ install : 
 $ ( DLLCB ) : dll - callback . c 
 	 $ ( MINGW ) - DDEFINE _ CALLBACKS - c $ < $ ( COUT ) 
 
 - $ ( RSRC ) : $ ( BUILD ) / jnidispatch . rc 
 + $ ( RSRC ) : $ ( BUILD ) / jnidispatch . rc $ ( BUILD ) / $ ( JNA _ JNI _ VERSION ) . stamp 
 	 $ ( WINDRES ) - i $ < - o $ @ \ 
 | | ( echo > $ @ . c & & $ ( CC ) $ ( CFLAGS ) - c $ @ . c $ ( COUT ) ) 
 + 	 @ touch $ ( BUILD ) / $ ( JNA _ JNI _ VERSION ) . stamp 
 
 $ ( LIBRARY ) : $ ( JNIDISPATCH _ OBJS ) $ ( FFI _ LIB ) 
 	 $ ( LD ) $ ( LDFLAGS ) $ ( JNIDISPATCH _ OBJS ) $ ( FFI _ LIB ) $ ( LIBS ) 
 diff - - git a / src / com / sun / jna / Native . java b / src / com / sun / jna / Native . java 
 index c4ab875 . . d1ec48a 100644 
 - - - a / src / com / sun / jna / Native . java 
 + + + b / src / com / sun / jna / Native . java 
 @ @ - 85 , 10 + 85 , 7 @ @ import com . sun . jna . Structure . FFIType ; 
 * @ author Todd Fast , todd . fast @ sun . com 
 * @ author twall @ users . sf . net 
 * / 
 - public final class Native { 
 - 
 - private static final String VERSION = " 3 . 6 . 0 - SNAPSHOT " ; 
 - private static final String VERSION _ NATIVE = " 3 . 6 . 0 " ; 
 + public final class Native implements Version { 
 
 / / Used by tests , do not remove 
 private static String nativeLibraryPath = null ; 
 diff - - git a / src / com / sun / jna / Version . java b / src / com / sun / jna / Version . java 
 new file mode 100644 
 index 0000000 . . ee5fb27 
 - - - / dev / null 
 + + + b / src / com / sun / jna / Version . java 
 @ @ - 0 , 0 + 1 , 17 @ @ 
 + / * Copyright ( c ) 2007 - 2012 Timothy Wall , All Rights Reserved 
 + * 
 + * This library is free software ; you can redistribute it and / or 
 + * modify it under the terms of the GNU Lesser General Public 
 + * License as published by the Free Software Foundation ; either 
 + * version 2 . 1 of the License , or ( at your option ) any later version . 
 + * < p / > 
 + * This library is distributed in the hope that it will be useful , 
 + * but WITHOUT ANY WARRANTY ; without even the implied warranty of 
 + * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE . See the GNU 
 + * Lesser General Public License for more details . 
 + * / 
 + package com . sun . jna ; 
 + interface Version { 
 + String VERSION = " 3 . 6 . 1 - SNAPSHOT " ; 
 + String VERSION _ NATIVE = " 3 . 6 . 0 " ; 
 + }

NEAREST DIFF:
diff - - git a / src / com / sun / jna / NativeLibrary . java b / src / com / sun / jna / NativeLibrary . java 
 index 7a69d36 . . c697280 100644 
 - - - a / src / com / sun / jna / NativeLibrary . java 
 + + + b / src / com / sun / jna / NativeLibrary . java 
 @ @ - 120 , 7 + 120 , 6 @ @ public class NativeLibrary { 
 / / name if it cannot find the library . 
 / / 
 try { 
 - System . out . println ( " Attempt " + libraryPath ) ; 
 handle = Native . open ( libraryPath ) ; 
 } 
 catch ( UnsatisfiedLinkError e ) { 
 @ @ - 130 , 7 + 129 , 6 @ @ public class NativeLibrary { 
 try { 
 if ( handle = = 0 ) { 
 libraryPath = findLibraryPath ( libraryName , searchPath ) ; 
 - System . out . println ( " Attempt " + libraryPath ) ; 
 handle = Native . open ( libraryPath ) ; 
 if ( handle = = 0 ) { 
 throw new UnsatisfiedLinkError ( " Failed to load library ' " + libraryName + " ' " ) ;
