BLEU SCORE: 0.018738883683389617

TEST MSG: NullPointerException can be caused by calling ProxyObject # dispose multiple times
GENERATED MSG: added test to QueryFullProcessImageName

TEST DIFF (one line): diff - - git a / CHANGES . md b / CHANGES . md <nl> index f583b76 . . a8d0f98 100644 <nl> - - - a / CHANGES . md <nl> + + + b / CHANGES . md <nl> @ @ - 18 , 6 + 18 , 7 @ @ Bug Fixes <nl> * [ # 876 ] ( https : / / github . com / java - native - access / jna / pull / 876 ) : Restore java 6 compatibility - [ @ matthiasblaesing ] ( https : / / github . com / matthiasblaesing ) . <nl> * [ # 882 ] ( https : / / github . com / java - native - access / jna / pull / 882 ) : Correctly close file in ` ELFAnalyser # runDetection ` , fix suggested by [ @ Sylvyrfysh ] ( https : / / github . com / Sylvyrfysh ) in [ # 880 ] ( https : / / github . com / java - native - access / jna / pull / 880 ) - [ @ matthiasblaesing ] ( https : / / github . com / matthiasblaesing ) . <nl> * [ # 887 ] ( https : / / github . com / java - native - access / jna / issues / 887 ) : MacFileUtils . moveToTrash ( ) doesn ' t work in a sandboxed app fix suggested by [ @ sobakasu ] ( https : / / github . com / sobakasu ) - [ @ matthiasblaesing ] ( https : / / github . com / matthiasblaesing ) . <nl> + * [ # 894 ] ( https : / / github . com / java - native - access / jna / issues / 894 ) : NullPointerException can be caused by calling ` com . sun . jna . platform . win32 . COM . util . ProxyObject # dispose ` multiple times - [ @ matthiasblaesing ] ( https : / / github . com / matthiasblaesing ) . <nl> <nl> Breaking Changes <nl> - - - - - - - - - - - - - - - - <nl> diff - - git a / contrib / platform / src / com / sun / jna / platform / win32 / COM / util / ProxyObject . java b / contrib / platform / src / com / sun / jna / platform / win32 / COM / util / ProxyObject . java <nl> index 40560a6 . . 9ffd41f 100644 <nl> - - - a / contrib / platform / src / com / sun / jna / platform / win32 / COM / util / ProxyObject . java <nl> + + + b / contrib / platform / src / com / sun / jna / platform / win32 / COM / util / ProxyObject . java <nl> @ @ - 34 , 7 + 34 , 6 @ @ import com . sun . jna . WString ; <nl> import com . sun . jna . platform . win32 . Guid ; <nl> import com . sun . jna . platform . win32 . Guid . IID ; <nl> import com . sun . jna . platform . win32 . Guid . REFIID ; <nl> - import com . sun . jna . platform . win32 . Kernel32 ; <nl> import com . sun . jna . platform . win32 . Kernel32Util ; <nl> import com . sun . jna . platform . win32 . OaIdl ; <nl> import com . sun . jna . platform . win32 . OaIdl . DISPID ; <nl> @ @ - 46 , 7 + 45 , 6 @ @ import com . sun . jna . platform . win32 . Variant ; <nl> import com . sun . jna . platform . win32 . Variant . VARIANT ; <nl> import com . sun . jna . platform . win32 . WinDef ; <nl> import com . sun . jna . platform . win32 . WinDef . DWORDByReference ; <nl> - import com . sun . jna . platform . win32 . WinDef . LCID ; <nl> import com . sun . jna . platform . win32 . WinNT ; <nl> import com . sun . jna . platform . win32 . WinNT . HRESULT ; <nl> import com . sun . jna . platform . win32 . COM . COMException ; <nl> @ @ - 134 , 7 + 132 , 7 @ @ public class ProxyObject implements InvocationHandler , com . sun . jna . platform . win3 <nl> 	 } <nl> <nl> 	 public synchronized void dispose ( ) { <nl> - 	 	 if ( ! ( ( Dispatch ) this . rawDispatch ) . getPointer ( ) . equals ( Pointer . NULL ) ) { <nl> + 	 	 if ( ( ( Dispatch ) this . rawDispatch ) . getPointer ( ) ! = Pointer . NULL ) { <nl> 	 	 	 this . rawDispatch . Release ( ) ; <nl> ( ( Dispatch ) this . rawDispatch ) . setPointer ( Pointer . NULL ) ; <nl> factory . unregister ( this ) ; <nl> diff - - git a / contrib / platform / test / com / sun / jna / platform / win32 / COM / util / ProxyObjectFactory _ Test . java b / contrib / platform / test / com / sun / jna / platform / win32 / COM / util / ProxyObjectFactory _ Test . java <nl> index 5ac09cf . . 65dc709 100644 <nl> - - - a / contrib / platform / test / com / sun / jna / platform / win32 / COM / util / ProxyObjectFactory _ Test . java <nl> + + + b / contrib / platform / test / com / sun / jna / platform / win32 / COM / util / ProxyObjectFactory _ Test . java <nl> @ @ - 12 , 7 + 12 , 6 @ @ <nl> * / <nl> package com . sun . jna . platform . win32 . COM . util ; <nl> <nl> - import com . sun . jna . Pointer ; <nl> import static org . junit . Assert . * ; <nl> <nl> import java . io . File ; <nl> @ @ - 25 , 7 + 24 , 6 @ @ import com . sun . jna . platform . win32 . COM . util . annotation . ComInterface ; <nl> import com . sun . jna . platform . win32 . COM . util . annotation . ComObject ; <nl> import com . sun . jna . platform . win32 . COM . util . annotation . ComMethod ; <nl> import com . sun . jna . platform . win32 . COM . util . annotation . ComProperty ; <nl> - import com . sun . jna . platform . win32 . Ole32 ; <nl> <nl> public class ProxyObjectFactory _ Test { <nl> <nl> diff - - git a / contrib / platform / test / com / sun / jna / platform / win32 / COM / util / ProxyObjectObjectFactory _ Test . java b / contrib / platform / test / com / sun / jna / platform / win32 / COM / util / ProxyObjectObjectFactory _ Test . java <nl> index 4b6ccee . . 36f4ef6 100644 <nl> - - - a / contrib / platform / test / com / sun / jna / platform / win32 / COM / util / ProxyObjectObjectFactory _ Test . java <nl> + + + b / contrib / platform / test / com / sun / jna / platform / win32 / COM / util / ProxyObjectObjectFactory _ Test . java <nl> @ @ - 15 , 6 + 15 , 8 @ @ package com . sun . jna . platform . win32 . COM . util ; <nl> import com . sun . jna . Pointer ; <nl> import static org . junit . Assert . * ; <nl> <nl> + import java . lang . reflect . Proxy ; <nl> + <nl> import java . io . File ; <nl> <nl> import org . junit . After ; <nl> @ @ - 156 , 7 + 158 , 8 @ @ public class ProxyObjectObjectFactory _ Test { <nl> 	 @ Test <nl> 	 public void accessWhilstDisposing ( ) { <nl> 	 	 MsWordApp comObj1 = this . factory . createObject ( MsWordApp . class ) ; <nl> - 	 	 <nl> + 	 	 comObj1 . Quit ( ) ; <nl> + <nl> 	 	 / / TODO : how to test this ? <nl> 	 	 <nl> 	 	 this . factory . disposeAll ( ) ; <nl> @ @ - 186 , 4 + 189 , 13 @ @ public class ProxyObjectObjectFactory _ Test { <nl> 	 	 boolean wasDeleted = new File ( " abcdefg . pdf " ) . delete ( ) ; <nl> 	 	 assertTrue ( wasDeleted ) ; <nl> 	 } <nl> + <nl> + <nl> + 	 @ Test <nl> + 	 public void testDisposeMustBeCallableMultipleTimes ( ) { <nl> + 	 	 MsWordApp comObj = this . factory . createObject ( MsWordApp . class ) ; <nl> + comObj . Quit ( ) ; <nl> + ( ( ProxyObject ) Proxy . getInvocationHandler ( comObj ) ) . dispose ( ) ; <nl> + ( ( ProxyObject ) Proxy . getInvocationHandler ( comObj ) ) . dispose ( ) ; <nl> + 	 } <nl> }
NEAREST DIFF (one line): ELIMINATEDSENTENCE

TEST DIFF:
diff - - git a / CHANGES . md b / CHANGES . md 
 index f583b76 . . a8d0f98 100644 
 - - - a / CHANGES . md 
 + + + b / CHANGES . md 
 @ @ - 18 , 6 + 18 , 7 @ @ Bug Fixes 
 * [ # 876 ] ( https : / / github . com / java - native - access / jna / pull / 876 ) : Restore java 6 compatibility - [ @ matthiasblaesing ] ( https : / / github . com / matthiasblaesing ) . 
 * [ # 882 ] ( https : / / github . com / java - native - access / jna / pull / 882 ) : Correctly close file in ` ELFAnalyser # runDetection ` , fix suggested by [ @ Sylvyrfysh ] ( https : / / github . com / Sylvyrfysh ) in [ # 880 ] ( https : / / github . com / java - native - access / jna / pull / 880 ) - [ @ matthiasblaesing ] ( https : / / github . com / matthiasblaesing ) . 
 * [ # 887 ] ( https : / / github . com / java - native - access / jna / issues / 887 ) : MacFileUtils . moveToTrash ( ) doesn ' t work in a sandboxed app fix suggested by [ @ sobakasu ] ( https : / / github . com / sobakasu ) - [ @ matthiasblaesing ] ( https : / / github . com / matthiasblaesing ) . 
 + * [ # 894 ] ( https : / / github . com / java - native - access / jna / issues / 894 ) : NullPointerException can be caused by calling ` com . sun . jna . platform . win32 . COM . util . ProxyObject # dispose ` multiple times - [ @ matthiasblaesing ] ( https : / / github . com / matthiasblaesing ) . 
 
 Breaking Changes 
 - - - - - - - - - - - - - - - - 
 diff - - git a / contrib / platform / src / com / sun / jna / platform / win32 / COM / util / ProxyObject . java b / contrib / platform / src / com / sun / jna / platform / win32 / COM / util / ProxyObject . java 
 index 40560a6 . . 9ffd41f 100644 
 - - - a / contrib / platform / src / com / sun / jna / platform / win32 / COM / util / ProxyObject . java 
 + + + b / contrib / platform / src / com / sun / jna / platform / win32 / COM / util / ProxyObject . java 
 @ @ - 34 , 7 + 34 , 6 @ @ import com . sun . jna . WString ; 
 import com . sun . jna . platform . win32 . Guid ; 
 import com . sun . jna . platform . win32 . Guid . IID ; 
 import com . sun . jna . platform . win32 . Guid . REFIID ; 
 - import com . sun . jna . platform . win32 . Kernel32 ; 
 import com . sun . jna . platform . win32 . Kernel32Util ; 
 import com . sun . jna . platform . win32 . OaIdl ; 
 import com . sun . jna . platform . win32 . OaIdl . DISPID ; 
 @ @ - 46 , 7 + 45 , 6 @ @ import com . sun . jna . platform . win32 . Variant ; 
 import com . sun . jna . platform . win32 . Variant . VARIANT ; 
 import com . sun . jna . platform . win32 . WinDef ; 
 import com . sun . jna . platform . win32 . WinDef . DWORDByReference ; 
 - import com . sun . jna . platform . win32 . WinDef . LCID ; 
 import com . sun . jna . platform . win32 . WinNT ; 
 import com . sun . jna . platform . win32 . WinNT . HRESULT ; 
 import com . sun . jna . platform . win32 . COM . COMException ; 
 @ @ - 134 , 7 + 132 , 7 @ @ public class ProxyObject implements InvocationHandler , com . sun . jna . platform . win3 
 	 } 
 
 	 public synchronized void dispose ( ) { 
 - 	 	 if ( ! ( ( Dispatch ) this . rawDispatch ) . getPointer ( ) . equals ( Pointer . NULL ) ) { 
 + 	 	 if ( ( ( Dispatch ) this . rawDispatch ) . getPointer ( ) ! = Pointer . NULL ) { 
 	 	 	 this . rawDispatch . Release ( ) ; 
 ( ( Dispatch ) this . rawDispatch ) . setPointer ( Pointer . NULL ) ; 
 factory . unregister ( this ) ; 
 diff - - git a / contrib / platform / test / com / sun / jna / platform / win32 / COM / util / ProxyObjectFactory _ Test . java b / contrib / platform / test / com / sun / jna / platform / win32 / COM / util / ProxyObjectFactory _ Test . java 
 index 5ac09cf . . 65dc709 100644 
 - - - a / contrib / platform / test / com / sun / jna / platform / win32 / COM / util / ProxyObjectFactory _ Test . java 
 + + + b / contrib / platform / test / com / sun / jna / platform / win32 / COM / util / ProxyObjectFactory _ Test . java 
 @ @ - 12 , 7 + 12 , 6 @ @ 
 * / 
 package com . sun . jna . platform . win32 . COM . util ; 
 
 - import com . sun . jna . Pointer ; 
 import static org . junit . Assert . * ; 
 
 import java . io . File ; 
 @ @ - 25 , 7 + 24 , 6 @ @ import com . sun . jna . platform . win32 . COM . util . annotation . ComInterface ; 
 import com . sun . jna . platform . win32 . COM . util . annotation . ComObject ; 
 import com . sun . jna . platform . win32 . COM . util . annotation . ComMethod ; 
 import com . sun . jna . platform . win32 . COM . util . annotation . ComProperty ; 
 - import com . sun . jna . platform . win32 . Ole32 ; 
 
 public class ProxyObjectFactory _ Test { 
 
 diff - - git a / contrib / platform / test / com / sun / jna / platform / win32 / COM / util / ProxyObjectObjectFactory _ Test . java b / contrib / platform / test / com / sun / jna / platform / win32 / COM / util / ProxyObjectObjectFactory _ Test . java 
 index 4b6ccee . . 36f4ef6 100644 
 - - - a / contrib / platform / test / com / sun / jna / platform / win32 / COM / util / ProxyObjectObjectFactory _ Test . java 
 + + + b / contrib / platform / test / com / sun / jna / platform / win32 / COM / util / ProxyObjectObjectFactory _ Test . java 
 @ @ - 15 , 6 + 15 , 8 @ @ package com . sun . jna . platform . win32 . COM . util ; 
 import com . sun . jna . Pointer ; 
 import static org . junit . Assert . * ; 
 
 + import java . lang . reflect . Proxy ; 
 + 
 import java . io . File ; 
 
 import org . junit . After ; 
 @ @ - 156 , 7 + 158 , 8 @ @ public class ProxyObjectObjectFactory _ Test { 
 	 @ Test 
 	 public void accessWhilstDisposing ( ) { 
 	 	 MsWordApp comObj1 = this . factory . createObject ( MsWordApp . class ) ; 
 - 	 	 
 + 	 	 comObj1 . Quit ( ) ; 
 + 
 	 	 / / TODO : how to test this ? 
 	 	 
 	 	 this . factory . disposeAll ( ) ; 
 @ @ - 186 , 4 + 189 , 13 @ @ public class ProxyObjectObjectFactory _ Test { 
 	 	 boolean wasDeleted = new File ( " abcdefg . pdf " ) . delete ( ) ; 
 	 	 assertTrue ( wasDeleted ) ; 
 	 } 
 + 
 + 
 + 	 @ Test 
 + 	 public void testDisposeMustBeCallableMultipleTimes ( ) { 
 + 	 	 MsWordApp comObj = this . factory . createObject ( MsWordApp . class ) ; 
 + comObj . Quit ( ) ; 
 + ( ( ProxyObject ) Proxy . getInvocationHandler ( comObj ) ) . dispose ( ) ; 
 + ( ( ProxyObject ) Proxy . getInvocationHandler ( comObj ) ) . dispose ( ) ; 
 + 	 } 
 }

NEAREST DIFF:
ELIMINATEDSENTENCE
