BLEU SCORE: 0.027611988917697356

TEST MSG: Add support of function SHAppBarMessage from ShellApi .
GENERATED MSG: more unsigned fixes

TEST DIFF (one line): diff - - git a / CHANGES . md b / CHANGES . md <nl> index 9eae689 . . 966ebb1 100644 <nl> - - - a / CHANGES . md <nl> + + + b / CHANGES . md <nl> @ @ - 7 , 6 + 7 , 7 @ @ NOTE : JNI native support is typically incompatible between minor versions , and a <nl> <nl> Features <nl> - - - - - - - - <nl> + * [ # 241 ] ( https : / / github . com / twall / jna / issues / 241 ) - Add support function SHAppBarMessage from ShellApi - [ @ bsorrentinoJ ] ( https : / / github . com / bsorrentino ) . <nl> * Added ASL licensing to facilitate distribution - [ @ twall ] ( https : / / github . com / twall ) . <nl> * [ # 109 ] ( https : / / github . com / twall / jna / issues / 109 ) : Set default Java compatibility level to 1 . 6 - [ @ twall ] ( https : / / github . com / twall ) . <nl> * [ # 209 ] ( https : / / github . com / twall / jna / issues / 209 ) : Improved default performance saving last error results - [ @ twall ] ( https : / / github . com / twall ) . <nl> diff - - git a / contrib / platform / src / com / sun / jna / platform / win32 / Shell32 . java b / contrib / platform / src / com / sun / jna / platform / win32 / Shell32 . java <nl> index 321a20c . . b62c8d6 100644 <nl> - - - a / contrib / platform / src / com / sun / jna / platform / win32 / Shell32 . java <nl> + + + b / contrib / platform / src / com / sun / jna / platform / win32 / Shell32 . java <nl> @ @ - 16 , 6 + 16 , 7 @ @ import com . sun . jna . Native ; <nl> import com . sun . jna . platform . win32 . WinDef . DWORD ; <nl> import com . sun . jna . platform . win32 . WinDef . HWND ; <nl> import com . sun . jna . platform . win32 . WinDef . INT _ PTR ; <nl> + import com . sun . jna . platform . win32 . WinDef . UINT _ PTR ; <nl> import com . sun . jna . platform . win32 . WinNT . HANDLE ; <nl> import com . sun . jna . platform . win32 . WinNT . HRESULT ; <nl> import com . sun . jna . ptr . PointerByReference ; <nl> @ @ - 168 , 4 + 169 , 42 @ @ public interface Shell32 extends ShellAPI , StdCallLibrary { <nl> * @ return { @ code true } if successful ; otherwise , { @ code false } . <nl> * / <nl> boolean SHGetSpecialFolderPath ( HWND owner , char [ ] path , int csidl , boolean create ) ; <nl> + <nl> + <nl> + / * * <nl> + * SHAppBarMessage function <nl> + * <nl> + * @ param dwMessage <nl> + * Appbar message value to send . This parameter can be one of the following values . <nl> + * { @ link ShellAPI # ABM _ NEW } Registers a new appbar and specifies the message identifier that the system should use to send notificat
NEAREST DIFF (one line): diff - - git a / CHANGES . md b / CHANGES . md <nl> index 29adc49 . . b4da96a 100755 <nl> - - - a / CHANGES . md <nl> + + + b / CHANGES . md <nl> @ @ - 5 , 11 + 5 , 11 @ @ Features <nl> - - - - - - - - <nl> * Add ` platform . win32 . Kernel32 . GetEnvironmentVariable ` and ` platform . win32 . Kernel32Util . getEnvironmentVaraible ` - [ @ dblock ] ( https : / / github . com / dblock ) . <nl> * Moved ` Kernel32 . dll ` function definitions from ` WinNT . java ` into ` Kernel32 . java ` - [ @ dblock ] ( https : / / github . com / dblock ) . <nl> - * Provide ` toPointer ( ) ` methods on all ` _ PTR ` types ( platform win32 ) [ @ twall ] ( https : / / github . com / twall ) . <nl> + * Provide ` toPointer ( ) ` methods on all ` _ PTR ` types ( platform win32 ) - [ @ twall ] ( https : / / github . com / twall ) . <nl> <nl> Bug Fixes <nl> - - - - - - - - - <nl> - * Ensure platform w32 classes use unsigned where appropriate ( ULONG _ PTR , UINT _ PTR , ULONGLONG , WORD , DWORDLONG ) [ @ twall ] ( https : / / github . com / twall ) . <nl> + * Ensure platform w32 classes use unsigned where appropriate ( ULONG _ PTR , UINT _ PTR , ULONGLONG , WORD , DWORDLONG ) - [ @ twall ] ( https : / / github . com / twall ) . <nl> * [ # 71 ] ( https : / / github . com / twall / jna / issues / 71 ) , [ # 73 ] ( https : / / github . com / twall / jna / issues / 73 ) : Fix OSGI entries in manifest - [ @ twall ] ( https : / / github . com / twall ) . <nl> * [ # 78 ] ( https : / / github . com / twall / jna / issues / 78 ) : Fix NPE in ` platform . win32 . Netapi32Util . getDomainTrusts ` - [ @ dblock ] ( https : / / github . com / dblock ) . <nl> * Fix : auto - sync memory for ` struct * * ` arguments ( array of struct pointers ) - [ @ twall ] ( https : / / github . com / twall ) . <nl> @ @ - 17 , 6 + 17 , 7 @ @ Bug Fixes <nl> * Fix : avoid overwriting native ` char * ` or ` wchar _ t * ` fields within structures when unmodified ( similar to current operation with pointers ) - [ @ twall ] ( https : / / github . com / twall ) . <nl> * Fix : ` platform . win32 . DsGetDC . DS _ DOMAIN _ TRUSTS ` and ` DsEnumerateDomainTrusts ` on Win32 64 - bit - [ @ trejkaz ] ( https : / / github . com / trejkaz ) . <nl> * Fix : Crash freeing the wrong pointer in ` Netapi32Util . getDomainTrusts ` - [ @ trejkaz ] ( https : / / github . com / trejkaz ) . <nl> + * [ # 100 ] ( https : / / github . com / twall / jna / issues / 100 ) : Fix W32FileMonitor - [ @ dblock ] ( https : / / github . com / dblock ) . <nl> <nl> Release 3 . 4 . 1 <nl> = = = = = = = = = = = = = <nl> diff - - git a / contrib / platform / src / com / sun / jna / platform / win32 / W32FileMonitor . java b / contrib / platform / src / com / sun / jna / platform / win32 / W32FileMonitor . java <nl> index 6757fa7 . . 8d042a8 100644 <nl> - - - a / contrib / platform / src / com / sun / jna / platform / win32 / W32FileMonitor . java <nl> + + + b / contrib / platform / src / com / sun / jna / platform / win32 / W32FileMonitor . java <nl> @ @ - 109 , 14 + 109 , 14 @ @ public class W32FileMonitor extends FileMonitor { <nl> } <nl> <nl> private FileInfo waitForChange ( ) { <nl> - Kernel32 klib = Kernel32 . INSTANCE ; <nl> IntByReference rcount = new IntByReference ( ) ; <nl> ULONG _ PTRByReference rkey = new ULONG _ PTRByReference ( ) ; <nl> PointerByReference roverlap = new PointerByReference ( ) ; <nl> - klib . GetQueuedCompletionStatus ( port , rcount , rkey , roverlap , WinBase . INFINITE ) ; <nl> - <nl> + if ( ! Kernel32 . INSTANCE . GetQueuedCompletionStatus ( port , rcount , rkey , roverlap , WinBase . INFINITE ) ) { <nl> + return null ; <nl> + } <nl> synchronized ( this ) { <nl> - return handleMap . get ( rkey . getValue ( ) ) ; <nl> + return handleMap . get ( new HANDLE ( rkey . getValue ( ) . toPointer ( ) ) ) ; <nl> } <nl> } <nl>

TEST DIFF:
diff - - git a / CHANGES . md b / CHANGES . md 
 index 9eae689 . . 966ebb1 100644 
 - - - a / CHANGES . md 
 + + + b / CHANGES . md 
 @ @ - 7 , 6 + 7 , 7 @ @ NOTE : JNI native support is typically incompatible between minor versions , and a 
 
 Features 
 - - - - - - - - 
 + * [ # 241 ] ( https : / / github . com / twall / jna / issues / 241 ) - Add support function SHAppBarMessage from ShellApi - [ @ bsorrentinoJ ] ( https : / / github . com / bsorrentino ) . 
 * Added ASL licensing to facilitate distribution - [ @ twall ] ( https : / / github . com / twall ) . 
 * [ # 109 ] ( https : / / github . com / twall / jna / issues / 109 ) : Set default Java compatibility level to 1 . 6 - [ @ twall ] ( https : / / github . com / twall ) . 
 * [ # 209 ] ( https : / / github . com / twall / jna / issues / 209 ) : Improved default performance saving last error results - [ @ twall ] ( https : / / github . com / twall ) . 
 diff - - git a / contrib / platform / src / com / sun / jna / platform / win32 / Shell32 . java b / contrib / platform / src / com / sun / jna / platform / win32 / Shell32 . java 
 index 321a20c . . b62c8d6 100644 
 - - - a / contrib / platform / src / com / sun / jna / platform / win32 / Shell32 . java 
 + + + b / contrib / platform / src / com / sun / jna / platform / win32 / Shell32 . java 
 @ @ - 16 , 6 + 16 , 7 @ @ import com . sun . jna . Native ; 
 import com . sun . jna . platform . win32 . WinDef . DWORD ; 
 import com . sun . jna . platform . win32 . WinDef . HWND ; 
 import com . sun . jna . platform . win32 . WinDef . INT _ PTR ; 
 + import com . sun . jna . platform . win32 . WinDef . UINT _ PTR ; 
 import com . sun . jna . platform . win32 . WinNT . HANDLE ; 
 import com . sun . jna . platform . win32 . WinNT . HRESULT ; 
 import com . sun . jna . ptr . PointerByReference ; 
 @ @ - 168 , 4 + 169 , 42 @ @ public interface Shell32 extends ShellAPI , StdCallLibrary { 
 * @ return { @ code true } if successful ; otherwise , { @ code false } . 
 * / 
 boolean SHGetSpecialFolderPath ( HWND owner , char [ ] path , int csidl , boolean create ) ; 
 + 
 + 
 + / * * 
 + * SHAppBarMessage function 
 + * 
 + * @ param dwMessage 
 + * Appbar message value to send . This parameter can be one of the following values . 
 + * { @ link ShellAPI # ABM _ NEW } Registers a new appbar and specifies the message identifier that the system should use to send notificat

NEAREST DIFF:
diff - - git a / CHANGES . md b / CHANGES . md 
 index 29adc49 . . b4da96a 100755 
 - - - a / CHANGES . md 
 + + + b / CHANGES . md 
 @ @ - 5 , 11 + 5 , 11 @ @ Features 
 - - - - - - - - 
 * Add ` platform . win32 . Kernel32 . GetEnvironmentVariable ` and ` platform . win32 . Kernel32Util . getEnvironmentVaraible ` - [ @ dblock ] ( https : / / github . com / dblock ) . 
 * Moved ` Kernel32 . dll ` function definitions from ` WinNT . java ` into ` Kernel32 . java ` - [ @ dblock ] ( https : / / github . com / dblock ) . 
 - * Provide ` toPointer ( ) ` methods on all ` _ PTR ` types ( platform win32 ) [ @ twall ] ( https : / / github . com / twall ) . 
 + * Provide ` toPointer ( ) ` methods on all ` _ PTR ` types ( platform win32 ) - [ @ twall ] ( https : / / github . com / twall ) . 
 
 Bug Fixes 
 - - - - - - - - - 
 - * Ensure platform w32 classes use unsigned where appropriate ( ULONG _ PTR , UINT _ PTR , ULONGLONG , WORD , DWORDLONG ) [ @ twall ] ( https : / / github . com / twall ) . 
 + * Ensure platform w32 classes use unsigned where appropriate ( ULONG _ PTR , UINT _ PTR , ULONGLONG , WORD , DWORDLONG ) - [ @ twall ] ( https : / / github . com / twall ) . 
 * [ # 71 ] ( https : / / github . com / twall / jna / issues / 71 ) , [ # 73 ] ( https : / / github . com / twall / jna / issues / 73 ) : Fix OSGI entries in manifest - [ @ twall ] ( https : / / github . com / twall ) . 
 * [ # 78 ] ( https : / / github . com / twall / jna / issues / 78 ) : Fix NPE in ` platform . win32 . Netapi32Util . getDomainTrusts ` - [ @ dblock ] ( https : / / github . com / dblock ) . 
 * Fix : auto - sync memory for ` struct * * ` arguments ( array of struct pointers ) - [ @ twall ] ( https : / / github . com / twall ) . 
 @ @ - 17 , 6 + 17 , 7 @ @ Bug Fixes 
 * Fix : avoid overwriting native ` char * ` or ` wchar _ t * ` fields within structures when unmodified ( similar to current operation with pointers ) - [ @ twall ] ( https : / / github . com / twall ) . 
 * Fix : ` platform . win32 . DsGetDC . DS _ DOMAIN _ TRUSTS ` and ` DsEnumerateDomainTrusts ` on Win32 64 - bit - [ @ trejkaz ] ( https : / / github . com / trejkaz ) . 
 * Fix : Crash freeing the wrong pointer in ` Netapi32Util . getDomainTrusts ` - [ @ trejkaz ] ( https : / / github . com / trejkaz ) . 
 + * [ # 100 ] ( https : / / github . com / twall / jna / issues / 100 ) : Fix W32FileMonitor - [ @ dblock ] ( https : / / github . com / dblock ) . 
 
 Release 3 . 4 . 1 
 = = = = = = = = = = = = = 
 diff - - git a / contrib / platform / src / com / sun / jna / platform / win32 / W32FileMonitor . java b / contrib / platform / src / com / sun / jna / platform / win32 / W32FileMonitor . java 
 index 6757fa7 . . 8d042a8 100644 
 - - - a / contrib / platform / src / com / sun / jna / platform / win32 / W32FileMonitor . java 
 + + + b / contrib / platform / src / com / sun / jna / platform / win32 / W32FileMonitor . java 
 @ @ - 109 , 14 + 109 , 14 @ @ public class W32FileMonitor extends FileMonitor { 
 } 
 
 private FileInfo waitForChange ( ) { 
 - Kernel32 klib = Kernel32 . INSTANCE ; 
 IntByReference rcount = new IntByReference ( ) ; 
 ULONG _ PTRByReference rkey = new ULONG _ PTRByReference ( ) ; 
 PointerByReference roverlap = new PointerByReference ( ) ; 
 - klib . GetQueuedCompletionStatus ( port , rcount , rkey , roverlap , WinBase . INFINITE ) ; 
 - 
 + if ( ! Kernel32 . INSTANCE . GetQueuedCompletionStatus ( port , rcount , rkey , roverlap , WinBase . INFINITE ) ) { 
 + return null ; 
 + } 
 synchronized ( this ) { 
 - return handleMap . get ( rkey . getValue ( ) ) ; 
 + return handleMap . get ( new HANDLE ( rkey . getValue ( ) . toPointer ( ) ) ) ; 
 } 
 } 

