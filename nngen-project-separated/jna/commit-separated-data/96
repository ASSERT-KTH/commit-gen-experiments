BLEU SCORE: 0.015284801196484512

TEST MSG: Declare structure members of LPPRINTER _ DEFAULTS as public
GENERATED MSG: Add Psapi . GetPerformanceInfo ( ) and Kernel32 . GetTickCount64 ( ) .

TEST DIFF (one line): diff - - git a / CHANGES . md b / CHANGES . md <nl> index d8859d4 . . 9f940e3 100644 <nl> - - - a / CHANGES . md <nl> + + + b / CHANGES . md <nl> @ @ - 24 , 6 + 24 , 7 @ @ Bug Fixes <nl> * [ # 795 ] ( https : / / github . com / java - native - access / jna / issues / 795 ) : com . sun . jna . platform . win32 . WinDef . WORDByReference holds a WORD which is defined to 16 bit on windows , so it needs to be accessed as short ( getShort ( ) ) . Fix suggested by - [ @ kdeines ] ( https : / / github . com / kdeines ) . <nl> * [ # 804 ] ( https : / / github . com / java - native - access / jna / pull / 804 ) Main - Class in jna - platform . jar collides with java 9 module system - [ @ matthiasblaesing ] ( https : / / github . com / matthiasblaesing ) . <nl> * [ # 838 ] ( https : / / github . com / java - native - access / jna / pull / 838 ) : Fix binding of ` com . sun . jna . platform . win32 . User32 # MonitorFromPoint ` - [ @ matthiasblaesing ] ( https : / / github . com / matthiasblaesing ) . <nl> + * [ # 834 ] ( https : / / github . com / java - native - access / jna / issues / 834 ) : Declare structure members of LPPRINTER _ DEFAULTS as public - [ @ matthiasblaesing ] ( https : / / github . com / matthiasblaesing ) . <nl> <nl> Release 4 . 4 . 0 <nl> = = = = = = = = = = = = = <nl> diff - - git a / contrib / platform / src / com / sun / jna / platform / win32 / Winspool . java b / contrib / platform / src / com / sun / jna / platform / win32 / Winspool . java <nl> index 8f74cf5 . . 29f5748 100644 <nl> - - - a / contrib / platform / src / com / sun / jna / platform / win32 / Winspool . java <nl> + + + b / contrib / platform / src / com / sun / jna / platform / win32 / Winspool . java <nl> @ @ - 23 , 7 + 23 , 6 @ @ <nl> * / <nl> package com . sun . jna . platform . win32 ; <nl> <nl> - import java . util . Arrays ; <nl> import java . util . List ; <nl> <nl> import com . sun . jna . Memory ; <nl> @ @ - 35 , 7 + 34 , 6 @ @ import com . sun . jna . platform . win32 . WinDef . DWORD ; <nl> import com . sun . jna . platform . win32 . WinDef . DWORDByReference ; <nl> import com . sun . jna . platform . win32 . WinDef . INT _ PTR ; <nl> import com . sun . jna . platform . win32 . WinDef . LPVOID ; <nl> - import com . sun . jna . platform . win32 . WinDef . PVOID ; <nl> import com . sun . jna . platform . win32 . WinNT . HANDLE ; <nl> import com . sun . jna . platform . win32 . WinNT . HANDLEByReference ; <nl> import com . sun . jna . ptr . IntByReference ; <nl> @ @ - 500 , 37 + 498 , 35 @ @ public interface Winspool extends StdCallLibrary { <nl> } <nl> } <nl> <nl> - 	 / * * <nl> - 	 * The PRINTER _ DEFAULTS structure specifies the default data type , <nl> - 	 * environment , initialization data , and access rights for a printer . <nl> - 	 * <nl> - 	 * @ see < a href = <nl> - 	 * " https : / / msdn . microsoft . com / en - us / library / windows / desktop / dd162839 ( v = vs . 85 ) . aspx " > <nl> - 	 * PRINTER _ DEFAULTS structure < / a > <nl> - 	 * / <nl> - 	 public class LPPRINTER _ DEFAULTS extends Structure { <nl> - 	 	 <nl> - 	 	 public static final List < String > FIELDS = createFieldsOrder ( " pDatatype " , " pDevMode " , " DesiredAccess " ) ; <nl> - 	 	 <nl> - 	 	 / * * <nl> - 	 	 * Pointer to a null - terminated string that specifies the default data <nl> - 	 	 * type for a printer . <nl> - 	 	 * / <nl> - 	 	 public String pDatatype ; <nl> - 	 	 / * * <nl> - 	 	 * Pointer to a DEVMODE structure that identifies the default <nl> - 	 	 * environment and initialization data for a printer . <nl> - 	 	 * / <nl> - 	 	 PVOID pDevMode ; <nl> - 	 	 / * * <nl> - 	 	 * Specifies desired access rights for a printer . The OpenPrinter <nl> - 	 	 * function uses this member to set access rights to the printer . These <nl> - 	 	 * rights can affect the operation of the SetPrinter and DeletePrinter <nl> - 	 	 * functions . <nl> - 	 	 * / <nl> - 	 	 int DesiredAccess ; <nl> + / * * <nl> + * The PRINTER _ DEFAULTS structure specifies the default data type , <nl> + * environment , initialization data , and access rights for a printer . <nl> + * <nl> + * @ see < a href = " https : / / msdn . microsoft . com / en - us / library / windows / desktop / dd162839 ( v = vs . 85 ) . aspx " > PRINTER _ DEFAULTS structure < / a > <nl> + * / <nl> + public class LPPRINTER _ DEFAULTS extends Structure { <nl> + <nl> + public static final List < String > FIELDS = createFieldsOrder ( " pDatatype " , " pDevMode " , " DesiredAccess " ) ; <nl> + <nl> + / * * <nl> + * Pointer to a null - terminated string that specifies the default data <nl> + * type for a printer . <nl> + * / <nl> + public String pDatatype ; <nl> + / * * <nl> + * Pointer to a DEVMODE structure that identifies the default <nl> + * environment and initialization data for a printer . <nl> + * / <nl> + public Pointer pDevMode ; <nl> + / * * <nl> + * Specifies desired access rights for a printer . The OpenPrinter <nl> + * function uses this member to set access rights to the printer . These <nl> + * rights can affect the operation of the SetPrinter and DeletePrinter <nl> + * functions . <nl> + * / <nl> + public int DesiredAccess ; <nl> <nl> - 	 	 @ Override <nl> + @ Override <nl> protected List < String > getFieldOrder ( ) { <nl> return FIELDS ; <nl> } <nl> @ @ - 560 , 10 + 556 , 8 @ @ public interface Winspool extends StdCallLibrary { <nl> * @ return If the function succeeds , the return value is a nonzero value . If <nl> * the function fails , the return value is zero . <nl> * <nl> - 	 * @ see < a href = <nl> - 	 * " http : / / msdn . microsoft . com / en - us / library / windows / desktop / dd162751 ( v = vs . 85 ) . aspx " > <nl> - 	 * OpenPrinter function < / a > <nl> - 	 * / <nl> + * @ see < a href = " http : / / msdn . microsoft . com / en - us / library / windows / desktop / dd162751 ( v = vs . 85 ) . aspx " > OpenPrinter function < / a > <nl> + * / <nl> boolean OpenPrinter ( <nl> 	 / / _ In _ <nl> String pPrinterName , <nl> diff - - git a / contrib / platform / test / com / sun / jna / platform / win32 / WinspoolTest . java b / contrib / platform / test / com / sun / jna / platform / win32 / WinspoolTest . java <nl> index 0bc6f0e . . 02e14c2 100644 <nl> - - - a / contrib / platform / test / com / sun / jna / platform / win32 / WinspoolTest . java <nl> + + + b / contrib / platform / test / com / sun / jna / platform / win32 / WinspoolTest . java <nl> @ @ - 13 , 6 + 13 , 7 @ @ <nl> package com . sun . jna . platform . win32 ; <nl> <nl> import com . sun . jna . Native ; <nl> + import com . sun . jna . Structure ; <nl> import com . sun . jna . platform . win32 . WinNT . HANDLEByReference ; <nl> import com . sun . jna . platform . win32 . Winspool . PRINTER _ INFO _ 1 ; <nl> import com . sun . jna . platform . win32 . Winspool . PRINTER _ INFO _ 2 ; <nl> @ @ - 94 , 4 + 95 , 21 @ @ public class WinspoolTest extends TestCase { <nl> assertFalse ( " ClosePrinter should return false on failure . " , result ) ; <nl> assertEquals ( " GetLastError ( ) should return ERROR _ INVALID _ HANDLE " , WinError . ERROR _ INVALID _ HANDLE , Native . getLastError ( ) ) ; <nl> } <nl> + <nl> + public void testCorrectDeclarationOfMembers ( ) throws InstantiationException , IllegalAccessException { <nl> + for ( Class klass : Winspool . class . getDeclaredClasses ( ) ) { <nl> + if ( Structure . class . isAssignableFrom ( klass ) ) { <nl> + boolean writeWorked = false ; <nl> + try { <nl> + Structure struct = ( Structure ) klass . newInstance ( ) ; <nl> + struct . write ( ) ; <nl> + writeWorked = true ; <nl> + } catch ( java . lang . Throwable ex ) { <nl> + System . err . println ( ex . getMessage ( ) ) ; <nl> + ex . printStackTrace ( System . err ) ; <nl> + } <nl> + assertTrue ( " Failed to write structure : " + klass . getName ( ) , writeWorked ) ; <nl> + } <nl> + } <nl> + } <nl> }
NEAREST DIFF (one line): ELIMINATEDSENTENCE

TEST DIFF:
diff - - git a / CHANGES . md b / CHANGES . md 
 index d8859d4 . . 9f940e3 100644 
 - - - a / CHANGES . md 
 + + + b / CHANGES . md 
 @ @ - 24 , 6 + 24 , 7 @ @ Bug Fixes 
 * [ # 795 ] ( https : / / github . com / java - native - access / jna / issues / 795 ) : com . sun . jna . platform . win32 . WinDef . WORDByReference holds a WORD which is defined to 16 bit on windows , so it needs to be accessed as short ( getShort ( ) ) . Fix suggested by - [ @ kdeines ] ( https : / / github . com / kdeines ) . 
 * [ # 804 ] ( https : / / github . com / java - native - access / jna / pull / 804 ) Main - Class in jna - platform . jar collides with java 9 module system - [ @ matthiasblaesing ] ( https : / / github . com / matthiasblaesing ) . 
 * [ # 838 ] ( https : / / github . com / java - native - access / jna / pull / 838 ) : Fix binding of ` com . sun . jna . platform . win32 . User32 # MonitorFromPoint ` - [ @ matthiasblaesing ] ( https : / / github . com / matthiasblaesing ) . 
 + * [ # 834 ] ( https : / / github . com / java - native - access / jna / issues / 834 ) : Declare structure members of LPPRINTER _ DEFAULTS as public - [ @ matthiasblaesing ] ( https : / / github . com / matthiasblaesing ) . 
 
 Release 4 . 4 . 0 
 = = = = = = = = = = = = = 
 diff - - git a / contrib / platform / src / com / sun / jna / platform / win32 / Winspool . java b / contrib / platform / src / com / sun / jna / platform / win32 / Winspool . java 
 index 8f74cf5 . . 29f5748 100644 
 - - - a / contrib / platform / src / com / sun / jna / platform / win32 / Winspool . java 
 + + + b / contrib / platform / src / com / sun / jna / platform / win32 / Winspool . java 
 @ @ - 23 , 7 + 23 , 6 @ @ 
 * / 
 package com . sun . jna . platform . win32 ; 
 
 - import java . util . Arrays ; 
 import java . util . List ; 
 
 import com . sun . jna . Memory ; 
 @ @ - 35 , 7 + 34 , 6 @ @ import com . sun . jna . platform . win32 . WinDef . DWORD ; 
 import com . sun . jna . platform . win32 . WinDef . DWORDByReference ; 
 import com . sun . jna . platform . win32 . WinDef . INT _ PTR ; 
 import com . sun . jna . platform . win32 . WinDef . LPVOID ; 
 - import com . sun . jna . platform . win32 . WinDef . PVOID ; 
 import com . sun . jna . platform . win32 . WinNT . HANDLE ; 
 import com . sun . jna . platform . win32 . WinNT . HANDLEByReference ; 
 import com . sun . jna . ptr . IntByReference ; 
 @ @ - 500 , 37 + 498 , 35 @ @ public interface Winspool extends StdCallLibrary { 
 } 
 } 
 
 - 	 / * * 
 - 	 * The PRINTER _ DEFAULTS structure specifies the default data type , 
 - 	 * environment , initialization data , and access rights for a printer . 
 - 	 * 
 - 	 * @ see < a href = 
 - 	 * " https : / / msdn . microsoft . com / en - us / library / windows / desktop / dd162839 ( v = vs . 85 ) . aspx " > 
 - 	 * PRINTER _ DEFAULTS structure < / a > 
 - 	 * / 
 - 	 public class LPPRINTER _ DEFAULTS extends Structure { 
 - 	 	 
 - 	 	 public static final List < String > FIELDS = createFieldsOrder ( " pDatatype " , " pDevMode " , " DesiredAccess " ) ; 
 - 	 	 
 - 	 	 / * * 
 - 	 	 * Pointer to a null - terminated string that specifies the default data 
 - 	 	 * type for a printer . 
 - 	 	 * / 
 - 	 	 public String pDatatype ; 
 - 	 	 / * * 
 - 	 	 * Pointer to a DEVMODE structure that identifies the default 
 - 	 	 * environment and initialization data for a printer . 
 - 	 	 * / 
 - 	 	 PVOID pDevMode ; 
 - 	 	 / * * 
 - 	 	 * Specifies desired access rights for a printer . The OpenPrinter 
 - 	 	 * function uses this member to set access rights to the printer . These 
 - 	 	 * rights can affect the operation of the SetPrinter and DeletePrinter 
 - 	 	 * functions . 
 - 	 	 * / 
 - 	 	 int DesiredAccess ; 
 + / * * 
 + * The PRINTER _ DEFAULTS structure specifies the default data type , 
 + * environment , initialization data , and access rights for a printer . 
 + * 
 + * @ see < a href = " https : / / msdn . microsoft . com / en - us / library / windows / desktop / dd162839 ( v = vs . 85 ) . aspx " > PRINTER _ DEFAULTS structure < / a > 
 + * / 
 + public class LPPRINTER _ DEFAULTS extends Structure { 
 + 
 + public static final List < String > FIELDS = createFieldsOrder ( " pDatatype " , " pDevMode " , " DesiredAccess " ) ; 
 + 
 + / * * 
 + * Pointer to a null - terminated string that specifies the default data 
 + * type for a printer . 
 + * / 
 + public String pDatatype ; 
 + / * * 
 + * Pointer to a DEVMODE structure that identifies the default 
 + * environment and initialization data for a printer . 
 + * / 
 + public Pointer pDevMode ; 
 + / * * 
 + * Specifies desired access rights for a printer . The OpenPrinter 
 + * function uses this member to set access rights to the printer . These 
 + * rights can affect the operation of the SetPrinter and DeletePrinter 
 + * functions . 
 + * / 
 + public int DesiredAccess ; 
 
 - 	 	 @ Override 
 + @ Override 
 protected List < String > getFieldOrder ( ) { 
 return FIELDS ; 
 } 
 @ @ - 560 , 10 + 556 , 8 @ @ public interface Winspool extends StdCallLibrary { 
 * @ return If the function succeeds , the return value is a nonzero value . If 
 * the function fails , the return value is zero . 
 * 
 - 	 * @ see < a href = 
 - 	 * " http : / / msdn . microsoft . com / en - us / library / windows / desktop / dd162751 ( v = vs . 85 ) . aspx " > 
 - 	 * OpenPrinter function < / a > 
 - 	 * / 
 + * @ see < a href = " http : / / msdn . microsoft . com / en - us / library / windows / desktop / dd162751 ( v = vs . 85 ) . aspx " > OpenPrinter function < / a > 
 + * / 
 boolean OpenPrinter ( 
 	 / / _ In _ 
 String pPrinterName , 
 diff - - git a / contrib / platform / test / com / sun / jna / platform / win32 / WinspoolTest . java b / contrib / platform / test / com / sun / jna / platform / win32 / WinspoolTest . java 
 index 0bc6f0e . . 02e14c2 100644 
 - - - a / contrib / platform / test / com / sun / jna / platform / win32 / WinspoolTest . java 
 + + + b / contrib / platform / test / com / sun / jna / platform / win32 / WinspoolTest . java 
 @ @ - 13 , 6 + 13 , 7 @ @ 
 package com . sun . jna . platform . win32 ; 
 
 import com . sun . jna . Native ; 
 + import com . sun . jna . Structure ; 
 import com . sun . jna . platform . win32 . WinNT . HANDLEByReference ; 
 import com . sun . jna . platform . win32 . Winspool . PRINTER _ INFO _ 1 ; 
 import com . sun . jna . platform . win32 . Winspool . PRINTER _ INFO _ 2 ; 
 @ @ - 94 , 4 + 95 , 21 @ @ public class WinspoolTest extends TestCase { 
 assertFalse ( " ClosePrinter should return false on failure . " , result ) ; 
 assertEquals ( " GetLastError ( ) should return ERROR _ INVALID _ HANDLE " , WinError . ERROR _ INVALID _ HANDLE , Native . getLastError ( ) ) ; 
 } 
 + 
 + public void testCorrectDeclarationOfMembers ( ) throws InstantiationException , IllegalAccessException { 
 + for ( Class klass : Winspool . class . getDeclaredClasses ( ) ) { 
 + if ( Structure . class . isAssignableFrom ( klass ) ) { 
 + boolean writeWorked = false ; 
 + try { 
 + Structure struct = ( Structure ) klass . newInstance ( ) ; 
 + struct . write ( ) ; 
 + writeWorked = true ; 
 + } catch ( java . lang . Throwable ex ) { 
 + System . err . println ( ex . getMessage ( ) ) ; 
 + ex . printStackTrace ( System . err ) ; 
 + } 
 + assertTrue ( " Failed to write structure : " + klass . getName ( ) , writeWorked ) ; 
 + } 
 + } 
 + } 
 }

NEAREST DIFF:
ELIMINATEDSENTENCE
