BLEU SCORE: 0.017928600661603712

TEST MSG: Adjust file license headers to reflect project license
GENERATED MSG: Add tests and documentation for the MSI interface . Add some licence details to new files .

TEST DIFF (one line): diff - - git a / native / callback . c b / native / callback . c <nl> index f2b13f7 . . 108048b 100644 <nl> - - - a / native / callback . c <nl> + + + b / native / callback . c <nl> @ @ - 1 , 15 + 1 , 26 @ @ <nl> / * Copyright ( c ) 2007 - 2013 Timothy Wall , All Rights Reserved <nl> * Copyright ( c ) 2007 Wayne Meissner , All Rights Reserved <nl> * <nl> - * This library is free software ; you can redistribute it and / or <nl> - * modify it under the terms of the GNU Lesser General Public <nl> - * License as published by the Free Software Foundation ; either <nl> - * version 2 . 1 of the License , or ( at your option ) any later version . <nl> - * < p / > <nl> - * This library is distributed in the hope that it will be useful , <nl> - * but WITHOUT ANY WARRANTY ; without even the implied warranty of <nl> - * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE . See the GNU <nl> - * Lesser General Public License for more details . <nl> + * The contents of this file is dual - licensed under 2 <nl> + * alternative Open Source / Free licenses : LGPL 2 . 1 and <nl> + * Apache License 2 . 0 . ( starting with JNA version 4 . 0 . 0 ) . <nl> + * <nl> + * You can freely decide which license you want to apply to <nl> + * the project . <nl> + * <nl> + * You may obtain a copy of the LGPL License at : <nl> + * <nl> + * http : / / www . gnu . org / licenses / licenses . html <nl> + * <nl> + * A copy is also included in the downloadable source code package <nl> + * containing JNA , in file " LGPL2 . 1 " . <nl> + * <nl> + * You may obtain a copy of the Apache License at : <nl> + * <nl> + * http : / / www . apache . org / licenses / <nl> + * <nl> + * A copy is also included in the downloadable source code package <nl> + * containing JNA , in file " AL2 . 0 " . <nl> * / <nl> <nl> # include < stdio . h > <nl> diff - - git a / native / dispatch . c b / native / dispatch . c <nl> index f87edab . . 0c941b5 100644 <nl> - - - a / native / dispatch . c <nl> + + + b / native / dispatch . c <nl> @ @ - 5 , 15 + 5 , 26 @ @ <nl> * Copyright ( c ) 2007 - 2013 Timothy Wall . All Rights Reserved . <nl> * Copyright ( c ) 2007 Wayne Meissner . All Rights Reserved . <nl> * <nl> - * This library is free software ; you can redistribute it and / or <nl> - * modify it under the terms of the GNU Lesser General Public <nl> - * License as published by the Free Software Foundation ; either <nl> - * version 2 . 1 of the License , or ( at your option ) any later version . <nl> - * < p / > <nl> - * This library is distributed in the hope that it will be useful , <nl> - * but WITHOUT ANY WARRANTY ; without even the implied warranty of <nl> - * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE . See the GNU <nl> - * Lesser General Public License for more details . <nl> + * The contents of this file is dual - licensed under 2 <nl> + * alternative Open Source / Free licenses : LGPL 2 . 1 and <nl> + * Apache License 2 . 0 . ( starting with JNA version 4 . 0 . 0 ) . <nl> + * <nl> + * You can freely decide which license you want to apply to <nl> + * the project . <nl> + * <nl> + * You may obtain a copy of the LGPL License at : <nl> + * <nl> + * http : / / www . gnu . org / licenses / licenses . html <nl> + * <nl> + * A copy is also included in the downloadable source code package <nl> + * containing JNA , in file " LGPL2 . 1 " . <nl> + * <nl> + * You may obtain a copy of the Apache License at : <nl> + * <nl> + * http : / / www . apache . org / licenses / <nl> + * <nl> + * A copy is also included in the downloadable source code package <nl> + * containing JNA , in file " AL2 . 0 " . <nl> * / <nl> <nl> # include " dispatch . h " <nl> diff - - git a / native / dispatch . h b / native / dispatch . h <nl> index 2ce7485 . . b6ae267 100644 <nl> - - - a / native / dispatch . h <nl> + + + b / native / dispatch . h <nl> @ @ - 1 , 14 + 1 , 25 @ @ <nl> / * Copyright ( c ) 2007 - 2013 Timothy Wall , All Rights Reserved <nl> * <nl> - * This library is free software ; you can redistribute it and / or <nl> - * modify it under the terms of the GNU Lesser General Public <nl> - * License as published by the Free Software Foundation ; either <nl> - * version 2 . 1 of the License , or ( at your option ) any later version . <nl> - * < p / > <nl> - * This library is distributed in the hope that it will be useful , <nl> - * but WITHOUT ANY WARRANTY ; without even the implied warranty of <nl> - * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE . See the GNU <nl> - * Lesser General Public License for more details . <nl> + * The contents of this file is dual - licensed under 2 <nl> + * alternative Open Source / Free licenses : LGPL 2 . 1 and <nl> + * Apache License 2 . 0 . ( starting with JNA version 4 . 0 . 0 ) . <nl> + * <nl> + * You can freely decide which license you want to apply to <nl> + * the project . <nl> + * <nl> + * You may obtain a copy of the LGPL License at : <nl> + * <nl> + * http : / / www . gnu . org / licenses / licenses . html <nl> + * <nl> + * A copy is also included in the downloadable source code package <nl> + * containing JNA , in file " LGPL2 . 1 " . <nl> + * <nl> + * You may obtain a copy of the Apache License at : <nl> + * <nl> + * http : / / www . apache . org / licenses / <nl> + * <nl> + * A copy is also included in the downloadable source code package <nl> + * containing JNA , in file " AL2 . 0 " . <nl> * / <nl> # ifndef DISPATCH _ H <nl> # define DISPATCH _ H <nl> diff - - git a / native / dll - callback . c b / native / dll - callback . c <nl> index 7111160 . . dcdcca5 100644 <nl> - - - a / native / dll - callback . c <nl> + + + b / native / dll - callback . c <nl> @ @ - 1 , 14 + 1 , 25 @ @ <nl> / * Copyright ( c ) 2007 - 2012 Timothy Wall , All Rights Reserved <nl> * <nl> - * This library is free software ; you can redistribute it and / or <nl> - * modify it under the terms of the GNU Lesser General Public <nl> - * License as published by the Free Software Foundation ; either <nl> - * version 2 . 1 of the License , or ( at your option ) any later version . <nl> - * < p / > <nl> - * This library is distributed in the hope that it will be useful , <nl> - * but WITHOUT ANY WARRANTY ; without even the implied warranty of <nl> - * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE . See the GNU <nl> - * Lesser General Public License for more details . <nl> + * The contents of this file is dual - licensed under 2 <nl> + * alternative Open Source / Free licenses : LGPL 2 . 1 and <nl> + * Apache License 2 . 0 . ( starting with JNA version 4 . 0 . 0 ) . <nl> + * <nl> + * You can freely decide which license you want to apply to <nl> + * the project . <nl> + * <nl> + * You may obtain a copy of the LGPL License at : <nl> + * <nl> + * http : / / www . gnu . org / licenses / licenses . html <nl> + * <nl> + * A copy is also included in the downloadable source code package <nl> + * containing JNA , in file " LGPL2 . 1 " . <nl> + * <nl> + * You may obtain a copy of the Apache License at : <nl> + * <nl> + * http : / / www . apache . org / licenses / <nl> + * <nl> + * A copy is also included in the downloadable source code package <nl> + * containing JNA , in file " AL2 . 0 " . <nl> * / <nl> / * Must use mingw64 to compile this assembly code . ml64 can ' t generate the <nl> RIP - relative jumps we need . <nl> diff - - git a / native / protect . h b / native / protect . h <nl> index 8e4ad64 . . fd3c883 100644 <nl> - - - a / native / protect . h <nl> + + + b / native / protect . h <nl> @ @ - 1 , 14 + 1 , 25 @ @ <nl> / * Copyright ( c ) 2007 Timothy Wall , All Rights Reserved <nl> * <nl> - * This library is free software ; you can redistribute it and / or <nl> - * modify it under the terms of the GNU Lesser General Public <nl> - * License as published by the Free Software Foundation ; either <nl> - * version 2 . 1 of the License , or ( at your option ) any later version . <nl> - * < p / > <nl> - * This library is distributed in the hope that it will be useful , <nl> - * but WITHOUT ANY WARRANTY ; without even the implied warranty of <nl> - * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE . See the GNU <nl> - * Lesser General Public License for more details . <nl> + * The contents of this file is dual - licensed under 2 <nl> + * alternative Open Source / Free licenses : LGPL 2 . 1 and <nl> + * Apache License 2 . 0 . ( starting with JNA version 4 . 0 . 0 ) . <nl> + * <nl> + * You can freely decide which license you want to apply to <nl> + * the project . <nl> + * <nl> + * You may obtain a copy of the LGPL License at : <nl> + * <nl> + * http : / / www . gnu . org / licenses / licenses . html <nl> + * <nl> + * A copy is also included in the downloadable source code package <nl> + * containing JNA , in file " LGPL2 . 1 " . <nl> + * <nl> + * You may obtain a copy of the Apache License at : <nl> + * <nl> + * http : / / www . apache . org / licenses / <nl> + * <nl> + * A copy is also included in the downloadable source code package <nl> + * containing JNA , in file " AL2 . 0 " . <nl> * / <nl> # ifndef PROTECT _ H <nl> # define PROTECT _ H <nl> diff - - git a / native / testlib . c b / native / testlib . c <nl> index 5e640c0 . . 2eaaaba 100644 <nl> - - - a / native / testlib . c <nl> + + + b / native / testlib . c <nl> @ @ - 1 , 14 + 1 , 25 @ @ <nl> / * Copyright ( c ) 2007 - 2013 Timothy Wall , All Rights Reserved <nl> * <nl> - * This library is free software ; you can redistribute it and / or <nl> - * modify it under the terms of the GNU Lesser General Public <nl> - * License as published by the Free Software Foundation ; either <nl> - * version 2 . 1 of the License , or ( at your option ) any later version . <nl> - * < p / > <nl> - * This library is distributed in the hope that it will be useful , <nl> - * but WITHOUT ANY WARRANTY ; without even the implied warranty of <nl> - * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE . See the GNU <nl> - * Lesser General Public License for more details . <nl> + * The contents of this file is dual - licensed under 2 <nl> + * alternative Open Source / Free licenses : LGPL 2 . 1 and <nl> + * Apache License 2 . 0 . ( starting with JNA version 4 . 0 . 0 ) . <nl> + * <nl> + * You can freely decide which license you want to apply to <nl> + * the project . <nl> + * <nl> + * You may obtain a copy of the LGPL License at : <nl> + * <nl> + * http : / / www . gnu . org / licenses / licenses . html <nl> + * <nl> + * A copy is also included in the downloadable source code package <nl> + * containing JNA , in file " LGPL2 . 1 " . <nl> + * <nl> + * You may obtain a copy of the Apache License at : <nl> + * <nl> + * http : / / www . apache . org / licenses / <nl> + * <nl> + * A copy is also included in the downloadable source code package <nl> + * containing JNA , in file " AL2 . 0 " . <nl> * / <nl> <nl> / * Native library implementation to support JUnit tests . * / <nl> diff - - git a / native / testlib2 . c b / native / testlib2 . c <nl> index 3626a3c . . 068d856 100644 <nl> - - - a / native / testlib2 . c <nl> + + + b / native / testlib2 . c <nl> @ @ - 1 , 14 + 1 , 25 @ @ <nl> / * Copyright ( c ) 2007 - 2008 Timothy Wall , All Rights Reserved <nl> * <nl> - * This library is free software ; you can redistribute it and / or <nl> - * modify it under the terms of the GNU Lesser General Public <nl> - * License as published by the Free Software Foundation ; either <nl> - * version 2 . 1 of the License , or ( at your option ) any later version . <nl> - * < p / > <nl> - * This library is distributed in the hope that it will be useful , <nl> - * but WITHOUT ANY WARRANTY ; without even the implied warranty of <nl> - * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE . See the GNU <nl> - * Lesser General Public License for more details . <nl> + * The contents of this file is dual - licensed under 2 <nl> + * alternative Open Source / Free licenses : LGPL 2 . 1 and <nl> + * Apache License 2 . 0 . ( starting with JNA version 4 . 0 . 0 ) . <nl> + * <nl> + * You can freely decide which license you want to apply to <nl> + * the project . <nl> + * <nl> + * You may obtain a copy of the LGPL License at : <nl> + * <nl> + * http : / / www . gnu . org / licenses / licenses . html <nl> + * <nl> + * A copy is also included in the downloadable source code package <nl> + * containing JNA , in file " LGPL2 . 1 " . <nl> + * <nl> + * You may obtain a copy of the Apache License at : <nl> + * <nl> + * http : / / www . apache . org / licenses / <nl> + * <nl> + * A copy is also included in the downloadable source code package <nl> + * containing JNA , in file " AL2 . 0 " . <nl> * / <nl> <nl> / * Simple library with a dependency . * /
NEAREST DIFF (one line): diff - - git a / contrib / platform / src / com / sun / jna / platform / win32 / Tlhelp32 . java b / contrib / platform / src / com / sun / jna / platform / win32 / Tlhelp32 . java <nl> index 8a902c4 . . 9b803c1 100644 <nl> - - - a / contrib / platform / src / com / sun / jna / platform / win32 / Tlhelp32 . java <nl> + + + b / contrib / platform / src / com / sun / jna / platform / win32 / Tlhelp32 . java <nl> @ @ - 14 , 16 + 14 , 54 @ @ import com . sun . jna . Pointer ; <nl> import com . sun . jna . Structure ; <nl> import com . sun . jna . win32 . StdCallLibrary ; <nl> <nl> + / * * <nl> + * Interface for the Tlhelp32 . h header file . <nl> + * / <nl> public interface Tlhelp32 extends StdCallLibrary { <nl> <nl> + / * * <nl> + * Includes all heaps of the process specified in th32ProcessID in the snapshot . To enumerate the heaps , see <nl> + * Heap32ListFirst . <nl> + * / <nl> WinDef . DWORD TH32CS _ SNAPHEAPLIST = new WinDef . DWORD ( 0x00000001 ) ; <nl> + <nl> + / * * <nl> + * Includes all processes in the system in the snapshot . To enumerate the processes , see Process32First . <nl> + * / <nl> WinDef . DWORD TH32CS _ SNAPPROCESS = new WinDef . DWORD ( 0x00000002 ) ; <nl> + <nl> + / * * <nl> + * Includes all threads in the system in the snapshot . To enumerate the threads , see Thread32First . <nl> + * / <nl> WinDef . DWORD TH32CS _ SNAPTHREAD = new WinDef . DWORD ( 0x00000004 ) ; <nl> + <nl> + / * * <nl> + * Includes all modules of the process specified in th32ProcessID in the snapshot . To enumerate the modules , see <nl> + * Module32First . If the function fails with ERROR _ BAD _ LENGTH , retry the function until it succeeds . <nl> + * / <nl> WinDef . DWORD TH32CS _ SNAPMODULE = new WinDef . DWORD ( 0x00000008 ) ; <nl> + <nl> + / * * <nl> + * Includes all 32 - bit modules of the process specified in th32ProcessID in the snapshot when called from a 64 - bit <nl> + * process . This flag can be combined with TH32CS _ SNAPMODULE or TH32CS _ SNAPALL . If the function fails with <nl> + * ERROR _ BAD _ LENGTH , retry the function until it succeeds . <nl> + * / <nl> WinDef . DWORD TH32CS _ SNAPMODULE32 = new WinDef . DWORD ( 0x00000010 ) ; <nl> - WinDef . DWORD TH32CS _ SNAPALL = new WinDef . DWORD ( ( TH32CS _ SNAPHEAPLIST . intValue ( ) | TH32CS _ SNAPPROCESS . intValue ( ) | TH32CS _ SNAPTHREAD . intValue ( ) | TH32CS _ SNAPMODULE . intValue ( ) ) ) ; <nl> + <nl> + / * * <nl> + * Includes all processes and threads in the system , plus the heaps and modules of the process specified in th32ProcessID . <nl> + * / <nl> + WinDef . DWORD TH32CS _ SNAPALL = new WinDef . DWORD ( ( TH32CS _ SNAPHEAPLIST . intValue ( ) | <nl> + TH32CS _ SNAPPROCESS . intValue ( ) | TH32CS _ SNAPTHREAD . intValue ( ) | TH32CS _ SNAPMODULE . intValue ( ) ) ) ; <nl> + <nl> + / * * <nl> + * Indicates that the snapshot handle is to be inheritable . <nl> + * / <nl> WinDef . DWORD TH32CS _ INHERIT = new WinDef . DWORD ( 0x80000000 ) ; <nl> <nl> + / * * <nl> + * Describes an entry from a list of the processes residing in the system address space when a snapshot was taken . <nl> + * / <nl> public static class PROCESSENTRY32W extends Structure { <nl> <nl> public static class ByReference extends PROCESSENTRY32W implements Structure . ByReference { <nl> @ @ - 44 , 15 + 82 , 58 @ @ public interface Tlhelp32 extends StdCallLibrary { <nl> read ( ) ; <nl> } <nl> <nl> + / * * <nl> + * The size of the structure , in bytes . Before calling the Process32First function , set this member to <nl> + * sizeof ( PROCESSENTRY32 ) . If you do not initialize dwSize , Process32First fails . <nl> + * / <nl> public WinDef . DWORD dwSize ; <nl> + <nl> + / * * <nl> + * This member is no longer used and is always set to zero . <nl> + * / <nl> public WinDef . DWORD cntUsage ; <nl> + <nl> + / * * <nl> + * The process identifier . <nl> + * / <nl> public WinDef . DWORD th32ProcessID ; <nl> + <nl> + / * * <nl> + * This member is no longer used and is always set to zero . <nl> + * / <nl> public BaseTSD . ULONG _ PTR th32DefaultHeapID ; <nl> + <nl> + / * * <nl> + * This member is no longer used and is always set to zero . <nl> + * / <nl> public WinDef . DWORD th32ModuleID ; <nl> + <nl> + / * * <nl> + * The number of execution threads started by the process . <nl> + * / <nl> public WinDef . DWORD cntThreads ; <nl> + <nl> + / * * <nl> + * The identifier of the process that created this process ( its parent process ) . <nl> + * / <nl> public WinDef . DWORD th32ParentProcessID ; <nl> + <nl> + / * * <nl> + * The base priority of any threads created by this process . <nl> + * / <nl> public WinDef . LONG pcPriClassBase ; <nl> + <nl> + / * * <nl> + * This member is no longer used , and is always set to zero . <nl> + * / <nl> public WinDef . DWORD dwFlags ; <nl> + <nl> + / * * <nl> + * The name of the executable file for the process . To retrieve the full path to the executable file , call the <nl> + * Module32First function and check the szExePath member of the MODULEENTRY32 structure that is returned . <nl> + * However , if the calling process is a 32 - bit process , you must call the QueryFullProcessImageName function to <nl> + * retrieve the full path of the executable file for a 64 - bit process . <nl> + * / <nl> public char [ ] szExeFile = new char [ WinDef . MAX _ PATH ] ; <nl> } <nl> } <nl> diff - - git a / contrib / platform / src / com / sun / jna / platform / win32 / VerRsrc . java b / contrib / platform / src / com / sun / jna / platform / win32 / VerRsrc . java <nl> index 0bc14c6 . . e0bcf5f 100644 <nl> - - - a / contrib / platform / src / com / sun / jna / platform / win32 / VerRsrc . java <nl> + + + b / contrib / platform / src / com / sun / jna / platform / win32 / VerRsrc . java <nl> @ @ - 14 , 8 + 14 , 14 @ @ import com . sun . jna . Pointer ; <nl> import com . sun . jna . Structure ; <nl> import com . sun . jna . win32 . StdCallLibrary ; <nl> <nl> + / * * <nl> + * Interface for the VerRsrc . h header file . <nl> + * / <nl> public interface VerRsrc extends StdCallLibrary { <nl> <nl> + / * * <nl> + * Contains version information for a file . This information is language and code page independent . <nl> + * / <nl> public static class VS _ FIXEDFILEINFO extends Structure { <nl> <nl> public static class ByReference extends VS _ FIXEDFILEINFO implements Structure . ByReference { <nl> @ @ - 35 , 18 + 41 , 77 @ @ public interface VerRsrc extends StdCallLibrary { <nl> read ( ) ; <nl> } <nl> <nl> - public int Signature ; <nl> - public int StrucVersion ; <nl> - public int FileVersionMS ; <nl> - public int FileVersionLS ; <nl> - public int ProductVersionMS ; <nl> - public int ProductVersionLS ; <nl> - public int FileFlagsMask ; <nl> - public int FileFlags ; <nl> - public int FileOS ; <nl> - public int FileType ; <nl> - public int FileSubtype ; <nl> - public int FileDateMS ; <nl> - public int FileDateLS ; <nl> + / * * <nl> + * Contains the value 0xFEEF04BD . This is used with the szKey member of the VS _ VERSIONINFO structure when <nl> + * searching a file for the VS _ FIXEDFILEINFO structure . <nl> + * / <nl> + public WinDef . DWORD dwSignature ; <nl> + <nl> + / * * <nl> + * The binary version number of this structure . The high - order word of this member contains the major version <nl> + * number , and the low - order word contains the minor version number . <nl> + * / <nl> + public WinDef . DWORD dwStrucVersion ; <nl> + <nl> + / * * <nl> + * The most significant 32 bits of the file ' s binary version number . This member is used with dwFileVersionLS to <nl> + * form a 64 - bit value used for numeric comparisons . <nl> + * / <nl> + public WinDef . DWORD dwFileVersionMS ; <nl> + <nl> + / * * <nl> + * The least significant 32 bits of the file ' s binary version number . This member is used with dwFileVersionMS <nl> + * to form a 64 - bit value used for numeric comparisons . <nl> + * / <nl> + public WinDef . DWORD dwFileVersionLS ; <nl> + <nl> + / * * <nl> + * The most significant 32 bits of the binary version number of the product with which this file was <nl> + * distributed . This member is used with dwProductVersionLS to form a 64 - bit value used for numeric comparisons . <nl> + * / <nl> + public WinDef . DWORD dwProductVersionMS ; <nl> + <nl> + / * * <nl> + * The least significant 32 bits of the binary version number of the product with which this file was <nl> + * distributed . This member is used with dwProductVersionMS to form a 64 - bit value used for numeric comparisons . <nl> + * / <nl> + public WinDef . DWORD dwProductVersionLS ; <nl> + <nl> + / * * <nl> + * Contains a bitmask that specifies the valid bits in dwFileFlags . A bit is valid only if it was defined when <nl> + * the file was created . <nl> + * / <nl> + public WinDef . DWORD dwFileFlagsMask ; <nl> + <nl> + / * * <nl> + * Contains a bitmask that specifies the Boolean attributes of the file . This member can include one or more of <nl> + * the following values . <nl> + * / <nl> + public WinDef . DWORD dwFileFlags ; <nl> + <nl> + / * * <nl> + * The operating system for which this file was designed . <nl> + * / <nl> + public WinDef . DWORD dwFileOS ; <nl> + <nl> + / * * <nl> + * The general type of file . <nl> + * / <nl> + public WinDef . DWORD dwFileType ; <nl> + <nl> + / * * <nl> + * The function of the file . The possible values depend on the value of dwFileType . <nl> + * / <nl> + public WinDef . DWORD dwFileSubtype ; <nl> + <nl> + / * * <nl> + * The most significant 32 bits of the file ' s 64 - bit binary creation date and time stamp . <nl> + * / <nl> + public WinDef . DWORD dwFileDateMS ; <nl> + <nl> + / * * <nl> + * The least significant 32 bits of the file ' s 64 - bit binary creation date and time stamp . <nl> + * / <nl> + public WinDef . DWORD dwFileDateLS ; <nl> } <nl> } <nl> diff - - git a / contrib / platform / src / com / sun / jna / platform / win32 / Winioctl . java b / contrib / platform / src / com / sun / jna / platform / win32 / Winioctl . java <nl> index f64126d . . 75b1a41 100644 <nl> - - - a / contrib / platform / src / com / sun / jna / platform / win32 / Winioctl . java <nl> + + + b / contrib / platform / src / com / sun / jna / platform / win32 / Winioctl . java <nl> @ @ - 14 , 8 + 14 , 14 @ @ import com . sun . jna . Pointer ; <nl> import com . sun . jna . Structure ; <nl> import com . sun . jna . win32 . StdCallLibrary ; <nl> <nl> + / * * <nl> + * Interface for the Winioctl . h header file . <nl> + * / <nl> public interface Winioctl extends StdCallLibrary { <nl> <nl> + / * * <nl> + * Contains information about a device . This structure is used by the IOCTL _ STORAGE _ GET _ DEVICE _ NUMBER control code . <nl> + * / <nl> public static class STORAGE _ DEVICE _ NUMBER extends Structure { <nl> <nl> public static class ByReference extends STORAGE _ DEVICE _ NUMBER implements Structure . ByRefere

TEST DIFF:
diff - - git a / native / callback . c b / native / callback . c 
 index f2b13f7 . . 108048b 100644 
 - - - a / native / callback . c 
 + + + b / native / callback . c 
 @ @ - 1 , 15 + 1 , 26 @ @ 
 / * Copyright ( c ) 2007 - 2013 Timothy Wall , All Rights Reserved 
 * Copyright ( c ) 2007 Wayne Meissner , All Rights Reserved 
 * 
 - * This library is free software ; you can redistribute it and / or 
 - * modify it under the terms of the GNU Lesser General Public 
 - * License as published by the Free Software Foundation ; either 
 - * version 2 . 1 of the License , or ( at your option ) any later version . 
 - * < p / > 
 - * This library is distributed in the hope that it will be useful , 
 - * but WITHOUT ANY WARRANTY ; without even the implied warranty of 
 - * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE . See the GNU 
 - * Lesser General Public License for more details . 
 + * The contents of this file is dual - licensed under 2 
 + * alternative Open Source / Free licenses : LGPL 2 . 1 and 
 + * Apache License 2 . 0 . ( starting with JNA version 4 . 0 . 0 ) . 
 + * 
 + * You can freely decide which license you want to apply to 
 + * the project . 
 + * 
 + * You may obtain a copy of the LGPL License at : 
 + * 
 + * http : / / www . gnu . org / licenses / licenses . html 
 + * 
 + * A copy is also included in the downloadable source code package 
 + * containing JNA , in file " LGPL2 . 1 " . 
 + * 
 + * You may obtain a copy of the Apache License at : 
 + * 
 + * http : / / www . apache . org / licenses / 
 + * 
 + * A copy is also included in the downloadable source code package 
 + * containing JNA , in file " AL2 . 0 " . 
 * / 
 
 # include < stdio . h > 
 diff - - git a / native / dispatch . c b / native / dispatch . c 
 index f87edab . . 0c941b5 100644 
 - - - a / native / dispatch . c 
 + + + b / native / dispatch . c 
 @ @ - 5 , 15 + 5 , 26 @ @ 
 * Copyright ( c ) 2007 - 2013 Timothy Wall . All Rights Reserved . 
 * Copyright ( c ) 2007 Wayne Meissner . All Rights Reserved . 
 * 
 - * This library is free software ; you can redistribute it and / or 
 - * modify it under the terms of the GNU Lesser General Public 
 - * License as published by the Free Software Foundation ; either 
 - * version 2 . 1 of the License , or ( at your option ) any later version . 
 - * < p / > 
 - * This library is distributed in the hope that it will be useful , 
 - * but WITHOUT ANY WARRANTY ; without even the implied warranty of 
 - * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE . See the GNU 
 - * Lesser General Public License for more details . 
 + * The contents of this file is dual - licensed under 2 
 + * alternative Open Source / Free licenses : LGPL 2 . 1 and 
 + * Apache License 2 . 0 . ( starting with JNA version 4 . 0 . 0 ) . 
 + * 
 + * You can freely decide which license you want to apply to 
 + * the project . 
 + * 
 + * You may obtain a copy of the LGPL License at : 
 + * 
 + * http : / / www . gnu . org / licenses / licenses . html 
 + * 
 + * A copy is also included in the downloadable source code package 
 + * containing JNA , in file " LGPL2 . 1 " . 
 + * 
 + * You may obtain a copy of the Apache License at : 
 + * 
 + * http : / / www . apache . org / licenses / 
 + * 
 + * A copy is also included in the downloadable source code package 
 + * containing JNA , in file " AL2 . 0 " . 
 * / 
 
 # include " dispatch . h " 
 diff - - git a / native / dispatch . h b / native / dispatch . h 
 index 2ce7485 . . b6ae267 100644 
 - - - a / native / dispatch . h 
 + + + b / native / dispatch . h 
 @ @ - 1 , 14 + 1 , 25 @ @ 
 / * Copyright ( c ) 2007 - 2013 Timothy Wall , All Rights Reserved 
 * 
 - * This library is free software ; you can redistribute it and / or 
 - * modify it under the terms of the GNU Lesser General Public 
 - * License as published by the Free Software Foundation ; either 
 - * version 2 . 1 of the License , or ( at your option ) any later version . 
 - * < p / > 
 - * This library is distributed in the hope that it will be useful , 
 - * but WITHOUT ANY WARRANTY ; without even the implied warranty of 
 - * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE . See the GNU 
 - * Lesser General Public License for more details . 
 + * The contents of this file is dual - licensed under 2 
 + * alternative Open Source / Free licenses : LGPL 2 . 1 and 
 + * Apache License 2 . 0 . ( starting with JNA version 4 . 0 . 0 ) . 
 + * 
 + * You can freely decide which license you want to apply to 
 + * the project . 
 + * 
 + * You may obtain a copy of the LGPL License at : 
 + * 
 + * http : / / www . gnu . org / licenses / licenses . html 
 + * 
 + * A copy is also included in the downloadable source code package 
 + * containing JNA , in file " LGPL2 . 1 " . 
 + * 
 + * You may obtain a copy of the Apache License at : 
 + * 
 + * http : / / www . apache . org / licenses / 
 + * 
 + * A copy is also included in the downloadable source code package 
 + * containing JNA , in file " AL2 . 0 " . 
 * / 
 # ifndef DISPATCH _ H 
 # define DISPATCH _ H 
 diff - - git a / native / dll - callback . c b / native / dll - callback . c 
 index 7111160 . . dcdcca5 100644 
 - - - a / native / dll - callback . c 
 + + + b / native / dll - callback . c 
 @ @ - 1 , 14 + 1 , 25 @ @ 
 / * Copyright ( c ) 2007 - 2012 Timothy Wall , All Rights Reserved 
 * 
 - * This library is free software ; you can redistribute it and / or 
 - * modify it under the terms of the GNU Lesser General Public 
 - * License as published by the Free Software Foundation ; either 
 - * version 2 . 1 of the License , or ( at your option ) any later version . 
 - * < p / > 
 - * This library is distributed in the hope that it will be useful , 
 - * but WITHOUT ANY WARRANTY ; without even the implied warranty of 
 - * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE . See the GNU 
 - * Lesser General Public License for more details . 
 + * The contents of this file is dual - licensed under 2 
 + * alternative Open Source / Free licenses : LGPL 2 . 1 and 
 + * Apache License 2 . 0 . ( starting with JNA version 4 . 0 . 0 ) . 
 + * 
 + * You can freely decide which license you want to apply to 
 + * the project . 
 + * 
 + * You may obtain a copy of the LGPL License at : 
 + * 
 + * http : / / www . gnu . org / licenses / licenses . html 
 + * 
 + * A copy is also included in the downloadable source code package 
 + * containing JNA , in file " LGPL2 . 1 " . 
 + * 
 + * You may obtain a copy of the Apache License at : 
 + * 
 + * http : / / www . apache . org / licenses / 
 + * 
 + * A copy is also included in the downloadable source code package 
 + * containing JNA , in file " AL2 . 0 " . 
 * / 
 / * Must use mingw64 to compile this assembly code . ml64 can ' t generate the 
 RIP - relative jumps we need . 
 diff - - git a / native / protect . h b / native / protect . h 
 index 8e4ad64 . . fd3c883 100644 
 - - - a / native / protect . h 
 + + + b / native / protect . h 
 @ @ - 1 , 14 + 1 , 25 @ @ 
 / * Copyright ( c ) 2007 Timothy Wall , All Rights Reserved 
 * 
 - * This library is free software ; you can redistribute it and / or 
 - * modify it under the terms of the GNU Lesser General Public 
 - * License as published by the Free Software Foundation ; either 
 - * version 2 . 1 of the License , or ( at your option ) any later version . 
 - * < p / > 
 - * This library is distributed in the hope that it will be useful , 
 - * but WITHOUT ANY WARRANTY ; without even the implied warranty of 
 - * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE . See the GNU 
 - * Lesser General Public License for more details . 
 + * The contents of this file is dual - licensed under 2 
 + * alternative Open Source / Free licenses : LGPL 2 . 1 and 
 + * Apache License 2 . 0 . ( starting with JNA version 4 . 0 . 0 ) . 
 + * 
 + * You can freely decide which license you want to apply to 
 + * the project . 
 + * 
 + * You may obtain a copy of the LGPL License at : 
 + * 
 + * http : / / www . gnu . org / licenses / licenses . html 
 + * 
 + * A copy is also included in the downloadable source code package 
 + * containing JNA , in file " LGPL2 . 1 " . 
 + * 
 + * You may obtain a copy of the Apache License at : 
 + * 
 + * http : / / www . apache . org / licenses / 
 + * 
 + * A copy is also included in the downloadable source code package 
 + * containing JNA , in file " AL2 . 0 " . 
 * / 
 # ifndef PROTECT _ H 
 # define PROTECT _ H 
 diff - - git a / native / testlib . c b / native / testlib . c 
 index 5e640c0 . . 2eaaaba 100644 
 - - - a / native / testlib . c 
 + + + b / native / testlib . c 
 @ @ - 1 , 14 + 1 , 25 @ @ 
 / * Copyright ( c ) 2007 - 2013 Timothy Wall , All Rights Reserved 
 * 
 - * This library is free software ; you can redistribute it and / or 
 - * modify it under the terms of the GNU Lesser General Public 
 - * License as published by the Free Software Foundation ; either 
 - * version 2 . 1 of the License , or ( at your option ) any later version . 
 - * < p / > 
 - * This library is distributed in the hope that it will be useful , 
 - * but WITHOUT ANY WARRANTY ; without even the implied warranty of 
 - * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE . See the GNU 
 - * Lesser General Public License for more details . 
 + * The contents of this file is dual - licensed under 2 
 + * alternative Open Source / Free licenses : LGPL 2 . 1 and 
 + * Apache License 2 . 0 . ( starting with JNA version 4 . 0 . 0 ) . 
 + * 
 + * You can freely decide which license you want to apply to 
 + * the project . 
 + * 
 + * You may obtain a copy of the LGPL License at : 
 + * 
 + * http : / / www . gnu . org / licenses / licenses . html 
 + * 
 + * A copy is also included in the downloadable source code package 
 + * containing JNA , in file " LGPL2 . 1 " . 
 + * 
 + * You may obtain a copy of the Apache License at : 
 + * 
 + * http : / / www . apache . org / licenses / 
 + * 
 + * A copy is also included in the downloadable source code package 
 + * containing JNA , in file " AL2 . 0 " . 
 * / 
 
 / * Native library implementation to support JUnit tests . * / 
 diff - - git a / native / testlib2 . c b / native / testlib2 . c 
 index 3626a3c . . 068d856 100644 
 - - - a / native / testlib2 . c 
 + + + b / native / testlib2 . c 
 @ @ - 1 , 14 + 1 , 25 @ @ 
 / * Copyright ( c ) 2007 - 2008 Timothy Wall , All Rights Reserved 
 * 
 - * This library is free software ; you can redistribute it and / or 
 - * modify it under the terms of the GNU Lesser General Public 
 - * License as published by the Free Software Foundation ; either 
 - * version 2 . 1 of the License , or ( at your option ) any later version . 
 - * < p / > 
 - * This library is distributed in the hope that it will be useful , 
 - * but WITHOUT ANY WARRANTY ; without even the implied warranty of 
 - * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE . See the GNU 
 - * Lesser General Public License for more details . 
 + * The contents of this file is dual - licensed under 2 
 + * alternative Open Source / Free licenses : LGPL 2 . 1 and 
 + * Apache License 2 . 0 . ( starting with JNA version 4 . 0 . 0 ) . 
 + * 
 + * You can freely decide which license you want to apply to 
 + * the project . 
 + * 
 + * You may obtain a copy of the LGPL License at : 
 + * 
 + * http : / / www . gnu . org / licenses / licenses . html 
 + * 
 + * A copy is also included in the downloadable source code package 
 + * containing JNA , in file " LGPL2 . 1 " . 
 + * 
 + * You may obtain a copy of the Apache License at : 
 + * 
 + * http : / / www . apache . org / licenses / 
 + * 
 + * A copy is also included in the downloadable source code package 
 + * containing JNA , in file " AL2 . 0 " . 
 * / 
 
 / * Simple library with a dependency . * /

NEAREST DIFF:
diff - - git a / contrib / platform / src / com / sun / jna / platform / win32 / Tlhelp32 . java b / contrib / platform / src / com / sun / jna / platform / win32 / Tlhelp32 . java 
 index 8a902c4 . . 9b803c1 100644 
 - - - a / contrib / platform / src / com / sun / jna / platform / win32 / Tlhelp32 . java 
 + + + b / contrib / platform / src / com / sun / jna / platform / win32 / Tlhelp32 . java 
 @ @ - 14 , 16 + 14 , 54 @ @ import com . sun . jna . Pointer ; 
 import com . sun . jna . Structure ; 
 import com . sun . jna . win32 . StdCallLibrary ; 
 
 + / * * 
 + * Interface for the Tlhelp32 . h header file . 
 + * / 
 public interface Tlhelp32 extends StdCallLibrary { 
 
 + / * * 
 + * Includes all heaps of the process specified in th32ProcessID in the snapshot . To enumerate the heaps , see 
 + * Heap32ListFirst . 
 + * / 
 WinDef . DWORD TH32CS _ SNAPHEAPLIST = new WinDef . DWORD ( 0x00000001 ) ; 
 + 
 + / * * 
 + * Includes all processes in the system in the snapshot . To enumerate the processes , see Process32First . 
 + * / 
 WinDef . DWORD TH32CS _ SNAPPROCESS = new WinDef . DWORD ( 0x00000002 ) ; 
 + 
 + / * * 
 + * Includes all threads in the system in the snapshot . To enumerate the threads , see Thread32First . 
 + * / 
 WinDef . DWORD TH32CS _ SNAPTHREAD = new WinDef . DWORD ( 0x00000004 ) ; 
 + 
 + / * * 
 + * Includes all modules of the process specified in th32ProcessID in the snapshot . To enumerate the modules , see 
 + * Module32First . If the function fails with ERROR _ BAD _ LENGTH , retry the function until it succeeds . 
 + * / 
 WinDef . DWORD TH32CS _ SNAPMODULE = new WinDef . DWORD ( 0x00000008 ) ; 
 + 
 + / * * 
 + * Includes all 32 - bit modules of the process specified in th32ProcessID in the snapshot when called from a 64 - bit 
 + * process . This flag can be combined with TH32CS _ SNAPMODULE or TH32CS _ SNAPALL . If the function fails with 
 + * ERROR _ BAD _ LENGTH , retry the function until it succeeds . 
 + * / 
 WinDef . DWORD TH32CS _ SNAPMODULE32 = new WinDef . DWORD ( 0x00000010 ) ; 
 - WinDef . DWORD TH32CS _ SNAPALL = new WinDef . DWORD ( ( TH32CS _ SNAPHEAPLIST . intValue ( ) | TH32CS _ SNAPPROCESS . intValue ( ) | TH32CS _ SNAPTHREAD . intValue ( ) | TH32CS _ SNAPMODULE . intValue ( ) ) ) ; 
 + 
 + / * * 
 + * Includes all processes and threads in the system , plus the heaps and modules of the process specified in th32ProcessID . 
 + * / 
 + WinDef . DWORD TH32CS _ SNAPALL = new WinDef . DWORD ( ( TH32CS _ SNAPHEAPLIST . intValue ( ) | 
 + TH32CS _ SNAPPROCESS . intValue ( ) | TH32CS _ SNAPTHREAD . intValue ( ) | TH32CS _ SNAPMODULE . intValue ( ) ) ) ; 
 + 
 + / * * 
 + * Indicates that the snapshot handle is to be inheritable . 
 + * / 
 WinDef . DWORD TH32CS _ INHERIT = new WinDef . DWORD ( 0x80000000 ) ; 
 
 + / * * 
 + * Describes an entry from a list of the processes residing in the system address space when a snapshot was taken . 
 + * / 
 public static class PROCESSENTRY32W extends Structure { 
 
 public static class ByReference extends PROCESSENTRY32W implements Structure . ByReference { 
 @ @ - 44 , 15 + 82 , 58 @ @ public interface Tlhelp32 extends StdCallLibrary { 
 read ( ) ; 
 } 
 
 + / * * 
 + * The size of the structure , in bytes . Before calling the Process32First function , set this member to 
 + * sizeof ( PROCESSENTRY32 ) . If you do not initialize dwSize , Process32First fails . 
 + * / 
 public WinDef . DWORD dwSize ; 
 + 
 + / * * 
 + * This member is no longer used and is always set to zero . 
 + * / 
 public WinDef . DWORD cntUsage ; 
 + 
 + / * * 
 + * The process identifier . 
 + * / 
 public WinDef . DWORD th32ProcessID ; 
 + 
 + / * * 
 + * This member is no longer used and is always set to zero . 
 + * / 
 public BaseTSD . ULONG _ PTR th32DefaultHeapID ; 
 + 
 + / * * 
 + * This member is no longer used and is always set to zero . 
 + * / 
 public WinDef . DWORD th32ModuleID ; 
 + 
 + / * * 
 + * The number of execution threads started by the process . 
 + * / 
 public WinDef . DWORD cntThreads ; 
 + 
 + / * * 
 + * The identifier of the process that created this process ( its parent process ) . 
 + * / 
 public WinDef . DWORD th32ParentProcessID ; 
 + 
 + / * * 
 + * The base priority of any threads created by this process . 
 + * / 
 public WinDef . LONG pcPriClassBase ; 
 + 
 + / * * 
 + * This member is no longer used , and is always set to zero . 
 + * / 
 public WinDef . DWORD dwFlags ; 
 + 
 + / * * 
 + * The name of the executable file for the process . To retrieve the full path to the executable file , call the 
 + * Module32First function and check the szExePath member of the MODULEENTRY32 structure that is returned . 
 + * However , if the calling process is a 32 - bit process , you must call the QueryFullProcessImageName function to 
 + * retrieve the full path of the executable file for a 64 - bit process . 
 + * / 
 public char [ ] szExeFile = new char [ WinDef . MAX _ PATH ] ; 
 } 
 } 
 diff - - git a / contrib / platform / src / com / sun / jna / platform / win32 / VerRsrc . java b / contrib / platform / src / com / sun / jna / platform / win32 / VerRsrc . java 
 index 0bc14c6 . . e0bcf5f 100644 
 - - - a / contrib / platform / src / com / sun / jna / platform / win32 / VerRsrc . java 
 + + + b / contrib / platform / src / com / sun / jna / platform / win32 / VerRsrc . java 
 @ @ - 14 , 8 + 14 , 14 @ @ import com . sun . jna . Pointer ; 
 import com . sun . jna . Structure ; 
 import com . sun . jna . win32 . StdCallLibrary ; 
 
 + / * * 
 + * Interface for the VerRsrc . h header file . 
 + * / 
 public interface VerRsrc extends StdCallLibrary { 
 
 + / * * 
 + * Contains version information for a file . This information is language and code page independent . 
 + * / 
 public static class VS _ FIXEDFILEINFO extends Structure { 
 
 public static class ByReference extends VS _ FIXEDFILEINFO implements Structure . ByReference { 
 @ @ - 35 , 18 + 41 , 77 @ @ public interface VerRsrc extends StdCallLibrary { 
 read ( ) ; 
 } 
 
 - public int Signature ; 
 - public int StrucVersion ; 
 - public int FileVersionMS ; 
 - public int FileVersionLS ; 
 - public int ProductVersionMS ; 
 - public int ProductVersionLS ; 
 - public int FileFlagsMask ; 
 - public int FileFlags ; 
 - public int FileOS ; 
 - public int FileType ; 
 - public int FileSubtype ; 
 - public int FileDateMS ; 
 - public int FileDateLS ; 
 + / * * 
 + * Contains the value 0xFEEF04BD . This is used with the szKey member of the VS _ VERSIONINFO structure when 
 + * searching a file for the VS _ FIXEDFILEINFO structure . 
 + * / 
 + public WinDef . DWORD dwSignature ; 
 + 
 + / * * 
 + * The binary version number of this structure . The high - order word of this member contains the major version 
 + * number , and the low - order word contains the minor version number . 
 + * / 
 + public WinDef . DWORD dwStrucVersion ; 
 + 
 + / * * 
 + * The most significant 32 bits of the file ' s binary version number . This member is used with dwFileVersionLS to 
 + * form a 64 - bit value used for numeric comparisons . 
 + * / 
 + public WinDef . DWORD dwFileVersionMS ; 
 + 
 + / * * 
 + * The least significant 32 bits of the file ' s binary version number . This member is used with dwFileVersionMS 
 + * to form a 64 - bit value used for numeric comparisons . 
 + * / 
 + public WinDef . DWORD dwFileVersionLS ; 
 + 
 + / * * 
 + * The most significant 32 bits of the binary version number of the product with which this file was 
 + * distributed . This member is used with dwProductVersionLS to form a 64 - bit value used for numeric comparisons . 
 + * / 
 + public WinDef . DWORD dwProductVersionMS ; 
 + 
 + / * * 
 + * The least significant 32 bits of the binary version number of the product with which this file was 
 + * distributed . This member is used with dwProductVersionMS to form a 64 - bit value used for numeric comparisons . 
 + * / 
 + public WinDef . DWORD dwProductVersionLS ; 
 + 
 + / * * 
 + * Contains a bitmask that specifies the valid bits in dwFileFlags . A bit is valid only if it was defined when 
 + * the file was created . 
 + * / 
 + public WinDef . DWORD dwFileFlagsMask ; 
 + 
 + / * * 
 + * Contains a bitmask that specifies the Boolean attributes of the file . This member can include one or more of 
 + * the following values . 
 + * / 
 + public WinDef . DWORD dwFileFlags ; 
 + 
 + / * * 
 + * The operating system for which this file was designed . 
 + * / 
 + public WinDef . DWORD dwFileOS ; 
 + 
 + / * * 
 + * The general type of file . 
 + * / 
 + public WinDef . DWORD dwFileType ; 
 + 
 + / * * 
 + * The function of the file . The possible values depend on the value of dwFileType . 
 + * / 
 + public WinDef . DWORD dwFileSubtype ; 
 + 
 + / * * 
 + * The most significant 32 bits of the file ' s 64 - bit binary creation date and time stamp . 
 + * / 
 + public WinDef . DWORD dwFileDateMS ; 
 + 
 + / * * 
 + * The least significant 32 bits of the file ' s 64 - bit binary creation date and time stamp . 
 + * / 
 + public WinDef . DWORD dwFileDateLS ; 
 } 
 } 
 diff - - git a / contrib / platform / src / com / sun / jna / platform / win32 / Winioctl . java b / contrib / platform / src / com / sun / jna / platform / win32 / Winioctl . java 
 index f64126d . . 75b1a41 100644 
 - - - a / contrib / platform / src / com / sun / jna / platform / win32 / Winioctl . java 
 + + + b / contrib / platform / src / com / sun / jna / platform / win32 / Winioctl . java 
 @ @ - 14 , 8 + 14 , 14 @ @ import com . sun . jna . Pointer ; 
 import com . sun . jna . Structure ; 
 import com . sun . jna . win32 . StdCallLibrary ; 
 
 + / * * 
 + * Interface for the Winioctl . h header file . 
 + * / 
 public interface Winioctl extends StdCallLibrary { 
 
 + / * * 
 + * Contains information about a device . This structure is used by the IOCTL _ STORAGE _ GET _ DEVICE _ NUMBER control code . 
 + * / 
 public static class STORAGE _ DEVICE _ NUMBER extends Structure { 
 
 public static class ByReference extends STORAGE _ DEVICE _ NUMBER implements Structure . ByRefere
