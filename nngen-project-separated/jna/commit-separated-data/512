BLEU SCORE: 0.025540496664715903

TEST MSG: remove obsolete comments now that empty Structures are defined as invalid and test for by StructureTest class .
GENERATED MSG: ignore static fields as per twall notes .

TEST DIFF (one line): diff - - git a / test / com / sun / jna / StructureFieldOrderInspectorTest . java b / test / com / sun / jna / StructureFieldOrderInspectorTest . java <nl> index ee973c0 . . 1df38bc 100644 <nl> - - - a / test / com / sun / jna / StructureFieldOrderInspectorTest . java <nl> + + + b / test / com / sun / jna / StructureFieldOrderInspectorTest . java <nl> @ @ - 86 , 61 + 86 , 15 @ @ public class StructureFieldOrderInspectorTest extends TestCase { <nl> } <nl> } <nl> <nl> - private static final class MyStructStaticFieldOnlyStatic extends Structure { <nl> - public static long myStaticField = - 1 ; <nl> - <nl> - @ Override <nl> - protected List getFieldOrder ( ) { <nl> - return Arrays . asList ( ) ; <nl> - } <nl> - } <nl> - / * * <nl> - * / / @ todo Seems this may be a bug . Error below occurs if Structure has no instance field ( and only a static field ) , like : MyStructStaticFieldOnlyStatic . <nl> - java . lang . RuntimeException : Could not instantiate Structure sub type : com . sun . jna . StructureFieldOrderInspectorTest $ MyStructStaticFieldOnlyStatic <nl> - at com . sun . jna . StructureFieldOrderInspector . checkMethodGetFieldOrder ( StructureFieldOrderInspector . java : 146 ) <nl> - at com . sun . jna . StructureFieldOrderInspectorTest . testCheckMethodGetFieldOrderStaticFieldOnlyStatic ( StructureFieldOrderInspectorTest . java : 111 ) <nl> - at sun . reflect . NativeMethodAccessorImpl . invoke0 ( Native Method ) <nl> - at sun . reflect . NativeMethodAccessorImpl . invoke ( NativeMethodAccessorImpl . java : 57 ) <nl> - at sun . reflect . DelegatingMethodAccessorImpl . invoke ( DelegatingMethodAccessorImpl . java : 43 ) <nl> - at com . intellij . junit3 . JUnit3IdeaTestRunner . doRun ( JUnit3IdeaTestRunner . java : 139 ) <nl> - at com . intellij . junit3 . JUnit3IdeaTestRunner . startRunnerWithArgs ( JUnit3IdeaTestRunner . java : 52 ) <nl> - at com . intellij . rt . execution . junit . JUnitStarter . prepareStreamsAndStart ( JUnitStarter . java : 195 ) <nl> - at com . intellij . rt . execution . junit . JUnitStarter . main ( JUnitStarter . java : 63 ) <nl> - at sun . reflect . NativeMethodAccessorImpl . invoke0 ( Native Method ) <nl> - at sun . reflect . NativeMethodAccessorImpl . invoke ( NativeMethodAccessorImpl . java : 57 ) <nl> - at com . intellij . rt . execution . application . AppMain . main ( AppMain . java : 120 ) <nl> - Caused by : java . lang . reflect . InvocationTargetException <nl> - at sun . reflect . NativeConstructorAccessorImpl . newInstance0 ( Native Method ) <nl> - at sun . reflect . NativeConstructorAccessorImpl . newInstance ( NativeConstructorAccessorImpl . java : 57 ) <nl> - at sun . reflect . DelegatingConstructorAccessorImpl . newInstance ( DelegatingConstructorAccessorImpl . java : 45 ) <nl> - at java . lang . reflect . Constructor . newInstance ( Constructor . java : 532 ) <nl> - at com . sun . jna . StructureFieldOrderInspector . checkMethodGetFieldOrder ( StructureFieldOrderInspector . java : 131 ) <nl> - . . . 22 more <nl> - Caused by : java . lang . IllegalArgumentException : Structure class com . sun . jna . StructureFieldOrderInspectorTest $ MyStructStaticFieldOnlyStatic has unknown size ( ensure all fields are public ) <nl> - at com . sun . jna . Structure . deriveLayout ( Structure . java : 1108 ) <nl> - at com . sun . jna . Structure . calculateSize ( Structure . java : 908 ) <nl> - at com . sun . jna . Structure . calculateSize ( Structure . java : 896 ) <nl> - at com . sun . jna . Structure . allocateMemory ( Structure . java : 357 ) <nl> - at com . sun . jna . Structure . < init > ( Structure . java : 191 ) <nl> - at com . sun . jna . Structure . < init > ( Structure . java : 180 ) <nl> - at com . sun . jna . Structure . < init > ( Structure . java : 167 ) <nl> - at com . sun . jna . Structure . < init > ( Structure . java : 159 ) <nl> - at com . sun . jna . StructureFieldOrderInspectorTest $ MyStructStaticFieldOnlyStatic . < init > ( StructureFieldOrderInspectorTest . java : 89 ) <nl> - . . . 27 more <nl> - * / <nl> - / * <nl> - public void testCheckMethodGetFieldOrderStaticFieldOnlyStatic ( ) throws Exception { <nl> - StructureFieldOrderInspector . checkMethodGetFieldOrder ( MyStructStaticFieldOnlyStatic . class , null ) ; <nl> - } <nl> - / / * / <nl> <nl> private static final class MyStructStaticField extends Structure { <nl> - public long instanceField ; / / @ todo Why error if at least one instance field does not exist ? see above : MyStructStaticFieldOnlyStatic <nl> + @ SuppressWarnings ( " UnusedDeclaration " ) <nl> + public long instanceField ; <nl> + @ SuppressWarnings ( " UnusedDeclaration " ) <nl> public static long myStaticField = - 1 ; <nl> <nl> @ Override <nl> protected List getFieldOrder ( ) { <nl> - / / return Arrays . asList ( ) ; <nl> return Arrays . asList ( " instanceField " ) ; <nl> } <nl> } <nl> @ @ - 150 , 11 + 104 , 11 @ @ public class StructureFieldOrderInspectorTest extends TestCase { <nl> <nl> <nl> private static class MyStructSuper extends Structure { <nl> + @ SuppressWarnings ( " UnusedDeclaration " ) <nl> public long instanceField ; <nl> <nl> @ Override <nl> protected List getFieldOrder ( ) { <nl> - / / return Arrays . asList ( ) ; <nl> return Arrays . asList ( " instanceField " ) ; <nl> } <nl> }
NEAREST DIFF (one line): diff - - git a / contrib / platform / test / com / sun / jna / platform / StructureFieldOrderTest . java b / contrib / platform / test / com / sun / jna / platform / StructureFieldOrderTest . java <nl> index 7000845 . . 2b14227 100644 <nl> - - - a / contrib / platform / test / com / sun / jna / platform / StructureFieldOrderTest . java <nl> + + + b / contrib / platform / test / com / sun / jna / platform / StructureFieldOrderTest . java <nl> @ @ - 15 , 6 + 15 , 7 @ @ package com . sun . jna . platform ; <nl> <nl> import com . sun . jna . Platform ; <nl> import com . sun . jna . platform . unix . X11 ; <nl> + import com . sun . jna . platform . win32 . DBT ; <nl> import junit . framework . TestCase ; <nl> <nl> import com . sun . jna . StructureFieldOrderInspector ; <nl> @ @ - 31 , 6 + 32 , 9 @ @ public class StructureFieldOrderTest extends TestCase { <nl> ignoreConstructorError . add ( X11 . class . getName ( ) + " $ " ) ; <nl> } <nl> <nl> + ignoreConstructorError . add ( DBT . DEV _ BROADCAST _ HANDLE . class . getName ( ) ) ; / / manually validated by wolftobias <nl> + ignoreConstructorError . add ( DBT . DEV _ BROADCAST _ PORT . class . getName ( ) ) ; / / manually validated by wolftobias <nl> + <nl> StructureFieldOrderInspector . batchCheckStructureGetFieldOrder ( FileUtils . class , ignoreConstructorError ) ; <nl> } <nl>

TEST DIFF:
diff - - git a / test / com / sun / jna / StructureFieldOrderInspectorTest . java b / test / com / sun / jna / StructureFieldOrderInspectorTest . java 
 index ee973c0 . . 1df38bc 100644 
 - - - a / test / com / sun / jna / StructureFieldOrderInspectorTest . java 
 + + + b / test / com / sun / jna / StructureFieldOrderInspectorTest . java 
 @ @ - 86 , 61 + 86 , 15 @ @ public class StructureFieldOrderInspectorTest extends TestCase { 
 } 
 } 
 
 - private static final class MyStructStaticFieldOnlyStatic extends Structure { 
 - public static long myStaticField = - 1 ; 
 - 
 - @ Override 
 - protected List getFieldOrder ( ) { 
 - return Arrays . asList ( ) ; 
 - } 
 - } 
 - / * * 
 - * / / @ todo Seems this may be a bug . Error below occurs if Structure has no instance field ( and only a static field ) , like : MyStructStaticFieldOnlyStatic . 
 - java . lang . RuntimeException : Could not instantiate Structure sub type : com . sun . jna . StructureFieldOrderInspectorTest $ MyStructStaticFieldOnlyStatic 
 - at com . sun . jna . StructureFieldOrderInspector . checkMethodGetFieldOrder ( StructureFieldOrderInspector . java : 146 ) 
 - at com . sun . jna . StructureFieldOrderInspectorTest . testCheckMethodGetFieldOrderStaticFieldOnlyStatic ( StructureFieldOrderInspectorTest . java : 111 ) 
 - at sun . reflect . NativeMethodAccessorImpl . invoke0 ( Native Method ) 
 - at sun . reflect . NativeMethodAccessorImpl . invoke ( NativeMethodAccessorImpl . java : 57 ) 
 - at sun . reflect . DelegatingMethodAccessorImpl . invoke ( DelegatingMethodAccessorImpl . java : 43 ) 
 - at com . intellij . junit3 . JUnit3IdeaTestRunner . doRun ( JUnit3IdeaTestRunner . java : 139 ) 
 - at com . intellij . junit3 . JUnit3IdeaTestRunner . startRunnerWithArgs ( JUnit3IdeaTestRunner . java : 52 ) 
 - at com . intellij . rt . execution . junit . JUnitStarter . prepareStreamsAndStart ( JUnitStarter . java : 195 ) 
 - at com . intellij . rt . execution . junit . JUnitStarter . main ( JUnitStarter . java : 63 ) 
 - at sun . reflect . NativeMethodAccessorImpl . invoke0 ( Native Method ) 
 - at sun . reflect . NativeMethodAccessorImpl . invoke ( NativeMethodAccessorImpl . java : 57 ) 
 - at com . intellij . rt . execution . application . AppMain . main ( AppMain . java : 120 ) 
 - Caused by : java . lang . reflect . InvocationTargetException 
 - at sun . reflect . NativeConstructorAccessorImpl . newInstance0 ( Native Method ) 
 - at sun . reflect . NativeConstructorAccessorImpl . newInstance ( NativeConstructorAccessorImpl . java : 57 ) 
 - at sun . reflect . DelegatingConstructorAccessorImpl . newInstance ( DelegatingConstructorAccessorImpl . java : 45 ) 
 - at java . lang . reflect . Constructor . newInstance ( Constructor . java : 532 ) 
 - at com . sun . jna . StructureFieldOrderInspector . checkMethodGetFieldOrder ( StructureFieldOrderInspector . java : 131 ) 
 - . . . 22 more 
 - Caused by : java . lang . IllegalArgumentException : Structure class com . sun . jna . StructureFieldOrderInspectorTest $ MyStructStaticFieldOnlyStatic has unknown size ( ensure all fields are public ) 
 - at com . sun . jna . Structure . deriveLayout ( Structure . java : 1108 ) 
 - at com . sun . jna . Structure . calculateSize ( Structure . java : 908 ) 
 - at com . sun . jna . Structure . calculateSize ( Structure . java : 896 ) 
 - at com . sun . jna . Structure . allocateMemory ( Structure . java : 357 ) 
 - at com . sun . jna . Structure . < init > ( Structure . java : 191 ) 
 - at com . sun . jna . Structure . < init > ( Structure . java : 180 ) 
 - at com . sun . jna . Structure . < init > ( Structure . java : 167 ) 
 - at com . sun . jna . Structure . < init > ( Structure . java : 159 ) 
 - at com . sun . jna . StructureFieldOrderInspectorTest $ MyStructStaticFieldOnlyStatic . < init > ( StructureFieldOrderInspectorTest . java : 89 ) 
 - . . . 27 more 
 - * / 
 - / * 
 - public void testCheckMethodGetFieldOrderStaticFieldOnlyStatic ( ) throws Exception { 
 - StructureFieldOrderInspector . checkMethodGetFieldOrder ( MyStructStaticFieldOnlyStatic . class , null ) ; 
 - } 
 - / / * / 
 
 private static final class MyStructStaticField extends Structure { 
 - public long instanceField ; / / @ todo Why error if at least one instance field does not exist ? see above : MyStructStaticFieldOnlyStatic 
 + @ SuppressWarnings ( " UnusedDeclaration " ) 
 + public long instanceField ; 
 + @ SuppressWarnings ( " UnusedDeclaration " ) 
 public static long myStaticField = - 1 ; 
 
 @ Override 
 protected List getFieldOrder ( ) { 
 - / / return Arrays . asList ( ) ; 
 return Arrays . asList ( " instanceField " ) ; 
 } 
 } 
 @ @ - 150 , 11 + 104 , 11 @ @ public class StructureFieldOrderInspectorTest extends TestCase { 
 
 
 private static class MyStructSuper extends Structure { 
 + @ SuppressWarnings ( " UnusedDeclaration " ) 
 public long instanceField ; 
 
 @ Override 
 protected List getFieldOrder ( ) { 
 - / / return Arrays . asList ( ) ; 
 return Arrays . asList ( " instanceField " ) ; 
 } 
 }

NEAREST DIFF:
diff - - git a / contrib / platform / test / com / sun / jna / platform / StructureFieldOrderTest . java b / contrib / platform / test / com / sun / jna / platform / StructureFieldOrderTest . java 
 index 7000845 . . 2b14227 100644 
 - - - a / contrib / platform / test / com / sun / jna / platform / StructureFieldOrderTest . java 
 + + + b / contrib / platform / test / com / sun / jna / platform / StructureFieldOrderTest . java 
 @ @ - 15 , 6 + 15 , 7 @ @ package com . sun . jna . platform ; 
 
 import com . sun . jna . Platform ; 
 import com . sun . jna . platform . unix . X11 ; 
 + import com . sun . jna . platform . win32 . DBT ; 
 import junit . framework . TestCase ; 
 
 import com . sun . jna . StructureFieldOrderInspector ; 
 @ @ - 31 , 6 + 32 , 9 @ @ public class StructureFieldOrderTest extends TestCase { 
 ignoreConstructorError . add ( X11 . class . getName ( ) + " $ " ) ; 
 } 
 
 + ignoreConstructorError . add ( DBT . DEV _ BROADCAST _ HANDLE . class . getName ( ) ) ; / / manually validated by wolftobias 
 + ignoreConstructorError . add ( DBT . DEV _ BROADCAST _ PORT . class . getName ( ) ) ; / / manually validated by wolftobias 
 + 
 StructureFieldOrderInspector . batchCheckStructureGetFieldOrder ( FileUtils . class , ignoreConstructorError ) ; 
 } 

