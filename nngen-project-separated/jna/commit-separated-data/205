BLEU SCORE: 0.019648763141608138

TEST MSG: Added printer attributes and status
GENERATED MSG: Native . loadLibrary can now load . drv files .

TEST DIFF (one line): diff - - git a / CHANGES . md b / CHANGES . md <nl> index 8871e13 . . 654383a 100644 <nl> - - - a / CHANGES . md <nl> + + + b / CHANGES . md <nl> @ @ - 33 , 6 + 33 , 7 @ @ Features <nl> * [ # 574 ] ( https : / / github . com / java - native - access / jna / pull / 574 ) : Using static final un - modifiable List of field names for structure ( s ) - [ @ lgoldstein ] ( https : / / github . com / lgoldstein ) . <nl> * [ # 577 ] ( https : / / github . com / java - native - access / jna / pull / 577 ) : Apply generic definitions wherever applicable - [ @ lgoldstein ] ( https : / / github . com / lgoldstein ) . <nl> * [ # 569 ] ( https : / / github . com / java - native - access / jna / pull / 569 ) : Added ` com . sun . jna . platform . win32 . Winspool . PRINTER _ INFO _ 2 ` support . Added GetPrinter and ClosePrinter functions in ` com . sun . jna . platform . win32 . Winspool ` - [ @ IvanRF ] ( https : / / github . com / IvanRF ) . <nl> + * [ # 583 ] ( https : / / github . com / java - native - access / jna / pull / 583 ) : Added printer attributes and status - [ @ IvanRF ] ( https : / / github . com / IvanRF ) . <nl> <nl> Bug Fixes <nl> - - - - - - - - - <nl> diff - - git a / contrib / platform / src / com / sun / jna / platform / win32 / Winspool . java b / contrib / platform / src / com / sun / jna / platform / win32 / Winspool . java <nl> index 0acbbb3 . . bb92918 100644 <nl> - - - a / contrib / platform / src / com / sun / jna / platform / win32 / Winspool . java <nl> + + + b / contrib / platform / src / com / sun / jna / platform / win32 / Winspool . java <nl> @ @ - 40 , 60 + 40 , 108 @ @ public interface Winspool extends StdCallLibrary { <nl> <nl> Winspool INSTANCE = Native . loadLibrary ( " Winspool . drv " , Winspool . class , W32APIOptions . DEFAULT _ OPTIONS ) ; <nl> <nl> - int CCHDEVICENAME = 32 ; <nl> - <nl> - int PRINTER _ CHANGE _ ADD _ PRINTER = 0x00000001 ; <nl> - int PRINTER _ CHANGE _ SET _ PRINTER = 0x00000002 ; <nl> - int PRINTER _ CHANGE _ DELETE _ PRINTER = 0x00000004 ; <nl> - int PRINTER _ CHANGE _ FAILED _ CONNECTION _ PRINTER = 0x00000008 ; <nl> - int PRINTER _ CHANGE _ PRINTER = 0x000000FF ; <nl> - int PRINTER _ CHANGE _ ADD _ JOB = 0x00000100 ; <nl> - int PRINTER _ CHANGE _ SET _ JOB = 0x00000200 ; <nl> - int PRINTER _ CHANGE _ DELETE _ JOB = 0x00000400 ; <nl> - int PRINTER _ CHANGE _ WRITE _ JOB = 0x00000800 ; <nl> - int PRINTER _ CHANGE _ JOB = 0x0000FF00 ; <nl> - int PRINTER _ CHANGE _ ADD _ FORM = 0x00010000 ; <nl> - int PRINTER _ CHANGE _ SET _ FORM = 0x00020000 ; <nl> - int PRINTER _ CHANGE _ DELETE _ FORM = 0x00040000 ; <nl> - int PRINTER _ CHANGE _ FORM = 0x00070000 ; <nl> - int PRINTER _ CHANGE _ ADD _ PORT = 0x00100000 ; <nl> - int PRINTER _ CHANGE _ CONFIGURE _ PORT = 0x00200000 ; <nl> - int PRINTER _ CHANGE _ DELETE _ PORT = 0x00400000 ; <nl> - int PRINTER _ CHANGE _ PORT = 0x00700000 ; <nl> - int PRINTER _ CHANGE _ ADD _ PRINT _ PROCESSOR = 0x01000000 ; <nl> - int PRINTER _ CHANGE _ DELETE _ PRINT _ PROCESSOR = 0x04000000 ; <nl> - int PRINTER _ CHANGE _ PRINT _ PROCESSOR = 0x07000000 ; <nl> - int PRINTER _ CHANGE _ SERVER = 0x08000000 ; <nl> - int PRINTER _ CHANGE _ ADD _ PRINTER _ DRIVER = 0x10000000 ; <nl> - int PRINTER _ CHANGE _ SET _ PRINTER _ DRIVER = 0x20000000 ; <nl> - int PRINTER _ CHANGE _ DELETE _ PRINTER _ DRIVER = 0x40000000 ; <nl> - int PRINTER _ CHANGE _ PRINTER _ DRIVER = 0x70000000 ; <nl> - int PRINTER _ CHANGE _ TIMEOUT = 0x80000000 ; <nl> - int PRINTER _ CHANGE _ ALL _ WIN7 = 0x7F77FFFF ; <nl> - int PRINTER _ CHANGE _ ALL = 0x7777FFFF ; <nl> - <nl> - int PRINTER _ ENUM _ DEFAULT = 0x00000001 ; <nl> - int PRINTER _ ENUM _ LOCAL = 0x00000002 ; <nl> - int PRINTER _ ENUM _ CONNECTIONS = 0x00000004 ; <nl> - int PRINTER _ ENUM _ FAVORITE = 0x00000004 ; <nl> - int PRINTER _ ENUM _ NAME = 0x00000008 ; <nl> - int PRINTER _ ENUM _ REMOTE = 0x00000010 ; <nl> - int PRINTER _ ENUM _ SHARED = 0x00000020 ; <nl> - int PRINTER _ ENUM _ NETWORK = 0x00000040 ; <nl> - <nl> - int PRINTER _ ENUM _ EXPAND = 0x00004000 ; <nl> - int PRINTER _ ENUM _ CONTAINER = 0x00008000 ; <nl> - <nl> - int PRINTER _ ENUM _ ICONMASK = 0x00ff0000 ; <nl> - int PRINTER _ ENUM _ ICON1 = 0x00010000 ; <nl> - int PRINTER _ ENUM _ ICON2 = 0x00020000 ; <nl> - int PRINTER _ ENUM _ ICON3 = 0x00040000 ; <nl> - int PRINTER _ ENUM _ ICON4 = 0x00080000 ; <nl> - int PRINTER _ ENUM _ ICON5 = 0x00100000 ; <nl> - int PRINTER _ ENUM _ ICON6 = 0x00200000 ; <nl> - int PRINTER _ ENUM _ ICON7 = 0x00400000 ; <nl> - int PRINTER _ ENUM _ ICON8 = 0x00800000 ; <nl> - int PRINTER _ ENUM _ HIDE = 0x01000000 ; <nl> + 	 public static final int CCHDEVICENAME = 32 ; <nl> + <nl> + 	 public static final int PRINTER _ STATUS _ PAUSED = 0x00000001 ; <nl> + 	 public static final int PRINTER _ STATUS _ ERROR = 0x00000002 ; <nl> + 	 public static final int PRINTER _ STATUS _ PENDING _ DELETION = 0x00000004 ; <nl> + 	 public static final int PRINTER _ STATUS _ PAPER _ JAM = 0x00000008 ; <nl> + 	 public static final int PRINTER _ STATUS _ PAPER _ OUT = 0x00000010 ; <nl> + 	 public static final int PRINTER _ STATUS _ MANUAL _ FEED = 0x00000020 ; <nl> + 	 public static final int PRINTER _ STATUS _ PAPER _ PROBLEM = 0x00000040 ; <nl> + 	 public static final int PRINTER _ STATUS _ OFFLINE = 0x00000080 ; <nl> + 	 public static final int PRINTER _ STATUS _ IO _ ACTIVE = 0x00000100 ; <nl> + 	 public static final int PRINTER _ STATUS _ BUSY = 0x00000200 ; <nl> + 	 public static final int PRINTER _ STATUS _ PRINTING = 0x00000400 ; <nl> + 	 public static final int PRINTER _ STATUS _ OUTPUT _ BIN _ FULL = 0x00000800 ; <nl> + 	 public static final int PRINTER _ STATUS _ NOT _ AVAILABLE = 0x00001000 ; <nl> + 	 public static final int PRINTER _ STATUS _ WAITING = 0x00002000 ; <nl> + 	 public static final int PRINTER _ STATUS _ PROCESSING = 0x00004000 ; <nl> + 	 public static final int PRINTER _ STATUS _ INITIALIZING = 0x00008000 ; <nl> + 	 public static final int PRINTER _ STATUS _ WARMING _ UP = 0x00010000 ; <nl> + 	 public static final int PRINTER _ STATUS _ TONER _ LOW = 0x00020000 ; <nl> + 	 public static final int PRINTER _ STATUS _ NO _ TONER = 0x00040000 ; <nl> + 	 public static final int PRINTER _ STATUS _ PAGE _ PUNT = 0x00080000 ; <nl> + 	 public static final int PRINTER _ STATUS _ USER _ INTERVENTION = 0x00100000 ; <nl> + 	 public static final int PRINTER _ STATUS _ OUT _ OF _ MEMORY = 0x00200000 ; <nl> + 	 public static final int PRINTER _ STATUS _ DOOR _ OPEN = 0x00400000 ; <nl> + 	 public static final int PRINTER _ STATUS _ SERVER _ UNKNOWN = 0x00800000 ; <nl> + 	 public static final int PRINTER _ STATUS _ POWER _ SAVE = 0x01000000 ; <nl> + <nl> + 	 public static final int PRINTER _ ATTRIBUTE _ QUEUED = 0x00000001 ; <nl> + 	 public static final int PRINTER _ ATTRIBUTE _ DIRECT = 0x00000002 ; <nl> + 	 public static final int PRINTER _ ATTRIBUTE _ DEFAULT = 0x00000004 ; <nl> + 	 public static final int PRINTER _ ATTRIBUTE _ SHARED = 0x00000008 ; <nl> + 	 public static final int PRINTER _ ATTRIBUTE _ NETWORK = 0x00000010 ; <nl> + 	 public static final int PRINTER _ ATTRIBUTE _ HIDDEN = 0x00000020 ; <nl> + 	 public static final int PRINTER _ ATTRIBUTE _ LOCAL = 0x00000040 ; <nl> + 	 public static final int PRINTER _ ATTRIBUTE _ ENABLE _ DEVQ = 0x00000080 ; <nl> + 	 public static final int PRINTER _ ATTRIBUTE _ KEEPPRINTEDJOBS = 0x00000100 ; <nl> + 	 public static final int PRINTER _ ATTRIBUTE _ DO _ COMPLETE _ FIRST = 0x00000200 ; <nl> + 	 public static final int PRINTER _ ATTRIBUTE _ WORK _ OFFLINE = 0x00000400 ; <nl> + 	 public static final int PRINTER _ ATTRIBUTE _ ENABLE _ BIDI = 0x00000800 ; <nl> + 	 public static final int PRINTER _ ATTRIBUTE _ RAW _ ONLY = 0x00001000 ; <nl> + 	 public static final int PRINTER _ ATTRIBUTE _ PUBLISHED = 0x00002000 ; <nl> + 	 public static final int PRINTER _ ATTRIBUTE _ FAX = 0x00004000 ; <nl> + 	 public static final int PRINTER _ ATTRIBUTE _ TS = 0x00008000 ; <nl> + 	 public static final int PRINTER _ ATTRIBUTE _ PUSHED _ USER = 0x00020000 ; <nl> + 	 public static final int PRINTER _ ATTRIBUTE _ PUSHED _ MACHINE = 0x00040000 ; <nl> + 	 public static final int PRINTER _ ATTRIBUTE _ MACHINE = 0x00080000 ; <nl> + 	 public static final int PRINTER _ ATTRIBUTE _ FRIENDLY _ NAME = 0x00100000 ; <nl> + 	 public static final int PRINTER _ ATTRIBUTE _ TS _ GENERIC _ DRIVER = 0x00200000 ; <nl> + <nl> + 	 public static final int PRINTER _ CHANGE _ ADD _ PRINTER = 0x00000001 ; <nl> + 	 public static final int PRINTER _ CHANGE _ SET _ PRINTER = 0x00000002 ; <nl> + 	 public static final int PRINTER _ CHANGE _ DELETE _ PRINTER = 0x00000004 ; <nl> + 	 public static final int PRINTER _ CHANGE _ FAILED _ CONNECTION _ PRINTER = 0x00000008 ; <nl> + 	 public static final int PRINTER _ CHANGE _ PRINTER = 0x000000FF ; <nl> + 	 public static final int PRINTER _ CHANGE _ ADD _ JOB = 0x00000100 ; <nl> + 	 public static final int PRINTER _ CHANGE _ SET _ JOB = 0x00000200 ; <nl> + 	 public static final int PRINTER _ CHANGE _ DELETE _ JOB = 0x00000400 ; <nl> + 	 public static final int PRINTER _ CHANGE _ WRITE _ JOB = 0x00000800 ; <nl> + 	 public static final int PRINTER _ CHANGE _ JOB = 0x0000FF00 ; <nl> + 	 public static final int PRINTER _ CHANGE _ ADD _ FORM = 0x00010000 ; <nl> + 	 public static final int PRINTER _ CHANGE _ SET _ FORM = 0x00020000 ; <nl> + 	 public static final int PRINTER _ CHANGE _ DELETE _ FORM = 0x00040000 ; <nl> + 	 public static final int PRINTER _ CHANGE _ FORM = 0x00070000 ; <nl> + 	 public static final int PRINTER _ CHANGE _ ADD _ PORT = 0x00100000 ; <nl> + 	 public static final int PRINTER _ CHANGE _ CONFIGURE _ PORT = 0x00200000 ; <nl> + 	 public static final int PRINTER _ CHANGE _ DELETE _ PORT = 0x00400000 ; <nl> + 	 public static final int PRINTER _ CHANGE _ PORT = 0x00700000 ; <nl> + 	 public static final int PRINTER _ CHANGE _ ADD _ PRINT _ PROCESSOR = 0x01000000 ; <nl> + 	 public static final int PRINTER _ CHANGE _ DELETE _ PRINT _ PROCESSOR = 0x04000000 ; <nl> + 	 public static final int PRINTER _ CHANGE _ PRINT _ PROCESSOR = 0x07000000 ; <nl> + 	 public static final int PRINTER _ CHANGE _ SERVER = 0x08000000 ; <nl> + 	 public static final int PRINTER _ CHANGE _ ADD _ PRINTER _ DRIVER = 0x10000000 ; <nl> + 	 public static final int PRINTER _ CHANGE _ SET _ PRINTER _ DRIVER = 0x20000000 ; <nl> + 	 public static final int PRINTER _ CHANGE _ DELETE _ PRINTER _ DRIVER = 0x40000000 ; <nl> + 	 public static final int PRINTER _ CHANGE _ PRINTER _ DRIVER = 0x70000000 ; <nl> + 	 public static final int PRINTER _ CHANGE _ TIMEOUT = 0x80000000 ; <nl> + 	 public static final int PRINTER _ CHANGE _ ALL _ WIN7 = 0x7F77FFFF ; <nl> + 	 public static final int PRINTER _ CHANGE _ ALL = 0x7777FFFF ; <nl> + <nl> + 	 public static final int PRINTER _ ENUM _ DEFAULT = 0x00000001 ; <nl> + 	 public static final int PRINTER _ ENUM _ LOCAL = 0x00000002 ; <nl> + 	 public static final int PRINTER _ ENUM _ CONNECTIONS = 0x00000004 ; <nl> + 	 public static final int PRINTER _ ENUM _ FAVORITE = 0x00000004 ; <nl> + 	 public static final int PRINTER _ ENUM _ NAME = 0x00000008 ; <nl> + 	 public static final int PRINTER _ ENUM _ REMOTE = 0x00000010 ; <nl> + 	 public static final int PRINTER _ ENUM _ SHARED = 0x00000020 ; <nl> + 	 public static final int PRINTER _ ENUM _ NETWORK = 0x00000040 ; <nl> + <nl> + 	 public static final int PRINTER _ ENUM _ EXPAND = 0x00004000 ; <nl> + 	 public static final int PRINTER _ ENUM _ CONTAINER = 0x00008000 ; <nl> + <nl> + 	 public static final int PRINTER _ ENUM _ ICONMASK = 0x00ff0000 ; <nl> + 	 public static final int PRINTER _ ENUM _ ICON1 = 0x00010000 ; <nl> + 	 public static final int PRINTER _ ENUM _ ICON2 = 0x00020000 ; <nl> + 	 public static final int PRINTER _ ENUM _ ICON3 = 0x00040000 ; <nl> + 	 public static final int PRINTER _ ENUM _ ICON4 = 0x00080000 ; <nl> + 	 public static final int PRINTER _ ENUM _ ICON5 = 0x00100000 ; <nl> + 	 public static final int PRINTER _ ENUM _ ICON6 = 0x00200000 ; <nl> + 	 public static final int PRINTER _ ENUM _ ICON7 = 0x00400000 ; <nl> + 	 public static final int PRINTER _ ENUM _ ICON8 = 0x00800000 ; <nl> + 	 public static final int PRINTER _ ENUM _ HIDE = 0x01000000 ; <nl> <nl> / * * <nl> * The EnumPrinters function enumerates available printers , print servers , <nl> @ @ - 388 , 6 + 436 , 13 @ @ public interface Winspool extends StdCallLibrary { <nl> protected List < String > getFieldOrder ( ) { <nl> return FIELDS ; <nl> } <nl> + <nl> + 	 	 / * * <nl> + 	 	 * Checks if the printer attributes have one of the values PRINTER _ ATTRIBUTE _ XXX . <nl> + 	 	 * / <nl> + 	 	 public boolean hasAttribute ( int value ) { <nl> + 	 	 	 return ( Attributes & value ) = = value ; <nl> + 	 	 } <nl> 	 } <nl> <nl> 	 / * *
NEAREST DIFF (one line): diff - - git a / jnalib / TODO b / jnalib / TODO <nl> index 9e02fd4 . . 6583516 100644 <nl> - - - a / jnalib / TODO <nl> + + + b / jnalib / TODO <nl> @ @ - 100 , 6 + 100 , 11 @ @ <nl> <nl>  <nl> # DONE <nl> + * Make a separate jar file for all OS - specific headers <nl> + Maybe make interfaces per - header file ( winbase , winnt , stdlib , etc ) , <nl> + aggregated per - library ( interface CLibrary extends stdlib , stdio , etc ) <nl> + ( how useful would it really be , or is this just sorting legos ? ) <nl> + o same for windowutils , fileutils , etc . ( not useful ) <nl> * check Structure " final " fields ; should never write back to native memory <nl> * OSX ObjC access ( see rococoa ) <nl> * do Structure . write for any callback args <nl> @ @ - 259 , 11 + 264 , 6 @ @ int findNativeWindow ( Window w ) ; <nl> exception if the value is out of bounds ) . <nl> o when used as struct fields , could allow detection of field order by order <nl> of initialization ( requires all - or - nothing usage , though ) <nl> - * Make a separate jar file for all OS - specific headers <nl> - Maybe make interfaces per - header file ( winbase , winnt , stdlib , etc ) , <nl> - aggregated per - library ( interface CLibrary extends stdlib , stdio , etc ) <nl> - ( how useful would it really be , or is this just sorting legos ? ) <nl> - o same for windowutils , fileutils , etc . ( not useful ) <nl> * StringBuffer / StringBuilder as mutable char * / wchar _ t * argument <nl> NOTE : byte [ ] / char [ ] is probably better ; it ' s trivial to convert to String <nl> and native code can ' t change the size anyway <nl> diff - - git a / jnalib / build . xml b / jnalib / build . xml <nl> index c38c91a . . 59cd9fd 100644 <nl> - - - a / jnalib / build . xml <nl> + + + b / jnalib / build . xml <nl> @ @ - 41 , 7 + 41 , 7 @ @ <nl> < ! - - jnidispatch library release version - - > <nl> < property name = " jni . major " value = " 3 " / > <nl> < property name = " jni . minor " value = " 2 " / > <nl> - < property name = " jni . revision " value = " 1 " / > <nl> + < property name = " jni . revision " value = " 2 " / > <nl> < property name = " jni . build " value = " $ { build . number } " / > <nl> < property name = " jni . version " value = " $ { jni . major } . $ { jni . minor } . $ { jni . revision } " / > <nl> < property name = " jni . md5 " value = " c870290c36c8d3fdf85db7c782febc3f " / > <nl> @ @ - 371 , 6 + 371 , 7 @ @ <nl> < os name = " OpenBSD " / > <nl> < / or > <nl> < / condition > <nl> + <nl> < ! - - Default make program - - > <nl> < property name = " make " value = " make " / > <nl> <nl> diff - - git a / jnalib / dist / darwin . jar b / jnalib / dist / darwin . jar <nl> index aeea274 . . 662ccd7 100644 <nl> Binary files a / jnalib / dist / darwin . jar and b / jnalib / dist / darwin . jar differ <nl> diff - - git a / jnalib / native / Makefile b / jnalib / native / Makefile <nl> index 563570e . . c19be97 100644 <nl> - - - a / jnalib / native / Makefile <nl> + + + b / jnalib / native / Makefile <nl> @ @ - 27 , 7 + 27 , 7 @ @ OS = $ ( shell uname | sed - e ' s / \ ( CYGWIN \ | MINGW32 \ ) . * / win32 / g ' \ <nl> - e ' s / Darwin . * / darwin / g ' \ <nl> - e ' s / Linux . * / linux / g ' ) <nl> <nl> - VERSION = 3 . 2 . 1 # auto - generated by ant <nl> + JNA _ JNI _ VERSION = 3 . 2 . 1 # auto - generated by ant <nl> CHECKSUM = c870290c36c8d3fdf85db7c782febc3f # auto - generated by ant <nl> <nl> JAVA _ INCLUDES = - I " $ ( JAVA _ HOME ) / include " \ <nl> @ @ - 69 , 7 + 69 , 7 @ @ CINCLUDES = $ ( JAVA _ INCLUDES ) - I " $ ( JAVAH ) " - I $ ( FFI _ BUILD ) / include <nl> CDEFINES = - D _ REENTRANT <nl> PCFLAGS = - W - Wall - Wno - unused - Wno - parentheses <nl> CFLAGS = $ ( PCFLAGS ) $ ( CFLAGS _ EXTRA ) $ ( COPT ) $ ( CDEBUG ) $ ( CDEFINES ) $ ( CINCLUDES ) \ <nl> - - DVERSION = ' " $ ( VERSION ) " ' - DCHECKSUM = ' " $ ( CHECKSUM ) " ' <nl> + - DJNA _ JNI _ VERSION = ' " $ ( JNA _ JNI _ VERSION ) " ' - DCHECKSUM = ' " $ ( CHECKSUM ) " ' <nl> LDFLAGS = - o $ @ - shared <nl> ifeq ( $ ( DYNAMIC _ LIBFFI ) , true ) <nl> CFLAGS + = $ ( shell pkg - config - - cflags libffi 2 > / dev / null | | echo ) <nl> @ @ - 192 , 8 + 192 , 8 @ @ endif <nl> PCFLAGS + = $ ( ISYSROOT ) - x objective - c <nl> CDEFINES + = - DTARGET _ RT _ MAC _ CFM = 0 - DFFI _ MMAP _ EXEC _ WRIT <nl> LDFLAGS = $ ( ARCHFLAGS ) - dynamiclib - o $ @ - framework JavaVM \ <nl> - - compatibility _ version $ ( shell echo $ { VERSION } | sed ' s / ^ \ ( [ 0 - 9 ] [ 0 - 9 ] * \ ) . * / \ 1 / g ' ) \ <nl> - - current _ version $ ( VERSION ) \ <nl> + - compatibility _ version $ ( shell echo $ { JNA _ JNI _ VERSION } | sed ' s / ^ \ ( [ 0 - 9 ] [ 0 - 9 ] * \ ) . * / \ 1 / g ' ) \ <nl> + - current _ version $ ( JNA _ JNI _ VERSION ) \ <nl> - mmacosx - version - min = 10 . 3 \ <nl> - install _ name $ { @ F } \ <nl> $ ( SYSLIBROOT ) <nl> @ @ - 270 , 6 + 270 , 6 @ @ clean : <nl> 	 $ ( RM ) - rf $ ( BUILD ) <nl> <nl> version : <nl> - 	 @ echo version = $ ( VERSION ) <nl> + 	 @ echo version = $ ( JNA _ JNI _ VERSION ) <nl> <nl> # EOF <nl> diff - - git a / jnalib / native / dispatch . c b / jnalib / native / dispatch . c <nl> index 0a2793f . . 40c3753 100644 <nl> - - - a / jnalib / native / dispatch . c <nl> + + + b / jnalib / native / dispatch . c <nl> @ @ - 2268 , 10 + 2268 , 10 @ @ Java _ com _ sun _ jna _ Native _ setLastError ( JNIEnv * env , jclass classp , jint code ) { <nl> <nl> JNIEXPORT jstring JNICALL <nl> Java _ com _ sun _ jna _ Native _ getNativeVersion ( JNIEnv * env , jclass classp ) { <nl> - # ifndef VERSION <nl> - # define VERSION " undefined " <nl> + # ifndef JNA _ JNI _ VERSION <nl> + # define JNA _ JNI _ VERSION " undefined " <nl> # endif <nl> - return newJavaString ( env , VERSION , JNI _ FALSE ) ; <nl> + return newJavaString ( env , JNA _ JNI _ VERSION , JNI _ FALSE ) ; <nl> } <nl> <nl> JNIEXPORT jstring JNICALL <nl> diff - - git a / jnalib / pom . xml b / jnalib / pom . xml <nl> index c74db2f . . 4a7f41f 100644 <nl> - - - a / jnalib / pom . xml <nl> + + + b / jnalib / pom . xml <nl> @ @ - 6 , 7 + 6 , 7 @ @ <nl> < groupId > net . java . dev . jna < / groupId > <nl> < artifactId > jna < / artifactId > <nl> < packaging > jar < / packaging > <nl> - < version > 3 . 2 . 5 < / version > <nl> + < version > 3 . 2 . 6 < / version > <nl> < name > Java Native Access < / name > <nl> <nl> < distributionManagement >

TEST DIFF:
diff - - git a / CHANGES . md b / CHANGES . md 
 index 8871e13 . . 654383a 100644 
 - - - a / CHANGES . md 
 + + + b / CHANGES . md 
 @ @ - 33 , 6 + 33 , 7 @ @ Features 
 * [ # 574 ] ( https : / / github . com / java - native - access / jna / pull / 574 ) : Using static final un - modifiable List of field names for structure ( s ) - [ @ lgoldstein ] ( https : / / github . com / lgoldstein ) . 
 * [ # 577 ] ( https : / / github . com / java - native - access / jna / pull / 577 ) : Apply generic definitions wherever applicable - [ @ lgoldstein ] ( https : / / github . com / lgoldstein ) . 
 * [ # 569 ] ( https : / / github . com / java - native - access / jna / pull / 569 ) : Added ` com . sun . jna . platform . win32 . Winspool . PRINTER _ INFO _ 2 ` support . Added GetPrinter and ClosePrinter functions in ` com . sun . jna . platform . win32 . Winspool ` - [ @ IvanRF ] ( https : / / github . com / IvanRF ) . 
 + * [ # 583 ] ( https : / / github . com / java - native - access / jna / pull / 583 ) : Added printer attributes and status - [ @ IvanRF ] ( https : / / github . com / IvanRF ) . 
 
 Bug Fixes 
 - - - - - - - - - 
 diff - - git a / contrib / platform / src / com / sun / jna / platform / win32 / Winspool . java b / contrib / platform / src / com / sun / jna / platform / win32 / Winspool . java 
 index 0acbbb3 . . bb92918 100644 
 - - - a / contrib / platform / src / com / sun / jna / platform / win32 / Winspool . java 
 + + + b / contrib / platform / src / com / sun / jna / platform / win32 / Winspool . java 
 @ @ - 40 , 60 + 40 , 108 @ @ public interface Winspool extends StdCallLibrary { 
 
 Winspool INSTANCE = Native . loadLibrary ( " Winspool . drv " , Winspool . class , W32APIOptions . DEFAULT _ OPTIONS ) ; 
 
 - int CCHDEVICENAME = 32 ; 
 - 
 - int PRINTER _ CHANGE _ ADD _ PRINTER = 0x00000001 ; 
 - int PRINTER _ CHANGE _ SET _ PRINTER = 0x00000002 ; 
 - int PRINTER _ CHANGE _ DELETE _ PRINTER = 0x00000004 ; 
 - int PRINTER _ CHANGE _ FAILED _ CONNECTION _ PRINTER = 0x00000008 ; 
 - int PRINTER _ CHANGE _ PRINTER = 0x000000FF ; 
 - int PRINTER _ CHANGE _ ADD _ JOB = 0x00000100 ; 
 - int PRINTER _ CHANGE _ SET _ JOB = 0x00000200 ; 
 - int PRINTER _ CHANGE _ DELETE _ JOB = 0x00000400 ; 
 - int PRINTER _ CHANGE _ WRITE _ JOB = 0x00000800 ; 
 - int PRINTER _ CHANGE _ JOB = 0x0000FF00 ; 
 - int PRINTER _ CHANGE _ ADD _ FORM = 0x00010000 ; 
 - int PRINTER _ CHANGE _ SET _ FORM = 0x00020000 ; 
 - int PRINTER _ CHANGE _ DELETE _ FORM = 0x00040000 ; 
 - int PRINTER _ CHANGE _ FORM = 0x00070000 ; 
 - int PRINTER _ CHANGE _ ADD _ PORT = 0x00100000 ; 
 - int PRINTER _ CHANGE _ CONFIGURE _ PORT = 0x00200000 ; 
 - int PRINTER _ CHANGE _ DELETE _ PORT = 0x00400000 ; 
 - int PRINTER _ CHANGE _ PORT = 0x00700000 ; 
 - int PRINTER _ CHANGE _ ADD _ PRINT _ PROCESSOR = 0x01000000 ; 
 - int PRINTER _ CHANGE _ DELETE _ PRINT _ PROCESSOR = 0x04000000 ; 
 - int PRINTER _ CHANGE _ PRINT _ PROCESSOR = 0x07000000 ; 
 - int PRINTER _ CHANGE _ SERVER = 0x08000000 ; 
 - int PRINTER _ CHANGE _ ADD _ PRINTER _ DRIVER = 0x10000000 ; 
 - int PRINTER _ CHANGE _ SET _ PRINTER _ DRIVER = 0x20000000 ; 
 - int PRINTER _ CHANGE _ DELETE _ PRINTER _ DRIVER = 0x40000000 ; 
 - int PRINTER _ CHANGE _ PRINTER _ DRIVER = 0x70000000 ; 
 - int PRINTER _ CHANGE _ TIMEOUT = 0x80000000 ; 
 - int PRINTER _ CHANGE _ ALL _ WIN7 = 0x7F77FFFF ; 
 - int PRINTER _ CHANGE _ ALL = 0x7777FFFF ; 
 - 
 - int PRINTER _ ENUM _ DEFAULT = 0x00000001 ; 
 - int PRINTER _ ENUM _ LOCAL = 0x00000002 ; 
 - int PRINTER _ ENUM _ CONNECTIONS = 0x00000004 ; 
 - int PRINTER _ ENUM _ FAVORITE = 0x00000004 ; 
 - int PRINTER _ ENUM _ NAME = 0x00000008 ; 
 - int PRINTER _ ENUM _ REMOTE = 0x00000010 ; 
 - int PRINTER _ ENUM _ SHARED = 0x00000020 ; 
 - int PRINTER _ ENUM _ NETWORK = 0x00000040 ; 
 - 
 - int PRINTER _ ENUM _ EXPAND = 0x00004000 ; 
 - int PRINTER _ ENUM _ CONTAINER = 0x00008000 ; 
 - 
 - int PRINTER _ ENUM _ ICONMASK = 0x00ff0000 ; 
 - int PRINTER _ ENUM _ ICON1 = 0x00010000 ; 
 - int PRINTER _ ENUM _ ICON2 = 0x00020000 ; 
 - int PRINTER _ ENUM _ ICON3 = 0x00040000 ; 
 - int PRINTER _ ENUM _ ICON4 = 0x00080000 ; 
 - int PRINTER _ ENUM _ ICON5 = 0x00100000 ; 
 - int PRINTER _ ENUM _ ICON6 = 0x00200000 ; 
 - int PRINTER _ ENUM _ ICON7 = 0x00400000 ; 
 - int PRINTER _ ENUM _ ICON8 = 0x00800000 ; 
 - int PRINTER _ ENUM _ HIDE = 0x01000000 ; 
 + 	 public static final int CCHDEVICENAME = 32 ; 
 + 
 + 	 public static final int PRINTER _ STATUS _ PAUSED = 0x00000001 ; 
 + 	 public static final int PRINTER _ STATUS _ ERROR = 0x00000002 ; 
 + 	 public static final int PRINTER _ STATUS _ PENDING _ DELETION = 0x00000004 ; 
 + 	 public static final int PRINTER _ STATUS _ PAPER _ JAM = 0x00000008 ; 
 + 	 public static final int PRINTER _ STATUS _ PAPER _ OUT = 0x00000010 ; 
 + 	 public static final int PRINTER _ STATUS _ MANUAL _ FEED = 0x00000020 ; 
 + 	 public static final int PRINTER _ STATUS _ PAPER _ PROBLEM = 0x00000040 ; 
 + 	 public static final int PRINTER _ STATUS _ OFFLINE = 0x00000080 ; 
 + 	 public static final int PRINTER _ STATUS _ IO _ ACTIVE = 0x00000100 ; 
 + 	 public static final int PRINTER _ STATUS _ BUSY = 0x00000200 ; 
 + 	 public static final int PRINTER _ STATUS _ PRINTING = 0x00000400 ; 
 + 	 public static final int PRINTER _ STATUS _ OUTPUT _ BIN _ FULL = 0x00000800 ; 
 + 	 public static final int PRINTER _ STATUS _ NOT _ AVAILABLE = 0x00001000 ; 
 + 	 public static final int PRINTER _ STATUS _ WAITING = 0x00002000 ; 
 + 	 public static final int PRINTER _ STATUS _ PROCESSING = 0x00004000 ; 
 + 	 public static final int PRINTER _ STATUS _ INITIALIZING = 0x00008000 ; 
 + 	 public static final int PRINTER _ STATUS _ WARMING _ UP = 0x00010000 ; 
 + 	 public static final int PRINTER _ STATUS _ TONER _ LOW = 0x00020000 ; 
 + 	 public static final int PRINTER _ STATUS _ NO _ TONER = 0x00040000 ; 
 + 	 public static final int PRINTER _ STATUS _ PAGE _ PUNT = 0x00080000 ; 
 + 	 public static final int PRINTER _ STATUS _ USER _ INTERVENTION = 0x00100000 ; 
 + 	 public static final int PRINTER _ STATUS _ OUT _ OF _ MEMORY = 0x00200000 ; 
 + 	 public static final int PRINTER _ STATUS _ DOOR _ OPEN = 0x00400000 ; 
 + 	 public static final int PRINTER _ STATUS _ SERVER _ UNKNOWN = 0x00800000 ; 
 + 	 public static final int PRINTER _ STATUS _ POWER _ SAVE = 0x01000000 ; 
 + 
 + 	 public static final int PRINTER _ ATTRIBUTE _ QUEUED = 0x00000001 ; 
 + 	 public static final int PRINTER _ ATTRIBUTE _ DIRECT = 0x00000002 ; 
 + 	 public static final int PRINTER _ ATTRIBUTE _ DEFAULT = 0x00000004 ; 
 + 	 public static final int PRINTER _ ATTRIBUTE _ SHARED = 0x00000008 ; 
 + 	 public static final int PRINTER _ ATTRIBUTE _ NETWORK = 0x00000010 ; 
 + 	 public static final int PRINTER _ ATTRIBUTE _ HIDDEN = 0x00000020 ; 
 + 	 public static final int PRINTER _ ATTRIBUTE _ LOCAL = 0x00000040 ; 
 + 	 public static final int PRINTER _ ATTRIBUTE _ ENABLE _ DEVQ = 0x00000080 ; 
 + 	 public static final int PRINTER _ ATTRIBUTE _ KEEPPRINTEDJOBS = 0x00000100 ; 
 + 	 public static final int PRINTER _ ATTRIBUTE _ DO _ COMPLETE _ FIRST = 0x00000200 ; 
 + 	 public static final int PRINTER _ ATTRIBUTE _ WORK _ OFFLINE = 0x00000400 ; 
 + 	 public static final int PRINTER _ ATTRIBUTE _ ENABLE _ BIDI = 0x00000800 ; 
 + 	 public static final int PRINTER _ ATTRIBUTE _ RAW _ ONLY = 0x00001000 ; 
 + 	 public static final int PRINTER _ ATTRIBUTE _ PUBLISHED = 0x00002000 ; 
 + 	 public static final int PRINTER _ ATTRIBUTE _ FAX = 0x00004000 ; 
 + 	 public static final int PRINTER _ ATTRIBUTE _ TS = 0x00008000 ; 
 + 	 public static final int PRINTER _ ATTRIBUTE _ PUSHED _ USER = 0x00020000 ; 
 + 	 public static final int PRINTER _ ATTRIBUTE _ PUSHED _ MACHINE = 0x00040000 ; 
 + 	 public static final int PRINTER _ ATTRIBUTE _ MACHINE = 0x00080000 ; 
 + 	 public static final int PRINTER _ ATTRIBUTE _ FRIENDLY _ NAME = 0x00100000 ; 
 + 	 public static final int PRINTER _ ATTRIBUTE _ TS _ GENERIC _ DRIVER = 0x00200000 ; 
 + 
 + 	 public static final int PRINTER _ CHANGE _ ADD _ PRINTER = 0x00000001 ; 
 + 	 public static final int PRINTER _ CHANGE _ SET _ PRINTER = 0x00000002 ; 
 + 	 public static final int PRINTER _ CHANGE _ DELETE _ PRINTER = 0x00000004 ; 
 + 	 public static final int PRINTER _ CHANGE _ FAILED _ CONNECTION _ PRINTER = 0x00000008 ; 
 + 	 public static final int PRINTER _ CHANGE _ PRINTER = 0x000000FF ; 
 + 	 public static final int PRINTER _ CHANGE _ ADD _ JOB = 0x00000100 ; 
 + 	 public static final int PRINTER _ CHANGE _ SET _ JOB = 0x00000200 ; 
 + 	 public static final int PRINTER _ CHANGE _ DELETE _ JOB = 0x00000400 ; 
 + 	 public static final int PRINTER _ CHANGE _ WRITE _ JOB = 0x00000800 ; 
 + 	 public static final int PRINTER _ CHANGE _ JOB = 0x0000FF00 ; 
 + 	 public static final int PRINTER _ CHANGE _ ADD _ FORM = 0x00010000 ; 
 + 	 public static final int PRINTER _ CHANGE _ SET _ FORM = 0x00020000 ; 
 + 	 public static final int PRINTER _ CHANGE _ DELETE _ FORM = 0x00040000 ; 
 + 	 public static final int PRINTER _ CHANGE _ FORM = 0x00070000 ; 
 + 	 public static final int PRINTER _ CHANGE _ ADD _ PORT = 0x00100000 ; 
 + 	 public static final int PRINTER _ CHANGE _ CONFIGURE _ PORT = 0x00200000 ; 
 + 	 public static final int PRINTER _ CHANGE _ DELETE _ PORT = 0x00400000 ; 
 + 	 public static final int PRINTER _ CHANGE _ PORT = 0x00700000 ; 
 + 	 public static final int PRINTER _ CHANGE _ ADD _ PRINT _ PROCESSOR = 0x01000000 ; 
 + 	 public static final int PRINTER _ CHANGE _ DELETE _ PRINT _ PROCESSOR = 0x04000000 ; 
 + 	 public static final int PRINTER _ CHANGE _ PRINT _ PROCESSOR = 0x07000000 ; 
 + 	 public static final int PRINTER _ CHANGE _ SERVER = 0x08000000 ; 
 + 	 public static final int PRINTER _ CHANGE _ ADD _ PRINTER _ DRIVER = 0x10000000 ; 
 + 	 public static final int PRINTER _ CHANGE _ SET _ PRINTER _ DRIVER = 0x20000000 ; 
 + 	 public static final int PRINTER _ CHANGE _ DELETE _ PRINTER _ DRIVER = 0x40000000 ; 
 + 	 public static final int PRINTER _ CHANGE _ PRINTER _ DRIVER = 0x70000000 ; 
 + 	 public static final int PRINTER _ CHANGE _ TIMEOUT = 0x80000000 ; 
 + 	 public static final int PRINTER _ CHANGE _ ALL _ WIN7 = 0x7F77FFFF ; 
 + 	 public static final int PRINTER _ CHANGE _ ALL = 0x7777FFFF ; 
 + 
 + 	 public static final int PRINTER _ ENUM _ DEFAULT = 0x00000001 ; 
 + 	 public static final int PRINTER _ ENUM _ LOCAL = 0x00000002 ; 
 + 	 public static final int PRINTER _ ENUM _ CONNECTIONS = 0x00000004 ; 
 + 	 public static final int PRINTER _ ENUM _ FAVORITE = 0x00000004 ; 
 + 	 public static final int PRINTER _ ENUM _ NAME = 0x00000008 ; 
 + 	 public static final int PRINTER _ ENUM _ REMOTE = 0x00000010 ; 
 + 	 public static final int PRINTER _ ENUM _ SHARED = 0x00000020 ; 
 + 	 public static final int PRINTER _ ENUM _ NETWORK = 0x00000040 ; 
 + 
 + 	 public static final int PRINTER _ ENUM _ EXPAND = 0x00004000 ; 
 + 	 public static final int PRINTER _ ENUM _ CONTAINER = 0x00008000 ; 
 + 
 + 	 public static final int PRINTER _ ENUM _ ICONMASK = 0x00ff0000 ; 
 + 	 public static final int PRINTER _ ENUM _ ICON1 = 0x00010000 ; 
 + 	 public static final int PRINTER _ ENUM _ ICON2 = 0x00020000 ; 
 + 	 public static final int PRINTER _ ENUM _ ICON3 = 0x00040000 ; 
 + 	 public static final int PRINTER _ ENUM _ ICON4 = 0x00080000 ; 
 + 	 public static final int PRINTER _ ENUM _ ICON5 = 0x00100000 ; 
 + 	 public static final int PRINTER _ ENUM _ ICON6 = 0x00200000 ; 
 + 	 public static final int PRINTER _ ENUM _ ICON7 = 0x00400000 ; 
 + 	 public static final int PRINTER _ ENUM _ ICON8 = 0x00800000 ; 
 + 	 public static final int PRINTER _ ENUM _ HIDE = 0x01000000 ; 
 
 / * * 
 * The EnumPrinters function enumerates available printers , print servers , 
 @ @ - 388 , 6 + 436 , 13 @ @ public interface Winspool extends StdCallLibrary { 
 protected List < String > getFieldOrder ( ) { 
 return FIELDS ; 
 } 
 + 
 + 	 	 / * * 
 + 	 	 * Checks if the printer attributes have one of the values PRINTER _ ATTRIBUTE _ XXX . 
 + 	 	 * / 
 + 	 	 public boolean hasAttribute ( int value ) { 
 + 	 	 	 return ( Attributes & value ) = = value ; 
 + 	 	 } 
 	 } 
 
 	 / * *

NEAREST DIFF:
diff - - git a / jnalib / TODO b / jnalib / TODO 
 index 9e02fd4 . . 6583516 100644 
 - - - a / jnalib / TODO 
 + + + b / jnalib / TODO 
 @ @ - 100 , 6 + 100 , 11 @ @ 
 
  
 # DONE 
 + * Make a separate jar file for all OS - specific headers 
 + Maybe make interfaces per - header file ( winbase , winnt , stdlib , etc ) , 
 + aggregated per - library ( interface CLibrary extends stdlib , stdio , etc ) 
 + ( how useful would it really be , or is this just sorting legos ? ) 
 + o same for windowutils , fileutils , etc . ( not useful ) 
 * check Structure " final " fields ; should never write back to native memory 
 * OSX ObjC access ( see rococoa ) 
 * do Structure . write for any callback args 
 @ @ - 259 , 11 + 264 , 6 @ @ int findNativeWindow ( Window w ) ; 
 exception if the value is out of bounds ) . 
 o when used as struct fields , could allow detection of field order by order 
 of initialization ( requires all - or - nothing usage , though ) 
 - * Make a separate jar file for all OS - specific headers 
 - Maybe make interfaces per - header file ( winbase , winnt , stdlib , etc ) , 
 - aggregated per - library ( interface CLibrary extends stdlib , stdio , etc ) 
 - ( how useful would it really be , or is this just sorting legos ? ) 
 - o same for windowutils , fileutils , etc . ( not useful ) 
 * StringBuffer / StringBuilder as mutable char * / wchar _ t * argument 
 NOTE : byte [ ] / char [ ] is probably better ; it ' s trivial to convert to String 
 and native code can ' t change the size anyway 
 diff - - git a / jnalib / build . xml b / jnalib / build . xml 
 index c38c91a . . 59cd9fd 100644 
 - - - a / jnalib / build . xml 
 + + + b / jnalib / build . xml 
 @ @ - 41 , 7 + 41 , 7 @ @ 
 < ! - - jnidispatch library release version - - > 
 < property name = " jni . major " value = " 3 " / > 
 < property name = " jni . minor " value = " 2 " / > 
 - < property name = " jni . revision " value = " 1 " / > 
 + < property name = " jni . revision " value = " 2 " / > 
 < property name = " jni . build " value = " $ { build . number } " / > 
 < property name = " jni . version " value = " $ { jni . major } . $ { jni . minor } . $ { jni . revision } " / > 
 < property name = " jni . md5 " value = " c870290c36c8d3fdf85db7c782febc3f " / > 
 @ @ - 371 , 6 + 371 , 7 @ @ 
 < os name = " OpenBSD " / > 
 < / or > 
 < / condition > 
 + 
 < ! - - Default make program - - > 
 < property name = " make " value = " make " / > 
 
 diff - - git a / jnalib / dist / darwin . jar b / jnalib / dist / darwin . jar 
 index aeea274 . . 662ccd7 100644 
 Binary files a / jnalib / dist / darwin . jar and b / jnalib / dist / darwin . jar differ 
 diff - - git a / jnalib / native / Makefile b / jnalib / native / Makefile 
 index 563570e . . c19be97 100644 
 - - - a / jnalib / native / Makefile 
 + + + b / jnalib / native / Makefile 
 @ @ - 27 , 7 + 27 , 7 @ @ OS = $ ( shell uname | sed - e ' s / \ ( CYGWIN \ | MINGW32 \ ) . * / win32 / g ' \ 
 - e ' s / Darwin . * / darwin / g ' \ 
 - e ' s / Linux . * / linux / g ' ) 
 
 - VERSION = 3 . 2 . 1 # auto - generated by ant 
 + JNA _ JNI _ VERSION = 3 . 2 . 1 # auto - generated by ant 
 CHECKSUM = c870290c36c8d3fdf85db7c782febc3f # auto - generated by ant 
 
 JAVA _ INCLUDES = - I " $ ( JAVA _ HOME ) / include " \ 
 @ @ - 69 , 7 + 69 , 7 @ @ CINCLUDES = $ ( JAVA _ INCLUDES ) - I " $ ( JAVAH ) " - I $ ( FFI _ BUILD ) / include 
 CDEFINES = - D _ REENTRANT 
 PCFLAGS = - W - Wall - Wno - unused - Wno - parentheses 
 CFLAGS = $ ( PCFLAGS ) $ ( CFLAGS _ EXTRA ) $ ( COPT ) $ ( CDEBUG ) $ ( CDEFINES ) $ ( CINCLUDES ) \ 
 - - DVERSION = ' " $ ( VERSION ) " ' - DCHECKSUM = ' " $ ( CHECKSUM ) " ' 
 + - DJNA _ JNI _ VERSION = ' " $ ( JNA _ JNI _ VERSION ) " ' - DCHECKSUM = ' " $ ( CHECKSUM ) " ' 
 LDFLAGS = - o $ @ - shared 
 ifeq ( $ ( DYNAMIC _ LIBFFI ) , true ) 
 CFLAGS + = $ ( shell pkg - config - - cflags libffi 2 > / dev / null | | echo ) 
 @ @ - 192 , 8 + 192 , 8 @ @ endif 
 PCFLAGS + = $ ( ISYSROOT ) - x objective - c 
 CDEFINES + = - DTARGET _ RT _ MAC _ CFM = 0 - DFFI _ MMAP _ EXEC _ WRIT 
 LDFLAGS = $ ( ARCHFLAGS ) - dynamiclib - o $ @ - framework JavaVM \ 
 - - compatibility _ version $ ( shell echo $ { VERSION } | sed ' s / ^ \ ( [ 0 - 9 ] [ 0 - 9 ] * \ ) . * / \ 1 / g ' ) \ 
 - - current _ version $ ( VERSION ) \ 
 + - compatibility _ version $ ( shell echo $ { JNA _ JNI _ VERSION } | sed ' s / ^ \ ( [ 0 - 9 ] [ 0 - 9 ] * \ ) . * / \ 1 / g ' ) \ 
 + - current _ version $ ( JNA _ JNI _ VERSION ) \ 
 - mmacosx - version - min = 10 . 3 \ 
 - install _ name $ { @ F } \ 
 $ ( SYSLIBROOT ) 
 @ @ - 270 , 6 + 270 , 6 @ @ clean : 
 	 $ ( RM ) - rf $ ( BUILD ) 
 
 version : 
 - 	 @ echo version = $ ( VERSION ) 
 + 	 @ echo version = $ ( JNA _ JNI _ VERSION ) 
 
 # EOF 
 diff - - git a / jnalib / native / dispatch . c b / jnalib / native / dispatch . c 
 index 0a2793f . . 40c3753 100644 
 - - - a / jnalib / native / dispatch . c 
 + + + b / jnalib / native / dispatch . c 
 @ @ - 2268 , 10 + 2268 , 10 @ @ Java _ com _ sun _ jna _ Native _ setLastError ( JNIEnv * env , jclass classp , jint code ) { 
 
 JNIEXPORT jstring JNICALL 
 Java _ com _ sun _ jna _ Native _ getNativeVersion ( JNIEnv * env , jclass classp ) { 
 - # ifndef VERSION 
 - # define VERSION " undefined " 
 + # ifndef JNA _ JNI _ VERSION 
 + # define JNA _ JNI _ VERSION " undefined " 
 # endif 
 - return newJavaString ( env , VERSION , JNI _ FALSE ) ; 
 + return newJavaString ( env , JNA _ JNI _ VERSION , JNI _ FALSE ) ; 
 } 
 
 JNIEXPORT jstring JNICALL 
 diff - - git a / jnalib / pom . xml b / jnalib / pom . xml 
 index c74db2f . . 4a7f41f 100644 
 - - - a / jnalib / pom . xml 
 + + + b / jnalib / pom . xml 
 @ @ - 6 , 7 + 6 , 7 @ @ 
 < groupId > net . java . dev . jna < / groupId > 
 < artifactId > jna < / artifactId > 
 < packaging > jar < / packaging > 
 - < version > 3 . 2 . 5 < / version > 
 + < version > 3 . 2 . 6 < / version > 
 < name > Java Native Access < / name > 
 
 < distributionManagement >
