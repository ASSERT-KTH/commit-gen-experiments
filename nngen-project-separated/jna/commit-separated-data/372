BLEU SCORE: 0.1597357760615681

TEST MSG: fix typo in javadoc
GENERATED MSG: fix kernel32 function lookup

TEST DIFF (one line): diff - - git a / src / com / sun / jna / NativeLibrary . java b / src / com / sun / jna / NativeLibrary . java <nl> index 0a14ffb . . 602f9be 100644 <nl> - - - a / src / com / sun / jna / NativeLibrary . java <nl> + + + b / src / com / sun / jna / NativeLibrary . java <nl> @ @ - 500 , 7 + 500 , 7 @ @ public class NativeLibrary { <nl> } <nl> <nl> / * * <nl> - * Create a new @ { link Function } that is linked with a native <nl> + * Create a new { @ link Function } that is linked with a native <nl> * function that follows a given calling flags . <nl> * <nl> * @ param 	 functionName <nl> @ @ - 514 , 7 + 514 , 7 @ @ public class NativeLibrary { <nl> } <nl> <nl> / * * <nl> - * Create a new @ { link Function } that is linked with a native <nl> + * Create a new { @ link Function } that is linked with a native <nl> * function that follows a given calling flags . <nl> * <nl> * @ param 	 functionName
NEAREST DIFF (one line): diff - - git a / jnalib / test / com / sun / jna / LastErrorTest . java b / jnalib / test / com / sun / jna / LastErrorTest . java <nl> index c4a6ac7 . . 1ede2e0 100644 <nl> - - - a / jnalib / test / com / sun / jna / LastErrorTest . java <nl> + + + b / jnalib / test / com / sun / jna / LastErrorTest . java <nl> @ @ - 20 , 6 + 20 , 18 @ @ import junit . framework . TestCase ; <nl> <nl> public class LastErrorTest extends TestCase { <nl> <nl> + private static final Map OPTIONS = new HashMap ( ) { { <nl> + put ( Library . OPTION _ FUNCTION _ MAPPER , new FunctionMapper ( ) { <nl> + public String getFunctionName ( NativeLibrary library , Method m ) { <nl> + if ( m . getName ( ) . equals ( " noThrowLastError " ) <nl> + | | m . getName ( ) . equals ( " throwLastError " ) ) { <nl> + return " setLastError " ; <nl> + } <nl> + return m . getName ( ) ; <nl> + } <nl> + } ) ; <nl> + } } ; <nl> + <nl> public interface TestLibrary extends Library { <nl> void noThrowLastError ( int code ) ; <nl> void throwLastError ( int code ) throws LastErrorException ; <nl> @ @ - 29 , 22 + 41 , 13 @ @ public class LastErrorTest extends TestCase { <nl> public native void noThrowLastError ( int code ) ; <nl> public native void throwLastError ( int code ) throws LastErrorException ; <nl> static { <nl> - Native . register ( " testlib " ) ; <nl> + Native . register ( NativeLibrary . getInstance ( " testlib " , OPTIONS ) ) ; <nl> } <nl> } <nl> <nl> public void testThrowLastError ( ) { <nl> Map options = new HashMap ( ) ; <nl> - options . put ( Library . OPTION _ FUNCTION _ MAPPER , new FunctionMapper ( ) { <nl> - public String getFunctionName ( NativeLibrary library , Method m ) { <nl> - if ( m . getName ( ) . equals ( " noThrowLastError " ) <nl> - | | m . getName ( ) . equals ( " throwLastError " ) ) { <nl> - return " setLastError " ; <nl> - } <nl> - return m . getName ( ) ; <nl> - } <nl> - } ) ; <nl> - TestLibrary lib = ( TestLibrary ) Native . loadLibrary ( " testlib " , TestLibrary . class , options ) ; <nl> + TestLibrary lib = ( TestLibrary ) Native . loadLibrary ( " testlib " , TestLibrary . class , OPTIONS ) ; <nl> <nl> final int ERROR = - 1 ; <nl> lib . noThrowLastError ( ERROR ) ;

TEST DIFF:
diff - - git a / src / com / sun / jna / NativeLibrary . java b / src / com / sun / jna / NativeLibrary . java 
 index 0a14ffb . . 602f9be 100644 
 - - - a / src / com / sun / jna / NativeLibrary . java 
 + + + b / src / com / sun / jna / NativeLibrary . java 
 @ @ - 500 , 7 + 500 , 7 @ @ public class NativeLibrary { 
 } 
 
 / * * 
 - * Create a new @ { link Function } that is linked with a native 
 + * Create a new { @ link Function } that is linked with a native 
 * function that follows a given calling flags . 
 * 
 * @ param 	 functionName 
 @ @ - 514 , 7 + 514 , 7 @ @ public class NativeLibrary { 
 } 
 
 / * * 
 - * Create a new @ { link Function } that is linked with a native 
 + * Create a new { @ link Function } that is linked with a native 
 * function that follows a given calling flags . 
 * 
 * @ param 	 functionName

NEAREST DIFF:
diff - - git a / jnalib / test / com / sun / jna / LastErrorTest . java b / jnalib / test / com / sun / jna / LastErrorTest . java 
 index c4a6ac7 . . 1ede2e0 100644 
 - - - a / jnalib / test / com / sun / jna / LastErrorTest . java 
 + + + b / jnalib / test / com / sun / jna / LastErrorTest . java 
 @ @ - 20 , 6 + 20 , 18 @ @ import junit . framework . TestCase ; 
 
 public class LastErrorTest extends TestCase { 
 
 + private static final Map OPTIONS = new HashMap ( ) { { 
 + put ( Library . OPTION _ FUNCTION _ MAPPER , new FunctionMapper ( ) { 
 + public String getFunctionName ( NativeLibrary library , Method m ) { 
 + if ( m . getName ( ) . equals ( " noThrowLastError " ) 
 + | | m . getName ( ) . equals ( " throwLastError " ) ) { 
 + return " setLastError " ; 
 + } 
 + return m . getName ( ) ; 
 + } 
 + } ) ; 
 + } } ; 
 + 
 public interface TestLibrary extends Library { 
 void noThrowLastError ( int code ) ; 
 void throwLastError ( int code ) throws LastErrorException ; 
 @ @ - 29 , 22 + 41 , 13 @ @ public class LastErrorTest extends TestCase { 
 public native void noThrowLastError ( int code ) ; 
 public native void throwLastError ( int code ) throws LastErrorException ; 
 static { 
 - Native . register ( " testlib " ) ; 
 + Native . register ( NativeLibrary . getInstance ( " testlib " , OPTIONS ) ) ; 
 } 
 } 
 
 public void testThrowLastError ( ) { 
 Map options = new HashMap ( ) ; 
 - options . put ( Library . OPTION _ FUNCTION _ MAPPER , new FunctionMapper ( ) { 
 - public String getFunctionName ( NativeLibrary library , Method m ) { 
 - if ( m . getName ( ) . equals ( " noThrowLastError " ) 
 - | | m . getName ( ) . equals ( " throwLastError " ) ) { 
 - return " setLastError " ; 
 - } 
 - return m . getName ( ) ; 
 - } 
 - } ) ; 
 - TestLibrary lib = ( TestLibrary ) Native . loadLibrary ( " testlib " , TestLibrary . class , options ) ; 
 + TestLibrary lib = ( TestLibrary ) Native . loadLibrary ( " testlib " , TestLibrary . class , OPTIONS ) ; 
 
 final int ERROR = - 1 ; 
 lib . noThrowLastError ( ERROR ) ;
