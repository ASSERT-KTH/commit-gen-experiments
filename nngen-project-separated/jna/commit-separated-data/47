BLEU SCORE: 0.027611988917697356

TEST MSG: Use positive cursor movement for cursor movement test
GENERATED MSG: Fix code style and update CHANGES . md

TEST DIFF (one line): diff - - git a / contrib / platform / test / com / sun / jna / platform / win32 / User32Test . java b / contrib / platform / test / com / sun / jna / platform / win32 / User32Test . java <nl> index ebd371e . . 74f6b78 100644 <nl> - - - a / contrib / platform / test / com / sun / jna / platform / win32 / User32Test . java <nl> + + + b / contrib / platform / test / com / sun / jna / platform / win32 / User32Test . java <nl> @ @ - 379 , 13 + 379 , 18 @ @ public class User32Test extends AbstractWin32TestSupport { <nl> assertTrue ( " GetCursorPos should return true " , result ) ; <nl> assertTrue ( " X coordinate in POINT should be > = 0 " , cursorPos . x > = 0 ) ; <nl> <nl> - boolean scpResult = User32 . INSTANCE . SetCursorPos ( cursorPos . x - 20 , cursorPos . y ) ; <nl> + boolean scpResult = User32 . INSTANCE . SetCursorPos ( cursorPos . x + 20 , cursorPos . y ) ; <nl> assertTrue ( " SetCursorPos should return true " , scpResult ) ; <nl> <nl> POINT cursorPos2 = new POINT ( ) ; <nl> boolean result2 = User32 . INSTANCE . GetCursorPos ( cursorPos2 ) ; <nl> assertTrue ( " GetCursorPos should return true " , result2 ) ; <nl> - assertTrue ( " X coordinate in POINT should be original cursor position - 20 " , cursorPos2 . x = = cursorPos . x - 20 ) ; <nl> + assertTrue ( String . format ( <nl> + " X coordinate in POINT should be original cursor position - 20 ( Old : % dx % d , New : % dx % d ) " , <nl> + cursorPos . x , cursorPos . y , cursorPos2 . x , cursorPos2 . y <nl> + ) , <nl> + cursorPos2 . x = = cursorPos . x + 20 <nl> + ) ; <nl> } <nl> <nl> @ Test
NEAREST DIFF (one line): diff - - git a / Makefile . in b / Makefile . in <nl> index 6bf6cc5 . . 799a0e2 100644 <nl> - - - a / Makefile . in <nl> + + + b / Makefile . in <nl> @ @ - 403 , 7 + 403 , 6 @ @ psdir = @ psdir @ <nl> sbindir = @ sbindir @ <nl> sharedstatedir = @ sharedstatedir @ <nl> srcdir = @ srcdir @ <nl> - sys _ symbol _ underscore = @ sys _ symbol _ underscore @ <nl> sysconfdir = @ sysconfdir @ <nl> target = @ target @ <nl> target _ alias = @ target _ alias @ <nl> diff - - git a / configure b / configure <nl> index cec095b . . f4c3e30 100755 <nl> - - - a / configure <nl> + + + b / configure <nl> @ @ - 14395 , 7 + 14395 , 7 @ @ case " $ target " in <nl> $ as _ echo " # define FFI _ EXEC _ TRAMPOLINE _ TABLE 1 " > > confdefs . h <nl> <nl> ; ; <nl> - * - apple - darwin1 [ 10 ] * | * - * - freebsd * | * - * - kfreebsd * | * - * - openbsd * | * - pc - solaris * ) <nl> + * - apple - darwin1 [ 10 ] * | * - * - freebsd * | * - * - openbsd * | * - pc - solaris * ) <nl> <nl> $ as _ echo " # define FFI _ MMAP _ EXEC _ WRIT 1 " > > confdefs . h <nl> <nl> diff - - git a / doc / libffi . info b / doc / libffi . info <nl> index c0fb005 . . 402f760 100644 <nl> - - - a / doc / libffi . info <nl> + + + b / doc / libffi . info <nl> @ @ - 1 , 10 + 1 , 10 @ @ <nl> - This is / home / green / libffi / doc / libffi . info , produced by makeinfo <nl> - version 4 . 13 from / home / green / libffi / doc / libffi . texi . <nl> + This is . . / libffi / doc / libffi . info , produced by makeinfo version 4 . 13 <nl> + from . . / libffi / doc / libffi . texi . <nl> <nl> This manual is for Libffi , a portable foreign - function interface <nl> library . <nl> <nl> - Copyright ( C ) 2008 , 2010 Red Hat , Inc . <nl> + Copyright ( C ) 2008 , 2010 , 2011 Red Hat , Inc . <nl> <nl> Permission is granted to copy , distribute and / or modify this <nl> document under the terms of the GNU General Public License as <nl> @ @ - 27 , 7 + 27 , 7 @ @ libffi <nl> This manual is for Libffi , a portable foreign - function interface <nl> library . <nl> <nl> - Copyright ( C ) 2008 , 2010 Red Hat , Inc . <nl> + Copyright ( C ) 2008 , 2010 , 2011 Red Hat , Inc . <nl> <nl> Permission is granted to copy , distribute and / or modify this <nl> document under the terms of the GNU General Public License as <nl> @ @ - 115 , 8 + 115 , 6 @ @ To prepare a call interface object , use the function ` ffi _ prep _ cif ' . <nl> want . * note Multiple ABIs : : for more information . <nl> <nl> NARGS is the number of arguments that this function accepts . <nl> - ` libffi ' does not yet handle varargs functions ; see * note Missing <nl> - Features : : for more information . <nl> <nl> RTYPE is a pointer to an ` ffi _ type ' structure that describes the <nl> return type of the function . * Note Types : : . <nl> @ @ - 129 , 6 + 127 , 30 @ @ To prepare a call interface object , use the function ` ffi _ prep _ cif ' . <nl> properly ; ` FFI _ BAD _ TYPEDEF ' if one of the ` ffi _ type ' objects is <nl> incorrect ; or ` FFI _ BAD _ ABI ' if the ABI parameter is invalid . <nl> <nl> + If the function being called is variadic ( varargs ) then <nl> + ` ffi _ prep _ cif _ var ' must be used instead of ` ffi _ prep _ cif ' . <nl> + <nl> + - - Function : ffi _ status ffi _ prep _ cif _ var ( ffi _ cif * CIF , ffi _ abi <nl> + varabi , unsigned int NFIXEDARGS , unsigned int varntotalargs , <nl> + ffi _ type * RTYPE , ffi _ type * * ARGTYPES ) <nl> + This initializes CIF according to the given parameters for a call <nl> + to a variadic function . In general it ' s operation is the same as <nl> + for ` ffi _ prep _ cif ' except that : <nl> + <nl> + NFIXEDARGS is the number of fixed arguments , prior to any variadic <nl> + arguments . It must be greater than zero . <nl> + <nl> + NTOTALARGS the total number of arguments , including variadic and <nl> + fixed arguments . <nl> + <nl> + Note that , different cif ' s must be prepped for calls to the same <nl> + function when different numbers of arguments are passed . <nl> + <nl> + Also note that a call to ` ffi _ prep _ cif _ var ' with <nl> + NFIXEDARGS = NOTOTALARGS is NOT equivalent to a call to <nl> + ` ffi _ prep _ cif ' . <nl> + <nl> + <nl> To call a function using an initialized ` ffi _ cif ' , use the <nl> ` ffi _ call ' function : <nl> <nl> @ @ - 511 , 9 + 533 , 7 @ @ File : libffi . info , Node : Missing Features , Next : Index , Prev : Using libffi , <nl> ` libffi ' is missing a few features . We welcome patches to add support <nl> for these . <nl> <nl> - * There is no support for calling varargs functions . This may work <nl> - on some platforms , depending on how the ABI is defined , but it is <nl> - not reliable . <nl> + * Variadic closures . <nl> <nl> * There is no support for bit fields in structures . <nl> <nl> @ @ - 521 , 6 + 541 , 9 @ @ for these . <nl> <nl> * The " raw " API is undocumented . <nl> <nl> + Note that variadic support is very new and tested on a relatively <nl> + small number of platforms . <nl> + <nl>  <nl> File : libffi . info , Node : Index , Prev : Missing Features , Up : Top <nl> <nl> @ @ - 538 , 11 + 561 , 12 @ @ Index <nl> * closure API : The Closure API . ( line 13 ) <nl> * closures : The Closure API . ( line 13 ) <nl> * FFI : Introduction . ( line 31 ) <nl> - * ffi _ call : The Basics . ( line 41 ) <nl> + * ffi _ call : The Basics . ( line 63 ) <nl> * ffi _ closure _ alloc : The Closure API . ( line 19 ) <nl> * ffi _ closure _ free : The Closure API . ( line 26 ) <nl> * FFI _ CLOSURES : The Closure API . ( line 13 ) <nl> * ffi _ prep _ cif : The Basics . ( line 16 ) <nl> + * ffi _ prep _ cif _ var : The Basics . ( line 39 ) <nl> * ffi _ prep _ closure _ loc : The Closure API . ( line 34 ) <nl> * ffi _ status < 1 > : The Closure API . ( line 37 ) <nl> * ffi _ status : The Basics . ( line 18 ) <nl> @ @ - 570 , 24 + 594 , 24 @ @ Index <nl> * ffi _ type _ void : Primitive Types . ( line 10 ) <nl> * Foreign Function Interface : Introduction . ( line 31 ) <nl> * void < 1 > : The Closure API . ( line 20 ) <nl> - * void : The Basics . ( line 43 ) <nl> + * void : The Basics . ( line 65 ) <nl> <nl> <nl>  <nl> Tag Table : <nl> - Node : Top  724 <nl> - Node : Introduction  1466 <nl> - Node : Using libffi  3102 <nl> - Node : The Basics  3588 <nl> - Node : Simple Example  6374 <nl> - Node : Types  7401 <nl> - Node : Primitive Types  7684 <nl> - Node : Structures  9504 <nl> - Node : Type Example  10364 <nl> - Node : Multiple ABIs  11587 <nl> - Node : The Closure API  11958 <nl> - Node : Closure Example  14902 <nl> - Node : Missing Features  16461 <nl> - Node : Index  16954 <nl> + Node : Top  712 <nl> + Node : Introduction  1460 <nl> + Node : Using libffi  3096 <nl> + Node : The Basics  3582 <nl> + Node : Simple Example  7224 <nl> + Node : Types  8251 <nl> + Node : Primitive Types  8534 <nl> + Node : Structures  10354 <nl> + Node : Type Example  11214 <nl> + Node : Multiple ABIs  12437 <nl> + Node : The Closure API  12808 <nl> + Node : Closure Example  15752 <nl> + Node : Missing Features  17311 <nl> + Node : Index  17764 <nl>  <nl> End Tag Table <nl> diff - - git a / include / Makefile . in b / include / Makefile . in <nl> index 6d7634a . . b7d88da 100644 <nl> - - - a / include / Makefile . in <nl> + + + b / include / Makefile . in <nl> @ @ - 114 , 7 + 114 , 6 @ @ ECHO _ N = @ ECHO _ N @ <nl> ECHO _ T = @ ECHO _ T @ <nl> EGREP = @ EGREP @ <nl> EXEEXT = @ EXEEXT @ <nl> - FFI _ EXEC _ TRAMPOLINE _ TABLE = @ FFI _ EXEC _ TRAMPOLINE _ TABLE @ <nl> FGREP = @ FGREP @ <nl> GREP = @ GREP @ <nl> HAVE _ LONG _ DOUBLE = @ HAVE _ LONG _ DOUBLE @ <nl> @ @ - 206 , 7 + 205 , 6 @ @ psdir = @ psdir @ <nl> sbindir = @ sbindir @ <nl> sharedstatedir = @ sharedstatedir @ <nl> srcdir = @ srcdir @ <nl> - sys _ symbol _ underscore = @ sys _ symbol _ underscore @ <nl> sysconfdir = @ sysconfdir @ <nl> target = @ target @ <nl> target _ alias = @ target _ alias @ <nl> diff - - git a / man / Makefile . in b / man / Makefile . in <nl> index 7b47d07 . . 2653d69 100644 <nl> - - - a / man / Makefile . in <nl> + + + b / man / Makefile . in <nl> @ @ - 112 , 7 + 112 , 6 @ @ ECHO _ N = @ ECHO _ N @ <nl> ECHO _ T = @ ECHO _ T @ <nl> EGREP = @ EGREP @ <nl> EXEEXT = @ EXEEXT @ <nl> - FFI _ EXEC _ TRAMPOLINE _ TABLE = @ FFI _ EXEC _ TRAMPOLINE _ TABLE @ <nl> FGREP = @ FGREP @ <nl> GREP = @ GREP @ <nl> HAVE _ LONG _ DOUBLE = @ HAVE _ LONG _ DOUBLE @ <nl> @ @ - 204 , 7 + 203 , 6 @ @ psdir = @ psdir @ <nl> sbindir = @ sbindir @ <nl> sharedstatedir = @ sharedstatedir @ <nl> srcdir = @ srcdir @ <nl> - sys _ symbol _ underscore = @ sys _ symbol _ underscore @ <nl> sysconfdir = @ sysconfdir @ <nl> target = @ target @ <nl> target _ alias = @ target _ alias @ <nl> @ @ - 217 , 8 + 215 , 8 @ @ top _ build _ prefix = @ top _ build _ prefix @ <nl> top _ builddir = @ top _ builddir @ <nl> top _ srcdir = @ top _ srcdir @ <nl> AUTOMAKE _ OPTIONS = foreign <nl> - EXTRA _ DIST = ffi . 3 ffi _ call . 3 ffi _ prep _ cif . 3 ffi _ prep _ cif _ var . 3 <nl> - man _ MANS = ffi . 3 ffi _ call . 3 ffi _ prep _ cif . 3 ffi _ prep _ cif _ var . 3 <nl> + EXTRA _ DIST = ffi . 3 ffi _ call . 3 ffi _ prep _ cif . 3 <nl> + man _ MANS = ffi . 3 ffi _ call . 3 ffi _ prep _ cif . 3 <nl> all : all - am <nl> <nl> . SUFFIXES : <nl> diff - - git a / patches / fix - xfails b / patches / fix - xfails <nl> index 2d37b2e . . 4f65e72 100644 <nl> - - - a / patches / fix - xfails <nl> + + + b / patches / fix - xfails <nl> @ @ - 68 , 12 + 68 , 12 @ @ Index : libffi / src / prep _ cif . c <nl> FFI _ ASSERT ( cif ! = NULL ) ; <nl> # ifndef X86 _ WIN32 <nl> - FFI _ ASSERT ( ( abi > FFI _ FIRST _ ABI ) & & ( abi < = FFI _ DEFAULT _ ABI ) ) ; <nl> - + if ( ( abi > FFI _ FIRST _ ABI ) & & ( abi < = FFI _ DEFAULT _ ABI ) ) <nl> + + if ( ! ( abi > FFI _ FIRST _ ABI ) & & ( abi < = FFI _ LAST _ ABI ) ) <nl> + return FFI _ BAD _ ABI ; <nl> # else <nl> - FFI _ ASSERT ( abi > FFI _ FIRST _ ABI & & abi < FFI _ LAST _ ABI <nl> - 	 | | abi = = FFI _ THISCALL ) ; <nl> - + if ( abi > FFI _ FIRST _ ABI & & abi < FFI _ LAST _ ABI | | abi = = FFI _ THISCALL ) <nl> + + if ( ! ( abi > FFI _ FIRST _ ABI & & abi < FFI _ LAST _ ABI | | abi = = FFI _ THISCALL ) ) <nl> + return FFI _ BAD _ ABI ; <nl> # endif <nl> <nl> diff - - git a / src / prep _ cif . c b / src / prep _ cif . c <nl> index cc2fb74 . . f50a63c 100644 <nl> - - - a / src / prep _ cif . c <nl> + + + b / src / prep _ cif . c <nl> @ @ - 112 , 10 + 112 , 10 @ @ ffi _ status FFI _ HIDDEN ffi _ prep _ cif _ core ( ffi _ cif * cif , ffi _ abi abi , <nl> FFI _ ASSERT ( nfixedargs < = ntotalargs ) ; <nl> <nl> # ifndef X86 _ WIN32 <nl> - if ( ( abi > FFI _ FIRST _ ABI ) & & ( abi < = FFI _ DEFAULT _ ABI ) ) <nl> + if ( ! ( abi > FFI _ FIRST _ ABI ) & & ( abi < = FFI _ LAST _ ABI ) ) <nl> return FFI _ BAD _ ABI ; <nl> # else <nl> - if ( abi > FFI _ FIRST _ ABI & & abi < FFI _ LAST _ ABI | | abi = = FFI _ THISCALL ) <nl> + if ( ! ( abi > FFI _ FIRST _ ABI & & abi < FFI _ LAST _ ABI | | abi = = FFI _ THISCALL ) ) <nl> return FFI _ BAD _ ABI ; <nl> # endif <nl> <nl> diff - - git a / testsuite / Makefile . in b / testsuite / Makefile . in <nl> index b446655 . . bbb634f 100644 <nl> - - - a / testsuite / Makefile . in <nl> + + + b / testsuite / Makefile . in <nl> @ @ - 89 , 7 + 89 , 6 @ @ ECHO _ N = @ ECHO _ N @ <nl> ECHO _ T = @ ECHO _ T @ <nl> EGREP = @ EGREP @ <nl> EXEEXT = @ EXEEXT @ <nl> - FFI _ EXEC _ TRAMPOLINE _ TABLE = @ FFI _ EXEC _ TRAMPOLINE _ TABLE @ <nl> FGREP = @ FGREP @ <nl> GREP = @ GREP @ <nl> HAVE _ LONG _ DOUBLE = @ HAVE _ LONG _ DOUBLE @ <nl> @ @ - 181 , 7 + 180 , 6 @ @ psdir = @ psdir @ <nl> sbindir = @ sbindir @ <nl> sharedstatedir = @ sharedstatedir @ <nl> srcdir = @ srcdir @ <nl> - sys _ symbol _ underscore = @ sys _ symbol _ underscore @ <nl> sysconfdir = @ sysconfdir @ <nl> target = @ target @ <nl> target _ alias = @ target _ alias @

TEST DIFF:
diff - - git a / contrib / platform / test / com / sun / jna / platform / win32 / User32Test . java b / contrib / platform / test / com / sun / jna / platform / win32 / User32Test . java 
 index ebd371e . . 74f6b78 100644 
 - - - a / contrib / platform / test / com / sun / jna / platform / win32 / User32Test . java 
 + + + b / contrib / platform / test / com / sun / jna / platform / win32 / User32Test . java 
 @ @ - 379 , 13 + 379 , 18 @ @ public class User32Test extends AbstractWin32TestSupport { 
 assertTrue ( " GetCursorPos should return true " , result ) ; 
 assertTrue ( " X coordinate in POINT should be > = 0 " , cursorPos . x > = 0 ) ; 
 
 - boolean scpResult = User32 . INSTANCE . SetCursorPos ( cursorPos . x - 20 , cursorPos . y ) ; 
 + boolean scpResult = User32 . INSTANCE . SetCursorPos ( cursorPos . x + 20 , cursorPos . y ) ; 
 assertTrue ( " SetCursorPos should return true " , scpResult ) ; 
 
 POINT cursorPos2 = new POINT ( ) ; 
 boolean result2 = User32 . INSTANCE . GetCursorPos ( cursorPos2 ) ; 
 assertTrue ( " GetCursorPos should return true " , result2 ) ; 
 - assertTrue ( " X coordinate in POINT should be original cursor position - 20 " , cursorPos2 . x = = cursorPos . x - 20 ) ; 
 + assertTrue ( String . format ( 
 + " X coordinate in POINT should be original cursor position - 20 ( Old : % dx % d , New : % dx % d ) " , 
 + cursorPos . x , cursorPos . y , cursorPos2 . x , cursorPos2 . y 
 + ) , 
 + cursorPos2 . x = = cursorPos . x + 20 
 + ) ; 
 } 
 
 @ Test

NEAREST DIFF:
diff - - git a / Makefile . in b / Makefile . in 
 index 6bf6cc5 . . 799a0e2 100644 
 - - - a / Makefile . in 
 + + + b / Makefile . in 
 @ @ - 403 , 7 + 403 , 6 @ @ psdir = @ psdir @ 
 sbindir = @ sbindir @ 
 sharedstatedir = @ sharedstatedir @ 
 srcdir = @ srcdir @ 
 - sys _ symbol _ underscore = @ sys _ symbol _ underscore @ 
 sysconfdir = @ sysconfdir @ 
 target = @ target @ 
 target _ alias = @ target _ alias @ 
 diff - - git a / configure b / configure 
 index cec095b . . f4c3e30 100755 
 - - - a / configure 
 + + + b / configure 
 @ @ - 14395 , 7 + 14395 , 7 @ @ case " $ target " in 
 $ as _ echo " # define FFI _ EXEC _ TRAMPOLINE _ TABLE 1 " > > confdefs . h 
 
 ; ; 
 - * - apple - darwin1 [ 10 ] * | * - * - freebsd * | * - * - kfreebsd * | * - * - openbsd * | * - pc - solaris * ) 
 + * - apple - darwin1 [ 10 ] * | * - * - freebsd * | * - * - openbsd * | * - pc - solaris * ) 
 
 $ as _ echo " # define FFI _ MMAP _ EXEC _ WRIT 1 " > > confdefs . h 
 
 diff - - git a / doc / libffi . info b / doc / libffi . info 
 index c0fb005 . . 402f760 100644 
 - - - a / doc / libffi . info 
 + + + b / doc / libffi . info 
 @ @ - 1 , 10 + 1 , 10 @ @ 
 - This is / home / green / libffi / doc / libffi . info , produced by makeinfo 
 - version 4 . 13 from / home / green / libffi / doc / libffi . texi . 
 + This is . . / libffi / doc / libffi . info , produced by makeinfo version 4 . 13 
 + from . . / libffi / doc / libffi . texi . 
 
 This manual is for Libffi , a portable foreign - function interface 
 library . 
 
 - Copyright ( C ) 2008 , 2010 Red Hat , Inc . 
 + Copyright ( C ) 2008 , 2010 , 2011 Red Hat , Inc . 
 
 Permission is granted to copy , distribute and / or modify this 
 document under the terms of the GNU General Public License as 
 @ @ - 27 , 7 + 27 , 7 @ @ libffi 
 This manual is for Libffi , a portable foreign - function interface 
 library . 
 
 - Copyright ( C ) 2008 , 2010 Red Hat , Inc . 
 + Copyright ( C ) 2008 , 2010 , 2011 Red Hat , Inc . 
 
 Permission is granted to copy , distribute and / or modify this 
 document under the terms of the GNU General Public License as 
 @ @ - 115 , 8 + 115 , 6 @ @ To prepare a call interface object , use the function ` ffi _ prep _ cif ' . 
 want . * note Multiple ABIs : : for more information . 
 
 NARGS is the number of arguments that this function accepts . 
 - ` libffi ' does not yet handle varargs functions ; see * note Missing 
 - Features : : for more information . 
 
 RTYPE is a pointer to an ` ffi _ type ' structure that describes the 
 return type of the function . * Note Types : : . 
 @ @ - 129 , 6 + 127 , 30 @ @ To prepare a call interface object , use the function ` ffi _ prep _ cif ' . 
 properly ; ` FFI _ BAD _ TYPEDEF ' if one of the ` ffi _ type ' objects is 
 incorrect ; or ` FFI _ BAD _ ABI ' if the ABI parameter is invalid . 
 
 + If the function being called is variadic ( varargs ) then 
 + ` ffi _ prep _ cif _ var ' must be used instead of ` ffi _ prep _ cif ' . 
 + 
 + - - Function : ffi _ status ffi _ prep _ cif _ var ( ffi _ cif * CIF , ffi _ abi 
 + varabi , unsigned int NFIXEDARGS , unsigned int varntotalargs , 
 + ffi _ type * RTYPE , ffi _ type * * ARGTYPES ) 
 + This initializes CIF according to the given parameters for a call 
 + to a variadic function . In general it ' s operation is the same as 
 + for ` ffi _ prep _ cif ' except that : 
 + 
 + NFIXEDARGS is the number of fixed arguments , prior to any variadic 
 + arguments . It must be greater than zero . 
 + 
 + NTOTALARGS the total number of arguments , including variadic and 
 + fixed arguments . 
 + 
 + Note that , different cif ' s must be prepped for calls to the same 
 + function when different numbers of arguments are passed . 
 + 
 + Also note that a call to ` ffi _ prep _ cif _ var ' with 
 + NFIXEDARGS = NOTOTALARGS is NOT equivalent to a call to 
 + ` ffi _ prep _ cif ' . 
 + 
 + 
 To call a function using an initialized ` ffi _ cif ' , use the 
 ` ffi _ call ' function : 
 
 @ @ - 511 , 9 + 533 , 7 @ @ File : libffi . info , Node : Missing Features , Next : Index , Prev : Using libffi , 
 ` libffi ' is missing a few features . We welcome patches to add support 
 for these . 
 
 - * There is no support for calling varargs functions . This may work 
 - on some platforms , depending on how the ABI is defined , but it is 
 - not reliable . 
 + * Variadic closures . 
 
 * There is no support for bit fields in structures . 
 
 @ @ - 521 , 6 + 541 , 9 @ @ for these . 
 
 * The " raw " API is undocumented . 
 
 + Note that variadic support is very new and tested on a relatively 
 + small number of platforms . 
 + 
  
 File : libffi . info , Node : Index , Prev : Missing Features , Up : Top 
 
 @ @ - 538 , 11 + 561 , 12 @ @ Index 
 * closure API : The Closure API . ( line 13 ) 
 * closures : The Closure API . ( line 13 ) 
 * FFI : Introduction . ( line 31 ) 
 - * ffi _ call : The Basics . ( line 41 ) 
 + * ffi _ call : The Basics . ( line 63 ) 
 * ffi _ closure _ alloc : The Closure API . ( line 19 ) 
 * ffi _ closure _ free : The Closure API . ( line 26 ) 
 * FFI _ CLOSURES : The Closure API . ( line 13 ) 
 * ffi _ prep _ cif : The Basics . ( line 16 ) 
 + * ffi _ prep _ cif _ var : The Basics . ( line 39 ) 
 * ffi _ prep _ closure _ loc : The Closure API . ( line 34 ) 
 * ffi _ status < 1 > : The Closure API . ( line 37 ) 
 * ffi _ status : The Basics . ( line 18 ) 
 @ @ - 570 , 24 + 594 , 24 @ @ Index 
 * ffi _ type _ void : Primitive Types . ( line 10 ) 
 * Foreign Function Interface : Introduction . ( line 31 ) 
 * void < 1 > : The Closure API . ( line 20 ) 
 - * void : The Basics . ( line 43 ) 
 + * void : The Basics . ( line 65 ) 
 
 
  
 Tag Table : 
 - Node : Top  724 
 - Node : Introduction  1466 
 - Node : Using libffi  3102 
 - Node : The Basics  3588 
 - Node : Simple Example  6374 
 - Node : Types  7401 
 - Node : Primitive Types  7684 
 - Node : Structures  9504 
 - Node : Type Example  10364 
 - Node : Multiple ABIs  11587 
 - Node : The Closure API  11958 
 - Node : Closure Example  14902 
 - Node : Missing Features  16461 
 - Node : Index  16954 
 + Node : Top  712 
 + Node : Introduction  1460 
 + Node : Using libffi  3096 
 + Node : The Basics  3582 
 + Node : Simple Example  7224 
 + Node : Types  8251 
 + Node : Primitive Types  8534 
 + Node : Structures  10354 
 + Node : Type Example  11214 
 + Node : Multiple ABIs  12437 
 + Node : The Closure API  12808 
 + Node : Closure Example  15752 
 + Node : Missing Features  17311 
 + Node : Index  17764 
  
 End Tag Table 
 diff - - git a / include / Makefile . in b / include / Makefile . in 
 index 6d7634a . . b7d88da 100644 
 - - - a / include / Makefile . in 
 + + + b / include / Makefile . in 
 @ @ - 114 , 7 + 114 , 6 @ @ ECHO _ N = @ ECHO _ N @ 
 ECHO _ T = @ ECHO _ T @ 
 EGREP = @ EGREP @ 
 EXEEXT = @ EXEEXT @ 
 - FFI _ EXEC _ TRAMPOLINE _ TABLE = @ FFI _ EXEC _ TRAMPOLINE _ TABLE @ 
 FGREP = @ FGREP @ 
 GREP = @ GREP @ 
 HAVE _ LONG _ DOUBLE = @ HAVE _ LONG _ DOUBLE @ 
 @ @ - 206 , 7 + 205 , 6 @ @ psdir = @ psdir @ 
 sbindir = @ sbindir @ 
 sharedstatedir = @ sharedstatedir @ 
 srcdir = @ srcdir @ 
 - sys _ symbol _ underscore = @ sys _ symbol _ underscore @ 
 sysconfdir = @ sysconfdir @ 
 target = @ target @ 
 target _ alias = @ target _ alias @ 
 diff - - git a / man / Makefile . in b / man / Makefile . in 
 index 7b47d07 . . 2653d69 100644 
 - - - a / man / Makefile . in 
 + + + b / man / Makefile . in 
 @ @ - 112 , 7 + 112 , 6 @ @ ECHO _ N = @ ECHO _ N @ 
 ECHO _ T = @ ECHO _ T @ 
 EGREP = @ EGREP @ 
 EXEEXT = @ EXEEXT @ 
 - FFI _ EXEC _ TRAMPOLINE _ TABLE = @ FFI _ EXEC _ TRAMPOLINE _ TABLE @ 
 FGREP = @ FGREP @ 
 GREP = @ GREP @ 
 HAVE _ LONG _ DOUBLE = @ HAVE _ LONG _ DOUBLE @ 
 @ @ - 204 , 7 + 203 , 6 @ @ psdir = @ psdir @ 
 sbindir = @ sbindir @ 
 sharedstatedir = @ sharedstatedir @ 
 srcdir = @ srcdir @ 
 - sys _ symbol _ underscore = @ sys _ symbol _ underscore @ 
 sysconfdir = @ sysconfdir @ 
 target = @ target @ 
 target _ alias = @ target _ alias @ 
 @ @ - 217 , 8 + 215 , 8 @ @ top _ build _ prefix = @ top _ build _ prefix @ 
 top _ builddir = @ top _ builddir @ 
 top _ srcdir = @ top _ srcdir @ 
 AUTOMAKE _ OPTIONS = foreign 
 - EXTRA _ DIST = ffi . 3 ffi _ call . 3 ffi _ prep _ cif . 3 ffi _ prep _ cif _ var . 3 
 - man _ MANS = ffi . 3 ffi _ call . 3 ffi _ prep _ cif . 3 ffi _ prep _ cif _ var . 3 
 + EXTRA _ DIST = ffi . 3 ffi _ call . 3 ffi _ prep _ cif . 3 
 + man _ MANS = ffi . 3 ffi _ call . 3 ffi _ prep _ cif . 3 
 all : all - am 
 
 . SUFFIXES : 
 diff - - git a / patches / fix - xfails b / patches / fix - xfails 
 index 2d37b2e . . 4f65e72 100644 
 - - - a / patches / fix - xfails 
 + + + b / patches / fix - xfails 
 @ @ - 68 , 12 + 68 , 12 @ @ Index : libffi / src / prep _ cif . c 
 FFI _ ASSERT ( cif ! = NULL ) ; 
 # ifndef X86 _ WIN32 
 - FFI _ ASSERT ( ( abi > FFI _ FIRST _ ABI ) & & ( abi < = FFI _ DEFAULT _ ABI ) ) ; 
 - + if ( ( abi > FFI _ FIRST _ ABI ) & & ( abi < = FFI _ DEFAULT _ ABI ) ) 
 + + if ( ! ( abi > FFI _ FIRST _ ABI ) & & ( abi < = FFI _ LAST _ ABI ) ) 
 + return FFI _ BAD _ ABI ; 
 # else 
 - FFI _ ASSERT ( abi > FFI _ FIRST _ ABI & & abi < FFI _ LAST _ ABI 
 - 	 | | abi = = FFI _ THISCALL ) ; 
 - + if ( abi > FFI _ FIRST _ ABI & & abi < FFI _ LAST _ ABI | | abi = = FFI _ THISCALL ) 
 + + if ( ! ( abi > FFI _ FIRST _ ABI & & abi < FFI _ LAST _ ABI | | abi = = FFI _ THISCALL ) ) 
 + return FFI _ BAD _ ABI ; 
 # endif 
 
 diff - - git a / src / prep _ cif . c b / src / prep _ cif . c 
 index cc2fb74 . . f50a63c 100644 
 - - - a / src / prep _ cif . c 
 + + + b / src / prep _ cif . c 
 @ @ - 112 , 10 + 112 , 10 @ @ ffi _ status FFI _ HIDDEN ffi _ prep _ cif _ core ( ffi _ cif * cif , ffi _ abi abi , 
 FFI _ ASSERT ( nfixedargs < = ntotalargs ) ; 
 
 # ifndef X86 _ WIN32 
 - if ( ( abi > FFI _ FIRST _ ABI ) & & ( abi < = FFI _ DEFAULT _ ABI ) ) 
 + if ( ! ( abi > FFI _ FIRST _ ABI ) & & ( abi < = FFI _ LAST _ ABI ) ) 
 return FFI _ BAD _ ABI ; 
 # else 
 - if ( abi > FFI _ FIRST _ ABI & & abi < FFI _ LAST _ ABI | | abi = = FFI _ THISCALL ) 
 + if ( ! ( abi > FFI _ FIRST _ ABI & & abi < FFI _ LAST _ ABI | | abi = = FFI _ THISCALL ) ) 
 return FFI _ BAD _ ABI ; 
 # endif 
 
 diff - - git a / testsuite / Makefile . in b / testsuite / Makefile . in 
 index b446655 . . bbb634f 100644 
 - - - a / testsuite / Makefile . in 
 + + + b / testsuite / Makefile . in 
 @ @ - 89 , 7 + 89 , 6 @ @ ECHO _ N = @ ECHO _ N @ 
 ECHO _ T = @ ECHO _ T @ 
 EGREP = @ EGREP @ 
 EXEEXT = @ EXEEXT @ 
 - FFI _ EXEC _ TRAMPOLINE _ TABLE = @ FFI _ EXEC _ TRAMPOLINE _ TABLE @ 
 FGREP = @ FGREP @ 
 GREP = @ GREP @ 
 HAVE _ LONG _ DOUBLE = @ HAVE _ LONG _ DOUBLE @ 
 @ @ - 181 , 7 + 180 , 6 @ @ psdir = @ psdir @ 
 sbindir = @ sbindir @ 
 sharedstatedir = @ sharedstatedir @ 
 srcdir = @ srcdir @ 
 - sys _ symbol _ underscore = @ sys _ symbol _ underscore @ 
 sysconfdir = @ sysconfdir @ 
 target = @ target @ 
 target _ alias = @ target _ alias @
