BLEU SCORE: 0.018738883683389617

TEST MSG: use a different error code on windows , fixes broken test
GENERATED MSG: make tests independent of load order

TEST DIFF (one line): diff - - git a / test / com / sun / jna / LastErrorTest . java b / test / com / sun / jna / LastErrorTest . java <nl> index c0283ff . . ff7692d 100644 <nl> - - - a / test / com / sun / jna / LastErrorTest . java <nl> + + + b / test / com / sun / jna / LastErrorTest . java <nl> @ @ - 75 , 10 + 75 , 10 @ @ public class LastErrorTest extends TestCase { <nl> } <nl> } <nl> <nl> + private final int ERROR = Platform . isWindows ( ) ? 1 : - 1 ; <nl> public void testThrowLastError ( ) { <nl> TestLibrary lib = ( TestLibrary ) Native . loadLibrary ( " testlib " , TestLibrary . class , OPTIONS ) ; <nl> <nl> - final int ERROR = - 1 ; <nl> lib . noThrowLastError ( ERROR ) ; <nl> assertEquals ( " Last error not preserved " , ERROR , Native . getLastError ( ) ) ; <nl> try { <nl> @ @ - 87 , 14 + 87 , 13 @ @ public class LastErrorTest extends TestCase { <nl> } <nl> catch ( LastErrorException e ) { <nl> assertEquals ( " Exception should contain error code " , ERROR , e . getErrorCode ( ) ) ; <nl> - assertTrue ( " Exception should include error message : " + e . getMessage ( ) , e . getMessage ( ) . length ( ) > 10 ) ; <nl> + assertTrue ( " Exception should include error message : ' " + e . getMessage ( ) + " ' " , e . getMessage ( ) . length ( ) > 0 ) ; <nl> } <nl> } <nl> <nl> public void testThrowLastErrorDirect ( ) { <nl> TestLibrary lib = new DirectTestLibrary ( ) ; <nl> <nl> - final int ERROR = - 1 ; <nl> lib . noThrowLastError ( ERROR ) ; <nl> assertEquals ( " Last error not preserved " , ERROR , Native . getLastError ( ) ) ; <nl> try {
NEAREST DIFF (one line): diff - - git a / jnalib / test / com / sun / jna / JNAUnloadTest . java b / jnalib / test / com / sun / jna / JNAUnloadTest . java <nl> index a21be45 . . 732a451 100644 <nl> - - - a / jnalib / test / com / sun / jna / JNAUnloadTest . java <nl> + + + b / jnalib / test / com / sun / jna / JNAUnloadTest . java <nl> @ @ - 12 , 12 + 12 , 13 @ @ <nl> * / <nl> package com . sun . jna ; <nl> <nl> + import java . io . File ; <nl> import java . lang . ref . WeakReference ; <nl> import java . lang . reflect . Field ; <nl> - import java . io . File ; <nl> import java . net . MalformedURLException ; <nl> import java . net . URL ; <nl> import java . net . URLClassLoader ; <nl> + <nl> import junit . framework . TestCase ; <nl> <nl> public class JNAUnloadTest extends TestCase {

TEST DIFF:
diff - - git a / test / com / sun / jna / LastErrorTest . java b / test / com / sun / jna / LastErrorTest . java 
 index c0283ff . . ff7692d 100644 
 - - - a / test / com / sun / jna / LastErrorTest . java 
 + + + b / test / com / sun / jna / LastErrorTest . java 
 @ @ - 75 , 10 + 75 , 10 @ @ public class LastErrorTest extends TestCase { 
 } 
 } 
 
 + private final int ERROR = Platform . isWindows ( ) ? 1 : - 1 ; 
 public void testThrowLastError ( ) { 
 TestLibrary lib = ( TestLibrary ) Native . loadLibrary ( " testlib " , TestLibrary . class , OPTIONS ) ; 
 
 - final int ERROR = - 1 ; 
 lib . noThrowLastError ( ERROR ) ; 
 assertEquals ( " Last error not preserved " , ERROR , Native . getLastError ( ) ) ; 
 try { 
 @ @ - 87 , 14 + 87 , 13 @ @ public class LastErrorTest extends TestCase { 
 } 
 catch ( LastErrorException e ) { 
 assertEquals ( " Exception should contain error code " , ERROR , e . getErrorCode ( ) ) ; 
 - assertTrue ( " Exception should include error message : " + e . getMessage ( ) , e . getMessage ( ) . length ( ) > 10 ) ; 
 + assertTrue ( " Exception should include error message : ' " + e . getMessage ( ) + " ' " , e . getMessage ( ) . length ( ) > 0 ) ; 
 } 
 } 
 
 public void testThrowLastErrorDirect ( ) { 
 TestLibrary lib = new DirectTestLibrary ( ) ; 
 
 - final int ERROR = - 1 ; 
 lib . noThrowLastError ( ERROR ) ; 
 assertEquals ( " Last error not preserved " , ERROR , Native . getLastError ( ) ) ; 
 try {

NEAREST DIFF:
diff - - git a / jnalib / test / com / sun / jna / JNAUnloadTest . java b / jnalib / test / com / sun / jna / JNAUnloadTest . java 
 index a21be45 . . 732a451 100644 
 - - - a / jnalib / test / com / sun / jna / JNAUnloadTest . java 
 + + + b / jnalib / test / com / sun / jna / JNAUnloadTest . java 
 @ @ - 12 , 12 + 12 , 13 @ @ 
 * / 
 package com . sun . jna ; 
 
 + import java . io . File ; 
 import java . lang . ref . WeakReference ; 
 import java . lang . reflect . Field ; 
 - import java . io . File ; 
 import java . net . MalformedURLException ; 
 import java . net . URL ; 
 import java . net . URLClassLoader ; 
 + 
 import junit . framework . TestCase ; 
 
 public class JNAUnloadTest extends TestCase {
