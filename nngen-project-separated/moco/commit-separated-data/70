BLEU SCORE: 0.05693025330278466

TEST MSG: added test for dumping message without content
GENERATED MSG: Added suppress warning for unchecked empty map .

TEST DIFF (one line): diff - - git a / moco - core / src / test / java / com / github / dreamhead / moco / dumper / HttpDumpersTest . java b / moco - core / src / test / java / com / github / dreamhead / moco / dumper / HttpDumpersTest . java <nl> index ac90405 . . 91eb5c9 100644 <nl> - - - a / moco - core / src / test / java / com / github / dreamhead / moco / dumper / HttpDumpersTest . java <nl> + + + b / moco - core / src / test / java / com / github / dreamhead / moco / dumper / HttpDumpersTest . java <nl> @ @ - 72 , 11 + 72 , 18 @ @ public class HttpDumpersTest { <nl> } <nl> <nl> @ Test <nl> - @ SuppressWarnings ( " unchecked " ) <nl> - public void should _ not _ parse _ content _ when _ content _ length _ not _ set ( ) { <nl> + public void should _ parse _ content _ when _ content _ length _ not _ set ( ) { <nl> assertThat ( asContent ( messageWithHeaders ( ImmutableMap . of ( HttpHeaders . CONTENT _ TYPE , " text / plain " ) ) ) , is ( EXPECTED _ MESSAGE _ BODY ) ) ; <nl> } <nl> <nl> + @ Test <nl> + public void should _ not _ parse _ content _ when _ content _ length _ not _ set ( ) { <nl> + assertThat ( asContent ( DefaultHttpResponse . builder ( ) <nl> + . withHeaders ( ImmutableMap . of ( HttpHeaders . CONTENT _ TYPE , " text / plain " ) ) <nl> + . withContent ( " " ) <nl> + . build ( ) ) , is ( " " ) ) ; <nl> + } <nl> + <nl> private void assertMessageContent ( final String mediaType , final String expectedContent ) { <nl> assertThat ( asContent ( messageWithHeaders ( defaultHeadersFor ( mediaType ) ) ) , is ( expectedContent ) ) ; <nl> }
NEAREST DIFF (one line): diff - - git a / moco - core / src / test / java / com / github / dreamhead / moco / dumper / HttpDumpersTest . java b / moco - core / src / test / java / com / github / dreamhead / moco / dumper / HttpDumpersTest . java <nl> index fd5d8ff . . d746d5d 100644 <nl> - - - a / moco - core / src / test / java / com / github / dreamhead / moco / dumper / HttpDumpersTest . java <nl> + + + b / moco - core / src / test / java / com / github / dreamhead / moco / dumper / HttpDumpersTest . java <nl> @ @ - 68 , 6 + 68 , 7 @ @ public class HttpDumpersTest { <nl> } <nl> <nl> @ Test <nl> + @ SuppressWarnings ( " unchecked " ) <nl> public void should _ not _ parse _ content _ when _ content _ length _ not _ set ( ) throws Exception { <nl> assertThat ( asContent ( messageWithHeaders ( EMPTY _ MAP ) ) , isEmptyString ( ) ) ; <nl> }

TEST DIFF:
diff - - git a / moco - core / src / test / java / com / github / dreamhead / moco / dumper / HttpDumpersTest . java b / moco - core / src / test / java / com / github / dreamhead / moco / dumper / HttpDumpersTest . java 
 index ac90405 . . 91eb5c9 100644 
 - - - a / moco - core / src / test / java / com / github / dreamhead / moco / dumper / HttpDumpersTest . java 
 + + + b / moco - core / src / test / java / com / github / dreamhead / moco / dumper / HttpDumpersTest . java 
 @ @ - 72 , 11 + 72 , 18 @ @ public class HttpDumpersTest { 
 } 
 
 @ Test 
 - @ SuppressWarnings ( " unchecked " ) 
 - public void should _ not _ parse _ content _ when _ content _ length _ not _ set ( ) { 
 + public void should _ parse _ content _ when _ content _ length _ not _ set ( ) { 
 assertThat ( asContent ( messageWithHeaders ( ImmutableMap . of ( HttpHeaders . CONTENT _ TYPE , " text / plain " ) ) ) , is ( EXPECTED _ MESSAGE _ BODY ) ) ; 
 } 
 
 + @ Test 
 + public void should _ not _ parse _ content _ when _ content _ length _ not _ set ( ) { 
 + assertThat ( asContent ( DefaultHttpResponse . builder ( ) 
 + . withHeaders ( ImmutableMap . of ( HttpHeaders . CONTENT _ TYPE , " text / plain " ) ) 
 + . withContent ( " " ) 
 + . build ( ) ) , is ( " " ) ) ; 
 + } 
 + 
 private void assertMessageContent ( final String mediaType , final String expectedContent ) { 
 assertThat ( asContent ( messageWithHeaders ( defaultHeadersFor ( mediaType ) ) ) , is ( expectedContent ) ) ; 
 }

NEAREST DIFF:
diff - - git a / moco - core / src / test / java / com / github / dreamhead / moco / dumper / HttpDumpersTest . java b / moco - core / src / test / java / com / github / dreamhead / moco / dumper / HttpDumpersTest . java 
 index fd5d8ff . . d746d5d 100644 
 - - - a / moco - core / src / test / java / com / github / dreamhead / moco / dumper / HttpDumpersTest . java 
 + + + b / moco - core / src / test / java / com / github / dreamhead / moco / dumper / HttpDumpersTest . java 
 @ @ - 68 , 6 + 68 , 7 @ @ public class HttpDumpersTest { 
 } 
 
 @ Test 
 + @ SuppressWarnings ( " unchecked " ) 
 public void should _ not _ parse _ content _ when _ content _ length _ not _ set ( ) throws Exception { 
 assertThat ( asContent ( messageWithHeaders ( EMPTY _ MAP ) ) , isEmptyString ( ) ) ; 
 }
