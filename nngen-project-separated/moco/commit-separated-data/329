BLEU SCORE: 0.034353182138500235

TEST MSG: optimized import in forms request extractor
GENERATED MSG: prepared http response to full http response

TEST DIFF (one line): diff - - git a / moco - core / src / main / java / com / github / dreamhead / moco / extractor / FormsRequestExtractor . java b / moco - core / src / main / java / com / github / dreamhead / moco / extractor / FormsRequestExtractor . java <nl> index 8a6a780 . . d862840 100644 <nl> - - - a / moco - core / src / main / java / com / github / dreamhead / moco / extractor / FormsRequestExtractor . java <nl> + + + b / moco - core / src / main / java / com / github / dreamhead / moco / extractor / FormsRequestExtractor . java <nl> @ @ - 10 , 6 + 10 , 7 @ @ import io . netty . handler . codec . http . FullHttpRequest ; <nl> import io . netty . handler . codec . http . HttpUtil ; <nl> import io . netty . handler . codec . http . multipart . Attribute ; <nl> import io . netty . handler . codec . http . multipart . DefaultHttpDataFactory ; <nl> + import io . netty . handler . codec . http . multipart . HttpDataFactory ; <nl> import io . netty . handler . codec . http . multipart . HttpPostRequestDecoder ; <nl> import io . netty . handler . codec . http . multipart . InterfaceHttpData ; <nl> <nl> @ @ - 28 , 7 + 29 , 7 @ @ public class FormsRequestExtractor extends HttpRequestExtractor < ImmutableMap < Str <nl> protected Optional < ImmutableMap < String , String > > doExtract ( final HttpRequest request ) { <nl> HttpPostRequestDecoder decoder = null ; <nl> try { <nl> - DefaultHttpDataFactory factory = new DefaultHttpDataFactory ( DefaultHttpDataFactory . MINSIZE ) ; <nl> + HttpDataFactory factory = new DefaultHttpDataFactory ( DefaultHttpDataFactory . MINSIZE ) ; <nl> FullHttpRequest targetRequest = ( ( DefaultHttpRequest ) request ) . toFullHttpRequest ( ) ; <nl> Charset charset = HttpUtil . getCharset ( targetRequest ) ; <nl> decoder = new HttpPostRequestDecoder ( factory , targetRequest , charset ) ;
NEAREST DIFF (one line): diff - - git a / moco - core / src / main / java / com / github / dreamhead / moco / model / DefaultMutableHttpResponse . java b / moco - core / src / main / java / com / github / dreamhead / moco / model / DefaultMutableHttpResponse . java <nl> index 3ea8564 . . 4908922 100644 <nl> - - - a / moco - core / src / main / java / com / github / dreamhead / moco / model / DefaultMutableHttpResponse . java <nl> + + + b / moco - core / src / main / java / com / github / dreamhead / moco / model / DefaultMutableHttpResponse . java <nl> @ @ - 4 , 6 + 4 , 10 @ @ import com . github . dreamhead . moco . HttpProtocolVersion ; <nl> import com . github . dreamhead . moco . MutableHttpResponse ; <nl> import com . google . common . collect . ImmutableMap ; <nl> import com . google . common . collect . Maps ; <nl> + import io . netty . handler . codec . http . DefaultFullHttpResponse ; <nl> + import io . netty . handler . codec . http . FullHttpResponse ; <nl> + import io . netty . handler . codec . http . HttpResponseStatus ; <nl> + import io . netty . handler . codec . http . HttpVersion ; <nl> <nl> import java . util . Map ; <nl> <nl> @ @ - 59 , 4 + 63 , 10 @ @ public class DefaultMutableHttpResponse implements MutableHttpResponse { <nl> public static MutableHttpResponse newResponse ( ) { <nl> return new DefaultMutableHttpResponse ( ) ; <nl> } <nl> + <nl> + public FullHttpResponse toFullResponse ( ) { <nl> + DefaultFullHttpResponse response = new DefaultFullHttpResponse ( HttpVersion . valueOf ( this . version . text ( ) ) , HttpResponseStatus . valueOf ( this . status ) ) ; <nl> + MessageFactory . writeResponse ( response , this ) ; <nl> + return response ; <nl> + } <nl> }

TEST DIFF:
diff - - git a / moco - core / src / main / java / com / github / dreamhead / moco / extractor / FormsRequestExtractor . java b / moco - core / src / main / java / com / github / dreamhead / moco / extractor / FormsRequestExtractor . java 
 index 8a6a780 . . d862840 100644 
 - - - a / moco - core / src / main / java / com / github / dreamhead / moco / extractor / FormsRequestExtractor . java 
 + + + b / moco - core / src / main / java / com / github / dreamhead / moco / extractor / FormsRequestExtractor . java 
 @ @ - 10 , 6 + 10 , 7 @ @ import io . netty . handler . codec . http . FullHttpRequest ; 
 import io . netty . handler . codec . http . HttpUtil ; 
 import io . netty . handler . codec . http . multipart . Attribute ; 
 import io . netty . handler . codec . http . multipart . DefaultHttpDataFactory ; 
 + import io . netty . handler . codec . http . multipart . HttpDataFactory ; 
 import io . netty . handler . codec . http . multipart . HttpPostRequestDecoder ; 
 import io . netty . handler . codec . http . multipart . InterfaceHttpData ; 
 
 @ @ - 28 , 7 + 29 , 7 @ @ public class FormsRequestExtractor extends HttpRequestExtractor < ImmutableMap < Str 
 protected Optional < ImmutableMap < String , String > > doExtract ( final HttpRequest request ) { 
 HttpPostRequestDecoder decoder = null ; 
 try { 
 - DefaultHttpDataFactory factory = new DefaultHttpDataFactory ( DefaultHttpDataFactory . MINSIZE ) ; 
 + HttpDataFactory factory = new DefaultHttpDataFactory ( DefaultHttpDataFactory . MINSIZE ) ; 
 FullHttpRequest targetRequest = ( ( DefaultHttpRequest ) request ) . toFullHttpRequest ( ) ; 
 Charset charset = HttpUtil . getCharset ( targetRequest ) ; 
 decoder = new HttpPostRequestDecoder ( factory , targetRequest , charset ) ;

NEAREST DIFF:
diff - - git a / moco - core / src / main / java / com / github / dreamhead / moco / model / DefaultMutableHttpResponse . java b / moco - core / src / main / java / com / github / dreamhead / moco / model / DefaultMutableHttpResponse . java 
 index 3ea8564 . . 4908922 100644 
 - - - a / moco - core / src / main / java / com / github / dreamhead / moco / model / DefaultMutableHttpResponse . java 
 + + + b / moco - core / src / main / java / com / github / dreamhead / moco / model / DefaultMutableHttpResponse . java 
 @ @ - 4 , 6 + 4 , 10 @ @ import com . github . dreamhead . moco . HttpProtocolVersion ; 
 import com . github . dreamhead . moco . MutableHttpResponse ; 
 import com . google . common . collect . ImmutableMap ; 
 import com . google . common . collect . Maps ; 
 + import io . netty . handler . codec . http . DefaultFullHttpResponse ; 
 + import io . netty . handler . codec . http . FullHttpResponse ; 
 + import io . netty . handler . codec . http . HttpResponseStatus ; 
 + import io . netty . handler . codec . http . HttpVersion ; 
 
 import java . util . Map ; 
 
 @ @ - 59 , 4 + 63 , 10 @ @ public class DefaultMutableHttpResponse implements MutableHttpResponse { 
 public static MutableHttpResponse newResponse ( ) { 
 return new DefaultMutableHttpResponse ( ) ; 
 } 
 + 
 + public FullHttpResponse toFullResponse ( ) { 
 + DefaultFullHttpResponse response = new DefaultFullHttpResponse ( HttpVersion . valueOf ( this . version . text ( ) ) , HttpResponseStatus . valueOf ( this . status ) ) ; 
 + MessageFactory . writeResponse ( response , this ) ; 
 + return response ; 
 + } 
 }
