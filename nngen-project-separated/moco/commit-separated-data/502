BLEU SCORE: 0.21200626759025185

TEST MSG: replaced mapper read value with jsons to object in default failover executor
GENERATED MSG: used type reference in default failover executor

TEST DIFF (one line): diff - - git a / moco - core / src / main / java / com / github / dreamhead / moco / handler / failover / DefaultFailoverExecutor . java b / moco - core / src / main / java / com / github / dreamhead / moco / handler / failover / DefaultFailoverExecutor . java <nl> index edee7a2 . . e342ef3 100644 <nl> - - - a / moco - core / src / main / java / com / github / dreamhead / moco / handler / failover / DefaultFailoverExecutor . java <nl> + + + b / moco - core / src / main / java / com / github / dreamhead / moco / handler / failover / DefaultFailoverExecutor . java <nl> @ @ - 1 , 7 + 1 , 6 @ @ <nl> package com . github . dreamhead . moco . handler . failover ; <nl> <nl> import com . fasterxml . jackson . core . type . TypeReference ; <nl> - import com . fasterxml . jackson . databind . JsonMappingException ; <nl> import com . fasterxml . jackson . databind . ObjectMapper ; <nl> import com . fasterxml . jackson . databind . ObjectWriter ; <nl> import com . github . dreamhead . moco . HttpRequest ; <nl> @ @ - 17 , 6 + 16 , 7 @ @ import org . slf4j . Logger ; <nl> import org . slf4j . LoggerFactory ; <nl> <nl> import java . io . File ; <nl> + import java . io . FileInputStream ; <nl> import java . io . IOException ; <nl> import java . util . List ; <nl> <nl> @ @ - 69 , 10 + 69 , 10 @ @ public class DefaultFailoverExecutor implements FailoverExecutor { <nl> <nl> private ImmutableList < Session > restoreSessions ( final File file ) { <nl> try { <nl> - List < Session > sessions = mapper . readValue ( file , new TypeReference < List < Session > > ( ) { } ) ; <nl> + List < Session > sessions = Jsons . toObject ( new FileInputStream ( file ) , new TypeReference < List < Session > > ( ) { } ) ; <nl> return copyOf ( sessions ) ; <nl> - } catch ( JsonMappingException jme ) { <nl> - logger . error ( " exception found " , jme ) ; <nl> + } catch ( MocoException me ) { <nl> + logger . error ( " exception found " , me ) ; <nl> return of ( ) ; <nl> } catch ( IOException e ) { <nl> throw new MocoException ( e ) ;
NEAREST DIFF (one line): diff - - git a / moco - core / src / main / java / com / github / dreamhead / moco / handler / failover / DefaultFailoverExecutor . java b / moco - core / src / main / java / com / github / dreamhead / moco / handler / failover / DefaultFailoverExecutor . java <nl> index ed2684e . . edee7a2 100644 <nl> - - - a / moco - core / src / main / java / com / github / dreamhead / moco / handler / failover / DefaultFailoverExecutor . java <nl> + + + b / moco - core / src / main / java / com / github / dreamhead / moco / handler / failover / DefaultFailoverExecutor . java <nl> @ @ - 1 , 14 + 1 , 15 @ @ <nl> package com . github . dreamhead . moco . handler . failover ; <nl> <nl> + import com . fasterxml . jackson . core . type . TypeReference ; <nl> import com . fasterxml . jackson . databind . JsonMappingException ; <nl> import com . fasterxml . jackson . databind . ObjectMapper ; <nl> import com . fasterxml . jackson . databind . ObjectWriter ; <nl> - import com . fasterxml . jackson . databind . type . TypeFactory ; <nl> import com . github . dreamhead . moco . HttpRequest ; <nl> import com . github . dreamhead . moco . HttpResponse ; <nl> import com . github . dreamhead . moco . MocoException ; <nl> import com . github . dreamhead . moco . model . HttpRequestFailoverMatcher ; <nl> import com . github . dreamhead . moco . model . Session ; <nl> + import com . github . dreamhead . moco . util . Jsons ; <nl> import com . google . common . base . Optional ; <nl> import com . google . common . base . Predicate ; <nl> import com . google . common . collect . ImmutableList ; <nl> @ @ - 28 , 7 + 29 , 6 @ @ import static com . google . common . collect . Iterables . tryFind ; <nl> public class DefaultFailoverExecutor implements FailoverExecutor { <nl> private static Logger logger = LoggerFactory . getLogger ( DefaultFailoverExecutor . class ) ; <nl> <nl> - private final TypeFactory factory = TypeFactory . defaultInstance ( ) ; <nl> private final ObjectMapper mapper = new ObjectMapper ( ) ; <nl> private final File file ; <nl> <nl> @ @ - 69 , 7 + 69 , 7 @ @ public class DefaultFailoverExecutor implements FailoverExecutor { <nl> <nl> private ImmutableList < Session > restoreSessions ( final File file ) { <nl> try { <nl> - List < Session > sessions = mapper . readValue ( file , factory . constructCollectionType ( List . class , Session . class ) ) ; <nl> + List < Session > sessions = mapper . readValue ( file , new TypeReference < List < Session > > ( ) { } ) ; <nl> return copyOf ( sessions ) ; <nl> } catch ( JsonMappingException jme ) { <nl> logger . error ( " exception found " , jme ) ;

TEST DIFF:
diff - - git a / moco - core / src / main / java / com / github / dreamhead / moco / handler / failover / DefaultFailoverExecutor . java b / moco - core / src / main / java / com / github / dreamhead / moco / handler / failover / DefaultFailoverExecutor . java 
 index edee7a2 . . e342ef3 100644 
 - - - a / moco - core / src / main / java / com / github / dreamhead / moco / handler / failover / DefaultFailoverExecutor . java 
 + + + b / moco - core / src / main / java / com / github / dreamhead / moco / handler / failover / DefaultFailoverExecutor . java 
 @ @ - 1 , 7 + 1 , 6 @ @ 
 package com . github . dreamhead . moco . handler . failover ; 
 
 import com . fasterxml . jackson . core . type . TypeReference ; 
 - import com . fasterxml . jackson . databind . JsonMappingException ; 
 import com . fasterxml . jackson . databind . ObjectMapper ; 
 import com . fasterxml . jackson . databind . ObjectWriter ; 
 import com . github . dreamhead . moco . HttpRequest ; 
 @ @ - 17 , 6 + 16 , 7 @ @ import org . slf4j . Logger ; 
 import org . slf4j . LoggerFactory ; 
 
 import java . io . File ; 
 + import java . io . FileInputStream ; 
 import java . io . IOException ; 
 import java . util . List ; 
 
 @ @ - 69 , 10 + 69 , 10 @ @ public class DefaultFailoverExecutor implements FailoverExecutor { 
 
 private ImmutableList < Session > restoreSessions ( final File file ) { 
 try { 
 - List < Session > sessions = mapper . readValue ( file , new TypeReference < List < Session > > ( ) { } ) ; 
 + List < Session > sessions = Jsons . toObject ( new FileInputStream ( file ) , new TypeReference < List < Session > > ( ) { } ) ; 
 return copyOf ( sessions ) ; 
 - } catch ( JsonMappingException jme ) { 
 - logger . error ( " exception found " , jme ) ; 
 + } catch ( MocoException me ) { 
 + logger . error ( " exception found " , me ) ; 
 return of ( ) ; 
 } catch ( IOException e ) { 
 throw new MocoException ( e ) ;

NEAREST DIFF:
diff - - git a / moco - core / src / main / java / com / github / dreamhead / moco / handler / failover / DefaultFailoverExecutor . java b / moco - core / src / main / java / com / github / dreamhead / moco / handler / failover / DefaultFailoverExecutor . java 
 index ed2684e . . edee7a2 100644 
 - - - a / moco - core / src / main / java / com / github / dreamhead / moco / handler / failover / DefaultFailoverExecutor . java 
 + + + b / moco - core / src / main / java / com / github / dreamhead / moco / handler / failover / DefaultFailoverExecutor . java 
 @ @ - 1 , 14 + 1 , 15 @ @ 
 package com . github . dreamhead . moco . handler . failover ; 
 
 + import com . fasterxml . jackson . core . type . TypeReference ; 
 import com . fasterxml . jackson . databind . JsonMappingException ; 
 import com . fasterxml . jackson . databind . ObjectMapper ; 
 import com . fasterxml . jackson . databind . ObjectWriter ; 
 - import com . fasterxml . jackson . databind . type . TypeFactory ; 
 import com . github . dreamhead . moco . HttpRequest ; 
 import com . github . dreamhead . moco . HttpResponse ; 
 import com . github . dreamhead . moco . MocoException ; 
 import com . github . dreamhead . moco . model . HttpRequestFailoverMatcher ; 
 import com . github . dreamhead . moco . model . Session ; 
 + import com . github . dreamhead . moco . util . Jsons ; 
 import com . google . common . base . Optional ; 
 import com . google . common . base . Predicate ; 
 import com . google . common . collect . ImmutableList ; 
 @ @ - 28 , 7 + 29 , 6 @ @ import static com . google . common . collect . Iterables . tryFind ; 
 public class DefaultFailoverExecutor implements FailoverExecutor { 
 private static Logger logger = LoggerFactory . getLogger ( DefaultFailoverExecutor . class ) ; 
 
 - private final TypeFactory factory = TypeFactory . defaultInstance ( ) ; 
 private final ObjectMapper mapper = new ObjectMapper ( ) ; 
 private final File file ; 
 
 @ @ - 69 , 7 + 69 , 7 @ @ public class DefaultFailoverExecutor implements FailoverExecutor { 
 
 private ImmutableList < Session > restoreSessions ( final File file ) { 
 try { 
 - List < Session > sessions = mapper . readValue ( file , factory . constructCollectionType ( List . class , Session . class ) ) ; 
 + List < Session > sessions = mapper . readValue ( file , new TypeReference < List < Session > > ( ) { } ) ; 
 return copyOf ( sessions ) ; 
 } catch ( JsonMappingException jme ) { 
 logger . error ( " exception found " , jme ) ;
