BLEU SCORE: 0.17965205598154216

TEST MSG: added test for globbing unknown path
GENERATED MSG: added direct file test for globs

TEST DIFF (one line): diff - - git a / moco - core / src / test / java / com / github / dreamhead / moco / util / GlobsTest . java b / moco - core / src / test / java / com / github / dreamhead / moco / util / GlobsTest . java <nl> index 57be5d5 . . cd14a52 100644 <nl> - - - a / moco - core / src / test / java / com / github / dreamhead / moco / util / GlobsTest . java <nl> + + + b / moco - core / src / test / java / com / github / dreamhead / moco / util / GlobsTest . java <nl> @ @ - 1 , 5 + 1 , 6 @ @ <nl> package com . github . dreamhead . moco . util ; <nl> <nl> + import com . github . dreamhead . moco . MocoException ; <nl> import com . google . common . collect . ImmutableList ; <nl> import org . junit . Rule ; <nl> import org . junit . Test ; <nl> @ @ - 43 , 4 + 44 , 9 @ @ public class GlobsTest { <nl> ImmutableList < String > files = Globs . glob ( glob ) ; <nl> assertThat ( files . contains ( file . getAbsolutePath ( ) ) , is ( true ) ) ; <nl> } <nl> + <nl> + @ Test ( expected = MocoException . class ) <nl> + public void should _ throw _ exception _ for _ unknown _ root ( ) { <nl> + Globs . glob ( " unknown / src / test / resources / details / * . json " ) ; <nl> + } <nl> } <nl> \ No newline at end of file
NEAREST DIFF (one line): diff - - git a / moco - core / src / main / java / com / github / dreamhead / moco / util / Globs . java b / moco - core / src / main / java / com / github / dreamhead / moco / util / Globs . java <nl> index 5c344b9 . . ecb81b8 100644 <nl> - - - a / moco - core / src / main / java / com / github / dreamhead / moco / util / Globs . java <nl> + + + b / moco - core / src / main / java / com / github / dreamhead / moco / util / Globs . java <nl> @ @ - 29 , 8 + 29 , 9 @ @ public class Globs { <nl> private static ImmutableList < String > doGlob ( final Path path , final Path searchPath ) { <nl> final PathMatcher matcher = FileSystems . getDefault ( ) . getPathMatcher ( " glob : " + path ) ; <nl> <nl> - final ImmutableList . Builder < String > builder = ImmutableList . builder ( ) ; <nl> try { <nl> + final ImmutableList . Builder < String > builder = ImmutableList . builder ( ) ; <nl> + <nl> Files . walkFileTree ( searchPath , new SimpleFileVisitor < Path > ( ) { <nl> @ Override <nl> public FileVisitResult visitFile ( final Path file , final BasicFileAttributes attrs ) throws IOException { <nl> @ @ - 40 , 11 + 41 , 10 @ @ public class Globs { <nl> return FileVisitResult . CONTINUE ; <nl> } <nl> } ) ; <nl> + return builder . build ( ) ; <nl> } catch ( IOException e ) { <nl> throw new MocoException ( e ) ; <nl> } <nl> - <nl> - return builder . build ( ) ; <nl> } <nl> <nl> private static int getGlobIndex ( Path path ) { <nl> diff - - git a / moco - core / src / test / java / com / github / dreamhead / moco / util / GlobsTest . java b / moco - core / src / test / java / com / github / dreamhead / moco / util / GlobsTest . java <nl> index 516af84 . . 1dda996 100644 <nl> - - - a / moco - core / src / test / java / com / github / dreamhead / moco / util / GlobsTest . java <nl> + + + b / moco - core / src / test / java / com / github / dreamhead / moco / util / GlobsTest . java <nl> @ @ - 14 , 4 + 14 , 10 @ @ public class GlobsTest { <nl> assertThat ( files . contains ( " src / test / resources / details / bar . json " ) , is ( true ) ) ; <nl> } <nl> <nl> + @ Test <nl> + public void should _ glob _ direct _ files ( ) { <nl> + ImmutableList < String > files = Globs . glob ( " src / test / resources / details / foo . json " ) ; <nl> + assertThat ( files . contains ( " src / test / resources / details / foo . json " ) , is ( true ) ) ; <nl> + } <nl> + <nl> } <nl> \ No newline at end of file

TEST DIFF:
diff - - git a / moco - core / src / test / java / com / github / dreamhead / moco / util / GlobsTest . java b / moco - core / src / test / java / com / github / dreamhead / moco / util / GlobsTest . java 
 index 57be5d5 . . cd14a52 100644 
 - - - a / moco - core / src / test / java / com / github / dreamhead / moco / util / GlobsTest . java 
 + + + b / moco - core / src / test / java / com / github / dreamhead / moco / util / GlobsTest . java 
 @ @ - 1 , 5 + 1 , 6 @ @ 
 package com . github . dreamhead . moco . util ; 
 
 + import com . github . dreamhead . moco . MocoException ; 
 import com . google . common . collect . ImmutableList ; 
 import org . junit . Rule ; 
 import org . junit . Test ; 
 @ @ - 43 , 4 + 44 , 9 @ @ public class GlobsTest { 
 ImmutableList < String > files = Globs . glob ( glob ) ; 
 assertThat ( files . contains ( file . getAbsolutePath ( ) ) , is ( true ) ) ; 
 } 
 + 
 + @ Test ( expected = MocoException . class ) 
 + public void should _ throw _ exception _ for _ unknown _ root ( ) { 
 + Globs . glob ( " unknown / src / test / resources / details / * . json " ) ; 
 + } 
 } 
 \ No newline at end of file

NEAREST DIFF:
diff - - git a / moco - core / src / main / java / com / github / dreamhead / moco / util / Globs . java b / moco - core / src / main / java / com / github / dreamhead / moco / util / Globs . java 
 index 5c344b9 . . ecb81b8 100644 
 - - - a / moco - core / src / main / java / com / github / dreamhead / moco / util / Globs . java 
 + + + b / moco - core / src / main / java / com / github / dreamhead / moco / util / Globs . java 
 @ @ - 29 , 8 + 29 , 9 @ @ public class Globs { 
 private static ImmutableList < String > doGlob ( final Path path , final Path searchPath ) { 
 final PathMatcher matcher = FileSystems . getDefault ( ) . getPathMatcher ( " glob : " + path ) ; 
 
 - final ImmutableList . Builder < String > builder = ImmutableList . builder ( ) ; 
 try { 
 + final ImmutableList . Builder < String > builder = ImmutableList . builder ( ) ; 
 + 
 Files . walkFileTree ( searchPath , new SimpleFileVisitor < Path > ( ) { 
 @ Override 
 public FileVisitResult visitFile ( final Path file , final BasicFileAttributes attrs ) throws IOException { 
 @ @ - 40 , 11 + 41 , 10 @ @ public class Globs { 
 return FileVisitResult . CONTINUE ; 
 } 
 } ) ; 
 + return builder . build ( ) ; 
 } catch ( IOException e ) { 
 throw new MocoException ( e ) ; 
 } 
 - 
 - return builder . build ( ) ; 
 } 
 
 private static int getGlobIndex ( Path path ) { 
 diff - - git a / moco - core / src / test / java / com / github / dreamhead / moco / util / GlobsTest . java b / moco - core / src / test / java / com / github / dreamhead / moco / util / GlobsTest . java 
 index 516af84 . . 1dda996 100644 
 - - - a / moco - core / src / test / java / com / github / dreamhead / moco / util / GlobsTest . java 
 + + + b / moco - core / src / test / java / com / github / dreamhead / moco / util / GlobsTest . java 
 @ @ - 14 , 4 + 14 , 10 @ @ public class GlobsTest { 
 assertThat ( files . contains ( " src / test / resources / details / bar . json " ) , is ( true ) ) ; 
 } 
 
 + @ Test 
 + public void should _ glob _ direct _ files ( ) { 
 + ImmutableList < String > files = Globs . glob ( " src / test / resources / details / foo . json " ) ; 
 + assertThat ( files . contains ( " src / test / resources / details / foo . json " ) , is ( true ) ) ; 
 + } 
 + 
 } 
 \ No newline at end of file
