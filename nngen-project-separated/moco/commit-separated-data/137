BLEU SCORE: 0.09652434877402245

TEST MSG: documented req . json in template
GENERATED MSG: documented now template function

TEST DIFF (one line): diff - - git a / moco - doc / apis . md b / moco - doc / apis . md <nl> index 3f48a91 . . fa9c196 100644 <nl> - - - a / moco - doc / apis . md <nl> + + + b / moco - doc / apis . md <nl> @ @ - 1949 , 7 + 1949 , 7 @ @ Header is another important element in template and we can use ` req . headers ` for <nl> * Java <nl> <nl> ` ` ` java <nl> - server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . headers [ ' foo ' ] " ) ) ; <nl> + server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . headers [ ' foo ' ] } " ) ) ; <nl> ` ` ` <nl> <nl> * JSON <nl> @ @ - 1975 , 7 + 1975 , 7 @ @ server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . headers [ ' foo ' ] " ) ) ; <nl> * Java <nl> <nl> ` ` ` java <nl> - server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . queries [ ' foo ' ] " ) ) ; <nl> + server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . queries [ ' foo ' ] } " ) ) ; <nl> ` ` ` <nl> <nl> * JSON <nl> @ @ - 2001 , 7 + 2001 , 7 @ @ server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . queries [ ' foo ' ] " ) ) ; <nl> * Java <nl> <nl> ` ` ` java <nl> - server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . forms [ ' foo ' ] " ) ) ; <nl> + server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . forms [ ' foo ' ] } " ) ) ; <nl> ` ` ` <nl> <nl> * JSON <nl> @ @ - 2027 , 7 + 2027 , 7 @ @ Cookie from request can extracted by ` req . cookies ` . <nl> * Java <nl> <nl> ` ` ` java <nl> - server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . cookies [ ' foo ' ] " ) ) ; <nl> + server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . cookies [ ' foo ' ] } " ) ) ; <nl> ` ` ` <nl> <nl> * JSON <nl> @ @ - 2045 , 6 + 2045 , 32 @ @ server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . cookies [ ' foo ' ] " ) ) ; <nl> } <nl> ` ` ` <nl> <nl> + # # # # JSON <nl> + <nl> + If your request is a JSON request , you can use ` req . json ` to visit your json object . <nl> + <nl> + * Java <nl> + <nl> + ` ` ` java <nl> + server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . json . foo } " ) ) ; <nl> + ` ` ` <nl> + <nl> + * JSON <nl> + <nl> + ` ` ` json <nl> + { <nl> + " request " : { <nl> + " uri " : " / template " <nl> + } , <nl> + " response " : { <nl> + " text " : { <nl> + " template " : " $ { req . json . foo } " <nl> + } <nl> + } <nl> + } <nl> + ` ` ` <nl> + <nl> + <nl> # # # Custom Variable <nl> * * @ Since 0 . 9 . 1 * * <nl> <nl> @ @ - 2137 , 6 + 2163 , 7 @ @ server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { now ( ' yyyy - MM - dd ' ) } " ) ) ; <nl> } <nl> } <nl> } <nl> + ` ` ` <nl> <nl> # # # Redirect <nl> * * @ Since 0 . 10 . 2 * *
NEAREST DIFF (one line): diff - - git a / moco - doc / apis . md b / moco - doc / apis . md <nl> index 9cf1fb2 . . 3f48a91 100644 <nl> - - - a / moco - doc / apis . md <nl> + + + b / moco - doc / apis . md <nl> @ @ - 57 , 13 + 57 , 14 @ @ Table of Contents <nl> * [ JSON Response ] ( # json - response ) <nl> * [ Mount ] ( # mount ) <nl> * [ Template ( Beta ) ] ( # templatebeta ) <nl> - * [ Version ] ( # version - 2 ) <nl> - * [ Method ] ( # method ) <nl> - * [ Content ] ( # content - 2 ) <nl> - * [ Header ] ( # header - 2 ) <nl> - * [ Query ] ( # query ) <nl> - * [ Form ] ( # form - 1 ) <nl> - * [ Cookie ] ( # cookie - 2 ) <nl> + * [ Request ] ( # request - 2 ) <nl> + * [ Version ] ( # version - 2 ) <nl> + * [ Method ] ( # method ) <nl> + * [ Content ] ( # content - 2 ) <nl> + * [ Header ] ( # header - 2 ) <nl> + * [ Query ] ( # query ) <nl> + * [ Form ] ( # form - 1 ) <nl> + * [ Cookie ] ( # cookie - 2 ) <nl> * [ Custom Variable ] ( # custom - variable ) <nl> * [ Redirect ] ( # redirect - 1 ) <nl> * [ File Name Template ] ( # file - name - template ) <nl> @ @ - 1856 , 7 + 1857 , 11 @ @ Sometimes , we need to customize our response based on something , e . g . response s <nl> <nl> The goal can be reached by template : <nl> <nl> - # # # Version <nl> + # # # Request <nl> + <nl> + You can get request information with ` req ` in template . <nl> + <nl> + # # # # Version <nl> * * @ Since 0 . 8 * * <nl> <nl> With ` req . version ` , request version can be retrieved in template . <nl> @ @ - 1884 , 7 + 1889 , 7 @ @ server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . version } " ) ) ; <nl> } <nl> ` ` ` <nl> <nl> - # # # Method <nl> + # # # # Method <nl> * * @ Since 0 . 8 * * <nl> <nl> Request method is identified by ` req . method ` . <nl> @ @ - 1910 , 7 + 1915 , 7 @ @ server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . method } " ) ) ; <nl> } <nl> ` ` ` <nl> <nl> - # # # Content <nl> + # # # # Content <nl> * * @ Since 0 . 8 * * <nl> <nl> All request content can be used in template with ` req . content ` <nl> @ @ - 1936 , 7 + 1941 , 7 @ @ server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . content } " ) ) ; <nl> } <nl> ` ` ` <nl> <nl> - # # # Header <nl> + # # # # Header <nl> * * @ Since 0 . 8 * * <nl> <nl> Header is another important element in template and we can use ` req . headers ` for headers . <nl> @ @ - 1962 , 7 + 1967 , 7 @ @ server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . headers [ ' foo ' ] " ) ) ; <nl> } <nl> ` ` ` <nl> <nl> - # # # Query <nl> + # # # # Query <nl> * * @ Since 0 . 8 * * <nl> <nl> ` req . queries ` helps us to extract request query . <nl> @ @ - 1988 , 7 + 1993 , 7 @ @ server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . queries [ ' foo ' ] " ) ) ; <nl> } <nl> ` ` ` <nl> <nl> - # # # Form <nl> + # # # # Form <nl> * * @ Since 0 . 9 . 1 * * <nl> <nl> ` req . forms ` can extract form value from request . <nl> @ @ - 2014 , 7 + 2019 , 7 @ @ server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . forms [ ' foo ' ] " ) ) ; <nl> } <nl> ` ` ` <nl> <nl> - # # # Cookie <nl> + # # # # Cookie <nl> * * @ Since 0 . 9 . 1 * * <nl> <nl> Cookie from request can extracted by ` req . cookies ` . <nl> @ @ - 2105 , 6 + 2110 , 34 @ @ server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { foo } " , " foo " , jsonPath <nl> <nl> Other extractors , e . g . xpath also work here . <nl> <nl> + # # # Template Function <nl> + <nl> + # # # # now <nl> + <nl> + * * @ Since will be at next release * * <nl> + <nl> + Current time can retrieved by ' now ' function and a date format string should be passed as argument . <nl> + <nl> + * Java <nl> + <nl> + ` ` ` java <nl> + server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { now ( ' yyyy - MM - dd ' ) } " ) ) ; <nl> + ` ` ` <nl> + <nl> + * JSON <nl> + <nl> + ` ` ` json <nl> + { <nl> + " request " : { <nl> + " uri " : " / template " <nl> + } , <nl> + " response " : { <nl> + " text " : { <nl> + " template " : " $ { now ( ' yyyy - MM - dd ' ) } " ) <nl> + } <nl> + } <nl> + } <nl> + <nl> # # # Redirect <nl> * * @ Since 0 . 10 . 2 * * <nl>

TEST DIFF:
diff - - git a / moco - doc / apis . md b / moco - doc / apis . md 
 index 3f48a91 . . fa9c196 100644 
 - - - a / moco - doc / apis . md 
 + + + b / moco - doc / apis . md 
 @ @ - 1949 , 7 + 1949 , 7 @ @ Header is another important element in template and we can use ` req . headers ` for 
 * Java 
 
 ` ` ` java 
 - server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . headers [ ' foo ' ] " ) ) ; 
 + server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . headers [ ' foo ' ] } " ) ) ; 
 ` ` ` 
 
 * JSON 
 @ @ - 1975 , 7 + 1975 , 7 @ @ server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . headers [ ' foo ' ] " ) ) ; 
 * Java 
 
 ` ` ` java 
 - server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . queries [ ' foo ' ] " ) ) ; 
 + server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . queries [ ' foo ' ] } " ) ) ; 
 ` ` ` 
 
 * JSON 
 @ @ - 2001 , 7 + 2001 , 7 @ @ server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . queries [ ' foo ' ] " ) ) ; 
 * Java 
 
 ` ` ` java 
 - server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . forms [ ' foo ' ] " ) ) ; 
 + server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . forms [ ' foo ' ] } " ) ) ; 
 ` ` ` 
 
 * JSON 
 @ @ - 2027 , 7 + 2027 , 7 @ @ Cookie from request can extracted by ` req . cookies ` . 
 * Java 
 
 ` ` ` java 
 - server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . cookies [ ' foo ' ] " ) ) ; 
 + server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . cookies [ ' foo ' ] } " ) ) ; 
 ` ` ` 
 
 * JSON 
 @ @ - 2045 , 6 + 2045 , 32 @ @ server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . cookies [ ' foo ' ] " ) ) ; 
 } 
 ` ` ` 
 
 + # # # # JSON 
 + 
 + If your request is a JSON request , you can use ` req . json ` to visit your json object . 
 + 
 + * Java 
 + 
 + ` ` ` java 
 + server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . json . foo } " ) ) ; 
 + ` ` ` 
 + 
 + * JSON 
 + 
 + ` ` ` json 
 + { 
 + " request " : { 
 + " uri " : " / template " 
 + } , 
 + " response " : { 
 + " text " : { 
 + " template " : " $ { req . json . foo } " 
 + } 
 + } 
 + } 
 + ` ` ` 
 + 
 + 
 # # # Custom Variable 
 * * @ Since 0 . 9 . 1 * * 
 
 @ @ - 2137 , 6 + 2163 , 7 @ @ server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { now ( ' yyyy - MM - dd ' ) } " ) ) ; 
 } 
 } 
 } 
 + ` ` ` 
 
 # # # Redirect 
 * * @ Since 0 . 10 . 2 * *

NEAREST DIFF:
diff - - git a / moco - doc / apis . md b / moco - doc / apis . md 
 index 9cf1fb2 . . 3f48a91 100644 
 - - - a / moco - doc / apis . md 
 + + + b / moco - doc / apis . md 
 @ @ - 57 , 13 + 57 , 14 @ @ Table of Contents 
 * [ JSON Response ] ( # json - response ) 
 * [ Mount ] ( # mount ) 
 * [ Template ( Beta ) ] ( # templatebeta ) 
 - * [ Version ] ( # version - 2 ) 
 - * [ Method ] ( # method ) 
 - * [ Content ] ( # content - 2 ) 
 - * [ Header ] ( # header - 2 ) 
 - * [ Query ] ( # query ) 
 - * [ Form ] ( # form - 1 ) 
 - * [ Cookie ] ( # cookie - 2 ) 
 + * [ Request ] ( # request - 2 ) 
 + * [ Version ] ( # version - 2 ) 
 + * [ Method ] ( # method ) 
 + * [ Content ] ( # content - 2 ) 
 + * [ Header ] ( # header - 2 ) 
 + * [ Query ] ( # query ) 
 + * [ Form ] ( # form - 1 ) 
 + * [ Cookie ] ( # cookie - 2 ) 
 * [ Custom Variable ] ( # custom - variable ) 
 * [ Redirect ] ( # redirect - 1 ) 
 * [ File Name Template ] ( # file - name - template ) 
 @ @ - 1856 , 7 + 1857 , 11 @ @ Sometimes , we need to customize our response based on something , e . g . response s 
 
 The goal can be reached by template : 
 
 - # # # Version 
 + # # # Request 
 + 
 + You can get request information with ` req ` in template . 
 + 
 + # # # # Version 
 * * @ Since 0 . 8 * * 
 
 With ` req . version ` , request version can be retrieved in template . 
 @ @ - 1884 , 7 + 1889 , 7 @ @ server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . version } " ) ) ; 
 } 
 ` ` ` 
 
 - # # # Method 
 + # # # # Method 
 * * @ Since 0 . 8 * * 
 
 Request method is identified by ` req . method ` . 
 @ @ - 1910 , 7 + 1915 , 7 @ @ server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . method } " ) ) ; 
 } 
 ` ` ` 
 
 - # # # Content 
 + # # # # Content 
 * * @ Since 0 . 8 * * 
 
 All request content can be used in template with ` req . content ` 
 @ @ - 1936 , 7 + 1941 , 7 @ @ server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . content } " ) ) ; 
 } 
 ` ` ` 
 
 - # # # Header 
 + # # # # Header 
 * * @ Since 0 . 8 * * 
 
 Header is another important element in template and we can use ` req . headers ` for headers . 
 @ @ - 1962 , 7 + 1967 , 7 @ @ server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . headers [ ' foo ' ] " ) ) ; 
 } 
 ` ` ` 
 
 - # # # Query 
 + # # # # Query 
 * * @ Since 0 . 8 * * 
 
 ` req . queries ` helps us to extract request query . 
 @ @ - 1988 , 7 + 1993 , 7 @ @ server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . queries [ ' foo ' ] " ) ) ; 
 } 
 ` ` ` 
 
 - # # # Form 
 + # # # # Form 
 * * @ Since 0 . 9 . 1 * * 
 
 ` req . forms ` can extract form value from request . 
 @ @ - 2014 , 7 + 2019 , 7 @ @ server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { req . forms [ ' foo ' ] " ) ) ; 
 } 
 ` ` ` 
 
 - # # # Cookie 
 + # # # # Cookie 
 * * @ Since 0 . 9 . 1 * * 
 
 Cookie from request can extracted by ` req . cookies ` . 
 @ @ - 2105 , 6 + 2110 , 34 @ @ server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { foo } " , " foo " , jsonPath 
 
 Other extractors , e . g . xpath also work here . 
 
 + # # # Template Function 
 + 
 + # # # # now 
 + 
 + * * @ Since will be at next release * * 
 + 
 + Current time can retrieved by ' now ' function and a date format string should be passed as argument . 
 + 
 + * Java 
 + 
 + ` ` ` java 
 + server . request ( by ( uri ( " / template " ) ) ) . response ( template ( " $ { now ( ' yyyy - MM - dd ' ) } " ) ) ; 
 + ` ` ` 
 + 
 + * JSON 
 + 
 + ` ` ` json 
 + { 
 + " request " : { 
 + " uri " : " / template " 
 + } , 
 + " response " : { 
 + " text " : { 
 + " template " : " $ { now ( ' yyyy - MM - dd ' ) } " ) 
 + } 
 + } 
 + } 
 + 
 # # # Redirect 
 * * @ Since 0 . 10 . 2 * * 

