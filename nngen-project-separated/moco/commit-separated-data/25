BLEU SCORE: 0.10600313379512592

TEST MSG: added more proxy status test to proxy with resource and failover
GENERATED MSG: added more tests to proxy statuses

TEST DIFF (one line): diff - - git a / moco - core / src / test / java / com / github / dreamhead / moco / MocoProxyTest . java b / moco - core / src / test / java / com / github / dreamhead / moco / MocoProxyTest . java <nl> index 0b11e3d . . 5a3854d 100644 <nl> - - - a / moco - core / src / test / java / com / github / dreamhead / moco / MocoProxyTest . java <nl> + + + b / moco - core / src / test / java / com / github / dreamhead / moco / MocoProxyTest . java <nl> @ @ - 299 , 13 + 299 , 14 @ @ public class MocoProxyTest extends AbstractMocoHttpTest { <nl> <nl> @ Test <nl> public void should _ failover _ for _ specified _ status _ with _ resource _ proxy ( ) throws Exception { <nl> - server . request ( by ( uri ( " / target " ) ) ) . response ( status ( 500 ) ) ; <nl> - server . request ( by ( uri ( " / proxy " ) ) ) . response ( proxy ( text ( remoteUrl ( " / target " ) ) , failover ( " src / test / resources / failover . response " ) , 500 ) ) ; <nl> + server . request ( by ( uri ( " / target " ) ) ) . response ( seq ( status ( 500 ) , status ( 400 ) ) ) ; <nl> + server . request ( by ( uri ( " / proxy " ) ) ) . response ( proxy ( text ( remoteUrl ( " / target " ) ) , failover ( " src / test / resources / failover . response " ) , 500 , 400 ) ) ; <nl> <nl> running ( server , new Runnable ( ) { <nl> @ Override <nl> public void run ( ) throws IOException { <nl> assertThat ( helper . postContent ( remoteUrl ( " / proxy " ) , " proxy " ) , is ( " proxy " ) ) ; <nl> + assertThat ( helper . postContent ( remoteUrl ( " / proxy " ) , " proxy " ) , is ( " proxy " ) ) ; <nl> } <nl> } ) ; <nl> }
NEAREST DIFF (one line): diff - - git a / moco - core / src / test / java / com / github / dreamhead / moco / MocoProxyTest . java b / moco - core / src / test / java / com / github / dreamhead / moco / MocoProxyTest . java <nl> index 5d36f68 . . 0b11e3d 100644 <nl> - - - a / moco - core / src / test / java / com / github / dreamhead / moco / MocoProxyTest . java <nl> + + + b / moco - core / src / test / java / com / github / dreamhead / moco / MocoProxyTest . java <nl> @ @ - 40 , 6 + 40 , 7 @ @ import static com . github . dreamhead . moco . Moco . pathResource ; <nl> import static com . github . dreamhead . moco . Moco . playback ; <nl> import static com . github . dreamhead . moco . Moco . proxy ; <nl> import static com . github . dreamhead . moco . Moco . query ; <nl> + import static com . github . dreamhead . moco . Moco . seq ; <nl> import static com . github . dreamhead . moco . Moco . status ; <nl> import static com . github . dreamhead . moco . Moco . template ; <nl> import static com . github . dreamhead . moco . Moco . text ; <nl> @ @ - 284 , 13 + 285 , 14 @ @ public class MocoProxyTest extends AbstractMocoHttpTest { <nl> <nl> @ Test <nl> public void should _ failover _ for _ specified _ status ( ) throws Exception { <nl> - server . request ( by ( uri ( " / target " ) ) ) . response ( status ( 500 ) ) ; <nl> - server . request ( by ( uri ( " / proxy " ) ) ) . response ( proxy ( remoteUrl ( " / target " ) , failover ( " src / test / resources / failover . response " ) , 500 ) ) ; <nl> + server . request ( by ( uri ( " / target " ) ) ) . response ( seq ( status ( 500 ) , status ( 400 ) ) ) ; <nl> + server . request ( by ( uri ( " / proxy " ) ) ) . response ( proxy ( remoteUrl ( " / target " ) , failover ( " src / test / resources / failover . response " ) , 500 , 400 ) ) ; <nl> <nl> running ( server , new Runnable ( ) { <nl> @ Override <nl> public void run ( ) throws IOException { <nl> assertThat ( helper . postContent ( remoteUrl ( " / proxy " ) , " proxy " ) , is ( " proxy " ) ) ; <nl> + assertThat ( helper . postContent ( remoteUrl ( " / proxy " ) , " proxy " ) , is ( " proxy " ) ) ; <nl> } <nl> } ) ; <nl> }

TEST DIFF:
diff - - git a / moco - core / src / test / java / com / github / dreamhead / moco / MocoProxyTest . java b / moco - core / src / test / java / com / github / dreamhead / moco / MocoProxyTest . java 
 index 0b11e3d . . 5a3854d 100644 
 - - - a / moco - core / src / test / java / com / github / dreamhead / moco / MocoProxyTest . java 
 + + + b / moco - core / src / test / java / com / github / dreamhead / moco / MocoProxyTest . java 
 @ @ - 299 , 13 + 299 , 14 @ @ public class MocoProxyTest extends AbstractMocoHttpTest { 
 
 @ Test 
 public void should _ failover _ for _ specified _ status _ with _ resource _ proxy ( ) throws Exception { 
 - server . request ( by ( uri ( " / target " ) ) ) . response ( status ( 500 ) ) ; 
 - server . request ( by ( uri ( " / proxy " ) ) ) . response ( proxy ( text ( remoteUrl ( " / target " ) ) , failover ( " src / test / resources / failover . response " ) , 500 ) ) ; 
 + server . request ( by ( uri ( " / target " ) ) ) . response ( seq ( status ( 500 ) , status ( 400 ) ) ) ; 
 + server . request ( by ( uri ( " / proxy " ) ) ) . response ( proxy ( text ( remoteUrl ( " / target " ) ) , failover ( " src / test / resources / failover . response " ) , 500 , 400 ) ) ; 
 
 running ( server , new Runnable ( ) { 
 @ Override 
 public void run ( ) throws IOException { 
 assertThat ( helper . postContent ( remoteUrl ( " / proxy " ) , " proxy " ) , is ( " proxy " ) ) ; 
 + assertThat ( helper . postContent ( remoteUrl ( " / proxy " ) , " proxy " ) , is ( " proxy " ) ) ; 
 } 
 } ) ; 
 }

NEAREST DIFF:
diff - - git a / moco - core / src / test / java / com / github / dreamhead / moco / MocoProxyTest . java b / moco - core / src / test / java / com / github / dreamhead / moco / MocoProxyTest . java 
 index 5d36f68 . . 0b11e3d 100644 
 - - - a / moco - core / src / test / java / com / github / dreamhead / moco / MocoProxyTest . java 
 + + + b / moco - core / src / test / java / com / github / dreamhead / moco / MocoProxyTest . java 
 @ @ - 40 , 6 + 40 , 7 @ @ import static com . github . dreamhead . moco . Moco . pathResource ; 
 import static com . github . dreamhead . moco . Moco . playback ; 
 import static com . github . dreamhead . moco . Moco . proxy ; 
 import static com . github . dreamhead . moco . Moco . query ; 
 + import static com . github . dreamhead . moco . Moco . seq ; 
 import static com . github . dreamhead . moco . Moco . status ; 
 import static com . github . dreamhead . moco . Moco . template ; 
 import static com . github . dreamhead . moco . Moco . text ; 
 @ @ - 284 , 13 + 285 , 14 @ @ public class MocoProxyTest extends AbstractMocoHttpTest { 
 
 @ Test 
 public void should _ failover _ for _ specified _ status ( ) throws Exception { 
 - server . request ( by ( uri ( " / target " ) ) ) . response ( status ( 500 ) ) ; 
 - server . request ( by ( uri ( " / proxy " ) ) ) . response ( proxy ( remoteUrl ( " / target " ) , failover ( " src / test / resources / failover . response " ) , 500 ) ) ; 
 + server . request ( by ( uri ( " / target " ) ) ) . response ( seq ( status ( 500 ) , status ( 400 ) ) ) ; 
 + server . request ( by ( uri ( " / proxy " ) ) ) . response ( proxy ( remoteUrl ( " / target " ) , failover ( " src / test / resources / failover . response " ) , 500 , 400 ) ) ; 
 
 running ( server , new Runnable ( ) { 
 @ Override 
 public void run ( ) throws IOException { 
 assertThat ( helper . postContent ( remoteUrl ( " / proxy " ) , " proxy " ) , is ( " proxy " ) ) ; 
 + assertThat ( helper . postContent ( remoteUrl ( " / proxy " ) , " proxy " ) , is ( " proxy " ) ) ; 
 } 
 } ) ; 
 }
