BLEU SCORE: 0.049900497019368314

TEST MSG: Don â€™ t use the bintray plugin when not needed
GENERATED MSG: Publish the jar file to bintray

TEST DIFF (one line): diff - - git a / build . gradle b / build . gradle <nl> index 5133cf0 . . f1481a6 100644 <nl> - - - a / build . gradle <nl> + + + b / build . gradle <nl> @ @ - 4 , 14 + 4 , 12 @ @ buildscript { <nl> } <nl> dependencies { <nl> classpath ' org . jfrog . buildinfo : build - info - extractor - gradle : 3 . 1 . 1 ' <nl> - classpath ' com . jfrog . bintray . gradle : gradle - bintray - plugin : 1 . 2 ' <nl> classpath ' ch . netzwerg : gradle - release - plugin : 1 . 1 . 0 ' <nl> } <nl> } <nl> <nl> apply plugin : ' maven - publish ' <nl> apply plugin : ' com . jfrog . artifactory ' <nl> - apply plugin : ' com . jfrog . bintray ' <nl> apply plugin : ' ch . netzwerg . release ' <nl> <nl> def currentVersion = file ( " $ { projectDir } / version . txt " ) . text . trim ( ) ; <nl> @ @ - 308 , 6 + 306 , 8 @ @ task bintrayGradlePlugin ( type : GradleBuild ) { <nl> } <nl> <nl> task bintrayUpload { <nl> + description = ' Publish all the Realm artifacts to Bintray ' <nl> + group = ' Distribute ' <nl> dependsOn bintrayAar <nl> dependsOn bintrayJar <nl> dependsOn bintrayAnnotations <nl> @ @ - 420 , 27 + 420 , 6 @ @ artifactory { <nl> } <nl> } <nl> <nl> - bintray { <nl> - user = project . hasProperty ( ' bintrayUser ' ) ? bintrayUser : ' noUser ' <nl> - key = project . hasProperty ( ' bintrayKey ' ) ? bintrayKey : ' noKey ' <nl> - <nl> - dryRun = false <nl> - publish = false <nl> - <nl> - publications = [ ' jarLibrary ' , ' aarLibrary ' , ' annotations ' , ' annotationsProcessor ' , ' gradlePlugin ' ] <nl> - pkg { <nl> - repo = ' maven ' <nl> - name = ' realm - android ' <nl> - desc = ' Realm for Android ' <nl> - websiteUrl = ' http : / / realm . io ' <nl> - issueTrackerUrl = ' https : / / github . com / realm / realm - java / issues ' <nl> - vcsUrl = ' https : / / github . com / realm / realm - java . git ' <nl> - licenses = [ ' Apache - 2 . 0 ' ] <nl> - labels = [ ' android ' , ' realm ' ] <nl> - publicDownloadNumbers = false <nl> - } <nl> - } <nl> - <nl> release { <nl> push = false <nl> versionSuffix = ' - SNAPSHOT '
NEAREST DIFF (one line): diff - - git a / build . gradle b / build . gradle <nl> index 12c1c1f . . e4b66f4 100644 <nl> - - - a / build . gradle <nl> + + + b / build . gradle <nl> @ @ - 1 , 11 + 1 , 12 @ @ <nl> buildscript { <nl> repositories { <nl> - mavenCentral ( ) <nl> + jcenter ( ) <nl> } <nl> dependencies { <nl> classpath ' com . android . tools . build : gradle : 0 . 12 . 2 ' <nl> classpath ' de . undercouch : gradle - download - task : 1 . 0 ' <nl> classpath ' com . neenbedankt . gradle . plugins : android - apt : 1 . 4 ' <nl> + classpath ' com . jfrog . bintray . gradle : gradle - bintray - plugin : 0 . 5 ' / / Version 0 . 6 seems to require gradle 2 . 0 + <nl> } <nl> } <nl> <nl> @ @ - 14 , 6 + 15 , 6 @ @ allprojects { <nl> version = new File ( ' version . txt ' ) . text <nl> <nl> repositories { <nl> - mavenCentral ( ) <nl> + jcenter ( ) <nl> } <nl> } <nl> diff - - git a / realm / build . gradle b / realm / build . gradle <nl> index 7802f87 . . ab22d39 100644 <nl> - - - a / realm / build . gradle <nl> + + + b / realm / build . gradle <nl> @ @ - 1 , 5 + 1 , 7 @ @ <nl> apply plugin : ' com . android . library ' <nl> apply plugin : ' com . neenbedankt . android - apt ' <nl> + apply plugin : ' maven - publish ' <nl> + apply plugin : ' com . jfrog . bintray ' <nl> <nl> android { <nl> compileSdkVersion 20 <nl> @ @ - 47 , 7 + 49 , 7 @ @ android . libraryVariants . all { variant - > <nl> } <nl> } <nl> <nl> - task generateJar ( type : Jar , dependsOn : ' assemble ' ) { <nl> + task androidJar ( type : Jar , dependsOn : ' assemble ' ) { <nl> group ' Build ' <nl> description ' Generates a jar file continaining Realm and its annotation processor ' <nl> from zipTree ( ' build / intermediates / bundles / release / classes . jar ' ) <nl> @ @ - 59 , 6 + 61 , 61 @ @ task generateJar ( type : Jar , dependsOn : ' assemble ' ) { <nl> } <nl> } <nl> <nl> + task androidSourcesJar ( type : Jar ) { <nl> + from android . sourceSets . main . java . srcDirs <nl> + } <nl> + <nl> + artifacts { <nl> + archives file ( " build / libs / realm - $ { version } . jar " ) <nl> + archives androidSourcesJar <nl> + } <nl> + <nl> + publishing { <nl> + publications { <nl> + mavenAndroid ( MavenPublication ) { <nl> + groupId ' io . realm ' <nl> + artifactId ' realm - android ' <nl> + version version <nl> + artifact androidJar <nl> + artifact androidSourcesJar { <nl> + classifier " sources " <nl> + } <nl> + pom . withXml { <nl> + Node root = asNode ( ) <nl> + root . appendNode ( ' name ' , ' realm - android ' ) <nl> + root . appendNode ( ' description ' , ' Realm is a mobile database : a replacement for SQLite & ORMs . ' ) <nl> + root . appendNode ( ' url ' , ' https : / / realm . io ' ) <nl> + <nl> + def issues = root . appendNode ( ' issueManagement ' ) <nl> + issues . appendNode ( ' system ' , ' github ' ) <nl> + issues . appendNode ( ' url ' , ' https : / / github . com / realm / realm - java / issues ' ) <nl> + <nl> + def scm = root . appendNode ( ' scm ' ) <nl> + scm . appendNode ( ' url ' , ' scm : https : / / github . com / realm / realm - java ' ) <nl> + scm . appendNode ( ' connection ' , ' scm : git @ github . com : realm / realm - java . git ' ) <nl> + scm . appendNode ( ' developerConnection ' , ' scm : git @ github . com : realm / realm - java . git ' ) <nl> + <nl> + def license = root . appendNode ( ' licenses ' ) . appendNode ( ' license ' ) <nl> + license . appendNode ( ' name ' , ' The Apache Software License , Version 2 . 0 ' ) <nl> + license . appendNode ( ' url ' , ' http : / / www . apache . org / licenses / LICENSE - 2 . 0 . txt ' ) <nl> + license . appendNode ( ' distribution ' , ' repo ' ) <nl> + } <nl> + } <nl> + } <nl> + } <nl> + <nl> + bintray { <nl> + user = bintrayUser / / this comes from the gradle . properties file in ~ / . gradle <nl> + key = bintrayKey / / this comes from the gradle . properties file in ~ / . gradle <nl> + publications = [ ' mavenAndroid ' ] <nl> + publish = false <nl> + pkg { <nl> + repo = ' maven ' <nl> + name = ' realm - android ' <nl> + licenses = [ ' Apache - 2 . 0 ' ] <nl> + } <nl> + } <nl> + <nl> task buildApt ( type : GradleBuild ) { <nl> dir = file ( ' . . / realm - annotations - processor ' ) <nl> tasks = [ ' build ' ]

TEST DIFF:
diff - - git a / build . gradle b / build . gradle 
 index 5133cf0 . . f1481a6 100644 
 - - - a / build . gradle 
 + + + b / build . gradle 
 @ @ - 4 , 14 + 4 , 12 @ @ buildscript { 
 } 
 dependencies { 
 classpath ' org . jfrog . buildinfo : build - info - extractor - gradle : 3 . 1 . 1 ' 
 - classpath ' com . jfrog . bintray . gradle : gradle - bintray - plugin : 1 . 2 ' 
 classpath ' ch . netzwerg : gradle - release - plugin : 1 . 1 . 0 ' 
 } 
 } 
 
 apply plugin : ' maven - publish ' 
 apply plugin : ' com . jfrog . artifactory ' 
 - apply plugin : ' com . jfrog . bintray ' 
 apply plugin : ' ch . netzwerg . release ' 
 
 def currentVersion = file ( " $ { projectDir } / version . txt " ) . text . trim ( ) ; 
 @ @ - 308 , 6 + 306 , 8 @ @ task bintrayGradlePlugin ( type : GradleBuild ) { 
 } 
 
 task bintrayUpload { 
 + description = ' Publish all the Realm artifacts to Bintray ' 
 + group = ' Distribute ' 
 dependsOn bintrayAar 
 dependsOn bintrayJar 
 dependsOn bintrayAnnotations 
 @ @ - 420 , 27 + 420 , 6 @ @ artifactory { 
 } 
 } 
 
 - bintray { 
 - user = project . hasProperty ( ' bintrayUser ' ) ? bintrayUser : ' noUser ' 
 - key = project . hasProperty ( ' bintrayKey ' ) ? bintrayKey : ' noKey ' 
 - 
 - dryRun = false 
 - publish = false 
 - 
 - publications = [ ' jarLibrary ' , ' aarLibrary ' , ' annotations ' , ' annotationsProcessor ' , ' gradlePlugin ' ] 
 - pkg { 
 - repo = ' maven ' 
 - name = ' realm - android ' 
 - desc = ' Realm for Android ' 
 - websiteUrl = ' http : / / realm . io ' 
 - issueTrackerUrl = ' https : / / github . com / realm / realm - java / issues ' 
 - vcsUrl = ' https : / / github . com / realm / realm - java . git ' 
 - licenses = [ ' Apache - 2 . 0 ' ] 
 - labels = [ ' android ' , ' realm ' ] 
 - publicDownloadNumbers = false 
 - } 
 - } 
 - 
 release { 
 push = false 
 versionSuffix = ' - SNAPSHOT '

NEAREST DIFF:
diff - - git a / build . gradle b / build . gradle 
 index 12c1c1f . . e4b66f4 100644 
 - - - a / build . gradle 
 + + + b / build . gradle 
 @ @ - 1 , 11 + 1 , 12 @ @ 
 buildscript { 
 repositories { 
 - mavenCentral ( ) 
 + jcenter ( ) 
 } 
 dependencies { 
 classpath ' com . android . tools . build : gradle : 0 . 12 . 2 ' 
 classpath ' de . undercouch : gradle - download - task : 1 . 0 ' 
 classpath ' com . neenbedankt . gradle . plugins : android - apt : 1 . 4 ' 
 + classpath ' com . jfrog . bintray . gradle : gradle - bintray - plugin : 0 . 5 ' / / Version 0 . 6 seems to require gradle 2 . 0 + 
 } 
 } 
 
 @ @ - 14 , 6 + 15 , 6 @ @ allprojects { 
 version = new File ( ' version . txt ' ) . text 
 
 repositories { 
 - mavenCentral ( ) 
 + jcenter ( ) 
 } 
 } 
 diff - - git a / realm / build . gradle b / realm / build . gradle 
 index 7802f87 . . ab22d39 100644 
 - - - a / realm / build . gradle 
 + + + b / realm / build . gradle 
 @ @ - 1 , 5 + 1 , 7 @ @ 
 apply plugin : ' com . android . library ' 
 apply plugin : ' com . neenbedankt . android - apt ' 
 + apply plugin : ' maven - publish ' 
 + apply plugin : ' com . jfrog . bintray ' 
 
 android { 
 compileSdkVersion 20 
 @ @ - 47 , 7 + 49 , 7 @ @ android . libraryVariants . all { variant - > 
 } 
 } 
 
 - task generateJar ( type : Jar , dependsOn : ' assemble ' ) { 
 + task androidJar ( type : Jar , dependsOn : ' assemble ' ) { 
 group ' Build ' 
 description ' Generates a jar file continaining Realm and its annotation processor ' 
 from zipTree ( ' build / intermediates / bundles / release / classes . jar ' ) 
 @ @ - 59 , 6 + 61 , 61 @ @ task generateJar ( type : Jar , dependsOn : ' assemble ' ) { 
 } 
 } 
 
 + task androidSourcesJar ( type : Jar ) { 
 + from android . sourceSets . main . java . srcDirs 
 + } 
 + 
 + artifacts { 
 + archives file ( " build / libs / realm - $ { version } . jar " ) 
 + archives androidSourcesJar 
 + } 
 + 
 + publishing { 
 + publications { 
 + mavenAndroid ( MavenPublication ) { 
 + groupId ' io . realm ' 
 + artifactId ' realm - android ' 
 + version version 
 + artifact androidJar 
 + artifact androidSourcesJar { 
 + classifier " sources " 
 + } 
 + pom . withXml { 
 + Node root = asNode ( ) 
 + root . appendNode ( ' name ' , ' realm - android ' ) 
 + root . appendNode ( ' description ' , ' Realm is a mobile database : a replacement for SQLite & ORMs . ' ) 
 + root . appendNode ( ' url ' , ' https : / / realm . io ' ) 
 + 
 + def issues = root . appendNode ( ' issueManagement ' ) 
 + issues . appendNode ( ' system ' , ' github ' ) 
 + issues . appendNode ( ' url ' , ' https : / / github . com / realm / realm - java / issues ' ) 
 + 
 + def scm = root . appendNode ( ' scm ' ) 
 + scm . appendNode ( ' url ' , ' scm : https : / / github . com / realm / realm - java ' ) 
 + scm . appendNode ( ' connection ' , ' scm : git @ github . com : realm / realm - java . git ' ) 
 + scm . appendNode ( ' developerConnection ' , ' scm : git @ github . com : realm / realm - java . git ' ) 
 + 
 + def license = root . appendNode ( ' licenses ' ) . appendNode ( ' license ' ) 
 + license . appendNode ( ' name ' , ' The Apache Software License , Version 2 . 0 ' ) 
 + license . appendNode ( ' url ' , ' http : / / www . apache . org / licenses / LICENSE - 2 . 0 . txt ' ) 
 + license . appendNode ( ' distribution ' , ' repo ' ) 
 + } 
 + } 
 + } 
 + } 
 + 
 + bintray { 
 + user = bintrayUser / / this comes from the gradle . properties file in ~ / . gradle 
 + key = bintrayKey / / this comes from the gradle . properties file in ~ / . gradle 
 + publications = [ ' mavenAndroid ' ] 
 + publish = false 
 + pkg { 
 + repo = ' maven ' 
 + name = ' realm - android ' 
 + licenses = [ ' Apache - 2 . 0 ' ] 
 + } 
 + } 
 + 
 task buildApt ( type : GradleBuild ) { 
 dir = file ( ' . . / realm - annotations - processor ' ) 
 tasks = [ ' build ' ]
