BLEU SCORE: 0.05078643578181038

TEST MSG: update gadle wrapper to 3 . 4
GENERATED MSG: Update android gradle plugin to 2 . 3 . 0 - rc1 and gradle to 3 . 3

TEST DIFF (one line): diff - - git a / examples / build . gradle b / examples / build . gradle <nl> index 0d2f116 . . 34d1f10 100644 <nl> - - - a / examples / build . gradle <nl> + + + b / examples / build . gradle <nl> @ @ - 9 , 6 + 9 , 12 @ @ configurations . all { <nl> allprojects { <nl> def currentVersion = file ( " $ { rootDir } / . . / version . txt " ) . text . trim ( ) <nl> <nl> + def props = new Properties ( ) <nl> + props . load ( new FileInputStream ( " $ { rootDir } / . . / realm . properties " ) ) <nl> + props . each { key , val - > <nl> + project . ext . set ( key , val ) <nl> + } <nl> + <nl> buildscript { <nl> repositories { <nl> mavenLocal ( ) <nl> @ @ - 33 , 3 + 39 , 7 @ @ allprojects { <nl> jcenter ( ) <nl> } <nl> } <nl> + <nl> + task wrapper ( type : Wrapper ) { <nl> + gradleVersion = project . gradleVersion <nl> + } <nl> diff - - git a / examples / gradle / wrapper / gradle - wrapper . jar b / examples / gradle / wrapper / gradle - wrapper . jar <nl> index 6ffa237 . . 35fb1ae 100644 <nl> Binary files a / examples / gradle / wrapper / gradle - wrapper . jar and b / examples / gradle / wrapper / gradle - wrapper . jar differ <nl> diff - - git a / examples / gradle / wrapper / gradle - wrapper . properties b / examples / gradle / wrapper / gradle - wrapper . properties <nl> index 619351f . . c7fdbdb 100644 <nl> - - - a / examples / gradle / wrapper / gradle - wrapper . properties <nl> + + + b / examples / gradle / wrapper / gradle - wrapper . properties <nl> @ @ - 1 , 6 + 1 , 6 @ @ <nl> - # Tue Sep 20 14 : 25 : 59 CST 2016 <nl> + # Fri Mar 03 05 : 45 : 58 JST 2017 <nl> distributionBase = GRADLE _ USER _ HOME <nl> distributionPath = wrapper / dists <nl> zipStoreBase = GRADLE _ USER _ HOME <nl> zipStorePath = wrapper / dists <nl> - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 3 - all . zip <nl> + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 4 - all . zip <nl> diff - - git a / examples / gradlew b / examples / gradlew <nl> index 9aa616c . . 4453cce 100755 <nl> - - - a / examples / gradlew <nl> + + + b / examples / gradlew <nl> @ @ - 1 , 4 + 1 , 4 @ @ <nl> - # ! / usr / bin / env bash <nl> + # ! / usr / bin / env sh <nl> <nl> # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # <nl> # # <nl> @ @ - 154 , 16 + 154 , 19 @ @ if $ cygwin ; then <nl> esac <nl> fi <nl> <nl> - # Split up the JVM _ OPTS And GRADLE _ OPTS values into an array , following the shell quoting and substitution rules <nl> - function splitJvmOpts ( ) { <nl> - JVM _ OPTS = ( " $ @ " ) <nl> + # Escape application args <nl> + save ( ) { <nl> + for i do printf % s \ \ n " $ i " | sed " s / ' / ' \ \ \ \ ' ' / g ; 1s / ^ / ' / ; \ $ s / \ $ / ' \ \ \ \ / " ; done <nl> + echo " " <nl> } <nl> - eval splitJvmOpts $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS <nl> - JVM _ OPTS [ $ { # JVM _ OPTS [ * ] } ] = " - Dorg . gradle . appname = $ APP _ BASE _ NAME " <nl> + APP _ ARGS = $ ( save " $ @ " ) <nl> + <nl> + # Collect all arguments for the java command , following the shell quoting and substitution rules <nl> + eval set - - $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS " \ " - Dorg . gradle . appname = $ APP _ BASE _ NAME \ " " - classpath " \ " $ CLASSPATH \ " " org . gradle . wrapper . GradleWrapperMain " $ APP _ ARGS " <nl> <nl> # by default we should be in the correct project dir , but when run from Finder on Mac , the cwd is wrong <nl> - if [ [ " $ ( uname ) " = = " Darwin " ] ] & & [ [ " $ HOME " = = " $ PWD " ] ] ; then <nl> + if [ " $ ( uname ) " = " Darwin " ] & & [ " $ HOME " = " $ PWD " ] ; then <nl> cd " $ ( dirname " $ 0 " ) " <nl> fi <nl> <nl> - exec " $ JAVACMD " " $ { JVM _ OPTS [ @ ] } " - classpath " $ CLASSPATH " org . gradle . wrapper . GradleWrapperMain " $ @ " <nl> + exec " $ JAVACMD " " $ @ " <nl> diff - - git a / gradle - plugin / gradle / wrapper / gradle - wrapper . jar b / gradle - plugin / gradle / wrapper / gradle - wrapper . jar <nl> index 6ffa237 . . d8af58c 100644 <nl> Binary files a / gradle - plugin / gradle / wrapper / gradle - wrapper . jar and b / gradle - plugin / gradle / wrapper / gradle - wrapper . jar differ <nl> diff - - git a / gradle - plugin / gradle / wrapper / gradle - wrapper . properties b / gradle - plugin / gradle / wrapper / gradle - wrapper . properties <nl> index e05d79c . . 1e57542 100644 <nl> - - - a / gradle - plugin / gradle / wrapper / gradle - wrapper . properties <nl> + + + b / gradle - plugin / gradle / wrapper / gradle - wrapper . properties <nl> @ @ - 1 , 6 + 1 , 6 @ @ <nl> - # Tue Sep 20 14 : 21 : 04 CST 2016 <nl> + # Thu Mar 02 03 : 11 : 23 JST 2017 <nl> distributionBase = GRADLE _ USER _ HOME <nl> distributionPath = wrapper / dists <nl> zipStoreBase = GRADLE _ USER _ HOME <nl> zipStorePath = wrapper / dists <nl> - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 3 - all . zip <nl> + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 4 - all . zip <nl> diff - - git a / gradle - plugin / gradlew b / gradle - plugin / gradlew <nl> index 9aa616c . . 4453cce 100755 <nl> - - - a / gradle - plugin / gradlew <nl> + + + b / gradle - plugin / gradlew <nl> @ @ - 1 , 4 + 1 , 4 @ @ <nl> - # ! / usr / bin / env bash <nl> + # ! / usr / bin / env sh <nl> <nl> # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # <nl> # # <nl> @ @ - 154 , 16 + 154 , 19 @ @ if $ cygwin ; then <nl> esac <nl> fi <nl> <nl> - # Split up the JVM _ OPTS And GRADLE _ OPTS values into an array , following the shell quoting and substitution rules <nl> - function splitJvmOpts ( ) { <nl> - JVM _ OPTS = ( " $ @ " ) <nl> + # Escape application args <nl> + save ( ) { <nl> + for i do printf % s \ \ n " $ i " | sed " s / ' / ' \ \ \ \ ' ' / g ; 1s / ^ / ' / ; \ $ s / \ $ / ' \ \ \ \ / " ; done <nl> + echo " " <nl> } <nl> - eval splitJvmOpts $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS <nl> - JVM _ OPTS [ $ { # JVM _ OPTS [ * ] } ] = " - Dorg . gradle . appname = $ APP _ BASE _ NAME " <nl> + APP _ ARGS = $ ( save " $ @ " ) <nl> + <nl> + # Collect all arguments for the java command , following the shell quoting and substitution rules <nl> + eval set - - $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS " \ " - Dorg . gradle . appname = $ APP _ BASE _ NAME \ " " - classpath " \ " $ CLASSPATH \ " " org . gradle . wrapper . GradleWrapperMain " $ APP _ ARGS " <nl> <nl> # by default we should be in the correct project dir , but when run from Finder on Mac , the cwd is wrong <nl> - if [ [ " $ ( uname ) " = = " Darwin " ] ] & & [ [ " $ HOME " = = " $ PWD " ] ] ; then <nl> + if [ " $ ( uname ) " = " Darwin " ] & & [ " $ HOME " = " $ PWD " ] ; then <nl> cd " $ ( dirname " $ 0 " ) " <nl> fi <nl> <nl> - exec " $ JAVACMD " " $ { JVM _ OPTS [ @ ] } " - classpath " $ CLASSPATH " org . gradle . wrapper . GradleWrapperMain " $ @ " <nl> + exec " $ JAVACMD " " $ @ " <nl> diff - - git a / gradle / wrapper / gradle - wrapper . jar b / gradle / wrapper / gradle - wrapper . jar <nl> index 6ffa237 . . 48a802e 100644 <nl> Binary files a / gradle / wrapper / gradle - wrapper . jar and b / gradle / wrapper / gradle - wrapper . jar differ <nl> diff - - git a / gradle / wrapper / gradle - wrapper . properties b / gradle / wrapper / gradle - wrapper . properties <nl> index 866aa02 . . e330fab 100644 <nl> - - - a / gradle / wrapper / gradle - wrapper . properties <nl> + + + b / gradle / wrapper / gradle - wrapper . properties <nl> @ @ - 1 , 6 + 1 , 6 @ @ <nl> - # Mon Jan 16 12 : 37 : 33 JST 2017 <nl> + # Thu Mar 02 03 : 10 : 56 JST 2017 <nl> distributionBase = GRADLE _ USER _ HOME <nl> distributionPath = wrapper / dists <nl> zipStoreBase = GRADLE _ USER _ HOME <nl> zipStorePath = wrapper / dists <nl> - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 3 - all . zip <nl> + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 4 - all . zip <nl> diff - - git a / gradlew b / gradlew <nl> index 9aa616c . . 4453cce 100755 <nl> - - - a / gradlew <nl> + + + b / gradlew <nl> @ @ - 1 , 4 + 1 , 4 @ @ <nl> - # ! / usr / bin / env bash <nl> + # ! / usr / bin / env sh <nl> <nl> # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # <nl> # # <nl> @ @ - 154 , 16 + 154 , 19 @ @ if $ cygwin ; then <nl> esac <nl> fi <nl> <nl> - # Split up the JVM _ OPTS And GRADLE _ OPTS values into an array , following the shell quoting and substitution rules <nl> - function splitJvmOpts ( ) { <nl> - JVM _ OPTS = ( " $ @ " ) <nl> + # Escape application args <nl> + save ( ) { <nl> + for i do printf % s \ \ n " $ i " | sed " s / ' / ' \ \ \ \ ' ' / g ; 1s / ^ / ' / ; \ $ s / \ $ / ' \ \ \ \ / " ; done <nl> + echo " " <nl> } <nl> - eval splitJvmOpts $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS <nl> - JVM _ OPTS [ $ { # JVM _ OPTS [ * ] } ] = " - Dorg . gradle . appname = $ APP _ BASE _ NAME " <nl> + APP _ ARGS = $ ( save " $ @ " ) <nl> + <nl> + # Collect all arguments for the java command , following the shell quoting and substitution rules <nl> + eval set - - $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS " \ " - Dorg . gradle . appname = $ APP _ BASE _ NAME \ " " - classpath " \ " $ CLASSPATH \ " " org . gradle . wrapper . GradleWrapperMain " $ APP _ ARGS " <nl> <nl> # by default we should be in the correct project dir , but when run from Finder on Mac , the cwd is wrong <nl> - if [ [ " $ ( uname ) " = = " Darwin " ] ] & & [ [ " $ HOME " = = " $ PWD " ] ] ; then <nl> + if [ " $ ( uname ) " = " Darwin " ] & & [ " $ HOME " = " $ PWD " ] ; then <nl> cd " $ ( dirname " $ 0 " ) " <nl> fi <nl> <nl> - exec " $ JAVACMD " " $ { JVM _ OPTS [ @ ] } " - classpath " $ CLASSPATH " org . gradle . wrapper . GradleWrapperMain " $ @ " <nl> + exec " $ JAVACMD " " $ @ " <nl> diff - - git a / realm - annotations / build . gradle b / realm - annotations / build . gradle <nl> index a372797 . . 40213eb 100644 <nl> - - - a / realm - annotations / build . gradle <nl> + + + b / realm - annotations / build . gradle <nl> @ @ - 8 , 6 + 8 , 14 @ @ buildscript { <nl> } <nl> } <nl> <nl> + allprojects { <nl> + def props = new Properties ( ) <nl> + props . load ( new FileInputStream ( " $ { rootDir } / . . / realm . properties " ) ) <nl> + props . each { key , val - > <nl> + project . ext . set ( key , val ) <nl> + } <nl> + } <nl> + <nl> apply plugin : ' java ' <nl> apply plugin : ' maven ' <nl> apply plugin : ' maven - publish ' <nl> @ @ - 103 , 3 + 111 , 7 @ @ artifactory { <nl> } <nl> } <nl> } <nl> + <nl> + task wrapper ( type : Wrapper ) { <nl> + gradleVersion = project . gradleVersion <nl> + } <nl> diff - - git a / realm - annotations / gradle / wrapper / gradle - wrapper . jar b / realm - annotations / gradle / wrapper / gradle - wrapper . jar <nl> index 6ffa237 . . 366e45e 100644 <nl> Binary files a / realm - annotations / gradle / wrapper / gradle - wrapper . jar and b / realm - annotations / gradle / wrapper / gradle - wrapper . jar differ <nl> diff - - git a / realm - annotations / gradle / wrapper / gradle - wrapper . properties b / realm - annotations / gradle / wrapper / gradle - wrapper . properties <nl> index ebb1e60 . . 767373d 100644 <nl> - - - a / realm - annotations / gradle / wrapper / gradle - wrapper . properties <nl> + + + b / realm - annotations / gradle / wrapper / gradle - wrapper . properties <nl> @ @ - 1 , 6 + 1 , 6 @ @ <nl> - # Tue Sep 20 14 : 22 : 29 CST 2016 <nl> + # Fri Mar 03 05 : 43 : 28 JST 2017 <nl> distributionBase = GRADLE _ USER _ HOME <nl> distributionPath = wrapper / dists <nl> zipStoreBase = GRADLE _ USER _ HOME <nl> zipStorePath = wrapper / dists <nl> - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 3 - all . zip <nl> + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 4 - all . zip <nl> diff - - git a / realm - annotations / gradlew b / realm - annotations / gradlew <nl> index 9aa616c . . 4453cce 100755 <nl> - - - a / realm - annotations / gradlew <nl> + + + b / realm - annotations / gradlew <nl> @ @ - 1 , 4 + 1 , 4 @ @ <nl> - # ! / usr / bin / env bash <nl> + # ! / usr / bin / env sh <nl> <nl> # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # <nl> # # <nl> @ @ - 154 , 16 + 154 , 19 @ @ if $ cygwin ; then <nl> esac <nl> fi <nl> <nl> - # Split up the JVM _ OPTS And GRADLE _ OPTS values into an array , following the shell quoting and substitution rules <nl> - function splitJvmOpts ( ) { <nl> - JVM _ OPTS = ( " $ @ " ) <nl> + # Escape application args <nl> + save ( ) { <nl> + for i do printf % s \ \ n " $ i " | sed " s / ' / ' \ \ \ \ ' ' / g ; 1s / ^ / ' / ; \ $ s / \ $ / ' \ \ \ \ / " ; done <nl> + echo " " <nl> } <nl> - eval splitJvmOpts $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS <nl> - JVM _ OPTS [ $ { # JVM _ OPTS [ * ] } ] = " - Dorg . gradle . appname = $ APP _ BASE _ NAME " <nl> + APP _ ARGS = $ ( save " $ @ " ) <nl> + <nl> + # Collect all arguments for the java command , following the shell quoting and substitution rules <nl> + eval set - - $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS " \ " - Dorg . gradle . appname = $ APP _ BASE _ NAME \ " " - classpath " \ " $ CLASSPATH \ " " org . gradle . wrapper . GradleWrapperMain " $ APP _ ARGS " <nl> <nl> # by default we should be in the correct project dir , but when run from Finder on Mac , the cwd is wrong <nl> - if [ [ " $ ( uname ) " = = " Darwin " ] ] & & [ [ " $ HOME " = = " $ PWD " ] ] ; then <nl> + if [ " $ ( uname ) " = " Darwin " ] & & [ " $ HOME " = " $ PWD " ] ; then <nl> cd " $ ( dirname " $ 0 " ) " <nl> fi <nl> <nl> - exec " $ JAVACMD " " $ { JVM _ OPTS [ @ ] } " - classpath " $ CLASSPATH " org . gradle . wrapper . GradleWrapperMain " $ @ " <nl> + exec " $ JAVACMD " " $ @ " <nl> diff - - git a / realm - transformer / build . gradle b / realm - transformer / build . gradle <nl> index 2dc0dad . . 1c9eeff 100644 <nl> - - - a / realm - transformer / build . gradle <nl> + + + b / realm - transformer / build . gradle <nl> @ @ - 8 , 6 + 8 , 14 @ @ buildscript { <nl> } <nl> } <nl> <nl> + allprojects { <nl> + def props = new Properties ( ) <nl> + props . load ( new FileInputStream ( " $ { rootDir } / . . / realm . properties " ) ) <nl> + props . each { key , val - > <nl> + project . ext . set ( key , val ) <nl> + } <nl> + } <nl> + <nl> apply plugin : ' groovy ' <nl> apply plugin : ' java ' <nl> apply plugin : ' maven ' <nl> @ @ - 153 , 3 + 161 , 8 @ @ artifactory { <nl> } <nl> } <nl> } <nl> + <nl> + task wrapper ( type : Wrapper ) { <nl> + gradleVersion = project . gradleVersion <nl> + } <nl> + <nl> diff - - git a / realm - transformer / gradle / wrapper / gradle - wrapper . jar b / realm - transformer / gradle / wrapper / gradle - wrapper . jar <nl> index 6ffa237 . . 9fe1b93 100644 <nl> Binary files a / realm - transformer / gradle / wrapper / gradle - wrapper . jar and b / realm - transformer / gradle / wrapper / gradle - wrapper . jar differ <nl> diff - - git a / realm - transformer / gradle / wrapper / gradle - wrapper . properties b / realm - transformer / gradle / wrapper / gradle - wrapper . properties <nl> index 9297d38 . . e5aee03 100644 <nl> - - - a / realm - transformer / gradle / wrapper / gradle - wrapper . properties <nl> + + + b / realm - transformer / gradle / wrapper / gradle - wrapper . properties <nl> @ @ - 1 , 6 + 1 , 6 @ @ <nl> - # Tue Sep 20 14 : 33 : 05 CST 2016 <nl> + # Fri Mar 03 05 : 41 : 34 JST 2017 <nl> distributionBase = GRADLE _ USER _ HOME <nl> distributionPath = wrapper / dists <nl> zipStoreBase = GRADLE _ USER _ HOME <nl> zipStorePath = wrapper / dists <nl> - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 3 - all . zip <nl> + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 4 - all . zip <nl> diff - - git a / realm - transformer / gradlew b / realm - transformer / gradlew <nl> index 9aa616c . . 4453cce 100755 <nl> - - - a / realm - transformer / gradlew <nl> + + + b / realm - transformer / gradlew <nl> @ @ - 1 , 4 + 1 , 4 @ @ <nl> - # ! / usr / bin / env bash <nl> + # ! / usr / bin / env sh <nl> <nl> # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # <nl> # # <nl> @ @ - 154 , 16 + 154 , 19 @ @ if $ cygwin ; then <nl> esac <nl> fi <nl> <nl> - # Split up the JVM _ OPTS And GRADLE _ OPTS values into an array , following the shell quoting and substitution rules <nl> - function splitJvmOpts ( ) { <nl> - JVM _ OPTS = ( " $ @ " ) <nl> + # Escape application args <nl> + save ( ) { <nl> + for i do printf % s \ \ n " $ i " | sed " s / ' / ' \ \ \ \ ' ' / g ; 1s / ^ / ' / ; \ $ s / \ $ / ' \ \ \ \ / " ; done <nl> + echo " " <nl> } <nl> - eval splitJvmOpts $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS <nl> - JVM _ OPTS [ $ { # JVM _ OPTS [ * ] } ] = " - Dorg . gradle . appname = $ APP _ BASE _ NAME " <nl> + APP _ ARGS = $ ( save " $ @ " ) <nl> + <nl> + # Collect all arguments for the java command , following the shell quoting and substitution rules <nl> + eval set - - $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS " \ " - Dorg . gradle . appname = $ APP _ BASE _ NAME \ " " - classpath " \ " $ CLASSPATH \ " " org . gradle . wrapper . GradleWrapperMain " $ APP _ ARGS " <nl> <nl> # by default we should be in the correct project dir , but when run from Finder on Mac , the cwd is wrong <nl> - if [ [ " $ ( uname ) " = = " Darwin " ] ] & & [ [ " $ HOME " = = " $ PWD " ] ] ; then <nl> + if [ " $ ( uname ) " = " Darwin " ] & & [ " $ HOME " = " $ PWD " ] ; then <nl> cd " $ ( dirname " $ 0 " ) " <nl> fi <nl> <nl> - exec " $ JAVACMD " " $ { JVM _ OPTS [ @ ] } " - classpath " $ CLASSPATH " org . gradle . wrapper . GradleWrapperMain " $ @ " <nl> + exec " $ JAVACMD " " $ @ " <nl> diff - - git a / realm . properties b / realm . properties <nl> index f2ca4ed . . c2f4f60 100644 <nl> - - - a / realm . properties <nl> + + + b / realm . properties <nl> @ @ - 1 , 2 + 1 , 2 @ @ <nl> - gradleVersion = 3 . 3 <nl> + gradleVersion = 3 . 4 <nl> ndkVersion = r10e <nl> diff - - git a / realm / gradle / wrapper / gradle - wrapper . jar b / realm / gradle / wrapper / gradle - wrapper . jar <nl> index 172e6b6 . . b3558fd 100644 <nl> Binary files a / realm / gradle / wrapper / gradle - wrapper . jar and b / realm / gradle / wrapper / gradle - wrapper . jar differ <nl> diff - - git a / realm / gradle / wrapper / gradle - wrapper . properties b / realm / gradle / wrapper / gradle - wrapper . properties <nl> index 81199ae . . 1f2857b 100644 <nl> - - - a / realm / gradle / wrapper / gradle - wrapper . properties <nl> + + + b / realm / gradle / wrapper / gradle - wrapper . properties <nl> @ @ - 1 , 6 + 1 , 6 @ @ <nl> - # Mon Jan 16 20 : 15 : 19 JST 2017 <nl> + # Thu Mar 02 03 : 14 : 47 JST 2017 <nl> distributionBase = GRADLE _ USER _ HOME <nl> distributionPath = wrapper / dists <nl> zipStoreBase = GRADLE _ USER _ HOME <nl> zipStorePath = wrapper / dists <nl> - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 3 - all . zip <nl> + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 4 - all . zip
NEAREST DIFF (one line): diff - - git a / Dockerfile b / Dockerfile <nl> index b3a8820 . . 070335f 100644 <nl> - - - a / Dockerfile <nl> + + + b / Dockerfile <nl> @ @ - 48 , 9 + 48 , 12 @ @ RUN cd / opt & & \ <nl> <nl> # Grab what ' s needed in the SDK <nl> # ↓ updates tools to at least 25 . 1 . 7 , but that prints ' Nothing was installed ' ( so I don ' t check the outputs ) . <nl> + RUN mkdir " $ { ANDROID _ HOME } / licenses " & & \ <nl> + echo - e " \ n8933bad161af4178b1185d1a37fbf41ea5269c55 " > " $ { ANDROID _ HOME } / licenses / android - sdk - license " & & \ <nl> + echo - en " \ nd23d63a1f23e25e2c7a316e29eb60396e7924281 " > " $ { ANDROID _ HOME } / licenses / android - sdk - preview - license " <nl> RUN echo y | android update sdk - - no - ui - - all - - filter tools > / dev / null <nl> RUN echo y | android update sdk - - no - ui - - all - - filter platform - tools | grep ' package installed ' <nl> - RUN echo y | android update sdk - - no - ui - - all - - filter build - tools - 24 . 0 . 0 | grep ' package installed ' <nl> + RUN echo y | android update sdk - - no - ui - - all - - filter build - tools - 25 . 0 . 2 | grep ' package installed ' <nl> RUN echo y | android update sdk - - no - ui - - all - - filter extra - android - m2repository | grep ' package installed ' <nl> RUN echo y | android update sdk - - no - ui - - all - - filter android - 24 | grep ' package installed ' <nl> <nl> @ @ - 67 , 12 + 70 , 13 @ @ RUN mkdir / opt / android - ndk - tmp & & \ <nl> # Install cmake <nl> RUN mkdir / opt / cmake - tmp & & \ <nl> cd / opt / cmake - tmp & & \ <nl> - wget - q https : / / dl . google . com / android / repository / cmake - 3 . 6 . 3133135 - linux - x86 _ 64 . zip - O cmake - linux . zip & & \ <nl> - unzip cmake - linux . zip - d $ { ANDROID _ HOME } / cmake & & \ <nl> + wget - q https : / / dl . google . com / android / repository / cmake - 3 . 6 . 3155560 - linux - x86 _ 64 . zip - O cmake - linux . zip & & \ <nl> + mkdir - p $ { ANDROID _ HOME } / cmake / 3 . 6 . 3155560 & & \ <nl> + unzip cmake - linux . zip - d $ { ANDROID _ HOME } / cmake / 3 . 6 . 3155560 & & \ <nl> rm - rf / opt / cmake - tmp <nl> <nl> - # Make the SDK universally readable <nl> - RUN chmod - R a + rX $ { ANDROID _ HOME } <nl> + # Make the SDK universally writable <nl> + RUN chmod - R a + rwX $ { ANDROID _ HOME } <nl> <nl> # Install lcache <nl> RUN wget - q https : / / github . com / beeender / lcache / releases / download / v0 . 0 . 2 / lcache - linux - O / usr / bin / lcache & & \ <nl> diff - - git a / README . md b / README . md <nl> index 9c485ca . . f35d59b 100644 <nl> - - - a / README . md <nl> + + + b / README . md <nl> @ @ - 60 , 7 + 60 , 7 @ @ In case you don ' t want to use the precompiled version , you can build Realm yours <nl> # # # Prerequisites <nl> <nl> * Download the [ * * JDK 7 * * ] ( http : / / www . oracle . com / technetwork / java / javase / downloads / jdk7 - downloads - 1880260 . html ) or [ * * JDK 8 * * ] ( http : / / www . oracle . com / technetwork / java / javase / downloads / jdk8 - downloads - 2133151 . html ) from Oracle and install it . <nl> - * Download & install the Android SDK * * Build - Tools 24 . 0 . 0 * * , * * Android N ( API 24 ) * * ( for example through Android Studio ’ s * * Android SDK Manager * * ) . <nl> + * Download & install the Android SDK * * Build - Tools 25 . 0 . 2 * * , * * Android N ( API 24 ) * * ( for example through Android Studio ’ s * * Android SDK Manager * * ) . <nl> * Install CMake from SDK manager in Android Studio ( " SDK Tools " - > " CMake " ) . <nl> <nl> * Realm currently requires version r10e of the NDK . Download the one appropriate for your development platform , from the NDK [ archive ] ( https : / / developer . android . com / ndk / downloads / older _ releases . html ) . <nl> diff - - git a / examples / build . gradle b / examples / build . gradle <nl> index 64b863d . . 0d2f116 100644 <nl> - - - a / examples / build . gradle <nl> + + + b / examples / build . gradle <nl> @ @ - 1 , 5 + 1 , 5 @ @ <nl> project . ext . sdkVersion = 24 <nl> - project . ext . buildTools = ' 24 . 0 . 0 ' <nl> + project . ext . buildTools = ' 25 . 0 . 2 ' <nl> <nl> / / Don ' t cache SNAPSHOT ( changing ) dependencies . <nl> configurations . all { <nl> @ @ - 16 , 7 + 16 , 7 @ @ allprojects { <nl> maven { url ' https : / / jitpack . io ' } <nl> } <nl> dependencies { <nl> - classpath ' com . android . tools . build : gradle : 2 . 2 . 0 ' <nl> + classpath ' com . android . tools . build : gradle : 2 . 3 . 0 ' <nl> classpath ' com . jfrog . bintray . gradle : gradle - bintray - plugin : 1 . 6 ' <nl> classpath ' com . github . JakeWharton : sdk - manager - plugin : 0ce4cdf08009d79223850a59959d9d6e774d0f77 ' <nl> classpath ' com . novoda : gradle - android - command - plugin : 1 . 5 . 0 ' <nl> diff - - git a / examples / gradle / wrapper / gradle - wrapper . jar b / examples / gradle / wrapper / gradle - wrapper . jar <nl> index 3baa851 . . 6ffa237 100644 <nl> Binary files a / examples / gradle / wrapper / gradle - wrapper . jar and b / examples / gradle / wrapper / gradle - wrapper . jar differ <nl> diff - - git a / examples / gradle / wrapper / gradle - wrapper . properties b / examples / gradle / wrapper / gradle - wrapper . properties <nl> index f930473 . . 619351f 100644 <nl> - - - a / examples / gradle / wrapper / gradle - wrapper . properties <nl> + + + b / examples / gradle / wrapper / gradle - wrapper . properties <nl> @ @ - 3 , 4 + 3 , 4 @ @ distributionBase = GRADLE _ USER _ HOME <nl> distributionPath = wrapper / dists <nl> zipStoreBase = GRADLE _ USER _ HOME <nl> zipStorePath = wrapper / dists <nl> - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 1 - all . zip <nl> + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 3 - all . zip <nl> diff - - git a / examples / gradlew b / examples / gradlew <nl> index 27309d9 . . 9aa616c 100755 <nl> - - - a / examples / gradlew <nl> + + + b / examples / gradlew <nl> @ @ - 161 , 4 + 161 , 9 @ @ function splitJvmOpts ( ) { <nl> eval splitJvmOpts $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS <nl> JVM _ OPTS [ $ { # JVM _ OPTS [ * ] } ] = " - Dorg . gradle . appname = $ APP _ BASE _ NAME " <nl> <nl> + # by default we should be in the correct project dir , but when run from Finder on Mac , the cwd is wrong <nl> + if [ [ " $ ( uname ) " = = " Darwin " ] ] & & [ [ " $ HOME " = = " $ PWD " ] ] ; then <nl> + cd " $ ( dirname " $ 0 " ) " <nl> + fi <nl> + <nl> exec " $ JAVACMD " " $ { JVM _ OPTS [ @ ] } " - classpath " $ CLASSPATH " org . gradle . wrapper . GradleWrapperMain " $ @ " <nl> diff - - git a / examples / gradlew . bat b / examples / gradlew . bat <nl> index f6d5974 . . e95643d 100644 <nl> - - - a / examples / gradlew . bat <nl> + + + b / examples / gradlew . bat <nl> @ @ - 49 , 7 + 49 , 6 @ @ goto fail <nl> @ rem Get command - line arguments , handling Windows variants <nl> <nl> if not " % OS % " = = " Windows _ NT " goto win9xME _ args <nl> - if " % @ eval [ 2 + 2 ] " = = " 4 " goto 4NT _ args <nl> <nl> : win9xME _ args <nl> @ rem Slurp the command line arguments . <nl> @ @ - 60 , 11 + 59 , 6 @ @ set _ SKIP = 2 <nl> if " x % ~ 1 " = = " x " goto execute <nl> <nl> set CMD _ LINE _ ARGS = % * <nl> - goto execute <nl> - <nl> - : 4NT _ args <nl> - @ rem Get arguments from the 4NT Shell from JP Software <nl> - set CMD _ LINE _ ARGS = % $ <nl> <nl> : execute <nl> @ rem Setup the command line <nl> diff - - git a / examples / secureTokenAndroidKeyStore / build . gradle b / examples / secureTokenAndroidKeyStore / build . gradle <nl> index 7222838 . . cb4fe8b 100644 <nl> - - - a / examples / secureTokenAndroidKeyStore / build . gradle <nl> + + + b / examples / secureTokenAndroidKeyStore / build . gradle <nl> @ @ - 2 , 8 + 2 , 8 @ @ apply plugin : ' com . android . application ' <nl> apply plugin : ' realm - android ' <nl> <nl> android { <nl> - compileSdkVersion 24 <nl> - buildToolsVersion " 24 . 0 . 0 " <nl> + compileSdkVersion rootProject . sdkVersion <nl> + buildToolsVersion rootProject . buildTools <nl> <nl> defaultConfig { <nl> applicationId " io . realm . examples . securetokenandroidkeystore " <nl> @ @ - 35 , 4 + 35 , 4 @ @ dependencies { <nl> <nl> realm { <nl> syncEnabled = true <nl> - } <nl> \ No newline at end of file <nl> + } <nl> diff - - git a / gradle - plugin / gradle / wrapper / gradle - wrapper . jar b / gradle - plugin / gradle / wrapper / gradle - wrapper . jar <nl> index 3baa851 . . 6ffa237 100644 <nl> Binary files a / gradle - plugin / gradle / wrapper / gradle - wrapper . jar and b / gradle - plugin / gradle / wrapper / gradle - wrapper . jar differ <nl> diff - - git a / gradle - plugin / gradle / wrapper / gradle - wrapper . properties b / gradle - plugin / gradle / wrapper / gradle - wrapper . properties <nl> index 4912622 . . e05d79c 100644 <nl> - - - a / gradle - plugin / gradle / wrapper / gradle - wrapper . properties <nl> + + + b / gradle - plugin / gradle / wrapper / gradle - wrapper . properties <nl> @ @ - 3 , 4 + 3 , 4 @ @ distributionBase = GRADLE _ USER _ HOME <nl> distributionPath = wrapper / dists <nl> zipStoreBase = GRADLE _ USER _ HOME <nl> zipStorePath = wrapper / dists <nl> - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 1 - all . zip <nl> + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 3 - all . zip <nl> diff - - git a / gradle - plugin / gradlew b / gradle - plugin / gradlew <nl> index 27309d9 . . 9aa616c 100755 <nl> - - - a / gradle - plugin / gradlew <nl> + + + b / gradle - plugin / gradlew <nl> @ @ - 161 , 4 + 161 , 9 @ @ function splitJvmOpts ( ) { <nl> eval splitJvmOpts $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS <nl> JVM _ OPTS [ $ { # JVM _ OPTS [ * ] } ] = " - Dorg . gradle . appname = $ APP _ BASE _ NAME " <nl> <nl> + # by default we should be in the correct project dir , but when run from Finder on Mac , the cwd is wrong <nl> + if [ [ " $ ( uname ) " = = " Darwin " ] ] & & [ [ " $ HOME " = = " $ PWD " ] ] ; then <nl> + cd " $ ( dirname " $ 0 " ) " <nl> + fi <nl> + <nl> exec " $ JAVACMD " " $ { JVM _ OPTS [ @ ] } " - classpath " $ CLASSPATH " org . gradle . wrapper . GradleWrapperMain " $ @ " <nl> diff - - git a / gradle - plugin / gradlew . bat b / gradle - plugin / gradlew . bat <nl> index f6d5974 . . e95643d 100644 <nl> - - - a / gradle - plugin / gradlew . bat <nl> + + + b / gradle - plugin / gradlew . bat <nl> @ @ - 49 , 7 + 49 , 6 @ @ goto fail <nl> @ rem Get command - line arguments , handling Windows variants <nl> <nl> if not " % OS % " = = " Windows _ NT " goto win9xME _ args <nl> - if " % @ eval [ 2 + 2 ] " = = " 4 " goto 4NT _ args <nl> <nl> : win9xME _ args <nl> @ rem Slurp the command line arguments . <nl> @ @ - 60 , 11 + 59 , 6 @ @ set _ SKIP = 2 <nl> if " x % ~ 1 " = = " x " goto execute <nl> <nl> set CMD _ LINE _ ARGS = % * <nl> - goto execute <nl> - <nl> - : 4NT _ args <nl> - @ rem Get arguments from the 4NT Shell from JP Software <nl> - set CMD _ LINE _ ARGS = % $ <nl> <nl> : execute <nl> @ rem Setup the command line <nl> diff - - git a / gradle / wrapper / gradle - wrapper . jar b / gradle / wrapper / gradle - wrapper . jar <nl> index 3baa851 . . 6ffa237 100644 <nl> Binary files a / gradle / wrapper / gradle - wrapper . jar and b / gradle / wrapper / gradle - wrapper . jar differ <nl> diff - - git a / gradle / wrapper / gradle - wrapper . properties b / gradle / wrapper / gradle - wrapper . properties <nl> index bc6b7c4 . . 866aa02 100644 <nl> - - - a / gradle / wrapper / gradle - wrapper . properties <nl> + + + b / gradle / wrapper / gradle - wrapper . properties <nl> @ @ - 1 , 6 + 1 , 6 @ @ <nl> - # Tue Sep 20 14 : 03 : 29 CST 2016 <nl> + # Mon Jan 16 12 : 37 : 33 JST 2017 <nl> distributionBase = GRADLE _ USER _ HOME <nl> distributionPath = wrapper / dists <nl> zipStoreBase = GRADLE _ USER _ HOME <nl> zipStorePath = wrapper / dists <nl> - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 1 - all . zip <nl> + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 3 - all . zip <nl> diff - - git a / gradlew b / gradlew <nl> index 27309d9 . . 9aa616c 100755 <nl> - - - a / gradlew <nl> + + + b / gradlew <nl> @ @ - 161 , 4 + 161 , 9 @ @ function splitJvmOpts ( ) { <nl> eval splitJvmOpts $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS <nl> JVM _ OPTS [ $ { # JVM _ OPTS [ * ] } ] = " - Dorg . gradle . appname = $ APP _ BASE _ NAME " <nl> <nl> + # by default we should be in the correct project dir , but when run from Finder on Mac , the cwd is wrong <nl> + if [ [ " $ ( uname ) " = = " Darwin " ] ] & & [ [ " $ HOME " = = " $ PWD " ] ] ; then <nl> + cd " $ ( dirname " $ 0 " ) " <nl> + fi <nl> + <nl> exec " $ JAVACMD " " $ { JVM _ OPTS [ @ ] } " - classpath " $ CLASSPATH " org . gradle . wrapper . GradleWrapperMain " $ @ " <nl> diff - - git a / gradlew . bat b / gradlew . bat <nl> index f6d5974 . . e95643d 100644 <nl> - - - a / gradlew . bat <nl> + + + b / gradlew . bat <nl> @ @ - 49 , 7 + 49 , 6 @ @ goto fail <nl> @ rem Get command - line arguments , handling Windows variants <nl> <nl> if not " % OS % " = = " Windows _ NT " goto win9xME _ args <nl> - if " % @ eval [ 2 + 2 ] " = = " 4 " goto 4NT _ args <nl> <nl> : win9xME _ args <nl> @ rem Slurp the command line arguments . <nl> @ @ - 60 , 11 + 59 , 6 @ @ set _ SKIP = 2 <nl> if " x % ~ 1 " = = " x " goto execute <nl> <nl> set CMD _ LINE _ ARGS = % * <nl> - goto execute <nl> - <nl> - : 4NT _ args <nl> - @ rem Get arguments from the 4NT Shell from JP Software <nl> - set CMD _ LINE _ ARGS = % $ <nl> <nl> : execute <nl> @ rem Setup the command line <nl> diff - - git a / realm - annotations / gradle / wrapper / gradle - wrapper . jar b / realm - annotations / gradle / wrapper / gradle - wrapper . jar <nl> index 3baa851 . . 6ffa237 100644 <nl> Binary files a / realm - annotations / gradle / wrapper / gradle - wrapper . jar and b / realm - annotations / gradle / wrapper / gradle - wrapper . jar differ <nl> diff - - git a / realm - annotations / gradle / wrapper / gradle - wrapper . properties b / realm - annotations / gradle / wrapper / gradle - wrapper . properties <nl> index a18e4af . . ebb1e60 100644 <nl> - - - a / realm - annotations / gradle / wrapper / gradle - wrapper . properties <nl> + + + b / realm - annotations / gradle / wrapper / gradle - wrapper . properties <nl> @ @ - 3 , 4 + 3 , 4 @ @ distributionBase = GRADLE _ USER _ HOME <nl> distributionPath = wrapper / dists <nl> zipStoreBase = GRADLE _ USER _ HOME <nl> zipStorePath = wrapper / dists <nl> - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 1 - all . zip <nl> + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 3 - all . zip <nl> diff - - git a / realm - annotations / gradlew b / realm - annotations / gradlew <nl> index 27309d9 . . 9aa616c 100755 <nl> - - - a / realm - annotations / gradlew <nl> + + + b / realm - annotations / gradlew <nl> @ @ - 161 , 4 + 161 , 9 @ @ function splitJvmOpts ( ) { <nl> eval splitJvmOpts $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS <nl> JVM _ OPTS [ $ { # JVM _ OPTS [ * ] } ] = " - Dorg . gradle . appname = $ APP _ BASE _ NAME " <nl> <nl> + # by default we should be in the correct project dir , but when run from Finder on Mac , the cwd is wrong <nl> + if [ [ " $ ( uname ) " = = " Darwin " ] ] & & [ [ " $ HOME " = = " $ PWD " ] ] ; then <nl> + cd " $ ( dirname " $ 0 " ) " <nl> + fi <nl> + <nl> exec " $ JAVACMD " " $ { JVM _ OPTS [ @ ] } " - classpath " $ CLASSPATH " org . gradle . wrapper . GradleWrapperMain " $ @ " <nl> diff - - git a / realm - annotations / gradlew . bat b / realm - annotations / gradlew . bat <nl> index f6d5974 . . e95643d 100644 <nl> - - - a / realm - annotations / gradlew . bat <nl> + + + b / realm - annotations / gradlew . bat <nl> @ @ - 49 , 7 + 49 , 6 @ @ goto fail <nl> @ rem Get command - line arguments , handling Windows variants <nl> <nl> if not " % OS % " = = " Windows _ NT " goto win9xME _ args <nl> - if " % @ eval [ 2 + 2 ] " = = " 4 " goto 4NT _ args <nl> <nl> : win9xME _ args <nl> @ rem Slurp the command line arguments . <nl> @ @ - 60 , 11 + 59 , 6 @ @ set _ SKIP = 2 <nl> if " x % ~ 1 " = = " x " goto execute <nl> <nl> set CMD _ LINE _ ARGS = % * <nl> - goto execute <nl> - <nl> - : 4NT _ args <nl> - @ rem Get arguments from the 4NT Shell from JP Software <nl> - set CMD _ LINE _ ARGS = % $ <nl> <nl> : execute <nl> @ rem Setup the command line <nl> diff - - git a / realm - transformer / gradle / wrapper / gradle - wrapper . jar b / realm - transformer / gradle / wrapper / gradle - wrapper . jar <nl> index 3baa851 . . 6ffa237 100644 <nl> Binary files a / realm - transformer / gradle / wrapper / gradle - wrapper . jar and b / realm - transformer / gradle / wrapper / gradle - wrapper . jar differ <nl> diff - - git a / realm - transformer / gradle / wrapper / gradle - wrapper . properties b / realm - transformer / gradle / wrapper / gradle - wrapper . properties <nl> index e9bd4ba . . 9297d38 100644 <nl> - - - a / realm - transformer / gradle / wrapper / gradle - wrapper . properties <nl> + + + b / realm - transformer / gradle / wrapper / gradle - wrapper . properties <nl> @ @ - 3 , 4 + 3 , 4 @ @ distributionBase = GRADLE _ USER _ HOME <nl> distributionPath = wrapper / dists <nl> zipStoreBase = GRADLE _ USER _ HOME <nl> zipStorePath = wrapper / dists <nl> - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 1 - all . zip <nl> + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 3 - all . zip <nl> diff - - git a / realm - transformer / gradlew b / realm - transformer / gradlew <nl> index 27309d9 . . 9aa616c 100755 <nl> - - - a / realm - transformer / gradlew <nl> + + + b / realm - transformer / gradlew <nl> @ @ - 161 , 4 + 161 , 9 @ @ function splitJvmOpts ( ) { <nl> eval splitJvmOpts $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS <nl> JVM _ OPTS [ $ { # JVM _ OPTS [ * ] } ] = " - Dorg . gradle . appname = $ APP _ BASE _ NAME " <nl> <nl> + # by default we should be in the correct project dir , but when run from Finder on Mac , the cwd is wrong <nl> + if [ [ " $ ( uname ) " = = " Darwin " ] ] & & [ [ " $ HOME " = = " $ PWD " ] ] ; then <nl> + cd " $ ( dirname " $ 0 " ) " <nl> + fi <nl> + <nl> exec " $ JAVACMD " " $ { JVM _ OPTS [ @ ] } " - classpath " $ CLASSPATH " org . gradle . wrapper . GradleWrapperMain " $ @ " <nl> diff - - git a / realm - transformer / gradlew . bat b / realm - transformer / gradlew . bat <nl> index f6d5974 . . e95643d 100644 <nl> - - - a / realm - transformer / gradlew . bat <nl> + + + b / realm - transformer / gradlew . bat <nl> @ @ - 49 , 7 + 49 , 6 @ @ goto fail <nl> @ rem Get command - line arguments , handling Windows variants <nl> <nl> if not " % OS % " = = " Windows _ NT " goto win9xME _ args <nl> - if " % @ eval [ 2 + 2 ] " = = " 4 " goto 4NT _ args <nl> <nl> : win9xME _ args <nl> @ rem Slurp the command line arguments . <nl> @ @ - 60 , 11 + 59 , 6 @ @ set _ SKIP = 2 <nl> if " x % ~ 1 " = = " x " goto execute <nl> <nl> set CMD _ LINE _ ARGS = % * <nl> - goto execute <nl> - <nl> - : 4NT _ args <nl> - @ rem Get arguments from the 4NT Shell from JP Software <nl> - set CMD _ LINE _ ARGS = % $ <nl> <nl> : execute <nl> @ rem Setup the command line <nl> diff - - git a / realm . properties b / realm . properties <nl> index 1be5af0 . . f2ca4ed 100644 <nl> - - - a / realm . properties <nl> + + + b / realm . properties <nl> @ @ - 1 , 2 + 1 , 2 @ @ <nl> - gradleVersion = 2 . 14 . 1 <nl> + gradleVersion = 3 . 3 <nl> ndkVersion = r10e <nl> diff - - git a / realm / build . gradle b / realm / build . gradle <nl> index d520cb8 . . 120340d 100644 <nl> - - - a / realm / build . gradle <nl> + + + b / realm / build . gradle <nl> @ @ - 6 , 7 + 6 , 7 @ @ buildscript { <nl> } <nl> <nl> dependencies { <nl> - classpath ' com . android . tools . build : gradle : 2 . 2 . 2 ' <nl> + classpath ' com . android . tools . build : gradle : 2 . 3 . 0 ' <nl> classpath ' de . undercouch : gradle - download - task : 3 . 1 . 1 ' <nl> classpath ' com . github . dcendents : android - maven - gradle - plugin : 1 . 5 ' <nl> classpath ' com . novoda : gradle - android - command - plugin : 1 . 3 . 0 ' <nl> diff - - git a / realm / gradle / wrapper / gradle - wrapper . jar b / realm / gradle / wrapper / gradle - wrapper . jar <nl> index 3baa851 . . 172e6b6 100644 <nl> Binary files a / realm / gradle / wrapper / gradle - wrapper . jar and b / realm / gradle / wrapper / gradle - wrapper . jar differ <nl> diff - - git a / realm / gradle / wrapper / gradle - wrapper . properties b / realm / gradle / wrapper / gradle - wrapper . properties <nl> index 897f3bf . . 81199ae 100644 <nl> - - - a / realm / gradle / wrapper / gradle - wrapper . properties <nl> + + + b / realm / gradle / wrapper / gradle - wrapper . properties <nl> @ @ - 1 , 6 + 1 , 6 @ @ <nl> - # Tue Sep 20 14 : 03 : 59 CST 2016 <nl> + # Mon Jan 16 20 : 15 : 19 JST 2017 <nl> distributionBase = GRADLE _ USER _ HOME <nl> distributionPath = wrapper / dists <nl> zipStoreBase = GRADLE _ USER _ HOME <nl> zipStorePath = wrapper / dists <nl> - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 1 - all . zip <nl> + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 3 - all . zip <nl> diff - - git a / realm / gradlew b / realm / gradlew <nl> index 27309d9 . . 4453cce 100755 <nl> - - - a / realm / gradlew <nl> + + + b / realm / gradlew <nl> @ @ - 1 , 4 + 1 , 4 @ @ <nl> - # ! / usr / bin / env bash <nl> + # ! / usr / bin / env sh <nl> <nl> # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # <nl> # # <nl> @ @ - 154 , 11 + 154 , 19 @ @ if $ cygwin ; then <nl> esac <nl> fi <nl> <nl> - # Split up the JVM _ OPTS And GRADLE _ OPTS values into an array , following the shell quoting and substitution rules <nl> - function splitJvmOpts ( ) { <nl> - JVM _ OPTS = ( " $ @ " ) <nl> + # Escape application args <nl> + save ( ) { <nl> + for i do printf % s \ \ n " $ i " | sed " s / ' / ' \ \ \ \ ' ' / g ; 1s / ^ / ' / ; \ $ s / \ $ / ' \ \ \ \ / " ; done <nl> + echo " " <nl> } <nl> - eval splitJvmOpts $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS <nl> - JVM _ OPTS [ $ { # JVM _ OPTS [ * ] } ] = " - Dorg . gradle . appname = $ APP _ BASE _ NAME " <nl> + APP _ ARGS = $ ( save " $ @ " ) <nl> <nl> - exec " $ JAVACMD " " $ { JVM _ OPTS [ @ ] } " - classpath " $ CLASSPATH " org . gradle . wrapper . GradleWrapperMain " $ @ " <nl> + # Collect all arguments for the java command , following the shell quoting and substitution rules <nl> + eval set - - $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS " \ " - Dorg . gradle . appname = $ APP _ BASE _ NAME \ " " - classpath " \ " $ CLASSPATH \ " " org . gradle . wrapper . GradleWrapperMain " $ APP _ ARGS " <nl> + <nl> + # by default we should be in the correct project dir , but when run from Finder on Mac , the cwd is wrong <nl> + if [ " $ ( uname ) " = " Darwin " ] & & [ " $ HOME " = " $ PWD " ] ; then <nl> + cd " $ ( dirname " $ 0 " ) " <nl> + fi <nl> + <nl> + exec " $ JAVACMD " " $ @ " <nl> diff - - git a / realm / gradlew . bat b / realm / gradlew . bat <nl> index f6d5974 . . e95643d 100644 <nl> - - - a / realm / gradlew . bat <nl> + + + b / realm / gradlew . bat <nl> @ @ - 49 , 7 + 49 , 6 @ @ goto fail <nl> @ rem Get command - line arguments , handling Windows variants <nl> <nl> if not " % OS % " = = " Windows _ NT " goto win9xME _ args <nl> - if " % @ eval [ 2 + 2 ] " = = " 4 " goto 4NT _ args <nl> <nl> : win9xME _ args <nl> @ rem Slurp the command line arguments . <nl> @ @ - 60 , 11 + 59 , 6 @ @ set _ SKIP = 2 <nl> if " x % ~ 1 " = = " x " goto execute <nl> <nl> set CMD _ LINE _ ARGS = % * <nl> - goto execute <nl> - <nl> - : 4NT _ args <nl> - @ rem Get arguments from the 4NT Shell from JP Software <nl> - set CMD _ LINE _ ARGS = % $ <nl> <nl> : execute <nl> @ rem Setup the command line <nl> diff - - git a / realm / realm - annotations - processor / build . gradle b / realm / realm - annotations - processor / build . gradle <nl> index 373440b . . d4c3c94 100644 <nl> - - - a / realm / realm - annotations - processor / build . gradle <nl> + + + b / realm / realm - annotations - processor / build . gradle <nl> @ @ - 11 , 7 + 11 , 7 @ @ dependencies { <nl> compile group : ' com . squareup ' , name : ' javawriter ' , version : ' 2 . 5 . 0 ' <nl> compile " io . realm : realm - annotations : $ { version } " <nl> <nl> - testCompile files ( ' . . / realm - library / build / intermediates / bundles / base / release / classes . jar ' ) / / Java projects cannot depend on AAR files <nl> + testCompile files ( ' . . / realm - library / build / intermediates / bundles / baseRelease / classes . jar ' ) / / Java projects cannot depend on AAR files <nl> testCompile files ( " $ { System . properties [ ' java . home ' ] } / . . / lib / tools . jar " ) / / This is needed otherwise compile - testing won ' t be able to find it <nl> testCompile group : ' junit ' , name : ' junit ' , version : ' 4 . 12 ' <nl> testCompile group : ' com . google . testing . compile ' , name : ' compile - testing ' , version : ' 0 . 6 ' <nl> diff - - git a / realm / realm - library / build . gradle b / realm / realm - library / build . gradle <nl> index ac7f1af . . db9a4d6 100644 <nl> - - - a / realm / realm - library / build . gradle <nl> + + + b / realm / realm - library / build . gradle <nl> @ @ - 34 , 7 + 34 , 7 @ @ ext . lcachePath = project . findProperty ( ' lcachePath ' ) ? : System . getenv ( ' NDK _ LCACHE <nl> <nl> android { <nl> compileSdkVersion 24 <nl> - buildToolsVersion ' 24 . 0 . 0 ' <nl> + buildToolsVersion ' 25 . 0 . 2 ' <nl> <nl> defaultConfig { <nl> minSdkVersion 9 <nl> @ @ - 529 , 28 + 529 , 30 @ @ project . afterEvaluate { <nl> } <nl> } <nl> <nl> - task checkNdk ( ) < < { <nl> - def ndkPathInEnvVariable = System . env . ANDROID _ NDK _ HOME <nl> - if ( ! ndkPathInEnvVariable ) { <nl> - throw new GradleException ( " The environment variable ' ANDROID _ NDK _ HOME ' must be set . " ) <nl> - } <nl> - checkNdk ( ndkPathInEnvVariable ) <nl> - <nl> - def localPropFile = rootProject . file ( ' local . properties ' ) <nl> - if ( ! localPropFile . exists ( ) ) { <nl> - / / we can skip the checks since ' ANDROID _ NDK _ HOME ' will be used instead . <nl> - } else { <nl> - def String ndkPathInLocalProperties = getValueFromPropertiesFile ( localPropFile , ' ndk . dir ' ) <nl> - if ( ! ndkPathInLocalProperties ) { <nl> - throw new GradleException ( " ' ndk . dir ' must be set in $ { localPropFile . getAbsolutePath ( ) } . " ) <nl> - } <nl> - checkNdk ( ndkPathInLocalProperties ) <nl> - if ( new File ( ndkPathInLocalProperties ) . getCanonicalPath ( ) <nl> - ! = new File ( ndkPathInEnvVariable ) . getCanonicalPath ( ) ) { <nl> - throw new GradleException ( <nl> - " The value of environment variable ' ANDROID _ NDK _ HOME ' ( $ { ndkPathInEnvVariable } ) and " <nl> - + " ' ndk . dir ' in ' local . properties ' ( $ { ndkPathInLocalProperties } ) " <nl> - + ' must point the same directory . ' ) <nl> + task checkNdk ( ) { <nl> + doLast { <nl> + def ndkPathInEnvVariable = System . env . ANDROID _ NDK _ HOME <nl> + if ( ! ndkPathInEnvVariable ) { <nl> + throw new GradleException ( " The environment variable ' ANDROID _ NDK _ HOME ' must be set . " ) <nl> + } <nl> + checkNdk ( ndkPathInEnvVariable ) <nl> + <nl> + def localPropFile = rootProject . file ( ' local . properties ' ) <nl> + if ( ! localPropFile . exists ( ) ) { <nl> + / / we can skip the checks since ' ANDROID _ NDK _ HOME ' will be used instead . <nl> + } else { <nl> + def String ndkPathInLocalProperties = getValueFromPropertiesFile ( localPropFile , ' ndk . dir ' ) <nl> + if ( ! ndkPathInLocalProperties ) { <nl> + throw new GradleException ( " ' ndk . dir ' must be set in $ { localPropFile . getAbsolutePath ( ) } . " ) <nl> + } <nl> + checkNdk ( ndkPathInLocalProperties ) <nl> + if ( new File ( ndkPathInLocalProperties ) . getCanonicalPath ( ) <nl> + ! = new File ( ndkPathInEnvVariable ) . getCanonicalPath ( ) ) { <nl> + throw new GradleException ( <nl> + " The value of environment variable ' ANDROID _ NDK _ HOME ' ( $ { ndkPathInEnvVariable } ) and " <nl> + + " ' ndk . dir ' in ' local . properties ' ( $ { ndkPathInLocalProperties } ) " <nl> + + ' must point the same directory . ' ) <nl> + } <nl> } <nl> } <nl> }

TEST DIFF:
diff - - git a / examples / build . gradle b / examples / build . gradle 
 index 0d2f116 . . 34d1f10 100644 
 - - - a / examples / build . gradle 
 + + + b / examples / build . gradle 
 @ @ - 9 , 6 + 9 , 12 @ @ configurations . all { 
 allprojects { 
 def currentVersion = file ( " $ { rootDir } / . . / version . txt " ) . text . trim ( ) 
 
 + def props = new Properties ( ) 
 + props . load ( new FileInputStream ( " $ { rootDir } / . . / realm . properties " ) ) 
 + props . each { key , val - > 
 + project . ext . set ( key , val ) 
 + } 
 + 
 buildscript { 
 repositories { 
 mavenLocal ( ) 
 @ @ - 33 , 3 + 39 , 7 @ @ allprojects { 
 jcenter ( ) 
 } 
 } 
 + 
 + task wrapper ( type : Wrapper ) { 
 + gradleVersion = project . gradleVersion 
 + } 
 diff - - git a / examples / gradle / wrapper / gradle - wrapper . jar b / examples / gradle / wrapper / gradle - wrapper . jar 
 index 6ffa237 . . 35fb1ae 100644 
 Binary files a / examples / gradle / wrapper / gradle - wrapper . jar and b / examples / gradle / wrapper / gradle - wrapper . jar differ 
 diff - - git a / examples / gradle / wrapper / gradle - wrapper . properties b / examples / gradle / wrapper / gradle - wrapper . properties 
 index 619351f . . c7fdbdb 100644 
 - - - a / examples / gradle / wrapper / gradle - wrapper . properties 
 + + + b / examples / gradle / wrapper / gradle - wrapper . properties 
 @ @ - 1 , 6 + 1 , 6 @ @ 
 - # Tue Sep 20 14 : 25 : 59 CST 2016 
 + # Fri Mar 03 05 : 45 : 58 JST 2017 
 distributionBase = GRADLE _ USER _ HOME 
 distributionPath = wrapper / dists 
 zipStoreBase = GRADLE _ USER _ HOME 
 zipStorePath = wrapper / dists 
 - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 3 - all . zip 
 + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 4 - all . zip 
 diff - - git a / examples / gradlew b / examples / gradlew 
 index 9aa616c . . 4453cce 100755 
 - - - a / examples / gradlew 
 + + + b / examples / gradlew 
 @ @ - 1 , 4 + 1 , 4 @ @ 
 - # ! / usr / bin / env bash 
 + # ! / usr / bin / env sh 
 
 # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # 
 # # 
 @ @ - 154 , 16 + 154 , 19 @ @ if $ cygwin ; then 
 esac 
 fi 
 
 - # Split up the JVM _ OPTS And GRADLE _ OPTS values into an array , following the shell quoting and substitution rules 
 - function splitJvmOpts ( ) { 
 - JVM _ OPTS = ( " $ @ " ) 
 + # Escape application args 
 + save ( ) { 
 + for i do printf % s \ \ n " $ i " | sed " s / ' / ' \ \ \ \ ' ' / g ; 1s / ^ / ' / ; \ $ s / \ $ / ' \ \ \ \ / " ; done 
 + echo " " 
 } 
 - eval splitJvmOpts $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS 
 - JVM _ OPTS [ $ { # JVM _ OPTS [ * ] } ] = " - Dorg . gradle . appname = $ APP _ BASE _ NAME " 
 + APP _ ARGS = $ ( save " $ @ " ) 
 + 
 + # Collect all arguments for the java command , following the shell quoting and substitution rules 
 + eval set - - $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS " \ " - Dorg . gradle . appname = $ APP _ BASE _ NAME \ " " - classpath " \ " $ CLASSPATH \ " " org . gradle . wrapper . GradleWrapperMain " $ APP _ ARGS " 
 
 # by default we should be in the correct project dir , but when run from Finder on Mac , the cwd is wrong 
 - if [ [ " $ ( uname ) " = = " Darwin " ] ] & & [ [ " $ HOME " = = " $ PWD " ] ] ; then 
 + if [ " $ ( uname ) " = " Darwin " ] & & [ " $ HOME " = " $ PWD " ] ; then 
 cd " $ ( dirname " $ 0 " ) " 
 fi 
 
 - exec " $ JAVACMD " " $ { JVM _ OPTS [ @ ] } " - classpath " $ CLASSPATH " org . gradle . wrapper . GradleWrapperMain " $ @ " 
 + exec " $ JAVACMD " " $ @ " 
 diff - - git a / gradle - plugin / gradle / wrapper / gradle - wrapper . jar b / gradle - plugin / gradle / wrapper / gradle - wrapper . jar 
 index 6ffa237 . . d8af58c 100644 
 Binary files a / gradle - plugin / gradle / wrapper / gradle - wrapper . jar and b / gradle - plugin / gradle / wrapper / gradle - wrapper . jar differ 
 diff - - git a / gradle - plugin / gradle / wrapper / gradle - wrapper . properties b / gradle - plugin / gradle / wrapper / gradle - wrapper . properties 
 index e05d79c . . 1e57542 100644 
 - - - a / gradle - plugin / gradle / wrapper / gradle - wrapper . properties 
 + + + b / gradle - plugin / gradle / wrapper / gradle - wrapper . properties 
 @ @ - 1 , 6 + 1 , 6 @ @ 
 - # Tue Sep 20 14 : 21 : 04 CST 2016 
 + # Thu Mar 02 03 : 11 : 23 JST 2017 
 distributionBase = GRADLE _ USER _ HOME 
 distributionPath = wrapper / dists 
 zipStoreBase = GRADLE _ USER _ HOME 
 zipStorePath = wrapper / dists 
 - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 3 - all . zip 
 + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 4 - all . zip 
 diff - - git a / gradle - plugin / gradlew b / gradle - plugin / gradlew 
 index 9aa616c . . 4453cce 100755 
 - - - a / gradle - plugin / gradlew 
 + + + b / gradle - plugin / gradlew 
 @ @ - 1 , 4 + 1 , 4 @ @ 
 - # ! / usr / bin / env bash 
 + # ! / usr / bin / env sh 
 
 # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # 
 # # 
 @ @ - 154 , 16 + 154 , 19 @ @ if $ cygwin ; then 
 esac 
 fi 
 
 - # Split up the JVM _ OPTS And GRADLE _ OPTS values into an array , following the shell quoting and substitution rules 
 - function splitJvmOpts ( ) { 
 - JVM _ OPTS = ( " $ @ " ) 
 + # Escape application args 
 + save ( ) { 
 + for i do printf % s \ \ n " $ i " | sed " s / ' / ' \ \ \ \ ' ' / g ; 1s / ^ / ' / ; \ $ s / \ $ / ' \ \ \ \ / " ; done 
 + echo " " 
 } 
 - eval splitJvmOpts $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS 
 - JVM _ OPTS [ $ { # JVM _ OPTS [ * ] } ] = " - Dorg . gradle . appname = $ APP _ BASE _ NAME " 
 + APP _ ARGS = $ ( save " $ @ " ) 
 + 
 + # Collect all arguments for the java command , following the shell quoting and substitution rules 
 + eval set - - $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS " \ " - Dorg . gradle . appname = $ APP _ BASE _ NAME \ " " - classpath " \ " $ CLASSPATH \ " " org . gradle . wrapper . GradleWrapperMain " $ APP _ ARGS " 
 
 # by default we should be in the correct project dir , but when run from Finder on Mac , the cwd is wrong 
 - if [ [ " $ ( uname ) " = = " Darwin " ] ] & & [ [ " $ HOME " = = " $ PWD " ] ] ; then 
 + if [ " $ ( uname ) " = " Darwin " ] & & [ " $ HOME " = " $ PWD " ] ; then 
 cd " $ ( dirname " $ 0 " ) " 
 fi 
 
 - exec " $ JAVACMD " " $ { JVM _ OPTS [ @ ] } " - classpath " $ CLASSPATH " org . gradle . wrapper . GradleWrapperMain " $ @ " 
 + exec " $ JAVACMD " " $ @ " 
 diff - - git a / gradle / wrapper / gradle - wrapper . jar b / gradle / wrapper / gradle - wrapper . jar 
 index 6ffa237 . . 48a802e 100644 
 Binary files a / gradle / wrapper / gradle - wrapper . jar and b / gradle / wrapper / gradle - wrapper . jar differ 
 diff - - git a / gradle / wrapper / gradle - wrapper . properties b / gradle / wrapper / gradle - wrapper . properties 
 index 866aa02 . . e330fab 100644 
 - - - a / gradle / wrapper / gradle - wrapper . properties 
 + + + b / gradle / wrapper / gradle - wrapper . properties 
 @ @ - 1 , 6 + 1 , 6 @ @ 
 - # Mon Jan 16 12 : 37 : 33 JST 2017 
 + # Thu Mar 02 03 : 10 : 56 JST 2017 
 distributionBase = GRADLE _ USER _ HOME 
 distributionPath = wrapper / dists 
 zipStoreBase = GRADLE _ USER _ HOME 
 zipStorePath = wrapper / dists 
 - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 3 - all . zip 
 + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 4 - all . zip 
 diff - - git a / gradlew b / gradlew 
 index 9aa616c . . 4453cce 100755 
 - - - a / gradlew 
 + + + b / gradlew 
 @ @ - 1 , 4 + 1 , 4 @ @ 
 - # ! / usr / bin / env bash 
 + # ! / usr / bin / env sh 
 
 # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # 
 # # 
 @ @ - 154 , 16 + 154 , 19 @ @ if $ cygwin ; then 
 esac 
 fi 
 
 - # Split up the JVM _ OPTS And GRADLE _ OPTS values into an array , following the shell quoting and substitution rules 
 - function splitJvmOpts ( ) { 
 - JVM _ OPTS = ( " $ @ " ) 
 + # Escape application args 
 + save ( ) { 
 + for i do printf % s \ \ n " $ i " | sed " s / ' / ' \ \ \ \ ' ' / g ; 1s / ^ / ' / ; \ $ s / \ $ / ' \ \ \ \ / " ; done 
 + echo " " 
 } 
 - eval splitJvmOpts $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS 
 - JVM _ OPTS [ $ { # JVM _ OPTS [ * ] } ] = " - Dorg . gradle . appname = $ APP _ BASE _ NAME " 
 + APP _ ARGS = $ ( save " $ @ " ) 
 + 
 + # Collect all arguments for the java command , following the shell quoting and substitution rules 
 + eval set - - $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS " \ " - Dorg . gradle . appname = $ APP _ BASE _ NAME \ " " - classpath " \ " $ CLASSPATH \ " " org . gradle . wrapper . GradleWrapperMain " $ APP _ ARGS " 
 
 # by default we should be in the correct project dir , but when run from Finder on Mac , the cwd is wrong 
 - if [ [ " $ ( uname ) " = = " Darwin " ] ] & & [ [ " $ HOME " = = " $ PWD " ] ] ; then 
 + if [ " $ ( uname ) " = " Darwin " ] & & [ " $ HOME " = " $ PWD " ] ; then 
 cd " $ ( dirname " $ 0 " ) " 
 fi 
 
 - exec " $ JAVACMD " " $ { JVM _ OPTS [ @ ] } " - classpath " $ CLASSPATH " org . gradle . wrapper . GradleWrapperMain " $ @ " 
 + exec " $ JAVACMD " " $ @ " 
 diff - - git a / realm - annotations / build . gradle b / realm - annotations / build . gradle 
 index a372797 . . 40213eb 100644 
 - - - a / realm - annotations / build . gradle 
 + + + b / realm - annotations / build . gradle 
 @ @ - 8 , 6 + 8 , 14 @ @ buildscript { 
 } 
 } 
 
 + allprojects { 
 + def props = new Properties ( ) 
 + props . load ( new FileInputStream ( " $ { rootDir } / . . / realm . properties " ) ) 
 + props . each { key , val - > 
 + project . ext . set ( key , val ) 
 + } 
 + } 
 + 
 apply plugin : ' java ' 
 apply plugin : ' maven ' 
 apply plugin : ' maven - publish ' 
 @ @ - 103 , 3 + 111 , 7 @ @ artifactory { 
 } 
 } 
 } 
 + 
 + task wrapper ( type : Wrapper ) { 
 + gradleVersion = project . gradleVersion 
 + } 
 diff - - git a / realm - annotations / gradle / wrapper / gradle - wrapper . jar b / realm - annotations / gradle / wrapper / gradle - wrapper . jar 
 index 6ffa237 . . 366e45e 100644 
 Binary files a / realm - annotations / gradle / wrapper / gradle - wrapper . jar and b / realm - annotations / gradle / wrapper / gradle - wrapper . jar differ 
 diff - - git a / realm - annotations / gradle / wrapper / gradle - wrapper . properties b / realm - annotations / gradle / wrapper / gradle - wrapper . properties 
 index ebb1e60 . . 767373d 100644 
 - - - a / realm - annotations / gradle / wrapper / gradle - wrapper . properties 
 + + + b / realm - annotations / gradle / wrapper / gradle - wrapper . properties 
 @ @ - 1 , 6 + 1 , 6 @ @ 
 - # Tue Sep 20 14 : 22 : 29 CST 2016 
 + # Fri Mar 03 05 : 43 : 28 JST 2017 
 distributionBase = GRADLE _ USER _ HOME 
 distributionPath = wrapper / dists 
 zipStoreBase = GRADLE _ USER _ HOME 
 zipStorePath = wrapper / dists 
 - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 3 - all . zip 
 + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 4 - all . zip 
 diff - - git a / realm - annotations / gradlew b / realm - annotations / gradlew 
 index 9aa616c . . 4453cce 100755 
 - - - a / realm - annotations / gradlew 
 + + + b / realm - annotations / gradlew 
 @ @ - 1 , 4 + 1 , 4 @ @ 
 - # ! / usr / bin / env bash 
 + # ! / usr / bin / env sh 
 
 # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # 
 # # 
 @ @ - 154 , 16 + 154 , 19 @ @ if $ cygwin ; then 
 esac 
 fi 
 
 - # Split up the JVM _ OPTS And GRADLE _ OPTS values into an array , following the shell quoting and substitution rules 
 - function splitJvmOpts ( ) { 
 - JVM _ OPTS = ( " $ @ " ) 
 + # Escape application args 
 + save ( ) { 
 + for i do printf % s \ \ n " $ i " | sed " s / ' / ' \ \ \ \ ' ' / g ; 1s / ^ / ' / ; \ $ s / \ $ / ' \ \ \ \ / " ; done 
 + echo " " 
 } 
 - eval splitJvmOpts $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS 
 - JVM _ OPTS [ $ { # JVM _ OPTS [ * ] } ] = " - Dorg . gradle . appname = $ APP _ BASE _ NAME " 
 + APP _ ARGS = $ ( save " $ @ " ) 
 + 
 + # Collect all arguments for the java command , following the shell quoting and substitution rules 
 + eval set - - $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS " \ " - Dorg . gradle . appname = $ APP _ BASE _ NAME \ " " - classpath " \ " $ CLASSPATH \ " " org . gradle . wrapper . GradleWrapperMain " $ APP _ ARGS " 
 
 # by default we should be in the correct project dir , but when run from Finder on Mac , the cwd is wrong 
 - if [ [ " $ ( uname ) " = = " Darwin " ] ] & & [ [ " $ HOME " = = " $ PWD " ] ] ; then 
 + if [ " $ ( uname ) " = " Darwin " ] & & [ " $ HOME " = " $ PWD " ] ; then 
 cd " $ ( dirname " $ 0 " ) " 
 fi 
 
 - exec " $ JAVACMD " " $ { JVM _ OPTS [ @ ] } " - classpath " $ CLASSPATH " org . gradle . wrapper . GradleWrapperMain " $ @ " 
 + exec " $ JAVACMD " " $ @ " 
 diff - - git a / realm - transformer / build . gradle b / realm - transformer / build . gradle 
 index 2dc0dad . . 1c9eeff 100644 
 - - - a / realm - transformer / build . gradle 
 + + + b / realm - transformer / build . gradle 
 @ @ - 8 , 6 + 8 , 14 @ @ buildscript { 
 } 
 } 
 
 + allprojects { 
 + def props = new Properties ( ) 
 + props . load ( new FileInputStream ( " $ { rootDir } / . . / realm . properties " ) ) 
 + props . each { key , val - > 
 + project . ext . set ( key , val ) 
 + } 
 + } 
 + 
 apply plugin : ' groovy ' 
 apply plugin : ' java ' 
 apply plugin : ' maven ' 
 @ @ - 153 , 3 + 161 , 8 @ @ artifactory { 
 } 
 } 
 } 
 + 
 + task wrapper ( type : Wrapper ) { 
 + gradleVersion = project . gradleVersion 
 + } 
 + 
 diff - - git a / realm - transformer / gradle / wrapper / gradle - wrapper . jar b / realm - transformer / gradle / wrapper / gradle - wrapper . jar 
 index 6ffa237 . . 9fe1b93 100644 
 Binary files a / realm - transformer / gradle / wrapper / gradle - wrapper . jar and b / realm - transformer / gradle / wrapper / gradle - wrapper . jar differ 
 diff - - git a / realm - transformer / gradle / wrapper / gradle - wrapper . properties b / realm - transformer / gradle / wrapper / gradle - wrapper . properties 
 index 9297d38 . . e5aee03 100644 
 - - - a / realm - transformer / gradle / wrapper / gradle - wrapper . properties 
 + + + b / realm - transformer / gradle / wrapper / gradle - wrapper . properties 
 @ @ - 1 , 6 + 1 , 6 @ @ 
 - # Tue Sep 20 14 : 33 : 05 CST 2016 
 + # Fri Mar 03 05 : 41 : 34 JST 2017 
 distributionBase = GRADLE _ USER _ HOME 
 distributionPath = wrapper / dists 
 zipStoreBase = GRADLE _ USER _ HOME 
 zipStorePath = wrapper / dists 
 - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 3 - all . zip 
 + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 4 - all . zip 
 diff - - git a / realm - transformer / gradlew b / realm - transformer / gradlew 
 index 9aa616c . . 4453cce 100755 
 - - - a / realm - transformer / gradlew 
 + + + b / realm - transformer / gradlew 
 @ @ - 1 , 4 + 1 , 4 @ @ 
 - # ! / usr / bin / env bash 
 + # ! / usr / bin / env sh 
 
 # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # 
 # # 
 @ @ - 154 , 16 + 154 , 19 @ @ if $ cygwin ; then 
 esac 
 fi 
 
 - # Split up the JVM _ OPTS And GRADLE _ OPTS values into an array , following the shell quoting and substitution rules 
 - function splitJvmOpts ( ) { 
 - JVM _ OPTS = ( " $ @ " ) 
 + # Escape application args 
 + save ( ) { 
 + for i do printf % s \ \ n " $ i " | sed " s / ' / ' \ \ \ \ ' ' / g ; 1s / ^ / ' / ; \ $ s / \ $ / ' \ \ \ \ / " ; done 
 + echo " " 
 } 
 - eval splitJvmOpts $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS 
 - JVM _ OPTS [ $ { # JVM _ OPTS [ * ] } ] = " - Dorg . gradle . appname = $ APP _ BASE _ NAME " 
 + APP _ ARGS = $ ( save " $ @ " ) 
 + 
 + # Collect all arguments for the java command , following the shell quoting and substitution rules 
 + eval set - - $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS " \ " - Dorg . gradle . appname = $ APP _ BASE _ NAME \ " " - classpath " \ " $ CLASSPATH \ " " org . gradle . wrapper . GradleWrapperMain " $ APP _ ARGS " 
 
 # by default we should be in the correct project dir , but when run from Finder on Mac , the cwd is wrong 
 - if [ [ " $ ( uname ) " = = " Darwin " ] ] & & [ [ " $ HOME " = = " $ PWD " ] ] ; then 
 + if [ " $ ( uname ) " = " Darwin " ] & & [ " $ HOME " = " $ PWD " ] ; then 
 cd " $ ( dirname " $ 0 " ) " 
 fi 
 
 - exec " $ JAVACMD " " $ { JVM _ OPTS [ @ ] } " - classpath " $ CLASSPATH " org . gradle . wrapper . GradleWrapperMain " $ @ " 
 + exec " $ JAVACMD " " $ @ " 
 diff - - git a / realm . properties b / realm . properties 
 index f2ca4ed . . c2f4f60 100644 
 - - - a / realm . properties 
 + + + b / realm . properties 
 @ @ - 1 , 2 + 1 , 2 @ @ 
 - gradleVersion = 3 . 3 
 + gradleVersion = 3 . 4 
 ndkVersion = r10e 
 diff - - git a / realm / gradle / wrapper / gradle - wrapper . jar b / realm / gradle / wrapper / gradle - wrapper . jar 
 index 172e6b6 . . b3558fd 100644 
 Binary files a / realm / gradle / wrapper / gradle - wrapper . jar and b / realm / gradle / wrapper / gradle - wrapper . jar differ 
 diff - - git a / realm / gradle / wrapper / gradle - wrapper . properties b / realm / gradle / wrapper / gradle - wrapper . properties 
 index 81199ae . . 1f2857b 100644 
 - - - a / realm / gradle / wrapper / gradle - wrapper . properties 
 + + + b / realm / gradle / wrapper / gradle - wrapper . properties 
 @ @ - 1 , 6 + 1 , 6 @ @ 
 - # Mon Jan 16 20 : 15 : 19 JST 2017 
 + # Thu Mar 02 03 : 14 : 47 JST 2017 
 distributionBase = GRADLE _ USER _ HOME 
 distributionPath = wrapper / dists 
 zipStoreBase = GRADLE _ USER _ HOME 
 zipStorePath = wrapper / dists 
 - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 3 - all . zip 
 + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 4 - all . zip

NEAREST DIFF:
diff - - git a / Dockerfile b / Dockerfile 
 index b3a8820 . . 070335f 100644 
 - - - a / Dockerfile 
 + + + b / Dockerfile 
 @ @ - 48 , 9 + 48 , 12 @ @ RUN cd / opt & & \ 
 
 # Grab what ' s needed in the SDK 
 # ↓ updates tools to at least 25 . 1 . 7 , but that prints ' Nothing was installed ' ( so I don ' t check the outputs ) . 
 + RUN mkdir " $ { ANDROID _ HOME } / licenses " & & \ 
 + echo - e " \ n8933bad161af4178b1185d1a37fbf41ea5269c55 " > " $ { ANDROID _ HOME } / licenses / android - sdk - license " & & \ 
 + echo - en " \ nd23d63a1f23e25e2c7a316e29eb60396e7924281 " > " $ { ANDROID _ HOME } / licenses / android - sdk - preview - license " 
 RUN echo y | android update sdk - - no - ui - - all - - filter tools > / dev / null 
 RUN echo y | android update sdk - - no - ui - - all - - filter platform - tools | grep ' package installed ' 
 - RUN echo y | android update sdk - - no - ui - - all - - filter build - tools - 24 . 0 . 0 | grep ' package installed ' 
 + RUN echo y | android update sdk - - no - ui - - all - - filter build - tools - 25 . 0 . 2 | grep ' package installed ' 
 RUN echo y | android update sdk - - no - ui - - all - - filter extra - android - m2repository | grep ' package installed ' 
 RUN echo y | android update sdk - - no - ui - - all - - filter android - 24 | grep ' package installed ' 
 
 @ @ - 67 , 12 + 70 , 13 @ @ RUN mkdir / opt / android - ndk - tmp & & \ 
 # Install cmake 
 RUN mkdir / opt / cmake - tmp & & \ 
 cd / opt / cmake - tmp & & \ 
 - wget - q https : / / dl . google . com / android / repository / cmake - 3 . 6 . 3133135 - linux - x86 _ 64 . zip - O cmake - linux . zip & & \ 
 - unzip cmake - linux . zip - d $ { ANDROID _ HOME } / cmake & & \ 
 + wget - q https : / / dl . google . com / android / repository / cmake - 3 . 6 . 3155560 - linux - x86 _ 64 . zip - O cmake - linux . zip & & \ 
 + mkdir - p $ { ANDROID _ HOME } / cmake / 3 . 6 . 3155560 & & \ 
 + unzip cmake - linux . zip - d $ { ANDROID _ HOME } / cmake / 3 . 6 . 3155560 & & \ 
 rm - rf / opt / cmake - tmp 
 
 - # Make the SDK universally readable 
 - RUN chmod - R a + rX $ { ANDROID _ HOME } 
 + # Make the SDK universally writable 
 + RUN chmod - R a + rwX $ { ANDROID _ HOME } 
 
 # Install lcache 
 RUN wget - q https : / / github . com / beeender / lcache / releases / download / v0 . 0 . 2 / lcache - linux - O / usr / bin / lcache & & \ 
 diff - - git a / README . md b / README . md 
 index 9c485ca . . f35d59b 100644 
 - - - a / README . md 
 + + + b / README . md 
 @ @ - 60 , 7 + 60 , 7 @ @ In case you don ' t want to use the precompiled version , you can build Realm yours 
 # # # Prerequisites 
 
 * Download the [ * * JDK 7 * * ] ( http : / / www . oracle . com / technetwork / java / javase / downloads / jdk7 - downloads - 1880260 . html ) or [ * * JDK 8 * * ] ( http : / / www . oracle . com / technetwork / java / javase / downloads / jdk8 - downloads - 2133151 . html ) from Oracle and install it . 
 - * Download & install the Android SDK * * Build - Tools 24 . 0 . 0 * * , * * Android N ( API 24 ) * * ( for example through Android Studio ’ s * * Android SDK Manager * * ) . 
 + * Download & install the Android SDK * * Build - Tools 25 . 0 . 2 * * , * * Android N ( API 24 ) * * ( for example through Android Studio ’ s * * Android SDK Manager * * ) . 
 * Install CMake from SDK manager in Android Studio ( " SDK Tools " - > " CMake " ) . 
 
 * Realm currently requires version r10e of the NDK . Download the one appropriate for your development platform , from the NDK [ archive ] ( https : / / developer . android . com / ndk / downloads / older _ releases . html ) . 
 diff - - git a / examples / build . gradle b / examples / build . gradle 
 index 64b863d . . 0d2f116 100644 
 - - - a / examples / build . gradle 
 + + + b / examples / build . gradle 
 @ @ - 1 , 5 + 1 , 5 @ @ 
 project . ext . sdkVersion = 24 
 - project . ext . buildTools = ' 24 . 0 . 0 ' 
 + project . ext . buildTools = ' 25 . 0 . 2 ' 
 
 / / Don ' t cache SNAPSHOT ( changing ) dependencies . 
 configurations . all { 
 @ @ - 16 , 7 + 16 , 7 @ @ allprojects { 
 maven { url ' https : / / jitpack . io ' } 
 } 
 dependencies { 
 - classpath ' com . android . tools . build : gradle : 2 . 2 . 0 ' 
 + classpath ' com . android . tools . build : gradle : 2 . 3 . 0 ' 
 classpath ' com . jfrog . bintray . gradle : gradle - bintray - plugin : 1 . 6 ' 
 classpath ' com . github . JakeWharton : sdk - manager - plugin : 0ce4cdf08009d79223850a59959d9d6e774d0f77 ' 
 classpath ' com . novoda : gradle - android - command - plugin : 1 . 5 . 0 ' 
 diff - - git a / examples / gradle / wrapper / gradle - wrapper . jar b / examples / gradle / wrapper / gradle - wrapper . jar 
 index 3baa851 . . 6ffa237 100644 
 Binary files a / examples / gradle / wrapper / gradle - wrapper . jar and b / examples / gradle / wrapper / gradle - wrapper . jar differ 
 diff - - git a / examples / gradle / wrapper / gradle - wrapper . properties b / examples / gradle / wrapper / gradle - wrapper . properties 
 index f930473 . . 619351f 100644 
 - - - a / examples / gradle / wrapper / gradle - wrapper . properties 
 + + + b / examples / gradle / wrapper / gradle - wrapper . properties 
 @ @ - 3 , 4 + 3 , 4 @ @ distributionBase = GRADLE _ USER _ HOME 
 distributionPath = wrapper / dists 
 zipStoreBase = GRADLE _ USER _ HOME 
 zipStorePath = wrapper / dists 
 - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 1 - all . zip 
 + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 3 - all . zip 
 diff - - git a / examples / gradlew b / examples / gradlew 
 index 27309d9 . . 9aa616c 100755 
 - - - a / examples / gradlew 
 + + + b / examples / gradlew 
 @ @ - 161 , 4 + 161 , 9 @ @ function splitJvmOpts ( ) { 
 eval splitJvmOpts $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS 
 JVM _ OPTS [ $ { # JVM _ OPTS [ * ] } ] = " - Dorg . gradle . appname = $ APP _ BASE _ NAME " 
 
 + # by default we should be in the correct project dir , but when run from Finder on Mac , the cwd is wrong 
 + if [ [ " $ ( uname ) " = = " Darwin " ] ] & & [ [ " $ HOME " = = " $ PWD " ] ] ; then 
 + cd " $ ( dirname " $ 0 " ) " 
 + fi 
 + 
 exec " $ JAVACMD " " $ { JVM _ OPTS [ @ ] } " - classpath " $ CLASSPATH " org . gradle . wrapper . GradleWrapperMain " $ @ " 
 diff - - git a / examples / gradlew . bat b / examples / gradlew . bat 
 index f6d5974 . . e95643d 100644 
 - - - a / examples / gradlew . bat 
 + + + b / examples / gradlew . bat 
 @ @ - 49 , 7 + 49 , 6 @ @ goto fail 
 @ rem Get command - line arguments , handling Windows variants 
 
 if not " % OS % " = = " Windows _ NT " goto win9xME _ args 
 - if " % @ eval [ 2 + 2 ] " = = " 4 " goto 4NT _ args 
 
 : win9xME _ args 
 @ rem Slurp the command line arguments . 
 @ @ - 60 , 11 + 59 , 6 @ @ set _ SKIP = 2 
 if " x % ~ 1 " = = " x " goto execute 
 
 set CMD _ LINE _ ARGS = % * 
 - goto execute 
 - 
 - : 4NT _ args 
 - @ rem Get arguments from the 4NT Shell from JP Software 
 - set CMD _ LINE _ ARGS = % $ 
 
 : execute 
 @ rem Setup the command line 
 diff - - git a / examples / secureTokenAndroidKeyStore / build . gradle b / examples / secureTokenAndroidKeyStore / build . gradle 
 index 7222838 . . cb4fe8b 100644 
 - - - a / examples / secureTokenAndroidKeyStore / build . gradle 
 + + + b / examples / secureTokenAndroidKeyStore / build . gradle 
 @ @ - 2 , 8 + 2 , 8 @ @ apply plugin : ' com . android . application ' 
 apply plugin : ' realm - android ' 
 
 android { 
 - compileSdkVersion 24 
 - buildToolsVersion " 24 . 0 . 0 " 
 + compileSdkVersion rootProject . sdkVersion 
 + buildToolsVersion rootProject . buildTools 
 
 defaultConfig { 
 applicationId " io . realm . examples . securetokenandroidkeystore " 
 @ @ - 35 , 4 + 35 , 4 @ @ dependencies { 
 
 realm { 
 syncEnabled = true 
 - } 
 \ No newline at end of file 
 + } 
 diff - - git a / gradle - plugin / gradle / wrapper / gradle - wrapper . jar b / gradle - plugin / gradle / wrapper / gradle - wrapper . jar 
 index 3baa851 . . 6ffa237 100644 
 Binary files a / gradle - plugin / gradle / wrapper / gradle - wrapper . jar and b / gradle - plugin / gradle / wrapper / gradle - wrapper . jar differ 
 diff - - git a / gradle - plugin / gradle / wrapper / gradle - wrapper . properties b / gradle - plugin / gradle / wrapper / gradle - wrapper . properties 
 index 4912622 . . e05d79c 100644 
 - - - a / gradle - plugin / gradle / wrapper / gradle - wrapper . properties 
 + + + b / gradle - plugin / gradle / wrapper / gradle - wrapper . properties 
 @ @ - 3 , 4 + 3 , 4 @ @ distributionBase = GRADLE _ USER _ HOME 
 distributionPath = wrapper / dists 
 zipStoreBase = GRADLE _ USER _ HOME 
 zipStorePath = wrapper / dists 
 - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 1 - all . zip 
 + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 3 - all . zip 
 diff - - git a / gradle - plugin / gradlew b / gradle - plugin / gradlew 
 index 27309d9 . . 9aa616c 100755 
 - - - a / gradle - plugin / gradlew 
 + + + b / gradle - plugin / gradlew 
 @ @ - 161 , 4 + 161 , 9 @ @ function splitJvmOpts ( ) { 
 eval splitJvmOpts $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS 
 JVM _ OPTS [ $ { # JVM _ OPTS [ * ] } ] = " - Dorg . gradle . appname = $ APP _ BASE _ NAME " 
 
 + # by default we should be in the correct project dir , but when run from Finder on Mac , the cwd is wrong 
 + if [ [ " $ ( uname ) " = = " Darwin " ] ] & & [ [ " $ HOME " = = " $ PWD " ] ] ; then 
 + cd " $ ( dirname " $ 0 " ) " 
 + fi 
 + 
 exec " $ JAVACMD " " $ { JVM _ OPTS [ @ ] } " - classpath " $ CLASSPATH " org . gradle . wrapper . GradleWrapperMain " $ @ " 
 diff - - git a / gradle - plugin / gradlew . bat b / gradle - plugin / gradlew . bat 
 index f6d5974 . . e95643d 100644 
 - - - a / gradle - plugin / gradlew . bat 
 + + + b / gradle - plugin / gradlew . bat 
 @ @ - 49 , 7 + 49 , 6 @ @ goto fail 
 @ rem Get command - line arguments , handling Windows variants 
 
 if not " % OS % " = = " Windows _ NT " goto win9xME _ args 
 - if " % @ eval [ 2 + 2 ] " = = " 4 " goto 4NT _ args 
 
 : win9xME _ args 
 @ rem Slurp the command line arguments . 
 @ @ - 60 , 11 + 59 , 6 @ @ set _ SKIP = 2 
 if " x % ~ 1 " = = " x " goto execute 
 
 set CMD _ LINE _ ARGS = % * 
 - goto execute 
 - 
 - : 4NT _ args 
 - @ rem Get arguments from the 4NT Shell from JP Software 
 - set CMD _ LINE _ ARGS = % $ 
 
 : execute 
 @ rem Setup the command line 
 diff - - git a / gradle / wrapper / gradle - wrapper . jar b / gradle / wrapper / gradle - wrapper . jar 
 index 3baa851 . . 6ffa237 100644 
 Binary files a / gradle / wrapper / gradle - wrapper . jar and b / gradle / wrapper / gradle - wrapper . jar differ 
 diff - - git a / gradle / wrapper / gradle - wrapper . properties b / gradle / wrapper / gradle - wrapper . properties 
 index bc6b7c4 . . 866aa02 100644 
 - - - a / gradle / wrapper / gradle - wrapper . properties 
 + + + b / gradle / wrapper / gradle - wrapper . properties 
 @ @ - 1 , 6 + 1 , 6 @ @ 
 - # Tue Sep 20 14 : 03 : 29 CST 2016 
 + # Mon Jan 16 12 : 37 : 33 JST 2017 
 distributionBase = GRADLE _ USER _ HOME 
 distributionPath = wrapper / dists 
 zipStoreBase = GRADLE _ USER _ HOME 
 zipStorePath = wrapper / dists 
 - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 1 - all . zip 
 + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 3 - all . zip 
 diff - - git a / gradlew b / gradlew 
 index 27309d9 . . 9aa616c 100755 
 - - - a / gradlew 
 + + + b / gradlew 
 @ @ - 161 , 4 + 161 , 9 @ @ function splitJvmOpts ( ) { 
 eval splitJvmOpts $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS 
 JVM _ OPTS [ $ { # JVM _ OPTS [ * ] } ] = " - Dorg . gradle . appname = $ APP _ BASE _ NAME " 
 
 + # by default we should be in the correct project dir , but when run from Finder on Mac , the cwd is wrong 
 + if [ [ " $ ( uname ) " = = " Darwin " ] ] & & [ [ " $ HOME " = = " $ PWD " ] ] ; then 
 + cd " $ ( dirname " $ 0 " ) " 
 + fi 
 + 
 exec " $ JAVACMD " " $ { JVM _ OPTS [ @ ] } " - classpath " $ CLASSPATH " org . gradle . wrapper . GradleWrapperMain " $ @ " 
 diff - - git a / gradlew . bat b / gradlew . bat 
 index f6d5974 . . e95643d 100644 
 - - - a / gradlew . bat 
 + + + b / gradlew . bat 
 @ @ - 49 , 7 + 49 , 6 @ @ goto fail 
 @ rem Get command - line arguments , handling Windows variants 
 
 if not " % OS % " = = " Windows _ NT " goto win9xME _ args 
 - if " % @ eval [ 2 + 2 ] " = = " 4 " goto 4NT _ args 
 
 : win9xME _ args 
 @ rem Slurp the command line arguments . 
 @ @ - 60 , 11 + 59 , 6 @ @ set _ SKIP = 2 
 if " x % ~ 1 " = = " x " goto execute 
 
 set CMD _ LINE _ ARGS = % * 
 - goto execute 
 - 
 - : 4NT _ args 
 - @ rem Get arguments from the 4NT Shell from JP Software 
 - set CMD _ LINE _ ARGS = % $ 
 
 : execute 
 @ rem Setup the command line 
 diff - - git a / realm - annotations / gradle / wrapper / gradle - wrapper . jar b / realm - annotations / gradle / wrapper / gradle - wrapper . jar 
 index 3baa851 . . 6ffa237 100644 
 Binary files a / realm - annotations / gradle / wrapper / gradle - wrapper . jar and b / realm - annotations / gradle / wrapper / gradle - wrapper . jar differ 
 diff - - git a / realm - annotations / gradle / wrapper / gradle - wrapper . properties b / realm - annotations / gradle / wrapper / gradle - wrapper . properties 
 index a18e4af . . ebb1e60 100644 
 - - - a / realm - annotations / gradle / wrapper / gradle - wrapper . properties 
 + + + b / realm - annotations / gradle / wrapper / gradle - wrapper . properties 
 @ @ - 3 , 4 + 3 , 4 @ @ distributionBase = GRADLE _ USER _ HOME 
 distributionPath = wrapper / dists 
 zipStoreBase = GRADLE _ USER _ HOME 
 zipStorePath = wrapper / dists 
 - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 1 - all . zip 
 + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 3 - all . zip 
 diff - - git a / realm - annotations / gradlew b / realm - annotations / gradlew 
 index 27309d9 . . 9aa616c 100755 
 - - - a / realm - annotations / gradlew 
 + + + b / realm - annotations / gradlew 
 @ @ - 161 , 4 + 161 , 9 @ @ function splitJvmOpts ( ) { 
 eval splitJvmOpts $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS 
 JVM _ OPTS [ $ { # JVM _ OPTS [ * ] } ] = " - Dorg . gradle . appname = $ APP _ BASE _ NAME " 
 
 + # by default we should be in the correct project dir , but when run from Finder on Mac , the cwd is wrong 
 + if [ [ " $ ( uname ) " = = " Darwin " ] ] & & [ [ " $ HOME " = = " $ PWD " ] ] ; then 
 + cd " $ ( dirname " $ 0 " ) " 
 + fi 
 + 
 exec " $ JAVACMD " " $ { JVM _ OPTS [ @ ] } " - classpath " $ CLASSPATH " org . gradle . wrapper . GradleWrapperMain " $ @ " 
 diff - - git a / realm - annotations / gradlew . bat b / realm - annotations / gradlew . bat 
 index f6d5974 . . e95643d 100644 
 - - - a / realm - annotations / gradlew . bat 
 + + + b / realm - annotations / gradlew . bat 
 @ @ - 49 , 7 + 49 , 6 @ @ goto fail 
 @ rem Get command - line arguments , handling Windows variants 
 
 if not " % OS % " = = " Windows _ NT " goto win9xME _ args 
 - if " % @ eval [ 2 + 2 ] " = = " 4 " goto 4NT _ args 
 
 : win9xME _ args 
 @ rem Slurp the command line arguments . 
 @ @ - 60 , 11 + 59 , 6 @ @ set _ SKIP = 2 
 if " x % ~ 1 " = = " x " goto execute 
 
 set CMD _ LINE _ ARGS = % * 
 - goto execute 
 - 
 - : 4NT _ args 
 - @ rem Get arguments from the 4NT Shell from JP Software 
 - set CMD _ LINE _ ARGS = % $ 
 
 : execute 
 @ rem Setup the command line 
 diff - - git a / realm - transformer / gradle / wrapper / gradle - wrapper . jar b / realm - transformer / gradle / wrapper / gradle - wrapper . jar 
 index 3baa851 . . 6ffa237 100644 
 Binary files a / realm - transformer / gradle / wrapper / gradle - wrapper . jar and b / realm - transformer / gradle / wrapper / gradle - wrapper . jar differ 
 diff - - git a / realm - transformer / gradle / wrapper / gradle - wrapper . properties b / realm - transformer / gradle / wrapper / gradle - wrapper . properties 
 index e9bd4ba . . 9297d38 100644 
 - - - a / realm - transformer / gradle / wrapper / gradle - wrapper . properties 
 + + + b / realm - transformer / gradle / wrapper / gradle - wrapper . properties 
 @ @ - 3 , 4 + 3 , 4 @ @ distributionBase = GRADLE _ USER _ HOME 
 distributionPath = wrapper / dists 
 zipStoreBase = GRADLE _ USER _ HOME 
 zipStorePath = wrapper / dists 
 - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 1 - all . zip 
 + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 3 - all . zip 
 diff - - git a / realm - transformer / gradlew b / realm - transformer / gradlew 
 index 27309d9 . . 9aa616c 100755 
 - - - a / realm - transformer / gradlew 
 + + + b / realm - transformer / gradlew 
 @ @ - 161 , 4 + 161 , 9 @ @ function splitJvmOpts ( ) { 
 eval splitJvmOpts $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS 
 JVM _ OPTS [ $ { # JVM _ OPTS [ * ] } ] = " - Dorg . gradle . appname = $ APP _ BASE _ NAME " 
 
 + # by default we should be in the correct project dir , but when run from Finder on Mac , the cwd is wrong 
 + if [ [ " $ ( uname ) " = = " Darwin " ] ] & & [ [ " $ HOME " = = " $ PWD " ] ] ; then 
 + cd " $ ( dirname " $ 0 " ) " 
 + fi 
 + 
 exec " $ JAVACMD " " $ { JVM _ OPTS [ @ ] } " - classpath " $ CLASSPATH " org . gradle . wrapper . GradleWrapperMain " $ @ " 
 diff - - git a / realm - transformer / gradlew . bat b / realm - transformer / gradlew . bat 
 index f6d5974 . . e95643d 100644 
 - - - a / realm - transformer / gradlew . bat 
 + + + b / realm - transformer / gradlew . bat 
 @ @ - 49 , 7 + 49 , 6 @ @ goto fail 
 @ rem Get command - line arguments , handling Windows variants 
 
 if not " % OS % " = = " Windows _ NT " goto win9xME _ args 
 - if " % @ eval [ 2 + 2 ] " = = " 4 " goto 4NT _ args 
 
 : win9xME _ args 
 @ rem Slurp the command line arguments . 
 @ @ - 60 , 11 + 59 , 6 @ @ set _ SKIP = 2 
 if " x % ~ 1 " = = " x " goto execute 
 
 set CMD _ LINE _ ARGS = % * 
 - goto execute 
 - 
 - : 4NT _ args 
 - @ rem Get arguments from the 4NT Shell from JP Software 
 - set CMD _ LINE _ ARGS = % $ 
 
 : execute 
 @ rem Setup the command line 
 diff - - git a / realm . properties b / realm . properties 
 index 1be5af0 . . f2ca4ed 100644 
 - - - a / realm . properties 
 + + + b / realm . properties 
 @ @ - 1 , 2 + 1 , 2 @ @ 
 - gradleVersion = 2 . 14 . 1 
 + gradleVersion = 3 . 3 
 ndkVersion = r10e 
 diff - - git a / realm / build . gradle b / realm / build . gradle 
 index d520cb8 . . 120340d 100644 
 - - - a / realm / build . gradle 
 + + + b / realm / build . gradle 
 @ @ - 6 , 7 + 6 , 7 @ @ buildscript { 
 } 
 
 dependencies { 
 - classpath ' com . android . tools . build : gradle : 2 . 2 . 2 ' 
 + classpath ' com . android . tools . build : gradle : 2 . 3 . 0 ' 
 classpath ' de . undercouch : gradle - download - task : 3 . 1 . 1 ' 
 classpath ' com . github . dcendents : android - maven - gradle - plugin : 1 . 5 ' 
 classpath ' com . novoda : gradle - android - command - plugin : 1 . 3 . 0 ' 
 diff - - git a / realm / gradle / wrapper / gradle - wrapper . jar b / realm / gradle / wrapper / gradle - wrapper . jar 
 index 3baa851 . . 172e6b6 100644 
 Binary files a / realm / gradle / wrapper / gradle - wrapper . jar and b / realm / gradle / wrapper / gradle - wrapper . jar differ 
 diff - - git a / realm / gradle / wrapper / gradle - wrapper . properties b / realm / gradle / wrapper / gradle - wrapper . properties 
 index 897f3bf . . 81199ae 100644 
 - - - a / realm / gradle / wrapper / gradle - wrapper . properties 
 + + + b / realm / gradle / wrapper / gradle - wrapper . properties 
 @ @ - 1 , 6 + 1 , 6 @ @ 
 - # Tue Sep 20 14 : 03 : 59 CST 2016 
 + # Mon Jan 16 20 : 15 : 19 JST 2017 
 distributionBase = GRADLE _ USER _ HOME 
 distributionPath = wrapper / dists 
 zipStoreBase = GRADLE _ USER _ HOME 
 zipStorePath = wrapper / dists 
 - distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 1 - all . zip 
 + distributionUrl = https \ : / / services . gradle . org / distributions / gradle - 3 . 3 - all . zip 
 diff - - git a / realm / gradlew b / realm / gradlew 
 index 27309d9 . . 4453cce 100755 
 - - - a / realm / gradlew 
 + + + b / realm / gradlew 
 @ @ - 1 , 4 + 1 , 4 @ @ 
 - # ! / usr / bin / env bash 
 + # ! / usr / bin / env sh 
 
 # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # 
 # # 
 @ @ - 154 , 11 + 154 , 19 @ @ if $ cygwin ; then 
 esac 
 fi 
 
 - # Split up the JVM _ OPTS And GRADLE _ OPTS values into an array , following the shell quoting and substitution rules 
 - function splitJvmOpts ( ) { 
 - JVM _ OPTS = ( " $ @ " ) 
 + # Escape application args 
 + save ( ) { 
 + for i do printf % s \ \ n " $ i " | sed " s / ' / ' \ \ \ \ ' ' / g ; 1s / ^ / ' / ; \ $ s / \ $ / ' \ \ \ \ / " ; done 
 + echo " " 
 } 
 - eval splitJvmOpts $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS 
 - JVM _ OPTS [ $ { # JVM _ OPTS [ * ] } ] = " - Dorg . gradle . appname = $ APP _ BASE _ NAME " 
 + APP _ ARGS = $ ( save " $ @ " ) 
 
 - exec " $ JAVACMD " " $ { JVM _ OPTS [ @ ] } " - classpath " $ CLASSPATH " org . gradle . wrapper . GradleWrapperMain " $ @ " 
 + # Collect all arguments for the java command , following the shell quoting and substitution rules 
 + eval set - - $ DEFAULT _ JVM _ OPTS $ JAVA _ OPTS $ GRADLE _ OPTS " \ " - Dorg . gradle . appname = $ APP _ BASE _ NAME \ " " - classpath " \ " $ CLASSPATH \ " " org . gradle . wrapper . GradleWrapperMain " $ APP _ ARGS " 
 + 
 + # by default we should be in the correct project dir , but when run from Finder on Mac , the cwd is wrong 
 + if [ " $ ( uname ) " = " Darwin " ] & & [ " $ HOME " = " $ PWD " ] ; then 
 + cd " $ ( dirname " $ 0 " ) " 
 + fi 
 + 
 + exec " $ JAVACMD " " $ @ " 
 diff - - git a / realm / gradlew . bat b / realm / gradlew . bat 
 index f6d5974 . . e95643d 100644 
 - - - a / realm / gradlew . bat 
 + + + b / realm / gradlew . bat 
 @ @ - 49 , 7 + 49 , 6 @ @ goto fail 
 @ rem Get command - line arguments , handling Windows variants 
 
 if not " % OS % " = = " Windows _ NT " goto win9xME _ args 
 - if " % @ eval [ 2 + 2 ] " = = " 4 " goto 4NT _ args 
 
 : win9xME _ args 
 @ rem Slurp the command line arguments . 
 @ @ - 60 , 11 + 59 , 6 @ @ set _ SKIP = 2 
 if " x % ~ 1 " = = " x " goto execute 
 
 set CMD _ LINE _ ARGS = % * 
 - goto execute 
 - 
 - : 4NT _ args 
 - @ rem Get arguments from the 4NT Shell from JP Software 
 - set CMD _ LINE _ ARGS = % $ 
 
 : execute 
 @ rem Setup the command line 
 diff - - git a / realm / realm - annotations - processor / build . gradle b / realm / realm - annotations - processor / build . gradle 
 index 373440b . . d4c3c94 100644 
 - - - a / realm / realm - annotations - processor / build . gradle 
 + + + b / realm / realm - annotations - processor / build . gradle 
 @ @ - 11 , 7 + 11 , 7 @ @ dependencies { 
 compile group : ' com . squareup ' , name : ' javawriter ' , version : ' 2 . 5 . 0 ' 
 compile " io . realm : realm - annotations : $ { version } " 
 
 - testCompile files ( ' . . / realm - library / build / intermediates / bundles / base / release / classes . jar ' ) / / Java projects cannot depend on AAR files 
 + testCompile files ( ' . . / realm - library / build / intermediates / bundles / baseRelease / classes . jar ' ) / / Java projects cannot depend on AAR files 
 testCompile files ( " $ { System . properties [ ' java . home ' ] } / . . / lib / tools . jar " ) / / This is needed otherwise compile - testing won ' t be able to find it 
 testCompile group : ' junit ' , name : ' junit ' , version : ' 4 . 12 ' 
 testCompile group : ' com . google . testing . compile ' , name : ' compile - testing ' , version : ' 0 . 6 ' 
 diff - - git a / realm / realm - library / build . gradle b / realm / realm - library / build . gradle 
 index ac7f1af . . db9a4d6 100644 
 - - - a / realm / realm - library / build . gradle 
 + + + b / realm / realm - library / build . gradle 
 @ @ - 34 , 7 + 34 , 7 @ @ ext . lcachePath = project . findProperty ( ' lcachePath ' ) ? : System . getenv ( ' NDK _ LCACHE 
 
 android { 
 compileSdkVersion 24 
 - buildToolsVersion ' 24 . 0 . 0 ' 
 + buildToolsVersion ' 25 . 0 . 2 ' 
 
 defaultConfig { 
 minSdkVersion 9 
 @ @ - 529 , 28 + 529 , 30 @ @ project . afterEvaluate { 
 } 
 } 
 
 - task checkNdk ( ) < < { 
 - def ndkPathInEnvVariable = System . env . ANDROID _ NDK _ HOME 
 - if ( ! ndkPathInEnvVariable ) { 
 - throw new GradleException ( " The environment variable ' ANDROID _ NDK _ HOME ' must be set . " ) 
 - } 
 - checkNdk ( ndkPathInEnvVariable ) 
 - 
 - def localPropFile = rootProject . file ( ' local . properties ' ) 
 - if ( ! localPropFile . exists ( ) ) { 
 - / / we can skip the checks since ' ANDROID _ NDK _ HOME ' will be used instead . 
 - } else { 
 - def String ndkPathInLocalProperties = getValueFromPropertiesFile ( localPropFile , ' ndk . dir ' ) 
 - if ( ! ndkPathInLocalProperties ) { 
 - throw new GradleException ( " ' ndk . dir ' must be set in $ { localPropFile . getAbsolutePath ( ) } . " ) 
 - } 
 - checkNdk ( ndkPathInLocalProperties ) 
 - if ( new File ( ndkPathInLocalProperties ) . getCanonicalPath ( ) 
 - ! = new File ( ndkPathInEnvVariable ) . getCanonicalPath ( ) ) { 
 - throw new GradleException ( 
 - " The value of environment variable ' ANDROID _ NDK _ HOME ' ( $ { ndkPathInEnvVariable } ) and " 
 - + " ' ndk . dir ' in ' local . properties ' ( $ { ndkPathInLocalProperties } ) " 
 - + ' must point the same directory . ' ) 
 + task checkNdk ( ) { 
 + doLast { 
 + def ndkPathInEnvVariable = System . env . ANDROID _ NDK _ HOME 
 + if ( ! ndkPathInEnvVariable ) { 
 + throw new GradleException ( " The environment variable ' ANDROID _ NDK _ HOME ' must be set . " ) 
 + } 
 + checkNdk ( ndkPathInEnvVariable ) 
 + 
 + def localPropFile = rootProject . file ( ' local . properties ' ) 
 + if ( ! localPropFile . exists ( ) ) { 
 + / / we can skip the checks since ' ANDROID _ NDK _ HOME ' will be used instead . 
 + } else { 
 + def String ndkPathInLocalProperties = getValueFromPropertiesFile ( localPropFile , ' ndk . dir ' ) 
 + if ( ! ndkPathInLocalProperties ) { 
 + throw new GradleException ( " ' ndk . dir ' must be set in $ { localPropFile . getAbsolutePath ( ) } . " ) 
 + } 
 + checkNdk ( ndkPathInLocalProperties ) 
 + if ( new File ( ndkPathInLocalProperties ) . getCanonicalPath ( ) 
 + ! = new File ( ndkPathInEnvVariable ) . getCanonicalPath ( ) ) { 
 + throw new GradleException ( 
 + " The value of environment variable ' ANDROID _ NDK _ HOME ' ( $ { ndkPathInEnvVariable } ) and " 
 + + " ' ndk . dir ' in ' local . properties ' ( $ { ndkPathInLocalProperties } ) " 
 + + ' must point the same directory . ' ) 
 + } 
 } 
 } 
 }
