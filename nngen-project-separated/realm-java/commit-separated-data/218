BLEU SCORE: 0.03283637368030199

TEST MSG: Fix class name in not found message
GENERATED MSG: Refresh snapshot when Collection . clear

TEST DIFF (one line): diff - - git a / realm / realm - library / src / main / cpp / io _ realm _ internal _ SharedRealm . cpp b / realm / realm - library / src / main / cpp / io _ realm _ internal _ SharedRealm . cpp <nl> index 6c066ad . . b7bfb13 100644 <nl> - - - a / realm / realm - library / src / main / cpp / io _ realm _ internal _ SharedRealm . cpp <nl> + + + b / realm / realm - library / src / main / cpp / io _ realm _ internal _ SharedRealm . cpp <nl> @ @ - 435 , 6 + 435 , 9 @ @ JNIEXPORT jlong JNICALL Java _ io _ realm _ internal _ SharedRealm _ nativeGetTable ( JNIEnv <nl> auto & shared _ realm = * ( reinterpret _ cast < SharedRealm * > ( shared _ realm _ ptr ) ) ; <nl> if ( ! shared _ realm - > read _ group ( ) . has _ table ( name ) ) { <nl> std : : string name _ str = name ; <nl> + if ( name _ str . find ( TABLE _ PREFIX ) = = 0 ) { <nl> + name _ str = name _ str . substr ( TABLE _ PREFIX . length ( ) ) ; <nl> + } <nl> THROW _ JAVA _ EXCEPTION ( env , JavaExceptionDef : : IllegalArgument , <nl> format ( " The class ' % 1 ' doesn ' t exist in this Realm . " , name _ str ) ) ; <nl> }
NEAREST DIFF (one line): diff - - git a / realm / realm - library / src / main / cpp / io _ realm _ internal _ Collection . cpp b / realm / realm - library / src / main / cpp / io _ realm _ internal _ Collection . cpp <nl> index e1a1ba7 . . df64a65 100644 <nl> - - - a / realm / realm - library / src / main / cpp / io _ realm _ internal _ Collection . cpp <nl> + + + b / realm / realm - library / src / main / cpp / io _ realm _ internal _ Collection . cpp <nl> @ @ - 191 , 6 + 191 , 8 @ @ Java _ io _ realm _ internal _ Collection _ nativeClear ( JNIEnv * env , jclass , jlong native _ <nl> try { <nl> auto wrapper = reinterpret _ cast < ResultsWrapper * > ( native _ ptr ) ; <nl> wrapper - > get _ results ( ) . clear ( ) ; <nl> + / / Refresh snapshot <nl> + wrapper - > switch _ to _ snapshot ( ) ; <nl> } CATCH _ STD ( ) <nl> } <nl>

TEST DIFF:
diff - - git a / realm / realm - library / src / main / cpp / io _ realm _ internal _ SharedRealm . cpp b / realm / realm - library / src / main / cpp / io _ realm _ internal _ SharedRealm . cpp 
 index 6c066ad . . b7bfb13 100644 
 - - - a / realm / realm - library / src / main / cpp / io _ realm _ internal _ SharedRealm . cpp 
 + + + b / realm / realm - library / src / main / cpp / io _ realm _ internal _ SharedRealm . cpp 
 @ @ - 435 , 6 + 435 , 9 @ @ JNIEXPORT jlong JNICALL Java _ io _ realm _ internal _ SharedRealm _ nativeGetTable ( JNIEnv 
 auto & shared _ realm = * ( reinterpret _ cast < SharedRealm * > ( shared _ realm _ ptr ) ) ; 
 if ( ! shared _ realm - > read _ group ( ) . has _ table ( name ) ) { 
 std : : string name _ str = name ; 
 + if ( name _ str . find ( TABLE _ PREFIX ) = = 0 ) { 
 + name _ str = name _ str . substr ( TABLE _ PREFIX . length ( ) ) ; 
 + } 
 THROW _ JAVA _ EXCEPTION ( env , JavaExceptionDef : : IllegalArgument , 
 format ( " The class ' % 1 ' doesn ' t exist in this Realm . " , name _ str ) ) ; 
 }

NEAREST DIFF:
diff - - git a / realm / realm - library / src / main / cpp / io _ realm _ internal _ Collection . cpp b / realm / realm - library / src / main / cpp / io _ realm _ internal _ Collection . cpp 
 index e1a1ba7 . . df64a65 100644 
 - - - a / realm / realm - library / src / main / cpp / io _ realm _ internal _ Collection . cpp 
 + + + b / realm / realm - library / src / main / cpp / io _ realm _ internal _ Collection . cpp 
 @ @ - 191 , 6 + 191 , 8 @ @ Java _ io _ realm _ internal _ Collection _ nativeClear ( JNIEnv * env , jclass , jlong native _ 
 try { 
 auto wrapper = reinterpret _ cast < ResultsWrapper * > ( native _ ptr ) ; 
 wrapper - > get _ results ( ) . clear ( ) ; 
 + / / Refresh snapshot 
 + wrapper - > switch _ to _ snapshot ( ) ; 
 } CATCH _ STD ( ) 
 } 

