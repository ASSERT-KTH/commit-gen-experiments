BLEU SCORE: 1.6773131395125593E-4

TEST MSG: PR feedback
GENERATED MSG: Fixing an error in a unit test and adding a few comments to clarify what it tested .

TEST DIFF (one line): diff - - git a / realm / realm - library / src / androidTest / java / io / realm / internal / JNITableTest . java b / realm / realm - library / src / androidTest / java / io / realm / internal / JNITableTest . java <nl> index 298f2be . . cacebc9 100644 <nl> - - - a / realm / realm - library / src / androidTest / java / io / realm / internal / JNITableTest . java <nl> + + + b / realm / realm - library / src / androidTest / java / io / realm / internal / JNITableTest . java <nl> @ @ - 371 , 7 + 371 , 7 @ @ public class JNITableTest extends AndroidTestCase { <nl> <nl> public void testColumnName ( ) { <nl> Table t = new Table ( ) ; <nl> - try { t . addColumn ( STRING , " I am 64 characters . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . " ) ; fail ( " Only 63 characters supported " ) ; } catch ( IllegalArgumentException e ) { } <nl> + try { t . addColumn ( STRING , " I am 64 characters . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . " ) ; fail ( " Only 63 characters supported " ) ; } catch ( IllegalArgumentException ignored ) { } <nl> t . addColumn ( STRING , " I am 63 characters . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . " ) ; <nl> } <nl> <nl> @ @ - 487 , 11 + 487 , 9 @ @ public class JNITableTest extends AndroidTestCase { <nl> table . addEmptyRow ( ) ; <nl> if ( columnType = = BINARY ) { <nl> table . setBinaryByteArray ( colIndex , 1 , null ) ; <nl> - } <nl> - else if ( columnType = = STRING ) { <nl> + } else if ( columnType = = STRING ) { <nl> table . setString ( colIndex , 1 , null ) ; <nl> - } <nl> - else { <nl> + } else { <nl> table . getCheckedRow ( 1 ) . setNull ( colIndex ) ; <nl> } <nl> <nl> @ @ - 513 , 11 + 511 , 9 @ @ public class JNITableTest extends AndroidTestCase { <nl> table . addEmptyRow ( ) ; <nl> if ( columnType = = BINARY ) { <nl> table . setBinaryByteArray ( colIndex , 0 , null ) ; <nl> - } <nl> - else if ( columnType = = STRING ) { <nl> + } else if ( columnType = = STRING ) { <nl> table . setString ( colIndex , 0 , null ) ; <nl> - } <nl> - else { <nl> + } else { <nl> table . getCheckedRow ( 0 ) . setNull ( colIndex ) ; <nl> } <nl> <nl> @ @ - 525 , 11 + 521 , 9 @ @ public class JNITableTest extends AndroidTestCase { <nl> <nl> if ( columnType = = BINARY ) { <nl> assertNull ( table . getBinaryByteArray ( colIndex , 1 ) ) ; <nl> - } <nl> - else if ( columnType = = STRING ) { <nl> + } else if ( columnType = = STRING ) { <nl> assertNull ( table . getString ( colIndex , 1 ) ) ; <nl> - } <nl> - else { <nl> + } else { <nl> assertTrue ( table . getUncheckedRow ( 1 ) . isNull ( colIndex ) ) ; <nl> } <nl> } <nl> @ @ - 576 , 11 + 570 , 9 @ @ public class JNITableTest extends AndroidTestCase { <nl> table . addEmptyRow ( ) ; <nl> if ( columnType = = BINARY ) { <nl> table . setBinaryByteArray ( colIndex , 1 , null ) ; <nl> - } <nl> - else if ( columnType = = STRING ) { <nl> + } else if ( columnType = = STRING ) { <nl> table . setString ( colIndex , 1 , null ) ; <nl> - } <nl> - else { <nl> + } else { <nl> table . getCheckedRow ( 1 ) . setNull ( colIndex ) ; <nl> } <nl> <nl> @ @ - 602 , 11 + 594 , 9 @ @ public class JNITableTest extends AndroidTestCase { <nl> try { <nl> if ( columnType = = BINARY ) { <nl> table . setBinaryByteArray ( colIndex , 0 , null ) ; <nl> - } <nl> - else if ( columnType = = STRING ) { <nl> + } else if ( columnType = = STRING ) { <nl> table . setString ( colIndex , 0 , null ) ; <nl> - } <nl> - else { <nl> + } else { <nl> table . getCheckedRow ( 0 ) . setNull ( colIndex ) ; <nl> } <nl> if ( ! nullable ) { <nl> @ @ - 619 , 12 + 609 , 10 @ @ public class JNITableTest extends AndroidTestCase { <nl> <nl> if ( columnType = = BINARY ) { <nl> assertNotNull ( table . getBinaryByteArray ( colIndex , 1 ) ) ; <nl> - } <nl> - else if ( columnType = = STRING ) { <nl> + } else if ( columnType = = STRING ) { <nl> assertNotNull ( table . getString ( colIndex , 1 ) ) ; <nl> assertEquals ( " " , table . getString ( colIndex , 1 ) ) ; <nl> - } <nl> - else { <nl> + } else { <nl> assertFalse ( table . getUncheckedRow ( 1 ) . isNull ( colIndex ) ) ; <nl> switch ( columnType ) { <nl> case BOOLEAN :
NEAREST DIFF (one line): diff - - git a / realm / realm - library / src / androidTest / java / io / realm / internal / JNITableTest . java b / realm / realm - library / src / androidTest / java / io / realm / internal / JNITableTest . java <nl> index dcd2f94 . . 83b11ae 100644 <nl> - - - a / realm / realm - library / src / androidTest / java / io / realm / internal / JNITableTest . java <nl> + + + b / realm / realm - library / src / androidTest / java / io / realm / internal / JNITableTest . java <nl> @ @ - 472 , 6 + 472 , 7 @ @ public class JNITableTest extends AndroidTestCase { <nl> table . setBinaryByteArray ( colIndex , 0 , new byte [ ] { 0 } ) ; <nl> else if ( columnType = = ColumnType . STRING ) <nl> table . setString ( colIndex , 0 , " Foo " ) ; <nl> + / / if column is nullable not exception should be thrown <nl> try { <nl> table . addEmptyRow ( ) ; <nl> if ( columnType = = ColumnType . BINARY ) <nl> @ @ - 485 , 6 + 486 , 9 @ @ public class JNITableTest extends AndroidTestCase { <nl> fail ( ) ; <nl> } <nl> } catch ( IllegalArgumentException ignored ) { <nl> + if ( nullable ) { <nl> + fail ( ) ; <nl> + } <nl> } <nl> table . removeLast ( ) ; <nl> assertEquals ( 1 , table . size ( ) ) ; <nl> @ @ - 497 , 6 + 501 , 7 @ @ public class JNITableTest extends AndroidTestCase { <nl> assertEquals ( colIndex , table . getColumnIndex ( columnName ) ) ; <nl> <nl> table . addEmptyRow ( ) ; <nl> + / / after converting to nullable , it is fine to set value to null i . e . no exception is thrown <nl> if ( columnType = = ColumnType . BINARY ) <nl> table . setBinaryByteArray ( colIndex , 0 , null ) ; <nl> else if ( columnType = = ColumnType . STRING ) <nl> @ @ - 543 , 6 + 548 , 7 @ @ public class JNITableTest extends AndroidTestCase { <nl> table . setBinaryByteArray ( colIndex , 0 , new byte [ ] { 0 } ) ; <nl> else if ( columnType = = ColumnType . STRING ) <nl> table . setString ( colIndex , 0 , " Foo " ) ; <nl> + / / if column is nullable , setting a value to null is allowed ( no exception is thrown ) <nl> try { <nl> table . addEmptyRow ( ) ; <nl> if ( columnType = = ColumnType . BINARY ) <nl> @ @ - 551 , 7 + 557 , 6 @ @ public class JNITableTest extends AndroidTestCase { <nl> table . setString ( colIndex , 1 , null ) ; <nl> else <nl> table . getCheckedRow ( 1 ) . setNull ( colIndex ) ; <nl> - <nl> if ( ! nullable ) { <nl> fail ( ) ; <nl> } <nl> @ @ - 567 , 6 + 572 , 7 @ @ public class JNITableTest extends AndroidTestCase { <nl> assertEquals ( colIndex , table . getColumnIndex ( columnName ) ) ; <nl> <nl> table . addEmptyRow ( ) ; <nl> + / / after converting to not - nullable , setting values to null must throw an exception <nl> try { <nl> if ( columnType = = ColumnType . BINARY ) <nl> table . setBinaryByteArray ( colIndex , 0 , null ) ; <nl> @ @ - 574 , 9 + 580 , 7 @ @ public class JNITableTest extends AndroidTestCase { <nl> table . setString ( colIndex , 0 , null ) ; <nl> else <nl> table . getCheckedRow ( 0 ) . setNull ( colIndex ) ; <nl> - if ( ! nullable ) { <nl> - fail ( ) ; <nl> - } <nl> + fail ( ) ; <nl> } catch ( IllegalArgumentException ignored ) { <nl> } <nl> table . removeLast ( ) ;

TEST DIFF:
diff - - git a / realm / realm - library / src / androidTest / java / io / realm / internal / JNITableTest . java b / realm / realm - library / src / androidTest / java / io / realm / internal / JNITableTest . java 
 index 298f2be . . cacebc9 100644 
 - - - a / realm / realm - library / src / androidTest / java / io / realm / internal / JNITableTest . java 
 + + + b / realm / realm - library / src / androidTest / java / io / realm / internal / JNITableTest . java 
 @ @ - 371 , 7 + 371 , 7 @ @ public class JNITableTest extends AndroidTestCase { 
 
 public void testColumnName ( ) { 
 Table t = new Table ( ) ; 
 - try { t . addColumn ( STRING , " I am 64 characters . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . " ) ; fail ( " Only 63 characters supported " ) ; } catch ( IllegalArgumentException e ) { } 
 + try { t . addColumn ( STRING , " I am 64 characters . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . " ) ; fail ( " Only 63 characters supported " ) ; } catch ( IllegalArgumentException ignored ) { } 
 t . addColumn ( STRING , " I am 63 characters . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . . " ) ; 
 } 
 
 @ @ - 487 , 11 + 487 , 9 @ @ public class JNITableTest extends AndroidTestCase { 
 table . addEmptyRow ( ) ; 
 if ( columnType = = BINARY ) { 
 table . setBinaryByteArray ( colIndex , 1 , null ) ; 
 - } 
 - else if ( columnType = = STRING ) { 
 + } else if ( columnType = = STRING ) { 
 table . setString ( colIndex , 1 , null ) ; 
 - } 
 - else { 
 + } else { 
 table . getCheckedRow ( 1 ) . setNull ( colIndex ) ; 
 } 
 
 @ @ - 513 , 11 + 511 , 9 @ @ public class JNITableTest extends AndroidTestCase { 
 table . addEmptyRow ( ) ; 
 if ( columnType = = BINARY ) { 
 table . setBinaryByteArray ( colIndex , 0 , null ) ; 
 - } 
 - else if ( columnType = = STRING ) { 
 + } else if ( columnType = = STRING ) { 
 table . setString ( colIndex , 0 , null ) ; 
 - } 
 - else { 
 + } else { 
 table . getCheckedRow ( 0 ) . setNull ( colIndex ) ; 
 } 
 
 @ @ - 525 , 11 + 521 , 9 @ @ public class JNITableTest extends AndroidTestCase { 
 
 if ( columnType = = BINARY ) { 
 assertNull ( table . getBinaryByteArray ( colIndex , 1 ) ) ; 
 - } 
 - else if ( columnType = = STRING ) { 
 + } else if ( columnType = = STRING ) { 
 assertNull ( table . getString ( colIndex , 1 ) ) ; 
 - } 
 - else { 
 + } else { 
 assertTrue ( table . getUncheckedRow ( 1 ) . isNull ( colIndex ) ) ; 
 } 
 } 
 @ @ - 576 , 11 + 570 , 9 @ @ public class JNITableTest extends AndroidTestCase { 
 table . addEmptyRow ( ) ; 
 if ( columnType = = BINARY ) { 
 table . setBinaryByteArray ( colIndex , 1 , null ) ; 
 - } 
 - else if ( columnType = = STRING ) { 
 + } else if ( columnType = = STRING ) { 
 table . setString ( colIndex , 1 , null ) ; 
 - } 
 - else { 
 + } else { 
 table . getCheckedRow ( 1 ) . setNull ( colIndex ) ; 
 } 
 
 @ @ - 602 , 11 + 594 , 9 @ @ public class JNITableTest extends AndroidTestCase { 
 try { 
 if ( columnType = = BINARY ) { 
 table . setBinaryByteArray ( colIndex , 0 , null ) ; 
 - } 
 - else if ( columnType = = STRING ) { 
 + } else if ( columnType = = STRING ) { 
 table . setString ( colIndex , 0 , null ) ; 
 - } 
 - else { 
 + } else { 
 table . getCheckedRow ( 0 ) . setNull ( colIndex ) ; 
 } 
 if ( ! nullable ) { 
 @ @ - 619 , 12 + 609 , 10 @ @ public class JNITableTest extends AndroidTestCase { 
 
 if ( columnType = = BINARY ) { 
 assertNotNull ( table . getBinaryByteArray ( colIndex , 1 ) ) ; 
 - } 
 - else if ( columnType = = STRING ) { 
 + } else if ( columnType = = STRING ) { 
 assertNotNull ( table . getString ( colIndex , 1 ) ) ; 
 assertEquals ( " " , table . getString ( colIndex , 1 ) ) ; 
 - } 
 - else { 
 + } else { 
 assertFalse ( table . getUncheckedRow ( 1 ) . isNull ( colIndex ) ) ; 
 switch ( columnType ) { 
 case BOOLEAN :

NEAREST DIFF:
diff - - git a / realm / realm - library / src / androidTest / java / io / realm / internal / JNITableTest . java b / realm / realm - library / src / androidTest / java / io / realm / internal / JNITableTest . java 
 index dcd2f94 . . 83b11ae 100644 
 - - - a / realm / realm - library / src / androidTest / java / io / realm / internal / JNITableTest . java 
 + + + b / realm / realm - library / src / androidTest / java / io / realm / internal / JNITableTest . java 
 @ @ - 472 , 6 + 472 , 7 @ @ public class JNITableTest extends AndroidTestCase { 
 table . setBinaryByteArray ( colIndex , 0 , new byte [ ] { 0 } ) ; 
 else if ( columnType = = ColumnType . STRING ) 
 table . setString ( colIndex , 0 , " Foo " ) ; 
 + / / if column is nullable not exception should be thrown 
 try { 
 table . addEmptyRow ( ) ; 
 if ( columnType = = ColumnType . BINARY ) 
 @ @ - 485 , 6 + 486 , 9 @ @ public class JNITableTest extends AndroidTestCase { 
 fail ( ) ; 
 } 
 } catch ( IllegalArgumentException ignored ) { 
 + if ( nullable ) { 
 + fail ( ) ; 
 + } 
 } 
 table . removeLast ( ) ; 
 assertEquals ( 1 , table . size ( ) ) ; 
 @ @ - 497 , 6 + 501 , 7 @ @ public class JNITableTest extends AndroidTestCase { 
 assertEquals ( colIndex , table . getColumnIndex ( columnName ) ) ; 
 
 table . addEmptyRow ( ) ; 
 + / / after converting to nullable , it is fine to set value to null i . e . no exception is thrown 
 if ( columnType = = ColumnType . BINARY ) 
 table . setBinaryByteArray ( colIndex , 0 , null ) ; 
 else if ( columnType = = ColumnType . STRING ) 
 @ @ - 543 , 6 + 548 , 7 @ @ public class JNITableTest extends AndroidTestCase { 
 table . setBinaryByteArray ( colIndex , 0 , new byte [ ] { 0 } ) ; 
 else if ( columnType = = ColumnType . STRING ) 
 table . setString ( colIndex , 0 , " Foo " ) ; 
 + / / if column is nullable , setting a value to null is allowed ( no exception is thrown ) 
 try { 
 table . addEmptyRow ( ) ; 
 if ( columnType = = ColumnType . BINARY ) 
 @ @ - 551 , 7 + 557 , 6 @ @ public class JNITableTest extends AndroidTestCase { 
 table . setString ( colIndex , 1 , null ) ; 
 else 
 table . getCheckedRow ( 1 ) . setNull ( colIndex ) ; 
 - 
 if ( ! nullable ) { 
 fail ( ) ; 
 } 
 @ @ - 567 , 6 + 572 , 7 @ @ public class JNITableTest extends AndroidTestCase { 
 assertEquals ( colIndex , table . getColumnIndex ( columnName ) ) ; 
 
 table . addEmptyRow ( ) ; 
 + / / after converting to not - nullable , setting values to null must throw an exception 
 try { 
 if ( columnType = = ColumnType . BINARY ) 
 table . setBinaryByteArray ( colIndex , 0 , null ) ; 
 @ @ - 574 , 9 + 580 , 7 @ @ public class JNITableTest extends AndroidTestCase { 
 table . setString ( colIndex , 0 , null ) ; 
 else 
 table . getCheckedRow ( 0 ) . setNull ( colIndex ) ; 
 - if ( ! nullable ) { 
 - fail ( ) ; 
 - } 
 + fail ( ) ; 
 } catch ( IllegalArgumentException ignored ) { 
 } 
 table . removeLast ( ) ;
