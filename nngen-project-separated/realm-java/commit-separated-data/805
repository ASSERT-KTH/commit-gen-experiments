BLEU SCORE: 0.020980574531482755

TEST MSG: remove the kotlin plugin dependency from realm gradle plugin .
GENERATED MSG: fix Kotlin project detection

TEST DIFF (one line): diff - - git a / gradle - plugin / build . gradle b / gradle - plugin / build . gradle <nl> index f3df45a . . 82990b8 100644 <nl> - - - a / gradle - plugin / build . gradle <nl> + + + b / gradle - plugin / build . gradle <nl> @ @ - 24 , 7 + 24 , 6 @ @ dependencies { <nl> compile " io . realm : realm - transformer : $ { version } " <nl> compile ' com . neenbedankt . gradle . plugins : android - apt : 1 . 8 ' <nl> compile ' com . android . tools . build : gradle : 1 . 5 . 0 ' <nl> - compile ' org . jetbrains . kotlin : kotlin - gradle - plugin : 1 . 0 . 0 - rc - 1036 ' <nl> <nl> testCompile gradleTestKit ( ) <nl> testCompile ' junit : junit : 4 . 12 ' <nl> diff - - git a / gradle - plugin / src / main / groovy / io / realm / gradle / Realm . groovy b / gradle - plugin / src / main / groovy / io / realm / gradle / Realm . groovy <nl> index 9c0c910 . . c97b4de 100644 <nl> - - - a / gradle - plugin / src / main / groovy / io / realm / gradle / Realm . groovy <nl> + + + b / gradle - plugin / src / main / groovy / io / realm / gradle / Realm . groovy <nl> @ @ - 23 , 7 + 23 , 6 @ @ import io . realm . transformer . RealmTransformer <nl> import org . gradle . api . GradleException <nl> import org . gradle . api . Plugin <nl> import org . gradle . api . Project <nl> - import org . jetbrains . kotlin . gradle . plugin . KotlinAndroidPluginWrapper <nl> <nl> class Realm implements Plugin < Project > { <nl> <nl> @ @ - 36 , 7 + 35 , 9 @ @ class Realm implements Plugin < Project > { <nl> throw new GradleException ( " ' com . android . application ' or ' com . android . library ' plugin required . " ) <nl> } <nl> <nl> - def isKotlinProject = project . plugins . withType ( KotlinAndroidPluginWrapper ) <nl> + def isKotlinProject = project . plugins . find { <nl> + it . getClass ( ) . name = = ' org . jetbrains . kotlin . gradle . plugin . KotlinAndroidPluginWrapper ' <nl> + } <nl> <nl> if ( ! isKotlinProject ) { <nl> project . plugins . apply ( AndroidAptPlugin )
NEAREST DIFF (one line): diff - - git a / gradle - plugin / src / main / groovy / io / realm / gradle / Realm . groovy b / gradle - plugin / src / main / groovy / io / realm / gradle / Realm . groovy <nl> index 8002b0a . . 9c0c910 100644 <nl> - - - a / gradle - plugin / src / main / groovy / io / realm / gradle / Realm . groovy <nl> + + + b / gradle - plugin / src / main / groovy / io / realm / gradle / Realm . groovy <nl> @ @ - 23 , 7 + 23 , 7 @ @ import io . realm . transformer . RealmTransformer <nl> import org . gradle . api . GradleException <nl> import org . gradle . api . Plugin <nl> import org . gradle . api . Project <nl> - import org . jetbrains . kotlin . gradle . plugin . KotlinAndroidPlugin <nl> + import org . jetbrains . kotlin . gradle . plugin . KotlinAndroidPluginWrapper <nl> <nl> class Realm implements Plugin < Project > { <nl> <nl> @ @ - 36 , 9 + 36 , 11 @ @ class Realm implements Plugin < Project > { <nl> throw new GradleException ( " ' com . android . application ' or ' com . android . library ' plugin required . " ) <nl> } <nl> <nl> - def isKotlinProject = project . plugins . withType ( KotlinAndroidPlugin ) <nl> + def isKotlinProject = project . plugins . withType ( KotlinAndroidPluginWrapper ) <nl> <nl> - project . plugins . apply ( AndroidAptPlugin ) <nl> + if ( ! isKotlinProject ) { <nl> + project . plugins . apply ( AndroidAptPlugin ) <nl> + } <nl> <nl> project . android . registerTransform ( new RealmTransformer ( ) ) <nl> project . repositories . add ( project . getRepositories ( ) . jcenter ( ) ) <nl> @ @ - 46 , 8 + 48 , 8 @ @ class Realm implements Plugin < Project > { <nl> project . dependencies . add ( " compile " , " io . realm : realm - android - library : $ { Version . VERSION } " ) <nl> project . dependencies . add ( " compile " , " io . realm : realm - annotations : $ { Version . VERSION } " ) <nl> if ( isKotlinProject ) { <nl> - project . dependencies . add ( " kapt " , " io . realm : realm - annotations - processor : $ { Version . VERSION } " ) <nl> project . dependencies . add ( " kapt " , " io . realm : realm - annotations : $ { Version . VERSION } " ) <nl> + project . dependencies . add ( " kapt " , " io . realm : realm - annotations - processor : $ { Version . VERSION } " ) <nl> } else { <nl> project . dependencies . add ( " apt " , " io . realm : realm - annotations : $ { Version . VERSION } " ) <nl> project . dependencies . add ( " apt " , " io . realm : realm - annotations - processor : $ { Version . VERSION } " )

TEST DIFF:
diff - - git a / gradle - plugin / build . gradle b / gradle - plugin / build . gradle 
 index f3df45a . . 82990b8 100644 
 - - - a / gradle - plugin / build . gradle 
 + + + b / gradle - plugin / build . gradle 
 @ @ - 24 , 7 + 24 , 6 @ @ dependencies { 
 compile " io . realm : realm - transformer : $ { version } " 
 compile ' com . neenbedankt . gradle . plugins : android - apt : 1 . 8 ' 
 compile ' com . android . tools . build : gradle : 1 . 5 . 0 ' 
 - compile ' org . jetbrains . kotlin : kotlin - gradle - plugin : 1 . 0 . 0 - rc - 1036 ' 
 
 testCompile gradleTestKit ( ) 
 testCompile ' junit : junit : 4 . 12 ' 
 diff - - git a / gradle - plugin / src / main / groovy / io / realm / gradle / Realm . groovy b / gradle - plugin / src / main / groovy / io / realm / gradle / Realm . groovy 
 index 9c0c910 . . c97b4de 100644 
 - - - a / gradle - plugin / src / main / groovy / io / realm / gradle / Realm . groovy 
 + + + b / gradle - plugin / src / main / groovy / io / realm / gradle / Realm . groovy 
 @ @ - 23 , 7 + 23 , 6 @ @ import io . realm . transformer . RealmTransformer 
 import org . gradle . api . GradleException 
 import org . gradle . api . Plugin 
 import org . gradle . api . Project 
 - import org . jetbrains . kotlin . gradle . plugin . KotlinAndroidPluginWrapper 
 
 class Realm implements Plugin < Project > { 
 
 @ @ - 36 , 7 + 35 , 9 @ @ class Realm implements Plugin < Project > { 
 throw new GradleException ( " ' com . android . application ' or ' com . android . library ' plugin required . " ) 
 } 
 
 - def isKotlinProject = project . plugins . withType ( KotlinAndroidPluginWrapper ) 
 + def isKotlinProject = project . plugins . find { 
 + it . getClass ( ) . name = = ' org . jetbrains . kotlin . gradle . plugin . KotlinAndroidPluginWrapper ' 
 + } 
 
 if ( ! isKotlinProject ) { 
 project . plugins . apply ( AndroidAptPlugin )

NEAREST DIFF:
diff - - git a / gradle - plugin / src / main / groovy / io / realm / gradle / Realm . groovy b / gradle - plugin / src / main / groovy / io / realm / gradle / Realm . groovy 
 index 8002b0a . . 9c0c910 100644 
 - - - a / gradle - plugin / src / main / groovy / io / realm / gradle / Realm . groovy 
 + + + b / gradle - plugin / src / main / groovy / io / realm / gradle / Realm . groovy 
 @ @ - 23 , 7 + 23 , 7 @ @ import io . realm . transformer . RealmTransformer 
 import org . gradle . api . GradleException 
 import org . gradle . api . Plugin 
 import org . gradle . api . Project 
 - import org . jetbrains . kotlin . gradle . plugin . KotlinAndroidPlugin 
 + import org . jetbrains . kotlin . gradle . plugin . KotlinAndroidPluginWrapper 
 
 class Realm implements Plugin < Project > { 
 
 @ @ - 36 , 9 + 36 , 11 @ @ class Realm implements Plugin < Project > { 
 throw new GradleException ( " ' com . android . application ' or ' com . android . library ' plugin required . " ) 
 } 
 
 - def isKotlinProject = project . plugins . withType ( KotlinAndroidPlugin ) 
 + def isKotlinProject = project . plugins . withType ( KotlinAndroidPluginWrapper ) 
 
 - project . plugins . apply ( AndroidAptPlugin ) 
 + if ( ! isKotlinProject ) { 
 + project . plugins . apply ( AndroidAptPlugin ) 
 + } 
 
 project . android . registerTransform ( new RealmTransformer ( ) ) 
 project . repositories . add ( project . getRepositories ( ) . jcenter ( ) ) 
 @ @ - 46 , 8 + 48 , 8 @ @ class Realm implements Plugin < Project > { 
 project . dependencies . add ( " compile " , " io . realm : realm - android - library : $ { Version . VERSION } " ) 
 project . dependencies . add ( " compile " , " io . realm : realm - annotations : $ { Version . VERSION } " ) 
 if ( isKotlinProject ) { 
 - project . dependencies . add ( " kapt " , " io . realm : realm - annotations - processor : $ { Version . VERSION } " ) 
 project . dependencies . add ( " kapt " , " io . realm : realm - annotations : $ { Version . VERSION } " ) 
 + project . dependencies . add ( " kapt " , " io . realm : realm - annotations - processor : $ { Version . VERSION } " ) 
 } else { 
 project . dependencies . add ( " apt " , " io . realm : realm - annotations : $ { Version . VERSION } " ) 
 project . dependencies . add ( " apt " , " io . realm : realm - annotations - processor : $ { Version . VERSION } " )
