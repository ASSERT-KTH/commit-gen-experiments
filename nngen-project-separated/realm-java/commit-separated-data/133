BLEU SCORE: 0.08310415003234632

TEST MSG: Remove a FIXME
GENERATED MSG: Refresh snapshot when Collection . clear

TEST DIFF (one line): diff - - git a / realm / realm - library / src / main / cpp / io _ realm _ internal _ OsObjectStore . cpp b / realm / realm - library / src / main / cpp / io _ realm _ internal _ OsObjectStore . cpp <nl> index a3018f0 . . 4ffff87 100644 <nl> - - - a / realm / realm - library / src / main / cpp / io _ realm _ internal _ OsObjectStore . cpp <nl> + + + b / realm / realm - library / src / main / cpp / io _ realm _ internal _ OsObjectStore . cpp <nl> @ @ - 29 , 9 + 29 , 8 @ @ using namespace realm : : jni _ util ; <nl> using namespace realm : : util ; <nl> using namespace realm : : _ impl ; <nl> <nl> - / / FIXME : Enable after https : / / github . com / realm / realm - object - store / pull / 550 merged <nl> - / / static _ assert ( io _ realm _ internal _ OsObjectStore _ SCHEMA _ NOT _ VERSIONED = = static _ cast < jlong > ( ObjectStore : : NotVersioned ) , <nl> - / / " " ) ; <nl> + static _ assert ( io _ realm _ internal _ OsObjectStore _ SCHEMA _ NOT _ VERSIONED = = static _ cast < jlong > ( ObjectStore : : NotVersioned ) , <nl> + " " ) ; <nl> <nl> JNIEXPORT void JNICALL Java _ io _ realm _ internal _ OsObjectStore _ nativeSetPrimaryKeyForObject ( JNIEnv * env , jclass , <nl> jlong shared _ realm _ ptr ,
NEAREST DIFF (one line): diff - - git a / realm / realm - library / src / main / cpp / io _ realm _ internal _ Collection . cpp b / realm / realm - library / src / main / cpp / io _ realm _ internal _ Collection . cpp <nl> index e1a1ba7 . . df64a65 100644 <nl> - - - a / realm / realm - library / src / main / cpp / io _ realm _ internal _ Collection . cpp <nl> + + + b / realm / realm - library / src / main / cpp / io _ realm _ internal _ Collection . cpp <nl> @ @ - 191 , 6 + 191 , 8 @ @ Java _ io _ realm _ internal _ Collection _ nativeClear ( JNIEnv * env , jclass , jlong native _ <nl> try { <nl> auto wrapper = reinterpret _ cast < ResultsWrapper * > ( native _ ptr ) ; <nl> wrapper - > get _ results ( ) . clear ( ) ; <nl> + / / Refresh snapshot <nl> + wrapper - > switch _ to _ snapshot ( ) ; <nl> } CATCH _ STD ( ) <nl> } <nl>

TEST DIFF:
diff - - git a / realm / realm - library / src / main / cpp / io _ realm _ internal _ OsObjectStore . cpp b / realm / realm - library / src / main / cpp / io _ realm _ internal _ OsObjectStore . cpp 
 index a3018f0 . . 4ffff87 100644 
 - - - a / realm / realm - library / src / main / cpp / io _ realm _ internal _ OsObjectStore . cpp 
 + + + b / realm / realm - library / src / main / cpp / io _ realm _ internal _ OsObjectStore . cpp 
 @ @ - 29 , 9 + 29 , 8 @ @ using namespace realm : : jni _ util ; 
 using namespace realm : : util ; 
 using namespace realm : : _ impl ; 
 
 - / / FIXME : Enable after https : / / github . com / realm / realm - object - store / pull / 550 merged 
 - / / static _ assert ( io _ realm _ internal _ OsObjectStore _ SCHEMA _ NOT _ VERSIONED = = static _ cast < jlong > ( ObjectStore : : NotVersioned ) , 
 - / / " " ) ; 
 + static _ assert ( io _ realm _ internal _ OsObjectStore _ SCHEMA _ NOT _ VERSIONED = = static _ cast < jlong > ( ObjectStore : : NotVersioned ) , 
 + " " ) ; 
 
 JNIEXPORT void JNICALL Java _ io _ realm _ internal _ OsObjectStore _ nativeSetPrimaryKeyForObject ( JNIEnv * env , jclass , 
 jlong shared _ realm _ ptr ,

NEAREST DIFF:
diff - - git a / realm / realm - library / src / main / cpp / io _ realm _ internal _ Collection . cpp b / realm / realm - library / src / main / cpp / io _ realm _ internal _ Collection . cpp 
 index e1a1ba7 . . df64a65 100644 
 - - - a / realm / realm - library / src / main / cpp / io _ realm _ internal _ Collection . cpp 
 + + + b / realm / realm - library / src / main / cpp / io _ realm _ internal _ Collection . cpp 
 @ @ - 191 , 6 + 191 , 8 @ @ Java _ io _ realm _ internal _ Collection _ nativeClear ( JNIEnv * env , jclass , jlong native _ 
 try { 
 auto wrapper = reinterpret _ cast < ResultsWrapper * > ( native _ ptr ) ; 
 wrapper - > get _ results ( ) . clear ( ) ; 
 + / / Refresh snapshot 
 + wrapper - > switch _ to _ snapshot ( ) ; 
 } CATCH _ STD ( ) 
 } 

