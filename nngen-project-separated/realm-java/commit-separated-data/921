BLEU SCORE: 0.2259005009024612

TEST MSG: Fixed unit tests
GENERATED MSG: cleaning PR

TEST DIFF (one line): diff - - git a / realm / realm - library / src / main / java / io / realm / DynamicRealm . java b / realm / realm - library / src / main / java / io / realm / DynamicRealm . java <nl> index 412a694 . . f979667 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / DynamicRealm . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / DynamicRealm . java <nl> @ @ - 74 , 7 + 74 , 7 @ @ public final class DynamicRealm extends BaseRealm { <nl> checkIfValid ( ) ; <nl> Table table = schema . getTable ( className ) ; <nl> long rowIndex = table . addEmptyRow ( ) ; <nl> - return get ( DynamicRealmObject . class , className , rowIndex ) ; <nl> + return ( DynamicRealmObject ) get ( DynamicRealmObject . class , className , rowIndex ) ; <nl> } <nl> <nl> / * * <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / DynamicRealmObject . java b / realm / realm - library / src / main / java / io / realm / DynamicRealmObject . java <nl> index 318e9e9 . . 9d1f2fd 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / DynamicRealmObject . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / DynamicRealmObject . java <nl> @ @ - 29 , 7 + 29 , 7 @ @ import io . realm . internal . android . JsonUtils ; <nl> * Class that wraps a normal RealmObject in order to allow dynamic access instead of a typed interface . <nl> * Using a DynamicRealmObject is slower than using the regular RealmObject class . <nl> * / <nl> - public final class DynamicRealmObject extends RealmObject { <nl> + public class DynamicRealmObject extends RealmObject < DynamicRealmObject > { <nl> <nl> / * * <nl> * Creates a dynamic Realm object based on an existing object . <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / RealmQuery . java b / realm / realm - library / src / main / java / io / realm / RealmQuery . java <nl> index 7a956bd . . 89274ba 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / RealmQuery . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / RealmQuery . java <nl> @ @ - 1719 , 11 + 1719 , 12 @ @ public class RealmQuery < E extends RealmObject > { <nl> * @ return the object found or { @ code null } if no object matches the query conditions . <nl> * @ see io . realm . RealmObject <nl> * / <nl> + @ SuppressWarnings ( " unchecked " ) <nl> public E findFirst ( ) { <nl> checkQueryIsNotReused ( ) ; <nl> long rowIndex = this . query . find ( ) ; <nl> if ( rowIndex > = 0 ) { <nl> - return realm . get ( clazz , className , ( view ! = null ) ? view . getTargetRowIndex ( rowIndex ) : rowIndex ) ; <nl> + return ( E ) realm . get ( clazz , className , ( view ! = null ) ? view . getTargetRowIndex ( rowIndex ) : rowIndex ) ; <nl> } else { <nl> return null ; <nl> } <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / RealmResults . java b / realm / realm - library / src / main / java / io / realm / RealmResults . java <nl> index 3629486 . . db09759 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / RealmResults . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / RealmResults . java <nl> @ @ - 157 , 14 + 157 , 15 @ @ public final class RealmResults < E extends RealmObject > extends AbstractList < E > { <nl> * @ throws IndexOutOfBoundsException if { @ code location < 0 | | location > = size ( ) } . <nl> * / <nl> @ Override <nl> + @ SuppressWarnings ( " unchecked " ) <nl> public E get ( int location ) { <nl> E obj ; <nl> realm . checkIfValid ( ) ; <nl> TableOrView table = getTable ( ) ; <nl> if ( table instanceof TableView ) { <nl> - obj = realm . get ( classSpec , className , ( ( TableView ) table ) . getSourceRowIndex ( location ) ) ; <nl> + obj = ( E ) realm . get ( classSpec , className , ( ( TableView ) table ) . getSourceRowIndex ( location ) ) ; <nl> } else { <nl> - obj = realm . get ( classSpec , className , location ) ; <nl> + obj = ( E ) realm . get ( classSpec , className , location ) ; <nl> } <nl> <nl> return obj ;
NEAREST DIFF (one line): diff - - git a / realm / src / main / java / io / realm / Realm . java b / realm / src / main / java / io / realm / Realm . java <nl> index 15aac8b . . 47032f5 100644 <nl> - - - a / realm / src / main / java / io / realm / Realm . java <nl> + + + b / realm / src / main / java / io / realm / Realm . java <nl> @ @ - 1908 , 6 + 1908 , 6 @ @ public final class Realm implements Closeable { <nl> / / but not to the user ( avoid compromising our exposed public API ) <nl> / / <nl> public long getSharedGroupPtr ( ) { <nl> - return sharedGroup . nativePtr ; <nl> + return sharedGroup . getNativePtr ( ) ; <nl> } <nl> } <nl> diff - - git a / realm / src / main / java / io / realm / RealmResults . java b / realm / src / main / java / io / realm / RealmResults . java <nl> index 7b5fb85 . . 371a2d5 100644 <nl> - - - a / realm / src / main / java / io / realm / RealmResults . java <nl> + + + b / realm / src / main / java / io / realm / RealmResults . java <nl> @ @ - 69 , 7 + 69 , 7 @ @ public class RealmResults < E extends RealmObject > extends AbstractList < E > { <nl> this . classSpec = classSpec ; <nl> } <nl> <nl> - RealmResults ( Realm realm , TableOrView table , Class < E > classSpec ) { <nl> + public RealmResults ( Realm realm , TableOrView table , Class < E > classSpec ) { <nl> this ( realm , classSpec ) ; <nl> this . table = table ; <nl> } <nl> diff - - git a / realm / src / main / java / io / realm / internal / SharedGroup . java b / realm / src / main / java / io / realm / internal / SharedGroup . java <nl> index fc21040 . . e833231 100644 <nl> - - - a / realm / src / main / java / io / realm / internal / SharedGroup . java <nl> + + + b / realm / src / main / java / io / realm / internal / SharedGroup . java <nl> @ @ - 81 , 6 + 81 , 10 @ @ public class SharedGroup implements Closeable { <nl> checkNativePtrNotZero ( ) ; <nl> } <nl> <nl> + public long getNativePtr ( ) { <nl> + return nativePtr ; <nl> + } <nl> + <nl> private native long createNativeWithImplicitTransactions ( long nativeReplicationPtr , byte [ ] key ) ; <nl> <nl> private native long nativeCreateReplication ( String databaseFile , byte [ ] key ) ; <nl> diff - - git a / realm / src / main / java / io / realm / internal / TableQuery . java b / realm / src / main / java / io / realm / internal / TableQuery . java <nl> index 268645d . . e502cbd 100644 <nl> - - - a / realm / src / main / java / io / realm / internal / TableQuery . java <nl> + + + b / realm / src / main / java / io / realm / internal / TableQuery . java <nl> @ @ - 498 , 7 + 498 , 7 @ @ public class TableQuery implements Closeable { <nl> <nl> / / Execute the disposal of abandoned realm objects each time a new realm object is created <nl> context . executeDelayedDisposal ( ) ; <nl> - long nativeViewPtr = nativeFindAllWithHandover ( callerSharedGroupPtr , bgSharedGroupPtr , nativePtr , 0 , Table . INFINITE , Table . INFINITE ) ; / / nativeViewPtr is created from bg Thread <nl> + long nativeViewPtr = nativeFindAllWithHandover ( callerSharedGroupPtr , bgSharedGroupPtr , nativePtr , 0 , Table . INFINITE , Table . INFINITE ) ; <nl> / / handover nativeViewPtr to UI Thread <nl> <nl> try {

TEST DIFF:
diff - - git a / realm / realm - library / src / main / java / io / realm / DynamicRealm . java b / realm / realm - library / src / main / java / io / realm / DynamicRealm . java 
 index 412a694 . . f979667 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / DynamicRealm . java 
 + + + b / realm / realm - library / src / main / java / io / realm / DynamicRealm . java 
 @ @ - 74 , 7 + 74 , 7 @ @ public final class DynamicRealm extends BaseRealm { 
 checkIfValid ( ) ; 
 Table table = schema . getTable ( className ) ; 
 long rowIndex = table . addEmptyRow ( ) ; 
 - return get ( DynamicRealmObject . class , className , rowIndex ) ; 
 + return ( DynamicRealmObject ) get ( DynamicRealmObject . class , className , rowIndex ) ; 
 } 
 
 / * * 
 diff - - git a / realm / realm - library / src / main / java / io / realm / DynamicRealmObject . java b / realm / realm - library / src / main / java / io / realm / DynamicRealmObject . java 
 index 318e9e9 . . 9d1f2fd 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / DynamicRealmObject . java 
 + + + b / realm / realm - library / src / main / java / io / realm / DynamicRealmObject . java 
 @ @ - 29 , 7 + 29 , 7 @ @ import io . realm . internal . android . JsonUtils ; 
 * Class that wraps a normal RealmObject in order to allow dynamic access instead of a typed interface . 
 * Using a DynamicRealmObject is slower than using the regular RealmObject class . 
 * / 
 - public final class DynamicRealmObject extends RealmObject { 
 + public class DynamicRealmObject extends RealmObject < DynamicRealmObject > { 
 
 / * * 
 * Creates a dynamic Realm object based on an existing object . 
 diff - - git a / realm / realm - library / src / main / java / io / realm / RealmQuery . java b / realm / realm - library / src / main / java / io / realm / RealmQuery . java 
 index 7a956bd . . 89274ba 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / RealmQuery . java 
 + + + b / realm / realm - library / src / main / java / io / realm / RealmQuery . java 
 @ @ - 1719 , 11 + 1719 , 12 @ @ public class RealmQuery < E extends RealmObject > { 
 * @ return the object found or { @ code null } if no object matches the query conditions . 
 * @ see io . realm . RealmObject 
 * / 
 + @ SuppressWarnings ( " unchecked " ) 
 public E findFirst ( ) { 
 checkQueryIsNotReused ( ) ; 
 long rowIndex = this . query . find ( ) ; 
 if ( rowIndex > = 0 ) { 
 - return realm . get ( clazz , className , ( view ! = null ) ? view . getTargetRowIndex ( rowIndex ) : rowIndex ) ; 
 + return ( E ) realm . get ( clazz , className , ( view ! = null ) ? view . getTargetRowIndex ( rowIndex ) : rowIndex ) ; 
 } else { 
 return null ; 
 } 
 diff - - git a / realm / realm - library / src / main / java / io / realm / RealmResults . java b / realm / realm - library / src / main / java / io / realm / RealmResults . java 
 index 3629486 . . db09759 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / RealmResults . java 
 + + + b / realm / realm - library / src / main / java / io / realm / RealmResults . java 
 @ @ - 157 , 14 + 157 , 15 @ @ public final class RealmResults < E extends RealmObject > extends AbstractList < E > { 
 * @ throws IndexOutOfBoundsException if { @ code location < 0 | | location > = size ( ) } . 
 * / 
 @ Override 
 + @ SuppressWarnings ( " unchecked " ) 
 public E get ( int location ) { 
 E obj ; 
 realm . checkIfValid ( ) ; 
 TableOrView table = getTable ( ) ; 
 if ( table instanceof TableView ) { 
 - obj = realm . get ( classSpec , className , ( ( TableView ) table ) . getSourceRowIndex ( location ) ) ; 
 + obj = ( E ) realm . get ( classSpec , className , ( ( TableView ) table ) . getSourceRowIndex ( location ) ) ; 
 } else { 
 - obj = realm . get ( classSpec , className , location ) ; 
 + obj = ( E ) realm . get ( classSpec , className , location ) ; 
 } 
 
 return obj ;

NEAREST DIFF:
diff - - git a / realm / src / main / java / io / realm / Realm . java b / realm / src / main / java / io / realm / Realm . java 
 index 15aac8b . . 47032f5 100644 
 - - - a / realm / src / main / java / io / realm / Realm . java 
 + + + b / realm / src / main / java / io / realm / Realm . java 
 @ @ - 1908 , 6 + 1908 , 6 @ @ public final class Realm implements Closeable { 
 / / but not to the user ( avoid compromising our exposed public API ) 
 / / 
 public long getSharedGroupPtr ( ) { 
 - return sharedGroup . nativePtr ; 
 + return sharedGroup . getNativePtr ( ) ; 
 } 
 } 
 diff - - git a / realm / src / main / java / io / realm / RealmResults . java b / realm / src / main / java / io / realm / RealmResults . java 
 index 7b5fb85 . . 371a2d5 100644 
 - - - a / realm / src / main / java / io / realm / RealmResults . java 
 + + + b / realm / src / main / java / io / realm / RealmResults . java 
 @ @ - 69 , 7 + 69 , 7 @ @ public class RealmResults < E extends RealmObject > extends AbstractList < E > { 
 this . classSpec = classSpec ; 
 } 
 
 - RealmResults ( Realm realm , TableOrView table , Class < E > classSpec ) { 
 + public RealmResults ( Realm realm , TableOrView table , Class < E > classSpec ) { 
 this ( realm , classSpec ) ; 
 this . table = table ; 
 } 
 diff - - git a / realm / src / main / java / io / realm / internal / SharedGroup . java b / realm / src / main / java / io / realm / internal / SharedGroup . java 
 index fc21040 . . e833231 100644 
 - - - a / realm / src / main / java / io / realm / internal / SharedGroup . java 
 + + + b / realm / src / main / java / io / realm / internal / SharedGroup . java 
 @ @ - 81 , 6 + 81 , 10 @ @ public class SharedGroup implements Closeable { 
 checkNativePtrNotZero ( ) ; 
 } 
 
 + public long getNativePtr ( ) { 
 + return nativePtr ; 
 + } 
 + 
 private native long createNativeWithImplicitTransactions ( long nativeReplicationPtr , byte [ ] key ) ; 
 
 private native long nativeCreateReplication ( String databaseFile , byte [ ] key ) ; 
 diff - - git a / realm / src / main / java / io / realm / internal / TableQuery . java b / realm / src / main / java / io / realm / internal / TableQuery . java 
 index 268645d . . e502cbd 100644 
 - - - a / realm / src / main / java / io / realm / internal / TableQuery . java 
 + + + b / realm / src / main / java / io / realm / internal / TableQuery . java 
 @ @ - 498 , 7 + 498 , 7 @ @ public class TableQuery implements Closeable { 
 
 / / Execute the disposal of abandoned realm objects each time a new realm object is created 
 context . executeDelayedDisposal ( ) ; 
 - long nativeViewPtr = nativeFindAllWithHandover ( callerSharedGroupPtr , bgSharedGroupPtr , nativePtr , 0 , Table . INFINITE , Table . INFINITE ) ; / / nativeViewPtr is created from bg Thread 
 + long nativeViewPtr = nativeFindAllWithHandover ( callerSharedGroupPtr , bgSharedGroupPtr , nativePtr , 0 , Table . INFINITE , Table . INFINITE ) ; 
 / / handover nativeViewPtr to UI Thread 
 
 try {
