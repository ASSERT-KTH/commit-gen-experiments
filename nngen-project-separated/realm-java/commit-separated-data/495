BLEU SCORE: 0.05341087579952926

TEST MSG: Workaround the collection average behavior
GENERATED MSG: Fix JNI declaration for UncheckedRow

TEST DIFF (one line): diff - - git a / realm / realm - library / src / main / cpp / io _ realm _ internal _ Collection . cpp b / realm / realm - library / src / main / cpp / io _ realm _ internal _ Collection . cpp <nl> index 71312a4 . . e1a1ba7 100644 <nl> - - - a / realm / realm - library / src / main / cpp / io _ realm _ internal _ Collection . cpp <nl> + + + b / realm / realm - library / src / main / cpp / io _ realm _ internal _ Collection . cpp <nl> @ @ - 224 , 6 + 224 , 10 @ @ Java _ io _ realm _ internal _ Collection _ nativeAggregate ( JNIEnv * env , jclass , jlong nat <nl> break ; <nl> case io _ realm _ internal _ Collection _ AGGREGATE _ FUNCTION _ AVERAGE : <nl> value = wrapper - > get _ results ( ) . average ( index ) ; <nl> + / / TODO : Align the behavior with ObjectStore . <nl> + if ( ! value ) { <nl> + value = Optional < Mixed > ( 0 . 0 ) ; <nl> + } <nl> break ; <nl> case io _ realm _ internal _ Collection _ AGGREGATE _ FUNCTION _ SUM : <nl> value = wrapper - > get _ results ( ) . sum ( index ) ;
NEAREST DIFF (one line): diff - - git a / CHANGELOG . md b / CHANGELOG . md <nl> index d6321ef . . 02b4dd9 100644 <nl> - - - a / CHANGELOG . md <nl> + + + b / CHANGELOG . md <nl> @ @ - 1 , 3 + 1 , 9 @ @ <nl> + # # 1 . 1 . 1 <nl> + <nl> + # # # Bug fixes <nl> + <nl> + * Fixed a wrong JNI method declaration which might cause " method not found " crash on some devices . <nl> + <nl> # # 1 . 1 . 0 <nl> <nl> # # # Bug fixes <nl> diff - - git a / realm / realm - jni / src / io _ realm _ internal _ UncheckedRow . cpp b / realm / realm - jni / src / io _ realm _ internal _ UncheckedRow . cpp <nl> index e543f92 . . 908ef25 100644 <nl> - - - a / realm / realm - jni / src / io _ realm _ internal _ UncheckedRow . cpp <nl> + + + b / realm / realm - jni / src / io _ realm _ internal _ UncheckedRow . cpp <nl> @ @ - 184 , 7 + 184 , 7 @ @ JNIEXPORT jboolean JNICALL Java _ io _ realm _ internal _ UncheckedRow _ nativeIsNullLink <nl> } <nl> <nl> JNIEXPORT jlong JNICALL Java _ io _ realm _ internal _ UncheckedRow _ nativeGetLinkView <nl> - ( JNIEnv * env , jobject , jlong nativeRowPtr , jlong columnIndex ) <nl> + ( JNIEnv * env , jclass , jlong nativeRowPtr , jlong columnIndex ) <nl> { <nl> TR _ ENTER _ PTR ( nativeRowPtr ) <nl> if ( ! ROW _ VALID ( env , ROW ( nativeRowPtr ) ) ) <nl> diff - - git a / realm / realm - jni / src / io _ realm _ internal _ UncheckedRow . h b / realm / realm - jni / src / io _ realm _ internal _ UncheckedRow . h <nl> index 4537bd2 . . 267be9e 100644 <nl> - - - a / realm / realm - jni / src / io _ realm _ internal _ UncheckedRow . h <nl> + + + b / realm / realm - jni / src / io _ realm _ internal _ UncheckedRow . h <nl> @ @ - 117 , 7 + 117 , 7 @ @ JNIEXPORT jbyteArray JNICALL Java _ io _ realm _ internal _ UncheckedRow _ nativeGetByteAr <nl> * Signature : ( JJ ) J <nl> * / <nl> JNIEXPORT jlong JNICALL Java _ io _ realm _ internal _ UncheckedRow _ nativeGetLinkView <nl> - ( JNIEnv * , jobject , jlong , jlong ) ; <nl> + ( JNIEnv * , jclass , jlong , jlong ) ; <nl> <nl> / * <nl> * Class : io _ realm _ internal _ UncheckedRow

TEST DIFF:
diff - - git a / realm / realm - library / src / main / cpp / io _ realm _ internal _ Collection . cpp b / realm / realm - library / src / main / cpp / io _ realm _ internal _ Collection . cpp 
 index 71312a4 . . e1a1ba7 100644 
 - - - a / realm / realm - library / src / main / cpp / io _ realm _ internal _ Collection . cpp 
 + + + b / realm / realm - library / src / main / cpp / io _ realm _ internal _ Collection . cpp 
 @ @ - 224 , 6 + 224 , 10 @ @ Java _ io _ realm _ internal _ Collection _ nativeAggregate ( JNIEnv * env , jclass , jlong nat 
 break ; 
 case io _ realm _ internal _ Collection _ AGGREGATE _ FUNCTION _ AVERAGE : 
 value = wrapper - > get _ results ( ) . average ( index ) ; 
 + / / TODO : Align the behavior with ObjectStore . 
 + if ( ! value ) { 
 + value = Optional < Mixed > ( 0 . 0 ) ; 
 + } 
 break ; 
 case io _ realm _ internal _ Collection _ AGGREGATE _ FUNCTION _ SUM : 
 value = wrapper - > get _ results ( ) . sum ( index ) ;

NEAREST DIFF:
diff - - git a / CHANGELOG . md b / CHANGELOG . md 
 index d6321ef . . 02b4dd9 100644 
 - - - a / CHANGELOG . md 
 + + + b / CHANGELOG . md 
 @ @ - 1 , 3 + 1 , 9 @ @ 
 + # # 1 . 1 . 1 
 + 
 + # # # Bug fixes 
 + 
 + * Fixed a wrong JNI method declaration which might cause " method not found " crash on some devices . 
 + 
 # # 1 . 1 . 0 
 
 # # # Bug fixes 
 diff - - git a / realm / realm - jni / src / io _ realm _ internal _ UncheckedRow . cpp b / realm / realm - jni / src / io _ realm _ internal _ UncheckedRow . cpp 
 index e543f92 . . 908ef25 100644 
 - - - a / realm / realm - jni / src / io _ realm _ internal _ UncheckedRow . cpp 
 + + + b / realm / realm - jni / src / io _ realm _ internal _ UncheckedRow . cpp 
 @ @ - 184 , 7 + 184 , 7 @ @ JNIEXPORT jboolean JNICALL Java _ io _ realm _ internal _ UncheckedRow _ nativeIsNullLink 
 } 
 
 JNIEXPORT jlong JNICALL Java _ io _ realm _ internal _ UncheckedRow _ nativeGetLinkView 
 - ( JNIEnv * env , jobject , jlong nativeRowPtr , jlong columnIndex ) 
 + ( JNIEnv * env , jclass , jlong nativeRowPtr , jlong columnIndex ) 
 { 
 TR _ ENTER _ PTR ( nativeRowPtr ) 
 if ( ! ROW _ VALID ( env , ROW ( nativeRowPtr ) ) ) 
 diff - - git a / realm / realm - jni / src / io _ realm _ internal _ UncheckedRow . h b / realm / realm - jni / src / io _ realm _ internal _ UncheckedRow . h 
 index 4537bd2 . . 267be9e 100644 
 - - - a / realm / realm - jni / src / io _ realm _ internal _ UncheckedRow . h 
 + + + b / realm / realm - jni / src / io _ realm _ internal _ UncheckedRow . h 
 @ @ - 117 , 7 + 117 , 7 @ @ JNIEXPORT jbyteArray JNICALL Java _ io _ realm _ internal _ UncheckedRow _ nativeGetByteAr 
 * Signature : ( JJ ) J 
 * / 
 JNIEXPORT jlong JNICALL Java _ io _ realm _ internal _ UncheckedRow _ nativeGetLinkView 
 - ( JNIEnv * , jobject , jlong , jlong ) ; 
 + ( JNIEnv * , jclass , jlong , jlong ) ; 
 
 / * 
 * Class : io _ realm _ internal _ UncheckedRow
