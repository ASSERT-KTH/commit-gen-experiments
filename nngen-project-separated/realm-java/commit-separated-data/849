BLEU SCORE: 0.014199193612838947

TEST MSG: Revert " Merge pull request # 2084 from realm / ez / pmd "
GENERATED MSG: Comply with the most basic PMD ruleset

TEST DIFF (one line): diff - - git a / realm / realm - library / build . gradle b / realm / realm - library / build . gradle <nl> index 6532295 . . a787458 100644 <nl> - - - a / realm / realm - library / build . gradle <nl> + + + b / realm / realm - library / build . gradle <nl> @ @ - 5 , 7 + 5 , 6 @ @ apply plugin : ' maven - publish ' <nl> apply plugin : ' com . github . dcendents . android - maven ' <nl> apply plugin : ' maven ' <nl> apply plugin : ' findbugs ' <nl> - apply plugin : ' pmd ' <nl> apply plugin : ' checkstyle ' <nl> <nl> android { <nl> @ @ - 63 , 8 + 62 , 8 @ @ task javadocJar ( type : Jar , dependsOn : javadoc ) { <nl> preBuild . dependsOn ' : realm - jni : buildAndroidJni ' <nl> <nl> task findbugs ( type : FindBugs ) { <nl> - dependsOn assembleDebug <nl> - group = ' Verification ' <nl> + dependsOn assemble <nl> + group = ' Test ' <nl> <nl> ignoreFailures = false <nl> effort = " default " <nl> @ @ - 85 , 23 + 84 , 8 @ @ task findbugs ( type : FindBugs ) { <nl> } <nl> } <nl> <nl> - task pmd ( type : Pmd ) { <nl> - description ' Run pmd ' <nl> - group ' verification ' <nl> - <nl> - dependsOn assembleDebug <nl> - <nl> - ruleSets = [ " java - basic " ] <nl> - source = fileTree ( ' src / main / java ' ) <nl> - <nl> - reports { <nl> - xml . enabled = false <nl> - html . enabled = true <nl> - } <nl> - } <nl> - <nl> task checkstyle ( type : Checkstyle ) { <nl> - group = ' Verification ' <nl> + group = ' Test ' <nl> <nl> source ' src ' <nl> include ' * * / * . java ' <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / BaseRealm . java b / realm / realm - library / src / main / java / io / realm / BaseRealm . java <nl> index 9047e47 . . cbc2a6d 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / BaseRealm . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / BaseRealm . java <nl> @ @ - 315 , 10 + 315 , 11 @ @ abstract class BaseRealm implements Closeable { <nl> realmPath . equals ( configuration . getPath ( ) ) / / It ' s the right realm <nl> & & ! handler . hasMessages ( HandlerController . REALM _ CHANGED ) / / The right message <nl> & & handler . getLooper ( ) . getThread ( ) . isAlive ( ) / / The receiving thread is alive <nl> - & & ! handler . sendEmptyMessage ( HandlerController . REALM _ CHANGED ) ) { <nl> - RealmLog . w ( " Cannot update Looper threads when the Looper has quit . Use realm . setAutoRefresh ( false ) " + <nl> - " to prevent this . " ) ; <nl> - <nl> + ) { <nl> + if ( ! handler . sendEmptyMessage ( HandlerController . REALM _ CHANGED ) ) { <nl> + RealmLog . w ( " Cannot update Looper threads when the Looper has quit . Use realm . setAutoRefresh ( false ) " + <nl> + " to prevent this . " ) ; <nl> + } <nl> } <nl> } <nl> } <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / DynamicRealmObject . java b / realm / realm - library / src / main / java / io / realm / DynamicRealmObject . java <nl> index c7eeaab . . 427f479 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / DynamicRealmObject . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / DynamicRealmObject . java <nl> @ @ - 62 , 7 + 62 , 7 @ @ public final class DynamicRealmObject extends RealmObject { <nl> <nl> DynamicRealmObject ( BaseRealm realm , Row row ) { <nl> this . realm = realm ; <nl> - this . row = row instanceof CheckedRow ? ( CheckedRow ) row : ( ( UncheckedRow ) row ) . convertToChecked ( ) ; <nl> + this . row = ( row instanceof CheckedRow ) ? ( CheckedRow ) row : ( ( UncheckedRow ) row ) . convertToChecked ( ) ; <nl> } <nl> <nl> DynamicRealmObject ( String className ) { <nl> @ @ - 342 , 7 + 342 , 7 @ @ public final class DynamicRealmObject extends RealmObject { <nl> * / <nl> @ SuppressWarnings ( " unchecked " ) <nl> public void set ( String fieldName , Object value ) { <nl> - boolean isString = value instanceof String ; <nl> + boolean isString = ( value instanceof String ) ; <nl> String strValue = isString ? ( String ) value : null ; <nl> <nl> / / Do implicit conversion if needed <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / RealmBaseAdapter . java b / realm / realm - library / src / main / java / io / realm / RealmBaseAdapter . java <nl> index d119d60 . . 0d579c8 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / RealmBaseAdapter . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / RealmBaseAdapter . java <nl> @ @ - 45 , 7 + 45 , 7 @ @ public abstract class RealmBaseAdapter < T extends RealmObject > extends BaseAdapte <nl> this . context = context ; <nl> this . realmResults = realmResults ; <nl> this . inflater = LayoutInflater . from ( context ) ; <nl> - this . listener = ! automaticUpdate ? null : new RealmChangeListener ( ) { <nl> + this . listener = ( ! automaticUpdate ) ? null : new RealmChangeListener ( ) { <nl> @ Override <nl> public void onChange ( ) { <nl> notifyDataSetChanged ( ) ; <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / RealmFieldType . java b / realm / realm - library / src / main / java / io / realm / RealmFieldType . java <nl> index 008c290 . . b5b4df2 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / RealmFieldType . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / RealmFieldType . java <nl> @ @ - 76 , 22 + 76 , 22 @ @ public enum RealmFieldType { <nl> * / <nl> public boolean isValid ( Object obj ) { <nl> switch ( nativeValue ) { <nl> - case 0 : return obj instanceof Long | | obj instanceof Integer | | obj instanceof Short | | obj instanceof Byte ; <nl> - case 1 : return obj instanceof Boolean ; <nl> - case 2 : return obj instanceof String ; <nl> - case 4 : return obj instanceof byte [ ] | | obj instanceof ByteBuffer ; <nl> - case 5 : return obj = = null | | obj instanceof Object [ ] [ ] ; <nl> - case 6 : return obj instanceof Mixed | | <nl> + case 0 : return ( obj instanceof Long | | obj instanceof Integer | | obj instanceof Short | | obj instanceof Byte ) ; <nl> + case 1 : return ( obj instanceof Boolean ) ; <nl> + case 2 : return ( obj instanceof String ) ; <nl> + case 4 : return ( obj instanceof byte [ ] | | obj instanceof ByteBuffer ) ; <nl> + case 5 : return ( obj = = null | | obj instanceof Object [ ] [ ] ) ; <nl> + case 6 : return ( obj instanceof Mixed | | <nl> obj instanceof Long | | obj instanceof Integer | | <nl> obj instanceof Short | | obj instanceof Byte | | obj instanceof Boolean | | <nl> obj instanceof Float | | obj instanceof Double | | <nl> obj instanceof String | | <nl> obj instanceof byte [ ] | | obj instanceof ByteBuffer | | <nl> obj = = null | | obj instanceof Object [ ] [ ] | | <nl> - obj instanceof java . util . Date ; <nl> - case 7 : return obj instanceof java . util . Date ; <nl> - case 9 : return obj instanceof Float ; <nl> - case 10 : return obj instanceof Double ; <nl> + obj instanceof java . util . Date ) ; <nl> + case 7 : return ( obj instanceof java . util . Date ) ; <nl> + case 9 : return ( obj instanceof Float ) ; <nl> + case 10 : return ( obj instanceof Double ) ; <nl> case 12 : return false ; <nl> case 13 : return false ; <nl> case 14 : return false ; <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / internal / CheckedRow . java b / realm / realm - library / src / main / java / io / realm / internal / CheckedRow . java <nl> index d9e0e1b . . e01d9be 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / internal / CheckedRow . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / internal / CheckedRow . java <nl> @ @ - 94 , 6 + 94 , 11 @ @ public class CheckedRow extends UncheckedRow { <nl> } <nl> <nl> @ Override <nl> + public boolean isNull ( long columnIndex ) { <nl> + return super . isNull ( columnIndex ) ; <nl> + } <nl> + <nl> + @ Override <nl> public void setNull ( long columnIndex ) { <nl> RealmFieldType columnType = getColumnType ( columnIndex ) ; <nl> if ( columnType = = RealmFieldType . STRING ) { <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / internal / Group . java b / realm / realm - library / src / main / java / io / realm / internal / Group . java <nl> index 669c2b8 . . d329d53 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / internal / Group . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / internal / Group . java <nl> @ @ - 56 , 7 + 56 , 7 @ @ public class Group implements Closeable { <nl> } <nl> <nl> public Group ( String filepath , int mode ) { <nl> - this . immutable = mode = = MODE _ READONLY ; <nl> + this . immutable = ( mode = = MODE _ READONLY ) ; <nl> this . context = new Context ( ) ; <nl> this . nativePtr = createNative ( filepath , mode ) ; <nl> checkNativePtrNotZero ( ) ; <nl> @ @ - 193 , 9 + 193 , 11 @ @ public class Group implements Closeable { <nl> if ( name = = null | | name . isEmpty ( ) ) { <nl> throw new IllegalArgumentException ( " Invalid name . Name must be a non - empty String . " ) ; <nl> } <nl> - if ( immutable & & ! hasTable ( name ) ) { <nl> - throw new IllegalStateException ( " Requested table is not in this Realm . " + <nl> - " Creating it requires a transaction : " + name ) ; <nl> + if ( immutable ) { <nl> + if ( ! hasTable ( name ) ) { <nl> + throw new IllegalStateException ( " Requested table is not in this Realm . " + <nl> + " Creating it requires a transaction : " + name ) ; <nl> + } <nl> } <nl> <nl> / / Execute the disposal of abandoned realm objects each time a new realm object is created <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / internal / Mixed . java b / realm / realm - library / src / main / java / io / realm / internal / Mixed . java <nl> index d6f2827 . . c90e4ea 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / internal / Mixed . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / internal / Mixed . java <nl> @ @ - 54 , 22 + 54 , 22 @ @ public class Mixed { <nl> } <nl> <nl> public Mixed ( Date value ) { <nl> - assert value ! = null ; <nl> + assert ( value ! = null ) ; <nl> this . value = value ; <nl> } <nl> <nl> public Mixed ( String value ) { <nl> - assert value ! = null ; <nl> + assert ( value ! = null ) ; <nl> this . value = value ; <nl> } <nl> <nl> public Mixed ( ByteBuffer value ) { <nl> - assert value ! = null ; <nl> + assert ( value ! = null ) ; <nl> this . value = value ; <nl> } <nl> <nl> public Mixed ( byte [ ] value ) { <nl> - assert value ! = null ; <nl> + assert ( value ! = null ) ; <nl> this . value = value ; <nl> } <nl> <nl> @ @ - 121 , 7 + 121 , 7 @ @ public class Mixed { <nl> return RealmFieldType . DATE ; <nl> else if ( value instanceof Boolean ) <nl> return RealmFieldType . BOOLEAN ; <nl> - else if ( value instanceof ByteBuffer | | value instanceof byte [ ] ) { <nl> + else if ( value instanceof ByteBuffer | | ( value instanceof byte [ ] ) ) { <nl> return RealmFieldType . BINARY ; <nl> } <nl> <nl> @ @ - 246 , 10 + 246 , 9 @ @ public class Mixed { <nl> case UNSUPPORTED _ TABLE : <nl> return " Subtable " ; <nl> case UNSUPPORTED _ MIXED : <nl> - return " ERROR " ; <nl> + break ; / / error <nl> } <nl> } catch ( Exception e ) { <nl> - return " ERROR " ; <nl> } <nl> return " ERROR " ; <nl> } <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / internal / RealmCore . java b / realm / realm - library / src / main / java / io / realm / internal / RealmCore . java <nl> index cdd443d . . 28907bd 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / internal / RealmCore . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / internal / RealmCore . java <nl> @ @ - 57 , 7 + 57 , 7 @ @ public class RealmCore { <nl> public static boolean osIsWindows ( ) <nl> { <nl> String os = System . getProperty ( " os . name " ) . toLowerCase ( Locale . getDefault ( ) ) ; <nl> - return os . contains ( " win " ) ; <nl> + return ( os . contains ( " win " ) ) ; <nl> } <nl> <nl> public static byte [ ] serialize ( Serializable value ) { <nl> @ @ - 122 , 14 + 122 , 15 @ @ public class RealmCore { <nl> } <nl> <nl> private static String loadLibraryWindows ( ) { <nl> + / / / * <nl> try { <nl> addNativeLibraryPath ( BINARIES _ PATH ) ; <nl> resetLibraryPath ( ) ; <nl> - } catch ( Throwable e ) { <nl> + } <nl> + catch ( Throwable e ) { <nl> / / Above can ' t be used on Android . <nl> - System . out . println ( " Failed to add native library path \ n " ) ; <nl> } <nl> - <nl> + / / * / <nl> / / Load debug library first - if available <nl> String jnilib ; <nl> jnilib = loadCorrectLibrary ( " realm _ jni32d " , " realm _ jni64d " ) ; <nl> @ @ - 153 , 7 + 154 , 6 @ @ public class RealmCore { <nl> System . loadLibrary ( libraryCandidateName ) ; <nl> return libraryCandidateName ; <nl> } catch ( Throwable e ) { <nl> - System . out . println ( " Failed to load native library path \ n " ) ; <nl> } <nl> } <nl> return null ; <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / internal / Table . java b / realm / realm - library / src / main / java / io / realm / internal / Table . java <nl> index d2f80bf . . 9052cd9 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / internal / Table . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / internal / Table . java <nl> @ @ - 119 , 7 + 119 , 7 @ @ public class Table implements TableOrView , TableSchema , Closeable { <nl> protected void finalize ( ) { <nl> synchronized ( context ) { <nl> if ( nativePtr ! = 0 ) { <nl> - boolean isRoot = parent = = null ; <nl> + boolean isRoot = ( parent = = null ) ; <nl> context . asyncDisposeTable ( nativePtr , isRoot ) ; <nl> nativePtr = 0 ; / / Set to 0 if finalize is called before close ( ) for some reason <nl> } <nl> @ @ - 1349 , 7 + 1349 , 7 @ @ public class Table implements TableOrView , TableSchema , Closeable { <nl> * Checks if a given table name is a meta - table , i . e . a table used by Realm to track its internal state . <nl> * / <nl> public static boolean isMetaTable ( String tableName ) { <nl> - return tableName . equals ( METADATA _ TABLE _ NAME ) | | tableName . equals ( PRIMARY _ KEY _ TABLE _ NAME ) ; <nl> + return ( tableName . equals ( METADATA _ TABLE _ NAME ) | | tableName . equals ( PRIMARY _ KEY _ TABLE _ NAME ) ) ; <nl> } <nl> <nl> / * * <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / internal / Version . java b / realm / realm - library / src / main / java / io / realm / internal / Version . java <nl> index 871fd5f . . 9464a48 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / internal / Version . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / internal / Version . java <nl> @ @ - 61 , 7 + 61 , 7 @ @ public class Version { <nl> return false ; <nl> } <nl> <nl> - compatible = nativeGetAPIVersion ( ) = = REQUIRED _ JNI _ VERSION ; <nl> + compatible = ( nativeGetAPIVersion ( ) = = REQUIRED _ JNI _ VERSION ) ; <nl> if ( ! compatible ) { <nl> errTxt = " Native lib API is version " + nativeGetAPIVersion ( ) <nl> + " ! = " + REQUIRED _ JNI _ VERSION + " which is expected by the jar . " ; <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / internal / android / ISO8601Utils . java b / realm / realm - library / src / main / java / io / realm / internal / android / ISO8601Utils . java <nl> index 9d7038d . . 348ebda 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / internal / android / ISO8601Utils . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / internal / android / ISO8601Utils . java <nl> @ @ - 89 , 7 + 89 , 7 @ @ public class ISO8601Utils { <nl> / / if the value has no time component ( and no time zone ) , we are done <nl> boolean hasT = checkOffset ( date , offset , ' T ' ) ; <nl> <nl> - if ( ! hasT & & date . length ( ) < = offset ) { <nl> + if ( ! hasT & & ( date . length ( ) < = offset ) ) { <nl> Calendar calendar = new GregorianCalendar ( year , month - 1 , day ) ; <nl> <nl> pos . setIndex ( offset ) ; <nl> @ @ - 203 , 7 + 203 , 7 @ @ public class ISO8601Utils { <nl> } catch ( IllegalArgumentException e ) { <nl> fail = e ; <nl> } <nl> - String input = date = = null ? null : " ' " + date + " ' " ; <nl> + String input = ( date = = null ) ? null : ( ' " ' + date + " ' " ) ; <nl> String msg = fail . getMessage ( ) ; <nl> if ( msg = = null | | msg . isEmpty ( ) ) { <nl> msg = " ( " + fail . getClass ( ) . getName ( ) + " ) " ; <nl> @ @ - 223 , 7 + 223 , 7 @ @ public class ISO8601Utils { <nl> * @ return true if the expected character exist at the given offset <nl> * / <nl> private static boolean checkOffset ( String value , int offset , char expected ) { <nl> - return offset < value . length ( ) & & value . charAt ( offset ) = = expected ; <nl> + return ( offset < value . length ( ) ) & & ( value . charAt ( offset ) = = expected ) ; <nl> } <nl> <nl> / * * <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / internal / async / QueryUpdateTask . java b / realm / realm - library / src / main / java / io / realm / internal / async / QueryUpdateTask . java <nl> index a31c3cc . . 74dd709 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / internal / async / QueryUpdateTask . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / internal / async / QueryUpdateTask . java <nl> @ @ - 140 , 7 + 140 , 7 @ @ public class QueryUpdateTask implements Runnable { <nl> queriesParameters [ i ] [ 2 ] = Table . INFINITE ; <nl> queriesParameters [ i ] [ 3 ] = Table . INFINITE ; <nl> queriesParameters [ i ] [ 4 ] = queryEntry . queryArguments . columnIndex ; <nl> - queriesParameters [ i ] [ 5 ] = queryEntry . queryArguments . sortOrder . getValue ( ) ? 1 : 0 ; <nl> + queriesParameters [ i ] [ 5 ] = ( queryEntry . queryArguments . sortOrder . getValue ( ) ) ? 1 : 0 ; <nl> break ; <nl> } <nl> case ArgumentsHolder . TYPE _ FIND _ ALL _ MULTI _ SORTED : <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / rx / RealmObservableFactory . java b / realm / realm - library / src / main / java / io / realm / rx / RealmObservableFactory . java <nl> index be4c7fa . . 77fc789 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / rx / RealmObservableFactory . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / rx / RealmObservableFactory . java <nl> @ @ - 222 , 9 + 222 , 4 @ @ public class RealmObservableFactory implements RxObservableFactory { <nl> return o instanceof RealmObservableFactory ; <nl> } <nl> <nl> - @ Override <nl> - public int hashCode ( ) { <nl> - return 37 ; <nl> - } <nl> - <nl> }
NEAREST DIFF (one line): diff - - git a / realm / realm - library / build . gradle b / realm / realm - library / build . gradle <nl> index a787458 . . 6532295 100644 <nl> - - - a / realm / realm - library / build . gradle <nl> + + + b / realm / realm - library / build . gradle <nl> @ @ - 5 , 6 + 5 , 7 @ @ apply plugin : ' maven - publish ' <nl> apply plugin : ' com . github . dcendents . android - maven ' <nl> apply plugin : ' maven ' <nl> apply plugin : ' findbugs ' <nl> + apply plugin : ' pmd ' <nl> apply plugin : ' checkstyle ' <nl> <nl> android { <nl> @ @ - 62 , 8 + 63 , 8 @ @ task javadocJar ( type : Jar , dependsOn : javadoc ) { <nl> preBuild . dependsOn ' : realm - jni : buildAndroidJni ' <nl> <nl> task findbugs ( type : FindBugs ) { <nl> - dependsOn assemble <nl> - group = ' Test ' <nl> + dependsOn assembleDebug <nl> + group = ' Verification ' <nl> <nl> ignoreFailures = false <nl> effort = " default " <nl> @ @ - 84 , 8 + 85 , 23 @ @ task findbugs ( type : FindBugs ) { <nl> } <nl> } <nl> <nl> + task pmd ( type : Pmd ) { <nl> + description ' Run pmd ' <nl> + group ' verification ' <nl> + <nl> + dependsOn assembleDebug <nl> + <nl> + ruleSets = [ " java - basic " ] <nl> + source = fileTree ( ' src / main / java ' ) <nl> + <nl> + reports { <nl> + xml . enabled = false <nl> + html . enabled = true <nl> + } <nl> + } <nl> + <nl> task checkstyle ( type : Checkstyle ) { <nl> - group = ' Test ' <nl> + group = ' Verification ' <nl> <nl> source ' src ' <nl> include ' * * / * . java ' <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / BaseRealm . java b / realm / realm - library / src / main / java / io / realm / BaseRealm . java <nl> index cbc2a6d . . 9047e47 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / BaseRealm . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / BaseRealm . java <nl> @ @ - 315 , 11 + 315 , 10 @ @ abstract class BaseRealm implements Closeable { <nl> realmPath . equals ( configuration . getPath ( ) ) / / It ' s the right realm <nl> & & ! handler . hasMessages ( HandlerController . REALM _ CHANGED ) / / The right message <nl> & & handler . getLooper ( ) . getThread ( ) . isAlive ( ) / / The receiving thread is alive <nl> - ) { <nl> - if ( ! handler . sendEmptyMessage ( HandlerController . REALM _ CHANGED ) ) { <nl> - RealmLog . w ( " Cannot update Looper threads when the Looper has quit . Use realm . setAutoRefresh ( false ) " + <nl> - " to prevent this . " ) ; <nl> - } <nl> + & & ! handler . sendEmptyMessage ( HandlerController . REALM _ CHANGED ) ) { <nl> + RealmLog . w ( " Cannot update Looper threads when the Looper has quit . Use realm . setAutoRefresh ( false ) " + <nl> + " to prevent this . " ) ; <nl> + <nl> } <nl> } <nl> } <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / DynamicRealmObject . java b / realm / realm - library / src / main / java / io / realm / DynamicRealmObject . java <nl> index 427f479 . . c7eeaab 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / DynamicRealmObject . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / DynamicRealmObject . java <nl> @ @ - 62 , 7 + 62 , 7 @ @ public final class DynamicRealmObject extends RealmObject { <nl> <nl> DynamicRealmObject ( BaseRealm realm , Row row ) { <nl> this . realm = realm ; <nl> - this . row = ( row instanceof CheckedRow ) ? ( CheckedRow ) row : ( ( UncheckedRow ) row ) . convertToChecked ( ) ; <nl> + this . row = row instanceof CheckedRow ? ( CheckedRow ) row : ( ( UncheckedRow ) row ) . convertToChecked ( ) ; <nl> } <nl> <nl> DynamicRealmObject ( String className ) { <nl> @ @ - 342 , 7 + 342 , 7 @ @ public final class DynamicRealmObject extends RealmObject { <nl> * / <nl> @ SuppressWarnings ( " unchecked " ) <nl> public void set ( String fieldName , Object value ) { <nl> - boolean isString = ( value instanceof String ) ; <nl> + boolean isString = value instanceof String ; <nl> String strValue = isString ? ( String ) value : null ; <nl> <nl> / / Do implicit conversion if needed <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / RealmBaseAdapter . java b / realm / realm - library / src / main / java / io / realm / RealmBaseAdapter . java <nl> index 0d579c8 . . d119d60 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / RealmBaseAdapter . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / RealmBaseAdapter . java <nl> @ @ - 45 , 7 + 45 , 7 @ @ public abstract class RealmBaseAdapter < T extends RealmObject > extends BaseAdapte <nl> this . context = context ; <nl> this . realmResults = realmResults ; <nl> this . inflater = LayoutInflater . from ( context ) ; <nl> - this . listener = ( ! automaticUpdate ) ? null : new RealmChangeListener ( ) { <nl> + this . listener = ! automaticUpdate ? null : new RealmChangeListener ( ) { <nl> @ Override <nl> public void onChange ( ) { <nl> notifyDataSetChanged ( ) ; <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / RealmFieldType . java b / realm / realm - library / src / main / java / io / realm / RealmFieldType . java <nl> index b5b4df2 . . 008c290 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / RealmFieldType . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / RealmFieldType . java <nl> @ @ - 76 , 22 + 76 , 22 @ @ public enum RealmFieldType { <nl> * / <nl> public boolean isValid ( Object obj ) { <nl> switch ( nativeValue ) { <nl> - case 0 : return ( obj instanceof Long | | obj instanceof Integer | | obj instanceof Short | | obj instanceof Byte ) ; <nl> - case 1 : return ( obj instanceof Boolean ) ; <nl> - case 2 : return ( obj instanceof String ) ; <nl> - case 4 : return ( obj instanceof byte [ ] | | obj instanceof ByteBuffer ) ; <nl> - case 5 : return ( obj = = null | | obj instanceof Object [ ] [ ] ) ; <nl> - case 6 : return ( obj instanceof Mixed | | <nl> + case 0 : return obj instanceof Long | | obj instanceof Integer | | obj instanceof Short | | obj instanceof Byte ; <nl> + case 1 : return obj instanceof Boolean ; <nl> + case 2 : return obj instanceof String ; <nl> + case 4 : return obj instanceof byte [ ] | | obj instanceof ByteBuffer ; <nl> + case 5 : return obj = = null | | obj instanceof Object [ ] [ ] ; <nl> + case 6 : return obj instanceof Mixed | | <nl> obj instanceof Long | | obj instanceof Integer | | <nl> obj instanceof Short | | obj instanceof Byte | | obj instanceof Boolean | | <nl> obj instanceof Float | | obj instanceof Double | | <nl> obj instanceof String | | <nl> obj instanceof byte [ ] | | obj instanceof ByteBuffer | | <nl> obj = = null | | obj instanceof Object [ ] [ ] | | <nl> - obj instanceof java . util . Date ) ; <nl> - case 7 : return ( obj instanceof java . util . Date ) ; <nl> - case 9 : return ( obj instanceof Float ) ; <nl> - case 10 : return ( obj instanceof Double ) ; <nl> + obj instanceof java . util . Date ; <nl> + case 7 : return obj instanceof java . util . Date ; <nl> + case 9 : return obj instanceof Float ; <nl> + case 10 : return obj instanceof Double ; <nl> case 12 : return false ; <nl> case 13 : return false ; <nl> case 14 : return false ; <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / internal / CheckedRow . java b / realm / realm - library / src / main / java / io / realm / internal / CheckedRow . java <nl> index e01d9be . . d9e0e1b 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / internal / CheckedRow . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / internal / CheckedRow . java <nl> @ @ - 94 , 11 + 94 , 6 @ @ public class CheckedRow extends UncheckedRow { <nl> } <nl> <nl> @ Override <nl> - public boolean isNull ( long columnIndex ) { <nl> - return super . isNull ( columnIndex ) ; <nl> - } <nl> - <nl> - @ Override <nl> public void setNull ( long columnIndex ) { <nl> RealmFieldType columnType = getColumnType ( columnIndex ) ; <nl> if ( columnType = = RealmFieldType . STRING ) { <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / internal / Group . java b / realm / realm - library / src / main / java / io / realm / internal / Group . java <nl> index d329d53 . . 669c2b8 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / internal / Group . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / internal / Group . java <nl> @ @ - 56 , 7 + 56 , 7 @ @ public class Group implements Closeable { <nl> } <nl> <nl> public Group ( String filepath , int mode ) { <nl> - this . immutable = ( mode = = MODE _ READONLY ) ; <nl> + this . immutable = mode = = MODE _ READONLY ; <nl> this . context = new Context ( ) ; <nl> this . nativePtr = createNative ( filepath , mode ) ; <nl> checkNativePtrNotZero ( ) ; <nl> @ @ - 193 , 11 + 193 , 9 @ @ public class Group implements Closeable { <nl> if ( name = = null | | name . isEmpty ( ) ) { <nl> throw new IllegalArgumentException ( " Invalid name . Name must be a non - empty String . " ) ; <nl> } <nl> - if ( immutable ) { <nl> - if ( ! hasTable ( name ) ) { <nl> - throw new IllegalStateException ( " Requested table is not in this Realm . " + <nl> - " Creating it requires a transaction : " + name ) ; <nl> - } <nl> + if ( immutable & & ! hasTable ( name ) ) { <nl> + throw new IllegalStateException ( " Requested table is not in this Realm . " + <nl> + " Creating it requires a transaction : " + name ) ; <nl> } <nl> <nl> / / Execute the disposal of abandoned realm objects each time a new realm object is created <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / internal / Mixed . java b / realm / realm - library / src / main / java / io / realm / internal / Mixed . java <nl> index c90e4ea . . d6f2827 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / internal / Mixed . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / internal / Mixed . java <nl> @ @ - 54 , 22 + 54 , 22 @ @ public class Mixed { <nl> } <nl> <nl> public Mixed ( Date value ) { <nl> - assert ( value ! = null ) ; <nl> + assert value ! = null ; <nl> this . value = value ; <nl> } <nl> <nl> public Mixed ( String value ) { <nl> - assert ( value ! = null ) ; <nl> + assert value ! = null ; <nl> this . value = value ; <nl> } <nl> <nl> public Mixed ( ByteBuffer value ) { <nl> - assert ( value ! = null ) ; <nl> + assert value ! = null ; <nl> this . value = value ; <nl> } <nl> <nl> public Mixed ( byte [ ] value ) { <nl> - assert ( value ! = null ) ; <nl> + assert value ! = null ; <nl> this . value = value ; <nl> } <nl> <nl> @ @ - 121 , 7 + 121 , 7 @ @ public class Mixed { <nl> return RealmFieldType . DATE ; <nl> else if ( value instanceof Boolean ) <nl> return RealmFieldType . BOOLEAN ; <nl> - else if ( value instanceof ByteBuffer | | ( value instanceof byte [ ] ) ) { <nl> + else if ( value instanceof ByteBuffer | | value instanceof byte [ ] ) { <nl> return RealmFieldType . BINARY ; <nl> } <nl> <nl> @ @ - 246 , 9 + 246 , 10 @ @ public class Mixed { <nl> case UNSUPPORTED _ TABLE : <nl> return " Subtable " ; <nl> case UNSUPPORTED _ MIXED : <nl> - break ; / / error <nl> + return " ERROR " ; <nl> } <nl> } catch ( Exception e ) { <nl> + return " ERROR " ; <nl> } <nl> return " ERROR " ; <nl> } <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / internal / RealmCore . java b / realm / realm - library / src / main / java / io / realm / internal / RealmCore . java <nl> index 28907bd . . cdd443d 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / internal / RealmCore . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / internal / RealmCore . java <nl> @ @ - 57 , 7 + 57 , 7 @ @ public class RealmCore { <nl> public static boolean osIsWindows ( ) <nl> { <nl> String os = System . getProperty ( " os . name " ) . toLowerCase ( Locale . getDefault ( ) ) ; <nl> - return ( os . contains ( " win " ) ) ; <nl> + return os . contains ( " win " ) ; <nl> } <nl> <nl> public static byte [ ] serialize ( Serializable value ) { <nl> @ @ - 122 , 15 + 122 , 14 @ @ public class RealmCore { <nl> } <nl> <nl> private static String loadLibraryWindows ( ) { <nl> - / / / * <nl> try { <nl> addNativeLibraryPath ( BINARIES _ PATH ) ; <nl> resetLibraryPath ( ) ; <nl> - } <nl> - catch ( Throwable e ) { <nl> + } catch ( Throwable e ) { <nl> / / Above can ' t be used on Android . <nl> + System . out . println ( " Failed to add native library path \ n " ) ; <nl> } <nl> - / / * / <nl> + <nl> / / Load debug library first - if available <nl> String jnilib ; <nl> jnilib = loadCorrectLibrary ( " realm _ jni32d " , " realm _ jni64d " ) ; <nl> @ @ - 154 , 6 + 153 , 7 @ @ public class RealmCore { <nl> System . loadLibrary ( libraryCandidateName ) ; <nl> return libraryCandidateName ; <nl> } catch ( Throwable e ) { <nl> + System . out . println ( " Failed to load native library path \ n " ) ; <nl> } <nl> } <nl> return null ; <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / internal / Table . java b / realm / realm - library / src / main / java / io / realm / internal / Table . java <nl> index 9052cd9 . . d2f80bf 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / internal / Table . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / internal / Table . java <nl> @ @ - 119 , 7 + 119 , 7 @ @ public class Table implements TableOrView , TableSchema , Closeable { <nl> protected void finalize ( ) { <nl> synchronized ( context ) { <nl> if ( nativePtr ! = 0 ) { <nl> - boolean isRoot = ( parent = = null ) ; <nl> + boolean isRoot = parent = = null ; <nl> context . asyncDisposeTable ( nativePtr , isRoot ) ; <nl> nativePtr = 0 ; / / Set to 0 if finalize is called before close ( ) for some reason <nl> } <nl> @ @ - 1349 , 7 + 1349 , 7 @ @ public class Table implements TableOrView , TableSchema , Closeable { <nl> * Checks if a given table name is a meta - table , i . e . a table used by Realm to track its internal state . <nl> * / <nl> public static boolean isMetaTable ( String tableName ) { <nl> - return ( tableName . equals ( METADATA _ TABLE _ NAME ) | | tableName . equals ( PRIMARY _ KEY _ TABLE _ NAME ) ) ; <nl> + return tableName . equals ( METADATA _ TABLE _ NAME ) | | tableName . equals ( PRIMARY _ KEY _ TABLE _ NAME ) ; <nl> } <nl> <nl> / * * <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / internal / Version . java b / realm / realm - library / src / main / java / io / realm / internal / Version . java <nl> index 9464a48 . . 871fd5f 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / internal / Version . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / internal / Version . java <nl> @ @ - 61 , 7 + 61 , 7 @ @ public class Version { <nl> return false ; <nl> } <nl> <nl> - compatible = ( nativeGetAPIVersion ( ) = = REQUIRED _ JNI _ VERSION ) ; <nl> + compatible = nativeGetAPIVersion ( ) = = REQUIRED _ JNI _ VERSION ; <nl> if ( ! compatible ) { <nl> errTxt = " Native lib API is version " + nativeGetAPIVersion ( ) <nl> + " ! = " + REQUIRED _ JNI _ VERSION + " which is expected by the jar . " ; <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / internal / android / ISO8601Utils . java b / realm / realm - library / src / main / java / io / realm / internal / android / ISO8601Utils . java <nl> index 348ebda . . 9d7038d 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / internal / android / ISO8601Utils . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / internal / android / ISO8601Utils . java <nl> @ @ - 89 , 7 + 89 , 7 @ @ public class ISO8601Utils { <nl> / / if the value has no time component ( and no time zone ) , we are done <nl> boolean hasT = checkOffset ( date , offset , ' T ' ) ; <nl> <nl> - if ( ! hasT & & ( date . length ( ) < = offset ) ) { <nl> + if ( ! hasT & & date . length ( ) < = offset ) { <nl> Calendar calendar = new GregorianCalendar ( year , month - 1 , day ) ; <nl> <nl> pos . setIndex ( offset ) ; <nl> @ @ - 203 , 7 + 203 , 7 @ @ public class ISO8601Utils { <nl> } catch ( IllegalArgumentException e ) { <nl> fail = e ; <nl> } <nl> - String input = ( date = = null ) ? null : ( ' " ' + date + " ' " ) ; <nl> + String input = date = = null ? null : " ' " + date + " ' " ; <nl> String msg = fail . getMessage ( ) ; <nl> if ( msg = = null | | msg . isEmpty ( ) ) { <nl> msg = " ( " + fail . getClass ( ) . getName ( ) + " ) " ; <nl> @ @ - 223 , 7 + 223 , 7 @ @ public class ISO8601Utils { <nl> * @ return true if the expected character exist at the given offset <nl> * / <nl> private static boolean checkOffset ( String value , int offset , char expected ) { <nl> - return ( offset < value . length ( ) ) & & ( value . charAt ( offset ) = = expected ) ; <nl> + return offset < value . length ( ) & & value . charAt ( offset ) = = expected ; <nl> } <nl> <nl> / * * <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / internal / async / QueryUpdateTask . java b / realm / realm - library / src / main / java / io / realm / internal / async / QueryUpdateTask . java <nl> index 74dd709 . . a31c3cc 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / internal / async / QueryUpdateTask . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / internal / async / QueryUpdateTask . java <nl> @ @ - 140 , 7 + 140 , 7 @ @ public class QueryUpdateTask implements Runnable { <nl> queriesParameters [ i ] [ 2 ] = Table . INFINITE ; <nl> queriesParameters [ i ] [ 3 ] = Table . INFINITE ; <nl> queriesParameters [ i ] [ 4 ] = queryEntry . queryArguments . columnIndex ; <nl> - queriesParameters [ i ] [ 5 ] = ( queryEntry . queryArguments . sortOrder . getValue ( ) ) ? 1 : 0 ; <nl> + queriesParameters [ i ] [ 5 ] = queryEntry . queryArguments . sortOrder . getValue ( ) ? 1 : 0 ; <nl> break ; <nl> } <nl> case ArgumentsHolder . TYPE _ FIND _ ALL _ MULTI _ SORTED : <nl> diff - - git a / realm / realm - library / src / main / java / io / realm / rx / RealmObservableFactory . java b / realm / realm - library / src / main / java / io / realm / rx / RealmObservableFactory . java <nl> index 77fc789 . . be4c7fa 100644 <nl> - - - a / realm / realm - library / src / main / java / io / realm / rx / RealmObservableFactory . java <nl> + + + b / realm / realm - library / src / main / java / io / realm / rx / RealmObservableFactory . java <nl> @ @ - 222 , 4 + 222 , 9 @ @ public class RealmObservableFactory implements RxObservableFactory { <nl> return o instanceof RealmObservableFactory ; <nl> } <nl> <nl> + @ Override <nl> + public int hashCode ( ) { <nl> + return 37 ; <nl> + } <nl> + <nl> }

TEST DIFF:
diff - - git a / realm / realm - library / build . gradle b / realm / realm - library / build . gradle 
 index 6532295 . . a787458 100644 
 - - - a / realm / realm - library / build . gradle 
 + + + b / realm / realm - library / build . gradle 
 @ @ - 5 , 7 + 5 , 6 @ @ apply plugin : ' maven - publish ' 
 apply plugin : ' com . github . dcendents . android - maven ' 
 apply plugin : ' maven ' 
 apply plugin : ' findbugs ' 
 - apply plugin : ' pmd ' 
 apply plugin : ' checkstyle ' 
 
 android { 
 @ @ - 63 , 8 + 62 , 8 @ @ task javadocJar ( type : Jar , dependsOn : javadoc ) { 
 preBuild . dependsOn ' : realm - jni : buildAndroidJni ' 
 
 task findbugs ( type : FindBugs ) { 
 - dependsOn assembleDebug 
 - group = ' Verification ' 
 + dependsOn assemble 
 + group = ' Test ' 
 
 ignoreFailures = false 
 effort = " default " 
 @ @ - 85 , 23 + 84 , 8 @ @ task findbugs ( type : FindBugs ) { 
 } 
 } 
 
 - task pmd ( type : Pmd ) { 
 - description ' Run pmd ' 
 - group ' verification ' 
 - 
 - dependsOn assembleDebug 
 - 
 - ruleSets = [ " java - basic " ] 
 - source = fileTree ( ' src / main / java ' ) 
 - 
 - reports { 
 - xml . enabled = false 
 - html . enabled = true 
 - } 
 - } 
 - 
 task checkstyle ( type : Checkstyle ) { 
 - group = ' Verification ' 
 + group = ' Test ' 
 
 source ' src ' 
 include ' * * / * . java ' 
 diff - - git a / realm / realm - library / src / main / java / io / realm / BaseRealm . java b / realm / realm - library / src / main / java / io / realm / BaseRealm . java 
 index 9047e47 . . cbc2a6d 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / BaseRealm . java 
 + + + b / realm / realm - library / src / main / java / io / realm / BaseRealm . java 
 @ @ - 315 , 10 + 315 , 11 @ @ abstract class BaseRealm implements Closeable { 
 realmPath . equals ( configuration . getPath ( ) ) / / It ' s the right realm 
 & & ! handler . hasMessages ( HandlerController . REALM _ CHANGED ) / / The right message 
 & & handler . getLooper ( ) . getThread ( ) . isAlive ( ) / / The receiving thread is alive 
 - & & ! handler . sendEmptyMessage ( HandlerController . REALM _ CHANGED ) ) { 
 - RealmLog . w ( " Cannot update Looper threads when the Looper has quit . Use realm . setAutoRefresh ( false ) " + 
 - " to prevent this . " ) ; 
 - 
 + ) { 
 + if ( ! handler . sendEmptyMessage ( HandlerController . REALM _ CHANGED ) ) { 
 + RealmLog . w ( " Cannot update Looper threads when the Looper has quit . Use realm . setAutoRefresh ( false ) " + 
 + " to prevent this . " ) ; 
 + } 
 } 
 } 
 } 
 diff - - git a / realm / realm - library / src / main / java / io / realm / DynamicRealmObject . java b / realm / realm - library / src / main / java / io / realm / DynamicRealmObject . java 
 index c7eeaab . . 427f479 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / DynamicRealmObject . java 
 + + + b / realm / realm - library / src / main / java / io / realm / DynamicRealmObject . java 
 @ @ - 62 , 7 + 62 , 7 @ @ public final class DynamicRealmObject extends RealmObject { 
 
 DynamicRealmObject ( BaseRealm realm , Row row ) { 
 this . realm = realm ; 
 - this . row = row instanceof CheckedRow ? ( CheckedRow ) row : ( ( UncheckedRow ) row ) . convertToChecked ( ) ; 
 + this . row = ( row instanceof CheckedRow ) ? ( CheckedRow ) row : ( ( UncheckedRow ) row ) . convertToChecked ( ) ; 
 } 
 
 DynamicRealmObject ( String className ) { 
 @ @ - 342 , 7 + 342 , 7 @ @ public final class DynamicRealmObject extends RealmObject { 
 * / 
 @ SuppressWarnings ( " unchecked " ) 
 public void set ( String fieldName , Object value ) { 
 - boolean isString = value instanceof String ; 
 + boolean isString = ( value instanceof String ) ; 
 String strValue = isString ? ( String ) value : null ; 
 
 / / Do implicit conversion if needed 
 diff - - git a / realm / realm - library / src / main / java / io / realm / RealmBaseAdapter . java b / realm / realm - library / src / main / java / io / realm / RealmBaseAdapter . java 
 index d119d60 . . 0d579c8 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / RealmBaseAdapter . java 
 + + + b / realm / realm - library / src / main / java / io / realm / RealmBaseAdapter . java 
 @ @ - 45 , 7 + 45 , 7 @ @ public abstract class RealmBaseAdapter < T extends RealmObject > extends BaseAdapte 
 this . context = context ; 
 this . realmResults = realmResults ; 
 this . inflater = LayoutInflater . from ( context ) ; 
 - this . listener = ! automaticUpdate ? null : new RealmChangeListener ( ) { 
 + this . listener = ( ! automaticUpdate ) ? null : new RealmChangeListener ( ) { 
 @ Override 
 public void onChange ( ) { 
 notifyDataSetChanged ( ) ; 
 diff - - git a / realm / realm - library / src / main / java / io / realm / RealmFieldType . java b / realm / realm - library / src / main / java / io / realm / RealmFieldType . java 
 index 008c290 . . b5b4df2 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / RealmFieldType . java 
 + + + b / realm / realm - library / src / main / java / io / realm / RealmFieldType . java 
 @ @ - 76 , 22 + 76 , 22 @ @ public enum RealmFieldType { 
 * / 
 public boolean isValid ( Object obj ) { 
 switch ( nativeValue ) { 
 - case 0 : return obj instanceof Long | | obj instanceof Integer | | obj instanceof Short | | obj instanceof Byte ; 
 - case 1 : return obj instanceof Boolean ; 
 - case 2 : return obj instanceof String ; 
 - case 4 : return obj instanceof byte [ ] | | obj instanceof ByteBuffer ; 
 - case 5 : return obj = = null | | obj instanceof Object [ ] [ ] ; 
 - case 6 : return obj instanceof Mixed | | 
 + case 0 : return ( obj instanceof Long | | obj instanceof Integer | | obj instanceof Short | | obj instanceof Byte ) ; 
 + case 1 : return ( obj instanceof Boolean ) ; 
 + case 2 : return ( obj instanceof String ) ; 
 + case 4 : return ( obj instanceof byte [ ] | | obj instanceof ByteBuffer ) ; 
 + case 5 : return ( obj = = null | | obj instanceof Object [ ] [ ] ) ; 
 + case 6 : return ( obj instanceof Mixed | | 
 obj instanceof Long | | obj instanceof Integer | | 
 obj instanceof Short | | obj instanceof Byte | | obj instanceof Boolean | | 
 obj instanceof Float | | obj instanceof Double | | 
 obj instanceof String | | 
 obj instanceof byte [ ] | | obj instanceof ByteBuffer | | 
 obj = = null | | obj instanceof Object [ ] [ ] | | 
 - obj instanceof java . util . Date ; 
 - case 7 : return obj instanceof java . util . Date ; 
 - case 9 : return obj instanceof Float ; 
 - case 10 : return obj instanceof Double ; 
 + obj instanceof java . util . Date ) ; 
 + case 7 : return ( obj instanceof java . util . Date ) ; 
 + case 9 : return ( obj instanceof Float ) ; 
 + case 10 : return ( obj instanceof Double ) ; 
 case 12 : return false ; 
 case 13 : return false ; 
 case 14 : return false ; 
 diff - - git a / realm / realm - library / src / main / java / io / realm / internal / CheckedRow . java b / realm / realm - library / src / main / java / io / realm / internal / CheckedRow . java 
 index d9e0e1b . . e01d9be 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / internal / CheckedRow . java 
 + + + b / realm / realm - library / src / main / java / io / realm / internal / CheckedRow . java 
 @ @ - 94 , 6 + 94 , 11 @ @ public class CheckedRow extends UncheckedRow { 
 } 
 
 @ Override 
 + public boolean isNull ( long columnIndex ) { 
 + return super . isNull ( columnIndex ) ; 
 + } 
 + 
 + @ Override 
 public void setNull ( long columnIndex ) { 
 RealmFieldType columnType = getColumnType ( columnIndex ) ; 
 if ( columnType = = RealmFieldType . STRING ) { 
 diff - - git a / realm / realm - library / src / main / java / io / realm / internal / Group . java b / realm / realm - library / src / main / java / io / realm / internal / Group . java 
 index 669c2b8 . . d329d53 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / internal / Group . java 
 + + + b / realm / realm - library / src / main / java / io / realm / internal / Group . java 
 @ @ - 56 , 7 + 56 , 7 @ @ public class Group implements Closeable { 
 } 
 
 public Group ( String filepath , int mode ) { 
 - this . immutable = mode = = MODE _ READONLY ; 
 + this . immutable = ( mode = = MODE _ READONLY ) ; 
 this . context = new Context ( ) ; 
 this . nativePtr = createNative ( filepath , mode ) ; 
 checkNativePtrNotZero ( ) ; 
 @ @ - 193 , 9 + 193 , 11 @ @ public class Group implements Closeable { 
 if ( name = = null | | name . isEmpty ( ) ) { 
 throw new IllegalArgumentException ( " Invalid name . Name must be a non - empty String . " ) ; 
 } 
 - if ( immutable & & ! hasTable ( name ) ) { 
 - throw new IllegalStateException ( " Requested table is not in this Realm . " + 
 - " Creating it requires a transaction : " + name ) ; 
 + if ( immutable ) { 
 + if ( ! hasTable ( name ) ) { 
 + throw new IllegalStateException ( " Requested table is not in this Realm . " + 
 + " Creating it requires a transaction : " + name ) ; 
 + } 
 } 
 
 / / Execute the disposal of abandoned realm objects each time a new realm object is created 
 diff - - git a / realm / realm - library / src / main / java / io / realm / internal / Mixed . java b / realm / realm - library / src / main / java / io / realm / internal / Mixed . java 
 index d6f2827 . . c90e4ea 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / internal / Mixed . java 
 + + + b / realm / realm - library / src / main / java / io / realm / internal / Mixed . java 
 @ @ - 54 , 22 + 54 , 22 @ @ public class Mixed { 
 } 
 
 public Mixed ( Date value ) { 
 - assert value ! = null ; 
 + assert ( value ! = null ) ; 
 this . value = value ; 
 } 
 
 public Mixed ( String value ) { 
 - assert value ! = null ; 
 + assert ( value ! = null ) ; 
 this . value = value ; 
 } 
 
 public Mixed ( ByteBuffer value ) { 
 - assert value ! = null ; 
 + assert ( value ! = null ) ; 
 this . value = value ; 
 } 
 
 public Mixed ( byte [ ] value ) { 
 - assert value ! = null ; 
 + assert ( value ! = null ) ; 
 this . value = value ; 
 } 
 
 @ @ - 121 , 7 + 121 , 7 @ @ public class Mixed { 
 return RealmFieldType . DATE ; 
 else if ( value instanceof Boolean ) 
 return RealmFieldType . BOOLEAN ; 
 - else if ( value instanceof ByteBuffer | | value instanceof byte [ ] ) { 
 + else if ( value instanceof ByteBuffer | | ( value instanceof byte [ ] ) ) { 
 return RealmFieldType . BINARY ; 
 } 
 
 @ @ - 246 , 10 + 246 , 9 @ @ public class Mixed { 
 case UNSUPPORTED _ TABLE : 
 return " Subtable " ; 
 case UNSUPPORTED _ MIXED : 
 - return " ERROR " ; 
 + break ; / / error 
 } 
 } catch ( Exception e ) { 
 - return " ERROR " ; 
 } 
 return " ERROR " ; 
 } 
 diff - - git a / realm / realm - library / src / main / java / io / realm / internal / RealmCore . java b / realm / realm - library / src / main / java / io / realm / internal / RealmCore . java 
 index cdd443d . . 28907bd 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / internal / RealmCore . java 
 + + + b / realm / realm - library / src / main / java / io / realm / internal / RealmCore . java 
 @ @ - 57 , 7 + 57 , 7 @ @ public class RealmCore { 
 public static boolean osIsWindows ( ) 
 { 
 String os = System . getProperty ( " os . name " ) . toLowerCase ( Locale . getDefault ( ) ) ; 
 - return os . contains ( " win " ) ; 
 + return ( os . contains ( " win " ) ) ; 
 } 
 
 public static byte [ ] serialize ( Serializable value ) { 
 @ @ - 122 , 14 + 122 , 15 @ @ public class RealmCore { 
 } 
 
 private static String loadLibraryWindows ( ) { 
 + / / / * 
 try { 
 addNativeLibraryPath ( BINARIES _ PATH ) ; 
 resetLibraryPath ( ) ; 
 - } catch ( Throwable e ) { 
 + } 
 + catch ( Throwable e ) { 
 / / Above can ' t be used on Android . 
 - System . out . println ( " Failed to add native library path \ n " ) ; 
 } 
 - 
 + / / * / 
 / / Load debug library first - if available 
 String jnilib ; 
 jnilib = loadCorrectLibrary ( " realm _ jni32d " , " realm _ jni64d " ) ; 
 @ @ - 153 , 7 + 154 , 6 @ @ public class RealmCore { 
 System . loadLibrary ( libraryCandidateName ) ; 
 return libraryCandidateName ; 
 } catch ( Throwable e ) { 
 - System . out . println ( " Failed to load native library path \ n " ) ; 
 } 
 } 
 return null ; 
 diff - - git a / realm / realm - library / src / main / java / io / realm / internal / Table . java b / realm / realm - library / src / main / java / io / realm / internal / Table . java 
 index d2f80bf . . 9052cd9 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / internal / Table . java 
 + + + b / realm / realm - library / src / main / java / io / realm / internal / Table . java 
 @ @ - 119 , 7 + 119 , 7 @ @ public class Table implements TableOrView , TableSchema , Closeable { 
 protected void finalize ( ) { 
 synchronized ( context ) { 
 if ( nativePtr ! = 0 ) { 
 - boolean isRoot = parent = = null ; 
 + boolean isRoot = ( parent = = null ) ; 
 context . asyncDisposeTable ( nativePtr , isRoot ) ; 
 nativePtr = 0 ; / / Set to 0 if finalize is called before close ( ) for some reason 
 } 
 @ @ - 1349 , 7 + 1349 , 7 @ @ public class Table implements TableOrView , TableSchema , Closeable { 
 * Checks if a given table name is a meta - table , i . e . a table used by Realm to track its internal state . 
 * / 
 public static boolean isMetaTable ( String tableName ) { 
 - return tableName . equals ( METADATA _ TABLE _ NAME ) | | tableName . equals ( PRIMARY _ KEY _ TABLE _ NAME ) ; 
 + return ( tableName . equals ( METADATA _ TABLE _ NAME ) | | tableName . equals ( PRIMARY _ KEY _ TABLE _ NAME ) ) ; 
 } 
 
 / * * 
 diff - - git a / realm / realm - library / src / main / java / io / realm / internal / Version . java b / realm / realm - library / src / main / java / io / realm / internal / Version . java 
 index 871fd5f . . 9464a48 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / internal / Version . java 
 + + + b / realm / realm - library / src / main / java / io / realm / internal / Version . java 
 @ @ - 61 , 7 + 61 , 7 @ @ public class Version { 
 return false ; 
 } 
 
 - compatible = nativeGetAPIVersion ( ) = = REQUIRED _ JNI _ VERSION ; 
 + compatible = ( nativeGetAPIVersion ( ) = = REQUIRED _ JNI _ VERSION ) ; 
 if ( ! compatible ) { 
 errTxt = " Native lib API is version " + nativeGetAPIVersion ( ) 
 + " ! = " + REQUIRED _ JNI _ VERSION + " which is expected by the jar . " ; 
 diff - - git a / realm / realm - library / src / main / java / io / realm / internal / android / ISO8601Utils . java b / realm / realm - library / src / main / java / io / realm / internal / android / ISO8601Utils . java 
 index 9d7038d . . 348ebda 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / internal / android / ISO8601Utils . java 
 + + + b / realm / realm - library / src / main / java / io / realm / internal / android / ISO8601Utils . java 
 @ @ - 89 , 7 + 89 , 7 @ @ public class ISO8601Utils { 
 / / if the value has no time component ( and no time zone ) , we are done 
 boolean hasT = checkOffset ( date , offset , ' T ' ) ; 
 
 - if ( ! hasT & & date . length ( ) < = offset ) { 
 + if ( ! hasT & & ( date . length ( ) < = offset ) ) { 
 Calendar calendar = new GregorianCalendar ( year , month - 1 , day ) ; 
 
 pos . setIndex ( offset ) ; 
 @ @ - 203 , 7 + 203 , 7 @ @ public class ISO8601Utils { 
 } catch ( IllegalArgumentException e ) { 
 fail = e ; 
 } 
 - String input = date = = null ? null : " ' " + date + " ' " ; 
 + String input = ( date = = null ) ? null : ( ' " ' + date + " ' " ) ; 
 String msg = fail . getMessage ( ) ; 
 if ( msg = = null | | msg . isEmpty ( ) ) { 
 msg = " ( " + fail . getClass ( ) . getName ( ) + " ) " ; 
 @ @ - 223 , 7 + 223 , 7 @ @ public class ISO8601Utils { 
 * @ return true if the expected character exist at the given offset 
 * / 
 private static boolean checkOffset ( String value , int offset , char expected ) { 
 - return offset < value . length ( ) & & value . charAt ( offset ) = = expected ; 
 + return ( offset < value . length ( ) ) & & ( value . charAt ( offset ) = = expected ) ; 
 } 
 
 / * * 
 diff - - git a / realm / realm - library / src / main / java / io / realm / internal / async / QueryUpdateTask . java b / realm / realm - library / src / main / java / io / realm / internal / async / QueryUpdateTask . java 
 index a31c3cc . . 74dd709 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / internal / async / QueryUpdateTask . java 
 + + + b / realm / realm - library / src / main / java / io / realm / internal / async / QueryUpdateTask . java 
 @ @ - 140 , 7 + 140 , 7 @ @ public class QueryUpdateTask implements Runnable { 
 queriesParameters [ i ] [ 2 ] = Table . INFINITE ; 
 queriesParameters [ i ] [ 3 ] = Table . INFINITE ; 
 queriesParameters [ i ] [ 4 ] = queryEntry . queryArguments . columnIndex ; 
 - queriesParameters [ i ] [ 5 ] = queryEntry . queryArguments . sortOrder . getValue ( ) ? 1 : 0 ; 
 + queriesParameters [ i ] [ 5 ] = ( queryEntry . queryArguments . sortOrder . getValue ( ) ) ? 1 : 0 ; 
 break ; 
 } 
 case ArgumentsHolder . TYPE _ FIND _ ALL _ MULTI _ SORTED : 
 diff - - git a / realm / realm - library / src / main / java / io / realm / rx / RealmObservableFactory . java b / realm / realm - library / src / main / java / io / realm / rx / RealmObservableFactory . java 
 index be4c7fa . . 77fc789 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / rx / RealmObservableFactory . java 
 + + + b / realm / realm - library / src / main / java / io / realm / rx / RealmObservableFactory . java 
 @ @ - 222 , 9 + 222 , 4 @ @ public class RealmObservableFactory implements RxObservableFactory { 
 return o instanceof RealmObservableFactory ; 
 } 
 
 - @ Override 
 - public int hashCode ( ) { 
 - return 37 ; 
 - } 
 - 
 }

NEAREST DIFF:
diff - - git a / realm / realm - library / build . gradle b / realm / realm - library / build . gradle 
 index a787458 . . 6532295 100644 
 - - - a / realm / realm - library / build . gradle 
 + + + b / realm / realm - library / build . gradle 
 @ @ - 5 , 6 + 5 , 7 @ @ apply plugin : ' maven - publish ' 
 apply plugin : ' com . github . dcendents . android - maven ' 
 apply plugin : ' maven ' 
 apply plugin : ' findbugs ' 
 + apply plugin : ' pmd ' 
 apply plugin : ' checkstyle ' 
 
 android { 
 @ @ - 62 , 8 + 63 , 8 @ @ task javadocJar ( type : Jar , dependsOn : javadoc ) { 
 preBuild . dependsOn ' : realm - jni : buildAndroidJni ' 
 
 task findbugs ( type : FindBugs ) { 
 - dependsOn assemble 
 - group = ' Test ' 
 + dependsOn assembleDebug 
 + group = ' Verification ' 
 
 ignoreFailures = false 
 effort = " default " 
 @ @ - 84 , 8 + 85 , 23 @ @ task findbugs ( type : FindBugs ) { 
 } 
 } 
 
 + task pmd ( type : Pmd ) { 
 + description ' Run pmd ' 
 + group ' verification ' 
 + 
 + dependsOn assembleDebug 
 + 
 + ruleSets = [ " java - basic " ] 
 + source = fileTree ( ' src / main / java ' ) 
 + 
 + reports { 
 + xml . enabled = false 
 + html . enabled = true 
 + } 
 + } 
 + 
 task checkstyle ( type : Checkstyle ) { 
 - group = ' Test ' 
 + group = ' Verification ' 
 
 source ' src ' 
 include ' * * / * . java ' 
 diff - - git a / realm / realm - library / src / main / java / io / realm / BaseRealm . java b / realm / realm - library / src / main / java / io / realm / BaseRealm . java 
 index cbc2a6d . . 9047e47 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / BaseRealm . java 
 + + + b / realm / realm - library / src / main / java / io / realm / BaseRealm . java 
 @ @ - 315 , 11 + 315 , 10 @ @ abstract class BaseRealm implements Closeable { 
 realmPath . equals ( configuration . getPath ( ) ) / / It ' s the right realm 
 & & ! handler . hasMessages ( HandlerController . REALM _ CHANGED ) / / The right message 
 & & handler . getLooper ( ) . getThread ( ) . isAlive ( ) / / The receiving thread is alive 
 - ) { 
 - if ( ! handler . sendEmptyMessage ( HandlerController . REALM _ CHANGED ) ) { 
 - RealmLog . w ( " Cannot update Looper threads when the Looper has quit . Use realm . setAutoRefresh ( false ) " + 
 - " to prevent this . " ) ; 
 - } 
 + & & ! handler . sendEmptyMessage ( HandlerController . REALM _ CHANGED ) ) { 
 + RealmLog . w ( " Cannot update Looper threads when the Looper has quit . Use realm . setAutoRefresh ( false ) " + 
 + " to prevent this . " ) ; 
 + 
 } 
 } 
 } 
 diff - - git a / realm / realm - library / src / main / java / io / realm / DynamicRealmObject . java b / realm / realm - library / src / main / java / io / realm / DynamicRealmObject . java 
 index 427f479 . . c7eeaab 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / DynamicRealmObject . java 
 + + + b / realm / realm - library / src / main / java / io / realm / DynamicRealmObject . java 
 @ @ - 62 , 7 + 62 , 7 @ @ public final class DynamicRealmObject extends RealmObject { 
 
 DynamicRealmObject ( BaseRealm realm , Row row ) { 
 this . realm = realm ; 
 - this . row = ( row instanceof CheckedRow ) ? ( CheckedRow ) row : ( ( UncheckedRow ) row ) . convertToChecked ( ) ; 
 + this . row = row instanceof CheckedRow ? ( CheckedRow ) row : ( ( UncheckedRow ) row ) . convertToChecked ( ) ; 
 } 
 
 DynamicRealmObject ( String className ) { 
 @ @ - 342 , 7 + 342 , 7 @ @ public final class DynamicRealmObject extends RealmObject { 
 * / 
 @ SuppressWarnings ( " unchecked " ) 
 public void set ( String fieldName , Object value ) { 
 - boolean isString = ( value instanceof String ) ; 
 + boolean isString = value instanceof String ; 
 String strValue = isString ? ( String ) value : null ; 
 
 / / Do implicit conversion if needed 
 diff - - git a / realm / realm - library / src / main / java / io / realm / RealmBaseAdapter . java b / realm / realm - library / src / main / java / io / realm / RealmBaseAdapter . java 
 index 0d579c8 . . d119d60 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / RealmBaseAdapter . java 
 + + + b / realm / realm - library / src / main / java / io / realm / RealmBaseAdapter . java 
 @ @ - 45 , 7 + 45 , 7 @ @ public abstract class RealmBaseAdapter < T extends RealmObject > extends BaseAdapte 
 this . context = context ; 
 this . realmResults = realmResults ; 
 this . inflater = LayoutInflater . from ( context ) ; 
 - this . listener = ( ! automaticUpdate ) ? null : new RealmChangeListener ( ) { 
 + this . listener = ! automaticUpdate ? null : new RealmChangeListener ( ) { 
 @ Override 
 public void onChange ( ) { 
 notifyDataSetChanged ( ) ; 
 diff - - git a / realm / realm - library / src / main / java / io / realm / RealmFieldType . java b / realm / realm - library / src / main / java / io / realm / RealmFieldType . java 
 index b5b4df2 . . 008c290 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / RealmFieldType . java 
 + + + b / realm / realm - library / src / main / java / io / realm / RealmFieldType . java 
 @ @ - 76 , 22 + 76 , 22 @ @ public enum RealmFieldType { 
 * / 
 public boolean isValid ( Object obj ) { 
 switch ( nativeValue ) { 
 - case 0 : return ( obj instanceof Long | | obj instanceof Integer | | obj instanceof Short | | obj instanceof Byte ) ; 
 - case 1 : return ( obj instanceof Boolean ) ; 
 - case 2 : return ( obj instanceof String ) ; 
 - case 4 : return ( obj instanceof byte [ ] | | obj instanceof ByteBuffer ) ; 
 - case 5 : return ( obj = = null | | obj instanceof Object [ ] [ ] ) ; 
 - case 6 : return ( obj instanceof Mixed | | 
 + case 0 : return obj instanceof Long | | obj instanceof Integer | | obj instanceof Short | | obj instanceof Byte ; 
 + case 1 : return obj instanceof Boolean ; 
 + case 2 : return obj instanceof String ; 
 + case 4 : return obj instanceof byte [ ] | | obj instanceof ByteBuffer ; 
 + case 5 : return obj = = null | | obj instanceof Object [ ] [ ] ; 
 + case 6 : return obj instanceof Mixed | | 
 obj instanceof Long | | obj instanceof Integer | | 
 obj instanceof Short | | obj instanceof Byte | | obj instanceof Boolean | | 
 obj instanceof Float | | obj instanceof Double | | 
 obj instanceof String | | 
 obj instanceof byte [ ] | | obj instanceof ByteBuffer | | 
 obj = = null | | obj instanceof Object [ ] [ ] | | 
 - obj instanceof java . util . Date ) ; 
 - case 7 : return ( obj instanceof java . util . Date ) ; 
 - case 9 : return ( obj instanceof Float ) ; 
 - case 10 : return ( obj instanceof Double ) ; 
 + obj instanceof java . util . Date ; 
 + case 7 : return obj instanceof java . util . Date ; 
 + case 9 : return obj instanceof Float ; 
 + case 10 : return obj instanceof Double ; 
 case 12 : return false ; 
 case 13 : return false ; 
 case 14 : return false ; 
 diff - - git a / realm / realm - library / src / main / java / io / realm / internal / CheckedRow . java b / realm / realm - library / src / main / java / io / realm / internal / CheckedRow . java 
 index e01d9be . . d9e0e1b 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / internal / CheckedRow . java 
 + + + b / realm / realm - library / src / main / java / io / realm / internal / CheckedRow . java 
 @ @ - 94 , 11 + 94 , 6 @ @ public class CheckedRow extends UncheckedRow { 
 } 
 
 @ Override 
 - public boolean isNull ( long columnIndex ) { 
 - return super . isNull ( columnIndex ) ; 
 - } 
 - 
 - @ Override 
 public void setNull ( long columnIndex ) { 
 RealmFieldType columnType = getColumnType ( columnIndex ) ; 
 if ( columnType = = RealmFieldType . STRING ) { 
 diff - - git a / realm / realm - library / src / main / java / io / realm / internal / Group . java b / realm / realm - library / src / main / java / io / realm / internal / Group . java 
 index d329d53 . . 669c2b8 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / internal / Group . java 
 + + + b / realm / realm - library / src / main / java / io / realm / internal / Group . java 
 @ @ - 56 , 7 + 56 , 7 @ @ public class Group implements Closeable { 
 } 
 
 public Group ( String filepath , int mode ) { 
 - this . immutable = ( mode = = MODE _ READONLY ) ; 
 + this . immutable = mode = = MODE _ READONLY ; 
 this . context = new Context ( ) ; 
 this . nativePtr = createNative ( filepath , mode ) ; 
 checkNativePtrNotZero ( ) ; 
 @ @ - 193 , 11 + 193 , 9 @ @ public class Group implements Closeable { 
 if ( name = = null | | name . isEmpty ( ) ) { 
 throw new IllegalArgumentException ( " Invalid name . Name must be a non - empty String . " ) ; 
 } 
 - if ( immutable ) { 
 - if ( ! hasTable ( name ) ) { 
 - throw new IllegalStateException ( " Requested table is not in this Realm . " + 
 - " Creating it requires a transaction : " + name ) ; 
 - } 
 + if ( immutable & & ! hasTable ( name ) ) { 
 + throw new IllegalStateException ( " Requested table is not in this Realm . " + 
 + " Creating it requires a transaction : " + name ) ; 
 } 
 
 / / Execute the disposal of abandoned realm objects each time a new realm object is created 
 diff - - git a / realm / realm - library / src / main / java / io / realm / internal / Mixed . java b / realm / realm - library / src / main / java / io / realm / internal / Mixed . java 
 index c90e4ea . . d6f2827 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / internal / Mixed . java 
 + + + b / realm / realm - library / src / main / java / io / realm / internal / Mixed . java 
 @ @ - 54 , 22 + 54 , 22 @ @ public class Mixed { 
 } 
 
 public Mixed ( Date value ) { 
 - assert ( value ! = null ) ; 
 + assert value ! = null ; 
 this . value = value ; 
 } 
 
 public Mixed ( String value ) { 
 - assert ( value ! = null ) ; 
 + assert value ! = null ; 
 this . value = value ; 
 } 
 
 public Mixed ( ByteBuffer value ) { 
 - assert ( value ! = null ) ; 
 + assert value ! = null ; 
 this . value = value ; 
 } 
 
 public Mixed ( byte [ ] value ) { 
 - assert ( value ! = null ) ; 
 + assert value ! = null ; 
 this . value = value ; 
 } 
 
 @ @ - 121 , 7 + 121 , 7 @ @ public class Mixed { 
 return RealmFieldType . DATE ; 
 else if ( value instanceof Boolean ) 
 return RealmFieldType . BOOLEAN ; 
 - else if ( value instanceof ByteBuffer | | ( value instanceof byte [ ] ) ) { 
 + else if ( value instanceof ByteBuffer | | value instanceof byte [ ] ) { 
 return RealmFieldType . BINARY ; 
 } 
 
 @ @ - 246 , 9 + 246 , 10 @ @ public class Mixed { 
 case UNSUPPORTED _ TABLE : 
 return " Subtable " ; 
 case UNSUPPORTED _ MIXED : 
 - break ; / / error 
 + return " ERROR " ; 
 } 
 } catch ( Exception e ) { 
 + return " ERROR " ; 
 } 
 return " ERROR " ; 
 } 
 diff - - git a / realm / realm - library / src / main / java / io / realm / internal / RealmCore . java b / realm / realm - library / src / main / java / io / realm / internal / RealmCore . java 
 index 28907bd . . cdd443d 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / internal / RealmCore . java 
 + + + b / realm / realm - library / src / main / java / io / realm / internal / RealmCore . java 
 @ @ - 57 , 7 + 57 , 7 @ @ public class RealmCore { 
 public static boolean osIsWindows ( ) 
 { 
 String os = System . getProperty ( " os . name " ) . toLowerCase ( Locale . getDefault ( ) ) ; 
 - return ( os . contains ( " win " ) ) ; 
 + return os . contains ( " win " ) ; 
 } 
 
 public static byte [ ] serialize ( Serializable value ) { 
 @ @ - 122 , 15 + 122 , 14 @ @ public class RealmCore { 
 } 
 
 private static String loadLibraryWindows ( ) { 
 - / / / * 
 try { 
 addNativeLibraryPath ( BINARIES _ PATH ) ; 
 resetLibraryPath ( ) ; 
 - } 
 - catch ( Throwable e ) { 
 + } catch ( Throwable e ) { 
 / / Above can ' t be used on Android . 
 + System . out . println ( " Failed to add native library path \ n " ) ; 
 } 
 - / / * / 
 + 
 / / Load debug library first - if available 
 String jnilib ; 
 jnilib = loadCorrectLibrary ( " realm _ jni32d " , " realm _ jni64d " ) ; 
 @ @ - 154 , 6 + 153 , 7 @ @ public class RealmCore { 
 System . loadLibrary ( libraryCandidateName ) ; 
 return libraryCandidateName ; 
 } catch ( Throwable e ) { 
 + System . out . println ( " Failed to load native library path \ n " ) ; 
 } 
 } 
 return null ; 
 diff - - git a / realm / realm - library / src / main / java / io / realm / internal / Table . java b / realm / realm - library / src / main / java / io / realm / internal / Table . java 
 index 9052cd9 . . d2f80bf 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / internal / Table . java 
 + + + b / realm / realm - library / src / main / java / io / realm / internal / Table . java 
 @ @ - 119 , 7 + 119 , 7 @ @ public class Table implements TableOrView , TableSchema , Closeable { 
 protected void finalize ( ) { 
 synchronized ( context ) { 
 if ( nativePtr ! = 0 ) { 
 - boolean isRoot = ( parent = = null ) ; 
 + boolean isRoot = parent = = null ; 
 context . asyncDisposeTable ( nativePtr , isRoot ) ; 
 nativePtr = 0 ; / / Set to 0 if finalize is called before close ( ) for some reason 
 } 
 @ @ - 1349 , 7 + 1349 , 7 @ @ public class Table implements TableOrView , TableSchema , Closeable { 
 * Checks if a given table name is a meta - table , i . e . a table used by Realm to track its internal state . 
 * / 
 public static boolean isMetaTable ( String tableName ) { 
 - return ( tableName . equals ( METADATA _ TABLE _ NAME ) | | tableName . equals ( PRIMARY _ KEY _ TABLE _ NAME ) ) ; 
 + return tableName . equals ( METADATA _ TABLE _ NAME ) | | tableName . equals ( PRIMARY _ KEY _ TABLE _ NAME ) ; 
 } 
 
 / * * 
 diff - - git a / realm / realm - library / src / main / java / io / realm / internal / Version . java b / realm / realm - library / src / main / java / io / realm / internal / Version . java 
 index 9464a48 . . 871fd5f 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / internal / Version . java 
 + + + b / realm / realm - library / src / main / java / io / realm / internal / Version . java 
 @ @ - 61 , 7 + 61 , 7 @ @ public class Version { 
 return false ; 
 } 
 
 - compatible = ( nativeGetAPIVersion ( ) = = REQUIRED _ JNI _ VERSION ) ; 
 + compatible = nativeGetAPIVersion ( ) = = REQUIRED _ JNI _ VERSION ; 
 if ( ! compatible ) { 
 errTxt = " Native lib API is version " + nativeGetAPIVersion ( ) 
 + " ! = " + REQUIRED _ JNI _ VERSION + " which is expected by the jar . " ; 
 diff - - git a / realm / realm - library / src / main / java / io / realm / internal / android / ISO8601Utils . java b / realm / realm - library / src / main / java / io / realm / internal / android / ISO8601Utils . java 
 index 348ebda . . 9d7038d 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / internal / android / ISO8601Utils . java 
 + + + b / realm / realm - library / src / main / java / io / realm / internal / android / ISO8601Utils . java 
 @ @ - 89 , 7 + 89 , 7 @ @ public class ISO8601Utils { 
 / / if the value has no time component ( and no time zone ) , we are done 
 boolean hasT = checkOffset ( date , offset , ' T ' ) ; 
 
 - if ( ! hasT & & ( date . length ( ) < = offset ) ) { 
 + if ( ! hasT & & date . length ( ) < = offset ) { 
 Calendar calendar = new GregorianCalendar ( year , month - 1 , day ) ; 
 
 pos . setIndex ( offset ) ; 
 @ @ - 203 , 7 + 203 , 7 @ @ public class ISO8601Utils { 
 } catch ( IllegalArgumentException e ) { 
 fail = e ; 
 } 
 - String input = ( date = = null ) ? null : ( ' " ' + date + " ' " ) ; 
 + String input = date = = null ? null : " ' " + date + " ' " ; 
 String msg = fail . getMessage ( ) ; 
 if ( msg = = null | | msg . isEmpty ( ) ) { 
 msg = " ( " + fail . getClass ( ) . getName ( ) + " ) " ; 
 @ @ - 223 , 7 + 223 , 7 @ @ public class ISO8601Utils { 
 * @ return true if the expected character exist at the given offset 
 * / 
 private static boolean checkOffset ( String value , int offset , char expected ) { 
 - return ( offset < value . length ( ) ) & & ( value . charAt ( offset ) = = expected ) ; 
 + return offset < value . length ( ) & & value . charAt ( offset ) = = expected ; 
 } 
 
 / * * 
 diff - - git a / realm / realm - library / src / main / java / io / realm / internal / async / QueryUpdateTask . java b / realm / realm - library / src / main / java / io / realm / internal / async / QueryUpdateTask . java 
 index 74dd709 . . a31c3cc 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / internal / async / QueryUpdateTask . java 
 + + + b / realm / realm - library / src / main / java / io / realm / internal / async / QueryUpdateTask . java 
 @ @ - 140 , 7 + 140 , 7 @ @ public class QueryUpdateTask implements Runnable { 
 queriesParameters [ i ] [ 2 ] = Table . INFINITE ; 
 queriesParameters [ i ] [ 3 ] = Table . INFINITE ; 
 queriesParameters [ i ] [ 4 ] = queryEntry . queryArguments . columnIndex ; 
 - queriesParameters [ i ] [ 5 ] = ( queryEntry . queryArguments . sortOrder . getValue ( ) ) ? 1 : 0 ; 
 + queriesParameters [ i ] [ 5 ] = queryEntry . queryArguments . sortOrder . getValue ( ) ? 1 : 0 ; 
 break ; 
 } 
 case ArgumentsHolder . TYPE _ FIND _ ALL _ MULTI _ SORTED : 
 diff - - git a / realm / realm - library / src / main / java / io / realm / rx / RealmObservableFactory . java b / realm / realm - library / src / main / java / io / realm / rx / RealmObservableFactory . java 
 index 77fc789 . . be4c7fa 100644 
 - - - a / realm / realm - library / src / main / java / io / realm / rx / RealmObservableFactory . java 
 + + + b / realm / realm - library / src / main / java / io / realm / rx / RealmObservableFactory . java 
 @ @ - 222 , 4 + 222 , 9 @ @ public class RealmObservableFactory implements RxObservableFactory { 
 return o instanceof RealmObservableFactory ; 
 } 
 
 + @ Override 
 + public int hashCode ( ) { 
 + return 37 ; 
 + } 
 + 
 }
