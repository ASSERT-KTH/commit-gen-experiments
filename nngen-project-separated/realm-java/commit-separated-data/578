BLEU SCORE: 0.0020433857192320333

TEST MSG: Updating license
GENERATED MSG: Fixed unit test so it now properly closes it ' s resources .

TEST DIFF (one line): diff - - git a / LICENSE b / LICENSE <nl> index 62e2f9e . . f2d098f 100644 <nl> - - - a / LICENSE <nl> + + + b / LICENSE <nl> @ @ - 4 , 7 + 4 , 7 @ @ TABLE OF CONTENTS <nl> 2 . Realm Components <nl> 3 . Export Compliance <nl> <nl> - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - <nl> + 1 . - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - <nl> <nl> Apache License <nl> Version 2 . 0 , January 2004 <nl> @ @ - 183 , 31 + 183 , 7 @ @ TABLE OF CONTENTS <nl> <nl> END OF TERMS AND CONDITIONS <nl> <nl> - APPENDIX : How to apply the Apache License to your work . <nl> - <nl> - To apply the Apache License to your work , attach the following <nl> - boilerplate notice , with the fields enclosed by brackets " { } " <nl> - replaced with your own identifying information . ( Don ' t include <nl> - the brackets ! ) The text should be enclosed in the appropriate <nl> - comment syntax for the file format . We also recommend that a <nl> - file or class name and description of purpose be included on the <nl> - same " printed page " as the copyright notice for easier <nl> - identification within third - party archives . <nl> - <nl> - Copyright { yyyy } { name of copyright owner } <nl> - <nl> - Licensed under the Apache License , Version 2 . 0 ( the " License " ) ; <nl> - you may not use this file except in compliance with the License . <nl> - You may obtain a copy of the License at <nl> - <nl> - http : / / www . apache . org / licenses / LICENSE - 2 . 0 <nl> - <nl> - Unless required by applicable law or agreed to in writing , software <nl> - distributed under the License is distributed on an " AS IS " BASIS , <nl> - WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND , either express or implied . <nl> - See the License for the specific language governing permissions and <nl> - limitations under the License . <nl> - <nl> + 2 . - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - <nl> <nl> REALM COMPONENTS <nl> <nl> @ @ - 215 , 11 + 191 , 11 @ @ This software contains components with separate copyright and license terms . <nl> Your use of these components is subject to the terms and conditions of the <nl> following licenses . <nl> <nl> - For the Realm Core component <nl> + For the Realm Platform Extensions component <nl> <nl> - Realm Core Binary License <nl> + Realm Platform Extensions License <nl> <nl> - Copyright ( c ) 2011 - 2015 Realm Inc All rights reserved <nl> + Copyright ( c ) 2011 - 2014 Realm Inc All rights reserved <nl> <nl> Redistribution and use in binary form , with or without modification , is <nl> permitted provided that the following conditions are met : <nl> @ @ - 250 , 6 + 226 , 8 @ @ For the Realm Core component <nl> ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE , EVEN IF ADVISED OF THE <nl> POSSIBILITY OF SUCH DAMAGE . <nl> <nl> + 3 . - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - <nl> + <nl> EXPORT COMPLIANCE <nl> <nl> You understand that the Software may contain cryptographic functions that may be
NEAREST DIFF (one line): diff - - git a / realm / src / androidTest / java / io / realm / RealmResultsIteratorTests . java b / realm / src / androidTest / java / io / realm / RealmResultsIteratorTests . java <nl> index 092c16a . . 6d2a71a 100644 <nl> - - - a / realm / src / androidTest / java / io / realm / RealmResultsIteratorTests . java <nl> + + + b / realm / src / androidTest / java / io / realm / RealmResultsIteratorTests . java <nl> @ @ - 1 , 18 + 1 , 18 @ @ <nl> / * <nl> - * Copyright 2014 Realm Inc . <nl> - * <nl> - * Licensed under the Apache License , Version 2 . 0 ( the " License " ) ; <nl> - * you may not use this file except in compliance with the License . <nl> - * You may obtain a copy of the License at <nl> - * <nl> - * http : / / www . apache . org / licenses / LICENSE - 2 . 0 <nl> - * <nl> - * Unless required by applicable law or agreed to in writing , software <nl> - * distributed under the License is distributed on an " AS IS " BASIS , <nl> - * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND , either express or implied . <nl> - * See the License for the specific language governing permissions and <nl> - * limitations under the License . <nl> - * / <nl> + * Copyright 2014 Realm Inc . <nl> + * <nl> + * Licensed under the Apache License , Version 2 . 0 ( the " License " ) ; <nl> + * you may not use this file except in compliance with the License . <nl> + * You may obtain a copy of the License at <nl> + * <nl> + * http : / / www . apache . org / licenses / LICENSE - 2 . 0 <nl> + * <nl> + * Unless required by applicable law or agreed to in writing , software <nl> + * distributed under the License is distributed on an " AS IS " BASIS , <nl> + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND , either express or implied . <nl> + * See the License for the specific language governing permissions and <nl> + * limitations under the License . <nl> + * / <nl> package io . realm ; <nl> <nl> import android . test . AndroidTestCase ; <nl> @ @ - 55 , 7 + 55 , 6 @ @ public class RealmResultsIteratorTests extends AndroidTestCase { <nl> <nl> @ Override <nl> protected void tearDown ( ) throws Exception { <nl> - super . tearDown ( ) ; <nl> testRealm . close ( ) ; <nl> } <nl> <nl> @ @ - 249 , 6 + 248 , 8 @ @ public class RealmResultsIteratorTests extends AndroidTestCase { <nl> <nl> / / Using size ( ) as heuristic for concurrent modifications is dangerous as we might skip <nl> / / elements . <nl> + / / TODO Possible bug : Why does this interfer with reference counting check . They are separate Realm files . <nl> + / / TODO Possible bug : Why is realm . refresh ( ) needed ? <nl> public void testRemovingObjectsFromOtherThreadWhileIterating ( ) throws InterruptedException , ExecutionException { <nl> <nl> / / Prefill <nl> @ @ - 274 , 13 + 275 , 21 @ @ public class RealmResultsIteratorTests extends AndroidTestCase { <nl> Realm backgroundRealm = Realm . getInstance ( getContext ( ) , " test " , false ) ; <nl> backgroundRealm . beginTransaction ( ) ; <nl> RealmResults < AllTypes > backgroundResult = backgroundRealm . allObjects ( AllTypes . class ) ; <nl> - if ( backgroundResult . size ( ) ! = 2 ) return false ; <nl> + if ( backgroundResult . size ( ) ! = 2 ) { <nl> + backgroundRealm . close ( ) ; <nl> + return false ; <nl> + } <nl> backgroundResult . sort ( " columnLong " , RealmResults . SORT _ ORDER _ ASCENDING ) . remove ( 0 ) ; <nl> AllTypes o3 = backgroundRealm . createObject ( AllTypes . class ) ; <nl> o3 . setColumnLong ( 3 ) ; <nl> backgroundRealm . commitTransaction ( ) ; <nl> - if ( backgroundResult . size ( ) ! = 2 ) return false ; <nl> - return true ; <nl> + int size = backgroundResult . size ( ) ; <nl> + backgroundRealm . close ( ) ; <nl> + if ( size ! = 2 ) { <nl> + return false ; <nl> + } else { <nl> + return true ; <nl> + } <nl> } <nl> } ; <nl> <nl> @ @ - 297 , 6 + 306 , 8 @ @ public class RealmResultsIteratorTests extends AndroidTestCase { <nl> fail ( " Failed to detect the list was modified , but retained it ' s size while iterating " ) ; <nl> } catch ( ConcurrentModificationException ignored ) { <nl> return ; <nl> + } finally { <nl> + realm . close ( ) ; <nl> } <nl> } <nl>

TEST DIFF:
diff - - git a / LICENSE b / LICENSE 
 index 62e2f9e . . f2d098f 100644 
 - - - a / LICENSE 
 + + + b / LICENSE 
 @ @ - 4 , 7 + 4 , 7 @ @ TABLE OF CONTENTS 
 2 . Realm Components 
 3 . Export Compliance 
 
 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
 + 1 . - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
 
 Apache License 
 Version 2 . 0 , January 2004 
 @ @ - 183 , 31 + 183 , 7 @ @ TABLE OF CONTENTS 
 
 END OF TERMS AND CONDITIONS 
 
 - APPENDIX : How to apply the Apache License to your work . 
 - 
 - To apply the Apache License to your work , attach the following 
 - boilerplate notice , with the fields enclosed by brackets " { } " 
 - replaced with your own identifying information . ( Don ' t include 
 - the brackets ! ) The text should be enclosed in the appropriate 
 - comment syntax for the file format . We also recommend that a 
 - file or class name and description of purpose be included on the 
 - same " printed page " as the copyright notice for easier 
 - identification within third - party archives . 
 - 
 - Copyright { yyyy } { name of copyright owner } 
 - 
 - Licensed under the Apache License , Version 2 . 0 ( the " License " ) ; 
 - you may not use this file except in compliance with the License . 
 - You may obtain a copy of the License at 
 - 
 - http : / / www . apache . org / licenses / LICENSE - 2 . 0 
 - 
 - Unless required by applicable law or agreed to in writing , software 
 - distributed under the License is distributed on an " AS IS " BASIS , 
 - WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND , either express or implied . 
 - See the License for the specific language governing permissions and 
 - limitations under the License . 
 - 
 + 2 . - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
 
 REALM COMPONENTS 
 
 @ @ - 215 , 11 + 191 , 11 @ @ This software contains components with separate copyright and license terms . 
 Your use of these components is subject to the terms and conditions of the 
 following licenses . 
 
 - For the Realm Core component 
 + For the Realm Platform Extensions component 
 
 - Realm Core Binary License 
 + Realm Platform Extensions License 
 
 - Copyright ( c ) 2011 - 2015 Realm Inc All rights reserved 
 + Copyright ( c ) 2011 - 2014 Realm Inc All rights reserved 
 
 Redistribution and use in binary form , with or without modification , is 
 permitted provided that the following conditions are met : 
 @ @ - 250 , 6 + 226 , 8 @ @ For the Realm Core component 
 ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE , EVEN IF ADVISED OF THE 
 POSSIBILITY OF SUCH DAMAGE . 
 
 + 3 . - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - 
 + 
 EXPORT COMPLIANCE 
 
 You understand that the Software may contain cryptographic functions that may be

NEAREST DIFF:
diff - - git a / realm / src / androidTest / java / io / realm / RealmResultsIteratorTests . java b / realm / src / androidTest / java / io / realm / RealmResultsIteratorTests . java 
 index 092c16a . . 6d2a71a 100644 
 - - - a / realm / src / androidTest / java / io / realm / RealmResultsIteratorTests . java 
 + + + b / realm / src / androidTest / java / io / realm / RealmResultsIteratorTests . java 
 @ @ - 1 , 18 + 1 , 18 @ @ 
 / * 
 - * Copyright 2014 Realm Inc . 
 - * 
 - * Licensed under the Apache License , Version 2 . 0 ( the " License " ) ; 
 - * you may not use this file except in compliance with the License . 
 - * You may obtain a copy of the License at 
 - * 
 - * http : / / www . apache . org / licenses / LICENSE - 2 . 0 
 - * 
 - * Unless required by applicable law or agreed to in writing , software 
 - * distributed under the License is distributed on an " AS IS " BASIS , 
 - * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND , either express or implied . 
 - * See the License for the specific language governing permissions and 
 - * limitations under the License . 
 - * / 
 + * Copyright 2014 Realm Inc . 
 + * 
 + * Licensed under the Apache License , Version 2 . 0 ( the " License " ) ; 
 + * you may not use this file except in compliance with the License . 
 + * You may obtain a copy of the License at 
 + * 
 + * http : / / www . apache . org / licenses / LICENSE - 2 . 0 
 + * 
 + * Unless required by applicable law or agreed to in writing , software 
 + * distributed under the License is distributed on an " AS IS " BASIS , 
 + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND , either express or implied . 
 + * See the License for the specific language governing permissions and 
 + * limitations under the License . 
 + * / 
 package io . realm ; 
 
 import android . test . AndroidTestCase ; 
 @ @ - 55 , 7 + 55 , 6 @ @ public class RealmResultsIteratorTests extends AndroidTestCase { 
 
 @ Override 
 protected void tearDown ( ) throws Exception { 
 - super . tearDown ( ) ; 
 testRealm . close ( ) ; 
 } 
 
 @ @ - 249 , 6 + 248 , 8 @ @ public class RealmResultsIteratorTests extends AndroidTestCase { 
 
 / / Using size ( ) as heuristic for concurrent modifications is dangerous as we might skip 
 / / elements . 
 + / / TODO Possible bug : Why does this interfer with reference counting check . They are separate Realm files . 
 + / / TODO Possible bug : Why is realm . refresh ( ) needed ? 
 public void testRemovingObjectsFromOtherThreadWhileIterating ( ) throws InterruptedException , ExecutionException { 
 
 / / Prefill 
 @ @ - 274 , 13 + 275 , 21 @ @ public class RealmResultsIteratorTests extends AndroidTestCase { 
 Realm backgroundRealm = Realm . getInstance ( getContext ( ) , " test " , false ) ; 
 backgroundRealm . beginTransaction ( ) ; 
 RealmResults < AllTypes > backgroundResult = backgroundRealm . allObjects ( AllTypes . class ) ; 
 - if ( backgroundResult . size ( ) ! = 2 ) return false ; 
 + if ( backgroundResult . size ( ) ! = 2 ) { 
 + backgroundRealm . close ( ) ; 
 + return false ; 
 + } 
 backgroundResult . sort ( " columnLong " , RealmResults . SORT _ ORDER _ ASCENDING ) . remove ( 0 ) ; 
 AllTypes o3 = backgroundRealm . createObject ( AllTypes . class ) ; 
 o3 . setColumnLong ( 3 ) ; 
 backgroundRealm . commitTransaction ( ) ; 
 - if ( backgroundResult . size ( ) ! = 2 ) return false ; 
 - return true ; 
 + int size = backgroundResult . size ( ) ; 
 + backgroundRealm . close ( ) ; 
 + if ( size ! = 2 ) { 
 + return false ; 
 + } else { 
 + return true ; 
 + } 
 } 
 } ; 
 
 @ @ - 297 , 6 + 306 , 8 @ @ public class RealmResultsIteratorTests extends AndroidTestCase { 
 fail ( " Failed to detect the list was modified , but retained it ' s size while iterating " ) ; 
 } catch ( ConcurrentModificationException ignored ) { 
 return ; 
 + } finally { 
 + realm . close ( ) ; 
 } 
 } 

